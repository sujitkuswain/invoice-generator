(self.webpackChunkinvoice_generator=self.webpackChunkinvoice_generator||[]).push([[792],{2390:(rs,yi,Kt)=>{"use strict";var d=Kt(4438);let Jn=null;function Cn(){return Jn}class wn{}const Be=new d.nKC("");let ln=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:()=>(0,d.WQX)(_t),providedIn:"platform"})}}return t})(),_t=(()=>{class t extends ln{constructor(){super(),this._doc=(0,d.WQX)(Be),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Cn().getBaseHref(this._doc)}onPopState(n){const i=Cn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=Cn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function He(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function bt(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function rt(t){return t&&"?"!==t[0]?"?"+t:t}let Ft=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:()=>(0,d.WQX)(xt),providedIn:"root"})}}return t})();const Mt=new d.nKC("");let xt=(()=>{class t extends Ft{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,d.WQX)(Be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return He(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+rt(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,s){const o=this.prepareExternalUrl(r+rt(s));this._platformLocation.pushState(n,i,o)}replaceState(n,i,r,s){const o=this.prepareExternalUrl(r+rt(s));this._platformLocation.replaceState(n,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(ln),d.KVO(Mt,8))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ae=(()=>{class t{constructor(n){this._subject=new d.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const i=this._locationStrategy.getBaseHref();this._basePath=function Fe(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(bt(ut(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+rt(i))}normalize(n){return t.stripTrailingSlash(function vt(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,ut(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+rt(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+rt(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}static{this.normalizeQueryParams=rt}static{this.joinWithSlash=He}static{this.stripTrailingSlash=bt}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(Ft))}}static{this.\u0275prov=d.jDH({token:t,factory:()=>function Xe(){return new Ae((0,d.KVO)(Ft))}(),providedIn:"root"})}}return t})();function ut(t){return t.replace(/\/index.html$/,"")}var Rt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Rt||{}),xe=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(xe||{}),We=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(We||{});const qt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Kn(t,e){return Dl((0,d.H5H)(t)[d.KH2.DateFormat],e)}function gi(t,e){return Dl((0,d.H5H)(t)[d.KH2.TimeFormat],e)}function oi(t,e){return Dl((0,d.H5H)(t)[d.KH2.DateTimeFormat],e)}function Fn(t,e){const n=(0,d.H5H)(t),i=n[d.KH2.NumberSymbols][e];if(typeof i>"u"){if(e===qt.CurrencyDecimal)return n[d.KH2.NumberSymbols][qt.Decimal];if(e===qt.CurrencyGroup)return n[d.KH2.NumberSymbols][qt.Group]}return i}function Dh(t){if(!t[d.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[d.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Dl(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Ad(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const Yv=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,mb={},FN=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var nu=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(nu||{}),Wi=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Wi||{}),Mi=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Mi||{});function Rd(t,e,n,i){let r=function Rl(t){if(VN(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[r,s=1,o=1]=t.split("-").map(c=>+c);return ka(r,s-1,o)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let i;if(i=t.match(Yv))return function eB(t){const e=new Date(0);let n=0,i=0;const r=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,c=Number(t[5]||0)-i,h=Number(t[6]||0),p=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,c,h,p),e}(i)}const e=new Date(t);if(!VN(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=Uu(n,e)||e;let c,o=[];for(;e;){if(c=FN.exec(e),!c){o.push(e);break}{o=o.concat(c.slice(1));const m=o.pop();if(!m)break;e=m}}let h=r.getTimezoneOffset();i&&(h=kN(i,h),r=function jA(t,e,n){const i=n?-1:1,r=t.getTimezoneOffset();return function LN(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,i*(kN(e,r)-r))}(r,i,!0));let p="";return o.forEach(m=>{const y=function ca(t){if(Kf[t])return Kf[t];let e;switch(t){case"G":case"GG":case"GGG":e=Yr(Mi.Eras,xe.Abbreviated);break;case"GGGG":e=Yr(Mi.Eras,xe.Wide);break;case"GGGGG":e=Yr(Mi.Eras,xe.Narrow);break;case"y":e=Ii(Wi.FullYear,1,0,!1,!0);break;case"yy":e=Ii(Wi.FullYear,2,0,!0,!0);break;case"yyy":e=Ii(Wi.FullYear,3,0,!1,!0);break;case"yyyy":e=Ii(Wi.FullYear,4,0,!1,!0);break;case"Y":e=di(1);break;case"YY":e=di(2,!0);break;case"YYY":e=di(3);break;case"YYYY":e=di(4);break;case"M":case"L":e=Ii(Wi.Month,1,1);break;case"MM":case"LL":e=Ii(Wi.Month,2,1);break;case"MMM":e=Yr(Mi.Months,xe.Abbreviated);break;case"MMMM":e=Yr(Mi.Months,xe.Wide);break;case"MMMMM":e=Yr(Mi.Months,xe.Narrow);break;case"LLL":e=Yr(Mi.Months,xe.Abbreviated,Rt.Standalone);break;case"LLLL":e=Yr(Mi.Months,xe.Wide,Rt.Standalone);break;case"LLLLL":e=Yr(Mi.Months,xe.Narrow,Rt.Standalone);break;case"w":e=kg(1);break;case"ww":e=kg(2);break;case"W":e=kg(1,!0);break;case"d":e=Ii(Wi.Date,1);break;case"dd":e=Ii(Wi.Date,2);break;case"c":case"cc":e=Ii(Wi.Day,1);break;case"ccc":e=Yr(Mi.Days,xe.Abbreviated,Rt.Standalone);break;case"cccc":e=Yr(Mi.Days,xe.Wide,Rt.Standalone);break;case"ccccc":e=Yr(Mi.Days,xe.Narrow,Rt.Standalone);break;case"cccccc":e=Yr(Mi.Days,xe.Short,Rt.Standalone);break;case"E":case"EE":case"EEE":e=Yr(Mi.Days,xe.Abbreviated);break;case"EEEE":e=Yr(Mi.Days,xe.Wide);break;case"EEEEE":e=Yr(Mi.Days,xe.Narrow);break;case"EEEEEE":e=Yr(Mi.Days,xe.Short);break;case"a":case"aa":case"aaa":e=Yr(Mi.DayPeriods,xe.Abbreviated);break;case"aaaa":e=Yr(Mi.DayPeriods,xe.Wide);break;case"aaaaa":e=Yr(Mi.DayPeriods,xe.Narrow);break;case"b":case"bb":case"bbb":e=Yr(Mi.DayPeriods,xe.Abbreviated,Rt.Standalone,!0);break;case"bbbb":e=Yr(Mi.DayPeriods,xe.Wide,Rt.Standalone,!0);break;case"bbbbb":e=Yr(Mi.DayPeriods,xe.Narrow,Rt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Yr(Mi.DayPeriods,xe.Abbreviated,Rt.Format,!0);break;case"BBBB":e=Yr(Mi.DayPeriods,xe.Wide,Rt.Format,!0);break;case"BBBBB":e=Yr(Mi.DayPeriods,xe.Narrow,Rt.Format,!0);break;case"h":e=Ii(Wi.Hours,1,-12);break;case"hh":e=Ii(Wi.Hours,2,-12);break;case"H":e=Ii(Wi.Hours,1);break;case"HH":e=Ii(Wi.Hours,2);break;case"m":e=Ii(Wi.Minutes,1);break;case"mm":e=Ii(Wi.Minutes,2);break;case"s":e=Ii(Wi.Seconds,1);break;case"ss":e=Ii(Wi.Seconds,2);break;case"S":e=Ii(Wi.FractionalSeconds,1);break;case"SS":e=Ii(Wi.FractionalSeconds,2);break;case"SSS":e=Ii(Wi.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Fg(nu.Short);break;case"ZZZZZ":e=Fg(nu.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Fg(nu.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Fg(nu.Long);break;default:return null}return Kf[t]=e,e}(m);p+=y?y(r,n,h):"''"===m?"'":m.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),p}function ka(t,e,n){const i=new Date(0);return i.setFullYear(t,e,n),i.setHours(0,0,0),i}function Uu(t,e){const n=function Tt(t){return(0,d.H5H)(t)[d.KH2.LocaleId]}(t);if(mb[n]??={},mb[n][e])return mb[n][e];let i="";switch(e){case"shortDate":i=Kn(t,We.Short);break;case"mediumDate":i=Kn(t,We.Medium);break;case"longDate":i=Kn(t,We.Long);break;case"fullDate":i=Kn(t,We.Full);break;case"shortTime":i=gi(t,We.Short);break;case"mediumTime":i=gi(t,We.Medium);break;case"longTime":i=gi(t,We.Long);break;case"fullTime":i=gi(t,We.Full);break;case"short":const r=Uu(t,"shortTime"),s=Uu(t,"shortDate");i=Og(oi(t,We.Short),[r,s]);break;case"medium":const o=Uu(t,"mediumTime"),c=Uu(t,"mediumDate");i=Og(oi(t,We.Medium),[o,c]);break;case"long":const h=Uu(t,"longTime"),p=Uu(t,"longDate");i=Og(oi(t,We.Long),[h,p]);break;case"full":const m=Uu(t,"fullTime"),y=Uu(t,"fullDate");i=Og(oi(t,We.Full),[m,y])}return i&&(mb[n][e]=i),i}function Og(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,i){return null!=e&&i in e?e[i]:n})),t}function Kr(t,e,n="-",i,r){let s="";(t<0||r&&t<=0)&&(r?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return i&&(o=o.slice(o.length-e)),s+o}function Ii(t,e,n=0,i=!1,r=!1){return function(s,o){let c=function us(t,e){switch(t){case Wi.FullYear:return e.getFullYear();case Wi.Month:return e.getMonth();case Wi.Date:return e.getDate();case Wi.Hours:return e.getHours();case Wi.Minutes:return e.getMinutes();case Wi.Seconds:return e.getSeconds();case Wi.FractionalSeconds:return e.getMilliseconds();case Wi.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||c>-n)&&(c+=n),t===Wi.Hours)0===c&&-12===n&&(c=12);else if(t===Wi.FractionalSeconds)return function la(t,e){return Kr(t,3).substring(0,e)}(c,e);const h=Fn(o,qt.MinusSign);return Kr(c,e,h,i,r)}}function Yr(t,e,n=Rt.Format,i=!1){return function(r,s){return function Ar(t,e,n,i,r,s){switch(n){case Mi.Months:return function mt(t,e,n){const i=(0,d.H5H)(t),s=Dl([i[d.KH2.MonthsFormat],i[d.KH2.MonthsStandalone]],e);return Dl(s,n)}(e,r,i)[t.getMonth()];case Mi.Days:return function cn(t,e,n){const i=(0,d.H5H)(t),s=Dl([i[d.KH2.DaysFormat],i[d.KH2.DaysStandalone]],e);return Dl(s,n)}(e,r,i)[t.getDay()];case Mi.DayPeriods:const o=t.getHours(),c=t.getMinutes();if(s){const p=function qv(t){const e=(0,d.H5H)(t);return Dh(e),(e[d.KH2.ExtraData][2]||[]).map(i=>"string"==typeof i?Ad(i):[Ad(i[0]),Ad(i[1])])}(e),m=function Kv(t,e,n){const i=(0,d.H5H)(t);Dh(i);const s=Dl([i[d.KH2.ExtraData][0],i[d.KH2.ExtraData][1]],e)||[];return Dl(s,n)||[]}(e,r,i),y=p.findIndex(I=>{if(Array.isArray(I)){const[L,U]=I,X=o>=L.hours&&c>=L.minutes,Q=o<U.hours||o===U.hours&&c<U.minutes;if(L.hours<U.hours){if(X&&Q)return!0}else if(X||Q)return!0}else if(I.hours===o&&I.minutes===c)return!0;return!1});if(-1!==y)return m[y]}return function yt(t,e,n){const i=(0,d.H5H)(t),s=Dl([i[d.KH2.DayPeriodsFormat],i[d.KH2.DayPeriodsStandalone]],e);return Dl(s,n)}(e,r,i)[o<12?0:1];case Mi.Eras:return function Hn(t,e){return Dl((0,d.H5H)(t)[d.KH2.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(r,s,t,e,n,i)}}function Fg(t){return function(e,n,i){const r=-1*i,s=Fn(n,qt.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case nu.Short:return(r>=0?"+":"")+Kr(o,2,s)+Kr(Math.abs(r%60),2,s);case nu.ShortGMT:return"GMT"+(r>=0?"+":"")+Kr(o,1,s);case nu.Long:return"GMT"+(r>=0?"+":"")+Kr(o,2,s)+":"+Kr(Math.abs(r%60),2,s);case nu.Extended:return 0===i?"Z":(r>=0?"+":"")+Kr(o,2,s)+":"+Kr(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}const $s=0,Rh=4;function zA(t){const e=t.getDay(),n=0===e?-3:Rh-e;return ka(t.getFullYear(),t.getMonth(),t.getDate()+n)}function kg(t,e=!1){return function(n,i){let r;if(e){const s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();r=1+Math.floor((o+s)/7)}else{const s=zA(n),o=function WA(t){const e=ka(t,$s,1).getDay();return ka(t,0,1+(e<=Rh?Rh:Rh+7)-e)}(s.getFullYear()),c=s.getTime()-o.getTime();r=1+Math.round(c/6048e5)}return Kr(r,t,Fn(i,qt.MinusSign))}}function di(t,e=!1){return function(n,i){return Kr(zA(n).getFullYear(),t,Fn(i,qt.MinusSign),e)}}const Kf={};function kN(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function VN(t){return t instanceof Date&&!isNaN(t.valueOf())}function Xv(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const i=n.indexOf("="),[r,s]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}const Eb=/\s+/,qA=[];let Vi=(()=>{class t{constructor(n,i){this._ngEl=n,this._renderer=i,this.initialClasses=qA,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(Eb):qA}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(Eb):n}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const i of n)this._updateState(i,!0);else if(null!=n)for(const i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){const r=this.stateMap.get(n);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const i=n[0],r=n[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(n,i){(n=n.trim()).length>0&&n.split(Eb).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.aKT),d.rXU(d.sFG))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","ngClass",""]],inputs:{klass:[d.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})(),Lg=(()=>{class t{constructor(n,i){this._viewContainer=n,this._context=new KA,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){BN("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){BN("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.c1b),d.rXU(d.C4Q))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})();class KA{constructor(){this.$implicit=null,this.ngIf=null}}function BN(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,d.Tbb)(e)}'.`)}let Er=(()=>{class t{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,i,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,r),get:(n,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.c1b))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.OA$]})}}return t})();const xb=new d.nKC(""),Ks=new d.nKC("");let Cs=(()=>{class t{constructor(n,i,r){this.locale=n,this.defaultTimezone=i,this.defaultOptions=r}transform(n,i,r,s){if(null==n||""===n||n!=n)return null;try{return Rd(n,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw function Zn(t,e){return new d.wOt(2100,!1)}()}}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.xe9,16),d.rXU(xb,24),d.rXU(Ks,24))}}static{this.\u0275pipe=d.EJ8({name:"date",type:t,pure:!0,standalone:!0})}}return t})(),Va=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({})}}return t})();const np="browser";function ti(t){return t===np}function hs(t){return"server"===t}class Ga{}class x extends wn{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class R extends x{static makeCurrent(){!function rn(t){Jn??=t}(new R)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function F(){return O=O||document.querySelector("base"),O?O.getAttribute("href"):null}();return null==n?null:function V(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){O=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Xv(document.cookie,e)}}let O=null,J=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac})}}return t})();const ee=new d.nKC("");let se=(()=>{class t{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(s=>s.supports(n)),!i)throw new d.wOt(5101,!1);return this._eventNameToPlugin.set(n,i),i}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(ee),d.KVO(d.SKi))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac})}}return t})();class z{constructor(e){this._doc=e}}const ye="ng-app-id";let fe=(()=>{class t{constructor(n,i,r,s={}){this.doc=n,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=hs(s),this.resetHostNodes()}addStyles(n){for(const i of n)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(n){for(const i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){const i=this.styleRef;i.get(n)?.elements?.forEach(r=>r.remove()),i.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${ye}="${this.appId}"]`);if(n?.length){const i=new Map;return n.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(n,i){const r=this.styleRef;if(r.has(n)){const s=r.get(n);return s.usage+=i,s.usage}return r.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===n)return r.delete(i),s.removeAttribute(ye),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(ye,this.appId),n.appendChild(o),o}}addStyleToHost(n,i){const r=this.getStyleElement(n,i),s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(Be),d.KVO(d.sZ2),d.KVO(d.BIS,8),d.KVO(d.Agw))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac})}}return t})();const Ce={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ae=/%COMP%/g,Ht=new d.nKC("",{providedIn:"root",factory:()=>!0});function lt(t,e){return e.map(n=>n.replace(ae,t))}let kt=(()=>{class t{constructor(n,i,r,s,o,c,h,p=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=h,this.nonce=p,this.rendererByCompId=new Map,this.platformIsServer=hs(c),this.defaultRenderer=new ce(n,o,h,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===d.gXe.ShadowDom&&(i={...i,encapsulation:d.gXe.Emulated});const r=this.getOrCreateRenderer(n,i);return r instanceof Pt?r.applyToHost(n):r instanceof wt&&r.applyStyles(),r}getOrCreateRenderer(n,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,c=this.ngZone,h=this.eventManager,p=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(i.encapsulation){case d.gXe.Emulated:s=new Pt(h,p,i,this.appId,m,o,c,y);break;case d.gXe.ShadowDom:return new It(h,p,n,i,o,c,this.nonce,y);default:s=new wt(h,p,i,m,o,c,y)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(se),d.KVO(fe),d.KVO(d.sZ2),d.KVO(Ht),d.KVO(Be),d.KVO(d.Agw),d.KVO(d.SKi),d.KVO(d.BIS))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac})}}return t})();class ce{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Ce[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(_e(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(_e(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new d.wOt(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;const s=Ce[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){const r=Ce[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(d.czy.DashCase|d.czy.Important)?e.style.setProperty(n,i,r&d.czy.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&d.czy.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){null!=e&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if("string"==typeof e&&!(e=Cn().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function _e(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class It extends ce{constructor(e,n,i,r,s,o,c,h){super(e,s,o,h),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const p=lt(r.id,r.styles);for(const m of p){const y=document.createElement("style");c&&y.setAttribute("nonce",c),y.textContent=m,this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class wt extends ce{constructor(e,n,i,r,s,o,c,h){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=h?lt(h,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Pt extends wt{constructor(e,n,i,r,s,o,c,h){const p=r+"-"+i.id;super(e,n,i,s,o,c,h,p),this.contentAttr=function at(t){return"_ngcontent-%COMP%".replace(ae,t)}(p),this.hostAttr=function Pe(t){return"_nghost-%COMP%".replace(ae,t)}(p)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}}let nt=(()=>{class t extends z{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(Be))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac})}}return t})();const Vt=["alt","control","meta","shift"],jt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},En={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ie=(()=>{class t extends z{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,i,r){const s=t.parseEventName(i),o=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cn().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const i=n.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=t._normalizeKey(i.pop());let o="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),o="code."),Vt.forEach(p=>{const m=i.indexOf(p);m>-1&&(i.splice(m,1),o+=p+".")}),o+=s,0!=i.length||0===s.length)return null;const h={};return h.domEventName=r,h.fullKey=o,h}static matchEventFullKeyCode(n,i){let r=jt[n.key]||n.key,s="";return i.indexOf("code.")>-1&&(r=n.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Vt.forEach(o=>{o!==r&&(0,En[o])(n)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(n,i,r){return s=>{t.matchEventFullKeyCode(s,n)&&r.runGuarded(()=>i(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(Be))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac})}}return t})();function Ge(t){return{appProviders:[...hi,...t?.providers??[]],platformProviders:dn}}const dn=[{provide:d.Agw,useValue:np},{provide:d.PLl,useValue:function $e(){R.makeCurrent()},multi:!0},{provide:Be,useFactory:function Ct(){return(0,d.TL$)(document),document},deps:[]}],hi=[{provide:d.H8p,useValue:"root"},{provide:d.zcH,useFactory:function Et(){return new d.zcH},deps:[]},{provide:ee,useClass:nt,multi:!0,deps:[Be,d.SKi,d.Agw]},{provide:ee,useClass:ie,multi:!0,deps:[Be]},kt,fe,se,{provide:d._9s,useExisting:kt},{provide:Ga,useClass:J,deps:[]},[]];let jn=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(Be))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),fr=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:function(i){let r=null;return r=i?new(i||t):d.KVO(au),r},providedIn:"root"})}}return t})(),au=(()=>{class t extends fr{constructor(n){super(),this._doc=n}sanitize(n,i){if(null==i)return null;switch(n){case d.WPN.NONE:return i;case d.WPN.HTML:return(0,d.ZF7)(i,"HTML")?(0,d.rcV)(i):(0,d.h9k)(this._doc,String(i)).toString();case d.WPN.STYLE:return(0,d.ZF7)(i,"Style")?(0,d.rcV)(i):i;case d.WPN.SCRIPT:if((0,d.ZF7)(i,"Script"))return(0,d.rcV)(i);throw new d.wOt(5200,!1);case d.WPN.URL:return(0,d.ZF7)(i,"URL")?(0,d.rcV)(i):(0,d.$MX)(String(i));case d.WPN.RESOURCE_URL:if((0,d.ZF7)(i,"ResourceURL"))return(0,d.rcV)(i);throw new d.wOt(5201,!1);default:throw new d.wOt(5202,!1)}}bypassSecurityTrustHtml(n){return(0,d.Kcf)(n)}bypassSecurityTrustStyle(n){return(0,d.cWb)(n)}bypassSecurityTrustScript(n){return(0,d.UyX)(n)}bypassSecurityTrustUrl(n){return(0,d.osQ)(n)}bypassSecurityTrustResourceUrl(n){return(0,d.e5t)(n)}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(Be))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ln=Kt(1985),vi=Kt(8071);function Ha(t){return!!t&&(t instanceof Ln.c||(0,vi.T)(t.lift)&&(0,vi.T)(t.subscribe))}function ni(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function dl(t){return this instanceof dl?(this.v=t,this):new dl(t)}function Ko(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Cc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(o){return new Promise(function(c,h){!function r(s,o,c,h){Promise.resolve(h).then(function(p){s({value:p,done:c})},o)}(c,h,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ci=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function hp(t){return(0,vi.T)(t?.then)}var Kg=Kt(3494);function u_(t){return(0,vi.T)(t[Kg.s])}function Ol(t){return Symbol.asyncIterator&&(0,vi.T)(t?.[Symbol.asyncIterator])}function Bh(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Tc=function Ea(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Yg(t){return(0,vi.T)(t?.[Tc])}function d_(t){return function Ec(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),s=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",function o(L){return function(U){return Promise.resolve(U).then(L,y)}}),r[Symbol.asyncIterator]=function(){return this},r;function c(L,U){i[L]&&(r[L]=function(X){return new Promise(function(Q,pe){s.push([L,X,Q,pe])>1||h(L,X)})},U&&(r[L]=U(r[L])))}function h(L,U){try{!function p(L){L.value instanceof dl?Promise.resolve(L.value.v).then(m,y):I(s[0][2],L)}(i[L](U))}catch(X){I(s[0][3],X)}}function m(L){h("next",L)}function y(L){h("throw",L)}function I(L,U){L(U),s.shift(),s.length&&h(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:i,done:r}=yield dl(n.read());if(r)return yield dl(void 0);yield yield dl(i)}}finally{n.releaseLock()}})}function Xg(t){return(0,vi.T)(t?.getReader)}var Hb=Kt(5334);function bo(t){if(t instanceof Ln.c)return t;if(null!=t){if(u_(t))return function Bt(t){return new Ln.c(e=>{const n=t[Kg.s]();if((0,vi.T)(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(ci(t))return function Bi(t){return new Ln.c(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(hp(t))return function h_(t){return new Ln.c(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Hb.m)})}(t);if(Ol(t))return vr(t);if(Yg(t))return function f_(t){return new Ln.c(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Xg(t))return function cu(t){return vr(d_(t))}(t)}throw Bh(t)}function vr(t){return new Ln.c(e=>{(function uu(t,e){var n,i,r,s;return function yc(t,e,n,i){return new(n||(n=Promise))(function(s,o){function c(m){try{p(i.next(m))}catch(y){o(y)}}function h(m){try{p(i.throw(m))}catch(y){o(y)}}function p(m){m.done?s(m.value):function r(s){return s instanceof n?s:new n(function(o){o(s)})}(m.value).then(c,h)}p((i=i.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Ko(t);!(i=yield n.next()).done;)if(e.next(i.value),e.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function ps(t,e,n,i=0,r=!1){const s=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}var Or=Kt(9974),Oi=Kt(4360);function fp(t,e=0){return(0,Or.N)((n,i)=>{n.subscribe((0,Oi._)(i,r=>ps(i,t,()=>i.next(r),e),()=>ps(i,t,()=>i.complete(),e),r=>ps(i,t,()=>i.error(r),e)))})}function pp(t,e=0){return(0,Or.N)((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function Sa(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ln.c(n=>{ps(n,e,()=>{const i=t[Symbol.asyncIterator]();ps(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function Jr(t,e){return e?function gp(t,e){if(null!=t){if(u_(t))return function Si(t,e){return bo(t).pipe(pp(e),fp(e))}(t,e);if(ci(t))return function Ic(t,e){return new Ln.c(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}(t,e);if(hp(t))return function Yo(t,e){return bo(t).pipe(pp(e),fp(e))}(t,e);if(Ol(t))return Sa(t,e);if(Yg(t))return function Ac(t,e){return new Ln.c(n=>{let i;return ps(n,e,()=>{i=t[Tc](),ps(n,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void n.error(o)}s?n.complete():n.next(r)},0,!0)}),()=>(0,vi.T)(i?.return)&&i.return()})}(t,e);if(Xg(t))return function Fl(t,e){return Sa(d_(t),e)}(t,e)}throw Bh(t)}(t,e):bo(t)}function p_(t){return t&&(0,vi.T)(t.schedule)}function Qg(t){return t[t.length-1]}function mp(t){return(0,vi.T)(Qg(t))?t.pop():void 0}function Dc(t){return p_(Qg(t))?t.pop():void 0}function On(...t){return Jr(t,Dc(t))}var Fo=Kt(4412);const du=(0,Kt(1853).L)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Hh}=Array,{getPrototypeOf:Jg,prototype:Zg,keys:em}=Object;function Uh(t){if(1===t.length){const e=t[0];if(Hh(e))return{args:e,keys:null};if(function hu(t){return t&&"object"==typeof t&&Jg(t)===Zg}(e)){const n=em(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}var Rr=Kt(3669),ei=Kt(6354);const{isArray:pr}=Array;function Wh(t){return(0,ei.T)(e=>function kl(t,e){return pr(e)?t(...e):t(e)}(t,e))}function Bd(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function Hd(...t){const e=Dc(t),n=mp(t),{args:i,keys:r}=Uh(t);if(0===i.length)return Jr([],e);const s=new Ln.c(function zh(t,e,n=Rr.D){return i=>{tm(e,()=>{const{length:r}=t,s=new Array(r);let o=r,c=r;for(let h=0;h<r;h++)tm(e,()=>{const p=Jr(t[h],e);let m=!1;p.subscribe((0,Oi._)(i,y=>{s[h]=y,m||(m=!0,c--),c||i.next(n(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,r?o=>Bd(r,o):Rr.D));return n?s.pipe(Wh(n)):s}function tm(t,e,n){t?ps(n,t,e):e()}function xr(t,e,n=1/0){return(0,vi.T)(e)?xr((i,r)=>(0,ei.T)((s,o)=>e(i,s,r,o))(bo(t(i,r))),n):("number"==typeof e&&(n=e),(0,Or.N)((i,r)=>function $u(t,e,n,i,r,s,o,c){const h=[];let p=0,m=0,y=!1;const I=()=>{y&&!h.length&&!p&&e.complete()},L=X=>p<i?U(X):h.push(X),U=X=>{s&&e.next(X),p++;let Q=!1;bo(n(X,m++)).subscribe((0,Oi._)(e,pe=>{r?.(pe),s?L(pe):e.next(pe)},()=>{Q=!0},void 0,()=>{if(Q)try{for(p--;h.length&&p<i;){const pe=h.shift();o?ps(e,o,()=>U(pe)):U(pe)}I()}catch(pe){e.error(pe)}}))};return t.subscribe((0,Oi._)(e,L,()=>{y=!0,I()})),()=>{c?.()}}(i,r,t,n)))}function jh(t=1/0){return xr(Rr.D,t)}function fl(...t){return function qu(){return jh(1)}()(Jr(t,Dc(t)))}function Ll(t){return new Ln.c(e=>{bo(t()).subscribe(e)})}var vp=Kt(1203);function Ud(t,e){const n=(0,vi.T)(t)?t:()=>t,i=r=>r.error(n());return new Ln.c(e?r=>e.schedule(i,0,r):i)}const Co=new Ln.c(t=>t.complete());var Pr=Kt(8359);function $h(){return(0,Or.N)((t,e)=>{let n=null;t._refCount++;const i=(0,Oi._)(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const r=t._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}class M extends Ln.c{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,(0,Or.S)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pr.yU;const n=this.getSubject();e.add(this.source.subscribe((0,Oi._)(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pr.yU.EMPTY)}return e}refCount(){return $h()(this)}}var q=Kt(1413);function ve(t,e){return(0,Or.N)((n,i)=>{let r=null,s=0,o=!1;const c=()=>o&&!r&&i.complete();n.subscribe((0,Oi._)(i,h=>{r?.unsubscribe();let p=0;const m=s++;bo(t(h,m)).subscribe(r=(0,Oi._)(i,y=>i.next(e?e(h,y,m,p++):y),()=>{r=null,c()}))},()=>{o=!0,c()}))})}function Me(t){return t<=0?()=>Co:(0,Or.N)((e,n)=>{let i=0;e.subscribe((0,Oi._)(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function it(...t){const e=Dc(t);return(0,Or.N)((n,i)=>{(e?fl(t,n,e):fl(t,n)).subscribe(i)})}function St(t,e){return(0,Or.N)((n,i)=>{let r=0;n.subscribe((0,Oi._)(i,s=>t.call(e,s,r++)&&i.next(s)))})}function nn(t){return(0,Or.N)((e,n)=>{let i=!1;e.subscribe((0,Oi._)(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function Nn(t=ri){return(0,Or.N)((e,n)=>{let i=!1;e.subscribe((0,Oi._)(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function ri(){return new du}function ui(t,e){const n=arguments.length>=2;return i=>i.pipe(t?St((r,s)=>t(r,s,i)):Rr.D,Me(1),n?nn(e):Nn(()=>new du))}function fi(t,e){return(0,vi.T)(e)?xr(t,e,1):xr(t,1)}function ii(t,e,n){const i=(0,vi.T)(t)||e||n?{next:t,error:e,complete:n}:t;return i?(0,Or.N)((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let c=!0;r.subscribe((0,Oi._)(s,h=>{var p;null===(p=i.next)||void 0===p||p.call(i,h),s.next(h)},()=>{var h;c=!1,null===(h=i.complete)||void 0===h||h.call(i),s.complete()},h=>{var p;c=!1,null===(p=i.error)||void 0===p||p.call(i,h),s.error(h)},()=>{var h,p;c&&(null===(h=i.unsubscribe)||void 0===h||h.call(i)),null===(p=i.finalize)||void 0===p||p.call(i)}))}):Rr.D}function Lr(t){return(0,Or.N)((e,n)=>{let s,i=null,r=!1;i=e.subscribe((0,Oi._)(n,void 0,void 0,o=>{s=bo(t(o,Lr(t)(e))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function ko(t){return t<=0?()=>Co:(0,Or.N)((e,n)=>{let i=[];e.subscribe((0,Oi._)(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(const r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function to(t){return(0,Or.N)((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}var Vl=Kt(5343);function Qi(t){return(0,Or.N)((e,n)=>{bo(t).subscribe((0,Oi._)(n,()=>n.complete(),Vl.l)),!n.closed&&e.subscribe(n)})}const Ci="primary",xc=Symbol("RouteTitle");class yp{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Pc(t){return new yp(t)}function bp(t,e,n){const i=n.path.split("/");if(i.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],c=t[s];if(o.startsWith(":"))r[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function $r(t,e){const n=t?Wd(t):void 0,i=e?Wd(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!pu(t[r],e[r]))return!1;return!0}function Wd(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function pu(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}return t===e}function pl(t){return t.length>0?t[t.length-1]:null}function Gl(t){return Ha(t)?t:(0,d.jNT)(t)?Jr(Promise.resolve(t)):On(t)}const Ta={exact:function Sr(t,e,n){if(!Xo(t.segments,e.segments)||!Nc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!t.children[i]||!Sr(t.children[i],e.children[i],n))return!1;return!0},subset:wp},nm={exact:function Ku(t,e){return $r(t,e)},subset:function Cp(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>pu(t[n],e[n]))},ignored:()=>!0};function Mc(t,e,n){return Ta[n.paths](t.root,e.root,n.matrixParams)&&nm[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function wp(t,e,n){return Kh(t,e,e.segments,n)}function Kh(t,e,n,i){if(t.segments.length>n.length){const r=t.segments.slice(0,n.length);return!(!Xo(r,n)||e.hasChildren()||!Nc(r,n,i))}if(t.segments.length===n.length){if(!Xo(t.segments,n)||!Nc(t.segments,n,i))return!1;for(const r in e.children)if(!t.children[r]||!wp(t.children[r],e.children[r],i))return!1;return!0}{const r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Xo(t.segments,r)&&Nc(t.segments,r,i)&&t.children[Ci])&&Kh(t.children[Ci],e,s,i)}}function Nc(t,e,n){return e.every((i,r)=>nm[n](t[r].parameters,i.parameters))}class gl{constructor(e=new Pi([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Pc(this.queryParams),this._queryParamMap}toString(){return Ns.serialize(this)}}class Pi{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zd(this)}}class wo{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Pc(this.parameters),this._parameterMap}toString(){return mu(this)}}function Xo(t,e){return t.length===e.length&&t.every((n,i)=>n.path===e[i].path)}let Hl=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:()=>new Oc,providedIn:"root"})}}return t})();class Oc{parse(e){const n=new ro(e);return new gl(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${no(e.root,!0)}`,i=function im(t){const e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${gu(n)}=${gu(r)}`).join("&"):`${gu(n)}=${gu(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${i}${"string"==typeof e.fragment?`#${function g_(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Ns=new Oc;function zd(t){return t.segments.map(e=>mu(e)).join("/")}function no(t,e){if(!t.hasChildren())return zd(t);if(e){const n=t.children[Ci]?no(t.children[Ci],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==Ci&&i.push(`${r}:${no(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function Bl(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===Ci&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==Ci&&(n=n.concat(e(r,i)))}),n}(t,(i,r)=>r===Ci?[no(t.children[Ci],!1)]:[`${r}:${no(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Ci]?`${zd(t)}/${n[0]}`:`${zd(t)}/(${n.join("//")})`}}function ml(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gu(t){return ml(t).replace(/%3B/gi,";")}function Yh(t){return ml(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xu(t){return decodeURIComponent(t)}function Qu(t){return Xu(t.replace(/\+/g,"%20"))}function mu(t){return`${Yh(t.path)}${function Eo(t){return Object.entries(t).map(([e,n])=>`;${Yh(e)}=${Yh(n)}`).join("")}(t.parameters)}`}const jd=/^[^\/()?;#]+/;function Ju(t){const e=t.match(jd);return e?e[0]:""}const Xh=/^[^\/()?;=#]+/,vl=/^[^=?&#]+/,Zr=/^[^&#]+/;class ro{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pi([],{}):new Pi([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[Ci]=new Pi(e,n)),i}parseSegment(){const e=Ju(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.wOt(4009,!1);return this.capture(e),new wo(Xu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function io(t){const e=t.match(Xh);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const r=Ju(this.remaining);r&&(i=r,this.capture(i))}e[Xu(n)]=Xu(i)}parseQueryParam(e){const n=function _r(t){const e=t.match(vl);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const o=function Os(t){const e=t.match(Zr);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=Qu(n),s=Qu(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ju(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new d.wOt(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ci);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Ci]:new Pi([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.wOt(4011,!1)}}function Zu(t){return t.segments.length>0?new Pi([],{[Ci]:t}):t}function rm(t){const e={};for(const[i,r]of Object.entries(t.children)){const s=rm(r);if(i===Ci&&0===s.segments.length&&s.hasChildren())for(const[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function Qh(t){if(1===t.numberOfChildren&&t.children[Ci]){const e=t.children[Ci];return new Pi(t.segments.concat(e.segments),e.children)}return t}(new Pi(t.segments,e))}function ed(t){return t instanceof gl}function sm(t){let e;const r=Zu(function n(s){const o={};for(const h of s.children){const p=n(h);o[h.outlet]=p}const c=new Pi(s.url,o);return s===t&&(e=c),c}(t.root));return e??r}function So(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(0===e.length)return Ep(r,r,r,n,i);const s=function m_(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Wa(!0,0,t);let e=0,n=!1;const i=t.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const c={};return Object.entries(s.outlets).forEach(([h,p])=>{c[h]="string"==typeof p?p.split("/"):p}),[...r,{outlets:c}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((c,h)=>{0==h&&"."===c||(0==h&&""===c?n=!0:".."===c?e++:""!=c&&r.push(c))}),r):[...r,s]},[]);return new Wa(n,e,i)}(e);if(s.toRoot())return Ep(r,r,new Pi([],{}),n,i);const o=function Sp(t,e,n){if(t.isAbsolute)return new nd(e,!0,0);if(!n)return new nd(e,!1,NaN);if(null===n.parent)return new nd(n,!0,0);const i=To(t.commands[0])?0:1;return function Wb(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new d.wOt(4005,!1);r=i.segments.length}return new nd(i,!1,r-s)}(n,n.segments.length-1+i,t.numberOfDoubleDots)}(s,r,t),c=o.processChildren?vu(o.segmentGroup,o.index,s.commands):Tp(o.segmentGroup,o.index,s.commands);return Ep(r,o.segmentGroup,c,n,i)}function To(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function td(t){return"object"==typeof t&&null!=t&&t.outlets}function Ep(t,e,n,i,r){let o,s={};i&&Object.entries(i).forEach(([h,p])=>{s[h]=Array.isArray(p)?p.map(m=>`${m}`):`${p}`}),o=t===e?n:om(t,e,n);const c=Zu(rm(o));return new gl(c,s,r)}function om(t,e,n){const i={};return Object.entries(t.children).forEach(([r,s])=>{i[r]=s===e?n:om(s,e,n)}),new Pi(t.segments,i)}class Wa{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&To(i[0]))throw new d.wOt(4003,!1);const r=i.find(td);if(r&&r!==pl(i))throw new d.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class nd{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}}function Tp(t,e,n){if(t??=new Pi([],{}),0===t.segments.length&&t.hasChildren())return vu(t,e,n);const i=function __(t,e,n){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;const o=t.segments[r],c=n[i];if(td(c))break;const h=`${c}`,p=i<n.length-1?n[i+1]:null;if(r>0&&void 0===h)break;if(h&&p&&"object"==typeof p&&void 0===p.outlets){if(!G0(h,p,o))return s;i+=2}else{if(!G0(h,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const s=new Pi(t.segments.slice(0,i.pathIndex),{});return s.children[Ci]=new Pi(t.segments.slice(i.pathIndex),t.children),vu(s,0,r)}return i.match&&0===r.length?new Pi(t.segments,{}):i.match&&!t.hasChildren()?am(t,e,n):i.match?vu(t,0,r):am(t,e,n)}function vu(t,e,n){if(0===n.length)return new Pi(t.segments,{});{const i=function v_(t){return td(t[0])?t[0].outlets:{[Ci]:t}}(n),r={};if(Object.keys(i).some(s=>s!==Ci)&&t.children[Ci]&&1===t.numberOfChildren&&0===t.children[Ci].segments.length){const s=vu(t.children[Ci],e,n);return new Pi(t.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=Tp(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new Pi(t.segments,r)}}function am(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){const s=n[r];if(td(s)){const h=L0(s.outlets);return new Pi(i,h)}if(0===r&&To(n[0])){i.push(new wo(t.segments[e].path,V0(n[0]))),r++;continue}const o=td(s)?s.outlets[Ci]:`${s}`,c=r<n.length-1?n[r+1]:null;o&&c&&To(c)?(i.push(new wo(o,V0(c))),r+=2):(i.push(new wo(o,{})),r++)}return new Pi(i,{})}function L0(t){const e={};return Object.entries(t).forEach(([n,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[n]=am(new Pi([],{}),0,i))}),e}function V0(t){const e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function G0(t,e,n){return t==n.path&&$r(e,n.parameters)}const Ip="imperative";var ir=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ir||{});class _u{constructor(e,n){this.id=e,this.url=n}}class Lo extends _u{constructor(e,n,i="imperative",r=null){super(e,n),this.type=ir.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fc extends _u{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=ir.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Vo=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Vo||{}),lm=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(lm||{});class Fs extends _u{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=ir.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yu extends _u{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=ir.NavigationSkipped}}class cm extends _u{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=ir.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zb extends _u{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=ir.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cD extends _u{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=ir.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class B0 extends _u{constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=ir.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $d extends _u{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=ir.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ul extends _u{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=ir.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class id{constructor(e){this.route=e,this.type=ir.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class H0{constructor(e){this.route=e,this.type=ir.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class U0{constructor(e){this.snapshot=e,this.type=ir.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qd{constructor(e){this.snapshot=e,this.type=ir.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wl{constructor(e){this.snapshot=e,this.type=ir.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class W0{constructor(e){this.snapshot=e,this.type=ir.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class um{}class dm{constructor(e){this.url=e}}class jb{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ap,this.attachRef=null}}let Ap=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){const r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){const i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new jb,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class Dp{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Jh(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){const n=Jh(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Zh(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Zh(e,this._root).map(n=>n.value)}}function Jh(t,e){if(t===e.value)return e;for(const n of e.children){const i=Jh(t,n);if(i)return i}return null}function Zh(t,e){if(t===e.value)return[e];for(const n of e.children){const i=Zh(t,n);if(i.length)return i.unshift(e),i}return[]}class _l{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function ef(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class z0 extends Dp{constructor(e,n){super(e),this.snapshot=n,Kb(this,e)}toString(){return this.snapshot.toString()}}function b_(t){const e=function YN(t){const s=new qb([],{},{},"",{},Ci,t,null,{});return new dD("",new _l(s,[]))}(t),n=new Fo.t([new wo("",{})]),i=new Fo.t({}),r=new Fo.t({}),s=new Fo.t({}),o=new Fo.t(""),c=new tf(n,i,s,o,r,Ci,t,e.root);return c.snapshot=e.root,new z0(new _l(c,[]),e)}class tf{constructor(e,n,i,r,s,o,c,h){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=h,this.title=this.dataSubject?.pipe((0,ei.T)(p=>p[xc]))??On(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,ei.T)(e=>Pc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,ei.T)(e=>Pc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $b(t,e,n="emptyOnly"){let i;const{routeConfig:r}=t;return i=null===e||"always"!==n&&""!==r?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...r?.data,...t._resolvedData}},r&&rd(r)&&(i.resolve[xc]=r.title),i}class qb{get title(){return this.data?.[xc]}constructor(e,n,i,r,s,o,c,h,p){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=c,this.routeConfig=h,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Pc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Pc(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dD extends Dp{constructor(e,n){super(n),this.url=e,Kb(this,n)}toString(){return C_(this._root)}}function Kb(t,e){e.value._routerState=t,e.children.forEach(n=>Kb(t,n))}function C_(t){const e=t.children.length>0?` { ${t.children.map(C_).join(", ")} } `:"";return`${t.value}${e}`}function Kd(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,$r(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),$r(e.params,n.params)||t.paramsSubject.next(n.params),function qh(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!$r(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),$r(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Yb(t,e){const n=$r(t.params,e.params)&&function Yu(t,e){return Xo(t,e)&&t.every((n,i)=>$r(n.parameters,e[i].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Yb(t.parent,e.parent))}function rd(t){return"string"==typeof t.title||null===t.title}let hm=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ci,this.activateEvents=new d.bkB,this.deactivateEvents=new d.bkB,this.attachEvents=new d.bkB,this.detachEvents=new d.bkB,this.parentContexts=(0,d.WQX)(Ap),this.location=(0,d.WQX)(d.c1b),this.changeDetector=(0,d.WQX)(d.gRc),this.environmentInjector=(0,d.WQX)(d.uvJ),this.inputBinder=(0,d.WQX)(A,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.wOt(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new d.wOt(4013,!1);this._activatedRoute=n;const r=this.location,o=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,h=new b(n,c,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:h,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=d.FsC({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.OA$]})}}return t})();class b{__ngOutletInjector(e){return new b(this.route,this.childContexts,e)}constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===tf?this.route:e===Ap?this.childContexts:this.parent.get(e,n)}}const A=new d.nKC("");function Z(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const r=function ne(t,e,n){return e.children.map(i=>{for(const r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Z(t,i,r);return Z(t,i)})}(t,e,n);return new _l(i,r)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>Z(t,c)),o}}const i=function re(t){return new tf(new Fo.t(t.url),new Fo.t(t.params),new Fo.t(t.queryParams),new Fo.t(t.fragment),new Fo.t(t.data),t.outlet,t.component,t)}(e.value),r=e.children.map(s=>Z(t,s));return new _l(i,r)}}const oe="ngNavigationCancelingError";function ue(t,e){const{redirectTo:n,navigationBehaviorOptions:i}=ed(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=ge(!1,Vo.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function ge(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[oe]=!0,n.cancellationCode=e,n}function ft(t){return!!t&&t[oe]}let dt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["ng-component"]],standalone:!0,features:[d.aNF],decls:1,vars:0,template:function(i,r){1&i&&d.nrm(0,"router-outlet")},dependencies:[hm],encapsulation:2})}}return t})();function yn(t){const e=t.children&&t.children.map(yn),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ci&&(n.component=dt),n}function Yn(t){return t.outlet||Ci}function $i(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class er{constructor(e,n,i,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),Kd(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){const r=ef(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){const r=e.value,s=n?n.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=ef(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){const o=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){const i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=ef(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){const r=ef(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new W0(s.value.snapshot))}),e.children.length&&this.forwardEvent(new qd(e.value.snapshot))}activateRoutes(e,n,i){const r=e.value,s=n?n.value:null;if(Kd(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Kd(c.route.value),this.activateChildRoutes(e,null,o.children)}else{const c=$i(r.snapshot);o.attachRef=null,o.route=r,o.injector=c,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class Gr{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class gr{constructor(e,n){this.component=e,this.route=n}}function Fi(t,e,n){const i=t._root;return Br(i,e?e._root:null,n,[i.value])}function Io(t,e){const n=Symbol(),i=e.get(t,n);return i===n?"function"!=typeof t||(0,d.LfX)(t)?e.get(t):t:i}function Br(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=ef(e);return t.children.forEach(o=>{(function Ia(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const h=function Tr(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Xo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Xo(t.url,e.url)||!$r(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yb(t,e)||!$r(t.queryParams,e.queryParams);default:return!Yb(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);h?r.canActivateChecks.push(new Gr(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Br(t,e,s.component?c?c.children:null:n,i,r),h&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new gr(c.outlet.component,o))}else o&&Qo(e,c,r),r.canActivateChecks.push(new Gr(i)),Br(t,null,s.component?c?c.children:null:n,i,r)})(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>Qo(c,n.getContext(o),r)),r}function Qo(t,e,n){const i=ef(t),r=t.value;Object.entries(i).forEach(([s,o])=>{Qo(o,r.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new gr(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function da(t){return"function"==typeof t}function kc(t){return t instanceof du||"EmptyError"===t?.name}const jl=Symbol("INITIAL_VALUE");function za(){return ve(t=>Hd(t.map(e=>e.pipe(Me(1),it(jl)))).pipe((0,ei.T)(e=>{for(const n of e)if(!0!==n){if(n===jl)return jl;if(!1===n||n instanceof gl)return n}return!0}),St(e=>e!==jl),Me(1)))}function xp(t){return(0,vp.F)(ii(e=>{if(ed(e))throw ue(0,e)}),(0,ei.T)(e=>!0===e))}class Pp{constructor(e){this.segmentGroup=e||null}}class nf extends Error{constructor(e){super(),this.urlTree=e}}function Yd(t){return Ud(new Pp(t))}class pm{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return On(i);if(r.numberOfChildren>1||!r.children[Ci])return Ud(new d.wOt(4e3,!1));r=r.children[Ci]}}applyRedirectCommands(e,n,i){const r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new nf(r);return r}applyRedirectCreateUrlTree(e,n,i,r){const s=this.createSegmentGroup(e,n.root,i,r);return new gl(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const i={};return Object.entries(e).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const c=s.substring(1);i[r]=n[c]}else i[r]=s}),i}createSegmentGroup(e,n,i,r){const s=this.createSegments(e,n.segments,i,r);let o={};return Object.entries(n.children).forEach(([c,h])=>{o[c]=this.createSegmentGroup(e,h,i,r)}),new Pi(s,o)}createSegments(e,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){const r=i[n.path.substring(1)];if(!r)throw new d.wOt(4001,!1);return r}findOrReturn(e,n){let i=0;for(const r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}}const Qb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hD(t,e,n,i,r){const s=gm(t,e,n);return s.matched?(i=function Ze(t,e){return t.providers&&!t._injector&&(t._injector=(0,d.Ol2)(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,i),function sd(t,e,n,i){const r=e.canMatch;return r&&0!==r.length?On(r.map(o=>{const c=Io(o,t);return Gl(function Go(t){return t&&da(t.canMatch)}(c)?c.canMatch(e,n):(0,d.N4e)(t,()=>c(e,n)))})).pipe(za(),xp()):On(!0)}(i,e,n).pipe((0,ei.T)(o=>!0===o?s:{...Qb}))):On(s)}function gm(t,e,n){if("**"===e.path)return function ha(t){return{matched:!0,parameters:t.length>0?pl(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Qb}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const r=(e.matcher||bp)(n,t,e);if(!r)return{...Qb};const s={};Object.entries(r.posParams??{}).forEach(([c,h])=>{s[c]=h.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function rf(t,e,n,i){return n.length>0&&function j0(t,e,n){return n.some(i=>mm(t,e,i)&&Yn(i)!==Ci)}(t,n,i)?{segmentGroup:new Pi(e,pD(i,new Pi(n,t.children))),slicedSegments:[]}:0===n.length&&function I_(t,e,n){return n.some(i=>mm(t,e,i))}(t,n,i)?{segmentGroup:new Pi(t.segments,fD(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Pi(t.segments,t.children),slicedSegments:n}}function fD(t,e,n,i){const r={};for(const s of n)if(mm(t,e,s)&&!i[Yn(s)]){const o=new Pi([],{});r[Yn(s)]=o}return{...i,...r}}function pD(t,e){const n={};n[Ci]=e;for(const i of t)if(""===i.path&&Yn(i)!==Ci){const r=new Pi([],{});n[Yn(i)]=r}return n}function mm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Jb{}class gD{constructor(e,n,i,r,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new pm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new d.wOt(4002,`'${e.segmentGroup}'`)}recognize(){const e=rf(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe((0,ei.T)(n=>{const i=new qb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ci,this.rootComponentType,null,{}),r=new _l(i,n),s=new dD("",r),o=function Ub(t,e,n=null,i=null){return So(sm(t),e,n,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Ci).pipe(Lr(i=>{if(i instanceof nf)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Pp?this.noMatchError(i):i}))}inheritParamsAndData(e,n){const i=e.value,r=$b(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe((0,ei.T)(s=>s instanceof _l?[s]:[]))}processChildren(e,n,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return Jr(r).pipe(fi(s=>{const o=i.children[s],c=function Dn(t,e){const n=t.filter(i=>Yn(i)===e);return n.push(...t.filter(i=>Yn(i)!==e)),n}(n,s);return this.processSegmentGroup(e,c,o,s)}),function Ms(t,e){return(0,Or.N)(function gs(t,e,n,i,r){return(s,o)=>{let c=n,h=e,p=0;s.subscribe((0,Oi._)(o,m=>{const y=p++;h=c?t(h,m,y):(c=!0,m),i&&o.next(h)},r&&(()=>{c&&o.next(h),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),nn(null),function jr(t,e){const n=arguments.length>=2;return i=>i.pipe(t?St((r,s)=>t(r,s,i)):Rr.D,ko(1),n?nn(e):Nn(()=>new du))}(),xr(s=>{if(null===s)return Yd(i);const o=Xd(s);return function sf(t){t.sort((e,n)=>e.value.outlet===Ci?-1:n.value.outlet===Ci?1:e.value.outlet.localeCompare(n.value.outlet))}(o),On(o)}))}processSegment(e,n,i,r,s,o){return Jr(n).pipe(fi(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,i,r,s,o).pipe(Lr(h=>{if(h instanceof Pp)return On(null);throw h}))),ui(c=>!!c),Lr(c=>{if(kc(c))return function vm(t,e,n){return 0===e.length&&!t.children[n]}(i,r,s)?On(new Jb):Yd(i);throw c}))}processSegmentAgainstRoute(e,n,i,r,s,o,c){return function $0(t,e,n,i){return!!(Yn(t)===i||i!==Ci&&mm(e,n,t))&&gm(e,t,n).matched}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,s,o):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o):Yd(r):Yd(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o){const{matched:c,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=gm(n,r,s);if(!c)return Yd(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const y=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,p);return this.applyRedirects.lineralizeSegments(r,y).pipe(xr(I=>this.processSegment(e,i,n,I.concat(m),o,!1)))}matchSegmentAgainstRoute(e,n,i,r,s){const o=hD(n,i,r,e);return"**"===i.path&&(n.children={}),o.pipe(ve(c=>c.matched?this.getChildConfig(e=i._injector??e,i,r).pipe(ve(({routes:h})=>{const p=i._loadedInjector??e,{consumedSegments:m,remainingSegments:y,parameters:I}=c,L=new qb(m,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Zb(t){return t.data||{}}(i),Yn(i),i.component??i._loadedComponent??null,i,function eC(t){return t.resolve||{}}(i)),{segmentGroup:U,slicedSegments:X}=rf(n,m,y,h);if(0===X.length&&U.hasChildren())return this.processChildren(p,h,U).pipe((0,ei.T)(pe=>null===pe?null:new _l(L,pe)));if(0===h.length&&0===X.length)return On(new _l(L,[]));const Q=Yn(i)===s;return this.processSegment(p,h,U,X,Q?Ci:s,!0).pipe((0,ei.T)(pe=>new _l(L,pe instanceof _l?[pe]:[])))})):Yd(n)))}getChildConfig(e,n,i){return n.children?On({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?On({routes:n._loadedRoutes,injector:n._loadedInjector}):function Vc(t,e,n,i){const r=e.canLoad;return void 0===r||0===r.length?On(!0):On(r.map(o=>{const c=Io(o,t);return Gl(function ks(t){return t&&da(t.canLoad)}(c)?c.canLoad(e,n):(0,d.N4e)(t,()=>c(e,n)))})).pipe(za(),xp())}(e,n,i).pipe(xr(r=>r?this.configLoader.loadChildren(e,n).pipe(ii(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function T_(t){return Ud(ge(!1,Vo.GuardRejected))}())):On({routes:[],injector:e})}}function Cu(t){const e=t.value.routeConfig;return e&&""===e.path}function Xd(t){const e=[],n=new Set;for(const i of t){if(!Cu(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),n.add(r)):e.push(i)}for(const i of n){const r=Xd(i.children);e.push(new _l(i.value,r))}return e.filter(i=>!n.has(i))}function Mp(t){const e=t.children.map(n=>Mp(n)).flat();return[t,...e]}function nC(t){return ve(e=>{const n=t(e);return n?Jr(n).pipe((0,ei.T)(()=>e)):On(e)})}let iC=(()=>{class t{buildTitle(n){let i,r=n.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Ci);return i}getResolvedTitleForRoute(n){return n.data[xc]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:()=>(0,d.WQX)(ym),providedIn:"root"})}}return t})(),ym=(()=>{class t extends iC{constructor(n){super(),this.title=n}updateTitle(n){const i=this.buildTitle(n);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(jn))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const af=new d.nKC("",{providedIn:"root",factory:()=>({})}),lf=new d.nKC("");let wu=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.WQX)(d.Ql9)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return On(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const i=Gl(n.loadComponent()).pipe((0,ei.T)(Np),ii(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),to(()=>{this.componentLoaders.delete(n)})),r=new M(i,()=>new q.B).pipe($h());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return On({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function Jd(t,e,n,i){return Gl(t.loadChildren()).pipe((0,ei.T)(Np),xr(r=>r instanceof d.Co$||Array.isArray(r)?On(r):Jr(e.compileModuleAsync(r))),(0,ei.T)(r=>{i&&i(t);let s,o,c=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(n).injector,o=s.get(lf,[],{optional:!0,self:!0}).flat()),{routes:o.map(yn),injector:s}}))}(i,this.compiler,n,this.onLoadEndListener).pipe(to(()=>{this.childrenLoaders.delete(i)})),o=new M(s,()=>new q.B).pipe($h());return this.childrenLoaders.set(i,o),o}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Np(t){return function ad(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let bm=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:()=>(0,d.WQX)(K0),providedIn:"root"})}}return t})(),K0=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const rC=new d.nKC("");let Y0=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new q.B,this.transitionAbortSubject=new q.B,this.configLoader=(0,d.WQX)(wu),this.environmentInjector=(0,d.WQX)(d.uvJ),this.urlSerializer=(0,d.WQX)(Hl),this.rootContexts=(0,d.WQX)(Ap),this.location=(0,d.WQX)(Ae),this.inputBindingEnabled=null!==(0,d.WQX)(A,{optional:!0}),this.titleStrategy=(0,d.WQX)(iC),this.options=(0,d.WQX)(af,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,d.WQX)(bm),this.createViewTransition=(0,d.WQX)(rC,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>On(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new H0(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new id(r))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:i})}setupNavigations(n,i,r){return this.transitions=new Fo.t({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ip,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(St(s=>0!==s.id),(0,ei.T)(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ve(s=>{let o=!1,c=!1;return On(s).pipe(ve(h=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Vo.SupersededByNewNavigation),Co;this.currentTransition=s,this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const p=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!p&&"reload"!==(h.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const y="";return this.events.next(new yu(h.id,this.urlSerializer.serialize(h.rawUrl),y,lm.IgnoredSameUrlNavigation)),h.resolve(null),Co}if(this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return On(h).pipe(ve(y=>{const I=this.transitions?.getValue();return this.events.next(new Lo(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),I!==this.transitions?.getValue()?Co:Promise.resolve(y)}),function XN(t,e,n,i,r,s){return xr(o=>function _m(t,e,n,i,r,s,o="emptyOnly"){return new gD(t,e,n,i,r,o,s).recognize()}(t,e,n,i,o.extractedUrl,r,s).pipe((0,ei.T)(({state:c,tree:h})=>({...o,targetSnapshot:c,urlAfterRedirects:h}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ii(y=>{s.targetSnapshot=y.targetSnapshot,s.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:y.urlAfterRedirects};const I=new zb(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(I)}));if(p&&this.urlHandlingStrategy.shouldProcessUrl(h.currentRawUrl)){const{id:y,extractedUrl:I,source:L,restoredState:U,extras:X}=h,Q=new Lo(y,this.urlSerializer.serialize(I),L,U);this.events.next(Q);const pe=b_(this.rootComponentType).snapshot;return this.currentTransition=s={...h,targetSnapshot:pe,urlAfterRedirects:I,extras:{...X,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=I,On(s)}{const y="";return this.events.next(new yu(h.id,this.urlSerializer.serialize(h.extractedUrl),y,lm.IgnoredByUrlHandlingStrategy)),h.resolve(null),Co}}),ii(h=>{const p=new cD(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),(0,ei.T)(h=>(this.currentTransition=s={...h,guards:Fi(h.targetSnapshot,h.currentSnapshot,this.rootContexts)},s)),function Lc(t,e){return xr(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?On({...n,guardsResult:!0}):function ms(t,e,n,i){return Jr(t).pipe(xr(r=>function E_(t,e,n,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?On(s.map(c=>{const h=$i(e)??r,p=Io(c,h);return Gl(function zl(t){return t&&da(t.canDeactivate)}(p)?p.canDeactivate(t,e,n,i):(0,d.N4e)(h,()=>p(t,e,n,i))).pipe(ui())})).pipe(za()):On(!0)}(r.component,r.route,n,e,i)),ui(r=>!0!==r,!0))}(o,i,r,t).pipe(xr(c=>c&&function Jo(t){return"boolean"==typeof t}(c)?function w_(t,e,n,i){return Jr(e).pipe(fi(r=>fl(function fm(t,e){return null!==t&&e&&e(new U0(t)),On(!0)}(r.route.parent,i),function Xb(t,e){return null!==t&&e&&e(new Wl(t)),On(!0)}(r.route,i),function bu(t,e,n){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function so(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Ll(()=>On(o.guards.map(h=>{const p=$i(o.node)??n,m=Io(h,p);return Gl(function Da(t){return t&&da(t.canActivateChild)}(m)?m.canActivateChild(i,t):(0,d.N4e)(p,()=>m(i,t))).pipe(ui())})).pipe(za())));return On(s).pipe(za())}(t,r.path,n),function Rp(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return On(!0);const r=i.map(s=>Ll(()=>{const o=$i(e)??n,c=Io(s,o);return Gl(function Aa(t){return t&&da(t.canActivate)}(c)?c.canActivate(e,t):(0,d.N4e)(o,()=>c(e,t))).pipe(ui())}));return On(r).pipe(za())}(t,r.route,n))),ui(r=>!0!==r,!0))}(i,s,t,e):On(c)),(0,ei.T)(c=>({...n,guardsResult:c})))})}(this.environmentInjector,h=>this.events.next(h)),ii(h=>{if(s.guardsResult=h.guardsResult,ed(h.guardsResult))throw ue(0,h.guardsResult);const p=new B0(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.events.next(p)}),St(h=>!!h.guardsResult||(this.cancelNavigationTransition(h,"",Vo.GuardRejected),!1)),nC(h=>{if(h.guards.canActivateChecks.length)return On(h).pipe(ii(p=>{const m=new $d(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}),ve(p=>{let m=!1;return On(p).pipe(function mD(t,e){return xr(n=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return On(n);const s=new Set(r.map(h=>h.route)),o=new Set;for(const h of s)if(!o.has(h))for(const p of Mp(h))o.add(p);let c=0;return Jr(o).pipe(fi(h=>s.has(h)?function tC(t,e,n,i){const r=t.routeConfig,s=t._resolve;return void 0!==r?.title&&!rd(r)&&(s[xc]=r.title),function A_(t,e,n,i){const r=Wd(t);if(0===r.length)return On({});const s={};return Jr(r).pipe(xr(o=>function QN(t,e,n,i){const r=$i(e)??i,s=Io(t,r);return Gl(s.resolve?s.resolve(e,n):(0,d.N4e)(r,()=>s(e,n)))}(t[o],e,n,i).pipe(ui(),ii(c=>{s[o]=c}))),ko(1),function Rc(t){return(0,ei.T)(()=>t)}(s),Lr(o=>kc(o)?Co:Ud(o)))}(s,t,e,i).pipe((0,ei.T)(o=>(t._resolvedData=o,t.data=$b(t,t.parent,n).resolve,null)))}(h,i,t,e):(h.data=$b(h,h.parent,t).resolve,On(void 0))),ii(()=>c++),ko(1),xr(h=>c===o.size?On(n):Co))})}(this.paramsInheritanceStrategy,this.environmentInjector),ii({next:()=>m=!0,complete:()=>{m||this.cancelNavigationTransition(p,"",Vo.NoDataFromResolver)}}))}),ii(p=>{const m=new Ul(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}))}),nC(h=>{const p=m=>{const y=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(m.routeConfig).pipe(ii(I=>{m.component=I}),(0,ei.T)(()=>{})));for(const I of m.children)y.push(...p(I));return y};return Hd(p(h.targetSnapshot.root)).pipe(nn(null),Me(1))}),nC(()=>this.afterPreactivation()),ve(()=>{const{currentSnapshot:h,targetSnapshot:p}=s,m=this.createViewTransition?.(this.environmentInjector,h.root,p.root);return m?Jr(m).pipe((0,ei.T)(()=>s)):On(s)}),(0,ei.T)(h=>{const p=function H(t,e,n){const i=Z(t,e._root,n?n._root:void 0);return new z0(i,e)}(n.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return this.currentTransition=s={...h,targetRouterState:p},this.currentNavigation.targetRouterState=p,s}),ii(()=>{this.events.next(new um)}),((t,e,n,i)=>(0,ei.T)(r=>(new er(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,h=>this.events.next(h),this.inputBindingEnabled),Me(1),ii({next:h=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Fc(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects))),this.titleStrategy?.updateTitle(h.targetRouterState.snapshot),h.resolve(!0)},complete:()=>{o=!0}}),Qi(this.transitionAbortSubject.pipe(ii(h=>{throw h}))),to(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",Vo.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Lr(h=>{if(c=!0,ft(h))this.events.next(new Fs(s.id,this.urlSerializer.serialize(s.extractedUrl),h.message,h.cancellationCode)),function Ue(t){return ft(t)&&ed(t.url)}(h)?this.events.next(new dm(h.url)):s.resolve(!1);else{this.events.next(new cm(s.id,this.urlSerializer.serialize(s.extractedUrl),h,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(h))}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return Co}))}))}cancelNavigationTransition(n,i,r){const s=new Fs(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Cm(t){return t!==Ip}let aB=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:()=>(0,d.WQX)(JN),providedIn:"root"})}}return t})();class lB{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let JN=(()=>{class t extends lB{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=d.xGo(t)))(r||t)}})()}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),_D=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:()=>(0,d.WQX)(cB),providedIn:"root"})}}return t})(),cB=(()=>{class t extends _D{constructor(){super(...arguments),this.location=(0,d.WQX)(Ae),this.urlSerializer=(0,d.WQX)(Hl),this.options=(0,d.WQX)(af,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,d.WQX)(bm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new gl,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=b_(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{"popstate"===i.type&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof Lo)this.stateMemento=this.createStateMemento();else if(n instanceof yu)this.rawUrlTree=i.initialUrl;else if(n instanceof zb){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else n instanceof um?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):n instanceof Fs&&(n.code===Vo.GuardRejected||n.code===Vo.NoDataFromResolver)?this.restoreHistory(i):n instanceof cm?this.restoreHistory(i,!0):n instanceof Fc&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){const r=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(n,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=d.xGo(t)))(r||t)}})()}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var sC=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(sC||{});function uB(t){throw t}const eO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_J={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gc=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,d.WQX)(d.H3F),this.stateManager=(0,d.WQX)(_D),this.options=(0,d.WQX)(af,{optional:!0})||{},this.pendingTasks=(0,d.WQX)(d.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,d.WQX)(Y0),this.urlSerializer=(0,d.WQX)(Hl),this.location=(0,d.WQX)(Ae),this.urlHandlingStrategy=(0,d.WQX)(bm),this._events=new q.B,this.errorHandler=this.options.errorHandler||uB,this.navigated=!1,this.routeReuseStrategy=(0,d.WQX)(aB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,d.WQX)(lf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,d.WQX)(A,{optional:!0}),this.eventsSubscription=new Pr.yU,this.isNgZoneEnabled=(0,d.WQX)(d.SKi)instanceof d.SKi&&d.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==r&&null!==s)if(this.stateManager.handleRouterEvent(i,s),i instanceof Fs&&i.code!==Vo.Redirect&&i.code!==Vo.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Fc)this.navigated=!0;else if(i instanceof dm){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Cm(r.source)};this.scheduleNavigation(o,Ip,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function dB(t){return!(t instanceof um||t instanceof dm)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ip,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const h={...r};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(s.state=h)}const c=this.parseUrl(n);this.scheduleNavigation(c,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(yn),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:h}=i,p=h?this.currentUrlTree.fragment:o;let y,m=null;switch(c){case"merge":m={...this.currentUrlTree.queryParams,...s};break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=s||null}null!==m&&(m=this.removeEmptyProps(m));try{y=sm(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),y=this.currentUrlTree.root}return So(y,n,m,p??null)}navigateByUrl(n,i={skipLocationChange:!1}){const r=ed(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Ip,null,i)}navigate(n,i={skipLocationChange:!1}){return function oC(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new d.wOt(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(r=!0===i?{...eO}:!1===i?{..._J}:i,ed(n))return Mc(this.currentUrlTree,n,r);const s=this.parseUrl(n);return Mc(this.currentUrlTree,s,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,s])=>(null!=s&&(i[r]=s),i),{})}scheduleNavigation(n,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let c,h,p;o?(c=o.resolve,h=o.reject,p=o.promise):p=new Promise((y,I)=>{c=y,h=I});const m=this.pendingTasks.add();return function ZN(t,e){t.events.pipe(St(n=>n instanceof Fc||n instanceof Fs||n instanceof cm||n instanceof yu),(0,ei.T)(n=>n instanceof Fc||n instanceof yu?sC.COMPLETE:n instanceof Fs&&(n.code===Vo.Redirect||n.code===Vo.SupersededByNewNavigation)?sC.REDIRECTING:sC.FAILED),St(n=>n!==sC.REDIRECTING),Me(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:c,reject:h,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(y=>Promise.reject(y))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const bD=new d.nKC("");function gB(t){return t.routerState.root}function mB(){const t=(0,d.WQX)(d.zZn);return e=>{const n=t.get(d.o8S);if(e!==n.components[0])return;const i=t.get(Gc),r=t.get(vB);1===t.get(ED)&&i.initialNavigation(),t.get(SD,null,d.$GK.Optional)?.setUpPreloading(),t.get(bD,null,d.$GK.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const vB=new d.nKC("",{factory:()=>new q.B}),ED=new d.nKC("",{providedIn:"root",factory:()=>1}),SD=new d.nKC("");function R_(...t){const e=mp(t),{args:n,keys:i}=Uh(t),r=new Ln.c(s=>{const{length:o}=n;if(!o)return void s.complete();const c=new Array(o);let h=o,p=o;for(let m=0;m<o;m++){let y=!1;bo(n[m]).subscribe((0,Oi._)(s,I=>{y||(y=!0,p--),c[m]=I},()=>h--,void 0,()=>{(!h||!y)&&(p||s.next(i?Bd(i,c):c),s.complete())}))}});return e?r.pipe(Wh(e)):r}let lO=(()=>{class t{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.sFG),d.rXU(d.aKT))}}static{this.\u0275dir=d.FsC({type:t})}}return t})(),wm=(()=>{class t extends lO{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=d.xGo(t)))(r||t)}})()}static{this.\u0275dir=d.FsC({type:t,features:[d.Vt3]})}}return t})();const ld=new d.nKC(""),TB={provide:ld,useExisting:(0,d.Rfq)(()=>Op),multi:!0},uC=new d.nKC("");let Op=(()=>{class t extends lO{constructor(n,i,r){super(n,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function uO(){const t=Cn()?Cn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(uC,8))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&d.bIt("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[d.Jv_([TB]),d.Vt3]})}}return t})();function eh(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function dO(t){return null!=t&&"number"==typeof t.length}const ja=new d.nKC(""),th=new d.nKC(""),hO=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ra{static min(e){return function TD(t){return e=>{if(eh(e.value)||eh(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function ID(t){return e=>{if(eh(e.value)||eh(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return fO(e)}static requiredTrue(e){return function IB(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function dC(t){return eh(t.value)||hO.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function pO(t){return e=>eh(e.value)||!dO(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function AD(t){return e=>dO(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function DD(t){if(!t)return hC;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(eh(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return P_(e)}static composeAsync(e){return tS(e)}}function fO(t){return eh(t.value)?{required:!0}:null}function hC(t){return null}function J0(t){return null!=t}function RD(t){return(0,d.jNT)(t)?Jr(t):t}function fC(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function x_(t,e){return e.map(n=>n(t))}function Z0(t){return t.map(e=>function gO(t){return!t.validate}(e)?e:n=>e.validate(n))}function P_(t){if(!t)return null;const e=t.filter(J0);return 0==e.length?null:function(n){return fC(x_(n,e))}}function eS(t){return null!=t?P_(Z0(t)):null}function tS(t){if(!t)return null;const e=t.filter(J0);return 0==e.length?null:function(n){return R_(x_(n,e).map(RD)).pipe((0,ei.T)(fC))}}function M_(t){return null!=t?tS(Z0(t)):null}function mO(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function xD(t){return t._rawValidators}function vO(t){return t._rawAsyncValidators}function PD(t){return t?Array.isArray(t)?t:[t]:[]}function nS(t,e){return Array.isArray(t)?t.includes(e):t===e}function MD(t,e){const n=PD(e);return PD(t).forEach(r=>{nS(n,r)||n.push(r)}),n}function ND(t,e){return PD(e).filter(n=>!nS(t,n))}class ki{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=eS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=M_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class $a extends ki{get formDirective(){return null}get path(){return null}}class cd extends ki{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Em{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let OD=(()=>{class t extends Em{constructor(n){super(n)}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(cd,2))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&d.AVh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[d.Vt3]})}}return t})(),N_=(()=>{class t extends Em{constructor(n){super(n)}static{this.\u0275fac=function(i){return new(i||t)(d.rXU($a,10))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&d.AVh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[d.Vt3]})}}return t})();const F_="VALID",gC="INVALID",k_="PENDING",mC="DISABLED";function qa(t){return(L_(t)?t.validators:t)||null}function kD(t,e){return(L_(e)?e.asyncValidators:t)||null}function L_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function LD(t,e,n){const i=t.controls;if(!(e?Object.keys(i):i).length)throw new d.wOt(1e3,"");if(!i[n])throw new d.wOt(1001,"")}function EO(t,e,n){t._forEachChild((i,r)=>{if(void 0===n[r])throw new d.wOt(1002,"")})}class rS{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===F_}get invalid(){return this.status===gC}get pending(){return this.status==k_}get disabled(){return this.status===mC}get enabled(){return this.status!==mC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(MD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(MD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ND(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ND(e,this._rawAsyncValidators))}hasValidator(e){return nS(this._rawValidators,e)}hasAsyncValidator(e){return nS(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=k_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=mC,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=F_,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===F_||this.status===k_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mC:F_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=k_,this._hasOwnPendingAsyncValidator=!0;const n=RD(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){const i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.bkB,this.statusChanges=new d.bkB}_calculateStatus(){return this._allControlsDisabled()?mC:this.errors?gC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(k_)?k_:this._anyControlsHaveStatus(gC)?gC:F_}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){L_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function xB(t){return Array.isArray(t)?eS(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function PJ(t){return Array.isArray(t)?M_(t):t||null}(this._rawAsyncValidators)}}class Sm extends rS{constructor(e,n,i){super(qa(n),kD(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){EO(this,0,e),Object.keys(e).forEach(i=>{LD(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>!!i._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class sS extends Sm{}const Tm=new d.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>vC}),vC="always";function oS(t,e){return[...e.path,t]}function _C(t,e,n=vC){VD(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function SO(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&lS(t,e)})}(t,e),function FJ(t,e){const n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function aS(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&lS(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function MB(t,e){if(e.valueAccessor.setDisabledState){const n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Bc(t,e,n=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),yC(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function V_(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function VD(t,e){const n=xD(t);null!==e.validator?t.setValidators(mO(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const i=vO(t);null!==e.asyncValidator?t.setAsyncValidators(mO(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const r=()=>t.updateValueAndValidity();V_(e._rawValidators,r),V_(e._rawAsyncValidators,r)}function yC(t,e){let n=!1;if(null!==t){if(null!==e.validator){const r=xD(t);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.validator);s.length!==r.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const r=vO(t);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(n=!0,t.setAsyncValidators(s))}}}const i=()=>{};return V_(e._rawValidators,i),V_(e._rawAsyncValidators,i),n}function lS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function GD(t,e){VD(t,e)}function BD(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function IO(t,e){t._syncPendingControls(),e.forEach(n=>{const i=n.control;"submit"===i.updateOn&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Im(t,e){if(!e)return null;let n,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Op?n=s:function HD(t){return Object.getPrototypeOf(t.constructor)===wm}(s)?i=s:r=s}),r||i||n||null}const wC={provide:$a,useExisting:(0,d.Rfq)(()=>df)},Am=Promise.resolve();let df=(()=>{class t extends $a{constructor(n,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.bkB,this.form=new Sm({},eS(n),M_(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Am.then(()=>{const i=this._findContainer(n.path);n.control=i.registerControl(n.name,n.control),_C(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Am.then(()=>{const i=this._findContainer(n.path);i&&i.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Am.then(()=>{const i=this._findContainer(n.path),r=new Sm({});GD(r,n),i.registerControl(n.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Am.then(()=>{const i=this._findContainer(n.path);i&&i.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,i){Am.then(()=>{this.form.get(n.path).setValue(i)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,IO(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(ja,10),d.rXU(th,10),d.rXU(Tm,8))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&d.bIt("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:[d.Mj6.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([wC]),d.Vt3]})}}return t})();function UD(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function WD(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const $l=class extends rS{constructor(e=null,n,i){super(qa(n),kD(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),L_(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=WD(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){UD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){UD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){WD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let DO=(()=>{class t extends $a{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return oS(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=d.xGo(t)))(r||t)}})()}static{this.\u0275dir=d.FsC({type:t,features:[d.Vt3]})}}return t})();Promise.resolve();let uS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=d.FsC({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();const jD={provide:ld,useExisting:(0,d.Rfq)(()=>dS),multi:!0};let dS=(()=>{class t extends wm{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=i=>{n(""==i?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=d.xGo(t)))(r||t)}})()}static{this.\u0275dir=d.FsC({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&d.bIt("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[d.Jv_([jD]),d.Vt3]})}}return t})();const G_=new d.nKC(""),$D={provide:cd,useExisting:(0,d.Rfq)(()=>qD)};let qD=(()=>{class t extends cd{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,i,r,s,o){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=o,this.update=new d.bkB,this._ngModelWarningSent=!1,this._setValidators(n),this._setAsyncValidators(i),this.valueAccessor=Im(0,r)}ngOnChanges(n){if(this._isControlChanged(n)){const i=n.form.previousValue;i&&Bc(i,this,!1),_C(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}BD(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Bc(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(ja,10),d.rXU(th,10),d.rXU(ld,10),d.rXU(G_,8),d.rXU(Tm,8))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","formControl",""]],inputs:{form:[d.Mj6.None,"formControl","form"],isDisabled:[d.Mj6.None,"disabled","isDisabled"],model:[d.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[d.Jv_([$D]),d.Vt3,d.OA$]})}}return t})();const GJ={provide:$a,useExisting:(0,d.Rfq)(()=>B_)};let B_=(()=>{class t extends $a{constructor(n,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.bkB,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const i=this.form.get(n.path);return _C(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){Bc(n.control||null,n,!1),function AO(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this.submitted=!0,IO(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const i=n.control,r=this.form.get(n.path);i!==r&&(Bc(i||null,n),(t=>t instanceof $l)(r)&&(_C(r,n,this.callSetDisabledState),n.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const i=this.form.get(n.path);GD(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const i=this.form.get(n.path);i&&function TO(t,e){return yC(t,e)}(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){VD(this.form,this),this._oldForm&&yC(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(ja,10),d.rXU(th,10),d.rXU(Tm,8))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&d.bIt("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:[d.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([GJ]),d.Vt3,d.OA$]})}}return t})();const VB={provide:$a,useExisting:(0,d.Rfq)(()=>fS)};let fS=(()=>{class t extends DO{constructor(n,i,r){super(),this.name=null,this._parent=n,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){GB(this._parent)}static{this.\u0275fac=function(i){return new(i||t)(d.rXU($a,13),d.rXU(ja,10),d.rXU(th,10))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","formGroupName",""]],inputs:{name:[d.Mj6.None,"formGroupName","name"]},features:[d.Jv_([VB]),d.Vt3]})}}return t})();const BJ={provide:$a,useExisting:(0,d.Rfq)(()=>pS)};let pS=(()=>{class t extends $a{constructor(n,i,r){super(),this.name=null,this._parent=n,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return oS(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){GB(this._parent)}static{this.\u0275fac=function(i){return new(i||t)(d.rXU($a,13),d.rXU(ja,10),d.rXU(th,10))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","formArrayName",""]],inputs:{name:[d.Mj6.None,"formArrayName","name"]},features:[d.Jv_([BJ]),d.Vt3]})}}return t})();function GB(t){return!(t instanceof fS||t instanceof B_||t instanceof pS)}const BB={provide:cd,useExisting:(0,d.Rfq)(()=>KD)};let KD=(()=>{class t extends cd{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new d.bkB,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Im(0,s)}ngOnChanges(n){this._added||this._setUpControl(),BD(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return oS(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||t)(d.rXU($a,13),d.rXU(ja,10),d.rXU(th,10),d.rXU(ld,10),d.rXU(G_,8))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","formControlName",""]],inputs:{name:[d.Mj6.None,"formControlName","name"],isDisabled:[d.Mj6.None,"disabled","isDisabled"],model:[d.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[d.Jv_([BB]),d.Vt3,d.OA$]})}}return t})(),Rm=(()=>{class t{constructor(){this._validator=hC}ngOnChanges(n){if(this.inputName in n){const i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):hC,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=d.FsC({type:t,features:[d.OA$]})}}return t})();const WB={provide:ja,useExisting:(0,d.Rfq)(()=>xm),multi:!0};let xm=(()=>{class t extends Rm{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.L39,this.createValidator=n=>fO}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=d.xGo(t)))(r||t)}})()}static{this.\u0275dir=d.FsC({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&d.BMQ("required",r._enabled?"":null)},inputs:{required:"required"},features:[d.Jv_([WB]),d.Vt3]})}}return t})(),QD=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({})}}return t})();class JD extends rS{constructor(e,n,i){super(qa(n),kD(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){EO(this,0,e),e.forEach((i,r)=>{LD(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>!!i._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function RC(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let Pm,YB=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,i=null){const r=this._reduceControls(n);let s={};return RC(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Sm(r,s)}record(n,i=null){const r=this._reduceControls(n);return new sS(r,i)}control(n,i,r){let s={};return this.useNonNullable?(RC(i)?s=i:(s.validators=i,s.asyncValidators=r),new $l(n,{...s,nonNullable:!0})):new $l(n,i,r)}array(n,i,r){const s=n.map(o=>this._createControl(o));return new JD(s,i,r)}_reduceControls(n){const i={};return Object.keys(n).forEach(r=>{i[r]=this._createControl(n[r])}),i}_createControl(n){return n instanceof $l||n instanceof rS?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$J=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Tm,useValue:n.callSetDisabledState??vC}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({imports:[QD]})}}return t})(),WO=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:G_,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Tm,useValue:n.callSetDisabledState??vC}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({imports:[QD]})}}return t})();try{Pm=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Pm=!1}let W_,Ls=(()=>{class t{constructor(n){this._platformId=n,this.isBrowser=this._platformId?ti(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Pm)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(d.Agw))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const zO=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function yS(){if(W_)return W_;if("object"!=typeof document||!document)return W_=new Set(zO),W_;let t=document.createElement("input");return W_=new Set(zO.filter(e=>(t.setAttribute("type",e),t.type===e))),W_}let bS;function xa(t){return function jO(){if(null==bS&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>bS=!0}))}finally{bS=bS||!1}return bS}()?t:!!t.capture}var ud=function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t}(ud||{});let CS,z_,PC;function Ao(){if(null==z_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return z_=!1,z_;if("scrollBehavior"in document.documentElement.style)z_=!0;else{const t=Element.prototype.scrollTo;z_=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return z_}function xC(){if("object"!=typeof document||!document)return ud.NORMAL;if(null==CS){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",t.appendChild(n),document.body.appendChild(t),CS=ud.NORMAL,0===t.scrollLeft&&(t.scrollLeft=1,CS=0===t.scrollLeft?ud.NEGATED:ud.INVERTED),t.remove()}return CS}function nh(t){return t.composedPath?t.composedPath()[0]:t.target}function wS(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Vp(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class EZ extends Pr.yU{constructor(e,n){super()}schedule(e,n=0){return this}}const RS={setInterval(t,e,...n){const{delegate:i}=RS;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=RS;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var lF=Kt(7908);class K_ extends EZ{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,i=0){return RS.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return n;null!=n&&RS.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,n);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,(0,lF.o)(i,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const oR={now:()=>(oR.delegate||Date).now(),delegate:void 0};class FC{constructor(e,n=FC.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}}FC.now=oR.now;class Nm extends FC{constructor(e,n=FC.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}}const xS=new Nm(K_),N4=xS;function aR(t,e=xS){return(0,Or.N)((n,i)=>{let r=null,s=null,o=null;const c=()=>{if(r){r.unsubscribe(),r=null;const p=s;s=null,i.next(p)}};function h(){const p=o+t,m=e.now();if(m<p)return r=this.schedule(void 0,p-m),void i.add(r);c()}n.subscribe((0,Oi._)(i,p=>{s=p,o=e.now(),r||(r=e.schedule(h,t),i.add(r))},()=>{c(),i.complete()},void 0,()=>{s=r=null}))})}function lR(t){return St((e,n)=>t<=n)}function PS(t,e=Rr.D){return t=t??O4,(0,Or.N)((n,i)=>{let r,s=!0;n.subscribe((0,Oi._)(i,o=>{const c=e(o);(s||!t(r,c))&&(s=!1,r=c,i.next(o))}))})}function O4(t,e){return t===e}function Y_(t){return null!=t&&"false"!=`${t}`}function MS(t,e=0){return cR(t)?Number(t):e}function cR(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function NS(t){return Array.isArray(t)?t:[t]}function Zo(t){return null==t?"":"string"==typeof t?t:`${t}px`}function ih(t){return t instanceof d.aKT?t.nativeElement:t}let uR=(()=>{class t{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),k4=(()=>{class t{constructor(n){this._mutationObserverFactory=n,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((n,i)=>this._cleanupObserver(i))}observe(n){const i=ih(n);return new Ln.c(r=>{const o=this._observeElement(i).pipe((0,ei.T)(c=>c.filter(h=>!function Om(t){if("characterData"===t.type&&t.target instanceof Comment)return!0;if("childList"===t.type){for(let e=0;e<t.addedNodes.length;e++)if(!(t.addedNodes[e]instanceof Comment))return!1;for(let e=0;e<t.removedNodes.length;e++)if(!(t.removedNodes[e]instanceof Comment))return!1;return!0}return!1}(h))),St(c=>!!c.length)).subscribe(r);return()=>{o.unsubscribe(),this._unobserveElement(i)}})}_observeElement(n){if(this._observedElements.has(n))this._observedElements.get(n).count++;else{const i=new q.B,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(n,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(n,{observer:r,stream:i,count:1})}return this._observedElements.get(n).stream}_unobserveElement(n){this._observedElements.has(n)&&(this._observedElements.get(n).count--,this._observedElements.get(n).count||this._cleanupObserver(n))}_cleanupObserver(n){if(this._observedElements.has(n)){const{observer:i,stream:r}=this._observedElements.get(n);i&&i.disconnect(),r.complete(),this._observedElements.delete(n)}}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(uR))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),SZ=(()=>{class t{get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(n){this._debounce=MS(n),this._subscribe()}constructor(n,i,r){this._contentObserver=n,this._elementRef=i,this._ngZone=r,this.event=new d.bkB,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const n=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?n.pipe(aR(this.debounce)):n).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(k4),d.rXU(d.aKT),d.rXU(d.SKi))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[d.Mj6.HasDecoratorInputTransform,"cdkObserveContentDisabled","disabled",d.L39],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[d.GFd]})}}return t})(),OS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({providers:[uR]})}}return t})();const uF=new Set;let Gp,dR=(()=>{class t{constructor(n,i){this._platform=n,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):FS}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function L4(t,e){if(!uF.has(t))try{Gp||(Gp=document.createElement("style"),e&&Gp.setAttribute("nonce",e),Gp.setAttribute("type","text/css"),document.head.appendChild(Gp)),Gp.sheet&&(Gp.sheet.insertRule(`@media ${t} {body{ }}`,0),uF.add(t))}catch(n){console.error(n)}}(n,this._nonce),this._matchMedia(n)}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(Ls),d.KVO(d.BIS,8))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function FS(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let TZ=(()=>{class t{constructor(n,i){this._mediaMatcher=n,this._zone=i,this._queries=new Map,this._destroySubject=new q.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return V4(NS(n)).some(r=>this._registerQuery(r).mql.matches)}observe(n){let s=Hd(V4(NS(n)).map(o=>this._registerQuery(o).observable));return s=fl(s.pipe(Me(1)),s.pipe(lR(1),aR(0))),s.pipe((0,ei.T)(o=>{const c={matches:!1,breakpoints:{}};return o.forEach(({matches:h,query:p})=>{c.matches=c.matches||h,c.breakpoints[p]=h}),c}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const i=this._mediaMatcher.matchMedia(n),s={observable:new Ln.c(o=>{const c=h=>this._zone.run(()=>o.next(h));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(it(i),(0,ei.T)(({matches:o})=>({query:n,matches:o})),Qi(this._destroySubject)),mql:i};return this._queries.set(n,s),s}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(dR),d.KVO(d.SKi))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function V4(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}function Fm(t,e,n){const i=km(t,e);n=n.trim(),!i.some(r=>r.trim()===n)&&(i.push(n),t.setAttribute(e,i.join(" ")))}function dF(t,e,n){const i=km(t,e);n=n.trim();const r=i.filter(s=>s!==n);r.length?t.setAttribute(e,r.join(" ")):t.removeAttribute(e)}function km(t,e){return t.getAttribute(e)?.match(/\S+/g)??[]}const hF="cdk-describedby-message",X_="cdk-describedby-host";let hR=0,rh=(()=>{class t{constructor(n,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+hR++,this._document=n,this._id=(0,d.WQX)(d.sZ2)+"-"+hR++}describe(n,i,r){if(!this._canBeDescribed(n,i))return;const s=Lm(i,r);"string"!=typeof i?(oo(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(n,s)||this._addMessageReference(n,s)}removeDescription(n,i,r){if(!i||!this._isElementNode(n))return;const s=Lm(i,r);if(this._isElementDescribedByMessage(n,s)&&this._removeMessageReference(n,s),"string"==typeof i){const o=this._messageRegistry.get(s);o&&0===o.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const n=this._document.querySelectorAll(`[${X_}="${this._id}"]`);for(let i=0;i<n.length;i++)this._removeCdkDescribedByReferenceIds(n[i]),n[i].removeAttribute(X_);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(n,i){const r=this._document.createElement("div");oo(r,this._id),r.textContent=n,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Lm(n,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(n){this._messageRegistry.get(n)?.messageElement?.remove(),this._messageRegistry.delete(n)}_createMessagesContainer(){if(this._messagesContainer)return;const n="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${n}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(n),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(n){const i=km(n,"aria-describedby").filter(r=>0!=r.indexOf(hF));n.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(n,i){const r=this._messageRegistry.get(i);Fm(n,"aria-describedby",r.messageElement.id),n.setAttribute(X_,this._id),r.referenceCount++}_removeMessageReference(n,i){const r=this._messageRegistry.get(i);r.referenceCount--,dF(n,"aria-describedby",r.messageElement.id),n.removeAttribute(X_)}_isElementDescribedByMessage(n,i){const r=km(n,"aria-describedby"),s=this._messageRegistry.get(i),o=s&&s.messageElement.id;return!!o&&-1!=r.indexOf(o)}_canBeDescribed(n,i){if(!this._isElementNode(n))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=n.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(n){return n.nodeType===this._document.ELEMENT_NODE}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(Be),d.KVO(Ls))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Lm(t,e){return"string"==typeof t?`${e||""}/${t}`:t}function oo(t,e){t.id||(t.id=`${hF}-${e}-${hR++}`)}class Bp{constructor(e,n){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new q.B,this._typeaheadSubscription=Pr.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=i=>i.disabled,this._pressedLetters=[],this.tabOut=new q.B,this.change=new q.B,e instanceof d.rOR?this._itemChangesSubscription=e.changes.subscribe(i=>this._itemsChanged(i.toArray())):(0,d.Hps)(e)&&(this._effectRef=(0,d.QZP)(()=>this._itemsChanged(e()),{injector:n}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(ii(n=>this._pressedLetters.push(n)),aR(e),St(()=>this._pressedLetters.length>0),(0,ei.T)(()=>this._pressedLetters.join(""))).subscribe(n=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,o=i[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(n)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,n=10){return this._pageUpAndDown={enabled:e,delta:n},this}setActiveItem(e){const n=this._activeItem;this.updateActiveItem(e),this._activeItem!==n&&this.change.next(this._activeItemIndex)}onKeydown(e){const n=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(n){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}return;default:return void((r||Vp(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const n=this._getItemsArray(),i="number"==typeof e?e:n.indexOf(e);this._activeItem=n[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const n=this._getItemsArray();for(let i=1;i<=n.length;i++){const r=(this._activeItemIndex+e*i+n.length)%n.length;if(!this._skipPredicateFn(n[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,n){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=n])return;this.setActiveItem(e)}}_getItemsArray(){return(0,d.Hps)(this._items)?this._items():this._items instanceof d.rOR?this._items.toArray():this._items}_itemsChanged(e){if(this._activeItem){const n=e.indexOf(this._activeItem);n>-1&&n!==this._activeItemIndex&&(this._activeItemIndex=n)}}}class kS extends Bp{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class Su extends Bp{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function GC(t){return 0===t.buttons||0===t.detail}function Hp(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const q4=new d.nKC("cdk-input-modality-detector-options"),Hc={ignoreKeys:[18,17,224,91,16]},Q_=xa({passive:!0,capture:!0});let mR=(()=>{class t{get mostRecentModality(){return this._modality.value}constructor(n,i,r,s){this._platform=n,this._mostRecentTarget=null,this._modality=new Fo.t(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(c=>c===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=nh(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(GC(o)?"keyboard":"mouse"),this._mostRecentTarget=nh(o))},this._onTouchstart=o=>{Hp(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=nh(o))},this._options={...Hc,...s},this.modalityDetected=this._modality.pipe(lR(1)),this.modalityChanged=this.modalityDetected.pipe(PS()),n.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Q_),r.addEventListener("mousedown",this._onMousedown,Q_),r.addEventListener("touchstart",this._onTouchstart,Q_)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Q_),document.removeEventListener("mousedown",this._onMousedown,Q_),document.removeEventListener("touchstart",this._onTouchstart,Q_))}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(Ls),d.KVO(d.SKi),d.KVO(Be),d.KVO(q4,8))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const _F=new d.nKC("liveAnnouncerElement",{providedIn:"root",factory:function yF(){return null}}),K4=new d.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let RZ=0,Y4=(()=>{class t{constructor(n,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=n||this._createLiveElement()}announce(n,...i){const r=this._defaultOptions;let s,o;return 1===i.length&&"number"==typeof i[0]?o=i[0]:[s,o]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=n,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const n="cdk-live-announcer-element",i=this._document.getElementsByClassName(n),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(n),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+RZ++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(n){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],o=s.getAttribute("aria-owns");o?-1===o.indexOf(n)&&s.setAttribute("aria-owns",o+" "+n):s.setAttribute("aria-owns",n)}}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(_F,8),d.KVO(d.SKi),d.KVO(Be),d.KVO(K4,8))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var J_=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(J_||{});const _R=new d.nKC("cdk-focus-monitor-default-options"),hf=xa({passive:!0,capture:!0});let GS=(()=>{class t{constructor(n,i,r,s,o){this._ngZone=n,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new q.B,this._rootNodeFocusAndBlurListener=c=>{for(let p=nh(c);p;p=p.parentElement)"focus"===c.type?this._onFocus(c,p):this._onBlur(c,p)},this._document=s,this._detectionMode=o?.detectionMode||J_.IMMEDIATE}monitor(n,i=!1){const r=ih(n);if(!this._platform.isBrowser||1!==r.nodeType)return On();const s=function ZB(t){if(function JB(){if(null==PC){const t=typeof document<"u"?document.head:null;PC=!(!t||!t.createShadowRoot&&!t.attachShadow)}return PC}()){const e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const c={checkChildren:i,subject:new q.B,rootNode:s};return this._elementInfo.set(r,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(n){const i=ih(n),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(n,i,r){const s=ih(n);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([c,h])=>this._originChanged(c,i,h)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((n,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===J_.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,i){n.classList.toggle("cdk-focused",!!i),n.classList.toggle("cdk-touch-focused","touch"===i),n.classList.toggle("cdk-keyboard-focused","keyboard"===i),n.classList.toggle("cdk-mouse-focused","mouse"===i),n.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(n,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=n,this._originFromTouchInteraction="touch"===n&&i,this._detectionMode===J_.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(n,i){const r=this._elementInfo.get(i),s=nh(n);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(n,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&n.relatedTarget instanceof Node&&i.contains(n.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(n,i){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(i))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;const i=n.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,hf),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,hf)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Qi(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(n){const i=n.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,hf),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,hf),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,i,r){this._setClasses(n,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(n){const i=[];return this._elementInfo.forEach((r,s)=>{(s===n||r.checkChildren&&s.contains(n))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(n){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===n||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName||n.disabled)return!1;const s=n.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(i))return!0;return!1}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(d.SKi),d.KVO(Ls),d.KVO(mR),d.KVO(Be,8),d.KVO(_R,8))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),bF=(()=>{class t{constructor(n,i){this._elementRef=n,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new d.bkB}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const n=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(n,1===n.nodeType&&n.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.aKT),d.rXU(GS))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}}return t})();var Tu=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(Tu||{});const BS="cdk-high-contrast-black-on-white",HS="cdk-high-contrast-white-on-black",US="cdk-high-contrast-active";let yR=(()=>{class t{constructor(n,i){this._platform=n,this._document=i,this._breakpointSubscription=(0,d.WQX)(TZ).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Tu.NONE;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(n):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Tu.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Tu.BLACK_ON_WHITE}return Tu.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(US,BS,HS),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===Tu.BLACK_ON_WHITE?n.add(US,BS):i===Tu.WHITE_ON_BLACK&&n.add(US,HS)}}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(Ls),d.KVO(Be))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),CF=(()=>{class t{constructor(n){n._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(yR))}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({imports:[OS]})}}return t})();const X4=new d.nKC("cdk-dir-doc",{providedIn:"root",factory:function Q4(){return(0,d.WQX)(Be)}}),Z_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let sh=(()=>{class t{constructor(n){this.value="ltr",this.change=new d.bkB,n&&(this.value=function wF(t){const e=t?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Z_.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((n.body?n.body.dir:null)||(n.documentElement?n.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(X4,8))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),BC=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({})}}return t})();const MZ=["text"],Z4=[[["mat-icon"]],"*"],CR=["mat-icon","*"];function wR(t,e){if(1&t&&d.nrm(0,"mat-pseudo-checkbox",1),2&t){const n=d.XpG();d.Y8G("disabled",n.disabled)("state",n.selected?"checked":"unchecked")}}function eH(t,e){if(1&t&&d.nrm(0,"mat-pseudo-checkbox",3),2&t){const n=d.XpG();d.Y8G("disabled",n.disabled)}}function tH(t,e){if(1&t&&(d.j41(0,"span",4),d.EFF(1),d.k0s()),2&t){const n=d.XpG();d.R7$(),d.SpI("(",n.group.label,")")}}const iH=new d.nKC("mat-sanity-checks",{providedIn:"root",factory:function nH(){return!0}});let ao=(()=>{class t{constructor(n,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return!wS()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(yR),d.KVO(iH,8),d.KVO(Be))}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({imports:[BC,BC]})}}return t})();class WS{constructor(e,n,i,r,s){this._defaultMatcher=e,this.ngControl=n,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=s,this.errorState=!1}updateErrorState(){const e=this.errorState,n=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,s=i?.isErrorState(r,n)??!1;s!==e&&(this.errorState=s,this._stateChanges.next())}}let Gm=(()=>{class t{isErrorState(n,i){return!!(n&&n.invalid&&(n.touched||i&&i.submitted))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Pa=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(Pa||{});class ty{constructor(e,n,i,r=!1){this._renderer=e,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Pa.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Bm=xa({passive:!0,capture:!0});class AF{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const n=nh(e);n&&this._events.get(e.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,n,i,r){const s=this._events.get(n);if(s){const o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,Bm)})}removeHandler(e,n,i){const r=this._events.get(e);if(!r)return;const s=r.get(n);s&&(s.delete(i),0===s.size&&r.delete(n),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Bm)))}}const SR={enterDuration:225,exitDuration:150},TR=xa({passive:!0,capture:!0}),IR=["mousedown","touchstart"],AR=["mouseup","mouseleave","touchend","touchcancel"];class $C{static{this._eventManager=new AF}constructor(e,n,i,r){this._target=e,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=ih(i))}fadeInRipple(e,n,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...SR,...i.animation};i.centered&&(e=r.left+r.width/2,n=r.top+r.height/2);const o=i.radius||function RF(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(e,n,r),c=e-r.left,h=n-r.top,p=s.enterDuration,m=document.createElement("div");m.classList.add("mat-ripple-element"),m.style.left=c-o+"px",m.style.top=h-o+"px",m.style.height=2*o+"px",m.style.width=2*o+"px",null!=i.color&&(m.style.backgroundColor=i.color),m.style.transitionDuration=`${p}ms`,this._containerElement.appendChild(m);const y=window.getComputedStyle(m),L=y.transitionDuration,U="none"===y.transitionProperty||"0s"===L||"0s, 0s"===L||0===r.width&&0===r.height,X=new ty(this,m,i,U);m.style.transform="scale3d(1, 1, 1)",X.state=Pa.FADING_IN,i.persistent||(this._mostRecentTransientRipple=X);let Q=null;return!U&&(p||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const pe=()=>this._finishRippleTransition(X),Te=()=>this._destroyRipple(X);m.addEventListener("transitionend",pe),m.addEventListener("transitioncancel",Te),Q={onTransitionEnd:pe,onTransitionCancel:Te}}),this._activeRipples.set(X,Q),(U||!p)&&this._finishRippleTransition(X),X}fadeOutRipple(e){if(e.state===Pa.FADING_OUT||e.state===Pa.HIDDEN)return;const n=e.element,i={...SR,...e.config.animation};n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",e.state=Pa.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const n=ih(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,IR.forEach(i=>{$C._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{AR.forEach(n=>{this._triggerElement.addEventListener(n,this,TR)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Pa.FADING_IN?this._startFadeOutTransition(e):e.state===Pa.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){const n=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=Pa.VISIBLE,!i&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Pa.HIDDEN,null!==n&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){const n=GC(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Hp(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=e.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(e.state===Pa.VISIBLE||e.config.terminateOnPointerUp&&e.state===Pa.FADING_IN)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(IR.forEach(n=>$C._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&(AR.forEach(n=>e.removeEventListener(n,this,TR)),this._pointerUpEventsRegistered=!1))}}const DR=new d.nKC("mat-ripple-global-options");let Hm=(()=>{class t{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,i,r,s,o){this._elementRef=n,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new $C(this,i,n,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,i=0,r){return"number"==typeof n?this._rippleRenderer.fadeInRipple(n,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...n})}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.aKT),d.rXU(d.SKi),d.rXU(Ls),d.rXU(DR,8),d.rXU(d.bc$,8))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&d.AVh("mat-ripple-unbounded",r.unbounded)},inputs:{color:[d.Mj6.None,"matRippleColor","color"],unbounded:[d.Mj6.None,"matRippleUnbounded","unbounded"],centered:[d.Mj6.None,"matRippleCentered","centered"],radius:[d.Mj6.None,"matRippleRadius","radius"],animation:[d.Mj6.None,"matRippleAnimation","animation"],disabled:[d.Mj6.None,"matRippleDisabled","disabled"],trigger:[d.Mj6.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return t})(),ff=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({imports:[ao,ao]})}}return t})(),lH=(()=>{class t{constructor(n){this._animationMode=n,this.state="unchecked",this.disabled=!1,this.appearance="full"}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.bc$,8))}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&d.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[d.aNF],decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}}return t})(),cH=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({imports:[ao]})}}return t})();const jS=new d.nKC("MAT_OPTION_PARENT_COMPONENT"),$S=new d.nKC("MatOptgroup");let RR=0;class $Z{constructor(e,n=!1){this.source=e,this.isUserInput=n}}let uH=(()=>{class t{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(n){this._disabled=n}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(n,i,r,s){this._element=n,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+RR++,this.onSelectionChange=new d.bkB,this._stateChanges=new q.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(n=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),n&&this._emitSelectionChangeEvent())}deselect(n=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),n&&this._emitSelectionChangeEvent())}focus(n,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(n){(13===n.keyCode||32===n.keyCode)&&!Vp(n)&&(this._selectViaInteraction(),n.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const n=this.viewValue;n!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=n)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(n=!1){this.onSelectionChange.emit(new $Z(this,n))}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.aKT),d.rXU(d.gRc),d.rXU(jS,8),d.rXU($S,8))}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["mat-option"]],viewQuery:function(i,r){if(1&i&&d.GBs(MZ,7),2&i){let s;d.mGM(s=d.lsd())&&(r._text=s.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&d.bIt("click",function(){return r._selectViaInteraction()})("keydown",function(o){return r._handleKeydown(o)}),2&i&&(d.Mr5("id",r.id),d.BMQ("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),d.AVh("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[d.Mj6.HasDecoratorInputTransform,"disabled","disabled",d.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[d.GFd,d.aNF],ngContentSelectors:CR,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){1&i&&(d.NAR(Z4),d.DNE(0,wR,1,2,"mat-pseudo-checkbox",1),d.SdG(1),d.j41(2,"span",2,0),d.SdG(4,1),d.k0s(),d.DNE(5,eH,1,1,"mat-pseudo-checkbox",3)(6,tH,2,1,"span",4),d.nrm(7,"div",5)),2&i&&(d.vxM(0,r.multiple?0:-1),d.R7$(5),d.vxM(5,r.multiple||!r.selected||r.hideSingleSelectionIndicator?-1:5),d.R7$(),d.vxM(6,r.group&&r.group._inert?6:-1),d.R7$(),d.Y8G("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[lH,Hm],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return t})(),xR=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({imports:[ff,ao,cH]})}}return t})();const xF={capture:!0},Ho=["focus","click","mouseenter","touchstart"],qS="mat-ripple-loader-uninitialized",PR="mat-ripple-loader-class-name",PF="mat-ripple-loader-centered",qC="mat-ripple-loader-disabled";let fH=(()=>{class t{constructor(){this._document=(0,d.WQX)(Be,{optional:!0}),this._animationMode=(0,d.WQX)(d.bc$,{optional:!0}),this._globalRippleOptions=(0,d.WQX)(DR,{optional:!0}),this._platform=(0,d.WQX)(Ls),this._ngZone=(0,d.WQX)(d.SKi),this._hosts=new Map,this._onInteraction=n=>{if(!(n.target instanceof HTMLElement))return;const r=n.target.closest(`[${qS}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const n of Ho)this._document?.addEventListener(n,this._onInteraction,xF)})}ngOnDestroy(){const n=this._hosts.keys();for(const i of n)this.destroyRipple(i);for(const i of Ho)this._document?.removeEventListener(i,this._onInteraction,xF)}configureRipple(n,i){n.setAttribute(qS,""),(i.className||!n.hasAttribute(PR))&&n.setAttribute(PR,i.className||""),i.centered&&n.setAttribute(PF,""),i.disabled&&n.setAttribute(qC,"")}getRipple(n){return this._hosts.get(n)||this._createRipple(n)}setDisabled(n,i){const r=this._hosts.get(n);r?r.disabled=i:i?n.setAttribute(qC,""):n.removeAttribute(qC)}_createRipple(n){if(!this._document)return;const i=this._hosts.get(n);if(i)return i;n.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",n.getAttribute(PR)),n.append(r);const s=new Hm(new d.aKT(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=n,s.centered=n.hasAttribute(PF),s.disabled=n.hasAttribute(qC),this.attachRipple(n,s),s}attachRipple(n,i){n.removeAttribute(qS),this._hosts.set(n,i)}destroyRipple(n){const i=this._hosts.get(n);i&&(i.ngOnDestroy(),this._hosts.delete(n))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const MF=["mat-button",""],iy=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],gH=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],MR=["mat-icon-button",""],NR=["*"],OR=new d.nKC("MAT_BUTTON_CONFIG"),vH=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let FR=(()=>{class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(n){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,n)}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}constructor(n,i,r,s){this._elementRef=n,this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,d.WQX)(GS),this._rippleLoader=(0,d.WQX)(fH),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const o=(0,d.WQX)(OR,{optional:!0}),c=n.nativeElement,h=c.classList;this.disabledInteractive=o?.disabledInteractive??!1,this._rippleLoader?.configureRipple(c,{className:"mat-mdc-button-ripple"});for(const{attribute:p,mdcClasses:m}of vH)c.hasAttribute(p)&&h.add(...m)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",i){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(i){d.QTQ()}}static{this.\u0275dir=d.FsC({type:t,inputs:{color:"color",disableRipple:[d.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",d.L39],disabled:[d.Mj6.HasDecoratorInputTransform,"disabled","disabled",d.L39],ariaDisabled:[d.Mj6.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",d.L39],disabledInteractive:[d.Mj6.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",d.L39]},features:[d.GFd]})}}return t})(),ql=(()=>{class t extends FR{constructor(n,i,r,s){super(n,i,r,s)}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.aKT),d.rXU(Ls),d.rXU(d.SKi),d.rXU(d.bc$,8))}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(d.BMQ("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),d.HbH(r.color?"mat-"+r.color:""),d.AVh("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[d.Vt3,d.aNF],attrs:MF,ngContentSelectors:gH,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(d.NAR(iy),d.nrm(0,"span",0),d.SdG(1),d.j41(2,"span",1),d.SdG(3,1),d.k0s(),d.SdG(4,2),d.nrm(5,"span",2)(6,"span",3)),2&i&&d.AVh("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return t})(),CH=(()=>{class t extends FR{constructor(n,i,r,s){super(n,i,r,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.aKT),d.rXU(Ls),d.rXU(d.SKi),d.rXU(d.bc$,8))}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(d.BMQ("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),d.HbH(r.color?"mat-"+r.color:""),d.AVh("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[d.Vt3,d.aNF],attrs:MR,ngContentSelectors:NR,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(d.NAR(),d.nrm(0,"span",0),d.SdG(1),d.nrm(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return t})(),YS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({imports:[ao,ff,ao]})}}return t})();function dd(...t){const e=Dc(t),n=function ju(t,e){return"number"==typeof Qg(t)?t.pop():e}(t,1/0),i=t;return i.length?1===i.length?bo(i[0]):jh(n)(Jr(i,e)):Co}class kF extends q.B{constructor(e=1/0,n=1/0,i=oR){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;n||(i.push(e),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=i?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const o=n.now();let c=0;for(let h=1;h<i.length&&i[h]<=o;h+=2)c=h;c&&i.splice(0,c+1)}}}var kR=Kt(7707);function KC(t={}){const{connector:e=(()=>new q.B),resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return s=>{let o,c,h,p=0,m=!1,y=!1;const I=()=>{c?.unsubscribe(),c=void 0},L=()=>{I(),o=h=void 0,m=y=!1},U=()=>{const X=o;L(),X?.unsubscribe()};return(0,Or.N)((X,Q)=>{p++,!y&&!m&&I();const pe=h=h??e();Q.add(()=>{p--,0===p&&!y&&!m&&(c=LR(U,r))}),pe.subscribe(Q),!o&&p>0&&(o=new kR.Ms({next:Te=>pe.next(Te),error:Te=>{y=!0,I(),c=LR(L,n,Te),pe.error(Te)},complete:()=>{m=!0,I(),c=LR(L,i),pe.complete()}}),bo(X).subscribe(o))})(s)}}function LR(t,e,...n){if(!0===e)return void t();if(!1===e)return;const i=new kR.Ms({next:()=>{i.unsubscribe(),t()}});return bo(e(...n)).subscribe(i)}function XS(t,e,n){let i,r=!1;return t&&"object"==typeof t?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:n}=t):i=t??1/0,KC({connector:()=>new kF(i,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}class SH{constructor(e){this._box=e,this._destroyed=new q.B,this._resizeSubject=new q.B,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(n=>this._resizeSubject.next(n)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Ln.c(n=>{const i=this._resizeSubject.subscribe(n);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(St(n=>n.some(i=>i.target===e)),XS({bufferSize:1,refCount:!0}),Qi(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let TH=(()=>{class t{constructor(){this._observers=new Map,this._ngZone=(0,d.WQX)(d.SKi)}ngOnDestroy(){for(const[,n]of this._observers)n.destroy();this._observers.clear()}observe(n,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new SH(r)),this._observers.get(r).observe(n)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Hi=Kt(9969);const IH=["notch"],AH=["matFormFieldNotchedOutline",""],DH=["*"],RH=["textField"],xH=["iconPrefixContainer"],PH=["textPrefixContainer"],MH=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],VR=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function NH(t,e){1&t&&d.nrm(0,"span",17)}function GR(t,e){if(1&t&&(d.j41(0,"label",16),d.SdG(1,1),d.DNE(2,NH,1,0,"span",17),d.k0s()),2&t){const n=d.XpG(2);d.Y8G("floating",n._shouldLabelFloat())("monitorResize",n._hasOutline())("id",n._labelId),d.BMQ("for",n._control.disableAutomaticLabeling?null:n._control.id),d.R7$(2),d.vxM(2,!n.hideRequiredMarker&&n._control.required?2:-1)}}function LF(t,e){if(1&t&&d.DNE(0,GR,3,5,"label",16),2&t){const n=d.XpG();d.vxM(0,n._hasFloatingLabel()?0:-1)}}function VF(t,e){1&t&&d.nrm(0,"div",5)}function GF(t,e){}function BF(t,e){if(1&t&&d.DNE(0,GF,0,0,"ng-template",11),2&t){d.XpG(2);const n=d.sdS(1);d.Y8G("ngTemplateOutlet",n)}}function OH(t,e){if(1&t&&(d.j41(0,"div",7),d.DNE(1,BF,1,1,null,11),d.k0s()),2&t){const n=d.XpG();d.Y8G("matFormFieldNotchedOutlineOpen",n._shouldLabelFloat()),d.R7$(),d.vxM(1,n._forceDisplayInfixLabel()?-1:1)}}function FH(t,e){1&t&&(d.j41(0,"div",8,2),d.SdG(2,2),d.k0s())}function HF(t,e){1&t&&(d.j41(0,"div",9,3),d.SdG(2,3),d.k0s())}function kH(t,e){}function UF(t,e){if(1&t&&d.DNE(0,kH,0,0,"ng-template",11),2&t){d.XpG();const n=d.sdS(1);d.Y8G("ngTemplateOutlet",n)}}function LH(t,e){1&t&&(d.j41(0,"div",12),d.SdG(1,4),d.k0s())}function WF(t,e){1&t&&(d.j41(0,"div",13),d.SdG(1,5),d.k0s())}function BR(t,e){1&t&&d.nrm(0,"div",14)}function VH(t,e){if(1&t&&(d.j41(0,"div",18),d.SdG(1,6),d.k0s()),2&t){const n=d.XpG();d.Y8G("@transitionMessages",n._subscriptAnimationState)}}function GH(t,e){if(1&t&&(d.j41(0,"mat-hint",20),d.EFF(1),d.k0s()),2&t){const n=d.XpG(2);d.Y8G("id",n._hintLabelId),d.R7$(),d.JRh(n.hintLabel)}}function HR(t,e){if(1&t&&(d.j41(0,"div",19),d.DNE(1,GH,2,2,"mat-hint",20),d.SdG(2,7),d.nrm(3,"div",21),d.SdG(4,8),d.k0s()),2&t){const n=d.XpG();d.Y8G("@transitionMessages",n._subscriptAnimationState),d.R7$(),d.vxM(1,n.hintLabel?1:-1)}}let QS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=d.FsC({type:t,selectors:[["mat-label"]],standalone:!0})}}return t})(),JS=0;const YC=new d.nKC("MatError");let UR=(()=>{class t{constructor(n,i){this.id="mat-mdc-error-"+JS++,n||i.nativeElement.setAttribute("aria-live","polite")}static{this.\u0275fac=function(i){return new(i||t)(d.kS0("aria-live"),d.rXU(d.aKT))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){2&i&&d.Mr5("id",r.id)},inputs:{id:"id"},standalone:!0,features:[d.Jv_([{provide:YC,useExisting:t}])]})}}return t})(),zF=0,jF=(()=>{class t{constructor(){this.align="start",this.id="mat-mdc-hint-"+zF++}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=d.FsC({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(d.Mr5("id",r.id),d.BMQ("align",null),d.AVh("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"},standalone:!0})}}return t})();const BH=new d.nKC("MatPrefix"),ZS=new d.nKC("MatSuffix"),eT=new d.nKC("FloatingLabelParent");let zR=(()=>{class t{get floating(){return this._floating}set floating(n){this._floating=n,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(n){this._monitorResize=n,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(n){this._elementRef=n,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,d.WQX)(TH),this._ngZone=(0,d.WQX)(d.SKi),this._parent=(0,d.WQX)(eT),this._resizeSubscription=new Pr.yU}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function HH(t){if(null!==t.offsetParent)return t.scrollWidth;const n=t.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);const i=n.scrollWidth;return n.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.aKT))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&d.AVh("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}}return t})();const $F="mdc-line-ripple--active",XC="mdc-line-ripple--deactivating";let tT=(()=>{class t{constructor(n,i){this._elementRef=n,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,o=s.contains(XC);"opacity"===r.propertyName&&o&&s.remove($F,XC)},i.runOutsideAngular(()=>{n.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const n=this._elementRef.nativeElement.classList;n.remove(XC),n.add($F)}deactivate(){this._elementRef.nativeElement.classList.add(XC)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.aKT),d.rXU(d.SKi))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}}return t})(),jR=(()=>{class t{constructor(n,i){this._elementRef=n,this._ngZone=i,this.open=!1}ngAfterViewInit(){const n=this._elementRef.nativeElement.querySelector(".mdc-floating-label");n?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(n.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>n.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(n){this._notch.nativeElement.style.width=this.open&&n?`calc(${n}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.aKT),d.rXU(d.SKi))}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&d.GBs(IH,5),2&i){let s;d.mGM(s=d.lsd())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&d.AVh("mdc-notched-outline--notched",r.open)},inputs:{open:[d.Mj6.None,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[d.aNF],attrs:AH,ngContentSelectors:DH,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(d.NAR(),d.nrm(0,"div",1),d.j41(1,"div",2,0),d.SdG(3),d.k0s(),d.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}}return t})();const Um={transitionMessages:(0,Hi.hZ)("transitionMessages",[(0,Hi.wk)("enter",(0,Hi.iF)({opacity:1,transform:"translateY(0%)"})),(0,Hi.kY)("void => enter",[(0,Hi.iF)({opacity:0,transform:"translateY(-5px)"}),(0,Hi.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let $R=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=d.FsC({type:t})}}return t})();const JC=new d.nKC("MatFormField"),eee=new d.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let qR=0,qF=(()=>{class t{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=Y_(n)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(n){const i=this._appearance;this._appearance=n||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(n){this._subscriptSizing=n||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(n){this._explicitFormFieldControl=n}constructor(n,i,r,s,o,c,h,p){this._elementRef=n,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=o,this._defaults=c,this._animationMode=h,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+qR++,this._hintLabelId="mat-mdc-hint-"+qR++,this._subscriptAnimationState="",this._destroyed=new q.B,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,c&&(c.appearance&&(this.appearance=c.appearance),this._hideRequiredMarker=!!c?.hideRequiredMarker,c.color&&(this.color=c.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const n=this._control;n.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${n.controlType}`),n.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),n.ngControl&&n.ngControl.valueChanges&&n.ngControl.valueChanges.pipe(Qi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(n=>!n._isText),this._hasTextPrefix=!!this._prefixChildren.find(n=>n._isText),this._hasIconSuffix=!!this._suffixChildren.find(n=>!n._isText),this._hasTextSuffix=!!this._suffixChildren.find(n=>n._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),dd(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Qi(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Qi(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(n){const i=this._control?this._control.ngControl:null;return i&&i[n]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&n.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?n.push(i.id):this._hintLabel&&n.push(this._hintLabelId),r&&n.push(r.id)}else this._errorChildren&&n.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(n)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const n=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(n.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,o=r?.getBoundingClientRect().width??0;n.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+o}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const n=this._elementRef.nativeElement;if(n.getRootNode){const i=n.getRootNode();return i&&i!==n}return document.documentElement.contains(n)}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.aKT),d.rXU(d.gRc),d.rXU(d.SKi),d.rXU(sh),d.rXU(Ls),d.rXU(eee,8),d.rXU(d.bc$,8),d.rXU(Be))}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(1&i&&(d.wni(s,QS,5),d.wni(s,QS,7),d.wni(s,$R,5),d.wni(s,BH,5),d.wni(s,ZS,5),d.wni(s,YC,5),d.wni(s,jF,5)),2&i){let o;d.mGM(o=d.lsd())&&(r._labelChildNonStatic=o.first),d.mGM(o=d.lsd())&&(r._labelChildStatic=o.first),d.mGM(o=d.lsd())&&(r._formFieldControl=o.first),d.mGM(o=d.lsd())&&(r._prefixChildren=o),d.mGM(o=d.lsd())&&(r._suffixChildren=o),d.mGM(o=d.lsd())&&(r._errorChildren=o),d.mGM(o=d.lsd())&&(r._hintChildren=o)}},viewQuery:function(i,r){if(1&i&&(d.GBs(RH,5),d.GBs(xH,5),d.GBs(PH,5),d.GBs(zR,5),d.GBs(jR,5),d.GBs(tT,5)),2&i){let s;d.mGM(s=d.lsd())&&(r._textField=s.first),d.mGM(s=d.lsd())&&(r._iconPrefixContainer=s.first),d.mGM(s=d.lsd())&&(r._textPrefixContainer=s.first),d.mGM(s=d.lsd())&&(r._floatingLabel=s.first),d.mGM(s=d.lsd())&&(r._notchedOutline=s.first),d.mGM(s=d.lsd())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&d.AVh("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[d.Jv_([{provide:JC,useExisting:t},{provide:eT,useExisting:t}]),d.aNF],ngContentSelectors:VR,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(1&i){const s=d.RV6();d.NAR(MH),d.DNE(0,LF,1,1,"ng-template",null,0,d.C5r),d.j41(2,"div",4,1),d.bIt("click",function(c){return d.eBV(s),d.Njj(r._control.onContainerClick(c))}),d.DNE(4,VF,1,0,"div",5),d.j41(5,"div",6),d.DNE(6,OH,2,2,"div",7)(7,FH,3,0,"div",8)(8,HF,3,0,"div",9),d.j41(9,"div",10),d.DNE(10,UF,1,1,null,11),d.SdG(11),d.k0s(),d.DNE(12,LH,2,0,"div",12)(13,WF,2,0,"div",13),d.k0s(),d.DNE(14,BR,1,0,"div",14),d.k0s(),d.j41(15,"div",15),d.DNE(16,VH,2,1)(17,HR,5,2),d.k0s()}if(2&i){let s;d.R7$(2),d.AVh("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),d.R7$(2),d.vxM(4,r._hasOutline()||r._control.disabled?-1:4),d.R7$(2),d.vxM(6,r._hasOutline()?6:-1),d.R7$(),d.vxM(7,r._hasIconPrefix?7:-1),d.R7$(),d.vxM(8,r._hasTextPrefix?8:-1),d.R7$(2),d.vxM(10,!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),d.R7$(2),d.vxM(12,r._hasTextSuffix?12:-1),d.R7$(),d.vxM(13,r._hasIconSuffix?13:-1),d.R7$(),d.vxM(14,r._hasOutline()?-1:14),d.R7$(),d.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),d.R7$(),d.vxM(16,"error"===(s=r._getDisplayedMessages())?16:"hint"===s?17:-1)}},dependencies:[zR,jR,Er,tT,jF],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Um.transitionMessages]},changeDetection:0})}}return t})(),ZC=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({imports:[ao,Va,OS,ao]})}}return t})();var te=Kt(467);class nT{}class zm{}class yl{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const i=n.indexOf(":");if(i>0){const r=n.slice(0,i),s=r.toLowerCase(),o=n.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof yl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new yl;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof yl?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,n);const r=("a"===e.op?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(c=>-1===s.indexOf(c)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const i=(Array.isArray(n)?n:[n]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class KF{encodeKey(e){return YR(e)}encodeValue(e){return YR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const WH=/%(\d[a-f0-9])/gi,XF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function YR(t){return encodeURIComponent(t).replace(WH,(e,n)=>XF[n]??e)}function ew(t){return`${t}`}class mf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new KF,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function YF(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,c]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],h=n.get(o)||[];h.push(c),n.set(o,h)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const i=e.fromObject[n],r=Array.isArray(i)?i.map(ew):[ew(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{n.push({param:i,value:s,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new mf({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(ew(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(ew(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class zH{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function ry(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function QF(t){return typeof Blob<"u"&&t instanceof Blob}function JF(t){return typeof FormData<"u"&&t instanceof FormData}class Up{constructor(e,n,i,r){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function jH(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new yl,this.context??=new zH,this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const c=n.indexOf("?");this.urlWithParams=n+(-1===c?"?":c<n.length-1?"&":"")+o}}else this.params=new mf,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||ry(this.body)||QF(this.body)||JF(this.body)||function $H(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)?this.body:this.body instanceof mf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||JF(this.body)?null:QF(this.body)?this.body.type||null:ry(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof mf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=void 0!==e.body?e.body:this.body,c=e.withCredentials??this.withCredentials,h=e.reportProgress??this.reportProgress;let p=e.headers||this.headers,m=e.params||this.params;const y=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((I,L)=>I.set(L,e.setHeaders[L]),p)),e.setParams&&(m=Object.keys(e.setParams).reduce((I,L)=>I.set(L,e.setParams[L]),m)),new Up(n,i,o,{params:m,headers:p,context:y,reportProgress:h,responseType:r,withCredentials:c,transferCache:s})}}var vf=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(vf||{});class iT{constructor(e,n=_f.Ok,i="OK"){this.headers=e.headers||new yl,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class tw extends iT{constructor(e={}){super(e),this.type=vf.ResponseHeader}clone(e={}){return new tw({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class jm extends iT{constructor(e={}){super(e),this.type=vf.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new jm({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class lh extends iT{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}var _f=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(_f||{});function XR(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}let nw=(()=>{class t{constructor(n){this.handler=n}request(n,i,r={}){let s;if(n instanceof Up)s=n;else{let h,p;h=r.headers instanceof yl?r.headers:new yl(r.headers),r.params&&(p=r.params instanceof mf?r.params:new mf({fromObject:r.params})),s=new Up(n,i,void 0!==r.body?r.body:null,{headers:h,context:r.context,params:p,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const o=On(s).pipe(fi(h=>this.handler.handle(h)));if(n instanceof Up||"events"===r.observe)return o;const c=o.pipe(St(h=>h instanceof jm));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe((0,ei.T)(h=>{if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return c.pipe((0,ei.T)(h=>{if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return c.pipe((0,ei.T)(h=>{if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return c.pipe((0,ei.T)(h=>h.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:(new mf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,XR(r,i))}post(n,i,r={}){return this.request("POST",n,XR(r,i))}put(n,i,r={}){return this.request("PUT",n,XR(r,i))}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(nT))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac})}}return t})();function JR(t,e){return e(t)}const rw=new d.nKC(""),XH=new d.nKC(""),QH=new d.nKC("");let sw=(()=>{class t extends nT{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null,this.pendingTasks=(0,d.WQX)(d.TgB);const r=(0,d.WQX)(QH,{optional:!0});this.backend=r??n}handle(n){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(rw),...this.injector.get(XH,[])]));this.chain=r.reduceRight((s,o)=>function n2(t,e,n){return(i,r)=>(0,d.N4e)(n,()=>e(i,s=>t(s,r)))}(s,o,this.injector),JR)}const i=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(to(()=>this.pendingTasks.remove(i)))}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(zm),d.KVO(d.uvJ))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac})}}return t})();const sU=/^\)\]\}',?\n/;let sy=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new d.wOt(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Jr(i.\u0275loadImpl()):On(null)).pipe(ve(()=>new Ln.c(s=>{const o=i.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((X,Q)=>o.setRequestHeader(X,Q.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const X=n.detectContentTypeHeader();null!==X&&o.setRequestHeader("Content-Type",X)}if(n.responseType){const X=n.responseType.toLowerCase();o.responseType="json"!==X?X:"text"}const c=n.serializeBody();let h=null;const p=()=>{if(null!==h)return h;const X=o.statusText||"OK",Q=new yl(o.getAllResponseHeaders()),pe=function oU(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||n.url;return h=new tw({headers:Q,status:o.status,statusText:X,url:pe}),h},m=()=>{let{headers:X,status:Q,statusText:pe,url:Te}=p(),Le=null;Q!==_f.NoContent&&(Le=typeof o.response>"u"?o.responseText:o.response),0===Q&&(Q=Le?_f.Ok:0);let tt=Q>=200&&Q<300;if("json"===n.responseType&&"string"==typeof Le){const zt=Le;Le=Le.replace(sU,"");try{Le=""!==Le?JSON.parse(Le):null}catch(Ot){Le=zt,tt&&(tt=!1,Le={error:Ot,text:Le})}}tt?(s.next(new jm({body:Le,headers:X,status:Q,statusText:pe,url:Te||void 0})),s.complete()):s.error(new lh({error:Le,headers:X,status:Q,statusText:pe,url:Te||void 0}))},y=X=>{const{url:Q}=p(),pe=new lh({error:X,status:o.status||0,statusText:o.statusText||"Unknown Error",url:Q||void 0});s.error(pe)};let I=!1;const L=X=>{I||(s.next(p()),I=!0);let Q={type:vf.DownloadProgress,loaded:X.loaded};X.lengthComputable&&(Q.total=X.total),"text"===n.responseType&&o.responseText&&(Q.partialText=o.responseText),s.next(Q)},U=X=>{let Q={type:vf.UploadProgress,loaded:X.loaded};X.lengthComputable&&(Q.total=X.total),s.next(Q)};return o.addEventListener("load",m),o.addEventListener("error",y),o.addEventListener("timeout",y),o.addEventListener("abort",y),n.reportProgress&&(o.addEventListener("progress",L),null!==c&&o.upload&&o.upload.addEventListener("progress",U)),o.send(c),s.next({type:vf.Sent}),()=>{o.removeEventListener("error",y),o.removeEventListener("abort",y),o.removeEventListener("load",m),o.removeEventListener("timeout",y),n.reportProgress&&(o.removeEventListener("progress",L),null!==c&&o.upload&&o.upload.removeEventListener("progress",U)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(Ga))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac})}}return t})();const ZR=new d.nKC(""),s2=new d.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),a2=new d.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ex{}let aU=(()=>{class t{constructor(n,i,r){this.doc=n,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xv(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(Be),d.KVO(d.Agw),d.KVO(s2))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac})}}return t})();function tx(t,e){const n=t.url.toLowerCase();if(!(0,d.WQX)(ZR)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const i=(0,d.WQX)(ex).getToken(),r=(0,d.WQX)(a2);return null!=i&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}const _ee=["*"];let aw;function oy(t){return function gU(){if(void 0===aw&&(aw=null,typeof window<"u")){const t=window;void 0!==t.trustedTypes&&(aw=t.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return aw}()?.createHTML(t)||t}function ax(t){return Error(`Unable to find icon with the name "${t}"`)}function oT(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function lx(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class zp{constructor(e,n,i){this.url=e,this.svgText=n,this.options=i}}let lw=(()=>{class t{constructor(n,i,r,s){this._httpClient=n,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(n,i,r){return this.addSvgIconInNamespace("",n,i,r)}addSvgIconLiteral(n,i,r){return this.addSvgIconLiteralInNamespace("",n,i,r)}addSvgIconInNamespace(n,i,r,s){return this._addSvgIconConfig(n,i,new zp(r,null,s))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,i,r,s){const o=this._sanitizer.sanitize(d.WPN.HTML,r);if(!o)throw lx(r);const c=oy(o);return this._addSvgIconConfig(n,i,new zp("",c,s))}addSvgIconSet(n,i){return this.addSvgIconSetInNamespace("",n,i)}addSvgIconSetLiteral(n,i){return this.addSvgIconSetLiteralInNamespace("",n,i)}addSvgIconSetInNamespace(n,i,r){return this._addSvgIconSetConfig(n,new zp(i,null,r))}addSvgIconSetLiteralInNamespace(n,i,r){const s=this._sanitizer.sanitize(d.WPN.HTML,i);if(!s)throw lx(i);const o=oy(s);return this._addSvgIconSetConfig(n,new zp("",o,r))}registerFontClassAlias(n,i=n){return this._fontCssClassesByAlias.set(n,i),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(...n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){const i=this._sanitizer.sanitize(d.WPN.RESOURCE_URL,n);if(!i)throw oT(n);const r=this._cachedIconsByUrl.get(i);return r?On(cw(r)):this._loadSvgIconFromConfig(new zp(n,null)).pipe(ii(s=>this._cachedIconsByUrl.set(i,s)),(0,ei.T)(s=>cw(s)))}getNamedSvgIcon(n,i=""){const r=cx(i,n);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,n),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(n,o):Ud(ax(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?On(cw(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe((0,ei.T)(i=>cw(i)))}_getSvgFromIconSetConfigs(n,i){const r=this._extractIconWithNameFromAnySet(n,i);return r?On(r):R_(i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Lr(c=>{const p=`Loading icon set URL: ${this._sanitizer.sanitize(d.WPN.RESOURCE_URL,o.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(p)),On(null)})))).pipe((0,ei.T)(()=>{const o=this._extractIconWithNameFromAnySet(n,i);if(!o)throw ax(n);return o}))}_extractIconWithNameFromAnySet(n,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(n)>-1){const o=this._svgElementFromConfig(s),c=this._extractSvgIconFromSet(o,n,s.options);if(c)return c}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe(ii(i=>n.svgText=i),(0,ei.T)(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?On(null):this._fetchIcon(n).pipe(ii(i=>n.svgText=i))}_extractSvgIconFromSet(n,i,r){const s=n.querySelector(`[id="${i}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const c=this._svgElementFromString(oy("<svg></svg>"));return c.appendChild(o),this._setSvgAttributes(c,r)}_svgElementFromString(n){const i=this._document.createElement("DIV");i.innerHTML=n;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(n){const i=this._svgElementFromString(oy("<svg></svg>")),r=n.attributes;for(let s=0;s<r.length;s++){const{name:o,value:c}=r[s];"id"!==o&&i.setAttribute(o,c)}for(let s=0;s<n.childNodes.length;s++)n.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(n.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(n,i){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),i&&i.viewBox&&n.setAttribute("viewBox",i.viewBox),n}_fetchIcon(n){const{url:i,options:r}=n,s=r?.withCredentials??!1;if(!this._httpClient)throw function p2(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const o=this._sanitizer.sanitize(d.WPN.RESOURCE_URL,i);if(!o)throw oT(i);const c=this._inProgressUrlFetches.get(o);if(c)return c;const h=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe((0,ei.T)(p=>oy(p)),to(()=>this._inProgressUrlFetches.delete(o)),KC());return this._inProgressUrlFetches.set(o,h),h}_addSvgIconConfig(n,i,r){return this._svgIconConfigs.set(cx(n,i),r),this}_addSvgIconSetConfig(n,i){const r=this._iconSetConfigs.get(n);return r?r.push(i):this._iconSetConfigs.set(n,[i]),this}_svgElementFromConfig(n){if(!n.svgElement){const i=this._svgElementFromString(n.svgText);this._setSvgAttributes(i,n.options),n.svgElement=i}return n.svgElement}_getIconConfigFromResolvers(n,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,n);if(s)return m2(s)?new zp(s.url,null,s.options):new zp(s,null)}}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(nw,8),d.KVO(fr),d.KVO(Be,8),d.KVO(d.zcH))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function cw(t){return t.cloneNode(!0)}function cx(t,e){return t+":"+e}function m2(t){return!(!t.url||!t.options)}const v2=new d.nKC("MAT_ICON_DEFAULT_OPTIONS"),_2=new d.nKC("mat-icon-location",{providedIn:"root",factory:function y2(){const t=(0,d.WQX)(Be),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),ux=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],vU=ux.map(t=>`[${t}]`).join(", "),_U=/^url\(['"]?#(.*?)['"]?\)$/;let yU=(()=>{class t{get color(){return this._color||this._defaultColor}set color(n){this._color=n}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){const i=this._cleanupFontValue(n);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){const i=this._cleanupFontValue(n);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(n,i,r,s,o,c){this._elementRef=n,this._iconRegistry=i,this._location=s,this._errorHandler=o,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Pr.yU.EMPTY,c&&(c.color&&(this.color=this._defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),r||n.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(n){if(!n)return["",""];const i=n.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const n=this._elementsWithExternalReferences;if(n&&n.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){const n=this._elementRef.nativeElement;let i=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=n.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const n=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>n.classList.remove(r)),i.forEach(r=>n.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return"string"==typeof n?n.trim().split(" ")[0]:n}_prependPathToReferences(n){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${n}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(n){const i=n.querySelectorAll(vU),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)ux.forEach(o=>{const c=i[s],h=c.getAttribute(o),p=h?h.match(_U):null;if(p){let m=r.get(c);m||(m=[],r.set(c,m)),m.push({name:o,value:p[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){const[i,r]=this._splitIconName(n);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Me(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.aKT),d.rXU(lw),d.kS0("aria-hidden"),d.rXU(_2),d.rXU(d.zcH),d.rXU(v2,8))}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){2&i&&(d.BMQ("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),d.HbH(r.color?"mat-"+r.color:""),d.AVh("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:[d.Mj6.HasDecoratorInputTransform,"inline","inline",d.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[d.GFd,d.aNF],ngContentSelectors:_ee,decls:1,vars:0,template:function(i,r){1&i&&(d.NAR(),d.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return t})(),b2=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({imports:[ao,ao]})}}return t})();const dx=xa({passive:!0});let bU=(()=>{class t{constructor(n,i){this._platform=n,this._ngZone=i,this._monitoredElements=new Map}monitor(n){if(!this._platform.isBrowser)return Co;const i=ih(n),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new q.B,o="cdk-text-field-autofilled",c=h=>{"cdk-text-field-autofill-start"!==h.animationName||i.classList.contains(o)?"cdk-text-field-autofill-end"===h.animationName&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!1}))):(i.classList.add(o),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",c,dx),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",c,dx)}}),s}stopMonitoring(n){const i=ih(n),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((n,i)=>this.stopMonitoring(i))}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(Ls),d.KVO(d.SKi))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),CU=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({})}}return t})();const wU=new d.nKC("MAT_INPUT_VALUE_ACCESSOR"),EU=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let SU=0,C2=(()=>{class t{get disabled(){return this._disabled}set disabled(n){this._disabled=Y_(n),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(n){this._id=n||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ra.required)??!1}set required(n){this._required=Y_(n)}get type(){return this._type}set type(n){this._type=n||"text",this._validateType(),!this._isTextarea&&yS().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(n){this._errorStateTracker.matcher=n}get value(){return this._inputValueAccessor.value}set value(n){n!==this.value&&(this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=Y_(n)}get errorState(){return this._errorStateTracker.errorState}set errorState(n){this._errorStateTracker.errorState=n}constructor(n,i,r,s,o,c,h,p,m,y){this._elementRef=n,this._platform=i,this.ngControl=r,this._autofillMonitor=p,this._formField=y,this._uid="mat-input-"+SU++,this.focused=!1,this.stateChanges=new q.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>yS().has(U)),this._iOSKeyupListener=U=>{const X=U.target;!X.value&&0===X.selectionStart&&0===X.selectionEnd&&(X.setSelectionRange(1,1),X.setSelectionRange(0,0))};const I=this._elementRef.nativeElement,L=I.nodeName.toLowerCase();this._inputValueAccessor=h||I,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&m.runOutsideAngular(()=>{n.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new WS(c,r,o,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===L,this._isTextarea="textarea"===L,this._isInFormField=!!y,this._isNativeSelect&&(this.controlType=I.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(n){n!==this.focused&&(this.focused=n,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_dirtyCheckPlaceholder(){const n=this._getPlaceholder();if(n!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=n,n?i.setAttribute("placeholder",n):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){EU.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const n=this._elementRef.nativeElement,i=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const n=this._elementRef.nativeElement;return this._isNativeSelect&&(n.multiple||n.size>1)}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.aKT),d.rXU(Ls),d.rXU(cd,10),d.rXU(df,8),d.rXU(B_,8),d.rXU(Gm),d.rXU(wU,10),d.rXU(bU),d.rXU(d.SKi),d.rXU(JC,8))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&d.bIt("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(d.Mr5("id",r.id)("disabled",r.disabled)("required",r.required),d.BMQ("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),d.AVh("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[d.Mj6.None,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[d.Jv_([{provide:$R,useExisting:t}]),d.OA$]})}}return t})(),hx=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({imports:[ao,ZC,ZC,CU,ao]})}}return t})();const w2=["addListener","removeListener"],E2=["addEventListener","removeEventListener"],S2=["on","off"];function jp(t,e,n,i){if((0,vi.T)(n)&&(i=n,n=void 0),i)return jp(t,e,n).pipe(Wh(i));const[r,s]=function A2(t){return(0,vi.T)(t.addEventListener)&&(0,vi.T)(t.removeEventListener)}(t)?E2.map(o=>c=>t[o](e,c,n)):function T2(t){return(0,vi.T)(t.addListener)&&(0,vi.T)(t.removeListener)}(t)?w2.map(fx(t,e)):function I2(t){return(0,vi.T)(t.on)&&(0,vi.T)(t.off)}(t)?S2.map(fx(t,e)):[];if(!r&&ci(t))return xr(o=>jp(o,e,n))(bo(t));if(!r)throw new TypeError("Invalid event target");return new Ln.c(o=>{const c=(...h)=>o.next(1<h.length?h:h[0]);return r(c),()=>s(c)})}function fx(t,e){return n=>i=>t[n](e,i)}const ay={schedule(t){let e=requestAnimationFrame,n=cancelAnimationFrame;const{delegate:i}=ay;i&&(e=i.requestAnimationFrame,n=i.cancelAnimationFrame);const r=e(s=>{n=void 0,t(s)});return new Pr.yU(()=>n?.(r))},requestAnimationFrame(...t){const{delegate:e}=ay;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:e}=ay;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};new class TU extends Nm{flush(e){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===n&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===n&&i.shift();)e.unsubscribe();throw r}}}(class D2 extends K_{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,i=0){return null!==i&&i>0?super.requestAsyncId(e,n,i):(e.actions.push(this),e._scheduled||(e._scheduled=ay.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,n,i);const{actions:s}=e;null!=n&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==n&&(ay.cancelAnimationFrame(n),e._scheduled=void 0)}});let uw,aT=1;const dw={};function px(t){return t in dw&&(delete dw[t],!0)}const x2={setImmediate(t){const e=aT++;return dw[e]=!0,uw||(uw=Promise.resolve()),uw.then(()=>px(e)&&t()),e},clearImmediate(t){px(t)}},{setImmediate:P2,clearImmediate:M2}=x2,hw={setImmediate(...t){const{delegate:e}=hw;return(e?.setImmediate||P2)(...t)},clearImmediate(t){const{delegate:e}=hw;return(e?.clearImmediate||M2)(t)},delegate:void 0};new class DU extends Nm{flush(e){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===n&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===n&&i.shift();)e.unsubscribe();throw r}}}(class N2 extends K_{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,i=0){return null!==i&&i>0?super.requestAsyncId(e,n,i):(e.actions.push(this),e._scheduled||(e._scheduled=hw.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,n,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,n,i);const{actions:s}=e;null!=n&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==n&&(hw.clearImmediate(n),e._scheduled===n&&(e._scheduled=void 0))}});function vx(t=0,e,n=N4){let i=-1;return null!=e&&(p_(e)?n=e:i=e),new Ln.c(r=>{let s=function mx(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function lT(t,e=xS){return function gx(t){return(0,Or.N)((e,n)=>{let i=!1,r=null,s=null,o=!1;const c=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const p=r;r=null,n.next(p)}o&&n.complete()},h=()=>{s=null,o&&n.complete()};e.subscribe((0,Oi._)(n,p=>{i=!0,r=p,s||bo(t(p)).subscribe(s=(0,Oi._)(n,c,h))},()=>{o=!0,(!i||!s||s.closed)&&n.complete()}))})}(()=>vx(t,e))}let _x=(()=>{class t{constructor(n,i,r){this._ngZone=n,this._platform=i,this._scrolled=new q.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){const i=this.scrollContainers.get(n);i&&(i.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=20){return this._platform.isBrowser?new Ln.c(i=>{this._globalSubscription||this._addGlobalListener();const r=n>0?this._scrolled.pipe(lT(n)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):On()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(n,i){const r=this.getAncestorScrollContainers(n);return this.scrolled(i).pipe(St(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(n){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,n)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,i){let r=ih(i),s=n.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>jp(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(d.SKi),d.KVO(Ls),d.KVO(Be,8))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xU=(()=>{class t{constructor(n,i,r,s){this.elementRef=n,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new q.B,this._elementScrolled=new Ln.c(o=>this.ngZone.runOutsideAngular(()=>jp(this.elementRef.nativeElement,"scroll").pipe(Qi(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(n){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==n.left&&(n.left=r?n.end:n.start),null==n.right&&(n.right=r?n.start:n.end),null!=n.bottom&&(n.top=i.scrollHeight-i.clientHeight-n.bottom),r&&xC()!=ud.NORMAL?(null!=n.left&&(n.right=i.scrollWidth-i.clientWidth-n.left),xC()==ud.INVERTED?n.left=n.right:xC()==ud.NEGATED&&(n.left=n.right?-n.right:n.right)):null!=n.right&&(n.left=i.scrollWidth-i.clientWidth-n.right),this._applyScrollToOptions(n)}_applyScrollToOptions(n){const i=this.elementRef.nativeElement;Ao()?i.scrollTo(n):(null!=n.top&&(i.scrollTop=n.top),null!=n.left&&(i.scrollLeft=n.left))}measureScrollOffset(n){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==n)return s.scrollTop;if("bottom"==n)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==n?n=o?r:i:"end"==n&&(n=o?i:r),o&&xC()==ud.INVERTED?n==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&xC()==ud.NEGATED?n==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:n==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.aKT),d.rXU(_x),d.rXU(d.SKi),d.rXU(sh,8))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}}return t})(),$m=(()=>{class t{constructor(n,i,r){this._platform=n,this._change=new q.B,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(n.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+r,right:n.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,i=this._getWindow(),r=n.documentElement,s=r.getBoundingClientRect();return{top:-s.top||n.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||n.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(n=20){return n>0?this._change.pipe(lT(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(Ls),d.KVO(d.SKi),d.KVO(Be,8))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),uT=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({})}}return t})(),qm=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({imports:[BC,uT,BC,uT]})}}return t})();class V2{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class VU extends V2{constructor(e,n,i,r,s){super(),this.component=e,this.viewContainerRef=n,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class fw extends V2{constructor(e,n,i,r){super(),this.templateRef=e,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class GU extends V2{constructor(e){super(),this.element=e instanceof d.aKT?e.nativeElement:e}}class G2{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof VU?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof fw?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof GU?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class BU extends G2{constructor(e,n,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=n,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const c=o.element,h=this._document.createComment("dom-portal");c.parentNode.insertBefore(h,c),this.outletElement.appendChild(c),this._attachedPortal=o,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(c,h)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||d.zZn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let n=e.viewContainerRef,i=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);-1!==r&&n.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let B2=(()=>{class t extends fw{constructor(n,i){super(n,i)}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.C4Q),d.rXU(d.c1b))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[d.Vt3]})}}return t})(),yx=(()=>{class t extends G2{constructor(n,i,r){super(),this._componentFactoryResolver=n,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new d.bkB,this.attachDomPortal=s=>{const o=s.element,c=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(c,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(o,c)})},this._document=r}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);const i=null!=n.viewContainerRef?n.viewContainerRef:this._viewContainerRef,s=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),o=i.createComponent(s,i.length,n.injector||i.injector,n.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=n,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(n){n.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.OM3),d.rXU(d.c1b),d.rXU(Be))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[d.Mj6.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[d.Vt3]})}}return t})(),ly=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({})}}return t})();const H2=Ao();class Vee{constructor(e,n){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Zo(-this._previousScrollPosition.left),e.style.top=Zo(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),H2&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),H2&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const n=this._document.body,i=this._viewportRuler.getViewportSize();return n.scrollHeight>i.height||n.scrollWidth>i.width}}class pw{constructor(e,n,i,r){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(St(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class U2{enable(){}disable(){}attach(){}}function gw(t,e){return e.some(n=>t.bottom<n.top||t.top>n.bottom||t.right<n.left||t.left>n.right)}function W2(t,e){return e.some(n=>t.top<n.top||t.bottom>n.bottom||t.left<n.left||t.right>n.right)}class z2{constructor(e,n,i,r){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();gw(n,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let HU=(()=>{class t{constructor(n,i,r,s){this._scrollDispatcher=n,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new U2,this.close=o=>new pw(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Vee(this._viewportRuler,this._document),this.reposition=o=>new z2(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(_x),d.KVO($m),d.KVO(d.SKi),d.KVO(Be))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class j2{constructor(e){if(this.scrollStrategy=new U2,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const n=Object.keys(e);for(const i of n)void 0!==e[i]&&(this[i]=e[i])}}}class q2{constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}}let hT=(()=>{class t{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){const i=this._attachedOverlays.indexOf(n);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(Be))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Hee=(()=>{class t extends hT{constructor(n,i){super(n),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const c=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(r)):c.next(r);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(Be),d.KVO(d.SKi,8))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),K2=(()=>{class t extends hT{constructor(n,i,r){super(n),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=nh(s)},this._clickListener=s=>{const o=nh(s),c="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let p=h.length-1;p>-1;p--){const m=h[p];if(m._outsidePointerEvents.observers.length<1||!m.hasAttached())continue;if(m.overlayElement.contains(o)||m.overlayElement.contains(c))break;const y=m._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>y.next(s)):y.next(s)}}}add(n){if(super.add(n),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(Be),d.KVO(Ls),d.KVO(d.SKi,8))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Y2=(()=>{class t{constructor(n,i){this._platform=i,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n="cdk-overlay-container";if(this._platform.isBrowser||wS()){const r=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(n),wS()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(Be),d.KVO(Ls))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class X2{constructor(e,n,i,r,s,o,c,h,p,m=!1){this._portalOutlet=e,this._host=n,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=c,this._location=h,this._outsideClickDispatcher=p,this._animationsDisabled=m,this._backdropElement=null,this._backdropClick=new q.B,this._attachments=new q.B,this._detachments=new q.B,this._locationChanges=Pr.yU.EMPTY,this._backdropClickHandler=y=>this._backdropClick.next(y),this._backdropTransitionendHandler=y=>{this._disposeBackdrop(y.target)},this._keydownEvents=new q.B,this._outsidePointerEvents=new q.B,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Me(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof n?.onDestroy&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Zo(this._config.width),e.height=Zo(this._config.height),e.minWidth=Zo(this._config.minWidth),e.minHeight=Zo(this._config.minHeight),e.maxWidth=Zo(this._config.maxWidth),e.maxHeight=Zo(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,n,i){const r=NS(n||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Qi(dd(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Km="cdk-overlay-connected-position-bounding-box",UU=/([A-Za-z%]+)$/;class Q2{get positions(){return this._preferredPositions}constructor(e,n,i,r,s){this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new q.B,this._resizeSubscription=Pr.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(Km),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,n=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let o;for(let c of this._preferredPositions){let h=this._getOriginPoint(e,r,c),p=this._getOverlayPoint(h,n,c),m=this._getOverlayFit(p,n,i,c);if(m.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,h);this._canFitWithFlexibleDimensions(m,p,i)?s.push({position:c,origin:h,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(h,c)}):(!o||o.overlayFit.visibleArea<m.visibleArea)&&(o={overlayFit:m,overlayPoint:p,originPoint:h,position:c,overlayRect:n})}if(s.length){let c=null,h=-1;for(const p of s){const m=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);m>h&&(h=m,c=p)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&bf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Km),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,c=this._isRtl()?e.left:e.right;r="start"==i.originX?o:c}return n.left<0&&(r-=n.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,n.top<0&&(s-=n.top),{x:r,y:s}}_getOverlayPoint(e,n,i){let r,s;return r="center"==i.overlayX?-n.width/2:"start"===i.overlayX?this._isRtl()?-n.width:0:this._isRtl()?0:-n.width,s="center"==i.overlayY?-n.height/2:"top"==i.overlayY?0:-n.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,n,i,r){const s=J2(n);let{x:o,y:c}=e,h=this._getOffset(r,"x"),p=this._getOffset(r,"y");h&&(o+=h),p&&(c+=p);let I=0-c,L=c+s.height-i.height,U=this._subtractOverflows(s.width,0-o,o+s.width-i.width),X=this._subtractOverflows(s.height,I,L),Q=U*X;return{visibleArea:Q,isCompletelyWithinViewport:s.width*s.height===Q,fitsInViewportVertically:X===s.height,fitsInViewportHorizontally:U==s.width}}_canFitWithFlexibleDimensions(e,n,i){if(this._hasFlexibleDimensions){const r=i.bottom-n.y,s=i.right-n.x,o=WU(this._overlayRef.getConfig().minHeight),c=WU(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=r)&&(e.fitsInViewportHorizontally||null!=c&&c<=s)}return!1}_pushOverlayOnScreen(e,n,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=J2(n),s=this._viewportRect,o=Math.max(e.x+r.width-s.width,0),c=Math.max(e.y+r.height-s.height,0),h=Math.max(s.top-i.top-e.y,0),p=Math.max(s.left-i.left-e.x,0);let m=0,y=0;return m=r.width<=s.width?p||-o:e.x<this._viewportMargin?s.left-i.left-e.x:0,y=r.height<=s.height?h||-c:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:m,y},{x:e.x+m,y:e.y+y}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!function zU(t,e){return t===e||t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}(this._lastScrollVisibility,i)){const r=new q2(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const n=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<n.length;s++)n[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,n){const i=this._viewportRect,r=this._isRtl();let s,o,c,m,y,I;if("top"===n.overlayY)o=e.y,s=i.height-o+this._viewportMargin;else if("bottom"===n.overlayY)c=i.height-e.y+2*this._viewportMargin,s=i.height-c+this._viewportMargin;else{const L=Math.min(i.bottom-e.y+i.top,e.y),U=this._lastBoundingBoxSize.height;s=2*L,o=e.y-L,s>U&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-U/2)}if("end"===n.overlayX&&!r||"start"===n.overlayX&&r)I=i.width-e.x+2*this._viewportMargin,m=e.x-this._viewportMargin;else if("start"===n.overlayX&&!r||"end"===n.overlayX&&r)y=e.x,m=i.right-e.x;else{const L=Math.min(i.right-e.x+i.left,e.x),U=this._lastBoundingBoxSize.width;m=2*L,y=e.x-L,m>U&&!this._isInitialRender&&!this._growAfterOpen&&(y=e.x-U/2)}return{top:o,left:y,bottom:c,right:I,width:m,height:s}}_setBoundingBoxStyles(e,n){const i=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=Zo(i.height),r.top=Zo(i.top),r.bottom=Zo(i.bottom),r.width=Zo(i.width),r.left=Zo(i.left),r.right=Zo(i.right),r.alignItems="center"===n.overlayX?"center":"end"===n.overlayX?"flex-end":"flex-start",r.justifyContent="center"===n.overlayY?"center":"bottom"===n.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Zo(s)),o&&(r.maxWidth=Zo(o))}this._lastBoundingBoxSize=i,bf(this._boundingBox.style,r)}_resetBoundingBoxStyles(){bf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){bf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const m=this._viewportRuler.getViewportScrollPosition();bf(i,this._getExactOverlayY(n,e,m)),bf(i,this._getExactOverlayX(n,e,m))}else i.position="static";let c="",h=this._getOffset(n,"x"),p=this._getOffset(n,"y");h&&(c+=`translateX(${h}px) `),p&&(c+=`translateY(${p}px)`),i.transform=c.trim(),o.maxHeight&&(r?i.maxHeight=Zo(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=Zo(o.maxWidth):s&&(i.maxWidth="")),bf(this._pane.style,i)}_getExactOverlayY(e,n,i){let r={top:"",bottom:""},s=this._getOverlayPoint(n,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Zo(s.y),r}_getExactOverlayX(e,n,i){let o,r={left:"",right:""},s=this._getOverlayPoint(n,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Zo(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:W2(e,i),isOriginOutsideView:gw(e,i),isOverlayClipped:W2(n,i),isOverlayOutsideView:gw(n,i)}}_subtractOverflows(e,...n){return n.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return"x"===n?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&NS(e).forEach(n=>{""!==n&&-1===this._appliedPanelClasses.indexOf(n)&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof d.aKT)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const n=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+n,height:i,width:n}}}function bf(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function WU(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(UU);return n&&"px"!==n?null:parseFloat(e)}return t||null}function J2(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const Cx="cdk-global-overlay-wrapper";class $U{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Cx),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:c}=i,h=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),p=!("100%"!==s&&"100vh"!==s||c&&"100%"!==c&&"100vh"!==c),m=this._xPosition,y=this._xOffset,I="rtl"===this._overlayRef.getConfig().direction;let L="",U="",X="";h?X="flex-start":"center"===m?(X="center",I?U=y:L=y):I?"left"===m||"end"===m?(X="flex-end",L=y):("right"===m||"start"===m)&&(X="flex-start",U=y):"left"===m||"start"===m?(X="flex-start",L=y):("right"===m||"end"===m)&&(X="flex-end",U=y),e.position=this._cssPosition,e.marginLeft=h?"0":L,e.marginTop=p?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=h?"0":U,n.justifyContent=X,n.alignItems=p?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,i=n.style;n.classList.remove(Cx),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Z2=(()=>{class t{constructor(n,i,r,s){this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new $U}flexibleConnectedTo(n){return new Q2(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||t)(d.KVO($m),d.KVO(Be),d.KVO(Ls),d.KVO(Y2))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ek=0,Cf=(()=>{class t{constructor(n,i,r,s,o,c,h,p,m,y,I,L){this.scrollStrategies=n,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=c,this._ngZone=h,this._document=p,this._directionality=m,this._location=y,this._outsideClickDispatcher=I,this._animationsModuleType=L}create(n){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new j2(n);return o.direction=o.direction||this._directionality.value,new X2(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(n){const i=this._document.createElement("div");return i.id="cdk-overlay-"+ek++,i.classList.add("cdk-overlay-pane"),n.appendChild(i),i}_createHostElement(){const n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(d.o8S)),new BU(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(HU),d.KVO(Y2),d.KVO(d.OM3),d.KVO(Z2),d.KVO(Hee),d.KVO(d.zZn),d.KVO(d.SKi),d.KVO(Be),d.KVO(sh),d.KVO(Ae),d.KVO(K2),d.KVO(d.bc$,8))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const qU=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],wx=new d.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const t=(0,d.WQX)(Cf);return()=>t.scrollStrategies.reposition()}});let fT=(()=>{class t{constructor(n){this.elementRef=n}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.aKT))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}}return t})(),Ex=(()=>{class t{get offsetX(){return this._offsetX}set offsetX(n){this._offsetX=n,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(n){this._offsetY=n,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(n){this._disposeOnNavigation=n}constructor(n,i,r,s,o){this._overlay=n,this._dir=o,this._backdropSubscription=Pr.yU.EMPTY,this._attachSubscription=Pr.yU.EMPTY,this._detachSubscription=Pr.yU.EMPTY,this._positionSubscription=Pr.yU.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,d.WQX)(d.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new d.bkB,this.positionChange=new d.bkB,this.attach=new d.bkB,this.detach=new d.bkB,this.overlayKeydown=new d.bkB,this.overlayOutsideClick=new d.bkB,this._templatePortal=new fw(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(n){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),n.origin&&this.open&&this._position.apply()),n.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=qU);const n=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=n.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=n.detachments().subscribe(()=>this.detach.emit()),n.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Vp(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{const r=this._getOriginElement(),s=nh(i);(!r||r!==s&&!r.contains(s))&&this.overlayOutsideClick.next(i)})}_buildConfig(){const n=this._position=this.positionStrategy||this._createPositionStrategy(),i=new j2({direction:this._dir,positionStrategy:n,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(n){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return n.setOrigin(this._getOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const n=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(n),n}_getOrigin(){return this.origin instanceof fT?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof fT?this.origin.elementRef.nativeElement:this.origin instanceof d.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(n=>{this.backdropClick.emit(n)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function L2(t,e=!1){return(0,Or.N)((n,i)=>{let r=0;n.subscribe((0,Oi._)(i,s=>{const o=t(s,r++);(o||e)&&i.next(s),!o&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(n=>{this._ngZone.run(()=>this.positionChange.emit(n)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(Cf),d.rXU(d.C4Q),d.rXU(d.c1b),d.rXU(wx),d.rXU(sh,8))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[d.Mj6.None,"cdkConnectedOverlayOrigin","origin"],positions:[d.Mj6.None,"cdkConnectedOverlayPositions","positions"],positionStrategy:[d.Mj6.None,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[d.Mj6.None,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[d.Mj6.None,"cdkConnectedOverlayOffsetY","offsetY"],width:[d.Mj6.None,"cdkConnectedOverlayWidth","width"],height:[d.Mj6.None,"cdkConnectedOverlayHeight","height"],minWidth:[d.Mj6.None,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[d.Mj6.None,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[d.Mj6.None,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[d.Mj6.None,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[d.Mj6.None,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[d.Mj6.None,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[d.Mj6.None,"cdkConnectedOverlayOpen","open"],disableClose:[d.Mj6.None,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[d.Mj6.None,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[d.Mj6.HasDecoratorInputTransform,"cdkConnectedOverlayHasBackdrop","hasBackdrop",d.L39],lockPosition:[d.Mj6.HasDecoratorInputTransform,"cdkConnectedOverlayLockPosition","lockPosition",d.L39],flexibleDimensions:[d.Mj6.HasDecoratorInputTransform,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",d.L39],growAfterOpen:[d.Mj6.HasDecoratorInputTransform,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",d.L39],push:[d.Mj6.HasDecoratorInputTransform,"cdkConnectedOverlayPush","push",d.L39],disposeOnNavigation:[d.Mj6.HasDecoratorInputTransform,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",d.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[d.GFd,d.OA$]})}}return t})();const nk={provide:wx,deps:[Cf],useFactory:function tk(t){return()=>t.scrollStrategies.reposition()}};let Sx=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({providers:[Cf,nk],imports:[BC,ly,qm,qm]})}}return t})();class ik{}function rk(t){return t&&"function"==typeof t.connect&&!(t instanceof M)}var $p=function(t){return t[t.REPLACED=0]="REPLACED",t[t.INSERTED=1]="INSERTED",t[t.MOVED=2]="MOVED",t[t.REMOVED=3]="REMOVED",t}($p||{});const pT=new d.nKC("_ViewRepeater");class YU{applyChanges(e,n,i,r,s){e.forEachOperation((o,c,h)=>{let p,m;if(null==o.previousIndex){const y=i(o,c,h);p=n.createEmbeddedView(y.templateRef,y.context,y.index),m=$p.INSERTED}else null==h?(n.remove(c),m=$p.REMOVED):(p=n.get(c),n.move(p,h),m=$p.MOVED);s&&s({context:p?.context,operation:m,record:o})})}detach(){}}class zee{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,n,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new q.B,n&&n.length&&(e?n.forEach(s=>this._markSelected(s)):this._markSelected(n[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const n=this._hasQueuedChanges();return this._emitChangeEvent(),n}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const n=this._hasQueuedChanges();return this._emitChangeEvent(),n}setSelection(...e){this._verifyValueAssignment(e);const n=this.selected,i=new Set(e);e.forEach(s=>this._markSelected(s)),n.filter(s=>!i.has(this._getConcreteValue(s,i))).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const n=this._hasQueuedChanges();return e&&this._emitChangeEvent(),n}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e,n){if(this.compareWith){n=n??this._selection;for(let i of n)if(this.compareWith(e,i))return i;return e}return e}}const jee=["trigger"],sk=["panel"],QU=[[["mat-select-trigger"]],"*"],ok=["mat-select-trigger","*"];function JU(t,e){if(1&t&&(d.j41(0,"span",4),d.EFF(1),d.k0s()),2&t){const n=d.XpG();d.R7$(),d.JRh(n.placeholder)}}function mw(t,e){1&t&&d.SdG(0)}function gT(t,e){if(1&t&&(d.j41(0,"span",11),d.EFF(1),d.k0s()),2&t){const n=d.XpG(2);d.R7$(),d.JRh(n.triggerValue)}}function ZU(t,e){if(1&t&&(d.j41(0,"span",10),d.DNE(1,mw,1,0)(2,gT,2,1),d.k0s()),2&t){const n=d.XpG();d.R7$(),d.vxM(1,n.customTrigger?1:2)}}function e6(t,e){if(1&t){const n=d.RV6();d.j41(0,"div",12,1),d.bIt("@transformPanel.done",function(r){d.eBV(n);const s=d.XpG();return d.Njj(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){d.eBV(n);const s=d.XpG();return d.Njj(s._handleKeydown(r))}),d.SdG(2,1),d.k0s()}if(2&t){const n=d.XpG();d.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",n._getPanelTheme(),""),d.Y8G("ngClass",n.panelClass)("@transformPanel","showing"),d.BMQ("id",n.id+"-panel")("aria-multiselectable",n.multiple)("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby())}}const t6={transformPanelWrap:(0,Hi.hZ)("transformPanelWrap",[(0,Hi.kY)("* => void",(0,Hi.P)("@transformPanel",[(0,Hi.MA)()],{optional:!0}))]),transformPanel:(0,Hi.hZ)("transformPanel",[(0,Hi.wk)("void",(0,Hi.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,Hi.kY)("void => showing",(0,Hi.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Hi.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,Hi.kY)("* => void",(0,Hi.i0)("100ms linear",(0,Hi.iF)({opacity:0})))])};let ak=0;const Tx=new d.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const t=(0,d.WQX)(Cf);return()=>t.scrollStrategies.reposition()}}),i6=new d.nKC("MAT_SELECT_CONFIG"),r6={provide:Tx,deps:[Cf],useFactory:function n6(t){return()=>t.scrollStrategies.reposition()}},s6=new d.nKC("MatSelectTrigger");class o6{constructor(e,n){this.source=e,this.value=n}}let a6=(()=>{class t{_scrollOptionIntoView(n){const i=this.options.toArray()[n];if(i){const r=this.panel.nativeElement,s=function dH(t,e,n){if(n.length){let i=e.toArray(),r=n.toArray(),s=0;for(let o=0;o<t+1;o++)i[o].group&&i[o].group===r[s]&&s++;return s}return 0}(n,this.options,this.optionGroups),o=i._getHostElement();r.scrollTop=0===n&&1===s?0:function hH(t,e,n,i){return t<n?t:t+e>n+i?Math.max(0,t-i+e):n}(o.offsetTop,o.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(n){return new o6(this,n)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(n){this._hideSingleSelectionIndicator=n,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(n){this._placeholder=n,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Ra.required)??!1}set required(n){this._required=n,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(n){this._multiple=n}get compareWith(){return this._compareWith}set compareWith(n){this._compareWith=n,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(n){this._assignValue(n)&&this._onChange(n)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(n){this._errorStateTracker.matcher=n}get id(){return this._id}set id(n){this._id=n||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(n){this._errorStateTracker.errorState=n}constructor(n,i,r,s,o,c,h,p,m,y,I,L,U,X){this._viewportRuler=n,this._changeDetectorRef=i,this._elementRef=o,this._dir=c,this._parentFormField=m,this.ngControl=y,this._liveAnnouncer=U,this._defaultOptions=X,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(Q,pe)=>Q===pe,this._uid="mat-select-"+ak++,this._triggerAriaLabelledBy=null,this._destroy=new q.B,this.stateChanges=new q.B,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+ak++,this._panelDoneAnimatingStream=new q.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new q.B,this.optionSelectionChanges=Ll(()=>{const Q=this.options;return Q?Q.changes.pipe(it(Q),ve(()=>dd(...Q.map(pe=>pe.onSelectionChange)))):this._initialized.pipe(ve(()=>this.optionSelectionChanges))}),this.openedChange=new d.bkB,this._openedStream=this.openedChange.pipe(St(Q=>Q),(0,ei.T)(()=>{})),this._closedStream=this.openedChange.pipe(St(Q=>!Q),(0,ei.T)(()=>{})),this.selectionChange=new d.bkB,this.valueChange=new d.bkB,this._trackedModal=null,this._skipPredicate=Q=>!this.panelOpen&&Q.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=X?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=X.typeaheadDebounceInterval),this._errorStateTracker=new WS(s,y,p,h,this.stateChanges),this._scrollStrategyFactory=L,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(I)||0,this.id=this.id}ngOnInit(){this._selectionModel=new zee(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(PS(),Qi(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Qi(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Qi(this._destroy)).subscribe(n=>{n.added.forEach(i=>i.select()),n.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(it(null),Qi(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const n=this._getTriggerAriaLabelledby(),i=this.ngControl;if(n!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=n,n?r.setAttribute("aria-labelledby",n):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(n){(n.disabled||n.userAriaDescribedBy)&&this.stateChanges.next(),n.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const n=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!n)return;const i=`${this.id}-panel`;this._trackedModal&&dF(this._trackedModal,"aria-owns",i),Fm(n,"aria-owns",i),this._trackedModal=n}_clearFromModal(){this._trackedModal&&(dF(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(n){this._assignValue(n)}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const n=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&n.reverse(),n.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(n){this.disabled||(this.panelOpen?this._handleOpenKeydown(n):this._handleClosedKeydown(n))}_handleClosedKeydown(n){const i=n.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,o=this._keyManager;if(!o.isTyping()&&s&&!Vp(n)||(this.multiple||n.altKey)&&r)n.preventDefault(),this.open();else if(!this.multiple){const c=this.selected;o.onKeydown(n);const h=this.selected;h&&c!==h&&this._liveAnnouncer.announce(h.viewValue,1e4)}}_handleOpenKeydown(n){const i=this._keyManager,r=n.keyCode,s=40===r||38===r,o=i.isTyping();if(s&&n.altKey)n.preventDefault(),this.close();else if(o||13!==r&&32!==r||!i.activeItem||Vp(n))if(!o&&this._multiple&&65===r&&n.ctrlKey){n.preventDefault();const c=this.options.some(h=>!h.disabled&&!h.selected);this.options.forEach(h=>{h.disabled||(c?h.select():h.deselect())})}else{const c=i.activeItemIndex;i.onKeydown(n),this._multiple&&s&&n.shiftKey&&i.activeItem&&i.activeItemIndex!==c&&i.activeItem._selectViaInteraction()}else n.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Me(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(n){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&n)Array.isArray(n),n.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(n);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(n){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,n)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(n){return!!(n!==this._value||this._multiple&&Array.isArray(n))&&(this.options&&this._setSelectionByValue(n),this._value=n,!0)}_getOverlayWidth(n){return"auto"===this.panelWidth?(n instanceof fT?n.elementRef:n||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const n of this.options)n._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new kS(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const n=dd(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Qi(n)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),dd(...this.options.map(i=>i._stateChanges)).pipe(Qi(n)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(n,i){const r=this._selectionModel.isSelected(n);null!=n.value||this._multiple?(r!==n.selected&&(n.selected?this._selectionModel.select(n):this._selectionModel.deselect(n)),i&&this._keyManager.setActiveItem(n),this.multiple&&(this._sortValues(),i&&this.focus())):(n.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(n.value)),r!==this._selectionModel.isSelected(n)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const n=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,n):n.indexOf(i)-n.indexOf(r)),this.stateChanges.next()}}_propagateChanges(n){let i;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:n,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let n=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){n=i;break}this._keyManager.setActiveItem(n)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(n){this._elementRef.nativeElement.focus(n)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const n=this._parentFormField?.getLabelId();return this.ariaLabelledby?(n?n+" ":"")+this.ariaLabelledby:n}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const n=this._parentFormField?.getLabelId();let i=(n?n+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(n){this.openedChange.emit(n)}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static{this.\u0275fac=function(i){return new(i||t)(d.rXU($m),d.rXU(d.gRc),d.rXU(d.SKi),d.rXU(Gm),d.rXU(d.aKT),d.rXU(sh,8),d.rXU(df,8),d.rXU(B_,8),d.rXU(JC,8),d.rXU(cd,10),d.kS0("tabindex"),d.rXU(Tx),d.rXU(Y4),d.rXU(i6,8))}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["mat-select"]],contentQueries:function(i,r,s){if(1&i&&(d.wni(s,s6,5),d.wni(s,uH,5),d.wni(s,$S,5)),2&i){let o;d.mGM(o=d.lsd())&&(r.customTrigger=o.first),d.mGM(o=d.lsd())&&(r.options=o),d.mGM(o=d.lsd())&&(r.optionGroups=o)}},viewQuery:function(i,r){if(1&i&&(d.GBs(jee,5),d.GBs(sk,5),d.GBs(Ex,5)),2&i){let s;d.mGM(s=d.lsd())&&(r.trigger=s.first),d.mGM(s=d.lsd())&&(r.panel=s.first),d.mGM(s=d.lsd())&&(r._overlayDir=s.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&d.bIt("keydown",function(o){return r._handleKeydown(o)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(d.BMQ("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),d.AVh("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[d.Mj6.None,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[d.Mj6.HasDecoratorInputTransform,"disabled","disabled",d.L39],disableRipple:[d.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",d.L39],tabIndex:[d.Mj6.HasDecoratorInputTransform,"tabIndex","tabIndex",n=>null==n?0:(0,d.Udg)(n)],hideSingleSelectionIndicator:[d.Mj6.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",d.L39],placeholder:"placeholder",required:[d.Mj6.HasDecoratorInputTransform,"required","required",d.L39],multiple:[d.Mj6.HasDecoratorInputTransform,"multiple","multiple",d.L39],disableOptionCentering:[d.Mj6.HasDecoratorInputTransform,"disableOptionCentering","disableOptionCentering",d.L39],compareWith:"compareWith",value:"value",ariaLabel:[d.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[d.Mj6.None,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[d.Mj6.HasDecoratorInputTransform,"typeaheadDebounceInterval","typeaheadDebounceInterval",d.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[d.Jv_([{provide:$R,useExisting:t},{provide:jS,useExisting:t}]),d.GFd,d.OA$,d.aNF],ngContentSelectors:ok,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,r){if(1&i){const s=d.RV6();d.NAR(QU),d.j41(0,"div",2,0),d.bIt("click",function(){return d.eBV(s),d.Njj(r.open())}),d.j41(3,"div",3),d.DNE(4,JU,2,1,"span",4)(5,ZU,3,1),d.k0s(),d.j41(6,"div",5)(7,"div",6),d.qSk(),d.j41(8,"svg",7),d.nrm(9,"path",8),d.k0s()()()(),d.DNE(10,e6,3,9,"ng-template",9),d.bIt("backdropClick",function(){return d.eBV(s),d.Njj(r.close())})("attach",function(){return d.eBV(s),d.Njj(r._onAttached())})("detach",function(){return d.eBV(s),d.Njj(r.close())})}if(2&i){const s=d.sdS(1);d.R7$(3),d.BMQ("id",r._valueId),d.R7$(),d.vxM(4,r.empty?4:5),d.R7$(6),d.Y8G("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[fT,Ex,Vi],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[t6.transformPanel]},changeDetection:0})}}return t})(),l6=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({providers:[r6],imports:[Va,Sx,xR,ao,uT,ZC,xR,ao]})}}return t})();const c6=[[["caption"]],[["colgroup"],["col"]],"*"],u6=["caption","colgroup, col","*"];function d6(t,e){1&t&&d.SdG(0,2)}function h6(t,e){1&t&&(d.j41(0,"thead",0),d.eu8(1,1),d.k0s(),d.j41(2,"tbody",0),d.eu8(3,2)(4,3),d.k0s(),d.j41(5,"tfoot",0),d.eu8(6,4),d.k0s())}function f6(t,e){1&t&&d.eu8(0,1)(1,2)(2,3)(3,4)}const ch=new d.nKC("CDK_TABLE");let Ym=(()=>{class t{constructor(n){this.template=n}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.C4Q))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","cdkCellDef",""]],standalone:!0})}}return t})(),cy=(()=>{class t{constructor(n){this.template=n}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.C4Q))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}}return t})(),vw=(()=>{class t{constructor(n){this.template=n}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.C4Q))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}}return t})(),qp=(()=>{class t{get name(){return this._name}set name(n){this._setNameInput(n)}get sticky(){return this._sticky}set sticky(n){n!==this._sticky&&(this._sticky=n,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(n){n!==this._stickyEnd&&(this._stickyEnd=n,this._hasStickyChanged=!0)}constructor(n){this._table=n,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){const n=this._hasStickyChanged;return this.resetStickyChanged(),n}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(n){n&&(this._name=n,this.cssClassFriendlyName=n.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(ch,8))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(i,r,s){if(1&i&&(d.wni(s,Ym,5),d.wni(s,cy,5),d.wni(s,vw,5)),2&i){let o;d.mGM(o=d.lsd())&&(r.cell=o.first),d.mGM(o=d.lsd())&&(r.headerCell=o.first),d.mGM(o=d.lsd())&&(r.footerCell=o.first)}},inputs:{name:[d.Mj6.None,"cdkColumnDef","name"],sticky:[d.Mj6.HasDecoratorInputTransform,"sticky","sticky",d.L39],stickyEnd:[d.Mj6.HasDecoratorInputTransform,"stickyEnd","stickyEnd",d.L39]},standalone:!0,features:[d.Jv_([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),d.GFd]})}}return t})();class Ax{constructor(e,n){n.nativeElement.classList.add(...e._columnCssClassName)}}let mT=(()=>{class t extends Ax{constructor(n,i){super(n,i)}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(qp),d.rXU(d.aKT))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[d.Vt3]})}}return t})(),Rx=(()=>{class t extends Ax{constructor(n,i){super(n,i);const r=n._table?._getCellRole();r&&i.nativeElement.setAttribute("role",r)}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(qp),d.rXU(d.aKT))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[d.Vt3]})}}return t})();class xx{constructor(){this.tasks=[],this.endTasks=[]}}const Px=new d.nKC("_COALESCED_STYLE_SCHEDULER");let vT=(()=>{class t{constructor(n){this._ngZone=n,this._currentSchedule=null,this._destroyed=new q.B}schedule(n){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(n)}scheduleEnd(n){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(n)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new xx,this._getScheduleObservable().pipe(Qi(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const n=this._currentSchedule;this._currentSchedule=new xx;for(const i of n.tasks)i();for(const i of n.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?Jr(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Me(1))}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(d.SKi))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac})}}return t})(),_T=(()=>{class t{constructor(n,i){this.template=n,this._differs=i}ngOnChanges(n){if(!this._columnsDiffer){const i=n.columns&&n.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(n){return this instanceof uy?n.headerCell.template:this instanceof Xm?n.footerCell.template:n.cell.template}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.C4Q),d.rXU(d._q3))}}static{this.\u0275dir=d.FsC({type:t,features:[d.OA$]})}}return t})(),uy=(()=>{class t extends _T{get sticky(){return this._sticky}set sticky(n){n!==this._sticky&&(this._sticky=n,this._hasStickyChanged=!0)}constructor(n,i,r){super(n,i),this._table=r,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(n){super.ngOnChanges(n)}hasStickyChanged(){const n=this._hasStickyChanged;return this.resetStickyChanged(),n}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.C4Q),d.rXU(d._q3),d.rXU(ch,8))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[d.Mj6.None,"cdkHeaderRowDef","columns"],sticky:[d.Mj6.HasDecoratorInputTransform,"cdkHeaderRowDefSticky","sticky",d.L39]},standalone:!0,features:[d.GFd,d.Vt3,d.OA$]})}}return t})(),Xm=(()=>{class t extends _T{get sticky(){return this._sticky}set sticky(n){n!==this._sticky&&(this._sticky=n,this._hasStickyChanged=!0)}constructor(n,i,r){super(n,i),this._table=r,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(n){super.ngOnChanges(n)}hasStickyChanged(){const n=this._hasStickyChanged;return this.resetStickyChanged(),n}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.C4Q),d.rXU(d._q3),d.rXU(ch,8))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[d.Mj6.None,"cdkFooterRowDef","columns"],sticky:[d.Mj6.HasDecoratorInputTransform,"cdkFooterRowDefSticky","sticky",d.L39]},standalone:!0,features:[d.GFd,d.Vt3,d.OA$]})}}return t})(),dy=(()=>{class t extends _T{constructor(n,i,r){super(n,i),this._table=r}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.C4Q),d.rXU(d._q3),d.rXU(ch,8))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:[d.Mj6.None,"cdkRowDefColumns","columns"],when:[d.Mj6.None,"cdkRowDefWhen","when"]},standalone:!0,features:[d.Vt3]})}}return t})(),Kp=(()=>{class t{static{this.mostRecentCellOutlet=null}constructor(n){this._viewContainer=n,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.c1b))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","cdkCellOutlet",""]],standalone:!0})}}return t})(),yT=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[d.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&d.eu8(0,0)},dependencies:[Kp],encapsulation:2})}}return t})(),uk=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[d.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&d.eu8(0,0)},dependencies:[Kp],encapsulation:2})}}return t})(),_w=(()=>{class t{constructor(n){this.templateRef=n,this._contentClassName="cdk-no-data-row"}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.C4Q))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}}return t})();const Nx=["top","bottom","left","right"];class Yp{constructor(e,n,i,r,s=!0,o=!0,c){this._isNativeHtmlTable=e,this._stickCellCss=n,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=o,this._positionListener=c,this._cachedCellWidths=[],this._borderCellCss={top:`${n}-border-elem-top`,bottom:`${n}-border-elem-bottom`,left:`${n}-border-elem-left`,right:`${n}-border-elem-right`}}clearStickyPositioning(e,n){const i=[];for(const r of e)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,n)})}updateStickyColumns(e,n,i,r=!0){e.length&&this._isBrowser&&(n.some(s=>s)||i.some(s=>s))?this._coalescedStyleScheduler.schedule(()=>{const s=e[0],o=s.children.length,c=this._getCellWidths(s,r),h=this._getStickyStartColumnPositions(c,n),p=this._getStickyEndColumnPositions(c,i),m=n.lastIndexOf(!0),y=i.indexOf(!0),I="rtl"===this.direction,L=I?"right":"left",U=I?"left":"right";for(const X of e)for(let Q=0;Q<o;Q++){const pe=X.children[Q];n[Q]&&this._addStickyStyle(pe,L,h[Q],Q===m),i[Q]&&this._addStickyStyle(pe,U,p[Q],Q===y)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===m?[]:c.slice(0,m+1).map((X,Q)=>n[Q]?X:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===y?[]:c.slice(y).map((X,Q)=>i[Q+y]?X:null).reverse()}))}):this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}))}stickRows(e,n,i){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{const r="bottom"===i?e.slice().reverse():e,s="bottom"===i?n.slice().reverse():n,o=[],c=[],h=[];for(let m=0,y=0;m<r.length;m++){if(!s[m])continue;o[m]=y;const I=r[m];h[m]=this._isNativeHtmlTable?Array.from(I.children):[I];const L=I.getBoundingClientRect().height;y+=L,c[m]=L}const p=s.lastIndexOf(!0);for(let m=0;m<r.length;m++){if(!s[m])continue;const y=o[m],I=m===p;for(const L of h[m])this._addStickyStyle(L,i,y,I)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:c,offsets:o,elements:h}):this._positionListener?.stickyFooterRowsUpdated({sizes:c,offsets:o,elements:h})})}updateStickyFooterContainer(e,n){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{const i=e.querySelector("tfoot");i&&(n.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1))})}_removeStickyStyle(e,n){for(const r of n)e.style[r]="",e.classList.remove(this._borderCellCss[r]);Nx.some(r=>-1===n.indexOf(r)&&e.style[r])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,n,i,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[n]),e.style[n]=`${i}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const n={top:100,bottom:10,left:1,right:1};let i=0;for(const r of Nx)e.style[r]&&(i+=n[r]);return i?`${i}`:""}_getCellWidths(e,n=!0){if(!n&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=e.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(e,n){const i=[];let r=0;for(let s=0;s<e.length;s++)n[s]&&(i[s]=r,r+=e[s]);return i}_getStickyEndColumnPositions(e,n){const i=[];let r=0;for(let s=e.length;s>0;s--)n[s]&&(i[s]=r,r+=e[s]);return i}}const kx=new d.nKC("CDK_SPL");let Lx=(()=>{class t{constructor(n,i){this.viewContainer=n,this.elementRef=i;const r=(0,d.WQX)(ch);r._rowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.c1b),d.rXU(d.aKT))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","rowOutlet",""]],standalone:!0})}}return t})(),bT=(()=>{class t{constructor(n,i){this.viewContainer=n,this.elementRef=i;const r=(0,d.WQX)(ch);r._headerRowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.c1b),d.rXU(d.aKT))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","headerRowOutlet",""]],standalone:!0})}}return t})(),Vx=(()=>{class t{constructor(n,i){this.viewContainer=n,this.elementRef=i;const r=(0,d.WQX)(ch);r._footerRowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.c1b),d.rXU(d.aKT))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","footerRowOutlet",""]],standalone:!0})}}return t})(),hk=(()=>{class t{constructor(n,i){this.viewContainer=n,this.elementRef=i;const r=(0,d.WQX)(ch);r._noDataRowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.c1b),d.rXU(d.aKT))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","noDataRowOutlet",""]],standalone:!0})}}return t})(),yw=(()=>{class t{_getCellRole(){if(void 0===this._cellRoleInternal){const n=this._elementRef.nativeElement.getAttribute("role"),i="grid"===n||"treegrid"===n?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&"cell"===i?null:i}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(n){this._trackByFn=n}get dataSource(){return this._dataSource}set dataSource(n){this._dataSource!==n&&this._switchDataSource(n)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(n){this._multiTemplateDataRows=n,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(n){this._fixedLayout=n,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(n,i,r,s,o,c,h,p,m,y,I,L){this._differs=n,this._changeDetectorRef=i,this._elementRef=r,this._dir=o,this._platform=h,this._viewRepeater=p,this._coalescedStyleScheduler=m,this._viewportRuler=y,this._stickyPositioningListener=I,this._ngZone=L,this._onDestroy=new q.B,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new d.bkB,this.viewChange=new Fo.t({start:0,end:Number.MAX_VALUE}),s||r.nativeElement.setAttribute("role","table"),this._document=c,this._isServer=!h.isBrowser,this._isNativeHtmlTable="TABLE"===r.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((n,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Qi(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(n=>{n?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),rk(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const n=this._dataDiffer.diff(this._renderRows);if(!n)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(n,i,(r,s,o)=>this._getEmbeddedViewArgs(r.item,o),r=>r.item.data,r=>{r.operation===$p.INSERTED&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),n.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&d.SKi.isInAngularZone()?this._ngZone.onStable.pipe(Me(1),Qi(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(n){this._customColumnDefs.add(n)}removeColumnDef(n){this._customColumnDefs.delete(n)}addRowDef(n){this._customRowDefs.add(n)}removeRowDef(n){this._customRowDefs.delete(n)}addHeaderRowDef(n){this._customHeaderRowDefs.add(n),this._headerRowDefChanged=!0}removeHeaderRowDef(n){this._customHeaderRowDefs.delete(n),this._headerRowDefChanged=!0}addFooterRowDef(n){this._customFooterRowDefs.add(n),this._footerRowDefChanged=!0}removeFooterRowDef(n){this._customFooterRowDefs.delete(n),this._footerRowDefChanged=!0}setNoDataRow(n){this._customNoDataRow=n}updateStickyHeaderRowStyles(){const n=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){const r=fk(this._headerRowOutlet,"thead");r&&(r.style.display=n.length?"":"none")}const i=this._headerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(n,["top"]),this._stickyStyler.stickRows(n,i,"top"),this._headerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyFooterRowStyles(){const n=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){const r=fk(this._footerRowOutlet,"tfoot");r&&(r.style.display=n.length?"":"none")}const i=this._footerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(n,["bottom"]),this._stickyStyler.stickRows(n,i,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,i),this._footerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyColumnStyles(){const n=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...n,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),n.forEach((s,o)=>{this._addStickyColumnStyles([s],this._headerRowDefs[o])}),this._rowDefs.forEach(s=>{const o=[];for(let c=0;c<i.length;c++)this._renderRows[c].rowDef===s&&o.push(i[c]);this._addStickyColumnStyles(o,s)}),r.forEach((s,o)=>{this._addStickyColumnStyles([s],this._footerRowDefs[o])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){const n=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const o=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let c=0;c<o.length;c++){let h=o[c];const p=this._cachedRenderRowsMap.get(h.data);p.has(h.rowDef)?p.get(h.rowDef).push(h):p.set(h.rowDef,[h]),n.push(h)}}return n}_getRenderRowsForData(n,i,r){return this._getRowDefs(n,i).map(o=>{const c=r&&r.has(o)?r.get(o):[];if(c.length){const h=c.shift();return h.dataIndex=i,h}return{data:n,rowDef:o,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),bw(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=bw(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=bw(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=bw(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const n=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=n[0]}_renderUpdatedColumns(){const n=(o,c)=>o||!!c.getColumnsDiff(),i=this._rowDefs.reduce(n,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(n,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(n,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(n){this._data=[],rk(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),n||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=n}_observeRenderChanges(){if(!this.dataSource)return;let n;rk(this.dataSource)?n=this.dataSource.connect(this):Ha(this.dataSource)?n=this.dataSource:Array.isArray(this.dataSource)&&(n=On(this.dataSource)),this._renderChangeSubscription=n.pipe(Qi(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((n,i)=>this._renderRow(this._headerRowOutlet,n,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((n,i)=>this._renderRow(this._footerRowOutlet,n,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(n,i){const r=Array.from(i.columns||[]).map(c=>this._columnDefsByName.get(c)),s=r.map(c=>c.sticky),o=r.map(c=>c.stickyEnd);this._stickyStyler.updateStickyColumns(n,s,o,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(n){const i=[];for(let r=0;r<n.viewContainer.length;r++){const s=n.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(n,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,n));else{let s=this._rowDefs.find(o=>o.when&&o.when(i,n))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(n,i){return{templateRef:n.rowDef.template,context:{$implicit:n.data},index:i}}_renderRow(n,i,r,s={}){const o=n.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),o}_renderCellTemplateForItem(n,i){for(let r of this._getCellTemplates(n))Kp.mostRecentCellOutlet&&Kp.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const n=this._rowOutlet.viewContainer;for(let i=0,r=n.length;i<r;i++){const o=n.get(i).context;o.count=r,o.first=0===i,o.last=i===r-1,o.even=i%2==0,o.odd=!o.even,this.multiTemplateDataRows?(o.dataIndex=this._renderRows[i].dataIndex,o.renderIndex=i):o.index=this._renderRows[i].dataIndex}}_getCellTemplates(n){return n&&n.columns?Array.from(n.columns,i=>{const r=this._columnDefsByName.get(i);return n.extractCellTemplate(r)}):[]}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const n=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(n,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(n,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(n,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Yp(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:On()).pipe(Qi(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(n){return n.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const n=this._customNoDataRow||this._noDataRow;if(!n)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(n.templateRef),o=s.rootNodes[0];1===s.rootNodes.length&&o?.nodeType===this._document.ELEMENT_NODE&&(o.setAttribute("role","row"),o.classList.add(n._contentClassName))}else r.clear();this._isShowingNoDataRow=i,this._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d._q3),d.rXU(d.gRc),d.rXU(d.aKT),d.kS0("role"),d.rXU(sh,8),d.rXU(Be),d.rXU(Ls),d.rXU(pT),d.rXU(Px),d.rXU($m),d.rXU(kx,12),d.rXU(d.SKi,8))}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(i,r,s){if(1&i&&(d.wni(s,_w,5),d.wni(s,qp,5),d.wni(s,dy,5),d.wni(s,uy,5),d.wni(s,Xm,5)),2&i){let o;d.mGM(o=d.lsd())&&(r._noDataRow=o.first),d.mGM(o=d.lsd())&&(r._contentColumnDefs=o),d.mGM(o=d.lsd())&&(r._contentRowDefs=o),d.mGM(o=d.lsd())&&(r._contentHeaderRowDefs=o),d.mGM(o=d.lsd())&&(r._contentFooterRowDefs=o)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(i,r){2&i&&d.AVh("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[d.Mj6.HasDecoratorInputTransform,"multiTemplateDataRows","multiTemplateDataRows",d.L39],fixedLayout:[d.Mj6.HasDecoratorInputTransform,"fixedLayout","fixedLayout",d.L39]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[d.Jv_([{provide:ch,useExisting:t},{provide:pT,useClass:YU},{provide:Px,useClass:vT},{provide:kx,useValue:null}]),d.GFd,d.aNF],ngContentSelectors:u6,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,r){1&i&&(d.NAR(c6),d.SdG(0),d.SdG(1,1),d.DNE(2,d6,1,0)(3,h6,7,0)(4,f6,4,0)),2&i&&(d.R7$(2),d.vxM(2,r._isServer?2:-1),d.R7$(),d.vxM(3,r._isNativeHtmlTable?3:4))},dependencies:[bT,Lx,hk,Vx],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}}return t})();function bw(t,e){return t.concat(Array.from(e))}function fk(t,e){const n=e.toUpperCase();let i=t.viewContainer.element.nativeElement;for(;i;){const r=1===i.nodeType?i.nodeName:null;if(r===n)return i;if("TABLE"===r)break;i=i.parentNode}return null}let m6=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({imports:[qm]})}}return t})();const ite=[[["caption"]],[["colgroup"],["col"]],"*"],v6=["caption","colgroup, col","*"];function Bx(t,e){1&t&&d.SdG(0,2)}function gk(t,e){1&t&&(d.j41(0,"thead",0),d.eu8(1,1),d.k0s(),d.j41(2,"tbody",2),d.eu8(3,3)(4,4),d.k0s(),d.j41(5,"tfoot",0),d.eu8(6,5),d.k0s())}function Xp(t,e){1&t&&d.eu8(0,1)(1,3)(2,4)(3,5)}let Hx=(()=>{class t extends yw{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=d.xGo(t)))(r||t)}})()}static{this.\u0275cmp=d.VBU({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(i,r){2&i&&d.AVh("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[d.Jv_([{provide:yw,useExisting:t},{provide:ch,useExisting:t},{provide:Px,useClass:vT},{provide:pT,useClass:YU},{provide:kx,useValue:null}]),d.Vt3,d.aNF],ngContentSelectors:v6,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,r){1&i&&(d.NAR(ite),d.SdG(0),d.SdG(1,1),d.DNE(2,Bx,1,0)(3,gk,7,0)(4,Xp,4,0)),2&i&&(d.R7$(2),d.vxM(2,r._isServer?2:-1),d.R7$(),d.vxM(3,r._isNativeHtmlTable?3:4))},dependencies:[bT,Lx,hk,Vx],styles:[".mat-mdc-table-sticky{position:sticky !important}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}}return t})(),Ux=(()=>{class t extends Ym{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=d.xGo(t)))(r||t)}})()}static{this.\u0275dir=d.FsC({type:t,selectors:[["","matCellDef",""]],standalone:!0,features:[d.Jv_([{provide:Ym,useExisting:t}]),d.Vt3]})}}return t})(),Cw=(()=>{class t extends cy{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=d.xGo(t)))(r||t)}})()}static{this.\u0275dir=d.FsC({type:t,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[d.Jv_([{provide:cy,useExisting:t}]),d.Vt3]})}}return t})(),Wx=(()=>{class t extends qp{get name(){return this._name}set name(n){this._setNameInput(n)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=d.xGo(t)))(r||t)}})()}static{this.\u0275dir=d.FsC({type:t,selectors:[["","matColumnDef",""]],inputs:{name:[d.Mj6.None,"matColumnDef","name"]},standalone:!0,features:[d.Jv_([{provide:qp,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),d.Vt3]})}}return t})(),CT=(()=>{class t extends mT{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=d.xGo(t)))(r||t)}})()}static{this.\u0275dir=d.FsC({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[d.Vt3]})}}return t})(),vk=(()=>{class t extends Rx{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=d.xGo(t)))(r||t)}})()}static{this.\u0275dir=d.FsC({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[d.Vt3]})}}return t})(),y6=(()=>{class t extends uy{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=d.xGo(t)))(r||t)}})()}static{this.\u0275dir=d.FsC({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[d.Mj6.None,"matHeaderRowDef","columns"],sticky:[d.Mj6.HasDecoratorInputTransform,"matHeaderRowDefSticky","sticky",d.L39]},standalone:!0,features:[d.Jv_([{provide:uy,useExisting:t}]),d.GFd,d.Vt3]})}}return t})(),zx=(()=>{class t extends dy{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=d.xGo(t)))(r||t)}})()}static{this.\u0275dir=d.FsC({type:t,selectors:[["","matRowDef",""]],inputs:{columns:[d.Mj6.None,"matRowDefColumns","columns"],when:[d.Mj6.None,"matRowDefWhen","when"]},standalone:!0,features:[d.Jv_([{provide:dy,useExisting:t}]),d.Vt3]})}}return t})(),yk=(()=>{class t extends yT{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=d.xGo(t)))(r||t)}})()}static{this.\u0275cmp=d.VBU({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[d.Jv_([{provide:yT,useExisting:t}]),d.Vt3,d.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&d.eu8(0,0)},dependencies:[Kp],encapsulation:2})}}return t})(),C6=(()=>{class t extends uk{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=d.xGo(t)))(r||t)}})()}static{this.\u0275cmp=d.VBU({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[d.Jv_([{provide:uk,useExisting:t}]),d.Vt3,d.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&d.eu8(0,0)},dependencies:[Kp],encapsulation:2})}}return t})(),ate=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({imports:[ao,m6,ao]})}}return t})();class wT extends ik{get data(){return this._data.value}set data(e){e=Array.isArray(e)?e:[],this._data.next(e),this._renderChangesSubscription||this._filterData(e)}get filter(){return this._filter.value}set filter(e){this._filter.next(e),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(e){this._sort=e,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(e){this._paginator=e,this._updateChangeSubscription()}constructor(e=[]){super(),this._renderData=new Fo.t([]),this._filter=new Fo.t(""),this._internalPageChanges=new q.B,this._renderChangesSubscription=null,this.sortingDataAccessor=(n,i)=>{const r=n[i];if(cR(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(n,i)=>{const r=i.active,s=i.direction;return r&&""!=s?n.sort((o,c)=>{let h=this.sortingDataAccessor(o,r),p=this.sortingDataAccessor(c,r);const m=typeof h,y=typeof p;m!==y&&("number"===m&&(h+=""),"number"===y&&(p+=""));let I=0;return null!=h&&null!=p?h>p?I=1:h<p&&(I=-1):null!=h?I=1:null!=p&&(I=-1),I*("asc"==s?1:-1)}):n},this.filterPredicate=(n,i)=>{const r=Object.keys(n).reduce((o,c)=>o+n[c]+"\u25ec","").toLowerCase(),s=i.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new Fo.t(e),this._updateChangeSubscription()}_updateChangeSubscription(){const e=this._sort?dd(this._sort.sortChange,this._sort.initialized):On(null),n=this._paginator?dd(this._paginator.page,this._internalPageChanges,this._paginator.initialized):On(null),r=Hd([this._data,this._filter]).pipe((0,ei.T)(([c])=>this._filterData(c))),s=Hd([r,e]).pipe((0,ei.T)(([c])=>this._orderData(c))),o=Hd([s,n]).pipe((0,ei.T)(([c])=>this._pageData(c)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=o.subscribe(c=>this._renderData.next(c))}_filterData(e){return this.filteredData=null==this.filter||""===this.filter?e:e.filter(n=>this.filterPredicate(n,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(e){return this.sort?this.sortData(e.slice(),this.sort):e}_pageData(e){if(!this.paginator)return e;const n=this.paginator.pageIndex*this.paginator.pageSize;return e.slice(n,n+this.paginator.pageSize)}_updatePaginator(e){Promise.resolve().then(()=>{const n=this.paginator;if(n&&(n.length=e,n.pageIndex>0)){const i=Math.ceil(n.length/n.pageSize)-1||0,r=Math.min(n.pageIndex,i);r!==n.pageIndex&&(n.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}const w6=["tooltip"],Qp=new d.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const t=(0,d.WQX)(Cf);return()=>t.scrollStrategies.reposition({scrollThrottle:20})}}),jx={provide:Qp,deps:[Cf],useFactory:function wk(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},S6=new d.nKC("mat-tooltip-default-options",{providedIn:"root",factory:function $x(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),ET="tooltip-panel",ww=xa({passive:!0});let T6=(()=>{class t{get position(){return this._position}set position(n){n!==this._position&&(this._position=n,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(n){this._positionAtOrigin=Y_(n),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(n){this._disabled=Y_(n),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(n){this._showDelay=MS(n)}get hideDelay(){return this._hideDelay}set hideDelay(n){this._hideDelay=MS(n),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(n){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=n?String(n).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(n){this._tooltipClass=n,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(n,i,r,s,o,c,h,p,m,y,I,L){this._overlay=n,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=o,this._platform=c,this._ariaDescriber=h,this._focusMonitor=p,this._dir=y,this._defaultOptions=I,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=I6,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new q.B,this._scrollStrategy=m,this._document=L,I&&(this._showDelay=I.showDelay,this._hideDelay=I.hideDelay,I.position&&(this.position=I.position),I.positionAtOrigin&&(this.positionAtOrigin=I.positionAtOrigin),I.touchGestures&&(this.touchGestures=I.touchGestures)),y.change.pipe(Qi(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Qi(this._destroyed)).subscribe(n=>{n?"keyboard"===n&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const n=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{n.removeEventListener(i,r,ww)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(n,this.message,"tooltip"),this._focusMonitor.stopMonitoring(n)}show(n=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new VU(this._tooltipComponent,this._viewContainerRef);const s=this._tooltipInstance=r.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(Qi(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(n)}hide(n=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(n):(i._cancelPendingAnimations(),this._detach()))}toggle(n){this._isTooltipVisible()?this.hide():this.show(void 0,n)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(n){if(this._overlayRef){const s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!n)&&s._origin instanceof d.aKT)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&n||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(Qi(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${ET}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Qi(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Qi(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Qi(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!Vp(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(n){const i=n.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(n){const r=!this._dir||"ltr"==this._dir.value;return"top"===n.originY?n.offsetY=-8:"bottom"===n.originY?n.offsetY=8:"start"===n.originX?n.offsetX=r?-8:8:"end"===n.originX&&(n.offsetX=r?8:-8),n}_getOrigin(){const n=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&n||"right"==i&&!n?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&n||"left"==i&&!n)&&(r={originX:"end",originY:"center"});const{x:s,y:o}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:o}}}_getOverlayPosition(){const n=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&n||"right"==i&&!n?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&n||"left"==i&&!n)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:o}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:o}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Me(1),Qi(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(n){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=n,this._tooltipInstance._markForCheck())}_invertPosition(n,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===n?n="start":"start"===n&&(n="end"),{x:n,y:i}}_updateCurrentPositionClass(n){const{overlayY:i,originX:r,originY:s}=n;let o;if(o="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",o!==this._currentPosition){const c=this._overlayRef;if(c){const h=`${this._cssClassPrefix}-${ET}-`;c.removePanelClass(h+this._currentPosition),c.addPanelClass(h+o)}this._currentPosition=o}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",n=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==n.x&&void 0!==n.y&&(i=n),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",n=>{const i=n.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const n=[];if(this._platformSupportsMouseEvents())n.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};n.push(["touchend",i],["touchcancel",i])}this._addListeners(n),this._passiveListeners.push(...n)}_addListeners(n){n.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,ww)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(n){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(n.clientX,n.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const n=this.touchGestures;if("off"!==n){const i=this._elementRef.nativeElement,r=i.style;("on"===n||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===n||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(Cf),d.rXU(d.aKT),d.rXU(_x),d.rXU(d.c1b),d.rXU(d.SKi),d.rXU(Ls),d.rXU(rh),d.rXU(GS),d.rXU(Qp),d.rXU(sh),d.rXU(S6,8),d.rXU(Be))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){2&i&&d.AVh("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[d.Mj6.None,"matTooltipPosition","position"],positionAtOrigin:[d.Mj6.None,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[d.Mj6.None,"matTooltipDisabled","disabled"],showDelay:[d.Mj6.None,"matTooltipShowDelay","showDelay"],hideDelay:[d.Mj6.None,"matTooltipHideDelay","hideDelay"],touchGestures:[d.Mj6.None,"matTooltipTouchGestures","touchGestures"],message:[d.Mj6.None,"matTooltip","message"],tooltipClass:[d.Mj6.None,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}}return t})(),I6=(()=>{class t{constructor(n,i,r){this._changeDetectorRef=n,this._elementRef=i,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new q.B,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===r}show(n){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},n)}hide(n){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},n)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:n}){(!n||!this._triggerElement.contains(n))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const n=this._elementRef.nativeElement.getBoundingClientRect();return n.height>24&&n.width>=200}_handleAnimationEnd({animationName:n}){(n===this._showAnimation||n===this._hideAnimation)&&this._finalizeAnimation(n===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(n){n?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(n){const i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(n?s:r),i.classList.add(n?r:s),this._isVisible!==n&&(this._isVisible=n,this._changeDetectorRef.markForCheck()),n&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const o=getComputedStyle(i);("0s"===o.getPropertyValue("animation-duration")||"none"===o.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}n&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(n))}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.bc$,8))}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(1&i&&d.GBs(w6,7),2&i){let s;d.mGM(s=d.lsd())&&(r._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(i,r){1&i&&d.bIt("mouseleave",function(o){return r._handleMouseLeave(o)}),2&i&&d.xc7("zoom",r.isVisible()?1:null)},standalone:!0,features:[d.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(i,r){if(1&i){const s=d.RV6();d.j41(0,"div",1,0),d.bIt("animationend",function(c){return d.eBV(s),d.Njj(r._handleAnimationEnd(c))}),d.j41(2,"div",2),d.EFF(3),d.k0s()()}2&i&&(d.AVh("mdc-tooltip--multiline",r._isMultiline),d.Y8G("ngClass",r.tooltipClass),d.R7$(3),d.JRh(r.message))},dependencies:[Vi],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - 2*8px);margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - 2*8px);align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}}return t})(),Tk=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({providers:[jx],imports:[CF,Va,Sx,ao,ao,uT]})}}return t})();class Qm{}let ST=(()=>{class t extends Qm{getTranslation(n){return On({})}static \u0275fac=(()=>{let n;return function(r){return(n||(n=d.xGo(t)))(r||t)}})();static \u0275prov=d.jDH({token:t,factory:t.\u0275fac})}return t})();class Ew{}let qx=(()=>{class t{handle(n){return n.key}static \u0275fac=function(i){return new(i||t)};static \u0275prov=d.jDH({token:t,factory:t.\u0275fac})}return t})();function TT(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;const n=typeof t;let r,s,o;if(n==typeof e&&"object"==n){if(!Array.isArray(t)){if(Array.isArray(e))return!1;for(s in o=Object.create(null),t){if(!TT(t[s],e[s]))return!1;o[s]=!0}for(s in e)if(!(s in o)&&typeof e[s]<"u")return!1;return!0}if(!Array.isArray(e))return!1;if((r=t.length)==e.length){for(s=0;s<r;s++)if(!TT(t[s],e[s]))return!1;return!0}}return!1}function wf(t){return typeof t<"u"&&null!==t}function Jm(t){return Kx(t)&&!IT(t)&&null!==t}function Kx(t){return"object"==typeof t}function IT(t){return Array.isArray(t)}function Sw(t){return"string"==typeof t}function Yx(t,e){const n=Object.assign({},t);return Kx(t)?(Kx(t)&&Kx(e)&&Object.keys(e).forEach(i=>{Jm(e[i])?i in t?n[i]=Yx(t[i],e[i]):Object.assign(n,{[i]:e[i]}):Object.assign(n,{[i]:e[i]})}),n):Yx({},e)}function Ik(t,e){const n=e.split(".");e="";do{e+=n.shift(),wf(t)&&wf(t[e])&&(Jm(t[e])||IT(t[e])||!n.length)?(t=t[e],e=""):n.length?e+=".":t=void 0}while(n.length);return t}class AT{}let Ak=(()=>{class t extends AT{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(n,i){return Sw(n)?this.interpolateString(n,i):function A6(t){return"function"==typeof t}(n)?this.interpolateFunction(n,i):void 0}interpolateFunction(n,i){return n(i)}interpolateString(n,i){return i?n.replace(this.templateMatcher,(r,s)=>{const o=Ik(i,s);return wf(o)?o:r}):n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=d.xGo(t)))(r||t)}})();static \u0275prov=d.jDH({token:t,factory:t.\u0275fac})}return t})();class DT{}let Ro=(()=>{class t extends DT{compile(n,i){return n}compileTranslations(n,i){return n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=d.xGo(t)))(r||t)}})();static \u0275prov=d.jDH({token:t,factory:t.\u0275fac})}return t})();class Jp{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new d.bkB;onLangChange=new d.bkB;onDefaultLangChange=new d.bkB}const Zm=new d.nKC("ISOLATE_TRANSLATE_SERVICE"),ev=new d.nKC("USE_DEFAULT_LANG"),Tw=new d.nKC("DEFAULT_LANGUAGE"),Xx=new d.nKC("USE_EXTEND"),Iw=t=>Ha(t)?t:On(t);let RT=(()=>{class t{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(n){this.store.defaultLang=n}get currentLang(){return this.store.currentLang}set currentLang(n){this.store.currentLang=n}get langs(){return this.store.langs}set langs(n){this.store.langs=n}get translations(){return this.store.translations}set translations(n){this.store.translations=n}constructor(n,i,r,s,o,c=!0,h=!1,p=!1,m){this.store=n,this.currentLoader=i,this.compiler=r,this.parser=s,this.missingTranslationHandler=o,this.useDefaultLang=c,this.extend=p,h&&(this.store=new Jp),m&&this.setDefaultLang(m)}setDefaultLang(n){if(n===this.defaultLang)return;const i=this.retrieveTranslations(n);typeof i<"u"?(null==this.defaultLang&&(this.defaultLang=n),i.pipe(Me(1)).subscribe(()=>{this.changeDefaultLang(n)})):this.changeDefaultLang(n)}getDefaultLang(){return this.defaultLang}use(n){if(this.lastUseLanguage=n,n===this.currentLang)return On(this.translations[n]);this.currentLang||(this.currentLang=n);const i=this.retrieveTranslations(n);return Ha(i)?(i.pipe(Me(1)).subscribe(()=>{this.changeLang(n)}),i):(this.changeLang(n),On(this.translations[n]))}changeLang(n){n===this.lastUseLanguage&&(this.currentLang=n,this.onLangChange.emit({lang:n,translations:this.translations[n]}),null==this.defaultLang&&this.changeDefaultLang(n))}retrieveTranslations(n){if(typeof this.translations[n]>"u"||this.extend)return this._translationRequests[n]=this._translationRequests[n]||this.loadAndCompileTranslations(n),this._translationRequests[n]}getTranslation(n){return this.loadAndCompileTranslations(n)}loadAndCompileTranslations(n){this.pending=!0;const i=this.currentLoader.getTranslation(n).pipe(XS(1),Me(1));return this.loadingTranslations=i.pipe((0,ei.T)(r=>this.compiler.compileTranslations(r,n)),XS(1),Me(1)),this.loadingTranslations.subscribe({next:r=>{this.translations[n]=this.extend&&this.translations[n]?{...r,...this.translations[n]}:r,this.updateLangs(),this.pending=!1},error:r=>{this.pending=!1}}),i}setTranslation(n,i,r=!1){const s=this.compiler.compileTranslations(i,n);this.translations[n]=(r||this.extend)&&this.translations[n]?Yx(this.translations[n],s):s,this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}getLangs(){return this.langs}addLangs(n){const i=n.filter(r=>!this.langs.includes(r));i.length>0&&(this.langs=[...this.langs,...i])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(n,i,r){let s;if(n&&(s=this.runInterpolation(Ik(n,i),r)),void 0===s&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(s=this.runInterpolation(Ik(this.translations[this.defaultLang],i),r)),void 0===s){const o={key:i,translateService:this};typeof r<"u"&&(o.interpolateParams=r),s=this.missingTranslationHandler.handle(o)}return void 0!==s?s:i}runInterpolation(n,i){if(IT(n))return n.map(r=>this.runInterpolation(r,i));if(Jm(n)){const r={};for(const s in n){const o=this.runInterpolation(n[s],i);void 0!==o&&(r[s]=o)}return r}return this.parser.interpolate(n,i)}getParsedResult(n,i,r){if(i instanceof Array){const s={};let o=!1;for(const h of i)s[h]=this.getParsedResultForKey(n,h,r),o=o||Ha(s[h]);return o?R_(i.map(h=>Iw(s[h]))).pipe((0,ei.T)(h=>{const p={};return h.forEach((m,y)=>{p[i[y]]=m}),p})):s}return this.getParsedResultForKey(n,i,r)}get(n,i){if(!wf(n)||!n.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(fi(r=>Iw(this.getParsedResult(r,n,i)))):Iw(this.getParsedResult(this.translations[this.currentLang],n,i))}getStreamOnTranslationChange(n,i){if(!wf(n)||!n.length)throw new Error('Parameter "key" is required and cannot be empty');return fl(Ll(()=>this.get(n,i)),this.onTranslationChange.pipe(ve(r=>{const s=this.getParsedResult(r.translations,n,i);return Iw(s)})))}stream(n,i){if(!wf(n)||!n.length)throw new Error('Parameter "key" required');return fl(Ll(()=>this.get(n,i)),this.onLangChange.pipe(ve(r=>{const s=this.getParsedResult(r.translations,n,i);return Iw(s)})))}instant(n,i){if(!wf(n)||0===n.length)throw new Error('Parameter "key" is required and cannot be empty');const r=this.getParsedResult(this.translations[this.currentLang],n,i);return Ha(r)?Array.isArray(n)?n.reduce((s,o)=>(s[o]=o,s),{}):n:r}set(n,i,r=this.currentLang){(function hte(t,e,n){const i=e.split(".");let r=t;for(let s=0;s<i.length;s++){const o=i[s];s===i.length-1?r[o]=n:((!r[o]||!Jm(r[o]))&&(r[o]={}),r=r[o])}})(this.translations[r],n,Sw(i)?this.compiler.compile(i,r):this.compiler.compileTranslations(i,r)),this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}changeDefaultLang(n){this.defaultLang=n,this.onDefaultLangChange.emit({lang:n,translations:this.translations[n]})}reloadLang(n){return this.resetLang(n),this.loadAndCompileTranslations(n)}resetLang(n){delete this._translationRequests[n],delete this.translations[n]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;const n=this.getBrowserCultureLang();return n?n.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(i){return new(i||t)(d.KVO(Jp),d.KVO(Qm),d.KVO(DT),d.KVO(AT),d.KVO(Ew),d.KVO(ev),d.KVO(Zm),d.KVO(Xx),d.KVO(Tw))};static \u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Aw=(()=>{class t{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(n,i){this.translate=n,this._ref=i}updateValue(n,i,r){const s=o=>{this.value=void 0!==o?o:n,this.lastKey=n,this._ref.markForCheck()};if(r){const o=this.translate.getParsedResult(r,n,i);Ha(o)?o.subscribe(s):s(o)}this.translate.get(n,i).subscribe(s)}transform(n,...i){if(!n||!n.length)return n;if(TT(n,this.lastKey)&&TT(i,this.lastParams))return this.value;let r;if(wf(i[0])&&i.length)if(Sw(i[0])&&i[0].length){const s=i[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{r=JSON.parse(s)}catch(o){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${i[0]}`)}}else Jm(i[0])&&(r=i[0]);return this.lastKey=n,this.lastParams=i,this.updateValue(n,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(s=>{this.lastKey&&s.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(n,r,s.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(s=>{this.lastKey&&(this.lastKey=null,this.updateValue(n,r,s.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(n,r))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(i){return new(i||t)(d.rXU(RT,16),d.rXU(d.gRc,16))};static \u0275pipe=d.EJ8({name:"translate",type:t,pure:!1,standalone:!0});static \u0275prov=d.jDH({token:t,factory:t.\u0275fac})}return t})(),hy=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[n.loader||{provide:Qm,useClass:ST},n.compiler||{provide:DT,useClass:Ro},n.parser||{provide:AT,useClass:Ak},n.missingTranslationHandler||{provide:Ew,useClass:qx},Jp,{provide:Zm,useValue:n.isolate},{provide:ev,useValue:n.useDefaultLang},{provide:Xx,useValue:n.extend},{provide:Tw,useValue:n.defaultLanguage},RT]}}static forChild(n={}){return{ngModule:t,providers:[n.loader||{provide:Qm,useClass:ST},n.compiler||{provide:DT,useClass:Ro},n.parser||{provide:AT,useClass:Ak},n.missingTranslationHandler||{provide:Ew,useClass:qx},{provide:Zm,useValue:n.isolate},{provide:ev,useValue:n.useDefaultLang},{provide:Xx,useValue:n.extend},{provide:Tw,useValue:n.defaultLanguage},RT]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=d.$C({type:t});static \u0275inj=d.G2t({})}return t})();const xn=function(t,e){if(!t)throw fy(e)},fy=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},Dk=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},Qx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,c=o?t[r+1]:0,h=r+2<t.length,p=h?t[r+2]:0;let I=(15&c)<<2|p>>6,L=63&p;h||(L=64,o||(I=64)),i.push(n[s>>2],n[(3&s)<<4|c>>4],n[I],n[L])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Dk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const h=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(1023&h))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],c=r<t.length?n[t.charAt(r)]:0;++r;const p=r<t.length?n[t.charAt(r)]:64;++r;const y=r<t.length?n[t.charAt(r)]:64;if(++r,null==s||null==c||null==p||null==y)throw new xk;i.push(s<<2|c>>4),64!==p&&(i.push(c<<4&240|p>>2),64!==y&&i.push(p<<6&192|y))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dw=function(t){const e=Dk(t);return Qx.encodeByteArray(e,!0)},Zp=function(t){return Dw(t).replace(/\./g,"")},Ef=function(t){try{return Qx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Pk(t){return R6(void 0,t)}function R6(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!pte(n)||(t[n]=R6(t[n],e[n]));return t}function pte(t){return"__proto__"!==t}const Rw=()=>{try{return function gte(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ef(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},Jx=t=>{var e,n;return null===(n=null===(e=Rw())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},Zx=t=>{const e=Jx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),i]:[e.substring(0,n),i]},PT=()=>{var t;return null===(t=Rw())||void 0===t?void 0:t.config},M6=t=>{var e;return null===(e=Rw())||void 0===e?void 0:e[`_${t}`]};class e1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,i))}}}function Mk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zp(JSON.stringify({alg:"none",type:"JWT"})),Zp(JSON.stringify(o)),""].join(".")}function xo(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Nk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xo())}function t1(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function O6(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function eg(){try{return"object"==typeof indexedDB}catch{return!1}}function py(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e((null===(s=r.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function n1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class bl extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,bl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hd.prototype.create)}}class hd{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?function bte(t,e){return t.replace(F6,(n,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new bl(r,`${this.serviceName}: ${o} (${r}).`,i)}}const F6=/\{\$([^}]+)}/g;function MT(t){return JSON.parse(t)}function Ma(t){return JSON.stringify(t)}const r1=function(t){let e={},n={},i={},r="";try{const s=t.split(".");e=MT(Ef(s[0])||""),n=MT(Ef(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}};function uh(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function gy(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function NT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xw(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function tv(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(s1(s)&&s1(o)){if(!tv(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function s1(t){return null!==t&&"object"==typeof t}function Pw(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Mw(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function tg(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Vk{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if("string"==typeof e)for(let y=0;y<16;y++)i[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)i[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const I=i[y-3]^i[y-8]^i[y-14]^i[y-16];i[y]=4294967295&(I<<1|I>>>31)}let p,m,r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(let y=0;y<80;y++){y<40?y<20?(p=c^s&(o^c),m=1518500249):(p=s^o^c,m=1859775393):y<60?(p=s&o|c&(s|o),m=2400959708):(p=s^o^c,m=3395469782);const I=(r<<5|r>>>27)+p+h+m+i[y]&4294967295;h=c,c=o,o=4294967295&(s<<30|s>>>2),s=r,r=I}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const i=n-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<n;){if(0===o)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<n;)if(s[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<n;)if(s[o]=e[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&n,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}class V6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(void 0===e&&void 0===n&&void 0===i)throw new Error("Missing Observer.");r=function OT(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:i},void 0===r.next&&(r.next=o1),void 0===r.error&&(r.error=o1),void 0===r.complete&&(r.complete=o1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function o1(){}const a1=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e},G6=1e3,Dte=2,Rte=144e5,xte=.5;function Bk(t,e=G6,n=Dte){const i=e*Math.pow(n,t),r=Math.round(xte*i*(Math.random()-.5)*2);return Math.min(Rte,i+r)}function Mr(t){return t&&t._delegate?t._delegate:t}class fa{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const nv="[DEFAULT]";class H6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new e1;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e?.identifier),r=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Pte(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:nv})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=nv){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,te.A)(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...n.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=nv){return this.instances.has(e)}getOptions(e=nv){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(s)&&o.resolve(r);return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===nv?void 0:t),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}var t;return i||null}normalizeInstanceIdentifier(e=nv){return this.component?this.component.multipleInstances?e:nv:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Mte{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new H6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Uk=[];var a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(a||{});const l={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,f={[a.DEBUG]:"log",[a.VERBOSE]:"log",[a.INFO]:"info",[a.WARN]:"warn",[a.ERROR]:"error"},g=(t,e,...n)=>{if(e<t.logLevel)return;const i=(new Date).toISOString(),r=f[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${t.name}:`,...n)};class v{constructor(e){this.name=e,this._logLevel=u,this._logHandler=g,this._userLogHandler=null,Uk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in a))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?l[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,a.DEBUG,...e),this._logHandler(this,a.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,a.VERBOSE,...e),this._logHandler(this,a.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,a.INFO,...e),this._logHandler(this,a.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,a.WARN,...e),this._logHandler(this,a.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,a.ERROR,...e),this._logHandler(this,a.ERROR,...e)}}const P=(t,e)=>e.some(n=>t instanceof n);let B,Y;const je=new WeakMap,ot=new WeakMap,Ut=new WeakMap,an=new WeakMap,_n=new WeakMap;let cr={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return ot.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Ut.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xl(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Yl(t){return"function"==typeof t?function ea(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ne(){return Y||(Y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(FT(this),e),Xl(je.get(this))}:function(...e){return Xl(t.apply(FT(this),e))}:function(e,...n){const i=t.call(FT(this),e,...n);return Ut.set(i,e.sort?e.sort():[e]),Xl(i)}}(t):(t instanceof IDBTransaction&&function _i(t){if(ot.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ot.set(t,e)}(t),P(t,function le(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,cr):t)}function Xl(t){if(t instanceof IDBRequest)return function Zt(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Xl(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&je.set(n,t)}).catch(()=>{}),_n.set(e,t),e}(t);if(an.has(t))return an.get(t);const e=Yl(t);return e!==t&&(an.set(t,e),_n.set(e,t)),e}const FT=t=>_n.get(t);function Ow(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),c=Xl(o);return i&&o.addEventListener("upgradeneeded",h=>{i(Xl(o.result),h.oldVersion,h.newVersion,Xl(o.transaction),h)}),n&&o.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{s&&h.addEventListener("close",()=>s()),r&&h.addEventListener("versionchange",p=>r(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}function U6(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",i=>e(i.oldVersion,i)),Xl(n).then(()=>{})}const l_e=["get","getKey","getAll","getAllKeys","count"],c_e=["put","add","delete","clear"],W6=new Map;function Nte(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(W6.get(e))return W6.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=c_e.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!l_e.includes(n))return;const s=function(){var o=(0,te.A)(function*(c,...h){const p=this.transaction(c,r?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(h.shift())),(yield Promise.all([m[n](...h),r&&p.done]))[0]});return function(h){return o.apply(this,arguments)}}();return W6.set(e,s),s}!function es(t){cr=t(cr)}(t=>({...t,get:(e,n,i)=>Nte(e,n)||t.get(e,n,i),has:(e,n)=>!!Nte(e,n)||t.has(e,n)}));class u_e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function d_e(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}return null}).filter(n=>n).join(" ")}}const Wk="@firebase/app",z6="0.10.13",iv=new v("@firebase/app"),zk="[DEFAULT]",G_e={[Wk]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Fw=new Map,l1=new Map,c1=new Map;function Ote(t,e){try{t.container.addComponent(e)}catch(n){iv.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cl(t){const e=t.name;if(c1.has(e))return iv.debug(`There were multiple attempts to register component ${e}.`),!1;c1.set(e,t);for(const n of Fw.values())Ote(n,t);for(const n of l1.values())Ote(n,t);return!0}function Iu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rv(t){return void 0!==t.settings}const dh=new hd("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Fte{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dh.create("app-deleted",{appName:this._name})}}const sv="10.14.1";function kte(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:zk,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!=typeof r||!r)throw dh.create("bad-app-name",{appName:String(r)});if(n||(n=PT()),!n)throw dh.create("no-options");const s=Fw.get(r);if(s){if(tv(n,s.options)&&tv(i,s.config))return s;throw dh.create("duplicate-app",{appName:r})}const o=new Mte(r);for(const h of c1.values())o.addComponent(h);const c=new Fte(n,i,o);return Fw.set(r,c),c}function ng(t=zk){const e=Fw.get(t);if(!e&&t===zk&&PT())return kte();if(!e)throw dh.create("no-app",{appName:t});return e}function Lte(){return Array.from(Fw.values())}function tr(t,e,n){var i;let r=null!==(i=G_e[t])&&void 0!==i?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${r}" with version "${e}":`];return s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void iv.warn(c.join(" "))}Cl(new fa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const z_e="firebase-heartbeat-database",j_e=1,u1="firebase-heartbeat-store";let $6=null;function Vte(){return $6||($6=Ow(z_e,j_e,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(u1)}catch(n){console.warn(n)}}}).catch(t=>{throw dh.create("idb-open",{originalErrorMessage:t.message})})),$6}function q6(){return(q6=(0,te.A)(function*(t){try{const n=(yield Vte()).transaction(u1),i=yield n.objectStore(u1).get(Bte(t));return yield n.done,i}catch(e){if(e instanceof bl)iv.warn(e.message);else{const n=dh.create("idb-get",{originalErrorMessage:e?.message});iv.warn(n.message)}}})).apply(this,arguments)}function Gte(t,e){return K6.apply(this,arguments)}function K6(){return(K6=(0,te.A)(function*(t,e){try{const i=(yield Vte()).transaction(u1,"readwrite");yield i.objectStore(u1).put(e,Bte(t)),yield i.done}catch(n){if(n instanceof bl)iv.warn(n.message);else{const i=dh.create("idb-set",{originalErrorMessage:n?.message});iv.warn(i.message)}}})).apply(this,arguments)}function Bte(t){return`${t.name}!${t.options.appId}`}class Y_e{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Q_e(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var e=this;return(0,te.A)(function*(){var n,i;try{const s=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Hte();return null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(i=e._heartbeatsCache)||void 0===i?void 0:i.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===o||e._heartbeatsCache.heartbeats.some(c=>c.date===o)?void 0:(e._heartbeatsCache.heartbeats.push({date:o,agent:s}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=2592e6}),e._storage.overwrite(e._heartbeatsCache))}catch(r){iv.warn(r)}})()}getHeartbeatsHeader(){var e=this;return(0,te.A)(function*(){var n;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const i=Hte(),{heartbeatsToSend:r,unsentEntries:s}=function X_e(t,e=1024){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Ute(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Ute(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(e._heartbeatsCache.heartbeats),o=Zp(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=i,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o}catch(i){return iv.warn(i),""}})()}}function Hte(){return(new Date).toISOString().substring(0,10)}class Q_e{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,te.A)(function*(){return!!eg()&&py().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,te.A)(function*(){if(yield e._canUseIndexedDBPromise){const i=yield function $_e(t){return q6.apply(this,arguments)}(e.app);return i?.heartbeats?i:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return(0,te.A)(function*(){var i;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Gte(n.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return(0,te.A)(function*(){var i;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Gte(n.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function Ute(t){return Zp(JSON.stringify({version:2,heartbeats:t})).length}!function J_e(t){Cl(new fa("platform-logger",e=>new u_e(e),"PRIVATE")),Cl(new fa("heartbeat",e=>new Y_e(e),"PRIVATE")),tr(Wk,z6,t),tr(Wk,z6,"esm2017"),tr("fire-js","")}(""),tr("firebase","10.14.1","app");const iye=new class nye extends Nm{}(class tye extends K_{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}}),Au=new d.RxE("ANGULARFIRE2_VERSION"),Y6=t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`;function ig(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const Tf=(t,e)=>{const n=e?[e]:Lte(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i};class kT{constructor(){return Tf(rye)}}const rye="app-check";function LT(){}class Wte{zone;delegate;constructor(e,n=iye){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{e.apply(this,[o])})},n,i)}}class sye{zone;task=null;constructor(e){this.zone=e}call(e,n){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",LT,{},LT,LT)),n.pipe(ii({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let If=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Wte(Zone.current)),this.insideAngular=n.run(()=>new Wte(Zone.current,xS)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(d.KVO(d.SKi))};static \u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function VT(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function kw(t){return VT().ngZone.run(()=>t())}function aye(t){return function lye(t){return function(n){return(n=n.lift(new sye(t.ngZone))).pipe(pp(t.outsideAngular),fp(t.insideAngular))}}(VT())(t)}const cye=(t,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),kw(()=>t.apply(void 0,i))},Po=(t,e)=>function(){let n;const i=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof i[s]&&(e&&(n||=kw(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",LT,{},LT,LT))),i[s]=cye(i[s],n));const r=function oye(t){return VT().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,i));if(!e){if(r instanceof Ln.c){const s=VT();return r.pipe(pp(s.outsideAngular),fp(s.insideAngular))}return kw(()=>r)}return r instanceof Ln.c?r.pipe(aye):r instanceof Promise?kw(()=>new Promise((s,o)=>r.then(c=>kw(()=>s(c)),c=>kw(()=>o(c))))):"function"==typeof r&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),r.apply(this,arguments)}:kw(()=>r)};class fd{constructor(e){return e}}class Af{constructor(){return Lte()}}const X6=new d.nKC("angularfire2._apps"),dye={provide:fd,useFactory:function uye(t){return t&&1===t.length?t[0]:new fd(ng())},deps:[[new d.Xx1,X6]]},hye={provide:Af,deps:[[new d.Xx1,X6]]};function fye(t){return(e,n)=>{const i=n.get(d.Agw);tr("angularfire",Au.full,"core"),tr("angularfire",Au.full,"app"),tr("angular",d.xvI.full,i.toString());const r=e.runOutsideAngular(()=>t(n));return new fd(r)}}const gye=Po(kte,!0),zte=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},jte={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,c=o?t[r+1]:0,h=r+2<t.length,p=h?t[r+2]:0;let I=(15&c)<<2|p>>6,L=63&p;h||(L=64,o||(I=64)),i.push(n[s>>2],n[(3&s)<<4|c>>4],n[I],n[L])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zte(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const h=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(1023&h))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],c=r<t.length?n[t.charAt(r)]:0;++r;const p=r<t.length?n[t.charAt(r)]:64;++r;const y=r<t.length?n[t.charAt(r)]:64;if(++r,null==s||null==c||null==p||null==y)throw new yye;i.push(s<<2|c>>4),64!==p&&(i.push(c<<4&240|p>>2),64!==y&&i.push(p<<6&192|y))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jk=function(t){return function(t){const e=zte(t);return jte.encodeByteArray(e,!0)}(t).replace(/\./g,"")},d1=function(t){try{return jte.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},$k=()=>{try{return function wye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&d1(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},qte=()=>{var t;return null===(t=$k())||void 0===t?void 0:t.config};class Kte{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,i))}}}function pd(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class my extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,my.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,h1.prototype.create)}}class h1{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?function Lye(t,e){return t.replace(Vye,(n,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new my(r,`${this.serviceName}: ${o} (${r}).`,i)}}const Vye=/\{\$([^}]+)}/g;function J6(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(Xte(s)&&Xte(o)){if(!J6(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Xte(t){return null!==t&&"object"==typeof t}function Z6(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}class Bye{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(void 0===e&&void 0===n&&void 0===i)throw new Error("Missing Observer.");r=function Hye(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:i},void 0===r.next&&(r.next=e3),void 0===r.error&&(r.error=e3),void 0===r.complete&&(r.complete=e3);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function e3(){}function GT(t){return t&&t._delegate?t._delegate:t}class BT{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Lw="[DEFAULT]";class qye{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Kte;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e?.identifier),r=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Yye(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Lw})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Lw){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,te.A)(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...n.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Lw){return this.instances.has(e)}getOptions(e=Lw){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(s)&&o.resolve(r);return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Lw?void 0:t),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}var t;return i||null}normalizeInstanceIdentifier(e=Lw){return this.component?this.component.multipleInstances?e:Lw:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Xye{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qye(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const n3=[];var vs=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(vs||{});const Qte={debug:vs.DEBUG,verbose:vs.VERBOSE,info:vs.INFO,warn:vs.WARN,error:vs.ERROR,silent:vs.SILENT},Qye=vs.INFO,Jye={[vs.DEBUG]:"log",[vs.VERBOSE]:"log",[vs.INFO]:"info",[vs.WARN]:"warn",[vs.ERROR]:"error"},Zye=(t,e,...n)=>{if(e<t.logLevel)return;const i=(new Date).toISOString(),r=Jye[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${t.name}:`,...n)};class Jte{constructor(e){this.name=e,this._logLevel=Qye,this._logHandler=Zye,this._userLogHandler=null,n3.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vs))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Qte[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,vs.DEBUG,...e),this._logHandler(this,vs.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,vs.VERBOSE,...e),this._logHandler(this,vs.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,vs.INFO,...e),this._logHandler(this,vs.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,vs.WARN,...e),this._logHandler(this,vs.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,vs.ERROR,...e),this._logHandler(this,vs.ERROR,...e)}}class ebe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function tbe(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}return null}).filter(n=>n).join(" ")}}const Kk="@firebase/app",ov=new Jte("@firebase/app"),Yk="[DEFAULT]",Rbe={[Kk]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Vw=new Map,f1=new Map,p1=new Map;function Zte(t,e){try{t.container.addComponent(e)}catch(n){ov.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function HT(t){const e=t.name;if(p1.has(e))return ov.debug(`There were multiple attempts to register component ${e}.`),!1;p1.set(e,t);for(const n of Vw.values())Zte(n,t);for(const n of f1.values())Zte(n,t);return!0}function vy(t){return null!=t&&void 0!==t.settings}const hh=new h1("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class tne{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new BT("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hh.create("app-deleted",{appName:this._name})}}const s3="11.3.1";function _y(t,e,n){var i;let r=null!==(i=Rbe[t])&&void 0!==i?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${r}" with version "${e}":`];return s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ov.warn(c.join(" "))}HT(new BT(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const kbe="firebase-heartbeat-database",Lbe=1,g1="firebase-heartbeat-store";let a3=null;function ine(){return a3||(a3=Ow(kbe,Lbe,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(g1)}catch(n){console.warn(n)}}}).catch(t=>{throw hh.create("idb-open",{originalErrorMessage:t.message})})),a3}function l3(){return(l3=(0,te.A)(function*(t){try{const n=(yield ine()).transaction(g1),i=yield n.objectStore(g1).get(sne(t));return yield n.done,i}catch(e){if(e instanceof my)ov.warn(e.message);else{const n=hh.create("idb-get",{originalErrorMessage:e?.message});ov.warn(n.message)}}})).apply(this,arguments)}function rne(t,e){return c3.apply(this,arguments)}function c3(){return(c3=(0,te.A)(function*(t,e){try{const i=(yield ine()).transaction(g1,"readwrite");yield i.objectStore(g1).put(e,sne(t)),yield i.done}catch(n){if(n instanceof my)ov.warn(n.message);else{const i=hh.create("idb-set",{originalErrorMessage:n?.message});ov.warn(i.message)}}})).apply(this,arguments)}function sne(t){return`${t.name}!${t.options.appId}`}class Hbe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Wbe(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var e=this;return(0,te.A)(function*(){var n,i;try{const s=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=one();if(null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(i=e._heartbeatsCache)||void 0===i?void 0:i.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===o||e._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(e._heartbeatsCache.heartbeats.push({date:o,agent:s}),e._heartbeatsCache.heartbeats.length>30){const c=function zbe(t){if(0===t.length)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}(e._heartbeatsCache.heartbeats);e._heartbeatsCache.heartbeats.splice(c,1)}return e._storage.overwrite(e._heartbeatsCache)}catch(r){ov.warn(r)}})()}getHeartbeatsHeader(){var e=this;return(0,te.A)(function*(){var n;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const i=one(),{heartbeatsToSend:r,unsentEntries:s}=function Ube(t,e=1024){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),ane(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),ane(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(e._heartbeatsCache.heartbeats),o=jk(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=i,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o}catch(i){return ov.warn(i),""}})()}}function one(){return(new Date).toISOString().substring(0,10)}class Wbe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,te.A)(function*(){return!!function Oye(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function Fye(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e((null===(s=r.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,te.A)(function*(){if(yield e._canUseIndexedDBPromise){const i=yield function Vbe(t){return l3.apply(this,arguments)}(e.app);return i?.heartbeats?i:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return(0,te.A)(function*(){var i;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return rne(n.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return(0,te.A)(function*(){var i;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return rne(n.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function ane(t){return jk(JSON.stringify({version:2,heartbeats:t})).length}!function jbe(t){HT(new BT("platform-logger",e=>new ebe(e),"PRIVATE")),HT(new BT("heartbeat",e=>new Hbe(e),"PRIVATE")),_y(Kk,"0.11.1",t),_y(Kk,"0.11.1","esm2017"),_y("fire-js","")}("");const $be=function lne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},cne=new h1("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xk=new Jte("@firebase/auth");function Qk(t,...e){Xk.logLevel<=vs.ERROR&&Xk.error(`Auth (${s3}): ${t}`,...e)}function Du(t,...e){throw d3(t,...e)}function fh(t,...e){return d3(t,...e)}function u3(t,e,n){const i=Object.assign(Object.assign({},$be()),{[e]:n});return new h1("auth","Firebase",i).create(e,{appName:t.name})}function Ka(t){return u3(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d3(t,...e){if("string"!=typeof t){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return cne.create(t,...e)}function bn(t,e,...n){if(!t)throw d3(e,...n)}function rg(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qk(e),new Error(e)}function yy(t,e){t||rg(e)}function une(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function Kbe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function h3(){return"http:"===une()||"https:"===une()}()||function Mye(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class v1{constructor(e,n){this.shortDelay=e,this.longDelay=n,yy(n>e,"Short delay should be less than long delay!"),this.isMobile=function Dye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pd())}()||function Nye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return Kbe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class dne{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void rg("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void rg("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void rg("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xbe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Qbe=new v1(3e4,6e4);function Vs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Gs(t,e,n,i){return p3.apply(this,arguments)}function p3(){return(p3=(0,te.A)(function*(t,e,n,i,r={}){return hne(t,r,(0,te.A)(function*(){let s={},o={};i&&("GET"===e?o=i:s={body:JSON.stringify(i)});const c=Z6(Object.assign({key:t.config.apiKey},o)).slice(1),h=yield t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:h},s);return function Pye(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(p.referrerPolicy="no-referrer"),dne.fetch()(fne(t,t.config.apiHost,n,c),p)}))})).apply(this,arguments)}function hne(t,e,n){return g3.apply(this,arguments)}function g3(){return(g3=(0,te.A)(function*(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},Xbe),e);try{const r=new Zbe(t),s=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw _1(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[h,p]=c.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===h)throw _1(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===h)throw _1(t,"email-already-in-use",o);if("USER_DISABLED"===h)throw _1(t,"user-disabled",o);const m=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw u3(t,m,p);Du(t,m)}}catch(r){if(r instanceof my)throw r;Du(t,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function fne(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?function f3(t,e){yy(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,r):`${t.config.apiScheme}://${r}`}class Zbe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(fh(this.auth,"network-request-failed")),Qbe.get())})}}function _1(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=fh(t,e,i);return r.customData._tokenResponse=n,r}function y3(){return(y3=(0,te.A)(function*(t,e){return Gs(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function _ne(t,e){return C3.apply(this,arguments)}function C3(){return(C3=(0,te.A)(function*(t,e){return Gs(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function y1(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function w3(){return(w3=(0,te.A)(function*(t,e=!1){const n=GT(t),i=yield n.getIdToken(e),r=Jk(i);bn(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:y1(E3(r.auth_time)),issuedAtTime:y1(E3(r.iat)),expirationTime:y1(E3(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function E3(t){return 1e3*Number(t)}function Jk(t){const[e,n,i]=t.split(".");if(void 0===e||void 0===n||void 0===i)return Qk("JWT malformed, contained fewer than 3 sections"),null;try{const r=d1(n);return r?JSON.parse(r):(Qk("Failed to decode base64 JWT payload"),null)}catch(r){return Qk("Caught error parsing JWT payload as JSON",r?.toString()),null}}function yne(t){const e=Jk(t);return bn(e,"internal-error"),bn(typeof e.exp<"u","internal-error"),bn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function lv(t,e){return S3.apply(this,arguments)}function S3(){return(S3=(0,te.A)(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(i){throw i instanceof my&&function rCe({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})).apply(this,arguments)}class sCe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout((0,te.A)(function*(){yield n.iteration()}),i)}iteration(){var e=this;return(0,te.A)(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class T3{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=y1(this.lastLoginAt),this.creationTime=y1(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function b1(t){return I3.apply(this,arguments)}function I3(){return(I3=(0,te.A)(function*(t){var e;const n=t.auth,i=yield t.getIdToken(),r=yield lv(t,_ne(n,{idToken:i}));bn(r?.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?bne(s.providerUserInfo):[],c=function aCe(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}(t.providerData,o),m=!!t.isAnonymous&&!(t.email&&s.passwordHash||c?.length),y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new T3(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(t,y)})).apply(this,arguments)}function A3(){return(A3=(0,te.A)(function*(t){const e=GT(t);yield b1(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function bne(t){return t.map(e=>{var{providerId:n}=e,i=ni(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function D3(){return(D3=(0,te.A)(function*(t,e){const n=yield hne(t,{},(0,te.A)(function*(){const i=Z6({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=fne(t,r,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",dne.fetch()(o,{method:"POST",headers:c,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function R3(){return(R3=(0,te.A)(function*(t,e){return Gs(t,"POST","/v2/accounts:revokeToken",Vs(t,e))})).apply(this,arguments)}class WT{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){bn(e.idToken,"internal-error"),bn(typeof e.idToken<"u","internal-error"),bn(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yne(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){bn(0!==e.length,"internal-error");const n=yne(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){var i=this;return(0,te.A)(function*(){return n||!i.accessToken||i.isExpired?(bn(i.refreshToken,e,"user-token-expired"),i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null):i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var i=this;return(0,te.A)(function*(){const{accessToken:r,refreshToken:s,expiresIn:o}=yield function lCe(t,e){return D3.apply(this,arguments)}(e,n);i.updateTokensAndExpiration(r,s,Number(o))})()}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new WT;return i&&(bn("string"==typeof i,"internal-error",{appName:e}),o.refreshToken=i),r&&(bn("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),s&&(bn("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new WT,this.toJSON())}_performRefresh(){return rg("not implemented")}}function by(t,e){bn("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class cv{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=ni(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sCe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new T3(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return(0,te.A)(function*(){const i=yield lv(n,n.stsTokenManager.getToken(n.auth,e));return bn(i,n.auth,"internal-error"),n.accessToken!==i&&(n.accessToken=i,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),i})()}getIdTokenResult(e){return function iCe(t){return w3.apply(this,arguments)}(this,e)}reload(){return function oCe(t){return A3.apply(this,arguments)}(this)}_assign(e){this!==e&&(bn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cv(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){bn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var i=this;return(0,te.A)(function*(){let r=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield b1(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return(0,te.A)(function*(){if(vy(e.auth.app))return Promise.reject(Ka(e.auth));const n=yield e.getIdToken();return yield lv(e,function tCe(t,e){return y3.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,c,h,p,m;const y=null!==(i=n.displayName)&&void 0!==i?i:void 0,I=null!==(r=n.email)&&void 0!==r?r:void 0,L=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,U=null!==(o=n.photoURL)&&void 0!==o?o:void 0,X=null!==(c=n.tenantId)&&void 0!==c?c:void 0,Q=null!==(h=n._redirectEventId)&&void 0!==h?h:void 0,pe=null!==(p=n.createdAt)&&void 0!==p?p:void 0,Te=null!==(m=n.lastLoginAt)&&void 0!==m?m:void 0,{uid:Le,emailVerified:tt,isAnonymous:zt,providerData:Ot,stsTokenManager:Se}=n;bn(Le&&Se,e,"internal-error");const me=WT.fromJSON(this.name,Se);bn("string"==typeof Le,e,"internal-error"),by(y,e.name),by(I,e.name),bn("boolean"==typeof tt,e,"internal-error"),bn("boolean"==typeof zt,e,"internal-error"),by(L,e.name),by(U,e.name),by(X,e.name),by(Q,e.name),by(pe,e.name),by(Te,e.name);const Re=new cv({uid:Le,auth:e,email:I,emailVerified:tt,displayName:y,isAnonymous:zt,photoURL:U,phoneNumber:L,tenantId:X,stsTokenManager:me,createdAt:pe,lastLoginAt:Te});return Ot&&Array.isArray(Ot)&&(Re.providerData=Ot.map(Ke=>Object.assign({},Ke))),Q&&(Re._redirectEventId=Q),Re}static _fromIdTokenResponse(e,n,i=!1){return(0,te.A)(function*(){const r=new WT;r.updateFromServerResponse(n);const s=new cv({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield b1(s),s})()}static _fromGetAccountInfoResponse(e,n,i){return(0,te.A)(function*(){const r=n.users[0];bn(void 0!==r.localId,"internal-error");const s=void 0!==r.providerUserInfo?bne(r.providerUserInfo):[],o=!(r.email&&r.passwordHash||s?.length),c=new WT;c.updateFromIdToken(i);const h=new cv({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:o}),p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new T3(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||s?.length)};return Object.assign(h,p),h})()}}const Cne=new Map;function uv(t){yy(t instanceof Function,"Expected a class definition");let e=Cne.get(t);return e?(yy(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Cne.set(t,e),e)}const wne=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,te.A)(function*(){return!0})()}_set(n,i){var r=this;return(0,te.A)(function*(){r.storage[n]=i})()}_get(n){var i=this;return(0,te.A)(function*(){const r=i.storage[n];return void 0===r?null:r})()}_remove(n){var i=this;return(0,te.A)(function*(){delete i.storage[n]})()}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})();function Zk(t,e,n){return`firebase:${t}:${e}:${n}`}class zT{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Zk(this.userKey,r.apiKey,s),this.fullPersistenceKey=Zk("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,te.A)(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?cv._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return(0,te.A)(function*(){if(n.persistence===e)return;const i=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,i?n.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return(0,te.A)(function*(){if(!n.length)return new zT(uv(wne),e,i);const r=(yield Promise.all(n.map(function(){var p=(0,te.A)(function*(m){if(yield m._isAvailable())return m});return function(m){return p.apply(this,arguments)}}()))).filter(p=>p);let s=r[0]||uv(wne);const o=Zk(i,e.config.apiKey,e.name);let c=null;for(const p of n)try{const m=yield p._get(o);if(m){const y=cv._fromJSON(e,m);p!==s&&(c=y),s=p;break}}catch{}const h=r.filter(p=>p._shouldAllowMigration);return s._shouldAllowMigration&&h.length?(s=h[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(function(){var p=(0,te.A)(function*(m){if(m!==s)try{yield m._remove(o)}catch{}});return function(m){return p.apply(this,arguments)}}())),new zT(s,e,i)):new zT(s,e,i)})()}}function Ene(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function Ane(t=pd()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function Sne(t=pd()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function Rne(t=pd()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function xne(t=pd()){return/webos/i.test(t)}(e))return"Webos";if(function Tne(t=pd()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function Ine(t=pd()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function Dne(t=pd()){return/android/i.test(t)}(e))return"Android";{const i=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function Pne(t,e=[]){let n;switch(t){case"Browser":n=Ene(pd());break;case"Worker":n=`${Ene(pd())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${s3}/${i}`}class hCe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,c)=>{try{o(e(s))}catch(h){c(h)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return(0,te.A)(function*(){if(n.auth.currentUser===e)return;const i=[];try{for(const r of n.queue)yield r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const s of i)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}function P3(){return(P3=(0,te.A)(function*(t,e={}){return Gs(t,"GET","/v2/passwordPolicy",Vs(t,e))})).apply(this,arguments)}class gCe{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(i=e.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=null===(n=h.meetsMinPasswordLength)||void 0===n||n),h.isValid&&(h.isValid=null===(i=h.meetsMaxPasswordLength)||void 0===i||i),h.isValid&&(h.isValid=null===(r=h.containsLowercaseLetter)||void 0===r||r),h.isValid&&(h.isValid=null===(s=h.containsUppercaseLetter)||void 0===s||s),h.isValid&&(h.isValid=null===(o=h.containsNumericCharacter)||void 0===o||o),h.isValid&&(h.isValid=null===(c=h.containsNonAlphanumericCharacter)||void 0===c||c),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){let i;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class mCe{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mne(this),this.idTokenSubscription=new Mne(this),this.beforeStateQueue=new hCe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cne,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var i=this;return n&&(this._popupRedirectResolver=uv(n)),this._initializationPromise=this.queue((0,te.A)(function*(){var r,s;if(!i._deleted&&(i.persistenceManager=yield zT.create(i,e),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(n),i.lastNotifiedUid=(null===(s=i.currentUser)||void 0===s?void 0:s.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,te.A)(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUserFromIdToken(e){var n=this;return(0,te.A)(function*(){try{const i=yield _ne(n,{idToken:e}),r=yield cv._fromGetAccountInfoResponse(n,i,e);yield n.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),yield n.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var n=this;return(0,te.A)(function*(){var i;if(vy(n.app)){const c=n.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>n.initializeCurrentUserFromIdToken(c).then(h,h))}):n.directlySetCurrentUser(null)}const r=yield n.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const c=null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId,h=s?._redirectEventId,p=yield n.tryRedirectSignIn(e);(!c||c===h)&&p?.user&&(s=p.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(c){s=r,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(c))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return bn(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return(0,te.A)(function*(){let i=null;try{i=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var n=this;return(0,te.A)(function*(){try{yield b1(e)}catch(i){if("auth/network-request-failed"!==i?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Ybe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return(0,te.A)(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return(0,te.A)(function*(){if(vy(n.app))return Promise.reject(Ka(n));const i=e?GT(e):null;return i&&bn(i.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(i&&i._clone(n))})()}_updateCurrentUser(e,n=!1){var i=this;return(0,te.A)(function*(){if(!i._deleted)return e&&bn(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),n||(yield i.beforeStateQueue.runMiddleware(e)),i.queue((0,te.A)(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,te.A)(function*(){return vy(e.app)?Promise.reject(Ka(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var n=this;return vy(this.app)?Promise.reject(Ka(this)):this.queue((0,te.A)(function*(){yield n.assertedPersistence.setPersistence(uv(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return(0,te.A)(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const i=n._getPasswordPolicyInternal();return i.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,te.A)(function*(){const n=yield function fCe(t){return P3.apply(this,arguments)}(e),i=new gCe(n);null===e.tenantId?e._projectPasswordPolicy=i:e._tenantPasswordPolicies[e.tenantId]=i})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new h1("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){var n=this;return(0,te.A)(function*(){if(n.currentUser){const i=yield n.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};null!=n.tenantId&&(r.tenantId=n.tenantId),yield function cCe(t,e){return R3.apply(this,arguments)}(n,r)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var i=this;return(0,te.A)(function*(){const r=yield i.getOrInitRedirectPersistenceManager(n);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return(0,te.A)(function*(){if(!n.redirectPersistenceManager){const i=e&&uv(e)||n._popupRedirectResolver;bn(i,n,"argument-error"),n.redirectPersistenceManager=yield zT.create(n,[uv(i._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return(0,te.A)(function*(){var i,r;return n._isInitialized&&(yield n.queue((0,te.A)(function*(){}))),(null===(i=n._currentUser)||void 0===i?void 0:i._redirectEventId)===e?n._currentUser:(null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return(0,te.A)(function*(){if(e===n.currentUser)return n.queue((0,te.A)(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(bn(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),"function"==typeof n){const h=e.addObserver(n,i,r);return()=>{o=!0,h()}}{const h=e.addObserver(n);return()=>{o=!0,h()}}}directlySetCurrentUser(e){var n=this;return(0,te.A)(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return bn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pne(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,te.A)(function*(){var n;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const r=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const s=yield e._getAppCheckToken();return s&&(i["X-Firebase-AppCheck"]=s),i})()}_getAppCheckToken(){var e=this;return(0,te.A)(function*(){var n;if(vy(e.app)&&e.app.settings.appCheckToken)return e.app.settings.appCheckToken;const i=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return i?.error&&function qbe(t,...e){Xk.logLevel<=vs.WARN&&Xk.warn(`Auth (${s3}): ${t}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}class Mne{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Gye(t,e){const n=new Bye(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return bn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let C1={loadJS:()=>(0,te.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Yne(t,e,n,i){return GT(t).onIdTokenChanged(e,n,i)}(function Nne(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new v1(3e4,6e4),new v1(2e3,1e4),new v1(3e4,6e4),new v1(5e3,15e3),encodeURIComponent("fac");var gie="@firebase/auth";class vEe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return(0,te.A)(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){bn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function SEe(t){return new Ln.c(function(e){var n=function hwe(t,e,n,i){return GT(t).onAuthStateChanged(e,n,i)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}function _ie(t){return new Ln.c(function(e){return{unsubscribe:Yne(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}$k(),function vCe(t){C1=t}({loadJS:t=>new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=fh("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",function EEe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(i)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function yEe(t){HT(new BT("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=i.options;bn(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pne(t)},p=new mCe(i,r,s,h);return function xCe(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(uv);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),HT(new BT("auth-internal",e=>{const n=function ta(t){return GT(t)}(e.getProvider("auth").getImmediate());return new vEe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_y(gie,"1.9.0",function _Ee(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(t)),_y(gie,"1.9.0","esm2017")}("Browser");const TEe=function yie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},bie=new hd("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),dL=new v("@firebase/auth");function hL(t,...e){dL.logLevel<=a.ERROR&&dL.error(`Auth (${sv}): ${t}`,...e)}function Ru(t,...e){throw w8(t,...e)}function gh(t,...e){return w8(t,...e)}function C8(t,e,n){const i=Object.assign(Object.assign({},TEe()),{[e]:n});return new hd("auth","Firebase",i).create(e,{appName:t.name})}function Ya(t){return C8(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function w8(t,...e){if("string"!=typeof t){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return bie.create(t,...e)}function Tn(t,e,...n){if(!t)throw w8(e,...n)}function sg(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hL(e),new Error(e)}function wy(t,e){t||sg(e)}function P1(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function Cie(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class M1{constructor(e,n){this.shortDelay=e,this.longDelay=n,wy(n>e,"Short delay should be less than long delay!"),this.isMobile=Nk()||O6()}get(){return function AEe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function E8(){return"http:"===Cie()||"https:"===Cie()}()||t1()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function S8(t,e){wy(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class wie{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void sg("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void sg("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void sg("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const REe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xEe=new M1(3e4,6e4);function Bs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Hs(t,e,n,i){return T8.apply(this,arguments)}function T8(){return T8=(0,te.A)(function*(t,e,n,i,r={}){return Eie(t,r,(0,te.A)(function*(){let s={},o={};i&&("GET"===e?o=i:s={body:JSON.stringify(i)});const c=Pw(Object.assign({key:t.config.apiKey},o)).slice(1),h=yield t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:h},s);return function Ok(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(p.referrerPolicy="no-referrer"),wie.fetch()(Sie(t,t.config.apiHost,n,c),p)}))}),T8.apply(this,arguments)}function Eie(t,e,n){return I8.apply(this,arguments)}function I8(){return I8=(0,te.A)(function*(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},REe),e);try{const r=new MEe(t),s=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw N1(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[h,p]=c.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===h)throw N1(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===h)throw N1(t,"email-already-in-use",o);if("USER_DISABLED"===h)throw N1(t,"user-disabled",o);const m=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw C8(t,m,p);Ru(t,m)}}catch(r){if(r instanceof bl)throw r;Ru(t,"network-request-failed",{message:String(r)})}}),I8.apply(this,arguments)}function fv(t,e,n,i){return A8.apply(this,arguments)}function A8(){return A8=(0,te.A)(function*(t,e,n,i,r={}){const s=yield Hs(t,e,n,i,r);return"mfaPendingCredential"in s&&Ru(t,"multi-factor-auth-required",{_serverResponse:s}),s}),A8.apply(this,arguments)}function Sie(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?S8(t.config,r):`${t.config.apiScheme}://${r}`}function PEe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MEe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(gh(this.auth,"network-request-failed")),xEe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function N1(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=gh(t,e,i);return r.customData._tokenResponse=n,r}function Iie(t){return void 0!==t&&void 0!==t.enterprise}class Aie{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return PEe(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function R8(){return R8=(0,te.A)(function*(t,e){return Hs(t,"GET","/v2/recaptchaConfig",Bs(t,e))}),R8.apply(this,arguments)}function x8(){return x8=(0,te.A)(function*(t,e){return Hs(t,"POST","/v1/accounts:delete",e)}),x8.apply(this,arguments)}function Rie(t,e){return M8.apply(this,arguments)}function M8(){return M8=(0,te.A)(function*(t,e){return Hs(t,"POST","/v1/accounts:lookup",e)}),M8.apply(this,arguments)}function O1(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function N8(){return N8=(0,te.A)(function*(t,e=!1){const n=Mr(t),i=yield n.getIdToken(e),r=fL(i);Tn(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:O1(O8(r.auth_time)),issuedAtTime:O1(O8(r.iat)),expirationTime:O1(O8(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}),N8.apply(this,arguments)}function O8(t){return 1e3*Number(t)}function fL(t){const[e,n,i]=t.split(".");if(void 0===e||void 0===n||void 0===i)return hL("JWT malformed, contained fewer than 3 sections"),null;try{const r=Ef(n);return r?JSON.parse(r):(hL("Failed to decode base64 JWT payload"),null)}catch(r){return hL("Caught error parsing JWT payload as JSON",r?.toString()),null}}function xie(t){const e=fL(t);return Tn(e,"internal-error"),Tn(typeof e.exp<"u","internal-error"),Tn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function pv(t,e){return F8.apply(this,arguments)}function F8(){return F8=(0,te.A)(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(i){throw i instanceof bl&&function LEe({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}}),F8.apply(this,arguments)}class VEe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout((0,te.A)(function*(){yield n.iteration()}),i)}iteration(){var e=this;return(0,te.A)(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class k8{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=O1(this.lastLoginAt),this.creationTime=O1(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function F1(t){return L8.apply(this,arguments)}function L8(){return L8=(0,te.A)(function*(t){var e;const n=t.auth,i=yield t.getIdToken(),r=yield pv(t,Rie(n,{idToken:i}));Tn(r?.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?Pie(s.providerUserInfo):[],c=function BEe(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}(t.providerData,o),m=!!t.isAnonymous&&!(t.email&&s.passwordHash||c?.length),y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new k8(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(t,y)}),L8.apply(this,arguments)}function V8(){return V8=(0,te.A)(function*(t){const e=Mr(t);yield F1(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),V8.apply(this,arguments)}function Pie(t){return t.map(e=>{var{providerId:n}=e,i=ni(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function G8(){return G8=(0,te.A)(function*(t,e){const n=yield Eie(t,{},(0,te.A)(function*(){const i=Pw({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=Sie(t,r,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",wie.fetch()(o,{method:"POST",headers:c,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}),G8.apply(this,arguments)}function B8(){return B8=(0,te.A)(function*(t,e){return Hs(t,"POST","/v2/accounts:revokeToken",Bs(t,e))}),B8.apply(this,arguments)}class qT{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tn(e.idToken,"internal-error"),Tn(typeof e.idToken<"u","internal-error"),Tn(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xie(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Tn(0!==e.length,"internal-error");const n=xie(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){var i=this;return(0,te.A)(function*(){return n||!i.accessToken||i.isExpired?(Tn(i.refreshToken,e,"user-token-expired"),i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null):i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var i=this;return(0,te.A)(function*(){const{accessToken:r,refreshToken:s,expiresIn:o}=yield function HEe(t,e){return G8.apply(this,arguments)}(e,n);i.updateTokensAndExpiration(r,s,Number(o))})()}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new qT;return i&&(Tn("string"==typeof i,"internal-error",{appName:e}),o.refreshToken=i),r&&(Tn("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),s&&(Tn("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qT,this.toJSON())}_performRefresh(){return sg("not implemented")}}function Ey(t,e){Tn("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class gv{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=ni(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VEe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new k8(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return(0,te.A)(function*(){const i=yield pv(n,n.stsTokenManager.getToken(n.auth,e));return Tn(i,n.auth,"internal-error"),n.accessToken!==i&&(n.accessToken=i,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),i})()}getIdTokenResult(e){return function kEe(t){return N8.apply(this,arguments)}(this,e)}reload(){return function GEe(t){return V8.apply(this,arguments)}(this)}_assign(e){this!==e&&(Tn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gv(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Tn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var i=this;return(0,te.A)(function*(){let r=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield F1(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return(0,te.A)(function*(){if(rv(e.auth.app))return Promise.reject(Ya(e.auth));const n=yield e.getIdToken();return yield pv(e,function OEe(t,e){return x8.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,c,h,p,m;const y=null!==(i=n.displayName)&&void 0!==i?i:void 0,I=null!==(r=n.email)&&void 0!==r?r:void 0,L=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,U=null!==(o=n.photoURL)&&void 0!==o?o:void 0,X=null!==(c=n.tenantId)&&void 0!==c?c:void 0,Q=null!==(h=n._redirectEventId)&&void 0!==h?h:void 0,pe=null!==(p=n.createdAt)&&void 0!==p?p:void 0,Te=null!==(m=n.lastLoginAt)&&void 0!==m?m:void 0,{uid:Le,emailVerified:tt,isAnonymous:zt,providerData:Ot,stsTokenManager:Se}=n;Tn(Le&&Se,e,"internal-error");const me=qT.fromJSON(this.name,Se);Tn("string"==typeof Le,e,"internal-error"),Ey(y,e.name),Ey(I,e.name),Tn("boolean"==typeof tt,e,"internal-error"),Tn("boolean"==typeof zt,e,"internal-error"),Ey(L,e.name),Ey(U,e.name),Ey(X,e.name),Ey(Q,e.name),Ey(pe,e.name),Ey(Te,e.name);const Re=new gv({uid:Le,auth:e,email:I,emailVerified:tt,displayName:y,isAnonymous:zt,photoURL:U,phoneNumber:L,tenantId:X,stsTokenManager:me,createdAt:pe,lastLoginAt:Te});return Ot&&Array.isArray(Ot)&&(Re.providerData=Ot.map(Ke=>Object.assign({},Ke))),Q&&(Re._redirectEventId=Q),Re}static _fromIdTokenResponse(e,n,i=!1){return(0,te.A)(function*(){const r=new qT;r.updateFromServerResponse(n);const s=new gv({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield F1(s),s})()}static _fromGetAccountInfoResponse(e,n,i){return(0,te.A)(function*(){const r=n.users[0];Tn(void 0!==r.localId,"internal-error");const s=void 0!==r.providerUserInfo?Pie(r.providerUserInfo):[],o=!(r.email&&r.passwordHash||s?.length),c=new qT;c.updateFromIdToken(i);const h=new gv({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:o}),p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new k8(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||s?.length)};return Object.assign(h,p),h})()}}const Mie=new Map;function mv(t){wy(t instanceof Function,"Expected a class definition");let e=Mie.get(t);return e?(wy(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Mie.set(t,e),e)}const Nie=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,te.A)(function*(){return!0})()}_set(n,i){var r=this;return(0,te.A)(function*(){r.storage[n]=i})()}_get(n){var i=this;return(0,te.A)(function*(){const r=i.storage[n];return void 0===r?null:r})()}_remove(n){var i=this;return(0,te.A)(function*(){delete i.storage[n]})()}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})();function pL(t,e,n){return`firebase:${t}:${e}:${n}`}class KT{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=pL(this.userKey,r.apiKey,s),this.fullPersistenceKey=pL("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,te.A)(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?gv._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return(0,te.A)(function*(){if(n.persistence===e)return;const i=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,i?n.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return(0,te.A)(function*(){if(!n.length)return new KT(mv(Nie),e,i);const r=(yield Promise.all(n.map(function(){var p=(0,te.A)(function*(m){if(yield m._isAvailable())return m});return function(m){return p.apply(this,arguments)}}()))).filter(p=>p);let s=r[0]||mv(Nie);const o=pL(i,e.config.apiKey,e.name);let c=null;for(const p of n)try{const m=yield p._get(o);if(m){const y=gv._fromJSON(e,m);p!==s&&(c=y),s=p;break}}catch{}const h=r.filter(p=>p._shouldAllowMigration);return s._shouldAllowMigration&&h.length?(s=h[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(function(){var p=(0,te.A)(function*(m){if(m!==s)try{yield m._remove(o)}catch{}});return function(m){return p.apply(this,arguments)}}())),new KT(s,e,i)):new KT(s,e,i)})()}}function Oie(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Vie(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fie(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Bie(e))return"Blackberry";if(Hie(e))return"Webos";if(kie(e))return"Safari";if((e.includes("chrome/")||Lie(e))&&!e.includes("edge/"))return"Chrome";if(Gie(e))return"Android";{const i=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function Fie(t=xo()){return/firefox\//i.test(t)}function kie(t=xo()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Lie(t=xo()){return/crios\//i.test(t)}function Vie(t=xo()){return/iemobile/i.test(t)}function Gie(t=xo()){return/android/i.test(t)}function Bie(t=xo()){return/blackberry/i.test(t)}function Hie(t=xo()){return/webos/i.test(t)}function H8(t=xo()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Uie(t=xo()){return H8(t)||Gie(t)||Hie(t)||Bie(t)||/windows phone/i.test(t)||Vie(t)}function Wie(t,e=[]){let n;switch(t){case"Browser":n=Oie(xo());break;case"Worker":n=`${Oie(xo())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sv}/${i}`}class jEe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,c)=>{try{o(e(s))}catch(h){c(h)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return(0,te.A)(function*(){if(n.auth.currentUser===e)return;const i=[];try{for(const r of n.queue)yield r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const s of i)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}function U8(){return U8=(0,te.A)(function*(t,e={}){return Hs(t,"GET","/v2/passwordPolicy",Bs(t,e))}),U8.apply(this,arguments)}class KEe{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(i=e.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=null===(n=h.meetsMinPasswordLength)||void 0===n||n),h.isValid&&(h.isValid=null===(i=h.meetsMaxPasswordLength)||void 0===i||i),h.isValid&&(h.isValid=null===(r=h.containsLowercaseLetter)||void 0===r||r),h.isValid&&(h.isValid=null===(s=h.containsUppercaseLetter)||void 0===s||s),h.isValid&&(h.isValid=null===(o=h.containsNumericCharacter)||void 0===o||o),h.isValid&&(h.isValid=null===(c=h.containsNonAlphanumericCharacter)||void 0===c||c),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){let i;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class YEe{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zie(this),this.idTokenSubscription=new zie(this),this.beforeStateQueue=new jEe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bie,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var i=this;return n&&(this._popupRedirectResolver=mv(n)),this._initializationPromise=this.queue((0,te.A)(function*(){var r,s;if(!i._deleted&&(i.persistenceManager=yield KT.create(i,e),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(n),i.lastNotifiedUid=(null===(s=i.currentUser)||void 0===s?void 0:s.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,te.A)(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUserFromIdToken(e){var n=this;return(0,te.A)(function*(){try{const i=yield Rie(n,{idToken:e}),r=yield gv._fromGetAccountInfoResponse(n,i,e);yield n.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),yield n.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var n=this;return(0,te.A)(function*(){var i;if(rv(n.app)){const c=n.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>n.initializeCurrentUserFromIdToken(c).then(h,h))}):n.directlySetCurrentUser(null)}const r=yield n.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const c=null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId,h=s?._redirectEventId,p=yield n.tryRedirectSignIn(e);(!c||c===h)&&p?.user&&(s=p.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(c){s=r,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(c))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return Tn(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return(0,te.A)(function*(){let i=null;try{i=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var n=this;return(0,te.A)(function*(){try{yield F1(e)}catch(i){if("auth/network-request-failed"!==i?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function DEe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return(0,te.A)(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return(0,te.A)(function*(){if(rv(n.app))return Promise.reject(Ya(n));const i=e?Mr(e):null;return i&&Tn(i.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(i&&i._clone(n))})()}_updateCurrentUser(e,n=!1){var i=this;return(0,te.A)(function*(){if(!i._deleted)return e&&Tn(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),n||(yield i.beforeStateQueue.runMiddleware(e)),i.queue((0,te.A)(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,te.A)(function*(){return rv(e.app)?Promise.reject(Ya(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var n=this;return rv(this.app)?Promise.reject(Ya(this)):this.queue((0,te.A)(function*(){yield n.assertedPersistence.setPersistence(mv(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return(0,te.A)(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const i=n._getPasswordPolicyInternal();return i.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,te.A)(function*(){const n=yield function $Ee(t){return U8.apply(this,arguments)}(e),i=new KEe(n);null===e.tenantId?e._projectPasswordPolicy=i:e._tenantPasswordPolicies[e.tenantId]=i})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hd("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){var n=this;return(0,te.A)(function*(){if(n.currentUser){const i=yield n.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};null!=n.tenantId&&(r.tenantId=n.tenantId),yield function UEe(t,e){return B8.apply(this,arguments)}(n,r)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var i=this;return(0,te.A)(function*(){const r=yield i.getOrInitRedirectPersistenceManager(n);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return(0,te.A)(function*(){if(!n.redirectPersistenceManager){const i=e&&mv(e)||n._popupRedirectResolver;Tn(i,n,"argument-error"),n.redirectPersistenceManager=yield KT.create(n,[mv(i._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return(0,te.A)(function*(){var i,r;return n._isInitialized&&(yield n.queue((0,te.A)(function*(){}))),(null===(i=n._currentUser)||void 0===i?void 0:i._redirectEventId)===e?n._currentUser:(null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return(0,te.A)(function*(){if(e===n.currentUser)return n.queue((0,te.A)(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tn(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),"function"==typeof n){const h=e.addObserver(n,i,r);return()=>{o=!0,h()}}{const h=e.addObserver(n);return()=>{o=!0,h()}}}directlySetCurrentUser(e){var n=this;return(0,te.A)(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wie(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,te.A)(function*(){var n;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const r=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const s=yield e._getAppCheckToken();return s&&(i["X-Firebase-AppCheck"]=s),i})()}_getAppCheckToken(){var e=this;return(0,te.A)(function*(){var n;const i=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return i?.error&&function IEe(t,...e){dL.logLevel<=a.WARN&&dL.warn(`Auth (${sv}): ${t}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function na(t){return Mr(t)}class zie{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Gk(t,e){const n=new V6(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return Tn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let k1={loadJS:()=>(0,te.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W8(t){return k1.loadJS(t)}function jie(t){return`__${t}${Math.floor(1e6*Math.random())}`}class $ie{constructor(e){this.type="recaptcha-enterprise",this.auth=na(e)}verify(e="verify",n=!1){var i=this;return(0,te.A)(function*(){function s(){return s=(0,te.A)(function*(c){if(!n){if(null==c.tenantId&&null!=c._agentRecaptchaConfig)return c._agentRecaptchaConfig.siteKey;if(null!=c.tenantId&&void 0!==c._tenantRecaptchaConfigs[c.tenantId])return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(function(){var h=(0,te.A)(function*(p,m){(function Die(t,e){return R8.apply(this,arguments)})(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(void 0!==y.recaptchaKey){const I=new Aie(y);return null==c.tenantId?c._agentRecaptchaConfig=I:c._tenantRecaptchaConfigs[c.tenantId]=I,p(I.siteKey)}m(new Error("recaptcha Enterprise site key undefined"))}).catch(y=>{m(y)})});return function(p,m){return h.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(c,h,p){const m=window.grecaptcha;Iie(m)?m.enterprise.ready(()=>{m.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h("NO_RECAPTCHA")})}):p(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((c,h)=>{(function r(c){return s.apply(this,arguments)})(i.auth).then(p=>{if(!n&&Iie(window.grecaptcha))o(p,c,h);else{if(typeof window>"u")return void h(new Error("RecaptchaVerifier is only supported in browser"));let m=function JEe(){return k1.recaptchaEnterpriseScript}();0!==m.length&&(m+=p),W8(m).then(()=>{o(p,c,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})})()}}function qie(t,e,n){return z8.apply(this,arguments)}function z8(){return z8=(0,te.A)(function*(t,e,n,i=!1){const r=new $ie(t);let s;try{s=yield r.verify(n)}catch{s=yield r.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,i?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}),z8.apply(this,arguments)}function L1(t,e,n,i){return j8.apply(this,arguments)}function j8(){return j8=(0,te.A)(function*(t,e,n,i){var r;if(null!==(r=t._getRecaptchaConfig())&&void 0!==r&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield qie(t,e,n,"getOobCode"===n);return i(t,s)}return i(t,e).catch(function(){var s=(0,te.A)(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=yield qie(t,e,n,"getOobCode"===n);return i(t,c)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}())}),j8.apply(this,arguments)}function Kie(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Yie(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class V1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sg("not implemented")}_getIdTokenResponse(e){return sg("not implemented")}_linkToIdToken(e,n){return sg("not implemented")}_getReauthenticationResolver(e){return sg("not implemented")}}function c0e(t,e){return Y8.apply(this,arguments)}function Y8(){return Y8=(0,te.A)(function*(t,e){return Hs(t,"POST","/v1/accounts:signUp",e)}),Y8.apply(this,arguments)}function d0e(t,e){return Q8.apply(this,arguments)}function Q8(){return Q8=(0,te.A)(function*(t,e){return fv(t,"POST","/v1/accounts:signInWithPassword",Bs(t,e))}),Q8.apply(this,arguments)}function iz(){return iz=(0,te.A)(function*(t,e){return fv(t,"POST","/v1/accounts:signInWithEmailLink",Bs(t,e))}),iz.apply(this,arguments)}function rz(){return rz=(0,te.A)(function*(t,e){return fv(t,"POST","/v1/accounts:signInWithEmailLink",Bs(t,e))}),rz.apply(this,arguments)}class G1 extends V1{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new G1(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new G1(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return(0,te.A)(function*(){switch(n.signInMethod){case"password":return L1(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",d0e);case"emailLink":return function m0e(t,e){return iz.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Ru(e,"internal-error")}})()}_linkToIdToken(e,n){var i=this;return(0,te.A)(function*(){switch(i.signInMethod){case"password":return L1(e,{idToken:n,returnSecureToken:!0,email:i._email,password:i._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",c0e);case"emailLink":return function v0e(t,e){return rz.apply(this,arguments)}(e,{idToken:n,email:i._email,oobCode:i._password});default:Ru(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function vv(t,e){return sz.apply(this,arguments)}function sz(){return sz=(0,te.A)(function*(t,e){return fv(t,"POST","/v1/accounts:signInWithIdp",Bs(t,e))}),sz.apply(this,arguments)}class U1{constructor(e){var n,i,r,s,o,c;const h=Mw(tg(e)),p=null!==(n=h.apiKey)&&void 0!==n?n:null,m=null!==(i=h.oobCode)&&void 0!==i?i:null,y=function S0e(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=h.mode)&&void 0!==r?r:null);Tn(p&&m&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=m,this.continueUrl=null!==(s=h.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=h.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(c=h.tenantId)&&void 0!==c?c:null}static parseLink(e){const n=function T0e(t){const e=Mw(tg(t)).link,n=e?Mw(tg(e)).deep_link_id:null,i=Mw(tg(t)).deep_link_id;return(i?Mw(tg(i)).link:null)||i||n||e||t}(e);try{return new U1(n)}catch{return null}}}let Qie=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,i){return G1._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){const r=U1.parseLink(i);return Tn(r,"argument-error"),G1._fromEmailAndCode(n,r.code,r.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class _v{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class I0e extends _v{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class mh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return(0,te.A)(function*(){const s=yield gv._fromIdTokenResponse(e,i,r),o=Zie(i);return new mh({user:s,providerId:o,_tokenResponse:i,operationType:n})})()}static _forOperation(e,n,i){return(0,te.A)(function*(){yield e._updateTokensIfNecessary(i,!0);const r=Zie(i);return new mh({user:e,providerId:r,_tokenResponse:i,operationType:n})})()}}function Zie(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class vL extends bl{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,vL.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new vL(e,n,i,r)}}function ere(t,e,n,i){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?vL._fromErrorAndOperation(t,s,e,i):s})}function gz(){return gz=(0,te.A)(function*(t,e,n=!1){const i=yield pv(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return mh._forOperation(t,"link",i)}),gz.apply(this,arguments)}function vz(){return vz=(0,te.A)(function*(t,e,n=!1){const{auth:i}=t;if(rv(i.app))return Promise.reject(Ya(i));const r="reauthenticate";try{const s=yield pv(t,ere(i,r,e,t),n);Tn(s.idToken,i,"internal-error");const o=fL(s.idToken);Tn(o,i,"internal-error");const{sub:c}=o;return Tn(t.uid===c,i,"user-mismatch"),mh._forOperation(t,r,s)}catch(s){throw"auth/user-not-found"===s?.code&&Ru(i,"user-mismatch"),s}}),vz.apply(this,arguments)}function ire(t,e){return _z.apply(this,arguments)}function _z(){return _z=(0,te.A)(function*(t,e,n=!1){if(rv(t.app))return Promise.reject(Ya(t));const i="signIn",r=yield ere(t,i,e),s=yield mh._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(s.user)),s}),_z.apply(this,arguments)}function bz(){return bz=(0,te.A)(function*(t,e){return ire(na(t),e)}),bz.apply(this,arguments)}function Dz(){return Dz=(0,te.A)(function*(t){const e=na(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())}),Dz.apply(this,arguments)}function N0e(t,e,n){return rv(t.app)?Promise.reject(Ya(t)):function yz(t,e){return bz.apply(this,arguments)}(Mr(t),Qie.credential(e,n)).catch(function(){var i=(0,te.A)(function*(r){throw"auth/password-does-not-meet-requirements"===r.code&&function Az(t){return Dz.apply(this,arguments)}(t),r});return function(r){return i.apply(this,arguments)}}())}function W0e(t){return Mr(t).signOut()}const bL="__sak";class ore{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bL,"1"),this.storage.removeItem(bL),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const X0e=(()=>{class t extends ore{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Uie(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),s=this.localCache[i];r!==s&&n(i,s,r)}}onStorageEvent(n,i=!1){if(!n.key)return void this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});const r=n.key;i?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(r);!i&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);!function zEe(){return function Fk(){const t=xo();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,i){this.localCache[n]=i;const r=this.listeners[n];if(r)for(const s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,i){var r=()=>super._set,s=this;return(0,te.A)(function*(){yield r().call(s,n,i),s.localCache[n]=JSON.stringify(i)})()}_get(n){var i=()=>super._get,r=this;return(0,te.A)(function*(){const s=yield i().call(r,n);return r.localCache[n]=JSON.stringify(s),s})()}_remove(n){var i=()=>super._remove,r=this;return(0,te.A)(function*(){yield i().call(r,n),delete r.localCache[n]})()}}return t.type="LOCAL",t})(),are=(()=>{class t extends ore{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})();let J0e=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const i=this.receivers.find(s=>s.isListeningto(n));if(i)return i;const r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){var i=this;return(0,te.A)(function*(){const r=n,{eventId:s,eventType:o,data:c}=r.data,h=i.handlersMap[o];if(!h?.size)return;r.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(h).map(function(){var y=(0,te.A)(function*(I){return I(r.origin,c)});return function(I){return y.apply(this,arguments)}}()),m=yield function Q0e(t){return Promise.all(t.map(function(){var e=(0,te.A)(function*(n){try{return{fulfilled:!0,value:yield n}}catch(i){return{fulfilled:!1,reason:i}}});return function(n){return e.apply(this,arguments)}}()))}(p);r.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})})()}_subscribe(n,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function Yz(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(10*Math.random());return t+n}class Z0e{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){var r=this;return(0,te.A)(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((h,p)=>{const m=Yz("",20);s.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(I){const L=I;if(L.data.eventId===m)switch(L.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(L.data.response);break;default:clearTimeout(y),clearTimeout(o),p(new Error("invalid_response"))}}},r.handlers.add(c),s.port1.addEventListener("message",c.onMessage),r.target.postMessage({eventType:e,eventId:m,data:n},[s.port2])}).finally(()=>{c&&r.removeMessageHandler(c)})})()}}function ga(){return window}function Xz(){return typeof ga().WorkerGlobalScope<"u"&&"function"==typeof ga().importScripts}function Qz(){return(Qz=(0,te.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const lre="firebaseLocalStorageDb",CL="firebaseLocalStorage",cre="fbase_key";class j1{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wL(t,e){return t.transaction([CL],e?"readwrite":"readonly").objectStore(CL)}function Jz(){const t=indexedDB.open(lre,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(CL,{keyPath:cre})}catch(r){n(r)}}),t.addEventListener("success",(0,te.A)(function*(){const i=t.result;i.objectStoreNames.contains(CL)?e(i):(i.close(),yield function sSe(){const t=indexedDB.deleteDatabase(lre);return new j1(t).toPromise()}(),e(yield Jz()))}))})}function ure(t,e,n){return Zz.apply(this,arguments)}function Zz(){return Zz=(0,te.A)(function*(t,e,n){const i=wL(t,!0).put({[cre]:e,value:n});return new j1(i).toPromise()}),Zz.apply(this,arguments)}function ej(){return ej=(0,te.A)(function*(t,e){const n=wL(t,!1).get(e),i=yield new j1(n).toPromise();return void 0===i?null:i.value}),ej.apply(this,arguments)}function dre(t,e){const n=wL(t,!0).delete(e);return new j1(n).toPromise()}const cSe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return(0,te.A)(function*(){return n.db||(n.db=yield Jz()),n.db})()}_withRetries(n){var i=this;return(0,te.A)(function*(){let r=0;for(;;)try{const s=yield i._openDb();return yield n(s)}catch(s){if(r++>3)throw s;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return(0,te.A)(function*(){return Xz()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return(0,te.A)(function*(){n.receiver=J0e._getInstance(function iSe(){return Xz()?self:null}()),n.receiver._subscribe("keyChanged",function(){var i=(0,te.A)(function*(r,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(r,s){return i.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var i=(0,te.A)(function*(r,s){return["keyChanged"]});return function(r,s){return i.apply(this,arguments)}}())})()}initializeSender(){var n=this;return(0,te.A)(function*(){var i,r;if(n.activeServiceWorker=yield function tSe(){return Qz.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Z0e(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(i=s[0])&&void 0!==i&&i.fulfilled&&null!==(r=s[0])&&void 0!==r&&r.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var i=this;return(0,te.A)(function*(){if(i.sender&&i.activeServiceWorker&&function nSe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:n},i.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,te.A)(function*(){try{if(!indexedDB)return!1;const n=yield Jz();return yield ure(n,bL,"1"),yield dre(n,bL),!0}catch{}return!1})()}_withPendingWrite(n){var i=this;return(0,te.A)(function*(){i.pendingWrites++;try{yield n()}finally{i.pendingWrites--}})()}_set(n,i){var r=this;return(0,te.A)(function*(){return r._withPendingWrite((0,te.A)(function*(){return yield r._withRetries(s=>ure(s,n,i)),r.localCache[n]=i,r.notifyServiceWorker(n)}))})()}_get(n){var i=this;return(0,te.A)(function*(){const r=yield i._withRetries(s=>function oSe(t,e){return ej.apply(this,arguments)}(s,n));return i.localCache[n]=r,r})()}_remove(n){var i=this;return(0,te.A)(function*(){return i._withPendingWrite((0,te.A)(function*(){return yield i._withRetries(r=>dre(r,n)),delete i.localCache[n],i.notifyServiceWorker(n)}))})()}_poll(){var n=this;return(0,te.A)(function*(){const i=yield n._withRetries(o=>{const c=wL(o,!1).getAll();return new j1(c).toPromise()});if(!i)return[];if(0!==n.pendingWrites)return[];const r=[],s=new Set;if(0!==i.length)for(const{fbase_key:o,value:c}of i)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(c)&&(n.notifyListeners(o,c),r.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),r.push(o));return r})()}notifyListeners(n,i){this.localCache[n]=i;const r=this.listeners[n];if(r)for(const s of Array.from(r))s(i)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval((0,te.A)(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();jie("rcb"),new M1(3e4,6e4);class cj extends V1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vv(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vv(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vv(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function SSe(t){return ire(t.auth,new cj(t),t.bypassAuthState)}function TSe(t){const{auth:e,user:n}=t;return Tn(n,e,"internal-error"),function nre(t,e){return vz.apply(this,arguments)}(n,new cj(t),t.bypassAuthState)}function ISe(t){return uj.apply(this,arguments)}function uj(){return uj=(0,te.A)(function*(t){const{auth:e,user:n}=t;return Tn(n,e,"internal-error"),function pz(t,e){return gz.apply(this,arguments)}(n,new cj(t),t.bypassAuthState)}),uj.apply(this,arguments)}class ASe{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=(0,te.A)(function*(i,r){e.pendingPromise={resolve:i,reject:r};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(i,r){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return(0,te.A)(function*(){const{urlResponse:i,sessionId:r,postBody:s,tenantId:o,error:c,type:h}=e;if(c)return void n.reject(c);const p={auth:n.auth,requestUri:i,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(h)(p))}catch(m){n.reject(m)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SSe;case"linkViaPopup":case"linkViaRedirect":return ISe;case"reauthViaPopup":case"reauthViaRedirect":return TSe;default:Ru(this.auth,"internal-error")}}resolve(e){wy(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wy(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new M1(2e3,1e4);const DSe="pendingRedirect",$1=new Map;class RSe extends ASe{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){var e=()=>super.execute,n=this;return(0,te.A)(function*(){let i=$1.get(n.auth._key());if(!i){try{const s=(yield function xSe(t,e){return gj.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;i=()=>Promise.resolve(s)}catch(r){i=()=>Promise.reject(r)}$1.set(n.auth._key(),i)}return n.bypassAuthState||$1.set(n.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,i=this;return(0,te.A)(function*(){if("signInViaRedirect"===e.type)return n().call(i,e);if("unknown"!==e.type){if(e.eventId){const r=yield i.auth._redirectUserForId(e.eventId);if(r)return i.user=r,n().call(i,e);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return(0,te.A)(function*(){})()}cleanUp(){}}function gj(){return gj=(0,te.A)(function*(t,e){const n=function pre(t){return pL(DSe,t.config.apiKey,t.name)}(e),i=function fre(t){return mv(t._redirectPersistence)}(t);if(!(yield i._isAvailable()))return!1;const r="true"===(yield i._get(n));return yield i._remove(n),r}),gj.apply(this,arguments)}function PSe(t,e){$1.set(t._key(),e)}function gre(t,e){return wj.apply(this,arguments)}function wj(){return wj=(0,te.A)(function*(t,e,n=!1){if(rv(t.app))return Promise.reject(Ya(t));const i=na(t),r=function Uw(t,e){return e?mv(e):(Tn(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(i,e),o=yield new RSe(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o}),wj.apply(this,arguments)}class kSe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function LSe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _re(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!_re(e)){const r=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";n.onError(gh(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vre(e))}saveEventToCache(e){this.cachedEventUids.add(vre(e)),this.lastProcessedEventTime=Date.now()}}function vre(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _re({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function Sj(){return Sj=(0,te.A)(function*(t,e={}){return Hs(t,"GET","/v1/projects",e)}),Sj.apply(this,arguments)}const GSe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BSe=/^https?/;function Tj(){return Tj=(0,te.A)(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function VSe(t){return Sj.apply(this,arguments)}(t);for(const n of e)try{if(USe(n))return}catch{}Ru(t,"unauthorized-domain")}),Tj.apply(this,arguments)}function USe(t){const e=P1(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===i?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===i}if(!BSe.test(n))return!1;if(GSe.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const WSe=new M1(3e4,6e4);function yre(){const t=ga().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let SL=null;const $Se=new M1(5e3,15e3),qSe="__/auth/iframe",KSe="emulator/auth/iframe",YSe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XSe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QSe(t){const e=t.config;Tn(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?S8(e,KSe):`https://${t.config.authDomain}/${qSe}`,i={apiKey:e.apiKey,appName:t.name,v:sv},r=XSe.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Pw(i).slice(1)}`}function Ij(){return Ij=(0,te.A)(function*(t){const e=yield function jSe(t){return SL=SL||function zSe(t){return new Promise((e,n)=>{var i,r,s;function o(){yre(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yre(),n(gh(t,"network-request-failed"))},timeout:WSe.get()})}if(null!==(r=null===(i=ga().gapi)||void 0===i?void 0:i.iframes)&&void 0!==r&&r.Iframe)e(gapi.iframes.getContext());else{if(null===(s=ga().gapi)||void 0===s||!s.load){const c=jie("iframefcb");return ga()[c]=()=>{gapi.load?o():n(gh(t,"network-request-failed"))},W8(`${function ZEe(){return k1.gapiScript}()}?onload=${c}`).catch(h=>n(h))}o()}}).catch(e=>{throw SL=null,e})}(t),SL}(t),n=ga().gapi;return Tn(n,t,"internal-error"),e.open({where:document.body,url:QSe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YSe,dontclear:!0},i=>new Promise(function(){var r=(0,te.A)(function*(s,o){yield i.restyle({setHideOnLeave:!1});const c=gh(t,"network-request-failed"),h=ga().setTimeout(()=>{o(c)},$Se.get());function p(){ga().clearTimeout(h),s(i)}i.ping(p).then(p,()=>{o(c)})});return function(s,o){return r.apply(this,arguments)}}()))}),Ij.apply(this,arguments)}const ZSe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class bre{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const oTe="__/auth/handler",aTe="emulator/auth/handler",lTe=encodeURIComponent("fac");function Cre(t,e,n,i,r,s){return Aj.apply(this,arguments)}function Aj(){return Aj=(0,te.A)(function*(t,e,n,i,r,s){Tn(t.config.authDomain,t,"auth-domain-config-required"),Tn(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:sv,eventId:r};if(e instanceof _v){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",NT(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries(s||{}))o[m]=y}if(e instanceof I0e){const m=e.getScopes().filter(y=>""!==y);m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const m of Object.keys(c))void 0===c[m]&&delete c[m];const h=yield t._getAppCheckToken(),p=h?`#${lTe}=${encodeURIComponent(h)}`:"";return`${function cTe({config:t}){return t.emulator?S8(t,aTe):`https://${t.authDomain}/${oTe}`}(t)}?${Pw(c).slice(1)}${p}`}),Aj.apply(this,arguments)}const Dj="webStorageSupport",dTe=class uTe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=are,this._completeRedirectFn=gre,this._overrideRedirectResult=PSe}_openPopup(e,n,i,r){var s=this;return(0,te.A)(function*(){var o;wy(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const c=yield Cre(e,n,i,P1(),r);return function rTe(t,e,n,i=500,r=600){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},ZSe),{width:i.toString(),height:r.toString(),top:s,left:o}),p=xo().toLowerCase();n&&(c=Lie(p)?"_blank":n),Fie(p)&&(e=e||"http://localhost",h.scrollbars="yes");const m=Object.entries(h).reduce((I,[L,U])=>`${I}${L}=${U},`,"");if(function WEe(t=xo()){var e;return H8(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(p)&&"_self"!==c)return function sTe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(e||"",c),new bre(null);const y=window.open(e||"",c,m);Tn(y,t,"popup-blocked");try{y.focus()}catch{}return new bre(y)}(e,c,Yz())})()}_openRedirect(e,n,i,r){var s=this;return(0,te.A)(function*(){return yield s._originValidation(e),function eSe(t){ga().location.href=t}(yield Cre(e,n,i,P1(),r)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(wy(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){var n=this;return(0,te.A)(function*(){const i=yield function JSe(t){return Ij.apply(this,arguments)}(e),r=new kSe(e);return i.register("authEvent",s=>(Tn(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:r},n.iframes[e._key()]=i,r})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dj,{type:Dj},r=>{var s;const o=null===(s=r?.[0])||void 0===s?void 0:s[Dj];void 0!==o&&n(!!o),Ru(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function HSe(t){return Tj.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Uie()||kie()||H8()}};var Tre="@firebase/auth";class hTe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return(0,te.A)(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const mTe=M6("authIdTokenMaxAge")||300;let Are=null;const vTe=t=>function(){var e=(0,te.A)(function*(n){const i=n&&(yield n.getIdTokenResult()),r=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>mTe)return;const s=i?.token;Are!==s&&(Are=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function _Te(t=ng()){const e=Iu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function i0e(t,e){const n=Iu(t,"auth");if(n.isInitialized()){const r=n.getImmediate();if(tv(n.getOptions(),e??{}))return r;Ru(r,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:dTe,persistence:[cSe,X0e,are]}),i=M6("authTokenSyncURL");if(i&&"boolean"==typeof isSecureContext&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=vTe(s.toString());(function U0e(t,e,n){Mr(t).beforeAuthStateChanged(e,n)})(n,o,()=>o(n.currentUser)),function H0e(t,e,n,i){Mr(t).onIdTokenChanged(e,n,i)}(n,c=>o(c))}}const r=Jx("auth");return r&&function s0e(t,e,n){const i=na(t);Tn(i._canInitEmulator,i,"emulator-config-failed"),Tn(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!n?.disableWarnings,s=Kie(e),{host:o,port:c}=function o0e(t){const e=Kie(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:Yie(i.substr(s.length+1))}}{const[s,o]=i.split(":");return{host:s,port:Yie(o)}}}(e);i.config.emulator={url:`${s}//${o}${null===c?"":`:${c}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function a0e(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${r}`),n}(function XEe(t){k1=t})({loadJS:t=>new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=gh("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",function yTe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(i)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function pTe(t){Cl(new fa("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=i.options;Tn(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wie(t)},p=new YEe(i,r,s,h);return function r0e(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(mv);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Cl(new fa("auth-internal",e=>{const n=na(e.getProvider("auth").getImmediate());return new hTe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(Tre,"1.7.9",function fTe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(t)),tr(Tre,"1.7.9","esm2017")}("Browser");class yv{constructor(e){return e}}class q1{constructor(){return Tf("auth")}}const xj=new d.nKC("angularfire2.auth-instances");function CTe(t){return(e,n)=>{const i=e.runOutsideAngular(()=>t(n));return new yv(i)}}const wTe={provide:q1,deps:[[new d.Xx1,xj]]},ETe={provide:yv,useFactory:function bTe(t,e){const n=ig("auth",t,e);return n&&new yv(n)},deps:[[new d.Xx1,xj],fd]},TTe=Po(SEe,!0),ITe=Po(_ie,!0),ATe=Po(_Te,!0),DTe=Po(N0e,!0),RTe=Po(W0e,!0);var Ww,Pre,Rre=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xre={};(function(){var t;function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(Se,me,Re){Re||(Re=0);var Ke=Array(16);if("string"==typeof me)for(var et=0;16>et;++et)Ke[et]=me.charCodeAt(Re++)|me.charCodeAt(Re++)<<8|me.charCodeAt(Re++)<<16|me.charCodeAt(Re++)<<24;else for(et=0;16>et;++et)Ke[et]=me[Re++]|me[Re++]<<8|me[Re++]<<16|me[Re++]<<24;var pt=Se.g[3],Oe=(me=Se.g[0])+(pt^(Re=Se.g[1])&((et=Se.g[2])^pt))+Ke[0]+3614090360&4294967295;Oe=(Re=(et=(pt=(me=(Re=(et=(pt=(me=(Re=(et=(pt=(me=(Re=(et=(pt=(me=(Re=(et=(pt=(me=(Re=(et=(pt=(me=(Re=(et=(pt=(me=(Re=(et=(pt=(me=(Re=(et=(pt=(me=(Re=(et=(pt=(me=(Re=(et=(pt=(me=(Re=(et=(pt=(me=(Re=(et=(pt=(me=(Re=(et=(pt=(me=(Re=(et=(pt=(me=Re+(Oe<<7&4294967295|Oe>>>25))+((Oe=pt+(et^me&(Re^et))+Ke[1]+3905402710&4294967295)<<12&4294967295|Oe>>>20))+((Oe=et+(Re^pt&(me^Re))+Ke[2]+606105819&4294967295)<<17&4294967295|Oe>>>15))+((Oe=Re+(me^et&(pt^me))+Ke[3]+3250441966&4294967295)<<22&4294967295|Oe>>>10))+((Oe=me+(pt^Re&(et^pt))+Ke[4]+4118548399&4294967295)<<7&4294967295|Oe>>>25))+((Oe=pt+(et^me&(Re^et))+Ke[5]+1200080426&4294967295)<<12&4294967295|Oe>>>20))+((Oe=et+(Re^pt&(me^Re))+Ke[6]+2821735955&4294967295)<<17&4294967295|Oe>>>15))+((Oe=Re+(me^et&(pt^me))+Ke[7]+4249261313&4294967295)<<22&4294967295|Oe>>>10))+((Oe=me+(pt^Re&(et^pt))+Ke[8]+1770035416&4294967295)<<7&4294967295|Oe>>>25))+((Oe=pt+(et^me&(Re^et))+Ke[9]+2336552879&4294967295)<<12&4294967295|Oe>>>20))+((Oe=et+(Re^pt&(me^Re))+Ke[10]+4294925233&4294967295)<<17&4294967295|Oe>>>15))+((Oe=Re+(me^et&(pt^me))+Ke[11]+2304563134&4294967295)<<22&4294967295|Oe>>>10))+((Oe=me+(pt^Re&(et^pt))+Ke[12]+1804603682&4294967295)<<7&4294967295|Oe>>>25))+((Oe=pt+(et^me&(Re^et))+Ke[13]+4254626195&4294967295)<<12&4294967295|Oe>>>20))+((Oe=et+(Re^pt&(me^Re))+Ke[14]+2792965006&4294967295)<<17&4294967295|Oe>>>15))+((Oe=Re+(me^et&(pt^me))+Ke[15]+1236535329&4294967295)<<22&4294967295|Oe>>>10))+((Oe=me+(et^pt&(Re^et))+Ke[1]+4129170786&4294967295)<<5&4294967295|Oe>>>27))+((Oe=pt+(Re^et&(me^Re))+Ke[6]+3225465664&4294967295)<<9&4294967295|Oe>>>23))+((Oe=et+(me^Re&(pt^me))+Ke[11]+643717713&4294967295)<<14&4294967295|Oe>>>18))+((Oe=Re+(pt^me&(et^pt))+Ke[0]+3921069994&4294967295)<<20&4294967295|Oe>>>12))+((Oe=me+(et^pt&(Re^et))+Ke[5]+3593408605&4294967295)<<5&4294967295|Oe>>>27))+((Oe=pt+(Re^et&(me^Re))+Ke[10]+38016083&4294967295)<<9&4294967295|Oe>>>23))+((Oe=et+(me^Re&(pt^me))+Ke[15]+3634488961&4294967295)<<14&4294967295|Oe>>>18))+((Oe=Re+(pt^me&(et^pt))+Ke[4]+3889429448&4294967295)<<20&4294967295|Oe>>>12))+((Oe=me+(et^pt&(Re^et))+Ke[9]+568446438&4294967295)<<5&4294967295|Oe>>>27))+((Oe=pt+(Re^et&(me^Re))+Ke[14]+3275163606&4294967295)<<9&4294967295|Oe>>>23))+((Oe=et+(me^Re&(pt^me))+Ke[3]+4107603335&4294967295)<<14&4294967295|Oe>>>18))+((Oe=Re+(pt^me&(et^pt))+Ke[8]+1163531501&4294967295)<<20&4294967295|Oe>>>12))+((Oe=me+(et^pt&(Re^et))+Ke[13]+2850285829&4294967295)<<5&4294967295|Oe>>>27))+((Oe=pt+(Re^et&(me^Re))+Ke[2]+4243563512&4294967295)<<9&4294967295|Oe>>>23))+((Oe=et+(me^Re&(pt^me))+Ke[7]+1735328473&4294967295)<<14&4294967295|Oe>>>18))+((Oe=Re+(pt^me&(et^pt))+Ke[12]+2368359562&4294967295)<<20&4294967295|Oe>>>12))+((Oe=me+(Re^et^pt)+Ke[5]+4294588738&4294967295)<<4&4294967295|Oe>>>28))+((Oe=pt+(me^Re^et)+Ke[8]+2272392833&4294967295)<<11&4294967295|Oe>>>21))+((Oe=et+(pt^me^Re)+Ke[11]+1839030562&4294967295)<<16&4294967295|Oe>>>16))+((Oe=Re+(et^pt^me)+Ke[14]+4259657740&4294967295)<<23&4294967295|Oe>>>9))+((Oe=me+(Re^et^pt)+Ke[1]+2763975236&4294967295)<<4&4294967295|Oe>>>28))+((Oe=pt+(me^Re^et)+Ke[4]+1272893353&4294967295)<<11&4294967295|Oe>>>21))+((Oe=et+(pt^me^Re)+Ke[7]+4139469664&4294967295)<<16&4294967295|Oe>>>16))+((Oe=Re+(et^pt^me)+Ke[10]+3200236656&4294967295)<<23&4294967295|Oe>>>9))+((Oe=me+(Re^et^pt)+Ke[13]+681279174&4294967295)<<4&4294967295|Oe>>>28))+((Oe=pt+(me^Re^et)+Ke[0]+3936430074&4294967295)<<11&4294967295|Oe>>>21))+((Oe=et+(pt^me^Re)+Ke[3]+3572445317&4294967295)<<16&4294967295|Oe>>>16))+((Oe=Re+(et^pt^me)+Ke[6]+76029189&4294967295)<<23&4294967295|Oe>>>9))+((Oe=me+(Re^et^pt)+Ke[9]+3654602809&4294967295)<<4&4294967295|Oe>>>28))+((Oe=pt+(me^Re^et)+Ke[12]+3873151461&4294967295)<<11&4294967295|Oe>>>21))+((Oe=et+(pt^me^Re)+Ke[15]+530742520&4294967295)<<16&4294967295|Oe>>>16))+((Oe=Re+(et^pt^me)+Ke[2]+3299628645&4294967295)<<23&4294967295|Oe>>>9))+((Oe=me+(et^(Re|~pt))+Ke[0]+4096336452&4294967295)<<6&4294967295|Oe>>>26))+((Oe=pt+(Re^(me|~et))+Ke[7]+1126891415&4294967295)<<10&4294967295|Oe>>>22))+((Oe=et+(me^(pt|~Re))+Ke[14]+2878612391&4294967295)<<15&4294967295|Oe>>>17))+((Oe=Re+(pt^(et|~me))+Ke[5]+4237533241&4294967295)<<21&4294967295|Oe>>>11))+((Oe=me+(et^(Re|~pt))+Ke[12]+1700485571&4294967295)<<6&4294967295|Oe>>>26))+((Oe=pt+(Re^(me|~et))+Ke[3]+2399980690&4294967295)<<10&4294967295|Oe>>>22))+((Oe=et+(me^(pt|~Re))+Ke[10]+4293915773&4294967295)<<15&4294967295|Oe>>>17))+((Oe=Re+(pt^(et|~me))+Ke[1]+2240044497&4294967295)<<21&4294967295|Oe>>>11))+((Oe=me+(et^(Re|~pt))+Ke[8]+1873313359&4294967295)<<6&4294967295|Oe>>>26))+((Oe=pt+(Re^(me|~et))+Ke[15]+4264355552&4294967295)<<10&4294967295|Oe>>>22))+((Oe=et+(me^(pt|~Re))+Ke[6]+2734768916&4294967295)<<15&4294967295|Oe>>>17))+((Oe=Re+(pt^(et|~me))+Ke[13]+1309151649&4294967295)<<21&4294967295|Oe>>>11))+((pt=(me=Re+((Oe=me+(et^(Re|~pt))+Ke[4]+4149444226&4294967295)<<6&4294967295|Oe>>>26))+((Oe=pt+(Re^(me|~et))+Ke[11]+3174756917&4294967295)<<10&4294967295|Oe>>>22))^((et=pt+((Oe=et+(me^(pt|~Re))+Ke[2]+718787259&4294967295)<<15&4294967295|Oe>>>17))|~me))+Ke[9]+3951481745&4294967295,Se.g[0]=Se.g[0]+me&4294967295,Se.g[1]=Se.g[1]+(et+(Oe<<21&4294967295|Oe>>>11))&4294967295,Se.g[2]=Se.g[2]+et&4294967295,Se.g[3]=Se.g[3]+pt&4294967295}function o(Se,me){this.h=me;for(var Re=[],Ke=!0,et=Se.length-1;0<=et;et--){var pt=0|Se[et];Ke&&pt==me||(Re[et]=pt,Ke=!1)}this.g=Re}(function e(Se,me){function Re(){}Re.prototype=me.prototype,Se.D=me.prototype,Se.prototype=new Re,Se.prototype.constructor=Se,Se.C=function(Ke,et,pt){for(var Oe=Array(arguments.length-2),Ah=2;Ah<arguments.length;Ah++)Oe[Ah-2]=arguments[Ah];return me.prototype[et].apply(Ke,Oe)}})(i,function n(){this.blockSize=-1}),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},i.prototype.u=function(Se,me){void 0===me&&(me=Se.length);for(var Re=me-this.blockSize,Ke=this.B,et=this.h,pt=0;pt<me;){if(0==et)for(;pt<=Re;)r(this,Se,pt),pt+=this.blockSize;if("string"==typeof Se){for(;pt<me;)if(Ke[et++]=Se.charCodeAt(pt++),et==this.blockSize){r(this,Ke),et=0;break}}else for(;pt<me;)if(Ke[et++]=Se[pt++],et==this.blockSize){r(this,Ke),et=0;break}}this.h=et,this.o+=me},i.prototype.v=function(){var Se=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Se[0]=128;for(var me=1;me<Se.length-8;++me)Se[me]=0;var Re=8*this.o;for(me=Se.length-8;me<Se.length;++me)Se[me]=255&Re,Re/=256;for(this.u(Se),Se=Array(16),me=Re=0;4>me;++me)for(var Ke=0;32>Ke;Ke+=8)Se[Re++]=this.g[me]>>>Ke&255;return Se};var c={};function h(Se){return-128<=Se&&128>Se?function s(Se,me){var Re=c;return Object.prototype.hasOwnProperty.call(Re,Se)?Re[Se]:Re[Se]=me(Se)}(Se,function(me){return new o([0|me],0>me?-1:0)}):new o([0|Se],0>Se?-1:0)}function p(Se){if(isNaN(Se)||!isFinite(Se))return y;if(0>Se)return Q(p(-Se));for(var me=[],Re=1,Ke=0;Se>=Re;Ke++)me[Ke]=Se/Re|0,Re*=4294967296;return new o(me,0)}var y=h(0),I=h(1),L=h(16777216);function U(Se){if(0!=Se.h)return!1;for(var me=0;me<Se.g.length;me++)if(0!=Se.g[me])return!1;return!0}function X(Se){return-1==Se.h}function Q(Se){for(var me=Se.g.length,Re=[],Ke=0;Ke<me;Ke++)Re[Ke]=~Se.g[Ke];return new o(Re,~Se.h).add(I)}function pe(Se,me){return Se.add(Q(me))}function Te(Se,me){for(;(65535&Se[me])!=Se[me];)Se[me+1]+=Se[me]>>>16,Se[me]&=65535,me++}function Le(Se,me){this.g=Se,this.h=me}function tt(Se,me){if(U(me))throw Error("division by zero");if(U(Se))return new Le(y,y);if(X(Se))return me=tt(Q(Se),me),new Le(Q(me.g),Q(me.h));if(X(me))return me=tt(Se,Q(me)),new Le(Q(me.g),me.h);if(30<Se.g.length){if(X(Se)||X(me))throw Error("slowDivide_ only works with positive integers.");for(var Re=I,Ke=me;0>=Ke.l(Se);)Re=zt(Re),Ke=zt(Ke);var et=Ot(Re,1),pt=Ot(Ke,1);for(Ke=Ot(Ke,2),Re=Ot(Re,2);!U(Ke);){var Oe=pt.add(Ke);0>=Oe.l(Se)&&(et=et.add(Re),pt=Oe),Ke=Ot(Ke,1),Re=Ot(Re,1)}return me=pe(Se,et.j(me)),new Le(et,me)}for(et=y;0<=Se.l(me);){for(Re=Math.max(1,Math.floor(Se.m()/me.m())),Ke=48>=(Ke=Math.ceil(Math.log(Re)/Math.LN2))?1:Math.pow(2,Ke-48),Oe=(pt=p(Re)).j(me);X(Oe)||0<Oe.l(Se);)Oe=(pt=p(Re-=Ke)).j(me);U(pt)&&(pt=I),et=et.add(pt),Se=pe(Se,Oe)}return new Le(et,Se)}function zt(Se){for(var me=Se.g.length+1,Re=[],Ke=0;Ke<me;Ke++)Re[Ke]=Se.i(Ke)<<1|Se.i(Ke-1)>>>31;return new o(Re,Se.h)}function Ot(Se,me){var Re=me>>5;me%=32;for(var Ke=Se.g.length-Re,et=[],pt=0;pt<Ke;pt++)et[pt]=0<me?Se.i(pt+Re)>>>me|Se.i(pt+Re+1)<<32-me:Se.i(pt+Re);return new o(et,Se.h)}(t=o.prototype).m=function(){if(X(this))return-Q(this).m();for(var Se=0,me=1,Re=0;Re<this.g.length;Re++){var Ke=this.i(Re);Se+=(0<=Ke?Ke:4294967296+Ke)*me,me*=4294967296}return Se},t.toString=function(Se){if(2>(Se=Se||10)||36<Se)throw Error("radix out of range: "+Se);if(U(this))return"0";if(X(this))return"-"+Q(this).toString(Se);for(var me=p(Math.pow(Se,6)),Re=this,Ke="";;){var et=tt(Re,me).g,pt=((0<(Re=pe(Re,et.j(me))).g.length?Re.g[0]:Re.h)>>>0).toString(Se);if(U(Re=et))return pt+Ke;for(;6>pt.length;)pt="0"+pt;Ke=pt+Ke}},t.i=function(Se){return 0>Se?0:Se<this.g.length?this.g[Se]:this.h},t.l=function(Se){return X(Se=pe(this,Se))?-1:U(Se)?0:1},t.abs=function(){return X(this)?Q(this):this},t.add=function(Se){for(var me=Math.max(this.g.length,Se.g.length),Re=[],Ke=0,et=0;et<=me;et++){var pt=Ke+(65535&this.i(et))+(65535&Se.i(et)),Oe=(pt>>>16)+(this.i(et)>>>16)+(Se.i(et)>>>16);Ke=Oe>>>16,Re[et]=(Oe&=65535)<<16|(pt&=65535)}return new o(Re,-2147483648&Re[Re.length-1]?-1:0)},t.j=function(Se){if(U(this)||U(Se))return y;if(X(this))return X(Se)?Q(this).j(Q(Se)):Q(Q(this).j(Se));if(X(Se))return Q(this.j(Q(Se)));if(0>this.l(L)&&0>Se.l(L))return p(this.m()*Se.m());for(var me=this.g.length+Se.g.length,Re=[],Ke=0;Ke<2*me;Ke++)Re[Ke]=0;for(Ke=0;Ke<this.g.length;Ke++)for(var et=0;et<Se.g.length;et++){var pt=this.i(Ke)>>>16,Oe=65535&this.i(Ke),Ah=Se.i(et)>>>16,l0=65535&Se.i(et);Re[2*Ke+2*et]+=Oe*l0,Te(Re,2*Ke+2*et),Re[2*Ke+2*et+1]+=pt*l0,Te(Re,2*Ke+2*et+1),Re[2*Ke+2*et+1]+=Oe*Ah,Te(Re,2*Ke+2*et+1),Re[2*Ke+2*et+2]+=pt*Ah,Te(Re,2*Ke+2*et+2)}for(Ke=0;Ke<me;Ke++)Re[Ke]=Re[2*Ke+1]<<16|Re[2*Ke];for(Ke=me;Ke<2*me;Ke++)Re[Ke]=0;return new o(Re,0)},t.A=function(Se){return tt(this,Se).h},t.and=function(Se){for(var me=Math.max(this.g.length,Se.g.length),Re=[],Ke=0;Ke<me;Ke++)Re[Ke]=this.i(Ke)&Se.i(Ke);return new o(Re,this.h&Se.h)},t.or=function(Se){for(var me=Math.max(this.g.length,Se.g.length),Re=[],Ke=0;Ke<me;Ke++)Re[Ke]=this.i(Ke)|Se.i(Ke);return new o(Re,this.h|Se.h)},t.xor=function(Se){for(var me=Math.max(this.g.length,Se.g.length),Re=[],Ke=0;Ke<me;Ke++)Re[Ke]=this.i(Ke)^Se.i(Ke);return new o(Re,this.h^Se.h)},i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Pre=xre.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=p,o.fromString=function m(Se,me){if(0==Se.length)throw Error("number format error: empty string");if(2>(me=me||10)||36<me)throw Error("radix out of range: "+me);if("-"==Se.charAt(0))return Q(m(Se.substring(1),me));if(0<=Se.indexOf("-"))throw Error('number format error: interior "-" character');for(var Re=p(Math.pow(me,8)),Ke=y,et=0;et<Se.length;et+=8){var pt=Math.min(8,Se.length-et),Oe=parseInt(Se.substring(et,et+pt),me);8>pt?(pt=p(Math.pow(me,pt)),Ke=Ke.j(pt).add(p(Oe))):Ke=(Ke=Ke.j(Re)).add(p(Oe))}return Ke},Ww=xre.Integer=o}).apply(typeof Rre<"u"?Rre:typeof self<"u"?self:typeof window<"u"?window:{});var Mre,K1,Nre,AL,Pj,Ore,Fre,kre,IL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bv={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(S,G,$){return S==Array.prototype||S==Object.prototype||(S[G]=$.value),S},i=function n(S){S=["object"==typeof globalThis&&globalThis,S,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof IL&&IL];for(var G=0;G<S.length;++G){var $=S[G];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}(this);!function r(S,G){if(G)e:{var $=i;S=S.split(".");for(var de=0;de<S.length-1;de++){var ct=S[de];if(!(ct in $))break e;$=$[ct]}(G=G(de=$[S=S[S.length-1]]))!=de&&null!=G&&e($,S,{configurable:!0,writable:!0,value:G})}}("Array.prototype.values",function(S){return S||function(){return function s(S,G){S instanceof String&&(S+="");var $=0,de=!1,ct={next:function(){if(!de&&$<S.length){var Lt=$++;return{value:G(Lt,S[Lt]),done:!1}}return de=!0,{done:!0,value:void 0}}};return ct[Symbol.iterator]=function(){return ct},ct}(this,function(G,$){return $})}});var o=o||{},c=this||self;function h(S){var G=typeof S;return"array"==(G="object"!=G?G:S?Array.isArray(S)?"array":G:"null")||"object"==G&&"number"==typeof S.length}function p(S){var G=typeof S;return"object"==G&&null!=S||"function"==G}function m(S,G,$){return S.call.apply(S.bind,arguments)}function y(S,G,$){if(!S)throw Error();if(2<arguments.length){var de=Array.prototype.slice.call(arguments,2);return function(){var ct=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ct,de),S.apply(G,ct)}}return function(){return S.apply(G,arguments)}}function I(S,G,$){return(I=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:y).apply(null,arguments)}function L(S,G){var $=Array.prototype.slice.call(arguments,1);return function(){var de=$.slice();return de.push.apply(de,arguments),S.apply(this,de)}}function U(S,G){function $(){}$.prototype=G.prototype,S.aa=G.prototype,S.prototype=new $,S.prototype.constructor=S,S.Qb=function(de,ct,Lt){for(var Pn=Array(arguments.length-2),bs=2;bs<arguments.length;bs++)Pn[bs-2]=arguments[bs];return G.prototype[ct].apply(de,Pn)}}function X(S){const G=S.length;if(0<G){const $=Array(G);for(let de=0;de<G;de++)$[de]=S[de];return $}return[]}function Q(S,G){for(let $=1;$<arguments.length;$++){const de=arguments[$];if(h(de)){const ct=S.length||0,Lt=de.length||0;S.length=ct+Lt;for(let Pn=0;Pn<Lt;Pn++)S[ct+Pn]=de[Pn]}else S.push(de)}}function Te(S){return/^[\s\xa0]*$/.test(S)}function Le(){var S=c.navigator;return S&&(S=S.userAgent)?S:""}function tt(S){return tt[" "](S),S}tt[" "]=function(){};var zt=!(-1==Le().indexOf("Gecko")||-1!=Le().toLowerCase().indexOf("webkit")&&-1==Le().indexOf("Edge")||-1!=Le().indexOf("Trident")||-1!=Le().indexOf("MSIE")||-1!=Le().indexOf("Edge"));function Ot(S,G,$){for(const de in S)G.call($,S[de],de,S)}function me(S){const G={};for(const $ in S)G[$]=S[$];return G}const Re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ke(S,G){let $,de;for(let ct=1;ct<arguments.length;ct++){for($ in de=arguments[ct],de)S[$]=de[$];for(let Lt=0;Lt<Re.length;Lt++)$=Re[Lt],Object.prototype.hasOwnProperty.call(de,$)&&(S[$]=de[$])}}function et(S){var G=1;S=S.split(":");const $=[];for(;0<G&&S.length;)$.push(S.shift()),G--;return S.length&&$.push(S.join(":")),$}function pt(S){c.setTimeout(()=>{throw S},0)}function Oe(){var S=HQ;let G=null;return S.g&&(G=S.g,S.g=S.g.next,S.g||(S.h=null),G.next=null),G}var l0=new class pe{constructor(G,$){this.i=G,this.j=$,this.h=0,this.g=null}get(){let G;return 0<this.h?(this.h--,G=this.g,this.g=G.next,G.next=null):G=this.i(),G}}(()=>new yUe,S=>S.reset());class yUe{constructor(){this.next=this.g=this.h=null}set(G,$){this.h=G,this.g=$,this.next=null}reset(){this.next=this.g=this.h=null}}let hN,fN=!1,HQ=new class Ah{constructor(){this.h=this.g=null}add(G,$){const de=l0.get();de.set(G,$),this.h?this.h.next=de:this.g=de,this.h=de}},Vge=()=>{const S=c.Promise.resolve(void 0);hN=()=>{S.then(bUe)}};var bUe=()=>{for(var S;S=Oe();){try{S.h.call(S.g)}catch($){pt($)}var G=l0;G.j(S),100>G.h&&(G.h++,S.next=G.g,G.g=S)}fN=!1};function db(){this.s=this.s,this.C=this.C}function lc(S,G){this.type=S,this.g=this.target=G,this.defaultPrevented=!1}db.prototype.s=!1,db.prototype.ma=function(){this.s||(this.s=!0,this.N())},db.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},lc.prototype.h=function(){this.defaultPrevented=!0};var CUe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var S=!1,G=Object.defineProperty({},"passive",{get:function(){S=!0}});try{const $=()=>{};c.addEventListener("test",$,G),c.removeEventListener("test",$,G)}catch{}return S}();function pN(S,G){if(lc.call(this,S?S.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,S){var $=this.type=S.type,de=S.changedTouches&&S.changedTouches.length?S.changedTouches[0]:null;if(this.target=S.target||S.srcElement,this.g=G,G=S.relatedTarget){if(zt){e:{try{tt(G.nodeName);var ct=!0;break e}catch{}ct=!1}ct||(G=null)}}else"mouseover"==$?G=S.fromElement:"mouseout"==$&&(G=S.toElement);this.relatedTarget=G,de?(this.clientX=void 0!==de.clientX?de.clientX:de.pageX,this.clientY=void 0!==de.clientY?de.clientY:de.pageY,this.screenX=de.screenX||0,this.screenY=de.screenY||0):(this.clientX=void 0!==S.clientX?S.clientX:S.pageX,this.clientY=void 0!==S.clientY?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0),this.button=S.button,this.key=S.key||"",this.ctrlKey=S.ctrlKey,this.altKey=S.altKey,this.shiftKey=S.shiftKey,this.metaKey=S.metaKey,this.pointerId=S.pointerId||0,this.pointerType="string"==typeof S.pointerType?S.pointerType:wUe[S.pointerType]||"",this.state=S.state,this.i=S,S.defaultPrevented&&pN.aa.h.call(this)}}U(pN,lc);var wUe={2:"touch",3:"pen",4:"mouse"};pN.prototype.h=function(){pN.aa.h.call(this);var S=this.i;S.preventDefault?S.preventDefault():S.returnValue=!1};var gN="closure_listenable_"+(1e6*Math.random()|0),EUe=0;function SUe(S,G,$,de,ct){this.listener=S,this.proxy=null,this.src=G,this.type=$,this.capture=!!de,this.ha=ct,this.key=++EUe,this.da=this.fa=!1}function MG(S){S.da=!0,S.listener=null,S.proxy=null,S.src=null,S.ha=null}function NG(S){this.src=S,this.g={},this.h=0}function UQ(S,G){var $=G.type;if($ in S.g){var Lt,de=S.g[$],ct=Array.prototype.indexOf.call(de,G,void 0);(Lt=0<=ct)&&Array.prototype.splice.call(de,ct,1),Lt&&(MG(G),0==S.g[$].length&&(delete S.g[$],S.h--))}}function WQ(S,G,$,de){for(var ct=0;ct<S.length;++ct){var Lt=S[ct];if(!Lt.da&&Lt.listener==G&&Lt.capture==!!$&&Lt.ha==de)return ct}return-1}NG.prototype.add=function(S,G,$,de,ct){var Lt=S.toString();(S=this.g[Lt])||(S=this.g[Lt]=[],this.h++);var Pn=WQ(S,G,de,ct);return-1<Pn?(G=S[Pn],$||(G.fa=!1)):((G=new SUe(G,this.src,Lt,!!de,ct)).fa=$,S.push(G)),G};var zQ="closure_lm_"+(1e6*Math.random()|0),jQ={};function Gge(S,G,$,de,ct){if(de&&de.once)return Hge(S,G,$,de,ct);if(Array.isArray(G)){for(var Lt=0;Lt<G.length;Lt++)Gge(S,G[Lt],$,de,ct);return null}return $=YQ($),S&&S[gN]?S.K(G,$,p(de)?!!de.capture:!!de,ct):Bge(S,G,$,!1,de,ct)}function Bge(S,G,$,de,ct,Lt){if(!G)throw Error("Invalid event type");var Pn=p(ct)?!!ct.capture:!!ct,bs=qQ(S);if(bs||(S[zQ]=bs=new NG(S)),($=bs.add(G,$,de,Pn,Lt)).proxy)return $;if(de=function TUe(){const G=IUe;return function S($){return G.call(S.src,S.listener,$)}}(),$.proxy=de,de.src=S,de.listener=$,S.addEventListener)CUe||(ct=Pn),void 0===ct&&(ct=!1),S.addEventListener(G.toString(),de,ct);else if(S.attachEvent)S.attachEvent(Wge(G.toString()),de);else{if(!S.addListener||!S.removeListener)throw Error("addEventListener and attachEvent are unavailable.");S.addListener(de)}return $}function Hge(S,G,$,de,ct){if(Array.isArray(G)){for(var Lt=0;Lt<G.length;Lt++)Hge(S,G[Lt],$,de,ct);return null}return $=YQ($),S&&S[gN]?S.L(G,$,p(de)?!!de.capture:!!de,ct):Bge(S,G,$,!0,de,ct)}function Uge(S,G,$,de,ct){if(Array.isArray(G))for(var Lt=0;Lt<G.length;Lt++)Uge(S,G[Lt],$,de,ct);else de=p(de)?!!de.capture:!!de,$=YQ($),S&&S[gN]?(S=S.i,(G=String(G).toString())in S.g&&-1<($=WQ(Lt=S.g[G],$,de,ct))&&(MG(Lt[$]),Array.prototype.splice.call(Lt,$,1),0==Lt.length&&(delete S.g[G],S.h--))):S&&(S=qQ(S))&&(G=S.g[G.toString()],S=-1,G&&(S=WQ(G,$,de,ct)),($=-1<S?G[S]:null)&&$Q($))}function $Q(S){if("number"!=typeof S&&S&&!S.da){var G=S.src;if(G&&G[gN])UQ(G.i,S);else{var $=S.type,de=S.proxy;G.removeEventListener?G.removeEventListener($,de,S.capture):G.detachEvent?G.detachEvent(Wge($),de):G.addListener&&G.removeListener&&G.removeListener(de),($=qQ(G))?(UQ($,S),0==$.h&&($.src=null,G[zQ]=null)):MG(S)}}}function Wge(S){return S in jQ?jQ[S]:jQ[S]="on"+S}function IUe(S,G){if(S.da)S=!0;else{G=new pN(G,this);var $=S.listener,de=S.ha||S.src;S.fa&&$Q(S),S=$.call(de,G)}return S}function qQ(S){return(S=S[zQ])instanceof NG?S:null}var KQ="__closure_events_fn_"+(1e9*Math.random()>>>0);function YQ(S){return"function"==typeof S?S:(S[KQ]||(S[KQ]=function(G){return S.handleEvent(G)}),S[KQ])}function cc(){db.call(this),this.i=new NG(this),this.M=this,this.F=null}function Zc(S,G){var $,de=S.F;if(de)for($=[];de;de=de.F)$.push(de);if(S=S.M,de=G.type||G,"string"==typeof G)G=new lc(G,S);else if(G instanceof lc)G.target=G.target||S;else{var ct=G;Ke(G=new lc(de,S),ct)}if(ct=!0,$)for(var Lt=$.length-1;0<=Lt;Lt--){var Pn=G.g=$[Lt];ct=OG(Pn,de,!0,G)&&ct}if(ct=OG(Pn=G.g=S,de,!0,G)&&ct,ct=OG(Pn,de,!1,G)&&ct,$)for(Lt=0;Lt<$.length;Lt++)ct=OG(Pn=G.g=$[Lt],de,!1,G)&&ct}function OG(S,G,$,de){if(!(G=S.i.g[String(G)]))return!0;G=G.concat();for(var ct=!0,Lt=0;Lt<G.length;++Lt){var Pn=G[Lt];if(Pn&&!Pn.da&&Pn.capture==$){var bs=Pn.listener,Al=Pn.ha||Pn.src;Pn.fa&&UQ(S.i,Pn),ct=!1!==bs.call(Al,de)&&ct}}return ct&&!de.defaultPrevented}function zge(S,G,$){if("function"==typeof S)$&&(S=I(S,$));else{if(!S||"function"!=typeof S.handleEvent)throw Error("Invalid listener argument");S=I(S.handleEvent,S)}return 2147483647<Number(G)?-1:c.setTimeout(S,G||0)}function jge(S){S.g=zge(()=>{S.g=null,S.i&&(S.i=!1,jge(S))},S.l);const G=S.h;S.h=null,S.m.apply(null,G)}U(cc,db),cc.prototype[gN]=!0,cc.prototype.removeEventListener=function(S,G,$,de){Uge(this,S,G,$,de)},cc.prototype.N=function(){if(cc.aa.N.call(this),this.i){var G,S=this.i;for(G in S.g){for(var $=S.g[G],de=0;de<$.length;de++)MG($[de]);delete S.g[G],S.h--}}this.F=null},cc.prototype.K=function(S,G,$,de){return this.i.add(String(S),G,!1,$,de)},cc.prototype.L=function(S,G,$,de){return this.i.add(String(S),G,!0,$,de)};class AUe extends db{constructor(G,$){super(),this.m=G,this.l=$,this.h=null,this.i=!1,this.g=null}j(G){this.h=arguments,this.g?this.i=!0:jge(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mN(S){db.call(this),this.h=S,this.g={}}U(mN,db);var $ge=[];function qge(S){Ot(S.g,function(G,$){this.g.hasOwnProperty($)&&$Q(G)},S),S.g={}}mN.prototype.N=function(){mN.aa.N.call(this),qge(this)},mN.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var XQ=c.JSON.stringify,DUe=c.JSON.parse,RUe=class{stringify(S){return c.JSON.stringify(S,void 0)}parse(S){return c.JSON.parse(S,void 0)}};function QQ(){}function Yge(){}QQ.prototype.h=null;var vN={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function JQ(){lc.call(this,"d")}function ZQ(){lc.call(this,"c")}U(JQ,lc),U(ZQ,lc);var c0={},Xge=null;function FG(){return Xge=Xge||new cc}function Qge(S){lc.call(this,c0.La,S)}function _N(S){const G=FG();Zc(G,new Qge(G))}function Jge(S,G){lc.call(this,c0.STAT_EVENT,S),this.stat=G}function eu(S){const G=FG();Zc(G,new Jge(G,S))}function Zge(S,G){lc.call(this,c0.Ma,S),this.size=G}function yN(S,G){if("function"!=typeof S)throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){S()},G)}function bN(){this.g=!0}function FA(S,G,$,de){S.info(function(){return"XMLHTTP TEXT ("+G+"): "+function NUe(S,G){if(!S.g)return G;if(!G)return null;try{var $=JSON.parse(G);if($)for(S=0;S<$.length;S++)if(Array.isArray($[S])){var de=$[S];if(!(2>de.length)){var ct=de[1];if(Array.isArray(ct)&&!(1>ct.length)){var Lt=ct[0];if("noop"!=Lt&&"stop"!=Lt&&"close"!=Lt)for(var Pn=1;Pn<ct.length;Pn++)ct[Pn]=""}}}return XQ($)}catch{return G}}(S,$)+(de?" "+de:"")})}c0.La="serverreachability",U(Qge,lc),c0.STAT_EVENT="statevent",U(Jge,lc),c0.Ma="timingevent",U(Zge,lc),bN.prototype.xa=function(){this.g=!1},bN.prototype.info=function(){};var eJ,kG={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},eme={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function LG(){}function hb(S,G,$,de){this.j=S,this.i=G,this.l=$,this.R=de||1,this.U=new mN(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tme}function tme(){this.i=null,this.g="",this.h=!1}U(LG,QQ),LG.prototype.g=function(){return new XMLHttpRequest},LG.prototype.i=function(){return{}},eJ=new LG;var nme={},tJ={};function nJ(S,G,$){S.L=1,S.v=HG(zv(G)),S.m=$,S.P=!0,ime(S,null)}function ime(S,G){S.F=Date.now(),VG(S),S.A=zv(S.v);var $=S.A,de=S.R;Array.isArray(de)||(de=[String(de)]),vme($.i,"t",de),S.C=0,$=S.j.J,S.h=new tme,S.g=Fme(S.j,$?G:null,!S.m),0<S.O&&(S.M=new AUe(I(S.Y,S,S.g),S.O)),G=S.U,$=S.g,de=S.ca;var ct="readystatechange";Array.isArray(ct)||(ct&&($ge[0]=ct.toString()),ct=$ge);for(var Lt=0;Lt<ct.length;Lt++){var Pn=Gge($,ct[Lt],de||G.handleEvent,!1,G.h||G);if(!Pn)break;G.g[Pn.key]=Pn}G=S.H?me(S.H):{},S.m?(S.u||(S.u="POST"),G["Content-Type"]="application/x-www-form-urlencoded",S.g.ea(S.A,S.u,S.m,G)):(S.u="GET",S.g.ea(S.A,S.u,null,G)),_N(),function xUe(S,G,$,de,ct,Lt){S.info(function(){if(S.g)if(Lt)for(var Pn="",bs=Lt.split("&"),Al=0;Al<bs.length;Al++){var Wr=bs[Al].split("=");if(1<Wr.length){var uc=Wr[0];Wr=Wr[1];var dc=uc.split("_");Pn=2<=dc.length&&"type"==dc[1]?Pn+(uc+"=")+Wr+"&":Pn+(uc+"=redacted&")}}else Pn=null;else Pn=Lt;return"XMLHTTP REQ ("+de+") [attempt "+ct+"]: "+G+"\n"+$+"\n"+Pn})}(S.i,S.u,S.A,S.l,S.R,S.m)}function rme(S){return!!S.g&&"GET"==S.u&&2!=S.L&&S.j.Ca}function OUe(S,G){var $=S.C,de=G.indexOf("\n",$);return-1==de?tJ:($=Number(G.substring($,de)),isNaN($)?nme:(de+=1)+$>G.length?tJ:(G=G.slice(de,de+$),S.C=de+$,G))}function VG(S){S.S=Date.now()+S.I,sme(S,S.I)}function sme(S,G){if(null!=S.B)throw Error("WatchDog timer not null");S.B=yN(I(S.ba,S),G)}function iJ(S){S.B&&(c.clearTimeout(S.B),S.B=null)}function CN(S){0==S.j.G||S.J||Pme(S.j,S)}function u0(S){iJ(S);var G=S.M;G&&"function"==typeof G.ma&&G.ma(),S.M=null,qge(S.U),S.g&&(G=S.g,S.g=null,G.abort(),G.ma())}function rJ(S,G){try{var $=S.j;if(0!=$.G&&($.g==S||sJ($.h,S)))if(!S.K&&sJ($.h,S)&&3==$.G){try{var de=$.Da.g.parse(G)}catch{de=null}if(Array.isArray(de)&&3==de.length){var ct=de;if(0==ct[0]){e:if(!$.u){if($.g){if(!($.g.F+3e3<S.F))break e;$G($),zG($)}cJ($),eu(18)}}else $.za=ct[1],0<$.za-$.T&&37500>ct[2]&&$.F&&0==$.v&&!$.C&&($.C=yN(I($.Za,$),6e3));if(1>=lme($.h)&&$.ca){try{$.ca()}catch{}$.ca=void 0}}else h0($,11)}else if((S.K||$.g==S)&&$G($),!Te(G))for(ct=$.Da.g.parse(G),G=0;G<ct.length;G++){let Wr=ct[G];if($.T=Wr[0],Wr=Wr[1],2==$.G)if("c"==Wr[0]){$.K=Wr[1],$.ia=Wr[2];const uc=Wr[3];null!=uc&&($.la=uc,$.j.info("VER="+$.la));const dc=Wr[4];null!=dc&&($.Aa=dc,$.j.info("SVER="+$.Aa));const VA=Wr[5];null!=VA&&"number"==typeof VA&&0<VA&&($.L=de=1.5*VA,$.j.info("backChannelRequestTimeoutMs_="+de)),de=$;const jf=S.g;if(jf){const KG=jf.g?jf.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(KG){var Lt=de.h;Lt.g||-1==KG.indexOf("spdy")&&-1==KG.indexOf("quic")&&-1==KG.indexOf("h2")||(Lt.j=Lt.l,Lt.g=new Set,Lt.h&&(oJ(Lt,Lt.h),Lt.h=null))}if(de.D){const dJ=jf.g?jf.g.getResponseHeader("X-HTTP-Session-Id"):null;dJ&&(de.ya=dJ,js(de.I,de.D,dJ))}}$.G=3,$.l&&$.l.ua(),$.ba&&($.R=Date.now()-S.F,$.j.info("Handshake RTT: "+$.R+"ms"));var Pn=S;if((de=$).qa=Ome(de,de.J?de.ia:null,de.W),Pn.K){cme(de.h,Pn);var bs=Pn,Al=de.L;Al&&(bs.I=Al),bs.B&&(iJ(bs),VG(bs)),de.g=Pn}else Rme(de);0<$.i.length&&jG($)}else"stop"!=Wr[0]&&"close"!=Wr[0]||h0($,7);else 3==$.G&&("stop"==Wr[0]||"close"==Wr[0]?"stop"==Wr[0]?h0($,7):lJ($):"noop"!=Wr[0]&&$.l&&$.l.ta(Wr),$.v=0)}_N()}catch{}}hb.prototype.ca=function(S){S=S.target;const G=this.M;G&&3==jv(S)?G.j():this.Y(S)},hb.prototype.Y=function(S){try{if(S==this.g)e:{const dc=jv(this.g);var G=this.g.Ba();if(this.g.Z(),!(3>dc)&&(3!=dc||this.g&&(this.h.h||this.g.oa()||Sme(this.g)))){this.J||4!=dc||7==G||_N(),iJ(this);var $=this.g.Z();this.X=$;t:if(rme(this)){var de=Sme(this.g);S="";var ct=de.length,Lt=4==jv(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){u0(this),CN(this);var Pn="";break t}this.h.i=new c.TextDecoder}for(G=0;G<ct;G++)this.h.h=!0,S+=this.h.i.decode(de[G],{stream:!(Lt&&G==ct-1)});de.length=0,this.h.g+=S,this.C=0,Pn=this.h.g}else Pn=this.g.oa();if(this.o=200==$,function PUe(S,G,$,de,ct,Lt,Pn){S.info(function(){return"XMLHTTP RESP ("+de+") [ attempt "+ct+"]: "+G+"\n"+$+"\n"+Lt+" "+Pn})}(this.i,this.u,this.A,this.l,this.R,dc,$),this.o){if(this.T&&!this.K){t:{if(this.g){var bs,Al=this.g;if((bs=Al.g?Al.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Te(bs)){var Wr=bs;break t}}Wr=null}if(!($=Wr)){this.o=!1,this.s=3,eu(12),u0(this),CN(this);break e}FA(this.i,this.l,$,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rJ(this,$)}if(this.P){let jf;for($=!0;!this.J&&this.C<Pn.length;){if(jf=OUe(this,Pn),jf==tJ){4==dc&&(this.s=4,eu(14),$=!1),FA(this.i,this.l,null,"[Incomplete Response]");break}if(jf==nme){this.s=4,eu(15),FA(this.i,this.l,Pn,"[Invalid Chunk]"),$=!1;break}FA(this.i,this.l,jf,null),rJ(this,jf)}if(rme(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=dc||0!=Pn.length||this.h.h||(this.s=1,eu(16),$=!1),this.o=this.o&&$,$){if(0<Pn.length&&!this.W){this.W=!0;var uc=this.j;uc.g==this&&uc.ba&&!uc.M&&(uc.j.info("Great, no buffering proxy detected. Bytes received: "+Pn.length),uJ(uc),uc.M=!0,eu(11))}}else FA(this.i,this.l,Pn,"[Invalid Chunked Response]"),u0(this),CN(this)}else FA(this.i,this.l,Pn,null),rJ(this,Pn);4==dc&&u0(this),this.o&&!this.J&&(4==dc?Pme(this.j,this):(this.o=!1,VG(this)))}else(function QUe(S){const G={};S=(S.g&&2<=jv(S)&&S.g.getAllResponseHeaders()||"").split("\r\n");for(let de=0;de<S.length;de++){if(Te(S[de]))continue;var $=et(S[de]);const ct=$[0];if("string"!=typeof($=$[1]))continue;$=$.trim();const Lt=G[ct]||[];G[ct]=Lt,Lt.push($)}!function Se(S,G){for(const $ in S)G.call(void 0,S[$],$,S)}(G,function(de){return de.join(", ")})})(this.g),400==$&&0<Pn.indexOf("Unknown SID")?(this.s=3,eu(12)):(this.s=0,eu(13)),u0(this),CN(this)}}}catch{}},hb.prototype.cancel=function(){this.J=!0,u0(this)},hb.prototype.ba=function(){this.B=null;const S=Date.now();0<=S-this.S?(function MUe(S,G){S.info(function(){return"TIMEOUT: "+G})}(this.i,this.A),2!=this.L&&(_N(),eu(17)),u0(this),this.s=2,CN(this)):sme(this,this.S-S)};var FUe=class{constructor(S,G){this.g=S,this.map=G}};function ome(S){this.l=S||10,S=c.PerformanceNavigationTiming?0<(S=c.performance.getEntriesByType("navigation")).length&&("hq"==S[0].nextHopProtocol||"h2"==S[0].nextHopProtocol):!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=S?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ame(S){return!!S.h||!!S.g&&S.g.size>=S.j}function lme(S){return S.h?1:S.g?S.g.size:0}function sJ(S,G){return S.h?S.h==G:!!S.g&&S.g.has(G)}function oJ(S,G){S.g?S.g.add(G):S.h=G}function cme(S,G){S.h&&S.h==G?S.h=null:S.g&&S.g.has(G)&&S.g.delete(G)}function ume(S){if(null!=S.h)return S.i.concat(S.h.D);if(null!=S.g&&0!==S.g.size){let G=S.i;for(const $ of S.g.values())G=G.concat($.D);return G}return X(S.i)}function dme(S,G){if(S.forEach&&"function"==typeof S.forEach)S.forEach(G,void 0);else if(h(S)||"string"==typeof S)Array.prototype.forEach.call(S,G,void 0);else for(var $=function LUe(S){if(S.na&&"function"==typeof S.na)return S.na();if(!S.V||"function"!=typeof S.V){if(typeof Map<"u"&&S instanceof Map)return Array.from(S.keys());if(!(typeof Set<"u"&&S instanceof Set)){if(h(S)||"string"==typeof S){var G=[];S=S.length;for(var $=0;$<S;$++)G.push($);return G}G=[],$=0;for(const de in S)G[$++]=de;return G}}}(S),de=function kUe(S){if(S.V&&"function"==typeof S.V)return S.V();if(typeof Map<"u"&&S instanceof Map||typeof Set<"u"&&S instanceof Set)return Array.from(S.values());if("string"==typeof S)return S.split("");if(h(S)){for(var G=[],$=S.length,de=0;de<$;de++)G.push(S[de]);return G}for(de in G=[],$=0,S)G[$++]=S[de];return G}(S),ct=de.length,Lt=0;Lt<ct;Lt++)G.call(void 0,de[Lt],$&&$[Lt],S)}ome.prototype.cancel=function(){if(this.i=ume(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const S of this.g.values())S.cancel();this.g.clear()}};var hme=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function d0(S){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,S instanceof d0){this.h=S.h,GG(this,S.j),this.o=S.o,this.g=S.g,BG(this,S.s),this.l=S.l;var G=S.i,$=new SN;$.i=G.i,G.g&&($.g=new Map(G.g),$.h=G.h),fme(this,$),this.m=S.m}else S&&(G=String(S).match(hme))?(this.h=!1,GG(this,G[1]||"",!0),this.o=wN(G[2]||""),this.g=wN(G[3]||"",!0),BG(this,G[4]),this.l=wN(G[5]||"",!0),fme(this,G[6]||"",!0),this.m=wN(G[7]||"")):(this.h=!1,this.i=new SN(null,this.h))}function zv(S){return new d0(S)}function GG(S,G,$){S.j=$?wN(G,!0):G,S.j&&(S.j=S.j.replace(/:$/,""))}function BG(S,G){if(G){if(G=Number(G),isNaN(G)||0>G)throw Error("Bad port number "+G);S.s=G}else S.s=null}function fme(S,G,$){G instanceof SN?(S.i=G,function zUe(S,G){G&&!S.j&&(fb(S),S.i=null,S.g.forEach(function($,de){var ct=de.toLowerCase();de!=ct&&(gme(this,de),vme(this,ct,$))},S)),S.j=G}(S.i,S.h)):($||(G=EN(G,UUe)),S.i=new SN(G,S.h))}function js(S,G,$){S.i.set(G,$)}function HG(S){return js(S,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),S}function wN(S,G){return S?G?decodeURI(S.replace(/%25/g,"%2525")):decodeURIComponent(S):""}function EN(S,G,$){return"string"==typeof S?(S=encodeURI(S).replace(G,GUe),$&&(S=S.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S):null}function GUe(S){return"%"+((S=S.charCodeAt(0))>>4&15).toString(16)+(15&S).toString(16)}d0.prototype.toString=function(){var S=[],G=this.j;G&&S.push(EN(G,pme,!0),":");var $=this.g;return($||"file"==G)&&(S.push("//"),(G=this.o)&&S.push(EN(G,pme,!0),"@"),S.push(encodeURIComponent(String($)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=($=this.s)&&S.push(":",String($))),($=this.l)&&(this.g&&"/"!=$.charAt(0)&&S.push("/"),S.push(EN($,"/"==$.charAt(0)?HUe:BUe,!0))),($=this.i.toString())&&S.push("?",$),($=this.m)&&S.push("#",EN($,WUe)),S.join("")};var pme=/[#\/\?@]/g,BUe=/[#\?:]/g,HUe=/[#\?]/g,UUe=/[#\?@]/g,WUe=/#/g;function SN(S,G){this.h=this.g=null,this.i=S||null,this.j=!!G}function fb(S){S.g||(S.g=new Map,S.h=0,S.i&&function VUe(S,G){if(S){S=S.split("&");for(var $=0;$<S.length;$++){var de=S[$].indexOf("="),ct=null;if(0<=de){var Lt=S[$].substring(0,de);ct=S[$].substring(de+1)}else Lt=S[$];G(Lt,ct?decodeURIComponent(ct.replace(/\+/g," ")):"")}}}(S.i,function(G,$){S.add(decodeURIComponent(G.replace(/\+/g," ")),$)}))}function gme(S,G){fb(S),G=kA(S,G),S.g.has(G)&&(S.i=null,S.h-=S.g.get(G).length,S.g.delete(G))}function mme(S,G){return fb(S),G=kA(S,G),S.g.has(G)}function vme(S,G,$){gme(S,G),0<$.length&&(S.i=null,S.g.set(kA(S,G),X($)),S.h+=$.length)}function kA(S,G){return G=String(G),S.j&&(G=G.toLowerCase()),G}function pb(S,G,$,de,ct){try{ct&&(ct.onload=null,ct.onerror=null,ct.onabort=null,ct.ontimeout=null),de($)}catch{}}function qUe(){this.g=new RUe}function KUe(S,G,$){const de=$||"";try{dme(S,function(ct,Lt){let Pn=ct;p(ct)&&(Pn=XQ(ct)),G.push(de+Lt+"="+encodeURIComponent(Pn))})}catch(ct){throw G.push(de+"type="+encodeURIComponent("_badmap")),ct}}function TN(S){this.l=S.Ub||null,this.j=S.eb||!1}function UG(S,G){cc.call(this),this.D=S,this.o=G,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function _me(S){S.j.read().then(S.Pa.bind(S)).catch(S.ga.bind(S))}function IN(S){S.readyState=4,S.l=null,S.j=null,S.v=null,AN(S)}function AN(S){S.onreadystatechange&&S.onreadystatechange.call(S)}function yme(S){let G="";return Ot(S,function($,de){G+=de,G+=":",G+=$,G+="\r\n"}),G}function aJ(S,G,$){e:{for(de in $){var de=!1;break e}de=!0}de||($=yme($),"string"==typeof S?null!=$&&encodeURIComponent(String($)):js(S,G,$))}function $o(S){cc.call(this),this.headers=new Map,this.o=S||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=SN.prototype).add=function(S,G){fb(this),this.i=null,S=kA(this,S);var $=this.g.get(S);return $||this.g.set(S,$=[]),$.push(G),this.h+=1,this},t.forEach=function(S,G){fb(this),this.g.forEach(function($,de){$.forEach(function(ct){S.call(G,ct,de,this)},this)},this)},t.na=function(){fb(this);const S=Array.from(this.g.values()),G=Array.from(this.g.keys()),$=[];for(let de=0;de<G.length;de++){const ct=S[de];for(let Lt=0;Lt<ct.length;Lt++)$.push(G[de])}return $},t.V=function(S){fb(this);let G=[];if("string"==typeof S)mme(this,S)&&(G=G.concat(this.g.get(kA(this,S))));else{S=Array.from(this.g.values());for(let $=0;$<S.length;$++)G=G.concat(S[$])}return G},t.set=function(S,G){return fb(this),this.i=null,mme(this,S=kA(this,S))&&(this.h-=this.g.get(S).length),this.g.set(S,[G]),this.h+=1,this},t.get=function(S,G){return S&&0<(S=this.V(S)).length?String(S[0]):G},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const S=[],G=Array.from(this.g.keys());for(var $=0;$<G.length;$++){var de=G[$];const Lt=encodeURIComponent(String(de)),Pn=this.V(de);for(de=0;de<Pn.length;de++){var ct=Lt;""!==Pn[de]&&(ct+="="+encodeURIComponent(String(Pn[de]))),S.push(ct)}}return this.i=S.join("&")},U(TN,QQ),TN.prototype.g=function(){return new UG(this.l,this.j)},TN.prototype.i=function(S){return function(){return S}}({}),U(UG,cc),(t=UG.prototype).open=function(S,G){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=S,this.A=G,this.readyState=1,AN(this)},t.send=function(S){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const G={headers:this.u,method:this.B,credentials:this.m,cache:void 0};S&&(G.body=S),(this.D||c).fetch(new Request(this.A,G)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,IN(this)),this.readyState=0},t.Sa=function(S){if(this.g&&(this.l=S,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=S.headers,this.readyState=2,AN(this)),this.g&&(this.readyState=3,AN(this),this.g)))if("arraybuffer"===this.responseType)S.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in S){if(this.j=S.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_me(this)}else S.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(S){if(this.g){if(this.o&&S.value)this.response.push(S.value);else if(!this.o){var G=S.value?S.value:new Uint8Array(0);(G=this.v.decode(G,{stream:!S.done}))&&(this.response=this.responseText+=G)}S.done?IN(this):AN(this),3==this.readyState&&_me(this)}},t.Ra=function(S){this.g&&(this.response=this.responseText=S,IN(this))},t.Qa=function(S){this.g&&(this.response=S,IN(this))},t.ga=function(){this.g&&IN(this)},t.setRequestHeader=function(S,G){this.u.append(S,G)},t.getResponseHeader=function(S){return this.h&&this.h.get(S.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const S=[],G=this.h.entries();for(var $=G.next();!$.done;)S.push(($=$.value)[0]+": "+$[1]),$=G.next();return S.join("\r\n")},Object.defineProperty(UG.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(S){this.m=S?"include":"same-origin"}}),U($o,cc);var YUe=/^https?$/i,XUe=["POST","PUT"];function bme(S,G){S.h=!1,S.g&&(S.j=!0,S.g.abort(),S.j=!1),S.l=G,S.m=5,Cme(S),WG(S)}function Cme(S){S.A||(S.A=!0,Zc(S,"complete"),Zc(S,"error"))}function wme(S){if(S.h&&typeof o<"u"&&(!S.v[1]||4!=jv(S)||2!=S.Z()))if(S.u&&4==jv(S))zge(S.Ea,0,S);else if(Zc(S,"readystatechange"),4==jv(S)){S.h=!1;try{const Pn=S.Z();e:switch(Pn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var G=!0;break e;default:G=!1}var $;if(!($=G)){var de;if(de=0===Pn){var ct=String(S.D).match(hme)[1]||null;!ct&&c.self&&c.self.location&&(ct=c.self.location.protocol.slice(0,-1)),de=!YUe.test(ct?ct.toLowerCase():"")}$=de}if($)Zc(S,"complete"),Zc(S,"success");else{S.m=6;try{var Lt=2<jv(S)?S.g.statusText:""}catch{Lt=""}S.l=Lt+" ["+S.Z()+"]",Cme(S)}}finally{WG(S)}}}function WG(S,G){if(S.g){Eme(S);const $=S.g,de=S.v[0]?()=>{}:null;S.g=null,S.v=null,G||Zc(S,"ready");try{$.onreadystatechange=de}catch{}}}function Eme(S){S.I&&(c.clearTimeout(S.I),S.I=null)}function jv(S){return S.g?S.g.readyState:0}function Sme(S){try{if(!S.g)return null;if("response"in S.g)return S.g.response;switch(S.H){case"":case"text":return S.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in S.g)return S.g.mozResponseArrayBuffer}return null}catch{return null}}function DN(S,G,$){return $&&$.internalChannelParams&&$.internalChannelParams[S]||G}function Tme(S){this.Aa=0,this.i=[],this.j=new bN,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=DN("failFast",!1,S),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=DN("baseRetryDelayMs",5e3,S),this.cb=DN("retryDelaySeedMs",1e4,S),this.Wa=DN("forwardChannelMaxRetries",2,S),this.wa=DN("forwardChannelRequestTimeoutMs",2e4,S),this.pa=S&&S.xmlHttpFactory||void 0,this.Xa=S&&S.Tb||void 0,this.Ca=S&&S.useFetchStreams||!1,this.L=void 0,this.J=S&&S.supportsCrossDomainXhr||!1,this.K="",this.h=new ome(S&&S.concurrentRequestLimit),this.Da=new qUe,this.P=S&&S.fastHandshake||!1,this.O=S&&S.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=S&&S.Rb||!1,S&&S.xa&&this.j.xa(),S&&S.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&S&&S.detectBufferingProxy||!1,this.ja=void 0,S&&S.longPollingTimeout&&0<S.longPollingTimeout&&(this.ja=S.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function lJ(S){if(Ime(S),3==S.G){var G=S.U++,$=zv(S.I);if(js($,"SID",S.K),js($,"RID",G),js($,"TYPE","terminate"),RN(S,$),(G=new hb(S,S.j,G)).L=2,G.v=HG(zv($)),$=!1,c.navigator&&c.navigator.sendBeacon)try{$=c.navigator.sendBeacon(G.v.toString(),"")}catch{}!$&&c.Image&&((new Image).src=G.v,$=!0),$||(G.g=Fme(G.j,null),G.g.ea(G.v)),G.F=Date.now(),VG(G)}Nme(S)}function zG(S){S.g&&(uJ(S),S.g.cancel(),S.g=null)}function Ime(S){zG(S),S.u&&(c.clearTimeout(S.u),S.u=null),$G(S),S.h.cancel(),S.s&&("number"==typeof S.s&&c.clearTimeout(S.s),S.s=null)}function jG(S){if(!ame(S.h)&&!S.s){S.s=!0;var G=S.Ga;hN||Vge(),fN||(hN(),fN=!0),HQ.add(G,S),S.B=0}}function Ame(S,G){var $;$=G?G.l:S.U++;const de=zv(S.I);js(de,"SID",S.K),js(de,"RID",$),js(de,"AID",S.T),RN(S,de),S.m&&S.o&&aJ(de,S.m,S.o),$=new hb(S,S.j,$,S.B+1),null===S.m&&($.H=S.o),G&&(S.i=G.D.concat(S.i)),G=Dme(S,$,1e3),$.I=Math.round(.5*S.wa)+Math.round(.5*S.wa*Math.random()),oJ(S.h,$),nJ($,de,G)}function RN(S,G){S.H&&Ot(S.H,function($,de){js(G,de,$)}),S.l&&dme({},function($,de){js(G,de,$)})}function Dme(S,G,$){$=Math.min(S.i.length,$);var de=S.l?I(S.l.Na,S.l,S):null;e:{var ct=S.i;let Lt=-1;for(;;){const Pn=["count="+$];-1==Lt?0<$?(Lt=ct[0].g,Pn.push("ofs="+Lt)):Lt=0:Pn.push("ofs="+Lt);let bs=!0;for(let Al=0;Al<$;Al++){let Wr=ct[Al].g;const uc=ct[Al].map;if(Wr-=Lt,0>Wr)Lt=Math.max(0,ct[Al].g-100),bs=!1;else try{KUe(uc,Pn,"req"+Wr+"_")}catch{de&&de(uc)}}if(bs){de=Pn.join("&");break e}}}return S=S.i.splice(0,$),G.D=S,de}function Rme(S){if(!S.g&&!S.u){S.Y=1;var G=S.Fa;hN||Vge(),fN||(hN(),fN=!0),HQ.add(G,S),S.v=0}}function cJ(S){return!(S.g||S.u||3<=S.v||(S.Y++,S.u=yN(I(S.Fa,S),Mme(S,S.v)),S.v++,0))}function uJ(S){null!=S.A&&(c.clearTimeout(S.A),S.A=null)}function xme(S){S.g=new hb(S,S.j,"rpc",S.Y),null===S.m&&(S.g.H=S.o),S.g.O=0;var G=zv(S.qa);js(G,"RID","rpc"),js(G,"SID",S.K),js(G,"AID",S.T),js(G,"CI",S.F?"0":"1"),!S.F&&S.ja&&js(G,"TO",S.ja),js(G,"TYPE","xmlhttp"),RN(S,G),S.m&&S.o&&aJ(G,S.m,S.o),S.L&&(S.g.I=S.L);var $=S.g;S=S.ia,$.L=1,$.v=HG(zv(G)),$.m=null,$.P=!0,ime($,S)}function $G(S){null!=S.C&&(c.clearTimeout(S.C),S.C=null)}function Pme(S,G){var $=null;if(S.g==G){$G(S),uJ(S),S.g=null;var de=2}else{if(!sJ(S.h,G))return;$=G.D,cme(S.h,G),de=1}if(0!=S.G)if(G.o)if(1==de){$=G.m?G.m.length:0,G=Date.now()-G.F;var ct=S.B;Zc(de=FG(),new Zge(de,$)),jG(S)}else Rme(S);else if(3==(ct=G.s)||0==ct&&0<G.X||!(1==de&&function JUe(S,G){return!(lme(S.h)>=S.h.j-(S.s?1:0)||(S.s?(S.i=G.D.concat(S.i),0):1==S.G||2==S.G||S.B>=(S.Va?0:S.Wa)||(S.s=yN(I(S.Ga,S,G),Mme(S,S.B)),S.B++,0)))}(S,G)||2==de&&cJ(S)))switch($&&0<$.length&&(G=S.h,G.i=G.i.concat($)),ct){case 1:h0(S,5);break;case 4:h0(S,10);break;case 3:h0(S,6);break;default:h0(S,2)}}function Mme(S,G){let $=S.Ta+Math.floor(Math.random()*S.cb);return S.isActive()||($*=2),$*G}function h0(S,G){if(S.j.info("Error code "+G),2==G){var $=I(S.fb,S),de=S.Xa;const ct=!de;de=new d0(de||"//www.google.com/images/cleardot.gif"),c.location&&"http"==c.location.protocol||GG(de,"https"),HG(de),ct?function jUe(S,G){const $=new bN;if(c.Image){const de=new Image;de.onload=L(pb,$,"TestLoadImage: loaded",!0,G,de),de.onerror=L(pb,$,"TestLoadImage: error",!1,G,de),de.onabort=L(pb,$,"TestLoadImage: abort",!1,G,de),de.ontimeout=L(pb,$,"TestLoadImage: timeout",!1,G,de),c.setTimeout(function(){de.ontimeout&&de.ontimeout()},1e4),de.src=S}else G(!1)}(de.toString(),$):function $Ue(S,G){new bN;const de=new AbortController,ct=setTimeout(()=>{de.abort(),pb(0,0,!1,G)},1e4);fetch(S,{signal:de.signal}).then(Lt=>{clearTimeout(ct),pb(0,0,!!Lt.ok,G)}).catch(()=>{clearTimeout(ct),pb(0,0,!1,G)})}(de.toString(),$)}else eu(2);S.G=0,S.l&&S.l.sa(G),Nme(S),Ime(S)}function Nme(S){if(S.G=0,S.ka=[],S.l){const G=ume(S.h);(0!=G.length||0!=S.i.length)&&(Q(S.ka,G),Q(S.ka,S.i),S.h.i.length=0,X(S.i),S.i.length=0),S.l.ra()}}function Ome(S,G,$){var de=$ instanceof d0?zv($):new d0($);if(""!=de.g)G&&(de.g=G+"."+de.g),BG(de,de.s);else{var ct=c.location;de=ct.protocol,G=G?G+"."+ct.hostname:ct.hostname,ct=+ct.port;var Lt=new d0(null);de&&GG(Lt,de),G&&(Lt.g=G),ct&&BG(Lt,ct),$&&(Lt.l=$),de=Lt}return G=S.ya,($=S.D)&&G&&js(de,$,G),js(de,"VER",S.la),RN(S,de),de}function Fme(S,G,$){if(G&&!S.J)throw Error("Can't create secondary domain capable XhrIo object.");return(G=new $o(S.Ca&&!S.pa?new TN({eb:$}):S.pa)).Ha(S.J),G}function kme(){}function qG(){}function Id(S,G){cc.call(this),this.g=new Tme(G),this.l=S,this.h=G&&G.messageUrlParams||null,S=G&&G.messageHeaders||null,G&&G.clientProtocolHeaderRequired&&(S?S["X-Client-Protocol"]="webchannel":S={"X-Client-Protocol":"webchannel"}),this.g.o=S,S=G&&G.initMessageHeaders||null,G&&G.messageContentType&&(S?S["X-WebChannel-Content-Type"]=G.messageContentType:S={"X-WebChannel-Content-Type":G.messageContentType}),G&&G.va&&(S?S["X-WebChannel-Client-Profile"]=G.va:S={"X-WebChannel-Client-Profile":G.va}),this.g.S=S,(S=G&&G.Sb)&&!Te(S)&&(this.g.m=S),this.v=G&&G.supportsCrossDomainXhr||!1,this.u=G&&G.sendRawJson||!1,(G=G&&G.httpSessionIdParam)&&!Te(G)&&(this.g.D=G,null!==(S=this.h)&&G in S&&G in(S=this.h)&&delete S[G]),this.j=new LA(this)}function Lme(S){JQ.call(this),S.__headers__&&(this.headers=S.__headers__,this.statusCode=S.__status__,delete S.__headers__,delete S.__status__);var G=S.__sm__;if(G){e:{for(const $ in G){S=$;break e}S=void 0}(this.i=S)&&(S=this.i,G=null!==G&&S in G?G[S]:void 0),this.data=G}else this.data=S}function Vme(){ZQ.call(this),this.status=1}function LA(S){this.g=S}(t=$o.prototype).Ha=function(S){this.J=S},t.ea=function(S,G,$,de){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+S);G=G?G.toUpperCase():"GET",this.D=S,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():eJ.g(),this.v=function Kge(S){return S.h||(S.h=S.i())}(this.o?this.o:eJ),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(G,String(S),!0),this.B=!1}catch(Lt){return void bme(this,Lt)}if(S=$||"",$=new Map(this.headers),de)if(Object.getPrototypeOf(de)===Object.prototype)for(var ct in de)$.set(ct,de[ct]);else{if("function"!=typeof de.keys||"function"!=typeof de.get)throw Error("Unknown input type for opt_headers: "+String(de));for(const Lt of de.keys())$.set(Lt,de.get(Lt))}de=Array.from($.keys()).find(Lt=>"content-type"==Lt.toLowerCase()),ct=c.FormData&&S instanceof c.FormData,!(0<=Array.prototype.indexOf.call(XUe,G,void 0))||de||ct||$.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Lt,Pn]of $)this.g.setRequestHeader(Lt,Pn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Eme(this),this.u=!0,this.g.send(S),this.u=!1}catch(Lt){bme(this,Lt)}},t.abort=function(S){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=S||7,Zc(this,"complete"),Zc(this,"abort"),WG(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),WG(this,!0)),$o.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wme(this):this.bb())},t.bb=function(){wme(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<jv(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(S){if(this.g){var G=this.g.responseText;return S&&0==G.indexOf(S)&&(G=G.substring(S.length)),DUe(G)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=Tme.prototype).la=8,t.G=1,t.connect=function(S,G,$,de){eu(0),this.W=S,this.H=G||{},$&&void 0!==de&&(this.H.OSID=$,this.H.OAID=de),this.F=this.X,this.I=Ome(this,null,this.W),jG(this)},t.Ga=function(S){if(this.s)if(this.s=null,1==this.G){if(!S){this.U=Math.floor(1e5*Math.random()),S=this.U++;const ct=new hb(this,this.j,S);let Lt=this.o;if(this.S&&(Lt?(Lt=me(Lt),Ke(Lt,this.S)):Lt=this.S),null!==this.m||this.O||(ct.H=Lt,Lt=null),this.P)e:{for(var G=0,$=0;$<this.i.length;$++){var de=this.i[$];if(void 0===(de="__data__"in de.map&&"string"==typeof(de=de.map.__data__)?de.length:void 0))break;if(4096<(G+=de)){G=$;break e}if(4096===G||$===this.i.length-1){G=$+1;break e}}G=1e3}else G=1e3;G=Dme(this,ct,G),js($=zv(this.I),"RID",S),js($,"CVER",22),this.D&&js($,"X-HTTP-Session-Id",this.D),RN(this,$),Lt&&(this.O?G="headers="+encodeURIComponent(String(yme(Lt)))+"&"+G:this.m&&aJ($,this.m,Lt)),oJ(this.h,ct),this.Ua&&js($,"TYPE","init"),this.P?(js($,"$req",G),js($,"SID","null"),ct.T=!0,nJ(ct,$,null)):nJ(ct,$,G),this.G=2}}else 3==this.G&&(S?Ame(this,S):0==this.i.length||ame(this.h)||Ame(this))},t.Fa=function(){if(this.u=null,xme(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var S=2*this.R;this.j.info("BP detection timer enabled: "+S),this.A=yN(I(this.ab,this),S)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,eu(10),zG(this),xme(this))},t.Za=function(){null!=this.C&&(this.C=null,zG(this),cJ(this),eu(19))},t.fb=function(S){S?(this.j.info("Successfully pinged google.com"),eu(2)):(this.j.info("Failed to ping google.com"),eu(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=kme.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},qG.prototype.g=function(S,G){return new Id(S,G)},U(Id,cc),Id.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Id.prototype.close=function(){lJ(this.g)},Id.prototype.o=function(S){var G=this.g;if("string"==typeof S){var $={};$.__data__=S,S=$}else this.u&&(($={}).__data__=XQ(S),S=$);G.i.push(new FUe(G.Ya++,S)),3==G.G&&jG(G)},Id.prototype.N=function(){this.g.l=null,delete this.j,lJ(this.g),delete this.g,Id.aa.N.call(this)},U(Lme,JQ),U(Vme,ZQ),U(LA,kme),LA.prototype.ua=function(){Zc(this.g,"a")},LA.prototype.ta=function(S){Zc(this.g,new Lme(S))},LA.prototype.sa=function(S){Zc(this.g,new Vme)},LA.prototype.ra=function(){Zc(this.g,"b")},qG.prototype.createWebChannel=qG.prototype.g,Id.prototype.send=Id.prototype.o,Id.prototype.open=Id.prototype.m,Id.prototype.close=Id.prototype.close,kre=bv.createWebChannelTransport=function(){return new qG},Fre=bv.getStatEventTarget=function(){return FG()},Ore=bv.Event=c0,Pj=bv.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kG.NO_ERROR=0,kG.TIMEOUT=8,kG.HTTP_ERROR=6,AL=bv.ErrorCode=kG,eme.COMPLETE="complete",Nre=bv.EventType=eme,Yge.EventType=vN,vN.OPEN="a",vN.CLOSE="b",vN.ERROR="c",vN.MESSAGE="d",cc.prototype.listen=cc.prototype.K,K1=bv.WebChannel=Yge,bv.FetchXmlHttpFactory=TN,$o.prototype.listenOnce=$o.prototype.L,$o.prototype.getLastError=$o.prototype.Ka,$o.prototype.getLastErrorCode=$o.prototype.Ba,$o.prototype.getStatus=$o.prototype.Z,$o.prototype.getResponseJson=$o.prototype.Oa,$o.prototype.getResponseText=$o.prototype.oa,$o.prototype.send=$o.prototype.ea,$o.prototype.setWithCredentials=$o.prototype.Ha,Mre=bv.XhrIo=$o}).apply(typeof IL<"u"?IL:typeof self<"u"?self:typeof window<"u"?window:{});const Lre="@firebase/firestore";class Xa{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xa.UNAUTHENTICATED=new Xa(null),Xa.GOOGLE_CREDENTIALS=new Xa("google-credentials-uid"),Xa.FIRST_PARTY=new Xa("first-party-uid"),Xa.MOCK_USER=new Xa("mock-user");let XT="10.14.0";const Sy=new v("@firebase/firestore");function QT(){return Sy.logLevel}function sn(t,...e){if(Sy.logLevel<=a.DEBUG){const n=e.map(Mj);Sy.debug(`Firestore (${XT}): ${t}`,...n)}}function ia(t,...e){if(Sy.logLevel<=a.ERROR){const n=e.map(Mj);Sy.error(`Firestore (${XT}): ${t}`,...n)}}function vh(t,...e){if(Sy.logLevel<=a.WARN){const n=e.map(Mj);Sy.warn(`Firestore (${XT}): ${t}`,...n)}}function Mj(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function qn(t="Unexpected state"){const e=`FIRESTORE (${XT}) INTERNAL ASSERTION FAILED: `+t;throw ia(e),new Error(e)}function Xn(t,e){t||qn()}function Rn(t,e){return t}const At={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class on extends bl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Vre{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PTe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xa.UNAUTHENTICATED))}shutdown(){}}class MTe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class NTe{constructor(e){this.t=e,this.currentUser=Xa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var i=this;Xn(void 0===this.o);let r=this.i;const s=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let o=new Qa;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Qa,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const p=o;e.enqueueRetryable((0,te.A)(function*(){yield p.promise,yield s(i.currentUser)}))},h=p=>{sn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(sn("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Qa)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(sn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xn("string"==typeof i.accessToken),new Vre(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xn(null===e||"string"==typeof e),new Xa(e)}}class OTe{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Xa.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class FTe{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new OTe(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xa.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gre{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kTe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Xn(void 0===this.o);const i=s=>{null!=s.error&&sn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,sn("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{sn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):sn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xn("string"==typeof n.token),this.R=n.token,new Gre(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function LTe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class Bre{static newId(){const n=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=LTe(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function Li(t,e){return t<e?-1:t>e?1:0}function JT(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}class Us{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new on(At.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new on(At.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new on(At.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new on(At.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Us.fromMillis(Date.now())}static fromDate(e){return Us.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Us(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Li(this.nanoseconds,e.nanoseconds):Li(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class si{constructor(e){this.timestamp=e}static fromTimestamp(e){return new si(e)}static min(){return new si(new Us(0,0))}static max(){return new si(new Us(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Y1{constructor(e,n,i){void 0===n?n=0:n>e.length&&qn(),void 0===i?i=e.length-n:i>e.length-n&&qn(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return 0===Y1.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Y1?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class yr extends Y1{construct(e,n,i){return new yr(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new on(At.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new yr(n)}static emptyPath(){return new yr([])}}const VTe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lo extends Y1{construct(e,n,i){return new lo(e,n,i)}static isValidIdentifier(e){return VTe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new lo(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(0===i.length)throw new on(At.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const c=e[r];if("\\"===c){if(r+1===e.length)throw new on(At.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[r+1];if("\\"!==h&&"."!==h&&"`"!==h)throw new on(At.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,r+=2}else"`"===c?(o=!o,r++):"."!==c||o?(i+=c,r++):(s(),r++)}if(s(),o)throw new on(At.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lo(n)}static emptyPath(){return new lo([])}}class Vn{constructor(e){this.path=e}static fromPath(e){return new Vn(yr.fromString(e))}static fromName(e){return new Vn(yr.fromString(e).popFirst(5))}static empty(){return new Vn(yr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return yr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Vn(new yr(e.slice()))}}function Wre(t){return new gd(t.readTime,t.key,-1)}class gd{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new gd(si.min(),Vn.empty(),-1)}static max(){return new gd(si.max(),Vn.empty(),-1)}}function Oj(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Vn.comparator(t.documentKey,e.documentKey),0!==n?n:Li(t.largestBatchId,e.largestBatchId))}const zre="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jre{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ty(t){return Fj.apply(this,arguments)}function Fj(){return Fj=(0,te.A)(function*(t){if(t.code!==At.FAILED_PRECONDITION||t.message!==zre)throw t;sn("LocalStore","Unexpectedly lost primary lease")}),Fj.apply(this,arguments)}class ht{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ht((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ht?n:ht.resolve(n)}catch(n){return ht.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ht.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ht.reject(n)}static resolve(e){return new ht((n,i)=>{n(e)})}static reject(e){return new ht((n,i)=>{i(e)})}static waitFor(e){return new ht((n,i)=>{let r=0,s=0,o=!1;e.forEach(c=>{++r,c.next(()=>{++s,o&&s===r&&n()},h=>i(h))}),o=!0,s===r&&n()})}static or(e){let n=ht.resolve(!1);for(const i of e)n=n.next(r=>r?ht.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new ht((i,r)=>{const s=e.length,o=new Array(s);let c=0;for(let h=0;h<s;h++){const p=h;n(e[p]).next(m=>{o[p]=m,++c,c===s&&i(o)},m=>r(m))}})}static doWhile(e,n){return new ht((i,r)=>{const s=()=>{!0===e()?n().next(()=>{s()},r):i()};s()})}}function Iy(t){return"IndexedDbTransactionError"===t.name}let md=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Q1(t){return null==t}function J1(t){return 0===t&&1/t==-1/0}function tse(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ay(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ise(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ts{constructor(e,n){this.comparator=e,this.root=n||wl.EMPTY}insert(e,n){return new Ts(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wl.BLACK,null,null))}remove(e){return new Ts(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wl.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xL(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xL(this.root,e,this.comparator,!1)}getReverseIterator(){return new xL(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xL(this.root,e,this.comparator,!0)}}class xL{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wl{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??wl.RED,this.left=r??wl.EMPTY,this.right=s??wl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new wl(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):0===s?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return wl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(e,r.key)){if(r.right.isEmpty())return wl.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qn();const e=this.left.check();if(e!==this.right.check())throw qn();return e+(this.isRed()?0:1)}}wl.EMPTY=null,wl.RED=!0,wl.BLACK=!1,wl.EMPTY=new class{constructor(){this.size=0}get key(){throw qn()}get value(){throw qn()}get color(){throw qn()}get left(){throw qn()}get right(){throw qn()}copy(e,n,i,r,s){return this}insert(e,n,i){return new wl(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class as{constructor(e){this.comparator=e,this.data=new Ts(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rse(this.data.getIterator())}getIteratorFrom(e){return new rse(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof as)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new as(this.comparator);return n.data=e,n}}class rse{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xu{constructor(e){this.fields=e,e.sort(lo.comparator)}static empty(){return new xu([])}unionWith(e){let n=new as(lo.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new xu(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return JT(this.fields,e.fields,(n,i)=>n.isEqual(i))}}class sse extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Uo{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new sse("Invalid base64 string: "+s):s}}(e);return new Uo(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new Uo(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Li(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Uo.EMPTY_BYTE_STRING=new Uo("");const uIe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cv(t){if(Xn(!!t),"string"==typeof t){let e=0;const n=uIe.exec(t);if(Xn(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:co(t.seconds),nanos:co(t.nanos)}}function co(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function wv(t){return"string"==typeof t?Uo.fromBase64String(t):Uo.fromUint8Array(t)}function PL(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ML(t){const e=t.mapValue.fields.__previous_value__;return PL(e)?ML(e):e}function Z1(t){const e=Cv(t.mapValue.fields.__local_write_time__.timestampValue);return new Us(e.seconds,e.nanos)}class dIe{constructor(e,n,i,r,s,o,c,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=p}}class qw{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new qw("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qw&&e.projectId===this.projectId&&e.database===this.database}}const Dy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ry(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?PL(t)?4:use(t)?9007199254740991:kL(t)?10:11:qn()}function lg(t,e){if(t===e)return!0;const n=Ry(t);if(n!==Ry(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Z1(t).isEqual(Z1(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Cv(r.timestampValue),c=Cv(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,wv(t.bytesValue).isEqual(wv(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return co(r.geoPointValue.latitude)===co(s.geoPointValue.latitude)&&co(r.geoPointValue.longitude)===co(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return co(r.integerValue)===co(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=co(r.doubleValue),c=co(s.doubleValue);return o===c?J1(o)===J1(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return JT(t.arrayValue.values||[],e.arrayValue.values||[],lg);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},c=s.mapValue.fields||{};if(tse(o)!==tse(c))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===c[h]||!lg(o[h],c[h])))return!1;return!0}(t,e);default:return qn()}var s}function eP(t,e){return void 0!==(t.values||[]).find(n=>lg(n,e))}function xy(t,e){if(t===e)return 0;const n=Ry(t),i=Ry(e);if(n!==i)return Li(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Li(t.booleanValue,e.booleanValue);case 2:return function(s,o){const c=co(s.integerValue||s.doubleValue),h=co(o.integerValue||o.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return ose(t.timestampValue,e.timestampValue);case 4:return ose(Z1(t),Z1(e));case 5:return Li(t.stringValue,e.stringValue);case 6:return function(s,o){const c=wv(s),h=wv(o);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const c=s.split("/"),h=o.split("/");for(let p=0;p<c.length&&p<h.length;p++){const m=Li(c[p],h[p]);if(0!==m)return m}return Li(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const c=Li(co(s.latitude),co(o.latitude));return 0!==c?c:Li(co(s.longitude),co(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ase(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,h,p,m;const L=null===(c=(s.fields||{}).value)||void 0===c?void 0:c.arrayValue,U=null===(h=(o.fields||{}).value)||void 0===h?void 0:h.arrayValue,X=Li((null===(p=L?.values)||void 0===p?void 0:p.length)||0,(null===(m=U?.values)||void 0===m?void 0:m.length)||0);return 0!==X?X:ase(L,U)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Dy.mapValue&&o===Dy.mapValue)return 0;if(s===Dy.mapValue)return 1;if(o===Dy.mapValue)return-1;const c=s.fields||{},h=Object.keys(c),p=o.fields||{},m=Object.keys(p);h.sort(),m.sort();for(let y=0;y<h.length&&y<m.length;++y){const I=Li(h[y],m[y]);if(0!==I)return I;const L=xy(c[h[y]],p[m[y]]);if(0!==L)return L}return Li(h.length,m.length)}(t.mapValue,e.mapValue);default:throw qn()}}function ose(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Li(t,e);const n=Cv(t),i=Cv(e),r=Li(n.seconds,i.seconds);return 0!==r?r:Li(n.nanos,i.nanos)}function ase(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=xy(n[r],i[r]);if(s)return s}return Li(n.length,i.length)}function nI(t){return Gj(t)}function Gj(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Cv(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?wv(t.bytesValue).toBase64():"referenceValue"in t?Vn.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Gj(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${Gj(n.fields[o])}`;return r+"}"}(t.mapValue):qn()}function Bj(t){return!!t&&"integerValue"in t}function tP(t){return!!t&&"arrayValue"in t}function lse(t){return!!t&&"nullValue"in t}function cse(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function FL(t){return!!t&&"mapValue"in t}function kL(t){var e,n;return"__vector__"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nP(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ay(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=nP(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nP(t.arrayValue.values[n]);return e}return Object.assign({},t)}function use(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class El{constructor(e){this.value=e}static empty(){return new El({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!FL(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nP(n)}setAll(e){let n=lo.emptyPath(),i={},r=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,i,r),i={},r=[],n=c.popLast()}o?i[c.lastSegment()]=nP(o):r.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());FL(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lg(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];FL(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Ay(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new El(nP(this.value))}}function pse(t){const e=[];return Ay(t.fields,(n,i)=>{const r=new lo([n]);if(FL(i)){const s=pse(i.mapValue).fields;if(0===s.length)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new xu(e)}class Ws{constructor(e,n,i,r,s,o,c){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Ws(e,0,si.min(),si.min(),si.min(),El.empty(),0)}static newFoundDocument(e,n,i,r){return new Ws(e,1,n,si.min(),i,r,0)}static newNoDocument(e,n){return new Ws(e,2,n,si.min(),si.min(),El.empty(),0)}static newUnknownDocument(e,n){return new Ws(e,3,n,si.min(),si.min(),El.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(si.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=El.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=El.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=si.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ws&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ws(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Py{constructor(e,n){this.position=e,this.inclusive=n}}function gse(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(i=s.field.isKeyField()?Vn.comparator(Vn.fromName(o.referenceValue),n.key):xy(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function mse(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lg(t.position[n],e.position[n]))return!1;return!0}class iP{constructor(e,n="asc"){this.field=e,this.dir=n}}function pIe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class vse{}class br extends vse{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,i):new gIe(e,n,i):"array-contains"===n?new _Ie(e,i):"in"===n?new Ese(e,i):"not-in"===n?new yIe(e,i):"array-contains-any"===n?new bIe(e,i):new br(e,n,i)}static createKeyFieldInFilter(e,n,i){return"in"===n?new mIe(e,i):new vIe(e,i)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(xy(n,this.value)):null!==n&&Ry(this.value)===Ry(n)&&this.matchesComparison(xy(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ss extends vse{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ss(e,n)}matches(e){return iI(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function iI(t){return"and"===t.op}function Uj(t){return function _se(t){for(const e of t.filters)if(e instanceof ss)return!1;return!0}(t)&&iI(t)}function Wj(t){if(t instanceof br)return t.field.canonicalString()+t.op.toString()+nI(t.value);if(Uj(t))return t.filters.map(e=>Wj(e)).join(",");{const e=t.filters.map(n=>Wj(n)).join(",");return`${t.op}(${e})`}}function yse(t,e){return t instanceof br?(i=t,(r=e)instanceof br&&i.op===r.op&&i.field.isEqual(r.field)&&lg(i.value,r.value)):t instanceof ss?function(i,r){return r instanceof ss&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((s,o,c)=>s&&yse(o,r.filters[c]),!0)}(t,e):void qn();var i,r}function Cse(t){return t instanceof br?`${(n=t).field.canonicalString()} ${n.op} ${nI(n.value)}`:t instanceof ss?function(n){return n.op.toString()+" {"+n.getFilters().map(Cse).join(" ,")+"}"}(t):"Filter";var n}class gIe extends br{constructor(e,n,i){super(e,n,i),this.key=Vn.fromName(i.referenceValue)}matches(e){const n=Vn.comparator(e.key,this.key);return this.matchesComparison(n)}}class mIe extends br{constructor(e,n){super(e,"in",n),this.keys=wse(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vIe extends br{constructor(e,n){super(e,"not-in",n),this.keys=wse(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wse(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(i=>Vn.fromName(i.referenceValue))}class _Ie extends br{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tP(n)&&eP(n.arrayValue,this.value)}}class Ese extends br{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&eP(this.value.arrayValue,n)}}class yIe extends br{constructor(e,n){super(e,"not-in",n)}matches(e){if(eP(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!eP(this.value.arrayValue,n)}}class bIe extends br{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tP(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>eP(this.value.arrayValue,i))}}class CIe{constructor(e,n=null,i=[],r=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}}function zj(t,e=null,n=[],i=[],r=null,s=null,o=null){return new CIe(t,e,n,i,r,s,o)}function Yw(t){const e=Rn(t);if(null===e.ue){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Wj(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),Q1(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>nI(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>nI(i)).join(",")),e.ue=n}return e.ue}function rP(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pIe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yse(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mse(t.startAt,e.startAt)&&mse(t.endAt,e.endAt)}function LL(t){return Vn.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Ev{constructor(e,n=null,i=[],r=[],s=null,o="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=h,this.ce=null,this.le=null,this.he=null}}function rI(t){return new Ev(t)}function Ase(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function sI(t){const e=Rn(t);if(null===e.ce){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new as(lo.comparator);return o.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new iP(s,i))}),n.has(lo.keyField().canonicalString())||e.ce.push(new iP(lo.keyField(),i))}return e.ce}function Jl(t){const e=Rn(t);return e.le||(e.le=function Rse(t,e){if("F"===t.limitType)return zj(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>new iP(r.field,"desc"===r.dir?"asc":"desc"));const n=t.endAt?new Py(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Py(t.startAt.position,t.startAt.inclusive):null;return zj(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}(e,sI(t))),e.le}function GL(t,e,n){return new Ev(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sP(t,e){return rP(Jl(t),Jl(e))&&t.limitType===e.limitType}function xse(t){return`${Yw(Jl(t))}|lt:${t.limitType}`}function oI(t){return`Query(target=${function(n){let i=n.path.canonicalString();return null!==n.collectionGroup&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>Cse(r)).join(", ")}]`),Q1(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>nI(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>nI(r)).join(",")),`Target(${i})`}(Jl(t))}; limitType=${t.limitType})`}function oP(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Vn.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of sI(i))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&(r=e,!((i=t).startAt&&!function(o,c,h){const p=gse(o,c,h);return o.inclusive?p<=0:p<0}(i.startAt,sI(i),r)||i.endAt&&!function(o,c,h){const p=gse(o,c,h);return o.inclusive?p>=0:p>0}(i.endAt,sI(i),r)));var i,r}function Mse(t){return(e,n)=>{let i=!1;for(const r of sI(t)){const s=wIe(r,e,n);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function wIe(t,e,n){const i=t.field.isKeyField()?Vn.comparator(e.key,n.key):function(s,o,c){const h=o.data.field(s),p=c.data.field(s);return null!==h&&null!==p?xy(h,p):qn()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return qn()}}class Sv{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ay(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return ise(this.inner)}size(){return this.innerSize}}const EIe=new Ts(Vn.comparator);function Pu(){return EIe}const Nse=new Ts(Vn.comparator);function aP(...t){let e=Nse;for(const n of t)e=e.insert(n.key,n);return e}function Ose(t){let e=Nse;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function cg(){return lP()}function Fse(){return lP()}function lP(){return new Sv(t=>t.toString(),(t,e)=>t.isEqual(e))}const SIe=new Ts(Vn.comparator),TIe=new as(Vn.comparator);function Ji(...t){let e=TIe;for(const n of t)e=e.add(n);return e}const IIe=new as(Li);function Kj(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:J1(e)?"-0":e}}function kse(t){return{integerValue:""+t}}function Lse(t,e){return function Kre(t){return"number"==typeof t&&Number.isInteger(t)&&!J1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?kse(e):Kj(t,e)}class BL{constructor(){this._=void 0}}function AIe(t,e,n){return t instanceof aI?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&PL(s)&&(s=ML(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Xw?Gse(t,e):t instanceof Qw?Bse(t,e):function(r,s){const o=Vse(r,s),c=Hse(o)+Hse(r.Pe);return Bj(o)&&Bj(r.Pe)?kse(c):Kj(r.serializer,c)}(t,e)}function DIe(t,e,n){return t instanceof Xw?Gse(t,e):t instanceof Qw?Bse(t,e):n}function Vse(t,e){return t instanceof lI?Bj(i=e)||(s=i)&&"doubleValue"in s?e:{integerValue:0}:null;var i,s}class aI extends BL{}class Xw extends BL{constructor(e){super(),this.elements=e}}function Gse(t,e){const n=Use(e);for(const i of t.elements)n.some(r=>lg(r,i))||n.push(i);return{arrayValue:{values:n}}}class Qw extends BL{constructor(e){super(),this.elements=e}}function Bse(t,e){let n=Use(e);for(const i of t.elements)n=n.filter(r=>!lg(r,i));return{arrayValue:{values:n}}}class lI extends BL{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Hse(t){return co(t.integerValue||t.doubleValue)}function Use(t){return tP(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class xIe{constructor(e,n){this.version=e,this.transformResults=n}}class uo{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new uo}static exists(e){return new uo(void 0,e)}static updateTime(e){return new uo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function HL(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class UL{}function Wse(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new uI(t.key,uo.none()):new cI(t.key,t.data,uo.none());{const n=t.data,i=El.empty();let r=new as(lo.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new Tv(t.key,i,new xu(r.toArray()),uo.none())}}function PIe(t,e,n){t instanceof cI?function(r,s,o){const c=r.value.clone(),h=$se(r.fieldTransforms,s,o.transformResults);c.setAll(h),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Tv?function(r,s,o){if(!HL(r.precondition,s))return void s.convertToUnknownDocument(o.version);const c=$se(r.fieldTransforms,s,o.transformResults),h=s.data;h.setAll(jse(r)),h.setAll(c),s.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function uP(t,e,n,i){return t instanceof cI?function(s,o,c,h){if(!HL(s.precondition,o))return c;const p=s.value.clone(),m=qse(s.fieldTransforms,h,o);return p.setAll(m),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),null}(t,e,n,i):t instanceof Tv?function(s,o,c,h){if(!HL(s.precondition,o))return c;const p=qse(s.fieldTransforms,h,o),m=o.data;return m.setAll(jse(s)),m.setAll(p),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),null===c?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(y=>y.field))}(t,e,n,i):(c=n,HL(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function MIe(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=Vse(i.transform,r||null);null!=s&&(null===n&&(n=El.empty()),n.set(i.field,s))}return n||null}function zse(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(i=t.fieldTransforms)&&void 0===r||i&&r&&JT(i,r,(s,o)=>function RIe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(i=t.transform)instanceof Xw&&r instanceof Xw||i instanceof Qw&&r instanceof Qw?JT(i.elements,r.elements,lg):i instanceof lI&&r instanceof lI?lg(i.Pe,r.Pe):i instanceof aI&&r instanceof aI);var i,r}(s,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var i,r}class cI extends UL{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Tv extends UL{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function jse(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function $se(t,e,n){const i=new Map;Xn(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,c=e.data.field(s.field);i.set(s.field,DIe(o,c,n[r]))}return i}function qse(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,AIe(s,o,e))}return i}class uI extends UL{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yj extends UL{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Xj{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&PIe(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=uP(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=uP(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Fse();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=n.has(r.key)?null:c;const h=Wse(o,c);null!==h&&i.set(r.key,h),o.isValidDocument()||o.convertToNoDocument(si.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ji())}isEqual(e){return this.batchId===e.batchId&&JT(this.mutations,e.mutations,(n,i)=>zse(n,i))&&JT(this.baseMutations,e.baseMutations,(n,i)=>zse(n,i))}}class Qj{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Xn(e.mutations.length===i.length);let r=function(){return SIe}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new Qj(e,n,i,r)}}class Jj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class NIe{constructor(e,n){this.count=e,this.unchangedNames=n}}var ma,Nr;function Xse(t){if(void 0===t)return ia("GRPC error has no .code"),At.UNKNOWN;switch(t){case ma.OK:return At.OK;case ma.CANCELLED:return At.CANCELLED;case ma.UNKNOWN:return At.UNKNOWN;case ma.DEADLINE_EXCEEDED:return At.DEADLINE_EXCEEDED;case ma.RESOURCE_EXHAUSTED:return At.RESOURCE_EXHAUSTED;case ma.INTERNAL:return At.INTERNAL;case ma.UNAVAILABLE:return At.UNAVAILABLE;case ma.UNAUTHENTICATED:return At.UNAUTHENTICATED;case ma.INVALID_ARGUMENT:return At.INVALID_ARGUMENT;case ma.NOT_FOUND:return At.NOT_FOUND;case ma.ALREADY_EXISTS:return At.ALREADY_EXISTS;case ma.PERMISSION_DENIED:return At.PERMISSION_DENIED;case ma.FAILED_PRECONDITION:return At.FAILED_PRECONDITION;case ma.ABORTED:return At.ABORTED;case ma.OUT_OF_RANGE:return At.OUT_OF_RANGE;case ma.UNIMPLEMENTED:return At.UNIMPLEMENTED;case ma.DATA_LOSS:return At.DATA_LOSS;default:return qn()}}(Nr=ma||(ma={}))[Nr.OK=0]="OK",Nr[Nr.CANCELLED=1]="CANCELLED",Nr[Nr.UNKNOWN=2]="UNKNOWN",Nr[Nr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nr[Nr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nr[Nr.NOT_FOUND=5]="NOT_FOUND",Nr[Nr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nr[Nr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nr[Nr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nr[Nr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nr[Nr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nr[Nr.ABORTED=10]="ABORTED",Nr[Nr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nr[Nr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nr[Nr.INTERNAL=13]="INTERNAL",Nr[Nr.UNAVAILABLE=14]="UNAVAILABLE",Nr[Nr.DATA_LOSS=15]="DATA_LOSS";const OIe=new Ww([4294967295,4294967295],0);function Jse(t){const e=function Qse(){return new TextEncoder}().encode(t),n=new Pre;return n.update(e),new Uint8Array(n.digest())}function Zse(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ww([n,i],0),new Ww([r,s],0)]}class Zj{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new dP(`Invalid padding: ${n}`);if(i<0)throw new dP(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new dP(`Invalid hash count: ${i}`);if(0===e.length&&0!==n)throw new dP(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ww.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(Ww.fromNumber(i)));return 1===r.compare(OIe)&&(r=new Ww([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const n=Jse(e),[i,r]=Zse(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Zj(s,r,n);return i.forEach(c=>o.insert(c)),o}insert(e){if(0===this.Ie)return;const n=Jse(e),[i,r]=Zse(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class dP extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hP{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,fP.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new hP(si.min(),r,new Ts(Li),Pu(),Ji())}}class fP{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new fP(i,n,Ji(),Ji(),Ji())}}class zL{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}}class eoe{constructor(e,n){this.targetId=e,this.me=n}}class toe{constructor(e,n,i=Uo.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class noe{constructor(){this.fe=0,this.ge=roe(),this.pe=Uo.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ji(),n=Ji(),i=Ji();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:qn()}}),new fP(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=roe()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Xn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class FIe{constructor(e){this.Le=e,this.Be=new Map,this.ke=Pu(),this.qe=ioe(),this.Qe=new Ts(Li)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:qn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){const n=e.targetId,i=e.me.count,r=this.Je(n);if(r){const s=r.target;if(LL(s))if(0===i){const o=new Vn(s.path);this.Ue(n,o,Ws.newNoDocument(o,si.min()))}else Xn(1===i);else{const o=this.Ye(n);if(o!==i){const c=this.Ze(e),h=c?this.Xe(c,e,o):1;0!==h&&(this.je(n),this.Qe=this.Qe.insert(n,2===h?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,c;try{o=wv(i).toUint8Array()}catch(h){if(h instanceof sse)return vh("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Zj(o,r,s)}catch(h){return vh(h instanceof dP?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return 0===c.Ie?null:c}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,s,null),r++)}),r}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const c=this.Je(o);if(c){if(s.current&&LL(c.target)){const h=new Vn(c.target.path);null!==this.ke.get(h)||this.it(o,h)||this.Ue(o,h,Ws.newNoDocument(h,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let i=Ji();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(h=>{const p=this.Je(h);return!p||"TargetPurposeLimboResolution"===p.purpose||(c=!1,!1)}),c&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const r=new hP(e,n,this.Qe,this.ke,i);return this.ke=Pu(),this.qe=ioe(),this.Qe=new Ts(Li),r}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new noe,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new as(Li),this.qe=this.qe.insert(e,n)),n}ze(e){const n=null!==this.Je(e);return n||sn("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new noe),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ioe(){return new Ts(Vn.comparator)}function roe(){return new Ts(Vn.comparator)}const kIe={asc:"ASCENDING",desc:"DESCENDING"},LIe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VIe={and:"AND",or:"OR"};class GIe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function e7(t,e){return t.useProto3Json||Q1(e)?e:{value:e}}function dI(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function soe(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BIe(t,e){return dI(t,e.toTimestamp())}function ra(t){return Xn(!!t),si.fromTimestamp(function(n){const i=Cv(n);return new Us(i.seconds,i.nanos)}(t))}function t7(t,e){return n7(t,e).canonicalString()}function n7(t,e){const n=(r=t,new yr(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===e?n:n.child(e)}function ooe(t){const e=yr.fromString(t);return Xn(voe(e)),e}function pP(t,e){return t7(t.databaseId,e.path)}function ug(t,e){const n=ooe(e);if(n.get(1)!==t.databaseId.projectId)throw new on(At.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new on(At.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Vn(coe(n))}function aoe(t,e){return t7(t.databaseId,e)}function i7(t){return new yr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function coe(t){return Xn(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function uoe(t,e,n){return{name:pP(t,e),fields:n.value.mapValue.fields}}function hoe(t,e){return{documents:[aoe(t,e.path)]}}function jL(t,e){const n={structuredQuery:{}},i=e.path;let r;null!==e.collectionGroup?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=aoe(t,r);const s=function(p){if(0!==p.length)return moe(ss.create(p,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(p){if(0!==p.length)return p.map(m=>{return{field:My((I=m).field),direction:jIe(I.dir)};var I})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=e7(t,e.limit);return null!==c&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{_t:n,parent:r};var p}function poe(t){let e=function loe(t){const e=ooe(t);return 4===e.length?yr.emptyPath():coe(e)}(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Xn(1===i);const m=n.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=function(y){const I=goe(y);return I instanceof ss&&Uj(I)?I.getFilters():[I]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(I=>{return new iP(hI((U=I).field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction));var U}));let c=null;n.limit&&(c=function(y){let I;return I="object"==typeof y?y.value:y,Q1(I)?null:I}(n.limit));let h=null;var y;n.startAt&&(h=new Py((y=n.startAt).values||[],!!y.before));let p=null;return n.endAt&&(p=function(y){return new Py(y.values||[],!y.before)}(n.endAt)),function Ise(t,e,n,i,r,s,o,c){return new Ev(t,e,n,i,r,s,o,c)}(e,r,o,s,c,"F",h,p)}function goe(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=hI(n.unaryFilter.field);return br.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=hI(n.unaryFilter.field);return br.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=hI(n.unaryFilter.field);return br.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=hI(n.unaryFilter.field);return br.create(o,"!=",{nullValue:"NULL_VALUE"});default:return qn()}}(t):void 0!==t.fieldFilter?br.create(hI((n=t).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qn()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return ss.create(n.compositeFilter.filters.map(i=>goe(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return qn()}}(n.compositeFilter.op))}(t):qn();var n}function jIe(t){return kIe[t]}function $Ie(t){return LIe[t]}function qIe(t){return VIe[t]}function My(t){return{fieldPath:t.canonicalString()}}function hI(t){return lo.fromServerFormat(t.fieldPath)}function moe(t){return t instanceof br?function(n){if("=="===n.op){if(cse(n.value))return{unaryFilter:{field:My(n.field),op:"IS_NAN"}};if(lse(n.value))return{unaryFilter:{field:My(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(cse(n.value))return{unaryFilter:{field:My(n.field),op:"IS_NOT_NAN"}};if(lse(n.value))return{unaryFilter:{field:My(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:My(n.field),op:$Ie(n.op),value:n.value}}}(t):t instanceof ss?function(n){const i=n.getFilters().map(r=>moe(r));return 1===i.length?i[0]:{compositeFilter:{op:qIe(n.op),filters:i}}}(t):qn()}function KIe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function voe(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Iv{constructor(e,n,i,r,s=si.min(),o=si.min(),c=Uo.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Iv(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Iv(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Iv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Iv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _oe{constructor(e){this.ct=e}}function s7(t){const e=poe({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?GL(e,e.limit,"L"):e}class tE{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(co(e.integerValue));else if("doubleValue"in e){const i=co(e.doubleValue);isNaN(i)?this.dt(n,13):(this.dt(n,15),J1(i)?n.At(0):n.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(n,20),"string"==typeof i&&(i=Cv(i)),n.Rt(`${i.seconds||""}`),n.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(wv(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const i=e.geoPointValue;this.dt(n,45),n.At(i.latitude||0),n.At(i.longitude||0)}else"mapValue"in e?use(e)?this.dt(n,Number.MAX_SAFE_INTEGER):kL(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):qn()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const i=e.fields||{};this.dt(n,55);for(const r of Object.keys(i))this.Vt(r,n),this.Tt(i[r],n)}wt(e,n){var i,r;const s=e.fields||{};this.dt(n,53);const o="value",c=(null===(r=null===(i=s[o].arrayValue)||void 0===i?void 0:i.values)||void 0===r?void 0:r.length)||0;this.dt(n,15),n.At(co(c)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){const i=e.values||[];this.dt(n,50);for(const r of i)this.Tt(r,n)}yt(e,n){this.dt(n,37),Vn.fromName(e).path.forEach(i=>{this.dt(n,60),this.Dt(i,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}tE.vt=new tE;class iAe{constructor(){this.un=new d7}addToCollectionParentIndex(e,n){return this.un.add(n),ht.resolve()}getCollectionParents(e,n){return ht.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ht.resolve()}deleteFieldIndex(e,n){return ht.resolve()}deleteAllFieldIndexes(e){return ht.resolve()}createTargetIndexes(e,n){return ht.resolve()}getDocumentsMatchingTarget(e,n){return ht.resolve(null)}getIndexType(e,n){return ht.resolve(0)}getFieldIndexes(e,n){return ht.resolve([])}getNextCollectionGroupToUpdate(e){return ht.resolve(null)}getMinOffset(e,n){return ht.resolve(gd.min())}getMinOffsetFromCollectionGroup(e,n){return ht.resolve(gd.min())}updateCollectionGroup(e,n,i){return ht.resolve()}updateIndexEntries(e,n){return ht.resolve()}}class d7{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new as(yr.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new as(yr.comparator)).toArray()}}new Uint8Array(0);class Zl{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Zl(e,Zl.DEFAULT_COLLECTION_PERCENTILE,Zl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Zl.DEFAULT_COLLECTION_PERCENTILE=10,Zl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zl.DEFAULT=new Zl(41943040,Zl.DEFAULT_COLLECTION_PERCENTILE,Zl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zl.DISABLED=new Zl(-1,0,0);class iE{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new iE(0)}static kn(){return new iE(-1)}}class Hoe{constructor(){this.changes=new Sv(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ws.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return void 0!==i?ht.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class dAe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class $oe{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(null!==i&&uP(i.mutation,r,xu.empty(),Us.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ji()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ji()){const r=cg();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=aP();return s.forEach((c,h)=>{o=o.insert(c,h.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=cg();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ji()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,i,r){let s=Pu();const o=lP(),c=lP();return n.forEach((h,p)=>{const m=i.get(p.key);r.has(p.key)&&(void 0===m||m.mutation instanceof Tv)?s=s.insert(p.key,p):void 0!==m?(o.set(p.key,m.mutation.getFieldMask()),uP(m.mutation,p,m.mutation.getFieldMask(),Us.now())):o.set(p.key,xu.empty())}),this.recalculateAndSaveOverlays(e,s).next(h=>(h.forEach((p,m)=>o.set(p,m)),n.forEach((p,m)=>{var y;return c.set(p,new dAe(m,null!==(y=o.get(p))&&void 0!==y?y:null))}),c))}recalculateAndSaveOverlays(e,n){const i=lP();let r=new Ts((o,c)=>o-c),s=Ji();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const c of o)c.keys().forEach(h=>{const p=n.get(h);if(null===p)return;let m=i.get(h)||xu.empty();m=c.applyToLocalView(p,m),i.set(h,m);const y=(r.get(c.batchId)||Ji()).add(h);r=r.insert(c.batchId,y)})}).next(()=>{const o=[],c=r.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,m=h.value,y=Fse();m.forEach(I=>{if(!s.has(I)){const L=Wse(n.get(I),i.get(I));null!==L&&y.set(I,L),s=s.add(I)}}),o.push(this.documentOverlayCache.saveOverlays(e,p,y))}return ht.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return Vn.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function jj(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r);var o}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):ht.resolve(cg());let c=-1,h=s;return o.next(p=>ht.forEach(p,(m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),s.get(m)?ht.resolve():this.remoteDocumentCache.getEntry(e,m).next(I=>{h=h.insert(m,I)}))).next(()=>this.populateOverlays(e,p,s)).next(()=>this.computeViews(e,h,p,Ji())).next(m=>({batchId:c,changes:Ose(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Vn(n)).next(i=>{let r=aP();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=aP();return this.indexManager.getCollectionParents(e,s).next(c=>ht.forEach(c,h=>{const p=(y=n,I=h.child(s),new Ev(I,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,I;return this.getDocumentsMatchingCollectionQuery(e,p,i,r).next(m=>{m.forEach((y,I)=>{o=o.insert(y,I)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((h,p)=>{const m=p.getKey();null===o.get(m)&&(o=o.insert(m,Ws.newInvalidDocument(m)))});let c=aP();return o.forEach((h,p)=>{const m=s.get(h);void 0!==m&&uP(m.mutation,p,xu.empty(),Us.now()),oP(n,p)&&(c=c.insert(h,p))}),c})}}class hAe{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ht.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,{id:(r=n).id,version:r.version,createTime:ra(r.createTime)}),ht.resolve();var r}getNamedQuery(e,n){return ht.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,{name:(r=n).name,query:s7(r.bundledQuery),readTime:ra(r.readTime)}),ht.resolve();var r}}class fAe{constructor(){this.overlays=new Ts(Vn.comparator),this.Ir=new Map}getOverlay(e,n){return ht.resolve(this.overlays.get(n))}getOverlays(e,n){const i=cg();return ht.forEach(n,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),ht.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Ir.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),ht.resolve()}getOverlaysForCollection(e,n,i){const r=cg(),s=n.length+1,o=new Vn(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===s&&h.largestBatchId>i&&r.set(h.getKey(),h)}return ht.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Ts((p,m)=>p-m);const o=this.overlays.getIterator();for(;o.hasNext();){const p=o.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let m=s.get(p.largestBatchId);null===m&&(m=cg(),s=s.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const c=cg(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,m)=>c.set(p,m)),!(c.size()>=r)););return ht.resolve(c)}ht(e,n,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new Jj(n,i));let s=this.Ir.get(n);void 0===s&&(s=Ji(),this.Ir.set(n,s)),this.Ir.set(n,s.add(i.key))}}class pAe{constructor(){this.sessionToken=Uo.EMPTY_BYTE_STRING}getSessionToken(e){return ht.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ht.resolve()}}class h7{constructor(){this.Tr=new as(Ja.Er),this.dr=new as(Ja.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new Ja(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new Ja(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){const n=new Vn(new yr([])),i=new Ja(n,e),r=new Ja(n,e+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Vn(new yr([])),i=new Ja(n,e),r=new Ja(n,e+1);let s=Ji();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ja(e,0),i=this.Tr.firstAfterOrEqual(n);return null!==i&&e.isEqual(i.key)}}class Ja{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Vn.comparator(e.key,n.key)||Li(e.wr,n.wr)}static Ar(e,n){return Li(e.wr,n.wr)||Vn.comparator(e.key,n.key)}}class gAe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new as(Ja.Er)}checkEmpty(e){return ht.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,i,r){const s=this.Sr;this.Sr++;const o=new Xj(s,n,i,r);this.mutationQueue.push(o);for(const c of r)this.br=this.br.add(new Ja(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ht.resolve(o)}lookupMutationBatch(e,n){return ht.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=this.vr(n+1),s=r<0?0:r;return ht.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Ja(n,0),r=new Ja(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{const c=this.Dr(o.wr);s.push(c)}),ht.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new as(Li);return n.forEach(r=>{const s=new Ja(r,0),o=new Ja(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{i=i.add(c.wr)})}),ht.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;Vn.isDocumentKey(s)||(s=s.child(""));const o=new Ja(new Vn(s),0);let c=new as(Li);return this.br.forEachWhile(h=>{const p=h.key.path;return!!i.isPrefixOf(p)&&(p.length===r&&(c=c.add(h.wr)),!0)},o),ht.resolve(this.Cr(c))}Cr(e){const n=[];return e.forEach(i=>{const r=this.Dr(i);null!==r&&n.push(r)}),n}removeMutationBatch(e,n){Xn(0===this.Fr(n.batchId,"removed")),this.mutationQueue.shift();let i=this.br;return ht.forEach(n.mutations,r=>{const s=new Ja(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){const i=new Ja(n,0),r=this.br.firstAfterOrEqual(i);return ht.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return ht.resolve()}Fr(e,n){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class mAe{constructor(e){this.Mr=e,this.docs=new Ts(Vn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ht.resolve(i?i.document.mutableCopy():Ws.newInvalidDocument(n))}getEntries(e,n){let i=Pu();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ws.newInvalidDocument(r))}),ht.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Pu();const o=n.path,c=new Vn(o.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:m}}=h.getNext();if(!o.isPrefixOf(p.path))break;p.path.length>o.length+1||Oj(Wre(m),i)<=0||(r.has(m.key)||oP(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return ht.resolve(s)}getAllFromCollectionGroup(e,n,i,r){qn()}Or(e,n){return ht.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new vAe(this)}getSize(e){return ht.resolve(this.size)}}class vAe extends Hoe{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),ht.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}class _Ae{constructor(e){this.persistence=e,this.Nr=new Sv(n=>Yw(n),rP),this.lastRemoteSnapshotVersion=si.min(),this.highestTargetId=0,this.Lr=0,this.Br=new h7,this.targetCount=0,this.kr=iE.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,r)=>n(r)),ht.resolve()}getLastRemoteSnapshotVersion(e){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ht.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),ht.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new iE(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ht.resolve()}updateTargetData(e,n){return this.Kn(n),ht.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ht.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&null===i.get(c.targetId)&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),ht.waitFor(s).next(()=>r)}getTargetCount(e){return ht.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return ht.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),ht.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),ht.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ht.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return ht.resolve(i)}containsKey(e,n){return ht.resolve(this.Br.containsKey(n))}}class f7{constructor(e,n){this.qr={},this.overlays={},this.Qr=new md(0),this.Kr=!1,this.Kr=!0,this.$r=new pAe,this.referenceDelegate=e(this),this.Ur=new _Ae(this),this.indexManager=new iAe,this.remoteDocumentCache=new mAe(i=>this.referenceDelegate.Wr(i)),this.serializer=new _oe(n),this.Gr=new hAe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fAe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new gAe(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){sn("MemoryPersistence","Starting transaction:",e);const r=new yAe(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(e,n){return ht.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}}class yAe extends jre{constructor(e){super(),this.currentSequenceNumber=e}}class ZL{constructor(e){this.persistence=e,this.Jr=new h7,this.Yr=null}static Zr(e){return new ZL(e)}get Xr(){if(this.Yr)return this.Yr;throw qn()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),ht.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),ht.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ht.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.Xr,i=>{const r=Vn.fromPath(i);return this.ei(e,r).next(s=>{s||n.removeEntry(r,si.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ht.or([()=>ht.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class v7{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(e,n){let i=Ji(),r=Ji();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new v7(e,n.fromCache,i,r)}}class CAe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Koe{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function kk(){return!function N6(){var t;const e=null===(t=Rw())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function $re(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(xo())>0?6:4}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new CAe;return this.Xi(e,n,o).next(c=>{if(s.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>s.result)}es(e,n,i,r){return i.documentReadCount<this.ji?(QT()<=a.DEBUG&&sn("QueryEngine","SDK will not create cache indexes for query:",oI(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ht.resolve()):(QT()<=a.DEBUG&&sn("QueryEngine","Query:",oI(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(QT()<=a.DEBUG&&sn("QueryEngine","The SDK decides to create cache indexes for query:",oI(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jl(n))):ht.resolve())}Yi(e,n){if(Ase(n))return ht.resolve(null);let i=Jl(n);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==n.limit&&1===r&&(n=GL(n,null,"F"),i=Jl(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=Ji(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,i).next(h=>{const p=this.ts(n,c);return this.ns(n,p,o,h.readTime)?this.Yi(e,GL(n,null,"F")):this.rs(e,p,n,h)}))})))}Zi(e,n,i,r){return Ase(n)||r.isEqual(si.min())?ht.resolve(null):this.Ji.getDocuments(e,i).next(s=>{const o=this.ts(n,s);return this.ns(n,o,i,r)?ht.resolve(null):(QT()<=a.DEBUG&&sn("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),oI(n)),this.rs(e,o,n,function Ure(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=si.fromTimestamp(1e9===i?new Us(n+1,0):new Us(n,i));return new gd(r,Vn.empty(),e)}(r,-1)).next(c=>c))})}ts(e,n){let i=new as(Mse(e));return n.forEach((r,s)=>{oP(e,s)&&(i=i.add(s))}),i}ns(e,n,i,r){if(null===e.limit)return!1;if(i.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,n,i){return QT()<=a.DEBUG&&sn("QueryEngine","Using full collection scan to execute query:",oI(n)),this.Ji.getDocumentsMatchingQuery(e,n,gd.min(),i)}rs(e,n,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class wAe{constructor(e,n,i,r){this.persistence=e,this.ss=n,this.serializer=r,this.os=new Ts(Li),this._s=new Sv(s=>Yw(s),rP),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $oe(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Xoe(t,e){return _7.apply(this,arguments)}function _7(){return _7=(0,te.A)(function*(t,e){const n=Rn(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],c=[];let h=Ji();for(const p of r){o.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}for(const p of s){c.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(i,h).next(p=>({hs:p,removedBatchIds:o,addedBatchIds:c}))})})}),_7.apply(this,arguments)}function Qoe(t){const e=Rn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function TAe(t,e){const n=Rn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function _I(t,e,n){return y7.apply(this,arguments)}function y7(){return y7=(0,te.A)(function*(t,e,n){const i=Rn(t),r=i.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Iy(o))throw o;sn("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.os=i.os.remove(e),i._s.delete(r.target)}),y7.apply(this,arguments)}function nV(t,e,n){const i=Rn(t);let r=si.min(),s=Ji();return i.persistence.runTransaction("Execute query","readwrite",o=>function(h,p,m){const y=Rn(h),I=y._s.get(m);return void 0!==I?ht.resolve(y.os.get(I)):y.Ur.getTargetData(p,m)}(i,o,Jl(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,c.targetId).next(h=>{s=h})}).next(()=>i.ss.getDocumentsMatchingQuery(o,e,n?r:si.min(),n?s:Ji())).next(c=>(function tae(t,e,n){let i=t.us.get(e)||si.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.us.set(e,i)}(i,function Pse(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),c),{documents:c,Ts:s})))}class S7{constructor(){this.activeTargetIds=function qj(){return IIe}()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rae{constructor(){this.so=new S7,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new S7,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class DAe{_o(e){}shutdown(){}}class sae{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){sn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){sn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let sV=null;function I7(){return null===sV?sV=268435456+Math.round(2147483648*Math.random()):sV++,"0x"+sV.toString(16)}const RAe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xAe{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const ec="WebChannelConnection";class PAe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${s}`,this.Co="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(n,i,r,s,o){const c=I7(),h=this.xo(n,i.toUriEncodedString());sn("RestConnection",`Sending RPC '${n}' ${c}:`,h,r);const p={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(p,s,o),this.No(n,h,p,r).then(m=>(sn("RestConnection",`Received RPC '${n}' ${c}: `,m),m),m=>{throw vh("RestConnection",`RPC '${n}' ${c} failed with error: `,m,"url: ",h,"request:",r),m})}Lo(n,i,r,s,o,c){return this.Mo(n,i,r,s,o)}Oo(n,i,r){n["X-Goog-Api-Client"]="gl-js/ fire/"+XT,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}xo(n,i){return`${this.Do}/v1/${i}:${RAe[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,r){const s=I7();return new Promise((o,c)=>{const h=new Mre;h.setWithCredentials(!0),h.listenOnce(Nre.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case AL.NO_ERROR:const m=h.getResponseJson();sn(ec,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),o(m);break;case AL.TIMEOUT:sn(ec,`RPC '${e}' ${s} timed out`),c(new on(At.DEADLINE_EXCEEDED,"Request time out"));break;case AL.HTTP_ERROR:const y=h.getStatus();if(sn(ec,`RPC '${e}' ${s} failed with status:`,y,"response text:",h.getResponseText()),y>0){let I=h.getResponseJson();Array.isArray(I)&&(I=I[0]);const L=I?.error;if(L&&L.status&&L.message){const U=function(Q){const pe=Q.toLowerCase().replace(/_/g,"-");return Object.values(At).indexOf(pe)>=0?pe:At.UNKNOWN}(L.status);c(new on(U,L.message))}else c(new on(At.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new on(At.UNAVAILABLE,"Connection failed."));break;default:qn()}}finally{sn(ec,`RPC '${e}' ${s} completed.`)}});const p=JSON.stringify(r);sn(ec,`RPC '${e}' ${s} sending request:`,r),h.send(n,"POST",p,i,15)})}Bo(e,n,i){const r=I7(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=kre(),c=Fre(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;void 0!==p&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Oo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const m=s.join("");sn(ec,`Creating RPC '${e}' stream ${r}: ${m}`,h);const y=o.createWebChannel(m,h);let I=!1,L=!1;const U=new xAe({Io:Q=>{L?sn(ec,`Not sending because RPC '${e}' stream ${r} is closed:`,Q):(I||(sn(ec,`Opening RPC '${e}' stream ${r} transport.`),y.open(),I=!0),sn(ec,`RPC '${e}' stream ${r} sending:`,Q),y.send(Q))},To:()=>y.close()}),X=(Q,pe,Te)=>{Q.listen(pe,Le=>{try{Te(Le)}catch(tt){setTimeout(()=>{throw tt},0)}})};return X(y,K1.EventType.OPEN,()=>{L||(sn(ec,`RPC '${e}' stream ${r} transport opened.`),U.yo())}),X(y,K1.EventType.CLOSE,()=>{L||(L=!0,sn(ec,`RPC '${e}' stream ${r} transport closed`),U.So())}),X(y,K1.EventType.ERROR,Q=>{L||(L=!0,vh(ec,`RPC '${e}' stream ${r} transport errored:`,Q),U.So(new on(At.UNAVAILABLE,"The operation could not be completed")))}),X(y,K1.EventType.MESSAGE,Q=>{var pe;if(!L){const Te=Q.data[0];Xn(!!Te);const tt=Te.error||(null===(pe=Te[0])||void 0===pe?void 0:pe.error);if(tt){sn(ec,`RPC '${e}' stream ${r} received error:`,tt);const zt=tt.status;let Ot=function(Re){const Ke=ma[Re];if(void 0!==Ke)return Xse(Ke)}(zt),Se=tt.message;void 0===Ot&&(Ot=At.INTERNAL,Se="Unknown error status: "+zt+" with message "+tt.message),L=!0,U.So(new on(Ot,Se)),y.close()}else sn(ec,`RPC '${e}' stream ${r} received:`,Te),U.bo(Te)}}),X(c,Ore.STAT_EVENT,Q=>{Q.stat===Pj.PROXY?sn(ec,`RPC '${e}' stream ${r} detected buffering proxy`):Q.stat===Pj.NOPROXY&&sn(ec,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{U.wo()},0),U}}function oV(){return typeof document<"u"?document:null}function EP(t){return new GIe(t,!0)}class A7{constructor(e,n,i=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&sn("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class aae{constructor(e,n,i,r,s,o,c,h){this.ui=e,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new A7(e,n)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,te.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,te.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){var i=this;return(0,te.A)(function*(){i.u_(),i.c_(),i.t_.cancel(),i.Yo++,4!==e?i.t_.reset():n&&n.code===At.RESOURCE_EXHAUSTED?(ia(n.toString()),ia("Using maximum backoff delay to prevent overloading the backend."),i.t_.Wo()):n&&n.code===At.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.l_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.mo(n)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===n&&this.P_(i,r)},i=>{e(()=>{const r=new on(At.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>1==++this.e_?this.E_(r):this.onNext(r))})}i_(){var e=this;this.state=5,this.t_.Go((0,te.A)(function*(){e.state=0,e.start()}))}I_(e){return sn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(sn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MAe extends aae{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=function UIe(t,e){let n;if("targetChange"in e){const i="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:qn(),r=e.targetChange.targetIds||[],s=function(p,m){return p.useProto3Json?(Xn(void 0===m||"string"==typeof m),Uo.fromBase64String(m||"")):(Xn(void 0===m||m instanceof Buffer||m instanceof Uint8Array),Uo.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(p){const m=void 0===p.code?At.UNKNOWN:Xse(p.code);return new on(m,p.message||"")}(o);n=new toe(i,r,s,c||null)}else if("documentChange"in e){const i=e.documentChange,r=ug(t,i.document.name),s=ra(i.document.updateTime),o=i.document.createTime?ra(i.document.createTime):si.min(),c=new El({mapValue:{fields:i.document.fields}}),h=Ws.newFoundDocument(r,s,o,c);n=new zL(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const i=e.documentDelete,r=ug(t,i.document),s=i.readTime?ra(i.readTime):si.min(),o=Ws.newNoDocument(r,s);n=new zL([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const i=e.documentRemove,r=ug(t,i.document);n=new zL([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return qn();{const i=e.filter,{count:r=0,unchangedNames:s}=i,o=new NIe(r,s);n=new eoe(i.targetId,o)}}var p;return n}(this.serializer,e),i=function(s){if(!("targetChange"in s))return si.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?si.min():o.readTime?ra(o.readTime):si.min()}(e);return this.listener.d_(n,i)}A_(e){const n={};n.database=i7(this.serializer),n.addTarget=function(s,o){let c;const h=o.target;if(c=LL(h)?{documents:hoe(s,h)}:{query:jL(s,h)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=soe(s,o.resumeToken);const p=e7(s,o.expectedCount);null!==p&&(c.expectedCount=p)}else if(o.snapshotVersion.compareTo(si.min())>0){c.readTime=dI(s,o.snapshotVersion.toTimestamp());const p=e7(s,o.expectedCount);null!==p&&(c.expectedCount=p)}return c}(this.serializer,e);const i=function zIe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qn()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);i&&(n.labels=i),this.a_(n)}R_(e){const n={};n.database=i7(this.serializer),n.removeTarget=e,this.a_(n)}}class NAe extends aae{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Xn(!!e.streamToken),this.lastStreamToken=e.streamToken,Xn(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Xn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=function WIe(t,e){return t&&t.length>0?(Xn(void 0!==e),t.map(n=>function(r,s){let o=ra(r.updateTime?r.updateTime:s);return o.isEqual(si.min())&&(o=ra(s)),new xIe(o,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),i=ra(e.commitTime);return this.listener.g_(i,n)}p_(){const e={};e.database=i7(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>function gP(t,e){let n;if(e instanceof cI)n={update:uoe(t,e.key,e.value)};else if(e instanceof uI)n={delete:pP(t,e.key)};else if(e instanceof Tv)n={update:uoe(t,e.key,e.data),updateMask:KIe(e.fieldMask)};else{if(!(e instanceof Yj))return qn();n={verify:pP(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const c=o.transform;if(c instanceof aI)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Xw)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Qw)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof lI)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw qn()}(0,i))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:BIe(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:qn()),n;var s}(this.serializer,i))};this.a_(n)}}class OAe extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new on(At.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,n7(n,i),r,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===At.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new on(At.UNKNOWN,s.toString())})}Lo(e,n,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,n7(n,i),r,o,c,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===At.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new on(At.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class FAe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ia(n),this.D_=!1):sn("OnlineStateTracker",n)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class kAe{constructor(e,n,i,r,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(c=>{i.enqueueAndForget((0,te.A)(function*(){var h;ky(o)&&(sn("RemoteStore","Restarting streams for network reachability change."),yield(h=(0,te.A)(function*(m){const y=Rn(m);y.L_.add(4),yield yI(y),y.q_.set("Unknown"),y.L_.delete(4),yield SP(y)}),function p(m){return h.apply(this,arguments)})(o))}))}),this.q_=new FAe(i,r)}}function SP(t){return D7.apply(this,arguments)}function D7(){return D7=(0,te.A)(function*(t){if(ky(t))for(const e of t.B_)yield e(!0)}),D7.apply(this,arguments)}function yI(t){return R7.apply(this,arguments)}function R7(){return R7=(0,te.A)(function*(t){for(const e of t.B_)yield e(!1)}),R7.apply(this,arguments)}function aV(t,e){const n=Rn(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),M7(n)?P7(n):wI(n).r_()&&x7(n,e))}function bI(t,e){const n=Rn(t),i=wI(n);n.N_.delete(e),i.r_()&&lae(n,e),0===n.N_.size&&(i.r_()?i.o_():ky(n)&&n.q_.set("Unknown"))}function x7(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(si.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wI(t).A_(e)}function lae(t,e){t.Q_.xe(e),wI(t).R_(e)}function P7(t){t.Q_=new FIe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),wI(t).start(),t.q_.v_()}function M7(t){return ky(t)&&!wI(t).n_()&&t.N_.size>0}function ky(t){return 0===Rn(t).L_.size}function cae(t){t.Q_=void 0}function LAe(t){return N7.apply(this,arguments)}function N7(){return N7=(0,te.A)(function*(t){t.q_.set("Online")}),N7.apply(this,arguments)}function VAe(t){return O7.apply(this,arguments)}function O7(){return O7=(0,te.A)(function*(t){t.N_.forEach((e,n)=>{x7(t,e)})}),O7.apply(this,arguments)}function GAe(t,e){return F7.apply(this,arguments)}function F7(){return F7=(0,te.A)(function*(t,e){cae(t),M7(t)?(t.q_.M_(e),P7(t)):t.q_.set("Unknown")}),F7.apply(this,arguments)}function BAe(t,e,n){return k7.apply(this,arguments)}function k7(){return k7=(0,te.A)(function*(t,e,n){if(t.q_.set("Online"),e instanceof toe&&2===e.state&&e.cause)try{yield(i=(0,te.A)(function*(s,o){const c=o.cause;for(const h of o.targetIds)s.N_.has(h)&&(yield s.remoteSyncer.rejectListen(h,c),s.N_.delete(h),s.Q_.removeTarget(h))}),function r(s,o){return i.apply(this,arguments)})(t,e)}catch(i){sn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield lV(t,i)}else if(e instanceof zL?t.Q_.Ke(e):e instanceof eoe?t.Q_.He(e):t.Q_.We(e),!n.isEqual(si.min()))try{const i=yield Qoe(t.localStore);n.compareTo(i)>=0&&(yield function(s,o){const c=s.Q_.rt(o);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const m=s.N_.get(p);m&&s.N_.set(p,m.withResumeToken(h.resumeToken,o))}}),c.targetMismatches.forEach((h,p)=>{const m=s.N_.get(h);if(!m)return;s.N_.set(h,m.withResumeToken(Uo.EMPTY_BYTE_STRING,m.snapshotVersion)),lae(s,h);const y=new Iv(m.target,h,p,m.sequenceNumber);x7(s,y)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(i){sn("RemoteStore","Failed to raise snapshot:",i),yield lV(t,i)}var i}),k7.apply(this,arguments)}function lV(t,e,n){return L7.apply(this,arguments)}function L7(){return L7=(0,te.A)(function*(t,e,n){if(!Iy(e))throw e;t.L_.add(1),yield yI(t),t.q_.set("Offline"),n||(n=()=>Qoe(t.localStore)),t.asyncQueue.enqueueRetryable((0,te.A)(function*(){sn("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield SP(t)}))}),L7.apply(this,arguments)}function uae(t,e){return e().catch(n=>lV(t,n,e))}function CI(t){return V7.apply(this,arguments)}function V7(){return V7=(0,te.A)(function*(t){const e=Rn(t),n=Ly(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;HAe(e);)try{const r=yield TAe(e.localStore,i);if(null===r){0===e.O_.length&&n.o_();break}i=r.batchId,UAe(e,r)}catch(r){yield lV(e,r)}dae(e)&&hae(e)}),V7.apply(this,arguments)}function HAe(t){return ky(t)&&t.O_.length<10}function UAe(t,e){t.O_.push(e);const n=Ly(t);n.r_()&&n.V_&&n.m_(e.mutations)}function dae(t){return ky(t)&&!Ly(t).n_()&&t.O_.length>0}function hae(t){Ly(t).start()}function WAe(t){return G7.apply(this,arguments)}function G7(){return G7=(0,te.A)(function*(t){Ly(t).p_()}),G7.apply(this,arguments)}function zAe(t){return B7.apply(this,arguments)}function B7(){return B7=(0,te.A)(function*(t){const e=Ly(t);for(const n of t.O_)e.m_(n.mutations)}),B7.apply(this,arguments)}function jAe(t,e,n){return H7.apply(this,arguments)}function H7(){return H7=(0,te.A)(function*(t,e,n){const i=t.O_.shift(),r=Qj.from(i,e,n);yield uae(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield CI(t)}),H7.apply(this,arguments)}function $Ae(t,e){return U7.apply(this,arguments)}function U7(){return U7=(0,te.A)(function*(t,e){var n;e&&Ly(t).V_&&(yield(n=(0,te.A)(function*(r,s){if(function Yse(t){switch(t){default:return qn();case At.CANCELLED:case At.UNKNOWN:case At.DEADLINE_EXCEEDED:case At.RESOURCE_EXHAUSTED:case At.INTERNAL:case At.UNAVAILABLE:case At.UNAUTHENTICATED:return!1;case At.INVALID_ARGUMENT:case At.NOT_FOUND:case At.ALREADY_EXISTS:case At.PERMISSION_DENIED:case At.FAILED_PRECONDITION:case At.ABORTED:case At.OUT_OF_RANGE:case At.UNIMPLEMENTED:case At.DATA_LOSS:return!0}}(c=s.code)&&c!==At.ABORTED){const o=r.O_.shift();Ly(r).s_(),yield uae(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield CI(r)}var c}),function i(r,s){return n.apply(this,arguments)})(t,e)),dae(t)&&hae(t)}),U7.apply(this,arguments)}function fae(t,e){return W7.apply(this,arguments)}function W7(){return W7=(0,te.A)(function*(t,e){const n=Rn(t);n.asyncQueue.verifyOperationInProgress(),sn("RemoteStore","RemoteStore received new credentials");const i=ky(n);n.L_.add(3),yield yI(n),i&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield SP(n)}),W7.apply(this,arguments)}function j7(){return j7=(0,te.A)(function*(t,e){const n=Rn(t);e?(n.L_.delete(2),yield SP(n)):e||(n.L_.add(2),yield yI(n),n.q_.set("Unknown"))}),j7.apply(this,arguments)}function wI(t){return t.K_||(t.K_=function(n,i,r){const s=Rn(n);return s.w_(),new MAe(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Eo:LAe.bind(null,t),Ro:VAe.bind(null,t),mo:GAe.bind(null,t),d_:BAe.bind(null,t)}),t.B_.push(function(){var e=(0,te.A)(function*(n){n?(t.K_.s_(),M7(t)?P7(t):t.q_.set("Unknown")):(yield t.K_.stop(),cae(t))});return function(n){return e.apply(this,arguments)}}())),t.K_}function Ly(t){return t.U_||(t.U_=function(n,i,r){const s=Rn(n);return s.w_(),new NAe(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:WAe.bind(null,t),mo:$Ae.bind(null,t),f_:zAe.bind(null,t),g_:jAe.bind(null,t)}),t.B_.push(function(){var e=(0,te.A)(function*(n){n?(t.U_.s_(),yield CI(t)):(yield t.U_.stop(),t.O_.length>0&&(sn("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))});return function(n){return e.apply(this,arguments)}}())),t.U_}class $7{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Qa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,c=new $7(e,n,o,r,s);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new on(At.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function EI(t,e){if(ia("AsyncQueue",`${e}: ${t}`),Iy(t))return new on(At.UNAVAILABLE,`${e}: ${t}`);throw t}class SI{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Vn.comparator(n.key,i.key):(n,i)=>Vn.comparator(n.key,i.key),this.keyedMap=aP(),this.sortedSet=new Ts(this.comparator)}static emptySet(e){return new SI(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof SI)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const i=new SI;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class pae{constructor(){this.W_=new Ts(Vn.comparator)}track(e){const n=e.doc.key,i=this.W_.get(n);i?0!==e.type&&3===i.type?this.W_=this.W_.insert(n,e):3===e.type&&1!==i.type?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.W_=this.W_.remove(n):1===e.type&&2===i.type?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):qn():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}}class TI{constructor(e,n,i,r,s,o,c,h,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new TI(e,n,SI.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sP(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}class qAe{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class KAe{constructor(){this.queries=gae(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(n,i){const r=Rn(n),s=r.queries;r.queries=gae(),s.forEach((o,c)=>{for(const h of c.j_)h.onError(i)})}(this,new on(At.ABORTED,"Firestore shutting down"))}}function gae(){return new Sv(t=>xse(t),sP)}function K7(){return K7=(0,te.A)(function*(t,e){const n=Rn(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.H_()&&e.J_()&&(i=2):(s=new qAe,i=e.J_()?0:1);try{switch(i){case 0:s.z_=yield n.onListen(r,!0);break;case 1:s.z_=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(o){const c=EI(o,`Initialization of query '${oI(e.query)}' failed`);return void e.onError(c)}n.queries.set(r,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Q7(n)}),K7.apply(this,arguments)}function X7(){return X7=(0,te.A)(function*(t,e){const n=Rn(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),0===s.j_.length?r=e.J_()?0:1:!s.H_()&&e.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}),X7.apply(this,arguments)}function YAe(t,e){const n=Rn(t);let i=!1;for(const r of e){const o=n.queries.get(r.query);if(o){for(const c of o.j_)c.X_(r)&&(i=!0);o.z_=r}}i&&Q7(n)}function XAe(t,e,n){const i=Rn(t),r=i.queries.get(e);if(r)for(const s of r.j_)s.onError(n);i.queries.delete(e)}function Q7(t){t.Y_.forEach(e=>{e.next()})}var J7,mae;(mae=J7||(J7={})).ea="default",mae.Cache="cache";class Z7{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new TI(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=TI.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==J7.Cache}}class yae{constructor(e){this.key=e}}class bae{constructor(e){this.key=e}}class Cae{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ji(),this.mutatedKeys=Ji(),this.Aa=Mse(e),this.Ra=new SI(this.Aa)}get Va(){return this.Ta}ma(e,n){const i=n?n.fa:new pae,r=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,c=!1;const h="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,p="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((m,y)=>{const I=r.get(m),L=oP(this.query,y)?y:null,U=!!I&&this.mutatedKeys.has(I.key),X=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let Q=!1;I&&L?I.data.isEqual(L.data)?U!==X&&(i.track({type:3,doc:L}),Q=!0):this.ga(I,L)||(i.track({type:2,doc:L}),Q=!0,(h&&this.Aa(L,h)>0||p&&this.Aa(L,p)<0)&&(c=!0)):!I&&L?(i.track({type:0,doc:L}),Q=!0):I&&!L&&(i.track({type:1,doc:I}),Q=!0,(h||p)&&(c=!0)),Q&&(L?(o=o.add(L),s=X?s.add(m):s.delete(m)):(o=o.delete(m),s=s.delete(m)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const m="F"===this.query.limitType?o.last():o.first();o=o.delete(m.key),s=s.delete(m.key),i.track({type:1,doc:m})}return{Ra:o,fa:i,ns:c,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((m,y)=>function(L,U){const X=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qn()}};return X(L)-X(U)}(m.type,y.type)||this.Aa(m.doc,y.doc)),this.pa(i),r=null!=r&&r;const c=n&&!r?this.ya():[],h=0===this.da.size&&this.current&&!r?1:0,p=h!==this.Ea;return this.Ea=h,0!==o.length||p?{snapshot:new TI(this.query,e.Ra,s,o,e.mutatedKeys,0===h,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new pae,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ji(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return e.forEach(i=>{this.da.has(i)||n.push(new bae(i))}),this.da.forEach(i=>{e.has(i)||n.push(new yae(i))}),n}ba(e){this.Ta=e.Ts,this.da=Ji();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return TI.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class ZAe{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class eDe{constructor(e){this.key=e,this.va=!1}}class tDe{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Sv(c=>xse(c),sP),this.Ma=new Map,this.xa=new Set,this.Oa=new Ts(Vn.comparator),this.Na=new Map,this.La=new h7,this.Ba={},this.ka=new Map,this.qa=iE.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function nDe(t,e){return e$.apply(this,arguments)}function e$(){return e$=(0,te.A)(function*(t,e,n=!0){const i=cV(t);let r;const s=i.Fa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=yield wae(i,e,n,!0),r}),e$.apply(this,arguments)}function iDe(t,e){return t$.apply(this,arguments)}function t$(){return t$=(0,te.A)(function*(t,e){const n=cV(t);yield wae(n,e,!0,!1)}),t$.apply(this,arguments)}function wae(t,e,n,i){return n$.apply(this,arguments)}function n$(){return n$=(0,te.A)(function*(t,e,n,i){const r=yield function vI(t,e){const n=Rn(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ur.getTargetData(i,e).next(s=>s?(r=s,ht.resolve(r)):n.Ur.allocateTargetId(i).next(o=>(r=new Iv(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.os.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}(t.localStore,Jl(e)),s=r.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let c;return i&&(c=yield function i$(t,e,n,i,r){return r$.apply(this,arguments)}(t,e,s,"current"===o,r.resumeToken)),t.isPrimaryClient&&n&&aV(t.remoteStore,r),c}),n$.apply(this,arguments)}function r$(){return r$=(0,te.A)(function*(t,e,n,i,r){t.Ka=(y,I,L)=>{return(U=(0,te.A)(function*(Q,pe,Te,Le){let tt=pe.view.ma(Te);tt.ns&&(tt=yield nV(Q.localStore,pe.query,!1).then(({documents:me})=>pe.view.ma(me,tt)));const zt=Le&&Le.targetChanges.get(pe.targetId),Ot=Le&&null!=Le.targetMismatches.get(pe.targetId),Se=pe.view.applyChanges(tt,Q.isPrimaryClient,zt,Ot);return g$(Q,pe.targetId,Se.wa),Se.snapshot}),function X(Q,pe,Te,Le){return U.apply(this,arguments)})(t,y,I,L);var U};const s=yield nV(t.localStore,e,!0),o=new Cae(e,s.Ts),c=o.ma(s.documents),h=fP.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState,r),p=o.applyChanges(c,t.isPrimaryClient,h);g$(t,n,p.wa);const m=new ZAe(e,n,o);return t.Fa.set(e,m),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),p.snapshot}),r$.apply(this,arguments)}function rDe(t,e,n){return s$.apply(this,arguments)}function s$(){return s$=(0,te.A)(function*(t,e,n){const i=Rn(t),r=i.Fa.get(e),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!sP(o,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield _I(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&bI(i.remoteStore,r.targetId),II(i,r.targetId)}).catch(Ty))):(II(i,r.targetId),yield _I(i.localStore,r.targetId,!0))}),s$.apply(this,arguments)}function sDe(t,e){return o$.apply(this,arguments)}function o$(){return o$=(0,te.A)(function*(t,e){const n=Rn(t),i=n.Fa.get(e),r=n.Ma.get(i.targetId);n.isPrimaryClient&&1===r.length&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),bI(n.remoteStore,i.targetId))}),o$.apply(this,arguments)}function a$(){return a$=(0,te.A)(function*(t,e,n){const i=function I$(t){const e=Rn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lDe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cDe.bind(null,e),e}(t);try{const r=yield function(o,c){const h=Rn(o),p=Us.now(),m=c.reduce((L,U)=>L.add(U.key),Ji());let y,I;return h.persistence.runTransaction("Locally write mutations","readwrite",L=>{let U=Pu(),X=Ji();return h.cs.getEntries(L,m).next(Q=>{U=Q,U.forEach((pe,Te)=>{Te.isValidDocument()||(X=X.add(pe))})}).next(()=>h.localDocuments.getOverlayedDocuments(L,U)).next(Q=>{y=Q;const pe=[];for(const Te of c){const Le=MIe(Te,y.get(Te.key).overlayedDocument);null!=Le&&pe.push(new Tv(Te.key,Le,pse(Le.value.mapValue),uo.exists(!0)))}return h.mutationQueue.addMutationBatch(L,p,pe,c)}).next(Q=>{I=Q;const pe=Q.applyToLocalDocumentSet(y,X);return h.documentOverlayCache.saveOverlays(L,Q.batchId,pe)})}).then(()=>({batchId:I.batchId,changes:Ose(y)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,h){let p=o.Ba[o.currentUser.toKey()];p||(p=new Ts(Li)),p=p.insert(c,h),o.Ba[o.currentUser.toKey()]=p}(i,r.batchId,n),yield Av(i,r.changes),yield CI(i.remoteStore)}catch(r){const s=EI(r,"Failed to persist write");n.reject(s)}}),a$.apply(this,arguments)}function Eae(t,e){return l$.apply(this,arguments)}function l$(){return l$=(0,te.A)(function*(t,e){const n=Rn(t);try{const i=yield function SAe(t,e){const n=Rn(t),i=e.snapshotVersion;let r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;const c=[];e.targetChanges.forEach((m,y)=>{const I=r.get(y);if(!I)return;c.push(n.Ur.removeMatchingKeys(s,m.removedDocuments,y).next(()=>n.Ur.addMatchingKeys(s,m.addedDocuments,y)));let L=I.withSequenceNumber(s.currentSequenceNumber);var X,Q,pe;null!==e.targetMismatches.get(y)?L=L.withResumeToken(Uo.EMPTY_BYTE_STRING,si.min()).withLastLimboFreeSnapshotVersion(si.min()):m.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(m.resumeToken,i)),r=r.insert(y,L),Q=L,pe=m,(0===(X=I).resumeToken.approximateByteSize()||Q.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=3e8||pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0)&&c.push(n.Ur.updateTargetData(s,L))});let h=Pu(),p=Ji();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))}),c.push(function Joe(t,e,n){let i=Ji(),r=Ji();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=Pu();return n.forEach((c,h)=>{const p=s.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(r=r.add(c)),h.isNoDocument()&&h.version.isEqual(si.min())?(e.removeEntry(c,h.readTime),o=o.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||0===h.version.compareTo(p.version)&&p.hasPendingWrites?(e.addEntry(h),o=o.insert(c,h)):sn("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),{Ps:o,Is:r}})}(s,o,e.documentUpdates).next(m=>{h=m.Ps,p=m.Is})),!i.isEqual(si.min())){const m=n.Ur.getLastRemoteSnapshotVersion(s).next(y=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(m)}return ht.waitFor(c).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,h,p)).next(()=>h)}).then(s=>(n.os=r,s))}(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.Na.get(s);o&&(Xn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?Xn(o.va):r.removedDocuments.size>0&&(Xn(o.va),o.va=!1))}),yield Av(n,i,e)}catch(i){yield Ty(i)}}),l$.apply(this,arguments)}function Sae(t,e,n){const i=Rn(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const r=[];i.Fa.forEach((s,o)=>{const c=o.view.Z_(e);c.snapshot&&r.push(c.snapshot)}),function(o,c){const h=Rn(o);h.onlineState=c;let p=!1;h.queries.forEach((m,y)=>{for(const I of y.j_)I.Z_(c)&&(p=!0)}),p&&Q7(h)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function aDe(t,e,n){return c$.apply(this,arguments)}function c$(){return c$=(0,te.A)(function*(t,e,n){const i=Rn(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Na.get(e),s=r&&r.key;if(s){let o=new Ts(Vn.comparator);o=o.insert(s,Ws.newNoDocument(s,si.min()));const c=Ji().add(s),h=new hP(si.min(),new Map,new Ts(Li),o,c);yield Eae(i,h),i.Oa=i.Oa.remove(s),i.Na.delete(e),m$(i)}else yield _I(i.localStore,e,!1).then(()=>II(i,e,n)).catch(Ty)}),c$.apply(this,arguments)}function lDe(t,e){return u$.apply(this,arguments)}function u$(){return u$=(0,te.A)(function*(t,e){const n=Rn(t),i=e.batch.batchId;try{const r=yield function EAe(t,e){const n=Rn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,h,p,m){const y=p.batch,I=y.keys();let L=ht.resolve();return I.forEach(U=>{L=L.next(()=>m.getEntry(h,U)).next(X=>{const Q=p.docVersions.get(U);Xn(null!==Q),X.version.compareTo(Q)<0&&(y.applyToRemoteDocument(X,p),X.isValidDocument()&&(X.setReadTime(p.commitVersion),m.addEntry(X)))})}),L.next(()=>c.mutationQueue.removeMutationBatch(h,y))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=Ji();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}(n.localStore,e);p$(n,i,null),f$(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield Av(n,r)}catch(r){yield Ty(r)}}),u$.apply(this,arguments)}function cDe(t,e,n){return d$.apply(this,arguments)}function d$(){return d$=(0,te.A)(function*(t,e,n){const i=Rn(t);try{const r=yield function(o,c){const h=Rn(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return h.mutationQueue.lookupMutationBatch(p,c).next(y=>(Xn(null!==y),m=y.keys(),h.mutationQueue.removeMutationBatch(p,y))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,m,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>h.localDocuments.getDocuments(p,m))})}(i.localStore,e);p$(i,e,n),f$(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield Av(i,r)}catch(r){yield Ty(r)}}),d$.apply(this,arguments)}function f$(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function p$(t,e,n){const i=Rn(t);let r=i.Ba[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function II(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(i=>{t.La.containsKey(i)||Tae(t,i)})}function Tae(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);null!==n&&(bI(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),m$(t))}function g$(t,e,n){for(const i of n)i instanceof yae?(t.La.addReference(i.key,e),dDe(t,i)):i instanceof bae?(sn("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||Tae(t,i.key)):qn()}function dDe(t,e){const n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(sn("SyncEngine","New document in limbo: "+n),t.xa.add(i),m$(t))}function m$(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Vn(yr.fromString(e)),i=t.qa.next();t.Na.set(i,new eDe(n)),t.Oa=t.Oa.insert(n,i),aV(t.remoteStore,new Iv(Jl(rI(n.path)),i,"TargetPurposeLimboResolution",md.oe))}}function Av(t,e,n){return v$.apply(this,arguments)}function v$(){return v$=(0,te.A)(function*(t,e,n){const i=Rn(t),r=[],s=[],o=[];var c;i.Fa.isEmpty()||(i.Fa.forEach((c,h)=>{o.push(i.Ka(h,e,n).then(p=>{var m;if((p||n)&&i.isPrimaryClient){const y=p?!p.fromCache:null===(m=n?.targetChanges.get(h.targetId))||void 0===m?void 0:m.current;i.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(p){r.push(p);const y=v7.Wi(h.targetId,p);s.push(y)}}))}),yield Promise.all(o),i.Ca.d_(r),yield(c=(0,te.A)(function*(p,m){const y=Rn(p);try{yield y.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>ht.forEach(m,L=>ht.forEach(L.$i,U=>y.persistence.referenceDelegate.addReference(I,L.targetId,U)).next(()=>ht.forEach(L.Ui,U=>y.persistence.referenceDelegate.removeReference(I,L.targetId,U)))))}catch(I){if(!Iy(I))throw I;sn("LocalStore","Failed to update sequence numbers: "+I)}for(const I of m){const L=I.targetId;if(!I.fromCache){const U=y.os.get(L),Q=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);y.os=y.os.insert(L,Q)}}}),function h(p,m){return c.apply(this,arguments)})(i.localStore,s))}),v$.apply(this,arguments)}function hDe(t,e){return _$.apply(this,arguments)}function _$(){return _$=(0,te.A)(function*(t,e){const n=Rn(t);if(!n.currentUser.isEqual(e)){sn("SyncEngine","User change. New user:",e.toKey());const i=yield Xoe(n.localStore,e);n.currentUser=e,(s=n).ka.forEach(c=>{c.forEach(h=>{h.reject(new on(At.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ka.clear(),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Av(n,i.hs)}var s}),_$.apply(this,arguments)}function fDe(t,e){const n=Rn(t),i=n.Na.get(e);if(i&&i.va)return Ji().add(i.key);{let r=Ji();const s=n.Ma.get(e);if(!s)return r;for(const o of s){const c=n.Fa.get(o);r=r.unionWith(c.view.Va)}return r}}function cV(t){const e=Rn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Eae.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fDe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aDe.bind(null,e),e.Ca.d_=YAe.bind(null,e.eventManager),e.Ca.$a=XAe.bind(null,e.eventManager),e}let AI=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){var i=this;return(0,te.A)(function*(){i.serializer=EP(n.databaseInfo.databaseId),i.sharedClientState=i.Wa(n),i.persistence=i.Ga(n),yield i.persistence.start(),i.localStore=i.za(n),i.gcScheduler=i.ja(n,i.localStore),i.indexBackfillerScheduler=i.Ha(n,i.localStore)})()}ja(n,i){return null}Ha(n,i){return null}za(n){return function Yoe(t,e,n,i){return new wAe(t,e,n,i)}(this.persistence,new Koe,n.initialUser,this.serializer)}Ga(n){return new f7(ZL.Zr,this.serializer)}Wa(n){return new rae}terminate(){var n=this;return(0,te.A)(function*(){var i,r;null===(i=n.gcScheduler)||void 0===i||i.stop(),null===(r=n.indexBackfillerScheduler)||void 0===r||r.stop(),n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}return t.provider={build:()=>new t},t})(),DI=(()=>{class t{initialize(n,i){var r=this;return(0,te.A)(function*(){r.localStore||(r.localStore=n.localStore,r.sharedClientState=n.sharedClientState,r.datastore=r.createDatastore(i),r.remoteStore=r.createRemoteStore(i),r.eventManager=r.createEventManager(i),r.syncEngine=r.createSyncEngine(i,!n.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>Sae(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=hDe.bind(null,r.syncEngine),yield function z7(t,e){return j7.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(n){return new KAe}createDatastore(n){const i=EP(n.databaseInfo.databaseId),r=new PAe(n.databaseInfo);return new OAe(n.authCredentials,n.appCheckCredentials,r,i)}createRemoteStore(n){return r=this.localStore,s=this.datastore,o=n.asyncQueue,c=i=>Sae(this.syncEngine,i,0),h=sae.D()?new sae:new DAe,new kAe(r,s,o,c,h);var r,s,o,c,h}createSyncEngine(n,i){return function(s,o,c,h,p,m,y){const I=new tDe(s,o,c,h,p,m);return y&&(I.Qa=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,i)}terminate(){var n=this;return(0,te.A)(function*(){var i,r,s;yield(s=(0,te.A)(function*(c){const h=Rn(c);sn("RemoteStore","RemoteStore shutting down."),h.L_.add(5),yield yI(h),h.k_.shutdown(),h.q_.set("Unknown")}),function o(c){return s.apply(this,arguments)})(n.remoteStore),null===(i=n.datastore)||void 0===i||i.terminate(),null===(r=n.eventManager)||void 0===r||r.terminate()})()}}return t.provider={build:()=>new t},t})();class uV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ia("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}class IDe{constructor(e,n,i,r,s){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Xa.UNAUTHENTICATED,this.clientId=Bre.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,function(){var c=(0,te.A)(function*(h){sn("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(sn("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Qa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,te.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(i){const r=EI(i,"Failed to shutdown persistence");n.reject(r)}})),n.promise}}function D$(t,e){return R$.apply(this,arguments)}function R$(){return R$=(0,te.A)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),sn("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(function(){var r=(0,te.A)(function*(s){i.isEqual(s)||(yield Xoe(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),R$.apply(this,arguments)}function xae(t,e){return x$.apply(this,arguments)}function x$(){return x$=(0,te.A)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function P$(t){return M$.apply(this,arguments)}(t);sn("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>fae(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>fae(e.remoteStore,r)),t._onlineComponents=e}),x$.apply(this,arguments)}function M$(){return M$=(0,te.A)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){sn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield D$(t,t._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(r=e).name?r.code===At.FAILED_PRECONDITION||r.code===At.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code))throw e;vh("Error using user provided cache. Falling back to memory cache: "+e),yield D$(t,new AI)}}else sn("FirestoreClient","Using default OfflineComponentProvider"),yield D$(t,new AI);var r;return t._offlineComponents}),M$.apply(this,arguments)}function dV(t){return N$.apply(this,arguments)}function N$(){return N$=(0,te.A)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(sn("FirestoreClient","Using user provided OnlineComponentProvider"),yield xae(t,t._uninitializedComponentsProvider._online)):(sn("FirestoreClient","Using default OnlineComponentProvider"),yield xae(t,new DI))),t._onlineComponents}),N$.apply(this,arguments)}function F$(){return F$=(0,te.A)(function*(t){const e=yield dV(t),n=e.eventManager;return n.onListen=nDe.bind(null,e.syncEngine),n.onUnlisten=rDe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iDe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sDe.bind(null,e.syncEngine),n}),F$.apply(this,arguments)}function Fae(t,e,n={}){const i=new Qa;return t.asyncQueue.enqueueAndForget((0,te.A)(function*(){return function(s,o,c,h,p){const m=new uV({next:I=>{m.Za(),o.enqueueAndForget(()=>function Y7(t,e){return X7.apply(this,arguments)}(s,y)),I.fromCache&&"server"===h.source?p.reject(new on(At.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(I)},error:I=>p.reject(I)}),y=new Z7(c,m,{includeMetadataChanges:!0,_a:!0});return function q7(t,e){return K7.apply(this,arguments)}(s,y)}(yield function xI(t){return F$.apply(this,arguments)}(t),t.asyncQueue,e,n,i)})),i.promise}function kae(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Lae=new Map;function k$(t,e,n){if(!n)throw new on(At.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Vae(t){if(!Vn.isDocumentKey(t))throw new on(At.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Gae(t){if(Vn.isDocumentKey(t))throw new on(At.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hV(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(i=t).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof t?"a function":qn()}function mr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new on(At.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hV(t);throw new on(At.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class Hae{constructor(e){var n,i;if(void 0===e.host){if(void 0!==e.ssl)throw new on(At.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new on(At.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function VDe(t,e,n,i){if(!0===e&&!0===i)throw new on(At.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=kae(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new on(At.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new on(At.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new on(At.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class TP{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hae({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new on(At.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new on(At.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hae(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new PTe;switch(i.type){case"firstParty":return new FTe(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new on(At.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,te.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Lae.get(n);i&&(sn("ComponentProvider","Removing Datastore"),Lae.delete(n),i.terminate())}(this),Promise.resolve()}}class Sl{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Sl(this.firestore,e,this._query)}}class sa{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sa(this.firestore,e,this._key)}}class dg extends Sl{constructor(e,n,i){super(e,n,rI(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sa(this.firestore,null,new Vn(e))}withConverter(e){return new dg(this.firestore,e,this._path)}}function BDe(t,e,...n){if(t=Mr(t),k$("collection","path",e),t instanceof TP){const i=yr.fromString(e,...n);return Gae(i),new dg(t,null,i)}{if(!(t instanceof sa||t instanceof dg))throw new on(At.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(yr.fromString(e,...n));return Gae(i),new dg(t.firestore,null,i)}}function Uae(t,e,...n){if(t=Mr(t),1===arguments.length&&(e=Bre.newId()),k$("doc","path",e),t instanceof TP){const i=yr.fromString(e,...n);return Vae(i),new sa(t,null,new Vn(i))}{if(!(t instanceof sa||t instanceof dg))throw new on(At.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(yr.fromString(e,...n));return Vae(i),new sa(t.firestore,t instanceof dg?t.converter:null,new Vn(i))}}class zae{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new A7(this,"async_queue_retry"),this.Vu=()=>{const i=oV();i&&sn("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=oV();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=oV();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Qa;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,te.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(n){if(!Iy(n))throw n;sn("AsyncQueue","Operation failed with retryable error: "+n)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(i=>{throw this.Eu=i,this.du=!1,ia("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(i)),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const r=$7.createAndSchedule(this,e,n,i,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&qn()}verifyOperationInProgress(){}wu(){var e=this;return(0,te.A)(function*(){let n;do{n=e.mu,yield n}while(n!==e.mu)})()}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class _s extends TP{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new zae,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,te.A)(function*(){if(e._firestoreClient){const n=e._firestoreClient.terminate();e._queue=new zae(n),e._firestoreClient=void 0,yield n}})()}}function UDe(t,e){const i="string"==typeof t?t:e||"(default)",r=Iu("object"==typeof t?t:ng(),"firestore").getImmediate({identifier:i});if(!r._initialized){const s=Zx("firestore");s&&function GDe(t,e,n,i={}){var r;const s=(t=mr(t,TP))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&vh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let c,h;if("string"==typeof i.mockUserToken)c=i.mockUserToken,h=Xa.MOCK_USER;else{c=Mk(i.mockUserToken,null===(r=t._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new on(At.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Xa(p)}t._authCredentials=new MTe(new Vre(c,h))}}(r,...s)}return r}function Mo(t){if(t._terminated)throw new on(At.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||function jae(t){var e,n,i;const r=t._freezeSettings(),s=(h=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new dIe(t._databaseId,h,t._persistenceKey,(m=r).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,kae(m.experimentalLongPollingOptions),m.useFetchStreams));var h,m;t._componentsProvider||!(null===(n=r.localCache)||void 0===n)&&n._offlineComponentProvider&&!(null===(i=r.localCache)||void 0===i)&&i._onlineComponentProvider&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new IDe(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){const h=c?._online.build();return{_offline:c?._offline.build(h),_online:h}}(t._componentsProvider))}(t),t._firestoreClient}class sE{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sE(Uo.fromBase64String(e))}catch(n){throw new on(At.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new sE(Uo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class oE{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new on(At.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class PI{constructor(e){this._methodName=e}}class G${constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new on(At.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new on(At.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Li(this._lat,e._lat)||Li(this._long,e._long)}}class fV{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}}const zDe=/^__.*__$/;class jDe{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return null!==this.fieldMask?new Tv(e,this.data,this.fieldMask,n,this.fieldTransforms):new cI(e,this.data,n,this.fieldTransforms)}}class qae{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Tv(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Kae(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qn()}}class pV{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new pV(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const i=null===(n=this.path)||void 0===n?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var n;const i=null===(n=this.path)||void 0===n?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return vV(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Kae(this.Cu)&&zDe.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class $De{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||EP(e)}Qu(e,n,i,r=!1){return new pV({Cu:e,methodName:n,qu:i,path:lo.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aE(t){const e=t._freezeSettings(),n=EP(t._databaseId);return new $De(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gV(t,e,n,i,r,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,r);$$("Data must be an object, but it was:",o,i);const c=Qae(i,o);let h,p;if(s.merge)h=new xu(o.fieldMask),p=o.fieldTransforms;else if(s.mergeFields){const m=[];for(const y of s.mergeFields){const I=DP(e,y,n);if(!o.contains(I))throw new on(At.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);Zae(m,I)||m.push(I)}h=new xu(m),p=o.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,p=o.fieldTransforms;return new jDe(new El(c),h,p)}class AP extends PI{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof AP}}function lE(t,e){if(Jae(t=Mr(t)))return $$("Unsupported field value:",e,t),Qae(t,e);if(t instanceof PI)return function(i,r){if(!Kae(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const c of i){let h=lE(c,r.Lu(o));null==h&&(h={nullValue:"NULL_VALUE"}),s.push(h),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if(null===(i=Mr(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return Lse(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const s=Us.fromDate(i);return{timestampValue:dI(r.serializer,s)}}if(i instanceof Us){const s=new Us(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:dI(r.serializer,s)}}if(i instanceof G$)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof sE)return{bytesValue:soe(r.serializer,i._byteString)};if(i instanceof sa){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:t7(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof fV)return c=r,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:i.toArray().map(h=>{if("number"!=typeof h)throw c.Bu("VectorValues must only contain numeric values.");return Kj(c.serializer,h)})}}}}};var c;throw r.Bu(`Unsupported field value: ${hV(i)}`)}(t,e)}function Qae(t,e){const n={};return ise(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ay(t,(i,r)=>{const s=lE(r,e.Mu(i));null!=s&&(n[i]=s)}),{mapValue:{fields:n}}}function Jae(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Us||t instanceof G$||t instanceof sE||t instanceof sa||t instanceof PI||t instanceof fV)}function $$(t,e,n){if(!Jae(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=hV(n);throw e.Bu("an object"===i?t+" a custom object":t+" "+i)}var r}function DP(t,e,n){if((e=Mr(e))instanceof oE)return e._internalPath;if("string"==typeof e)return mV(t,e);throw vV("Field path arguments must be of type string or ",t,!1,void 0,n)}const qDe=new RegExp("[~\\*/\\[\\]]");function mV(t,e,n){if(e.search(qDe)>=0)throw vV(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new oE(...e.split("."))._internalPath}catch{throw vV(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vV(t,e,n,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(s||o)&&(h+=" (found",s&&(h+=` in field ${i}`),o&&(h+=` in document ${r}`),h+=")"),new on(At.INVALID_ARGUMENT,c+t+h)}function Zae(t,e){return t.some(n=>n.isEqual(e))}class RP{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new sa(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new KDe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_V("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class KDe extends RP{data(){return super.data()}}function _V(t,e){return"string"==typeof e?mV(t,e):e instanceof oE?e._internalPath:e._delegate._internalPath}class ole{convertValue(e,n="none"){switch(Ry(e)){case 0:return null;case 1:return e.booleanValue;case 2:return co(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw qn()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ay(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var n,i,r;const s=null===(r=null===(i=null===(n=e.fields)||void 0===n?void 0:n.value.arrayValue)||void 0===i?void 0:i.values)||void 0===r?void 0:r.map(o=>co(o.doubleValue));return new fV(s)}convertGeoPoint(e){return new G$(co(e.latitude),co(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=ML(e);return null==i?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Z1(e));default:return null}}convertTimestamp(e){const n=Cv(e);return new Us(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=yr.fromString(e);Xn(voe(i));const r=new qw(i.get(1),i.get(3)),s=new Vn(i.popFirst(5));return r.isEqual(n)||ia(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class cE{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class NI extends RP{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new EV(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(_V("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class EV extends NI{data(e={}){return super.data(e)}}class OI{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new cE(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new EV(this._firestore,this._userDataWriter,i.key,i,new cE(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new on(At.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new EV(r._firestore,r._userDataWriter,c.doc.key,c.doc,new cE(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||3!==c.type).map(c=>{const h=new EV(r._firestore,r._userDataWriter,c.doc.key,c.doc,new cE(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let p=-1,m=-1;return 0!==c.type&&(p=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),m=o.indexOf(c.doc.key)),{type:QDe(c.type),doc:h,oldIndex:p,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function QDe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qn()}}class Vy extends ole{constructor(e){super(),this.firestore=e}convertBytes(e){return new sE(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sa(this.firestore,null,n)}}function JDe(t){t=mr(t,Sl);const e=mr(t.firestore,_s),n=Mo(e),i=new Vy(e);return function ele(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new on(At.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),Fae(n,t._query).then(r=>new OI(e,i,t,r))}function ZDe(t,e,n,...i){t=mr(t,sa);const r=mr(t.firestore,_s),s=aE(r);let o;return o="string"==typeof(e=Mr(e))||e instanceof oE?function j$(t,e,n,i,r,s){const o=t.Qu(1,e,n),c=[DP(e,i,n)],h=[r];if(s.length%2!=0)throw new on(At.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<s.length;I+=2)c.push(DP(e,s[I])),h.push(s[I+1]);const p=[],m=El.empty();for(let I=c.length-1;I>=0;--I)if(!Zae(p,c[I])){const L=c[I];let U=h[I];U=Mr(U);const X=o.Nu(L);if(U instanceof AP)p.push(L);else{const Q=lE(U,X);null!=Q&&(p.push(L),m.set(L,Q))}}const y=new xu(p);return new qae(m,y,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,i):function z$(t,e,n,i){const r=t.Qu(1,e,n);$$("Data must be an object, but it was:",r,i);const s=[],o=El.empty();Ay(i,(h,p)=>{const m=mV(e,h,n);p=Mr(p);const y=r.Nu(m);if(p instanceof AP)s.push(m);else{const I=lE(p,y);null!=I&&(s.push(m),o.set(m,I))}});const c=new xu(s);return new qae(o,c,r.fieldTransforms)}(s,"updateDoc",t._key,e),MP(r,[o.toMutation(t._key,uo.exists(!0))])}function eRe(t){return MP(mr(t.firestore,_s),[new uI(t._key,uo.none())])}function tRe(t,e){const n=mr(t.firestore,_s),i=Uae(t),r=function wV(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}(t.converter,e);return MP(n,[gV(aE(t.firestore),"addDoc",i._key,r,null!==t.converter,{}).toMutation(i._key,uo.exists(!1))]).then(()=>i)}function MP(t,e){return function(i,r){const s=new Qa;return i.asyncQueue.enqueueAndForget((0,te.A)(function*(){return function oDe(t,e,n){return a$.apply(this,arguments)}(yield function O$(t){return dV(t).then(e=>e.syncEngine)}(i),r,s)})),s.promise}(Mo(t),e)}!function(e,n=!0){XT=sv,Cl(new fa("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),c=new _s(new NTe(i.getProvider("auth-internal")),new kTe(i.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new on(At.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qw(p.options.projectId,m)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),tr(Lre,"4.7.3",e),tr(Lre,"4.7.3","esm2017")}();class FI{constructor(e){return e}}const Q$=new d.nKC("angularfire2.firestore-instances");function mRe(t){return(e,n)=>{const i=e.runOutsideAngular(()=>t(n));return new FI(i)}}const vRe={provide:class pRe{constructor(){return Tf("firestore")}},deps:[[new d.Xx1,Q$]]},_Re={provide:FI,useFactory:function gRe(t,e){const n=ig("firestore",t,e);return n&&new FI(n)},deps:[[new d.Xx1,Q$],fd]},J$=Po(tRe,!0),NP=Po(BDe,!0),bRe=Po(eRe,!0),dle=Po(Uae,!0),Z$=Po(JDe,!0),CRe=Po(UDe,!0),wRe=Po(ZDe,!0);let TV=(()=>{class t{getClientViewValue(n){const i=this.clients.find(r=>r.value===n);return i?i.viewValue:"Client Name"}constructor(){this.clients=[{value:"yummy",viewValue:"Yummy Bakery and Sweets"},{value:"technozone",viewValue:"Techno Zone"}]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),hle=(()=>{class t{constructor(){this.fireStore=(0,d.WQX)(FI),this.auth=(0,d.WQX)(yv),this.currUserName="",this.currentTimestamp=Us.now(),this.clientService=(0,d.WQX)(TV)}get(){var n=this;return(0,te.A)(function*(){try{return(yield Z$(NP(n.fireStore,"invoices"))).docs.map(r=>{const s=r.data();return{id:r.id,clientName:s.clientName,billingPeriod:s.billingPeriod,total:s.total,setteled:s.setteled}})}catch(i){return console.error("Error getting documents: ",i),[]}})()}save(n){var i=this;return(0,te.A)(function*(){try{for(const r of n)if(r.id){const s=dle(i.fireStore,"invoices",r.id);yield wRe(s,{clientName:r.clientName,billingPeriod:r.billingPeriod,total:r.total,setteled:r.setteled})}}catch(r){console.error("Error updating invoices:",r)}})()}create(n){var i=this;return(0,te.A)(function*(){try{const r=NP(i.fireStore,"invoices"),s=n.map(o=>{J$(r,{clientName:i.clientService.getClientViewValue(o.clientName),billingPeriod:o.billingPeriod,total:o.total,setteled:o.setteled})});yield Promise.all(s)}catch(r){console.error("Error updating invoices:",r)}})()}extractNameFromEmail(n){const i=n.split("@")[0];return i.charAt(0).toUpperCase()+i.slice(1)}setCurrentUser(){const n=this.auth.currentUser;n?this.currUserName=this.extractNameFromEmail(n.email):console.error("No user logged in!")}import(){var n=this;return(0,te.A)(function*(){const i=NP(n.fireStore,"invoices"),s=(yield Z$(i)).docs.map(p=>bRe(dle(n.fireStore,"invoices",p.id)));if(yield Promise.all(s),console.log("Existing invoices deleted."),n.setCurrentUser(),!n.currUserName)return void console.error("No user logged in!");const c=[{clientName:"Techno Zone",billingPeriod:"October 2024",total:2257.55,setteled:!0,createdBy:n.currUserName,createdAt:n.currentTimestamp,modifiedBy:n.currUserName,modifiedAt:n.currentTimestamp,details:[{serviceType:"Advertise Create (2nd Hand Laptop)",price:499,discount:100},{serviceType:"Advertise Create (HP Laptop)",price:499,discount:100},{serviceType:"Advertise Create (Pooja Dhamaka)",price:499,discount:0},{serviceType:"Ad Campaign (FB/ Instagram)",price:1758.55,discount:0}]},{clientName:"Yummy Bakery and Sweets",billingPeriod:"19 Aug 2024 - 19 Sept 2024",total:3e3,setteled:!0,createdBy:n.currUserName,createdAt:n.currentTimestamp,modifiedBy:n.currUserName,modifiedAt:n.currentTimestamp,details:[{serviceType:"Social Media Handling",price:3e3,discount:0}]},{clientName:"Yummy Bakery and Sweets",billingPeriod:"19 June 2024 - 19 August 2024",total:2333.63,setteled:!0,createdBy:n.currUserName,createdAt:n.currentTimestamp,modifiedBy:n.currUserName,modifiedAt:n.currentTimestamp,details:[{serviceType:"Monthly Social Media Management (Jun 19 - Jul 19)",price:3e3,discount:100},{serviceType:"Monthly Social Media Management (Jul 19 - Aug 19)",price:3e3,discount:50},{serviceType:"Instagram Campaign 1",price:415.92,discount:0},{serviceType:"Instagram Campaign 2",price:417.71,discount:0}]},{clientName:"Yummy Bakery and Sweets",billingPeriod:"20 Sept 2024 - 19 Oct 2024",total:3e3,setteled:!0,createdBy:n.currUserName,createdAt:n.currentTimestamp,modifiedBy:n.currUserName,modifiedAt:n.currentTimestamp,details:[{serviceType:"Social Media Handling",price:3e3,discount:0}]},{clientName:"Techno Zone",billingPeriod:"Jan-2025",total:2032,setteled:!1,createdBy:n.currUserName,createdAt:n.currentTimestamp,modifiedBy:n.currUserName,modifiedAt:n.currentTimestamp,details:[{serviceType:"Domain Renew 1yr",price:883,discount:0},{serviceType:"Website Renew 1yr",price:3e3,discount:85},{serviceType:"Social Media Handle",price:699,discount:0},{serviceType:"Renew Handle Fee",price:1499,discount:100}]},{clientName:"Yummy Bakery and Sweets",billingPeriod:"20 Oct 2024 - 19 Nov 2024",total:3e3,setteled:!0,createdBy:n.currUserName,createdAt:n.currentTimestamp,modifiedBy:n.currUserName,modifiedAt:n.currentTimestamp,details:[{serviceType:"Social Media Handling",price:3e3,discount:0}]}].map(function(){var p=(0,te.A)(function*(m){const y={clientName:m.clientName,billingPeriod:m.billingPeriod,total:m.total,setteled:m.setteled,createdBy:m.createdBy,createdAt:m.createdAt,modifiedBy:m.modifiedBy,modifiedAt:m.modifiedAt};return{id:(yield J$(i,y)).id,details:m.details}});return function(m){return p.apply(this,arguments)}}()),h=yield Promise.all(c);h.forEach(p=>{n.addInvoiceDetails(p.id,p.details)}),console.log("Invoices and details imported successfully:",h)})()}addInvoiceDetails(n,i){var r=this;return(0,te.A)(function*(){const s=NP(r.fireStore,"invoiceDetails");if(r.setCurrentUser(),!r.currUserName)return void console.error("No user logged in!");const o=i.map(c=>J$(s,{invoiceId:n,serviceType:c.serviceType,price:c.price,discount:c.discount,createdBy:r.currUserName,modifiedBy:r.currUserName,createdAt:r.currentTimestamp,modifiedAt:r.currentTimestamp}));yield Promise.all(o),console.log(`Invoice details added for invoice ID: ${n}`)})()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const ERe=["*"],IRe=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],ARe=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],DRe=new d.nKC("MAT_CARD_CONFIG");let OP=(()=>{class t{constructor(n){this.appearance=n?.appearance||"raised"}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(DRe,8))}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&d.AVh("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[d.aNF],ngContentSelectors:ERe,decls:1,vars:0,template:function(i,r){1&i&&(d.NAR(),d.SdG(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return t})(),fle=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=d.FsC({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}}return t})(),FP=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=d.FsC({type:t,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}}return t})(),kP=(()=>{class t{constructor(){this.align="start"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=d.FsC({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(i,r){2&i&&d.AVh("mat-mdc-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0})}}return t})(),ple=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[d.aNF],ngContentSelectors:ARe,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){1&i&&(d.NAR(IRe),d.SdG(0),d.j41(1,"div",0),d.SdG(2,1),d.k0s(),d.SdG(3,2))},encapsulation:2,changeDetection:0})}}return t})(),IV=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({imports:[ao,Va,ao]})}}return t})();var PRe=Kt(9107),MRe=Kt(4941),NRe=Kt.n(MRe);let ORe=(()=>{class t{generateCustomPDF(n){const i=new PRe.default,s=new Image;s.src="assets/images/logo.png",i.addImage(s,"PNG",10,10,10,10),i.text(this.companyName,23,15),i.setFontSize(20),i.text("INVOICE",80,20),i.setFontSize(12),this.generateInvoiceNumber(),this.formatDateForDisplay(),i.text(`Invoice Number: MS-${this.formattedDateForInvoice}`,this.getXPosition(i,`Invoice Number: MS-${this.formattedDateForInvoice}`,"R"),40),i.text(`Date: ${this.formattedDateForDisplay}`,this.getXPosition(i,`Date: ${this.formattedDateForDisplay}`,"R"),50),i.setFontSize(12),i.text(`Client Name: ${this.clientsService.getClientViewValue(n.clientName)}`,10,40),i.text(`Billing Period: ${n.billingPeriod}`,10,50),NRe()(i,{head:[["Service","Price","Discount %","Final Price"]],body:n.services.map(U=>[U.service||"",U.price||"0",this.handleDiscount(U.discount),`${U.finalPrice||"0"}`]),startY:70});const L=i.lastAutoTable.finalY||90;i.text(`Total: ${n.total}`,this.getXPosition(i,`Total: ${n.total}`,"R")-5,L+10),i.text(`Contact: ${this.contact}`,10,L+20),i.text(`Website: ${this.websiteUrl}`,10,L+30),i.save(`invoice-${n.invoiceNumber}.pdf`)}calculateFinalPrice(n,i){return+(n-n*i/100).toFixed(2)}generateInvoiceNumber(){this.formattedDateForInvoice=this.datePipe.transform(this.todayDate,"ddMMyyyyhhmmss"),this.invoiceNumber="MS-"+this.formattedDateForInvoice}formatDateForDisplay(){this.formattedDateForDisplay=this.datePipe.transform(this.todayDate,"dd-MM-yyyy")}getXPosition(n,i,r){const s=n.internal.pageSize.width,o=n.getTextWidth(i);switch(r){case"L":default:return 10;case"C":return(s-o)/2;case"R":return s-o-10}}constructor(n,i){this.datePipe=n,this.clientsService=i,this.websiteUrl="mosahar.com",this.contact="mosahar.boudh@gmail.com",this.companyName="moSahar",this.todayDate=new Date,this.formattedDateForDisplay="",this.formattedDateForInvoice="",this.invoiceNumber=""}handleDiscount(n){return 100===n?"FREE":null===n||0===n?"":"number"==typeof n?`${n}%`:""}static{this.\u0275fac=function(i){return new(i||t)(d.KVO(Cs),d.KVO(TV))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function FRe(t,e){if(1&t&&(d.j41(0,"mat-option",6),d.EFF(1),d.k0s()),2&t){const n=e.$implicit;d.Y8G("value",n.value),d.R7$(),d.JRh(n.viewValue)}}function kRe(t,e){1&t&&(d.j41(0,"th",25),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&t&&(d.R7$(),d.JRh(d.bMT(2,1,"FORM.SERVICE")))}function LRe(t,e){1&t&&(d.j41(0,"td",26),d.nrm(1,"input",27),d.nI1(2,"translate"),d.k0s()),2&t&&(d.Y8G("formGroupName",e.index),d.R7$(),d.Y8G("placeholder",d.bMT(2,2,"FORM.SERVICE")))}function VRe(t,e){1&t&&(d.j41(0,"th",25),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&t&&(d.R7$(),d.JRh(d.bMT(2,1,"FORM.PRICE")))}function GRe(t,e){1&t&&(d.j41(0,"td",26),d.nrm(1,"input",28),d.nI1(2,"translate"),d.k0s()),2&t&&(d.Y8G("formGroupName",e.index),d.R7$(),d.Y8G("placeholder",d.bMT(2,2,"FORM.PRICE")))}function BRe(t,e){1&t&&(d.j41(0,"th",25),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&t&&(d.R7$(),d.SpI("",d.bMT(2,1,"FORM.DISCOUNT PERCENT")," "))}function HRe(t,e){1&t&&(d.j41(0,"td",26),d.nrm(1,"input",29),d.nI1(2,"translate"),d.k0s()),2&t&&(d.Y8G("formGroupName",e.index),d.R7$(),d.Y8G("placeholder",d.bMT(2,2,"FORM.DISCOUNT PERCENT")))}function URe(t,e){1&t&&(d.j41(0,"th",25),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&t&&(d.R7$(),d.JRh(d.bMT(2,1,"FORM.FINAL PRICE")))}function WRe(t,e){1&t&&(d.j41(0,"td",26),d.nrm(1,"input",30),d.nI1(2,"translate"),d.k0s()),2&t&&(d.Y8G("formGroupName",e.index),d.R7$(),d.Y8G("placeholder",d.bMT(2,2,"FORM.FINAL PRICE")))}function zRe(t,e){1&t&&(d.j41(0,"th",25),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&t&&(d.R7$(),d.JRh(d.bMT(2,1,"FORM.ACTIONS")))}function jRe(t,e){if(1&t){const n=d.RV6();d.j41(0,"td",31)(1,"button",32),d.bIt("click",function(){const r=d.eBV(n).index,s=d.XpG();return d.Njj(s.deleteRow(r))}),d.j41(2,"mat-icon"),d.EFF(3,"delete"),d.k0s()()()}}function $Re(t,e){1&t&&d.nrm(0,"tr",33)}function qRe(t,e){1&t&&d.nrm(0,"tr",34)}let gle=(()=>{class t{constructor(n,i,r,s){this.datePipe=n,this.invoiceService=i,this.cdr=r,this.clientsService=s,this.clients=this.clientsService.clients,this.historyInvoiceService=(0,d.WQX)(hle),this.displayedColumns=["service","price","discount","finalPrice","actions"],this.dataSource=new wT([]),this.invoiceForm=new Sm({clientName:new $l,billingPeriod:new $l,services:new JD([],[Ra.required,this.minOneRowValidator()]),total:new $l({value:0,disabled:!0})}),this.services.valueChanges.subscribe(()=>this.updateTotal())}updateTotal(){let n=this.services.controls.reduce((i,r)=>{const s=r.get("finalPrice")?.value||0;return i+parseFloat(s)},0);n=Math.round(100*n)/100,this.invoiceForm.get("total")?.setValue(n,{emitEvent:!1})}minOneRowValidator(){return n=>n.length>0?null:{minOneRow:!0}}ngOnInit(){this.addNewService()}deleteRow(n){this.services.removeAt(n),this.updateDataSource()}addNewService(){const n=new Sm({service:new $l("",Ra.required),price:new $l("",[Ra.required,Ra.min(0)]),discount:new $l("",[Ra.min(0),Ra.max(100)]),finalPrice:new $l({value:"",disabled:!0})}),i=this.services.length;n.get("price")?.valueChanges.subscribe(()=>{this.calculateFinalPrice(i)}),n.get("discount")?.valueChanges.subscribe(()=>{this.calculateFinalPrice(i)}),this.services.push(n),this.updateDataSource()}updateDataSource(){this.dataSource.data=this.services.controls,this.cdr.detectChanges()}onSubmit(){this.invoiceForm.valid?(this.invoiceForm.get("total")?.enable(),this.services.controls.forEach(i=>{i.get("finalPrice")?.enable()}),console.log(this.invoiceForm),this.invoiceService.generateCustomPDF(this.invoiceForm.value),this.saveInvoice(),this.invoiceForm.get("total")?.disable(),this.services.controls.forEach(i=>{i.get("finalPrice")?.disable()})):console.log("Form is invalid!")}saveInvoice(){const n={clientName:this.invoiceForm.get("clientName")?.value,billingPeriod:this.invoiceForm.get("billingPeriod")?.value,total:this.invoiceForm.get("total")?.value,setteled:!1};console.log(n),this.historyInvoiceService.create([n])}get services(){return this.invoiceForm.get("services")}calculateFinalPrice(n){const i=this.services.at(n),r=i.get("price")?.value||0,s=i.get("discount")?.value||0;if(r>=0&&s>=0&&s<=100){const o=this.invoiceService.calculateFinalPrice(r,s);i.get("finalPrice")?.setValue(o,{emitEvent:!1})}else i.get("finalPrice")?.setValue(0,{emitEvent:!1});this.updateTotal(),this.updateDataSource()}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(Cs),d.rXU(ORe),d.rXU(d.gRc),d.rXU(TV))}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["app-invoice"]],standalone:!0,features:[d.Jv_([Cs]),d.aNF],decls:49,vars:21,consts:[[1,"form-container"],["id","invoice-form",3,"ngSubmit","formGroup"],["id","header",1,"header-section"],["id","client-details",1,"client-details"],[1,"w-full"],["formControlName","clientName","required",""],[3,"value"],["matInput","","type","text","formControlName","billingPeriod","required",""],["id","service-list","formArrayName","services"],["mat-table","",1,"service-table",3,"dataSource"],["matColumnDef","service"],["mat-header-cell","","class","service-header",4,"matHeaderCellDef"],["mat-cell","","class","service-cell",3,"formGroupName",4,"matCellDef"],["matColumnDef","price"],["matColumnDef","discount"],["matColumnDef","finalPrice"],["matColumnDef","actions"],["mat-cell","","class","service-cell",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"total-section"],[1,"total-text"],[1,"action-buttons"],["mat-raised-button","","color","primary","type","button",3,"click"],["mat-raised-button","","color","accent","type","submit","form","invoice-form",3,"disabled"],["mat-header-cell","",1,"service-header"],["mat-cell","",1,"service-cell",3,"formGroupName"],["matInput","","formControlName","service",1,"w-full",3,"placeholder"],["matInput","","type","number","formControlName","price",1,"w-full",3,"placeholder"],["matInput","","type","number","formControlName","discount",1,"w-full",3,"placeholder"],["matInput","","type","number","formControlName","finalPrice","readonly","",1,"w-full",3,"placeholder"],["mat-cell","",1,"service-cell"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,r){if(1&i&&(d.j41(0,"mat-card")(1,"mat-card-content")(2,"div",0)(3,"form",1),d.bIt("ngSubmit",function(){return r.onSubmit()}),d.j41(4,"section",2)(5,"div",3)(6,"mat-form-field",4)(7,"mat-label"),d.EFF(8),d.nI1(9,"translate"),d.k0s(),d.j41(10,"mat-select",5),d.Z7z(11,FRe,2,2,"mat-option",6,d.fX1),d.k0s()(),d.j41(13,"mat-form-field",4)(14,"mat-label"),d.EFF(15),d.nI1(16,"translate"),d.k0s(),d.nrm(17,"input",7),d.k0s()()(),d.j41(18,"section",8)(19,"table",9),d.qex(20,10),d.DNE(21,kRe,3,3,"th",11)(22,LRe,3,4,"td",12),d.bVm(),d.qex(23,13),d.DNE(24,VRe,3,3,"th",11)(25,GRe,3,4,"td",12),d.bVm(),d.qex(26,14),d.DNE(27,BRe,3,3,"th",11)(28,HRe,3,4,"td",12),d.bVm(),d.qex(29,15),d.DNE(30,URe,3,3,"th",11)(31,WRe,3,4,"td",12),d.bVm(),d.qex(32,16),d.DNE(33,zRe,3,3,"th",11)(34,jRe,4,0,"td",17),d.bVm(),d.DNE(35,$Re,1,0,"tr",18)(36,qRe,1,0,"tr",19),d.k0s(),d.j41(37,"div",20)(38,"p",21),d.EFF(39),d.nI1(40,"translate"),d.k0s()()()()()(),d.j41(41,"mat-card-actions")(42,"div",22)(43,"button",23),d.bIt("click",function(){return r.addNewService()}),d.EFF(44),d.nI1(45,"translate"),d.k0s(),d.j41(46,"button",24),d.EFF(47),d.nI1(48,"translate"),d.k0s()()()()),2&i){let s;d.R7$(3),d.Y8G("formGroup",r.invoiceForm),d.R7$(5),d.JRh(d.bMT(9,11,"FORM.CLIENT NAME")),d.R7$(3),d.Dyx(r.clients),d.R7$(4),d.JRh(d.bMT(16,13,"FORM.BILLING PERIOD")),d.R7$(4),d.Y8G("dataSource",r.dataSource),d.R7$(16),d.Y8G("matHeaderRowDef",r.displayedColumns),d.R7$(),d.Y8G("matRowDefColumns",r.displayedColumns),d.R7$(3),d.Lme("",d.bMT(40,15,"FORM.TOTAL"),": \u20b9",null==(s=r.invoiceForm.get("total"))?null:s.value,""),d.R7$(5),d.JRh(d.bMT(45,17,"FORM.ADD SERVICE")),d.R7$(2),d.Y8G("disabled",!r.invoiceForm.valid),d.R7$(),d.JRh(d.bMT(48,19,"FORM.DOWNLOAD"))}},dependencies:[$J,uS,Op,dS,OD,N_,xm,WO,B_,KD,fS,pS,ZC,qF,QS,hx,C2,l6,a6,uH,ate,Hx,Cw,y6,Wx,Ux,zx,CT,vk,yk,C6,b2,yU,YS,ql,CH,Va,hy,Aw,Tk,IV,OP,kP,FP]})}}return t})(),mle=(()=>{class t{constructor(){this.auth=(0,d.WQX)(yv),this.router=(0,d.WQX)(Gc)}canActivate(){var n=this;return(0,te.A)(function*(){return!(!n.auth.currentUser&&null==localStorage.getItem("user")&&(n.router.navigate(["/"]),1))})()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),e9=(()=>{class t{constructor(){this.fireAuth=(0,d.WQX)(yv),this.user$=ITe(this.fireAuth),this.currUserSig=(0,d.vPA)(void 0)}login(n,i){return Jr(DTe(this.fireAuth,n,i).then(s=>{s.user?.getIdToken().then(o=>{localStorage.setItem("userToken",o)}),localStorage.setItem("user",JSON.stringify(s.user)),this.currUserSig.set({email:s.user?.email,userName:s.user?.displayName})}))}logout(){return Jr(RTe(this.fireAuth))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function t9(t){t||((0,d.Af3)(t9),t=(0,d.WQX)(d.abz));const e=new Ln.c(n=>t.onDestroy(n.next.bind(n)));return n=>n.pipe(Qi(e))}function QRe(t,e){if(1&t&&(d.j41(0,"mat-error"),d.EFF(1),d.k0s()),2&t){const n=d.XpG();d.R7$(),d.JRh(n.errorMessage())}}function JRe(t,e){if(1&t&&(d.j41(0,"mat-error"),d.EFF(1),d.k0s()),2&t){const n=d.XpG();d.R7$(),d.JRh(n.errorMessage())}}let ZRe=(()=>{class t{constructor(){this.authService=(0,d.WQX)(e9),this.router=(0,d.WQX)(Gc),this.email=new $l("",[Ra.required,Ra.email]),this.password=new $l("",[Ra.required]),this.fb=(0,d.WQX)(YB),this.errorMessage=(0,d.vPA)(""),this.loginForm=this.fb.group({email:this.email,password:this.password}),dd(this.email.statusChanges,this.email.valueChanges).pipe(t9()).subscribe(()=>this.updateErrorMessage())}login(){this.loginForm.invalid?this.errorMessage.set("Invalid inputs"):this.authService.login(this.email.value,this.password.value).subscribe({next:()=>{console.log("Logged in"),this.router.navigate(["/home"])},error:n=>{console.error(n),this.errorMessage.set("Invalid credentials")}})}updateErrorMessage(){this.email.hasError("required")?this.errorMessage.set("You must enter a value"):this.email.hasError("email")?this.errorMessage.set("Not a valid email"):this.errorMessage.set("")}ngOnInit(){(null!=this.authService.currUserSig()||null!=localStorage.getItem("user"))&&this.router.navigate(["/home"])}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["app-login"]],standalone:!0,features:[d.aNF],decls:23,vars:6,consts:[[1,"login-card","mt-16","p-8"],[1,"p-4"],[1,"p-3"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-2","md:gap-4"],["matInput","","placeholder","eMail Address","required","",1,"mb-3",3,"formControl"],["matInput","","placeholder","Password","type","password","required","",1,"mb-3",3,"formControl"],[1,"flex","justify-center"],[1,"flex","flex-col","gap-1","justify-center"],["mat-raised-button","","color","primary","type","submit",3,"click"]],template:function(i,r){1&i&&(d.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),d.EFF(3,"Welcome to Invoice Generator "),d.k0s()(),d.j41(4,"mat-card-content",2)(5,"form",3),d.bIt("ngSubmit",function(){return r.login()}),d.j41(6,"div",4)(7,"mat-form-field")(8,"mat-label"),d.EFF(9,"Enter your email"),d.k0s(),d.nrm(10,"input",5),d.DNE(11,QRe,2,1,"mat-error"),d.k0s(),d.j41(12,"mat-form-field")(13,"mat-label"),d.EFF(14,"Enter your Password"),d.k0s(),d.nrm(15,"input",6),d.DNE(16,JRe,2,1,"mat-error"),d.k0s()()()(),d.j41(17,"mat-card-actions",7)(18,"div",8)(19,"button",9),d.bIt("click",function(){return r.login()}),d.EFF(20,"Login"),d.k0s(),d.j41(21,"mat-error"),d.EFF(22),d.k0s()()()()),2&i&&(d.R7$(5),d.Y8G("formGroup",r.loginForm),d.R7$(5),d.Y8G("formControl",r.email),d.R7$(),d.vxM(11,r.email.invalid?11:-1),d.R7$(4),d.Y8G("formControl",r.password),d.R7$(),d.vxM(16,r.password.invalid?16:-1),d.R7$(6),d.JRh(r.errorMessage()))},dependencies:[YS,ql,Va,IV,OP,kP,FP,ple,fle,WO,uS,Op,OD,N_,xm,qD,B_,ZC,qF,QS,UR,hx,C2]})}}return t})();const n9=["*"];function exe(t,e){1&t&&d.SdG(0)}const txe=["tabListContainer"],nxe=["tabList"],ixe=["tabListInner"],rxe=["nextPaginator"],sxe=["previousPaginator"],oxe=t=>({animationDuration:t}),axe=(t,e)=>({value:t,params:e});function lxe(t,e){}const cxe=["tabBodyWrapper"],uxe=["tabHeader"];function dxe(t,e){}function hxe(t,e){if(1&t&&d.DNE(0,dxe,0,0,"ng-template",12),2&t){const n=d.XpG().$implicit;d.Y8G("cdkPortalOutlet",n.templateLabel)}}function fxe(t,e){if(1&t&&d.EFF(0),2&t){const n=d.XpG().$implicit;d.JRh(n.textLabel)}}function pxe(t,e){if(1&t){const n=d.RV6();d.j41(0,"div",7,2),d.bIt("click",function(){const r=d.eBV(n),s=r.$implicit,o=r.$index,c=d.XpG(),h=d.sdS(1);return d.Njj(c._handleClick(s,h,o))})("cdkFocusChange",function(r){const s=d.eBV(n).$index,o=d.XpG();return d.Njj(o._tabFocusChanged(r,s))}),d.nrm(2,"span",8)(3,"div",9),d.j41(4,"span",10)(5,"span",11),d.DNE(6,hxe,1,1,null,12)(7,fxe,1,1),d.k0s()()()}if(2&t){const n=e.$implicit,i=e.$index,r=d.sdS(1),s=d.XpG();d.HbH(n.labelClass),d.AVh("mdc-tab--active",s.selectedIndex===i),d.Y8G("id",s._getTabLabelId(i))("disabled",n.disabled)("fitInkBarToContent",s.fitInkBarToContent),d.BMQ("tabIndex",s._getTabIndex(i))("aria-posinset",i+1)("aria-setsize",s._tabs.length)("aria-controls",s._getTabContentId(i))("aria-selected",s.selectedIndex===i)("aria-label",n.ariaLabel||null)("aria-labelledby",!n.ariaLabel&&n.ariaLabelledby?n.ariaLabelledby:null),d.R7$(3),d.Y8G("matRippleTrigger",r)("matRippleDisabled",n.disabled||s.disableRipple),d.R7$(3),d.vxM(6,n.templateLabel?6:7)}}function gxe(t,e){1&t&&d.SdG(0)}function mxe(t,e){if(1&t){const n=d.RV6();d.j41(0,"mat-tab-body",13),d.bIt("_onCentered",function(){d.eBV(n);const r=d.XpG();return d.Njj(r._removeTabBodyWrapperHeight())})("_onCentering",function(r){d.eBV(n);const s=d.XpG();return d.Njj(s._setTabBodyWrapperHeight(r))}),d.k0s()}if(2&t){const n=e.$implicit,i=e.$index,r=d.XpG();d.HbH(n.bodyClass),d.AVh("mat-mdc-tab-body-active",r.selectedIndex===i),d.Y8G("id",r._getTabContentId(i))("content",n.content)("position",n.position)("origin",n.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),d.BMQ("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))("aria-hidden",r.selectedIndex!==i)}}const vxe=new d.nKC("MatTabContent");let _xe=(()=>{class t{constructor(n){this.template=n}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.C4Q))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","matTabContent",""]],standalone:!0,features:[d.Jv_([{provide:vxe,useExisting:t}])]})}}return t})();const yxe=new d.nKC("MatTabLabel"),vle=new d.nKC("MAT_TAB");let bxe=(()=>{class t extends B2{constructor(n,i,r){super(n,i),this._closestTab=r}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.C4Q),d.rXU(d.c1b),d.rXU(vle,8))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[d.Jv_([{provide:yxe,useExisting:t}]),d.Vt3]})}}return t})();const _le=new d.nKC("MAT_TAB_GROUP");let yle=(()=>{class t{get templateLabel(){return this._templateLabel}set templateLabel(n){this._setTemplateLabelInput(n)}get content(){return this._contentPortal}constructor(n,i){this._viewContainerRef=n,this._closestTabGroup=i,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new q.B,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(n){(n.hasOwnProperty("textLabel")||n.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new fw(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(n){n&&n._closestTab===this&&(this._templateLabel=n)}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.c1b),d.rXU(_le,8))}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["mat-tab"]],contentQueries:function(i,r,s){if(1&i&&(d.wni(s,bxe,5),d.wni(s,_xe,7,d.C4Q)),2&i){let o;d.mGM(o=d.lsd())&&(r.templateLabel=o.first),d.mGM(o=d.lsd())&&(r._explicitContent=o.first)}},viewQuery:function(i,r){if(1&i&&d.GBs(d.C4Q,7),2&i){let s;d.mGM(s=d.lsd())&&(r._implicitContent=s.first)}},hostAttrs:["hidden",""],inputs:{disabled:[d.Mj6.HasDecoratorInputTransform,"disabled","disabled",d.L39],textLabel:[d.Mj6.None,"label","textLabel"],ariaLabel:[d.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[d.Mj6.None,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[d.Jv_([{provide:vle,useExisting:t}]),d.GFd,d.OA$,d.aNF],ngContentSelectors:n9,decls:1,vars:0,template:function(i,r){1&i&&(d.NAR(),d.DNE(0,exe,1,0,"ng-template"))},encapsulation:2})}}return t})();const i9="mdc-tab-indicator--active",ble="mdc-tab-indicator--no-transition";class Cxe{constructor(e){this._items=e}hide(){this._items.forEach(e=>e.deactivateInkBar())}alignToElement(e){const n=this._items.find(r=>r.elementRef.nativeElement===e),i=this._currentItem;if(n!==i&&(i?.deactivateInkBar(),n)){const r=i?.elementRef.nativeElement.getBoundingClientRect?.();n.activateInkBar(r),this._currentItem=n}}}let wxe=(()=>{class t{constructor(){this._elementRef=(0,d.WQX)(d.aKT),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(n){this._fitToContent!==n&&(this._fitToContent=n,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(n){const i=this._elementRef.nativeElement;if(!n||!i.getBoundingClientRect||!this._inkBarContentElement)return void i.classList.add(i9);const r=i.getBoundingClientRect(),s=n.width/r.width,o=n.left-r.left;i.classList.add(ble),this._inkBarContentElement.style.setProperty("transform",`translateX(${o}px) scaleX(${s})`),i.getBoundingClientRect(),i.classList.remove(ble),i.classList.add(i9),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(i9)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const n=this._elementRef.nativeElement.ownerDocument||document,i=this._inkBarElement=n.createElement("span"),r=this._inkBarContentElement=n.createElement("span");i.className="mdc-tab-indicator",r.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",i.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement).appendChild(this._inkBarElement)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=d.FsC({type:t,inputs:{fitInkBarToContent:[d.Mj6.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",d.L39]},features:[d.GFd]})}}return t})(),Cle=(()=>{class t extends wxe{constructor(n){super(),this.elementRef=n,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.aKT))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(i,r){2&i&&(d.BMQ("aria-disabled",!!r.disabled),d.AVh("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:[d.Mj6.HasDecoratorInputTransform,"disabled","disabled",d.L39]},standalone:!0,features:[d.GFd,d.Vt3]})}}return t})();const wle=xa({passive:!0});let Ixe=(()=>{class t{get selectedIndex(){return this._selectedIndex}set selectedIndex(n){const i=isNaN(n)?0:n;this._selectedIndex!=i&&(this._selectedIndexChanged=!0,this._selectedIndex=i,this._keyManager&&this._keyManager.updateActiveItem(i))}constructor(n,i,r,s,o,c,h){this._elementRef=n,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=s,this._ngZone=o,this._platform=c,this._animationMode=h,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new q.B,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new q.B,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new d.bkB,this.indexFocused=new d.bkB,o.runOutsideAngular(()=>{jp(n.nativeElement,"mouseleave").pipe(Qi(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){jp(this._previousPaginator.nativeElement,"touchstart",wle).pipe(Qi(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),jp(this._nextPaginator.nativeElement,"touchstart",wle).pipe(Qi(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const n=this._dir?this._dir.change:On("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Su(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(Me(1)).subscribe(r),dd(n,i,this._items.changes,this._itemsResized()).pipe(Qi(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return"function"!=typeof ResizeObserver?Co:this._items.changes.pipe(it(this._items),ve(n=>new Ln.c(i=>this._ngZone.runOutsideAngular(()=>{const r=new ResizeObserver(s=>i.next(s));return n.forEach(s=>r.observe(s.elementRef.nativeElement)),()=>{r.disconnect()}}))),lR(1),St(n=>n.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(n){if(!Vp(n))switch(n.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const i=this._items.get(this.focusIndex);i&&!i.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(n))}break;default:this._keyManager.onKeydown(n)}}_onContentChanges(){const n=this._elementRef.nativeElement.textContent;n!==this._currentTextContent&&(this._currentTextContent=n||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(n){!this._isValidIndex(n)||this.focusIndex===n||!this._keyManager||this._keyManager.setActiveItem(n)}_isValidIndex(n){return!this._items||!!this._items.toArray()[n]}_setTabFocus(n){if(this._showPaginationControls&&this._scrollToLabel(n),this._items&&this._items.length){this._items.toArray()[n].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const n=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-n:n;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(n){this._scrollTo(n)}_scrollHeader(n){return this._scrollTo(this._scrollDistance+("before"==n?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(n){this._stopInterval(),this._scrollHeader(n)}_scrollToLabel(n){if(this.disablePagination)return;const i=this._items?this._items.toArray()[n]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:o}=i.elementRef.nativeElement;let c,h;"ltr"==this._getLayoutDirection()?(c=s,h=c+o):(h=this._tabListInner.nativeElement.offsetWidth-s,c=h-o);const p=this.scrollDistance,m=this.scrollDistance+r;c<p?this.scrollDistance-=p-c:h>m&&(this.scrollDistance+=Math.min(h-m,c-p))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const n=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;n||(this.scrollDistance=0),n!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=n}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const n=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=n?n.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(n,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),vx(650,100).pipe(Qi(dd(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:s}=this._scrollHeader(n);(0===s||s>=r)&&this._stopInterval()}))}_scrollTo(n){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,n)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.aKT),d.rXU(d.gRc),d.rXU($m),d.rXU(sh,8),d.rXU(d.SKi),d.rXU(Ls),d.rXU(d.bc$,8))}}static{this.\u0275dir=d.FsC({type:t,inputs:{disablePagination:[d.Mj6.HasDecoratorInputTransform,"disablePagination","disablePagination",d.L39],selectedIndex:[d.Mj6.HasDecoratorInputTransform,"selectedIndex","selectedIndex",d.Udg]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[d.GFd]})}}return t})(),Axe=(()=>{class t extends Ixe{constructor(n,i,r,s,o,c,h){super(n,i,r,s,o,c,h),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new Cxe(this._items),super.ngAfterContentInit()}_itemSelected(n){n.preventDefault()}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.aKT),d.rXU(d.gRc),d.rXU($m),d.rXU(sh,8),d.rXU(d.SKi),d.rXU(Ls),d.rXU(d.bc$,8))}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["mat-tab-header"]],contentQueries:function(i,r,s){if(1&i&&d.wni(s,Cle,4),2&i){let o;d.mGM(o=d.lsd())&&(r._items=o)}},viewQuery:function(i,r){if(1&i&&(d.GBs(txe,7),d.GBs(nxe,7),d.GBs(ixe,7),d.GBs(rxe,5),d.GBs(sxe,5)),2&i){let s;d.mGM(s=d.lsd())&&(r._tabListContainer=s.first),d.mGM(s=d.lsd())&&(r._tabList=s.first),d.mGM(s=d.lsd())&&(r._tabListInner=s.first),d.mGM(s=d.lsd())&&(r._nextPaginator=s.first),d.mGM(s=d.lsd())&&(r._previousPaginator=s.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(i,r){2&i&&d.AVh("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==r._getLayoutDirection())},inputs:{disableRipple:[d.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",d.L39]},standalone:!0,features:[d.GFd,d.Vt3,d.aNF],ngContentSelectors:n9,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled","disabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled","disabled"]],template:function(i,r){if(1&i){const s=d.RV6();d.NAR(),d.j41(0,"button",5,0),d.bIt("click",function(){return d.eBV(s),d.Njj(r._handlePaginatorClick("before"))})("mousedown",function(c){return d.eBV(s),d.Njj(r._handlePaginatorPress("before",c))})("touchend",function(){return d.eBV(s),d.Njj(r._stopInterval())}),d.nrm(2,"div",6),d.k0s(),d.j41(3,"div",7,1),d.bIt("keydown",function(c){return d.eBV(s),d.Njj(r._handleKeydown(c))}),d.j41(5,"div",8,2),d.bIt("cdkObserveContent",function(){return d.eBV(s),d.Njj(r._onContentChanges())}),d.j41(7,"div",9,3),d.SdG(9),d.k0s()()(),d.j41(10,"button",10,4),d.bIt("mousedown",function(c){return d.eBV(s),d.Njj(r._handlePaginatorPress("after",c))})("click",function(){return d.eBV(s),d.Njj(r._handlePaginatorClick("after"))})("touchend",function(){return d.eBV(s),d.Njj(r._stopInterval())}),d.nrm(12,"div",6),d.k0s()}2&i&&(d.AVh("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),d.Y8G("matRippleDisabled",r._disableScrollBefore||r.disableRipple)("disabled",r._disableScrollBefore||null),d.R7$(3),d.AVh("_mat-animation-noopable","NoopAnimations"===r._animationMode),d.R7$(7),d.AVh("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),d.Y8G("matRippleDisabled",r._disableScrollAfter||r.disableRipple)("disabled",r._disableScrollAfter||null))},dependencies:[Hm,SZ],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}}return t})();const Dxe=new d.nKC("MAT_TABS_CONFIG"),Rxe={translateTab:(0,Hi.hZ)("translateTab",[(0,Hi.wk)("center, void, left-origin-center, right-origin-center",(0,Hi.iF)({transform:"none"})),(0,Hi.wk)("left",(0,Hi.iF)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,Hi.wk)("right",(0,Hi.iF)({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,Hi.kY)("* => left, * => right, left => center, right => center",(0,Hi.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,Hi.kY)("void => left-origin-center",[(0,Hi.iF)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),(0,Hi.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,Hi.kY)("void => right-origin-center",[(0,Hi.iF)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),(0,Hi.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let xxe=(()=>{class t extends yx{constructor(n,i,r,s){super(n,i,s),this._host=r,this._centeringSub=Pr.yU.EMPTY,this._leavingSub=Pr.yU.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(it(this._host._isCenterPosition(this._host._position))).subscribe(n=>{n&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.OM3),d.rXU(d.c1b),d.rXU((0,d.Rfq)(()=>Ele)),d.rXU(Be))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[d.Vt3]})}}return t})(),Ele=(()=>{class t{set position(n){this._positionIndex=n,this._computePositionAnimationState()}constructor(n,i,r){this._elementRef=n,this._dir=i,this._dirChangeSubscription=Pr.yU.EMPTY,this._translateTabComplete=new q.B,this._onCentering=new d.bkB,this._beforeCentering=new d.bkB,this._afterLeavingCenter=new d.bkB,this._onCentered=new d.bkB(!0),this.animationDuration="500ms",this.preserveContent=!1,i&&(this._dirChangeSubscription=i.change.subscribe(s=>{this._computePositionAnimationState(s),r.markForCheck()})),this._translateTabComplete.pipe(PS((s,o)=>s.fromState===o.fromState&&s.toState===o.toState)).subscribe(s=>{this._isCenterPosition(s.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(s.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(n){const i=this._isCenterPosition(n.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(n){return"center"==n||"left-origin-center"==n||"right-origin-center"==n}_computePositionAnimationState(n=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==n?"left":"right":this._positionIndex>0?"ltr"==n?"right":"left":"center"}_computePositionFromOrigin(n){const i=this._getLayoutDirection();return"ltr"==i&&n<=0||"rtl"==i&&n>0?"left-origin-center":"right-origin-center"}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.aKT),d.rXU(sh,8),d.rXU(d.gRc))}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["mat-tab-body"]],viewQuery:function(i,r){if(1&i&&d.GBs(yx,5),2&i){let s;d.mGM(s=d.lsd())&&(r._portalHost=s.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[d.Mj6.None,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[d.aNF],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(i,r){if(1&i){const s=d.RV6();d.j41(0,"div",1,0),d.bIt("@translateTab.start",function(c){return d.eBV(s),d.Njj(r._onTranslateTabStarted(c))})("@translateTab.done",function(c){return d.eBV(s),d.Njj(r._translateTabComplete.next(c))}),d.DNE(2,lxe,0,0,"ng-template",2),d.k0s()}2&i&&d.Y8G("@translateTab",d.l_i(3,axe,r._position,d.eq3(1,oxe,r.animationDuration)))},dependencies:[xxe,xU],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[Rxe.translateTab]}})}}return t})(),Pxe=0,Nxe=(()=>{class t{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(n){this._fitInkBarToContent=n,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(n){this._indexToSelect=isNaN(n)?null:n}get animationDuration(){return this._animationDuration}set animationDuration(n){const i=n+"";this._animationDuration=/^\d+$/.test(i)?n+"ms":i}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(n){this._contentTabIndex=isNaN(n)?null:n}get backgroundColor(){return this._backgroundColor}set backgroundColor(n){const i=this._elementRef.nativeElement.classList;i.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),n&&i.add("mat-tabs-with-background",`mat-background-${n}`),this._backgroundColor=n}constructor(n,i,r,s){this._elementRef=n,this._changeDetectorRef=i,this._animationMode=s,this._tabs=new d.rOR,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Pr.yU.EMPTY,this._tabLabelSubscription=Pr.yU.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new d.bkB,this.focusChange=new d.bkB,this.animationDone=new d.bkB,this.selectedTabChange=new d.bkB(!0),this._isServer=!(0,d.WQX)(Ls).isBrowser,this._groupId=Pxe++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,null!=r?.contentTabIndex&&(this.contentTabIndex=r.contentTabIndex),this.preserveContent=!!r?.preserveContent,this.fitInkBarToContent=!(!r||null==r.fitInkBarToContent)&&r.fitInkBarToContent,this.stretchTabs=!r||null==r.stretchTabs||r.stretchTabs}ngAfterContentChecked(){const n=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=n){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(n));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,s)=>r.isActive=s===n),i||(this.selectedIndexChange.emit(n),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-n,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=n-this._selectedIndex)}),this._selectedIndex!==n&&(this._selectedIndex=n,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const n=this._clampTabIndex(this._indexToSelect);if(n===this._selectedIndex){const i=this._tabs.toArray();let r;for(let s=0;s<i.length;s++)if(i[s].isActive){this._indexToSelect=this._selectedIndex=s,this._lastFocusedTabIndex=null,r=i[s];break}!r&&i[n]&&Promise.resolve().then(()=>{i[n].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(n))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(it(this._allTabs)).subscribe(n=>{this._tabs.reset(n.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(n){const i=this._tabHeader;i&&(i.focusIndex=n)}_focusChanged(n){this._lastFocusedTabIndex=n,this.focusChange.emit(this._createChangeEvent(n))}_createChangeEvent(n){const i=new Oxe;return i.index=n,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[n]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=dd(...this._tabs.map(n=>n._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(n){return Math.min(this._tabs.length-1,Math.max(n||0,0))}_getTabLabelId(n){return`mat-tab-label-${this._groupId}-${n}`}_getTabContentId(n){return`mat-tab-content-${this._groupId}-${n}`}_setTabBodyWrapperHeight(n){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=n+"px")}_removeTabBodyWrapperHeight(){const n=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=n.clientHeight,n.style.height="",this.animationDone.emit()}_handleClick(n,i,r){i.focusIndex=r,n.disabled||(this.selectedIndex=r)}_getTabIndex(n){return n===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(n,i){n&&"mouse"!==n&&"touch"!==n&&(this._tabHeader.focusIndex=i)}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.aKT),d.rXU(d.gRc),d.rXU(Dxe,8),d.rXU(d.bc$,8))}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["mat-tab-group"]],contentQueries:function(i,r,s){if(1&i&&d.wni(s,yle,5),2&i){let o;d.mGM(o=d.lsd())&&(r._allTabs=o)}},viewQuery:function(i,r){if(1&i&&(d.GBs(cxe,5),d.GBs(uxe,5)),2&i){let s;d.mGM(s=d.lsd())&&(r._tabBodyWrapper=s.first),d.mGM(s=d.lsd())&&(r._tabHeader=s.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(i,r){2&i&&(d.HbH("mat-"+(r.color||"primary")),d.xc7("--mat-tab-animation-duration",r.animationDuration),d.AVh("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===r.headerPosition)("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[d.Mj6.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",d.L39],stretchTabs:[d.Mj6.HasDecoratorInputTransform,"mat-stretch-tabs","stretchTabs",d.L39],dynamicHeight:[d.Mj6.HasDecoratorInputTransform,"dynamicHeight","dynamicHeight",d.L39],selectedIndex:[d.Mj6.HasDecoratorInputTransform,"selectedIndex","selectedIndex",d.Udg],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[d.Mj6.HasDecoratorInputTransform,"contentTabIndex","contentTabIndex",d.Udg],disablePagination:[d.Mj6.HasDecoratorInputTransform,"disablePagination","disablePagination",d.L39],disableRipple:[d.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",d.L39],preserveContent:[d.Mj6.HasDecoratorInputTransform,"preserveContent","preserveContent",d.L39],backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[d.Jv_([{provide:_le,useExisting:t}]),d.GFd,d.aNF],ngContentSelectors:n9,decls:9,vars:6,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(i,r){if(1&i){const s=d.RV6();d.NAR(),d.j41(0,"mat-tab-header",3,0),d.bIt("indexFocused",function(c){return d.eBV(s),d.Njj(r._focusChanged(c))})("selectFocusedIndex",function(c){return d.eBV(s),d.Njj(r.selectedIndex=c)}),d.Z7z(2,pxe,8,17,"div",4,d.fX1),d.k0s(),d.DNE(4,gxe,1,0),d.j41(5,"div",5,1),d.Z7z(7,mxe,1,13,"mat-tab-body",6,d.fX1),d.k0s()}2&i&&(d.Y8G("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination),d.R7$(2),d.Dyx(r._tabs),d.R7$(2),d.vxM(4,r._isServer?4:-1),d.R7$(),d.AVh("_mat-animation-noopable","NoopAnimations"===r._animationMode),d.R7$(2),d.Dyx(r._tabs))},dependencies:[Axe,Cle,bF,Hm,yx,Ele],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}}return t})();class Oxe{}let Fxe=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({imports:[ao,ao]})}}return t})();var r9=Object.defineProperty,kxe=Object.defineProperties,Lxe=Object.getOwnPropertyDescriptor,Vxe=Object.getOwnPropertyDescriptors,AV=Object.getOwnPropertySymbols,Sle=Object.prototype.hasOwnProperty,Tle=Object.prototype.propertyIsEnumerable,Ile=(t,e,n)=>e in t?r9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qn=(t,e)=>{for(var n in e||(e={}))Sle.call(e,n)&&Ile(t,n,e[n]);if(AV)for(var n of AV(e))Tle.call(e,n)&&Ile(t,n,e[n]);return t},Is=(t,e)=>kxe(t,Vxe(e)),Za=(t,e)=>{for(var n in e)r9(t,n,{get:e[n],enumerable:!0})},N=(t,e,n,i)=>{for(var o,r=i>1?void 0:i?Lxe(e,n):e,s=t.length-1;s>=0;s--)(o=t[s])&&(r=(i?o(e,n,r):o(r))||r);return i&&r&&r9(e,n,r),r},Df=(t,e)=>(n,i)=>e(n,i,t),Ale={};function hg(t){return null==t||""===t?null:t}function $t(t,e=!1){return null!=t&&(""!==t||e)}function pi(t){return!$t(t)}function vd(t){return null==t||0===t.length}function LP(t){return null!=t&&"function"==typeof t.toString?t.toString():null}function By(t){if(void 0===t)return;if(null===t||""===t)return null;if("number"==typeof t)return isNaN(t)?void 0:t;const e=parseInt(t,10);return isNaN(e)?void 0:e}function DV(t){if(void 0!==t)return null!==t&&""!==t&&("boolean"==typeof t?t:/true/i.test(t))}function Bxe(t){if(null!=t&&""!==t)return t}function s9(t,e){return(t?JSON.stringify(t):null)===(e?JSON.stringify(e):null)}function Hxe(t,e,n=!1){const i=null==t,r=null==e;if(t&&t.toNumber&&(t=t.toNumber()),e&&e.toNumber&&(e=e.toNumber()),i&&r)return 0;if(i)return-1;if(r)return 1;function s(o,c){return o>c?1:o<c?-1:0}if("string"!=typeof t||!n)return s(t,e);try{return t.localeCompare(e)}catch{return s(t,e)}}function uE(t){if(t instanceof Set||t instanceof Map){const e=[];return t.forEach(n=>e.push(n)),e}return Object.values(t)}Za(Ale,{attrToBoolean:()=>DV,attrToNumber:()=>By,attrToString:()=>Bxe,defaultComparator:()=>Hxe,exists:()=>$t,jsonEquals:()=>s9,makeNull:()=>hg,missing:()=>pi,missingOrEmpty:()=>vd,toStringOrNull:()=>LP,values:()=>uE});var Uxe=class{constructor(){this.existingKeys={}}addExistingKeys(t){for(let e=0;e<t.length;e++)this.existingKeys[t[e]]=!0}getUniqueKey(t,e){t=LP(t);let n=0;for(;;){let i;if(t?(i=t,0!==n&&(i+="_"+n)):e?(i=e,0!==n&&(i+="_"+n)):i=n,!this.existingKeys[i])return this.existingKeys[i]=!0,String(i);n++}}},Dle={};function tc(t,e){if(null!=t){if(Array.isArray(t)){for(let n=0;n<t.length;n++)e(n.toString(),t[n]);return}for(const[n,i]of Object.entries(t))e(n,i)}}function o9(t){const e={},n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];e[r]=t[r]}return e}function RV(t,e){if(!t)return;const n=t,i={};return Object.keys(n).forEach(r=>{if(e&&e.indexOf(r)>=0)return;const s=n[r];i[r]=xV(s)&&s.constructor===Object?RV(s):s}),i}function Hy(t){if(!t)return[];const e=Object;if("function"==typeof e.values)return e.values(t);const n=[];for(const i in t)t.hasOwnProperty(i)&&t.propertyIsEnumerable(i)&&n.push(t[i]);return n}function _d(t,e,n=!0,i=!1){$t(e)&&tc(e,(r,s)=>{let o=t[r];o!==s&&(i&&null==o&&null!=s&&"object"==typeof s&&s.constructor===Object&&(o={},t[r]=o),xV(s)&&xV(o)&&!Array.isArray(o)?_d(o,s,n,i):(n||void 0!==s)&&(t[r]=s))})}function kI(t,e,n){if(!e||!t)return;if(!n)return t[e];const i=e.split(".");let r=t;for(let s=0;s<i.length;s++){if(null==r)return;r=r[i[s]]}return r}function Rle(t,e=[],n){Object.keys(t).forEach(o=>{"object"==typeof t[o]&&!e.includes(o)&&(t[o]=void 0)});const i=Object.getPrototypeOf(t),r={};Object.getOwnPropertyNames(i).forEach(o=>{if("function"==typeof i[o]&&!e.includes(o)){const h=()=>{console.warn((o=>`AG Grid: Grid API function ${o}() cannot be called as the grid has been destroyed.\n    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.\n    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${n}`)(o))};r[o]={value:h,writable:!0}}}),Object.defineProperties(t,r)}function xV(t){return"object"==typeof t&&null!==t}Za(Dle,{cloneObject:()=>o9,deepCloneDefinition:()=>RV,getAllValuesInObject:()=>Hy,getValueUsingField:()=>kI,isNonNullObject:()=>xV,iterateObject:()=>tc,mergeDeep:()=>_d,removeAllReferences:()=>Rle});var xle={};Za(xle,{compose:()=>Wxe,debounce:()=>Wc,doOnce:()=>dE,errorOnce:()=>Rf,executeAfter:()=>Nle,executeInAWhile:()=>Mle,executeNextVMTurn:()=>c9,getFunctionName:()=>PV,isFunction:()=>MV,noop:()=>zxe,throttle:()=>u9,waitUntil:()=>d9,warnOnce:()=>li});var Ple={};function dE(t,e){Ple[e]||(t(),Ple[e]=!0)}function li(t){dE(()=>console.warn("AG Grid: "+t),t)}function Rf(t){dE(()=>console.error("AG Grid: "+t),t)}function PV(t){if(t.name)return t.name;const e=/function\s+([^\(]+)/.exec(t.toString());return e&&2===e.length?e[1].trim():null}function MV(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Mle(t){Nle(t,400)}var a9=[],l9=!1;function c9(t){a9.push(t),!l9&&(l9=!0,window.setTimeout(()=>{const e=a9.slice();a9.length=0,l9=!1,e.forEach(n=>n())},0))}function Nle(t,e=0){t.length>0&&window.setTimeout(()=>t.forEach(n=>n()),e)}function Wc(t,e){let n;return function(...i){const r=this;window.clearTimeout(n),n=window.setTimeout(function(){t.apply(r,i)},e)}}function u9(t,e){let n=0;return function(...i){const s=(new Date).getTime();s-n<e||(n=s,t.apply(this,i))}}function d9(t,e,n=100,i){const r=(new Date).getTime();let s=null,o=!1;const c=()=>{const h=(new Date).getTime()-r>n;(t()||h)&&(e(),o=!0,null!=s&&(window.clearInterval(s),s=null),h&&i&&console.warn(i))};c(),o||(s=window.setInterval(c,10))}function Wxe(...t){return e=>t.reduce((n,i)=>i(n),e)}var zxe=()=>{},Ole=(t=>(t.CommunityCoreModule="@ag-grid-community/core",t.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",t.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",t.CsvExportModule="@ag-grid-community/csv-export",t.EnterpriseCoreModule="@ag-grid-enterprise/core",t.RowGroupingModule="@ag-grid-enterprise/row-grouping",t.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",t.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",t.MenuModule="@ag-grid-enterprise/menu",t.SetFilterModule="@ag-grid-enterprise/set-filter",t.MultiFilterModule="@ag-grid-enterprise/multi-filter",t.StatusBarModule="@ag-grid-enterprise/status-bar",t.SideBarModule="@ag-grid-enterprise/side-bar",t.RangeSelectionModule="@ag-grid-enterprise/range-selection",t.MasterDetailModule="@ag-grid-enterprise/master-detail",t.RichSelectModule="@ag-grid-enterprise/rich-select",t.GridChartsModule="@ag-grid-enterprise/charts",t.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",t.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",t.ExcelExportModule="@ag-grid-enterprise/excel-export",t.ClipboardModule="@ag-grid-enterprise/clipboard",t.SparklinesModule="@ag-grid-enterprise/sparklines",t.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",t.AngularModule="@ag-grid-community/angular",t.ReactModule="@ag-grid-community/react",t.VueModule="@ag-grid-community/vue",t))(Ole||{}),NV=class qr{static register(e){qr.__register(e,!0,void 0)}static registerModules(e){qr.__registerModules(e,!0,void 0)}static __register(e,n,i){qr.runVersionChecks(e),void 0!==i?(qr.areGridScopedModules=!0,void 0===qr.gridModulesMap[i]&&(qr.gridModulesMap[i]={}),qr.gridModulesMap[i][e.moduleName]=e):qr.globalModulesMap[e.moduleName]=e,qr.setModuleBased(n)}static __unRegisterGridModules(e){delete qr.gridModulesMap[e]}static __registerModules(e,n,i){qr.setModuleBased(n),e&&e.forEach(r=>qr.__register(r,n,i))}static isValidModuleVersion(e){const[n,i]=e.version.split(".")||[],[r,s]=qr.currentModuleVersion.split(".")||[];return n===r&&i===s}static runVersionChecks(e){if(qr.currentModuleVersion||(qr.currentModuleVersion=e.version),e.version?qr.isValidModuleVersion(e)||console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${e.moduleName}' is version ${e.version} but the other modules are version ${this.currentModuleVersion}. Please update all modules to the same version.`):console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${e.moduleName}' is incompatible. Please update all modules to the same version.`),e.validate){const n=e.validate();n.isValid||console.error(`AG Grid: ${n.message}`)}}static setModuleBased(e){void 0===qr.moduleBased?qr.moduleBased=e:qr.moduleBased!==e&&dE(()=>{console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")}static __setIsBundled(){qr.isBundled=!0}static __assertRegistered(e,n,i){var r;if(this.__isRegistered(e,i))return!0;const s=n+e;let o;if(qr.isBundled)o=`AG Grid: unable to use ${n} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(qr.moduleBased||void 0===qr.moduleBased){let c=null==(r=Object.entries(Ole).find(([h,p])=>p===e))?void 0:r[0];o=`AG Grid: unable to use ${n} as the ${c} is not registered${qr.areGridScopedModules?` for gridId: ${i}`:""}. Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { ${c} } from '${e}';\n    \n    ModuleRegistry.registerModules([ ${c} ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/`}else o=`AG Grid: unable to use ${n} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';\n            \nFor more info see: https://www.ag-grid.com/javascript-grid/packages/`;return dE(()=>{console.warn(o)},s),!1}static __warnEnterpriseChartDisabled(e){const s=`AG Grid: the '${e}' chart type is not supported in AG Charts Community as 'ag-grid-charts-enterprise' or '@ag-grid-enterprise/charts-enterprise' hasn't been loaded. See https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/ for more details.`;dE(()=>{console.warn(s)},"ag-charts-enterprise:"+e)}static __isRegistered(e,n){var i;return!!qr.globalModulesMap[e]||!(null==(i=qr.gridModulesMap[n])||!i[e])}static __getRegisteredModules(e){return[...uE(qr.globalModulesMap),...uE(qr.gridModulesMap[e]||{})]}static __getGridRegisteredModules(e){var n;return uE(null!=(n=qr.gridModulesMap[e])?n:{})||[]}static __isPackageBased(){return!qr.moduleBased}};NV.globalModulesMap={},NV.gridModulesMap={},NV.areGridScopedModules=!1;var Hr=NV,jxe=class{constructor(t,e){if(this.beanWrappers={},this.destroyed=!1,!t||!t.beanClasses)return;this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();const n=this.getBeanInstances();this.wireBeans(n),this.logger.log(">> ag-Application Context ready - component is alive")}getBeanInstances(){return uE(this.beanWrappers).map(t=>t.beanInstance)}createBean(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t}wireBeans(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),$t(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")}createBeans(){this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),tc(this.beanWrappers,(e,n)=>{let i;n.bean.__agBeanMetaData&&n.bean.__agBeanMetaData.autowireMethods&&n.bean.__agBeanMetaData.autowireMethods.agConstructor&&(i=n.bean.__agBeanMetaData.autowireMethods.agConstructor);const r=this.getBeansForParameters(i,n.bean.name),s=new(n.bean.bind.apply(n.bean,[null,...r]));n.beanInstance=s});const t=Object.keys(this.beanWrappers).join(", ");this.logger.log(`created beans: ${t}`)}createBeanWrapper(t){const e=t.__agBeanMetaData;if(!e){let i;return i=t.prototype.constructor?PV(t.prototype.constructor):""+t,void console.error(`Context item ${i} is not a bean`)}this.beanWrappers[e.beanName]={bean:t,beanInstance:null,beanName:e.beanName}}autoWireBeans(t){t.forEach(e=>{this.forEachMetaDataInHierarchy(e,(n,i)=>{const r=n.agClassAttributes;r&&r.forEach(s=>{const o=this.lookupBeanInstance(i,s.beanName,s.optional);e[s.attributeName]=o})})})}methodWireBeans(t){t.forEach(e=>{this.forEachMetaDataInHierarchy(e,(n,i)=>{tc(n.autowireMethods,(r,s)=>{if("agConstructor"===r)return;const o=this.getBeansForParameters(s,i);e[r].apply(e,o)})})})}forEachMetaDataInHierarchy(t,e){let n=Object.getPrototypeOf(t);for(;null!=n;){const i=n.constructor;i.hasOwnProperty("__agBeanMetaData")&&e(i.__agBeanMetaData,this.getBeanName(i)),n=Object.getPrototypeOf(n)}}getBeanName(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;const e=t.toString();return e.substring(9,e.indexOf("("))}getBeansForParameters(t,e){const n=[];return t&&tc(t,(i,r)=>{const s=this.lookupBeanInstance(e,r);n[Number(i)]=s}),n}lookupBeanInstance(t,e,n=!1){if(this.destroyed)return this.logger.log(`AG Grid: bean reference ${e} is used after the grid is destroyed!`),null;if("context"===e)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];const i=this.beanWrappers[e];return i?i.beanInstance:(n||console.error(`AG Grid: unable to find bean reference ${e} while initialising ${t}`),null)}callLifeCycleMethods(t,e){t.forEach(n=>this.callLifeCycleMethodsOnBean(n,e))}callLifeCycleMethodsOnBean(t,e,n){const i={};this.forEachMetaDataInHierarchy(t,s=>{const o=s[e];o&&o.forEach(c=>{c!=n&&(i[c]=!0)})}),Object.keys(i).forEach(s=>t[s]())}getBean(t){return this.lookupBeanInstance("getBean",t,!0)}destroy(){if(this.destroyed)return;this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");const t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,Hr.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}destroyBean(t){t&&this.destroyBeans([t])}destroyBeans(t){return t?(t.forEach(e=>{this.callLifeCycleMethodsOnBean(e,"preDestroyMethods","destroy"),"function"==typeof e.destroy&&e.destroy()}),[]):[]}isDestroyed(){return this.destroyed}getGridId(){return this.contextParams.gridId}};function Fle(t,e,n){const i=hE(t.constructor);i.preConstructMethods||(i.preConstructMethods=[]),i.preConstructMethods.push(e)}function tn(t,e,n){const i=hE(t.constructor);i.postConstructMethods||(i.postConstructMethods=[]),i.postConstructMethods.push(e)}function zc(t,e,n){const i=hE(t.constructor);i.preDestroyMethods||(i.preDestroyMethods=[]),i.preDestroyMethods.push(e)}function In(t){return e=>{hE(e).beanName=t}}function K(t){return(e,n,i)=>{kle(e,t,!1,0,n,null)}}function Cr(t){return(e,n,i)=>{kle(e,t,!0,0,n,null)}}function kle(t,e,n,i,r,s){if(null===e)return void console.error("AG Grid: Autowired name should not be null");if("number"==typeof s)return void console.error("AG Grid: Autowired should be on an attribute");const o=hE(t.constructor);o.agClassAttributes||(o.agClassAttributes=[]),o.agClassAttributes.push({attributeName:r,beanName:e,optional:n})}function _h(t){return(e,n,i)=>{const r="function"==typeof e?e:e.constructor;let s;if("number"==typeof i){let o;n?(s=hE(r),o=n):(s=hE(r),o="agConstructor"),s.autowireMethods||(s.autowireMethods={}),s.autowireMethods[o]||(s.autowireMethods[o]={}),s.autowireMethods[o][i]=t}}}function hE(t){return t.hasOwnProperty("__agBeanMetaData")||(t.__agBeanMetaData={}),t.__agBeanMetaData}var xf=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setBeans(t,e,n=null,i=null){if(this.frameworkOverrides=e,this.gridOptionsService=t,n){const r=t.useAsyncEvents();this.addGlobalListener(n,r)}i&&this.addGlobalListener(i,!1)}setFrameworkOverrides(t){this.frameworkOverrides=t}getListeners(t,e,n){const i=e?this.allAsyncListeners:this.allSyncListeners;let r=i.get(t);return!r&&n&&(r=new Set,i.set(t,r)),r}noRegisteredListenersExist(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size}addEventListener(t,e,n=!1){this.getListeners(t,n,!0).add(e)}removeEventListener(t,e,n=!1){const i=this.getListeners(t,n,!1);i&&(i.delete(e),0===i.size&&(n?this.allAsyncListeners:this.allSyncListeners).delete(t))}addGlobalListener(t,e=!1){(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)}removeGlobalListener(t,e=!1){(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)}dispatchEvent(t){let e=t;this.gridOptionsService&&this.gridOptionsService.addGridCommonParams(e),this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(t){this.firedEvents[t.type]||this.dispatchEvent(t)}dispatchToListeners(t,e){var n;const i=t.type;if(e&&"event"in t){const h=t.event;h instanceof Event&&(t.eventPath=h.composedPath())}const s=null!=(n=this.getListeners(i,e,!1))?n:new Set,o=new Set(s);o.size>0&&((h,p)=>{h.forEach(m=>{if(!p.has(m))return;const y=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>m(t)):()=>m(t);e?this.dispatchAsync(y):y()})})(o,s),new Set(e?this.globalAsyncListeners:this.globalSyncListeners).forEach(h=>{const p=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>h(i,t)):()=>h(i,t);e?this.dispatchAsync(p):p()})}dispatchAsync(t){this.asyncFunctionsQueue.push(t),this.scheduled||(this.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)}),this.scheduled=!0)}flushAsyncQueue(){this.scheduled=!1;const t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach(e=>e())}};N([Df(0,_h("gridOptionsService")),Df(1,_h("frameworkOverrides")),Df(2,_h("globalEventListener")),Df(3,_h("globalSyncEventListener"))],xf.prototype,"setBeans",1),xf=N([In("eventService")],xf);var h9=class{constructor(t){this.frameworkOverrides=t,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(t){let e=t;return this.frameworkOverrides.shouldWrapOutgoing&&(e=n=>{this.frameworkOverrides.wrapOutgoing(()=>t(n))},this.wrappedListeners.set(t,e)),e}wrapGlobal(t){let e=t;return this.frameworkOverrides.shouldWrapOutgoing&&(e=(n,i)=>{this.frameworkOverrides.wrapOutgoing(()=>t(n,i))},this.wrappedGlobalListeners.set(t,e)),e}unwrap(t){var e;return null!=(e=this.wrappedListeners.get(t))?e:t}unwrapGlobal(t){var e;return null!=(e=this.wrappedGlobalListeners.get(t))?e:t}},$xe={resizable:!0,sortable:!0},qxe=0;function Lle(){return qxe++}var oa=class Gme{constructor(e,n,i,r){this.instanceId=Lle(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new xf,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=n,this.colId=i,this.primary=r,this.setState(e)}getInstanceId(){return this.instanceId}setState(e){void 0!==e.sort?("asc"===e.sort||"desc"===e.sort)&&(this.sort=e.sort):("asc"===e.initialSort||"desc"===e.initialSort)&&(this.sort=e.initialSort);const n=e.sortIndex,i=e.initialSortIndex;void 0!==n?null!==n&&(this.sortIndex=n):null!==i&&(this.sortIndex=i);const r=e.hide;this.visible=void 0!==r?!r:!e.initialHide,this.setPinned(void 0!==e.pinned?e.pinned:e.initialPinned);const o=e.flex,c=e.initialFlex;void 0!==o?this.flex=o:void 0!==c&&(this.flex=c)}setColDef(e,n,i){this.colDef=e,this.userProvidedColDef=n,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",i))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}initialise(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gridOptionsService.get("suppressFieldDotNotation");this.fieldContainsDots=$t(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=$t(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(e),this.maxWidth=this.columnUtils.calculateColMaxWidth(e)}initTooltip(){this.tooltipEnabled=$t(this.colDef.tooltipField)||$t(this.colDef.tooltipValueGetter)||$t(this.colDef.tooltipComponent)}resetActualWidth(e){const n=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(n,e,!0)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return!pi(this.colDef)&&!pi(this.colDef.showRowGroup)&&(!0===this.colDef.showRowGroup||this.colDef.showRowGroup===e)}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}addEventListener(e,n){var i,r;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new h9(this.frameworkOverrides));const s=null!=(r=null==(i=this.frameworkEventListenerService)?void 0:i.wrap(n))?r:n;this.eventService.addEventListener(e,s)}removeEventListener(e,n){var i,r;const s=null!=(r=null==(i=this.frameworkEventListenerService)?void 0:i.unwrap(n))?r:n;this.eventService.removeEventListener(e,s)}createColumnFunctionCallbackParams(e){return this.gridOptionsService.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){const n=this.createColumnFunctionCallbackParams(e);return(0,this.colDef.suppressNavigable)(n)}return!1}isCellEditable(e){return!(e.group&&!this.gridOptionsService.get("enableGroupEdit"))&&this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){var n;return null!=(n=this.colDef[e])?n:$xe[e]}isColumnFunc(e,n){return"boolean"==typeof n?n:"function"==typeof n&&n(this.createColumnFunctionCallbackParams(e))}setMoving(e,n){this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",n))}createColumnEvent(e,n){return this.gridOptionsService.addGridCommonParams({type:e,column:this,columns:[this],source:n})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,n){this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",n))),this.dispatchStateUpdatedEvent("sort")}setMenuVisible(e,n){this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",n)))}isMenuVisible(){return this.menuVisible}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return"asc"===this.sort}isSortDescending(){return"desc"===this.sort}isSortNone(){return pi(this.sort)}isSorting(){return $t(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,n){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",n)))}isFilterActive(){return this.filterActive}setFilterActive(e,n,i){this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",n)));const r=this.createColumnEvent("filterChanged",n);i&&_d(r,i),this.eventService.dispatchEvent(r)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){this.pinned=!0===e||"left"===e?"left":"right"===e?"right":null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,n){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",n)))}setLastLeftPinned(e,n){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",n)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return"left"===this.pinned||"right"===this.pinned}isPinnedLeft(){return"left"===this.pinned}isPinnedRight(){return"right"===this.pinned}getPinned(){return this.pinned}setVisible(e,n){const i=!0===e;this.visible!==i&&(this.visible=i,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",n))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const n=e.getPaddingLevel()+1;let i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:n,isSpanningTotal:i}}getColDef(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getDefinition(){return this.colDef}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const n=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,n}createBaseColDefParams(e){return this.gridOptionsService.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(pi(this.colDef.colSpan))return 1;const n=this.createBaseColDefParams(e),i=this.colDef.colSpan(n);return Math.max(i,1)}getRowSpan(e){if(pi(this.colDef.rowSpan))return 1;const n=this.createBaseColDefParams(e),i=this.colDef.rowSpan(n);return Math.max(i,1)}setActualWidth(e,n,i=!1){null!=this.minWidth&&(e=Math.max(e,this.minWidth)),null!=this.maxWidth&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&"flex"!==n&&"gridInitializing"!==n&&(this.flex=null),i||this.fireColumnWidthChangedEvent(n)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return null!=this.maxWidth&&e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){$t(this.minWidth)&&this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,n){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",n))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,n){this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",n))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,n){this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",n)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return!0===this.colDef.enablePivot}isAllowValue(){return!0===this.colDef.enableValue}isAllowRowGroup(){return!0===this.colDef.enableRowGroup}getMenuTabs(e){li("As of v31.1, 'getMenuTabs' is deprecated. Use 'getColDef().menuTabs ?? defaultValues' instead.");let n=this.getColDef().menuTabs;return null==n&&(n=e),n}dispatchStateUpdatedEvent(e){this.eventService.dispatchEvent({type:Gme.EVENT_STATE_UPDATED,key:e})}};oa.EVENT_MOVING_CHANGED="movingChanged",oa.EVENT_LEFT_CHANGED="leftChanged",oa.EVENT_WIDTH_CHANGED="widthChanged",oa.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",oa.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",oa.EVENT_VISIBLE_CHANGED="visibleChanged",oa.EVENT_FILTER_CHANGED="filterChanged",oa.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",oa.EVENT_SORT_CHANGED="sortChanged",oa.EVENT_COL_DEF_CHANGED="colDefChanged",oa.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",oa.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",oa.EVENT_PIVOT_CHANGED="columnPivotChanged",oa.EVENT_VALUE_CHANGED="columnValueChanged",oa.EVENT_STATE_UPDATED="columnStateUpdated",N([K("gridOptionsService")],oa.prototype,"gridOptionsService",2),N([K("columnUtils")],oa.prototype,"columnUtils",2),N([K("columnHoverService")],oa.prototype,"columnHoverService",2),N([K("frameworkOverrides")],oa.prototype,"frameworkOverrides",2),N([tn],oa.prototype,"initialise",1);var ts=oa,OV=class xN{constructor(e,n,i,r){this.localEventService=new xf,this.expandable=!1,this.instanceId=Lle(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=n,this.expanded=!!e&&!!e.openByDefault,this.padding=i,this.level=r}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)}reset(e,n){this.colGroupDef=e,this.level=n,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return!!this.children&&this.children.some(e=>e.isVisible())}isPadding(){return this.padding}setExpanded(e){this.expanded=void 0!==e&&e,this.localEventService.dispatchEvent({type:xN.EVENT_EXPANDED_CHANGED})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(n=>{n instanceof ts?e.push(n):n instanceof xN&&n.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(n=>n.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(n=>n.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,n=!1,i=!1;const r=this.findChildrenRemovingPadding();for(let o=0,c=r.length;o<c;o++){const h=r[o];if(!h.isVisible())continue;const p=h.getColumnGroupShow();"open"===p?(e=!0,i=!0):"closed"===p?(n=!0,i=!0):(e=!0,n=!0)}const s=e&&n&&i;this.expandable!==s&&(this.expandable=s,this.localEventService.dispatchEvent({type:xN.EVENT_EXPANDABLE_CHANGED}))}findChildrenRemovingPadding(){const e=[],n=i=>{i.forEach(r=>{r instanceof xN&&r.isPadding()?n(r.children):e.push(r)})};return n(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}addEventListener(e,n){this.localEventService.addEventListener(e,n)}removeEventListener(e,n){this.localEventService.removeEventListener(e,n)}};OV.EVENT_EXPANDED_CHANGED="expandedChanged",OV.EVENT_EXPANDABLE_CHANGED="expandableChanged",N([zc],OV.prototype,"destroy",1);var Wo=OV,Kxe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},Vle={};Za(Vle,{addSafePassiveEventListener:()=>Kle,createEventPath:()=>$le,getCtrlForEventTarget:()=>FV,getEventPath:()=>qle,isElementInEventPath:()=>kV,isEventSupported:()=>_9,isStopPropagationForAgGrid:()=>Mf,stopPropagationForAgGrid:()=>Pf});var Gle={};function Ble(t){return null!=t&&t.length>0}function Ir(t){if(t&&t.length)return t[t.length-1]}function fg(t,e,n){return null==t&&null==e||null!=t&&null!=e&&t.length===e.length&&t.every((i,r)=>n?n(i,e[r]):e[r]===i)}function Yxe(t,e){return fg(t,e)}function Hle(t){return t.sort((e,n)=>e-n)}function Xxe(t,e){if(t)for(let n=t.length-2;n>=0;n--)t[n]===e&&t[n+1]===e&&t.splice(n+1,1)}function f9(t,e){const n=t.indexOf(e);n>=0&&(t[n]=t[t.length-1],t.pop())}function Mu(t,e){const n=t.indexOf(e);n>=0&&t.splice(n,1)}function Ule(t,e){for(let n=0;n<e.length;n++)f9(t,e[n])}function Wle(t,e){for(let n=0;n<e.length;n++)Mu(t,e[n])}function VP(t,e,n){t.splice(n,0,e)}function p9(t,e,n){if(null!=t&&null!=e)for(let i=e.length-1;i>=0;i--)VP(t,e[i],n)}function g9(t,e,n){Wle(t,e),e.slice().reverse().forEach(i=>VP(t,i,n))}function yd(t,e){return t.indexOf(e)>-1}function zle(t){return[].concat.apply([],t)}function m9(t,e){null==e||null==t||e.forEach(n=>t.push(n))}function Qxe(t){return t.map(LP)}function Jxe(t,e){if(null!=t)for(let n=t.length-1;n>=0;n--)e(t[n],n)}Za(Gle,{areEqual:()=>fg,existsAndNotEmpty:()=>Ble,flatten:()=>zle,forEachReverse:()=>Jxe,includes:()=>yd,insertArrayIntoArray:()=>p9,insertIntoArray:()=>VP,last:()=>Ir,moveInArray:()=>g9,pushAll:()=>m9,removeAllFromArray:()=>Wle,removeAllFromUnorderedArray:()=>Ule,removeFromArray:()=>Mu,removeFromUnorderedArray:()=>f9,removeRepeatsFromArray:()=>Xxe,shallowCompare:()=>Yxe,sortNumerically:()=>Hle,toStrings:()=>Qxe});var jle="__ag_Grid_Stop_Propagation",Zxe=["touchstart","touchend","touchmove","touchcancel","scroll"],v9={};function Pf(t){t[jle]=!0}function Mf(t){return!0===t[jle]}var _9=(()=>{const t={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if("boolean"==typeof v9[n])return v9[n];const i=document.createElement(t[n]||"div");return v9[n="on"+n]=n in i}})();function FV(t,e,n){let i=e;for(;i;){const r=t.getDomData(i,n);if(r)return r;i=i.parentElement}return null}function kV(t,e){return!(!e||!t)&&qle(e).indexOf(t)>=0}function $le(t){const e=[];let n=t.target;for(;n;)e.push(n),n=n.parentElement;return e}function qle(t){const e=t;return e.path?e.path:e.composedPath?e.composedPath():$le(e)}function Kle(t,e,n,i){const s=yd(Zxe,n)?{passive:!0}:void 0;t&&t.addEventListener&&t.addEventListener(e,n,i,s)}var Dv=class Bme{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=()=>!this.destroyed}getFrameworkOverrides(){return this.frameworkOverrides}getContext(){return this.context}destroy(){this.destroyFunctions.forEach(e=>e()),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:Bme.EVENT_DESTROYED})}addEventListener(e,n){this.localEventService||(this.localEventService=new xf),this.localEventService.addEventListener(e,n)}removeEventListener(e,n){this.localEventService&&this.localEventService.removeEventListener(e,n)}dispatchEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedListener(e,n,i){if(this.destroyed)return;e instanceof HTMLElement?Kle(this.getFrameworkOverrides(),e,n,i):e.addEventListener(n,i);const r=()=>(e.removeEventListener(n,i),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==r),null);return this.destroyFunctions.push(r),r}setupGridOptionListener(e,n){this.gridOptionsService.addEventListener(e,n);const i=()=>(this.gridOptionsService.removeEventListener(e,n),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==i),null);return this.destroyFunctions.push(i),i}addManagedPropertyListener(e,n){return this.destroyed?()=>null:this.setupGridOptionListener(e,n)}addManagedPropertyListeners(e,n){if(this.destroyed)return;const i=e.join("-")+this.propertyListenerId++,r=s=>{if(s.changeSet){if(s.changeSet&&s.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=s.changeSet.id}n({type:"gridPropertyChanged",changeSet:s.changeSet,source:s.source})};e.forEach(s=>this.setupGridOptionListener(s,r))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,n){const i=this.createBean(e,n);return this.addDestroyFunc(this.destroyBean.bind(this,e,n)),i}createBean(e,n,i){return(n||this.getContext()).createBean(e,i)}destroyBean(e,n){return(n||this.getContext()).destroyBean(e)}destroyBeans(e,n){return e&&e.forEach(i=>this.destroyBean(i,n)),[]}};Dv.EVENT_DESTROYED="destroyed",N([K("frameworkOverrides")],Dv.prototype,"frameworkOverrides",2),N([K("context")],Dv.prototype,"context",2),N([K("eventService")],Dv.prototype,"eventService",2),N([K("gridOptionsService")],Dv.prototype,"gridOptionsService",2),N([K("localeService")],Dv.prototype,"localeService",2),N([K("environment")],Dv.prototype,"environment",2),N([zc],Dv.prototype,"destroy",1);var Jt=Dv,LI=class extends Jt{setBeans(t){this.logger=t.create("ColumnFactory")}createColumnTree(t,e,n,i){const r=new Uxe,{existingCols:s,existingGroups:o,existingColKeys:c}=this.extractExistingTreeData(n);r.addExistingKeys(c);const h=this.recursivelyCreateColumns(t,0,e,s,r,o,i),p=this.findMaxDept(h,0);this.logger.log("Number of levels for grouped columns is "+p);const m=this.balanceColumnTree(h,0,p,r);return this.columnUtils.depthFirstOriginalTreeSearch(null,m,(I,L)=>{I instanceof Wo&&I.setupExpandable(),I.setOriginalParent(L)}),{columnTree:m,treeDept:p}}extractExistingTreeData(t){const e=[],n=[],i=[];return t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,r=>{if(r instanceof Wo)n.push(r);else{const s=r;i.push(s.getId()),e.push(s)}}),{existingCols:e,existingGroups:n,existingColKeys:i}}createForAutoGroups(t,e){return t.map(n=>this.createAutoGroupTreeItem(e,n))}createAutoGroupTreeItem(t,e){const n=this.findDepth(t);let i=e;for(let r=n-1;r>=0;r--){const s=new Wo(null,`FAKE_PATH_${e.getId()}}_${r}`,!0,r);this.createBean(s),s.setChildren([i]),i.setOriginalParent(s),i=s}return 0===n&&e.setOriginalParent(null),i}findDepth(t){let e=0,n=t;for(;n&&n[0]&&n[0]instanceof Wo;)e++,n=n[0].getChildren();return e}balanceColumnTree(t,e,n,i){const r=[];for(let s=0;s<t.length;s++){const o=t[s];if(o instanceof Wo){const c=o,h=this.balanceColumnTree(c.getChildren(),e+1,n,i);c.setChildren(h),r.push(c)}else{let c,h;for(let p=n-1;p>=e;p--){const m=i.getUniqueKey(null,null),y=this.createMergedColGroupDef(null),I=new Wo(y,m,!0,e);this.createBean(I),h&&h.setChildren([I]),h=I,c||(c=h)}if(c&&h){if(r.push(c),t.some(m=>m instanceof Wo)){h.setChildren([o]);continue}h.setChildren(t);break}r.push(o)}}return r}findMaxDept(t,e){let n=e;for(let i=0;i<t.length;i++){const r=t[i];if(r instanceof Wo){const o=this.findMaxDept(r.getChildren(),e+1);n<o&&(n=o)}}return n}recursivelyCreateColumns(t,e,n,i,r,s,o){if(!t)return[];const c=new Array(t.length);for(let h=0;h<c.length;h++){const p=t[h];c[h]=this.isColumnGroup(p)?this.createColumnGroup(n,p,e,i,r,s,o):this.createColumn(n,p,i,r,o)}return c}createColumnGroup(t,e,n,i,r,s,o){const c=this.createMergedColGroupDef(e),h=r.getUniqueKey(c.groupId||null,null),p=new Wo(c,h,!1,n);this.createBean(p);const m=this.findExistingGroup(e,s);m&&s.splice(m.idx,1);let y=m?.group;y&&p.setExpanded(y.isExpanded());const I=this.recursivelyCreateColumns(c.children,n+1,t,i,r,s,o);return p.setChildren(I),p}createMergedColGroupDef(t){const e={};return Object.assign(e,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(e,t),e}createColumn(t,e,n,i,r){const s=this.findExistingColumn(e,n);s&&n?.splice(s.idx,1);let o=s?.column;if(o){const c=this.addColumnDefaultAndTypes(e,o.getColId());o.setColDef(c,e,r),this.applyColumnState(o,c,r)}else{const c=i.getUniqueKey(e.colId,e.field),h=this.addColumnDefaultAndTypes(e,c);o=new ts(h,e,c,t),this.context.createBean(o)}return this.dataTypeService.addColumnListeners(o),o}applyColumnState(t,e,n){const i=By(e.flex);if(void 0!==i&&t.setFlex(i),t.getFlex()<=0){const c=By(e.width);if(null!=c)t.setActualWidth(c,n);else{const h=t.getActualWidth();t.setActualWidth(h,n)}}void 0!==e.sort&&t.setSort("asc"==e.sort||"desc"==e.sort?e.sort:void 0,n);const s=By(e.sortIndex);void 0!==s&&t.setSortIndex(s);const o=DV(e.hide);void 0!==o&&t.setVisible(!o,n),void 0!==e.pinned&&t.setPinned(e.pinned)}findExistingColumn(t,e){if(e)for(let n=0;n<e.length;n++){const i=e[n].getUserProvidedColDef();if(i)if(null==t.colId){if(null==t.field){if(i===t)return{idx:n,column:e[n]}}else if(i.field===t.field)return{idx:n,column:e[n]}}else if(e[n].getId()===t.colId)return{idx:n,column:e[n]}}}findExistingGroup(t,e){if(null!=t.groupId)for(let i=0;i<e.length;i++){const r=e[i];if(r.getColGroupDef()&&r.getId()===t.groupId)return{idx:i,group:r}}}addColumnDefaultAndTypes(t,e){const n={};_d(n,this.gridOptionsService.get("defaultColDef"),!1,!0);const r=this.dataTypeService.updateColDefAndGetColumnType(n,t,e);r&&this.assignColumnTypes(r,n),_d(n,t,!1,!0);const s=this.gridOptionsService.get("autoGroupColumnDef"),o=this.gridOptionsService.isColumnsSortingCoupledToGroup();return t.rowGroup&&s&&o&&_d(n,{sort:s.sort,initialSort:s.initialSort},!1,!0),this.dataTypeService.validateColDef(n),n}assignColumnTypes(t,e){if(!t.length)return;const n=Object.assign({},Kxe);tc(this.gridOptionsService.get("columnTypes")||{},(r,s)=>{r in n?console.warn(`AG Grid: the column type '${r}' is a default column type and cannot be overridden.`):(s.type&&li("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),n[r]=s)}),t.forEach(r=>{const s=n[r.trim()];s?_d(e,s,!1,!0):console.warn("AG Grid: colDef.type '"+r+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(t){return void 0!==t.children}};N([K("columnUtils")],LI.prototype,"columnUtils",2),N([K("dataTypeService")],LI.prototype,"dataTypeService",2),N([Df(0,_h("loggerFactory"))],LI.prototype,"setBeans",1),LI=N([In("columnFactory")],LI);var LV=class Mg{constructor(e,n,i,r){this.displayedChildren=[],this.localEventService=new xf,this.groupId=n,this.partId=i,this.providedColumnGroup=e,this.pinned=r}static createUniqueId(e,n){return e+"_"+n}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return Mg.createUniqueId(this.groupId,this.partId)}isEmptyGroup(){return 0===this.displayedChildren.length}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!(!e||0===e.length)&&e.every(n=>n.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{e instanceof Mg&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.get("enableRtl")){const n=Ir(this.displayedChildren).getLeft();this.setLeft(n)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(Mg.EVENT_LEFT_CHANGED)))}getPinned(){return this.pinned}createAgEvent(e){return{type:e}}addEventListener(e,n){this.localEventService.addEventListener(e,n)}removeEventListener(e,n){this.localEventService.removeEventListener(e,n)}getGroupId(){return this.groupId}getPartId(){return this.partId}isChildInThisGroupDeepSearch(e){let n=!1;return this.children.forEach(i=>{e===i&&(n=!0),i instanceof Mg&&i.isChildInThisGroupDeepSearch(e)&&(n=!0)}),n}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(n=>{e+=n.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(n=>{n.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(n=>{e+=n.getMinWidth()||0}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}addDisplayedLeafColumns(e){this.displayedChildren.forEach(n=>{n instanceof ts?e.push(n):n instanceof Mg&&n.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(n=>{n instanceof ts?e.push(n):n instanceof Mg&&n.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return this.isPadding()&&e&&e.isPadding()?1+e.getPaddingLevel():0}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;null!=e&&e.isPadding();)e=e.getParent();if(!e||!e.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(Mg.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(i=>{if(!(i instanceof Mg)||i.displayedChildren&&i.displayedChildren.length)switch(i.getColumnGroupShow()){case"open":e.providedColumnGroup.isExpanded()&&this.displayedChildren.push(i);break;case"closed":e.providedColumnGroup.isExpanded()||this.displayedChildren.push(i);break;default:this.displayedChildren.push(i)}}),this.localEventService.dispatchEvent(this.createAgEvent(Mg.EVENT_DISPLAYED_CHILDREN_CHANGED))}};LV.EVENT_LEFT_CHANGED="leftChanged",LV.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",N([K("gridOptionsService")],LV.prototype,"gridOptionsService",2);var va=LV,W=class{};W.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",W.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",W.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",W.EVENT_PIVOT_MAX_COLUMNS_EXCEEDED="pivotMaxColumnsExceeded",W.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",W.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",W.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",W.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",W.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",W.EVENT_COLUMN_MOVED="columnMoved",W.EVENT_COLUMN_VISIBLE="columnVisible",W.EVENT_COLUMN_PINNED="columnPinned",W.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",W.EVENT_COLUMN_RESIZED="columnResized",W.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",W.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns",W.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide",W.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation",W.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",W.EVENT_COLUMN_HEADER_MOUSE_OVER="columnHeaderMouseOver",W.EVENT_COLUMN_HEADER_MOUSE_LEAVE="columnHeaderMouseLeave",W.EVENT_COLUMN_HEADER_CLICKED="columnHeaderClicked",W.EVENT_COLUMN_HEADER_CONTEXT_MENU="columnHeaderContextMenu",W.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",W.EVENT_ROW_GROUP_OPENED="rowGroupOpened",W.EVENT_ROW_DATA_UPDATED="rowDataUpdated",W.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",W.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",W.EVENT_CHART_CREATED="chartCreated",W.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",W.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",W.EVENT_CHART_DESTROYED="chartDestroyed",W.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",W.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",W.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",W.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",W.EVENT_MODEL_UPDATED="modelUpdated",W.EVENT_CUT_START="cutStart",W.EVENT_CUT_END="cutEnd",W.EVENT_PASTE_START="pasteStart",W.EVENT_PASTE_END="pasteEnd",W.EVENT_FILL_START="fillStart",W.EVENT_FILL_END="fillEnd",W.EVENT_RANGE_DELETE_START="rangeDeleteStart",W.EVENT_RANGE_DELETE_END="rangeDeleteEnd",W.EVENT_UNDO_STARTED="undoStarted",W.EVENT_UNDO_ENDED="undoEnded",W.EVENT_REDO_STARTED="redoStarted",W.EVENT_REDO_ENDED="redoEnded",W.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",W.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",W.EVENT_CELL_CLICKED="cellClicked",W.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",W.EVENT_CELL_MOUSE_DOWN="cellMouseDown",W.EVENT_CELL_CONTEXT_MENU="cellContextMenu",W.EVENT_CELL_VALUE_CHANGED="cellValueChanged",W.EVENT_CELL_EDIT_REQUEST="cellEditRequest",W.EVENT_ROW_VALUE_CHANGED="rowValueChanged",W.EVENT_CELL_FOCUSED="cellFocused",W.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",W.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",W.EVENT_ROW_SELECTED="rowSelected",W.EVENT_SELECTION_CHANGED="selectionChanged",W.EVENT_TOOLTIP_SHOW="tooltipShow",W.EVENT_TOOLTIP_HIDE="tooltipHide",W.EVENT_CELL_KEY_DOWN="cellKeyDown",W.EVENT_CELL_MOUSE_OVER="cellMouseOver",W.EVENT_CELL_MOUSE_OUT="cellMouseOut",W.EVENT_FILTER_CHANGED="filterChanged",W.EVENT_FILTER_MODIFIED="filterModified",W.EVENT_FILTER_OPENED="filterOpened",W.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged",W.EVENT_SORT_CHANGED="sortChanged",W.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",W.EVENT_ROW_CLICKED="rowClicked",W.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",W.EVENT_GRID_READY="gridReady",W.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed",W.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",W.EVENT_VIEWPORT_CHANGED="viewportChanged",W.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",W.EVENT_FIRST_DATA_RENDERED="firstDataRendered",W.EVENT_DRAG_STARTED="dragStarted",W.EVENT_DRAG_STOPPED="dragStopped",W.EVENT_CHECKBOX_CHANGED="checkboxChanged",W.EVENT_ROW_EDITING_STARTED="rowEditingStarted",W.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",W.EVENT_CELL_EDITING_STARTED="cellEditingStarted",W.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",W.EVENT_BODY_SCROLL="bodyScroll",W.EVENT_BODY_SCROLL_END="bodyScrollEnd",W.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",W.EVENT_PAGINATION_CHANGED="paginationChanged",W.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",W.EVENT_STORE_REFRESHED="storeRefreshed",W.EVENT_STATE_UPDATED="stateUpdated",W.EVENT_COLUMN_MENU_VISIBLE_CHANGED="columnMenuVisibleChanged",W.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",W.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED="columnContainerWidthChanged",W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",W.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",W.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",W.EVENT_FLASH_CELLS="flashCells",W.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",W.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",W.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",W.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",W.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",W.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",W.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",W.EVENT_ROW_DRAG_ENTER="rowDragEnter",W.EVENT_ROW_DRAG_MOVE="rowDragMove",W.EVENT_ROW_DRAG_LEAVE="rowDragLeave",W.EVENT_ROW_DRAG_END="rowDragEnd",W.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",W.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",W.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",W.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",W.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",W.EVENT_STORE_UPDATED="storeUpdated",W.EVENT_FILTER_DESTROYED="filterDestroyed",W.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",W.EVENT_ROW_COUNT_READY="rowCountReady",W.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",W.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",W.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",W.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected",W.EVENT_SIDE_BAR_UPDATED="sideBarUpdated";var VV=new Set([W.EVENT_GRID_PRE_DESTROYED]),Yle=class{constructor(){this.existingIds={}}getInstanceIdForKey(t){const e=this.existingIds[t];let n;return n="number"!=typeof e?0:e+1,this.existingIds[t]=n,n}},VI="ag-Grid-AutoColumn",GP=class extends Jt{createAutoGroupColumns(t){const e=[],n=this.gridOptionsService.get("treeData");let i=this.gridOptionsService.isGroupMultiAutoColumn();return n&&i&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),i=!1),i?t.forEach((r,s)=>{e.push(this.createOneAutoGroupColumn(r,s))}):e.push(this.createOneAutoGroupColumn()),e}updateAutoGroupColumns(t,e){t.forEach((n,i)=>this.updateOneAutoGroupColumn(n,i,e))}createOneAutoGroupColumn(t,e){let n;n=t?`${VI}-${t.getId()}`:VI;const i=this.createAutoGroupColDef(n,t,e);i.colId=n;const r=new ts(i,null,n,!0);return this.context.createBean(r),r}updateOneAutoGroupColumn(t,e,n){const i=t.getColDef(),r="string"==typeof i.showRowGroup?i.showRowGroup:void 0,s=null!=r?this.columnModel.getPrimaryColumn(r):void 0,o=this.createAutoGroupColDef(t.getId(),s??void 0,e);t.setColDef(o,null,n),this.columnFactory.applyColumnState(t,o,n)}createAutoGroupColDef(t,e,n){let i=this.createBaseColDef(e);return _d(i,this.gridOptionsService.get("autoGroupColumnDef")),i=this.columnFactory.addColumnDefaultAndTypes(i,t),this.gridOptionsService.get("treeData")||pi(i.field)&&pi(i.valueGetter)&&pi(i.filterValueGetter)&&"agGroupColumnFilter"!==i.filter&&(i.filter=!1),n&&n>0&&(i.headerCheckboxSelection=!1),this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!(i.valueGetter||null!=i.field)&&(i.sortIndex=void 0,i.initialSort=void 0),i}createBaseColDef(t){const e=this.gridOptionsService.get("autoGroupColumnDef"),i={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(e&&(e.cellRenderer||e.cellRendererSelector)||(i.cellRenderer="agGroupCellRenderer"),t){const s=t.getColDef();Object.assign(i,{headerName:this.columnModel.getDisplayNameForColumn(t,"header"),headerValueGetter:s.headerValueGetter}),s.cellRenderer&&Object.assign(i,{cellRendererParams:{innerRenderer:s.cellRenderer,innerRendererParams:s.cellRendererParams}}),i.showRowGroup=t.getColId()}else i.showRowGroup=!0;return i}};N([K("columnModel")],GP.prototype,"columnModel",2),N([K("columnFactory")],GP.prototype,"columnFactory",2),GP=N([In("autoGroupColService")],GP);var Xle={};Za(Xle,{camelCaseToHumanText:()=>Qle,camelCaseToHyphenated:()=>Jle,capitalise:()=>i1e,escapeString:()=>_a,utf8_encode:()=>n1e});var e1e=/[&<>"']/g,t1e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function n1e(t){const e=String.fromCharCode;function r(y,I){return e(y>>I&63|128)}function s(y){if(y>=0&&y<=31&&10!==y)return`_x${y.toString(16).toUpperCase().padStart(4,"0")}_`;if(!(4294967168&y))return e(y);let I="";return 4294965248&y?4294901760&y?4292870144&y||(I=e(y>>18&7|240),I+=r(y,12),I+=r(y,6)):(function i(y){if(y>=55296&&y<=57343)throw Error("Lone surrogate U+"+y.toString(16).toUpperCase()+" is not a scalar value")}(y),I=e(y>>12&15|224),I+=r(y,6)):I=e(y>>6&31|192),I+=e(63&y|128),I}const o=function n(y){const I=[];if(!y)return[];const L=y.length;let X,Q,U=0;for(;U<L;)X=y.charCodeAt(U++),X>=55296&&X<=56319&&U<L?(Q=y.charCodeAt(U++),56320==(64512&Q)?I.push(((1023&X)<<10)+(1023&Q)+65536):(I.push(X),U--)):I.push(X);return I}(t),c=o.length;let p,h=-1,m="";for(;++h<c;)p=o[h],m+=s(p);return m}function i1e(t){return t[0].toUpperCase()+t.substring(1).toLowerCase()}function _a(t,e){if(null==t)return null;const n=t.toString().toString();return e?n:n.replace(e1e,i=>t1e[i])}function Qle(t){return t&&null!=t?t.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map(r=>r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")).join(" "):null}function Jle(t){return t.replace(/[A-Z]/g,e=>`-${e.toLocaleLowerCase()}`)}var Zle={};function Uy(t){const e=new Map;return t.forEach(n=>e.set(n[0],n[1])),e}function r1e(t,e){const n=new Map;return t.forEach(i=>n.set(e(i),i)),n}function s1e(t){const e=[];return t.forEach((n,i)=>e.push(i)),e}Za(Zle,{convertToMap:()=>Uy,keys:()=>s1e,mapById:()=>r1e});var Oa=class extends Jt{constructor(){super(...arguments),this.primaryHeaderRowCount=0,this.secondaryHeaderRowCount=0,this.gridHeaderRowCount=0,this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.displayedColumnsAndGroupsMap={},this.viewportColumns=[],this.viewportColumnsHash="",this.headerViewportColumns=[],this.viewportColumnsCenter=[],this.headerViewportColumnsCenter=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.autoHeightActiveAtLeastOnce=!1,this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[],this.ready=!1,this.changeEventsDispatching=!1,this.autoGroupsNeedBuilding=!1,this.forceRecreateAutoGroups=!1,this.pivotMode=!1,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}init(){this.suppressColumnVirtualisation=this.gridOptionsService.get("suppressColumnVirtualisation");const t=this.gridOptionsService.get("pivotMode");this.isPivotSettingAllowed(t)&&(this.pivotMode=t),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.buildAutoGroupColumns(GI(e.source))),this.addManagedPropertyListener("autoGroupColumnDef",e=>this.onAutoGroupColumnDefChanged(GI(e.source))),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],e=>this.onSharedColDefChanged(GI(e.source))),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gridOptionsService.get("pivotMode"),GI(e.source))),this.addManagedListener(this.eventService,W.EVENT_FIRST_DATA_RENDERED,()=>this.onFirstDataRendered())}buildAutoGroupColumns(t){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns(t))}onAutoGroupColumnDefChanged(t){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,t)}onSharedColDefChanged(t){this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,t),this.createColumnsFromColumnDefs(!0,t))}setColumnDefs(t,e){const n=!!this.columnDefs;this.columnDefs=t,this.createColumnsFromColumnDefs(n,e)}recreateColumnDefs(t){this.onSharedColDefChanged(t)}destroyOldColumns(t,e){const n={};if(!t)return;this.columnUtils.depthFirstOriginalTreeSearch(null,t,r=>{n[r.getInstanceId()]=r}),e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,r=>{n[r.getInstanceId()]=null});const i=Object.values(n).filter(r=>null!=r);this.destroyBeans(i)}destroyColumns(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)}createColumnsFromColumnDefs(t,e){const n=t?this.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;const i=this.primaryColumns,s=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree,e);this.destroyOldColumns(this.primaryColumnTree,s.columnTree),this.primaryColumnTree=s.columnTree,this.primaryHeaderRowCount=s.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(h=>this.primaryColumnsMap[h.getId()]=h),this.extractRowGroupColumns(e,i),this.extractPivotColumns(e,i),this.extractValueColumns(e,i),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary||this.autoGroupsNeedBuilding)&&(this.updateGridColumns(),t&&this.gridColsArePrimary&&!this.gridOptionsService.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(e),this.checkViewportColumns()),this.dispatchEverythingChanged(e),this.changeEventsDispatching=!0,n&&n(),this.changeEventsDispatching=!1,this.dispatchNewColumnsLoaded(e)}shouldRowModelIgnoreRefresh(){return this.changeEventsDispatching}dispatchNewColumnsLoaded(t){this.eventService.dispatchEvent({type:W.EVENT_NEW_COLUMNS_LOADED,source:t}),"gridInitializing"===t&&this.onColumnsReady()}dispatchEverythingChanged(t){this.eventService.dispatchEvent({type:W.EVENT_COLUMN_EVERYTHING_CHANGED,source:t})}orderGridColumnsLikePrimary(){const t=this.primaryColumns;if(!t)return;const e=t.filter(i=>this.gridColumns.indexOf(i)>=0),n=this.gridColumns.filter(i=>e.indexOf(i)<0);this.gridColumns=[...n,...e],this.gridColumns=this.placeLockedColumns(this.gridColumns)}getAllDisplayedAutoHeightCols(){return this.displayedAutoHeightCols}setViewport(){this.gridOptionsService.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)}getDisplayedColumnsStartingAt(t){let e=t;const n=[];for(;null!=e;)n.push(e),e=this.getDisplayedColAfter(e);return n}checkViewportColumns(t=!1){null!=this.displayedColumnsCenter&&this.extractViewport()&&this.eventService.dispatchEvent({type:W.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:t})}setViewportPosition(t,e,n=!1){(t!==this.scrollWidth||e!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=t,this.scrollPosition=e,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(n))}isPivotMode(){return this.pivotMode}isPivotSettingAllowed(t){return!t||!this.gridOptionsService.get("treeData")||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)}setPivotMode(t,e){t!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=t,this.gridColumns)&&(this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(e),this.eventService.dispatchEvent({type:W.EVENT_COLUMN_PIVOT_MODE_CHANGED}))}getSecondaryPivotColumn(t,e){if(pi(this.secondaryColumns))return null;const n=this.getPrimaryColumn(e);let i=null;return this.secondaryColumns.forEach(r=>{const s=r.getColDef().pivotKeys,o=r.getColDef().pivotValueColumn;fg(s,t)&&o===n&&(i=r)}),i}setBeans(t){this.logger=t.create("columnModel")}setFirstRightAndLastLeftPinned(t){let e,n;this.gridOptionsService.get("enableRtl")?(e=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,n=this.displayedColumnsRight?Ir(this.displayedColumnsRight):null):(e=this.displayedColumnsLeft?Ir(this.displayedColumnsLeft):null,n=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(i=>{i.setLastLeftPinned(i===e,t),i.setFirstRightPinned(i===n,t)})}autoSizeColumns(t){if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push(()=>this.autoSizeColumns(t));const{columns:e,skipHeader:n,skipHeaderGroups:i,stopAtGroup:r,source:s="api"}=t;this.animationFrameService.flushAllFrames();const o=[];let c=-1;const h=n??this.gridOptionsService.get("skipHeaderOnAutoSize"),p=i??h;for(;0!==c;)c=0,this.actionOnGridColumns(e,m=>{if(o.indexOf(m)>=0)return!1;const y=this.autoWidthCalculator.getPreferredWidthForColumn(m,h);if(y>0){const I=this.normaliseColumnWidth(m,y);m.setActualWidth(I,s),o.push(m),c++}return!0},s);p||this.autoSizeColumnGroupsByColumns(e,s,r),this.dispatchColumnResizedEvent(o,!0,"autosizeColumns")}dispatchColumnResizedEvent(t,e,n,i=null){t&&t.length&&this.eventService.dispatchEvent({type:W.EVENT_COLUMN_RESIZED,columns:t,column:1===t.length?t[0]:null,flexColumns:i,finished:e,source:n})}dispatchColumnChangedEvent(t,e,n){this.eventService.dispatchEvent({type:t,columns:e,column:e&&1==e.length?e[0]:null,source:n})}dispatchColumnMovedEvent(t){const{movedColumns:e,source:n,toIndex:i,finished:r}=t;this.eventService.dispatchEvent({type:W.EVENT_COLUMN_MOVED,columns:e,column:e&&1===e.length?e[0]:null,toIndex:i,finished:r,source:n})}dispatchColumnPinnedEvent(t,e){if(!t.length)return;const n=1===t.length?t[0]:null,i=this.getCommonValue(t,s=>s.getPinned());this.eventService.dispatchEvent({type:W.EVENT_COLUMN_PINNED,pinned:i??null,columns:t,column:n,source:e})}dispatchColumnVisibleEvent(t,e){if(!t.length)return;const n=1===t.length?t[0]:null,i=this.getCommonValue(t,s=>s.isVisible());this.eventService.dispatchEvent({type:W.EVENT_COLUMN_VISIBLE,visible:i,columns:t,column:n,source:e})}autoSizeColumn(t,e,n){t&&this.autoSizeColumns({columns:[t],skipHeader:n,skipHeaderGroups:!0,source:e})}autoSizeColumnGroupsByColumns(t,e,n){const i=new Set;let s;this.getGridColumns(t).forEach(c=>{let h=c.getParent();for(;h&&h!=n;)h.isPadding()||i.add(h),h=h.getParent()});for(const c of i){for(const h of this.ctrlsService.getHeaderRowContainerCtrls())if(s=h.getHeaderCtrlForColumn(c),s)break;s&&s.resizeLeafColumnsToFit(e)}return[]}autoSizeAllColumns(t,e){if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push(()=>this.autoSizeAllColumns(t,e));const n=this.getAllDisplayedColumns();this.autoSizeColumns({columns:n,skipHeader:e,source:t})}getColumnsFromTree(t){const e=[],n=i=>{for(let r=0;r<i.length;r++){const s=i[r];s instanceof ts?e.push(s):s instanceof Wo&&n(s.getChildren())}};return n(t),e}getAllDisplayedTrees(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null}getPrimaryColumnTree(){return this.primaryColumnTree}getHeaderRowCount(){return this.gridHeaderRowCount}getDisplayedTreeLeft(){return this.displayedTreeLeft}getDisplayedTreeRight(){return this.displayedTreeRight}getDisplayedTreeCentre(){return this.displayedTreeCentre}isColumnDisplayed(t){return this.getAllDisplayedColumns().indexOf(t)>=0}getAllDisplayedColumns(){return this.displayedColumns}getViewportColumns(){return this.viewportColumns}getDisplayedLeftColumnsForRow(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsLeft):this.displayedColumnsLeft}getDisplayedRightColumnsForRow(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsRight):this.displayedColumnsRight}isColSpanActive(){return this.colSpanActive}getDisplayedColumnsForRow(t,e,n,i){const r=[];let s=null;for(let o=0;o<e.length;o++){const c=e[o],h=e.length-o,p=Math.min(c.getColSpan(t),h),m=[c];if(p>1){const I=p-1;for(let L=1;L<=I;L++)m.push(e[o+L]);o+=I}let y;n?(y=!1,m.forEach(I=>{n(I)&&(y=!0)})):y=!0,y&&(0===r.length&&s&&i&&i(c)&&r.push(s),r.push(c)),s=c}return r}getViewportCenterColumnsForRow(t){if(!this.colSpanActive)return this.viewportColumnsCenter;const n=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(t,this.displayedColumnsCenter,n,i=>{const r=i.getLeft();return $t(r)&&r>this.viewportLeft})}isColumnAtEdge(t,e){const n=this.getAllDisplayedColumns();if(!n.length)return!1;const i="first"===e;let r;if(t instanceof va){const s=t.getDisplayedLeafColumns();if(!s.length)return!1;r=i?s[0]:Ir(s)}else r=t;return(i?n[0]:Ir(n))===r}getAriaColumnIndex(t){let e;return e=t instanceof va?t.getLeafColumns()[0]:t,this.ariaOrderColumns.indexOf(e)+1}isColumnInHeaderViewport(t){return!!t.isAutoHeaderHeight()||this.isColumnInRowViewport(t)}isColumnInRowViewport(t){if(t.isAutoHeight())return!0;const e=t.getLeft()||0,n=e+t.getActualWidth(),i=this.viewportLeft-200,r=this.viewportRight+200;return!(e<i&&n<i||e>r&&n>r)}getDisplayedColumnsLeftWidth(){return this.getWidthOfColsInList(this.displayedColumnsLeft)}getDisplayedColumnsRightWidth(){return this.getWidthOfColsInList(this.displayedColumnsRight)}updatePrimaryColumnList(t,e,n,i,r,s){if(!t||vd(t))return;let o=!1;t.forEach(h=>{if(!h)return;const p=this.getPrimaryColumn(h);if(p){if(n){if(e.indexOf(p)>=0)return;e.push(p)}else{if(e.indexOf(p)<0)return;Mu(e,p)}i(p),o=!0}}),o&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s),this.eventService.dispatchEvent({type:r,columns:e,column:1===e.length?e[0]:null,source:s}))}setRowGroupColumns(t,e){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(t,this.rowGroupColumns,W.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),e)}setRowGroupActive(t,e,n){t!==e.isRowGroupActive()&&(e.setRowGroupActive(t,n),t&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&this.setColumnsVisible([e],!1,n),!t&&!this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnsVisible([e],!0,n))}addRowGroupColumns(t,e){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),W.EVENT_COLUMN_ROW_GROUP_CHANGED,e)}removeRowGroupColumns(t,e){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),W.EVENT_COLUMN_ROW_GROUP_CHANGED,e)}addPivotColumns(t,e){this.updatePrimaryColumnList(t,this.pivotColumns,!0,n=>n.setPivotActive(!0,e),W.EVENT_COLUMN_PIVOT_CHANGED,e)}setPivotColumns(t,e){this.setPrimaryColumnList(t,this.pivotColumns,W.EVENT_COLUMN_PIVOT_CHANGED,!0,(n,i)=>{i.setPivotActive(n,e)},e)}removePivotColumns(t,e){this.updatePrimaryColumnList(t,this.pivotColumns,!1,n=>n.setPivotActive(!1,e),W.EVENT_COLUMN_PIVOT_CHANGED,e)}setPrimaryColumnList(t,e,n,i,r,s){if(!this.gridColumns)return;const o=new Map;e.forEach((c,h)=>o.set(c,h)),e.length=0,$t(t)&&t.forEach(c=>{const h=this.getPrimaryColumn(c);h&&e.push(h)}),e.forEach((c,h)=>{const p=o.get(c);void 0!==p?i&&p!==h||o.delete(c):o.set(c,0)}),(this.primaryColumns||[]).forEach(c=>{const h=e.indexOf(c)>=0;r(h,c)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s),this.dispatchColumnChangedEvent(n,[...o.keys()],s)}setValueColumns(t,e){this.setPrimaryColumnList(t,this.valueColumns,W.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),e)}setValueActive(t,e,n){if(t!==e.isValueActive()&&(e.setValueActive(t,n),t&&!e.getAggFunc())){const i=this.aggFuncService.getDefaultAggFunc(e);e.setAggFunc(i)}}addValueColumns(t,e){this.updatePrimaryColumnList(t,this.valueColumns,!0,this.setValueActive.bind(this,!0),W.EVENT_COLUMN_VALUE_CHANGED,e)}removeValueColumns(t,e){this.updatePrimaryColumnList(t,this.valueColumns,!1,this.setValueActive.bind(this,!1),W.EVENT_COLUMN_VALUE_CHANGED,e)}normaliseColumnWidth(t,e){const n=t.getMinWidth();$t(n)&&e<n&&(e=n);const i=t.getMaxWidth();return $t(i)&&t.isGreaterThanMax(e)&&(e=i),e}getPrimaryOrGridColumn(t){return this.getPrimaryColumn(t)||this.getGridColumn(t)}setColumnWidths(t,e,n,i){const r=[];t.forEach(s=>{const o=this.getPrimaryOrGridColumn(s.key);if(o&&(r.push({width:s.newWidth,ratios:[1],columns:[o]}),"shift"===this.gridOptionsService.get("colResizeDefault")&&(e=!e),e)){const h=this.getDisplayedColAfter(o);if(!h)return;const p=o.getActualWidth()-s.newWidth,m=h.getActualWidth()+p;r.push({width:m,ratios:[1],columns:[h]})}}),0!==r.length&&this.resizeColumnSets({resizeSets:r,finished:n,source:i})}checkMinAndMaxWidthsForSet(t){const{columns:e,width:n}=t;let i=0,r=0,s=!0;return e.forEach(h=>{const p=h.getMinWidth();i+=p||0;const m=h.getMaxWidth();$t(m)&&m>0?r+=m:s=!1}),n>=i&&(!s||n<=r)}resizeColumnSets(t){const{resizeSets:e,finished:n,source:i}=t;if(e&&!e.every(m=>this.checkMinAndMaxWidthsForSet(m)))return void(n&&this.dispatchColumnResizedEvent(e&&e.length>0?e[0].columns:null,n,i));const s=[],o=[];e.forEach(m=>{const{width:y,columns:I,ratios:L}=m,U={},X={};I.forEach(Te=>o.push(Te));let Q=!0,pe=0;for(;Q;){if(pe++,pe>1e3){console.error("AG Grid: infinite loop in resizeColumnSets");break}Q=!1;const Te=[];let Le=0,tt=y;I.forEach((Ot,Se)=>{X[Ot.getId()]?tt-=U[Ot.getId()]:(Te.push(Ot),Le+=L[Se])});const zt=1/Le;Te.forEach((Ot,Se)=>{let Re;Se===Te.length-1?Re=tt:(Re=Math.round(L[Se]*y*zt),tt-=Re);const Ke=Ot.getMinWidth(),et=Ot.getMaxWidth();$t(Ke)&&Re<Ke?(Re=Ke,X[Ot.getId()]=!0,Q=!0):$t(et)&&et>0&&Re>et&&(Re=et,X[Ot.getId()]=!0,Q=!0),U[Ot.getId()]=Re})}I.forEach(Te=>{const Le=U[Te.getId()];Te.getActualWidth()!==Le&&(Te.setActualWidth(Le,i),s.push(Te))})});const c=s.length>0;let h=[];c&&(h=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}),this.setLeftValues(i),this.updateBodyWidths(),this.checkViewportColumns());const p=o.concat(h);(c||n)&&this.dispatchColumnResizedEvent(p,n,i,h)}setColumnAggFunc(t,e,n){if(!t)return;const i=this.getPrimaryColumn(t);i&&(i.setAggFunc(e),this.dispatchColumnChangedEvent(W.EVENT_COLUMN_VALUE_CHANGED,[i],n))}moveRowGroupColumn(t,e,n){if(this.isRowGroupEmpty())return;const i=this.rowGroupColumns[t],r=this.rowGroupColumns.slice(t,e);this.rowGroupColumns.splice(t,1),this.rowGroupColumns.splice(e,0,i),this.eventService.dispatchEvent({type:W.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:r,column:1===r.length?r[0]:null,source:n})}moveColumns(t,e,n,i=!0){if(!this.gridColumns)return;if(this.columnAnimationService.start(),e>this.gridColumns.length-t.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+e),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");const r=this.getGridColumns(t);this.doesMovePassRules(r,e)&&(g9(this.gridColumns,r,e),this.updateDisplayedColumns(n),this.dispatchColumnMovedEvent({movedColumns:r,source:n,toIndex:e,finished:i}),this.columnAnimationService.finish())}doesMovePassRules(t,e){const n=this.getProposedColumnOrder(t,e);return this.doesOrderPassRules(n)}doesOrderPassRules(t){return!(!this.doesMovePassMarryChildren(t)||!this.doesMovePassLockedPositions(t))}getProposedColumnOrder(t,e){const n=this.gridColumns.slice();return g9(n,t,e),n}sortColumnsLikeGridColumns(t){!t||t.length<=1||t.filter(n=>this.gridColumns.indexOf(n)<0).length>0||t.sort((n,i)=>this.gridColumns.indexOf(n)-this.gridColumns.indexOf(i))}doesMovePassLockedPositions(t){let e=0,n=!0;return t.forEach(r=>{const s=(r=>r?!0===r||"left"===r?0:2:1)(r.getColDef().lockPosition);s<e&&(n=!1),e=s}),n}doesMovePassMarryChildren(t){let e=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,n=>{if(!(n instanceof Wo))return;const i=n,r=i.getColGroupDef();if(!r||!r.marryChildren)return;const o=[];i.getLeafColumns().forEach(y=>{const I=t.indexOf(y);o.push(I)}),Math.max.apply(Math,o)-Math.min.apply(Math,o)>i.getLeafColumns().length-1&&(e=!1)}),e}moveColumnByIndex(t,e,n){this.gridColumns&&this.moveColumns([this.gridColumns[t]],e,n)}getColumnDefs(){if(!this.primaryColumns)return;const t=this.primaryColumns.slice();return this.gridColsArePrimary?t.sort((e,n)=>this.gridColumns.indexOf(e)-this.gridColumns.indexOf(n)):this.lastPrimaryOrder&&t.sort((e,n)=>this.lastPrimaryOrder.indexOf(e)-this.lastPrimaryOrder.indexOf(n)),this.columnDefFactory.buildColumnDefs(t,this.rowGroupColumns,this.pivotColumns)}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(t){switch(t){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}updateBodyWidths(){const t=this.getWidthOfColsInList(this.displayedColumnsCenter),e=this.getWidthOfColsInList(this.displayedColumnsLeft),n=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==t,(this.bodyWidth!==t||this.leftWidth!==e||this.rightWidth!==n)&&(this.bodyWidth=t,this.leftWidth=e,this.rightWidth=n,this.eventService.dispatchEvent({type:W.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED}),this.eventService.dispatchEvent({type:W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED}))}getValueColumns(){return this.valueColumns?this.valueColumns:[]}getPivotColumns(){return this.pivotColumns?this.pivotColumns:[]}isPivotActive(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode}getRowGroupColumns(){return this.rowGroupColumns?this.rowGroupColumns:[]}getDisplayedCenterColumns(){return this.displayedColumnsCenter}getDisplayedLeftColumns(){return this.displayedColumnsLeft}getDisplayedRightColumns(){return this.displayedColumnsRight}getDisplayedColumns(t){switch(t){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}}getAllPrimaryColumns(){return this.primaryColumns?this.primaryColumns:null}getSecondaryColumns(){return this.secondaryColumns?this.secondaryColumns:null}getAllColumnsForQuickFilter(){return this.columnsForQuickFilter}getAllGridColumns(){var t;return null!=(t=this.gridColumns)?t:[]}isEmpty(){return vd(this.gridColumns)}isRowGroupEmpty(){return vd(this.rowGroupColumns)}setColumnsVisible(t,e=!1,n){this.applyColumnState({state:t.map(i=>({colId:"string"==typeof i?i:i.getColId(),hide:!e}))},n)}setColumnsPinned(t,e,n){if(!this.gridColumns)return;if(this.gridOptionsService.isDomLayout("print"))return void console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");let i;this.columnAnimationService.start(),i=!0===e||"left"===e?"left":"right"===e?"right":null,this.actionOnGridColumns(t,r=>r.getPinned()!==i&&(r.setPinned(i),!0),n,()=>({type:W.EVENT_COLUMN_PINNED,pinned:i,column:null,columns:null,source:n})),this.columnAnimationService.finish()}actionOnGridColumns(t,e,n,i){if(vd(t))return;const r=[];if(t.forEach(s=>{if(!s)return;const o=this.getGridColumn(s);o&&!1!==e(o)&&r.push(o)}),r.length&&(this.updateDisplayedColumns(n),$t(i)&&i)){const s=i();s.columns=r,s.column=1===r.length?r[0]:null,this.eventService.dispatchEvent(s)}}getDisplayedColBefore(t){const e=this.getAllDisplayedColumns(),n=e.indexOf(t);return n>0?e[n-1]:null}getDisplayedColAfter(t){const e=this.getAllDisplayedColumns(),n=e.indexOf(t);return n<e.length-1?e[n+1]:null}getDisplayedGroupAfter(t){return this.getDisplayedGroupAtDirection(t,"After")}getDisplayedGroupBefore(t){return this.getDisplayedGroupAtDirection(t,"Before")}getDisplayedGroupAtDirection(t,e){const n=t.getProvidedColumnGroup().getLevel()+t.getPaddingLevel(),i=t.getDisplayedLeafColumns(),r="After"===e?Ir(i):i[0],s=`getDisplayedCol${e}`;for(;;){const o=this[s](r);if(!o)return null;const c=this.getColumnGroupAtLevel(o,n);if(c!==t)return c}}getColumnGroupAtLevel(t,e){let i,r,n=t.getParent();for(;i=n.getProvidedColumnGroup().getLevel(),r=n.getPaddingLevel(),!(i+r<=e);)n=n.getParent();return n}isPinningLeft(){return this.displayedColumnsLeft.length>0}isPinningRight(){return this.displayedColumnsRight.length>0}getPrimaryAndSecondaryAndAutoColumns(){return[].concat(this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[])}createStateItemFromColumn(t){const e=t.isRowGroupActive()?this.rowGroupColumns.indexOf(t):null,n=t.isPivotActive()?this.pivotColumns.indexOf(t):null,i=t.isValueActive()?t.getAggFunc():null,r=null!=t.getSort()?t.getSort():null,s=null!=t.getSortIndex()?t.getSortIndex():null,o=null!=t.getFlex()&&t.getFlex()>0?t.getFlex():null;return{colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:r,sortIndex:s,aggFunc:i,rowGroup:t.isRowGroupActive(),rowGroupIndex:e,pivot:t.isPivotActive(),pivotIndex:n,flex:o}}getColumnState(){if(pi(this.primaryColumns)||!this.isAlive())return[];const e=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(e),e}orderColumnStateList(t){const e=Uy(this.gridColumns.map((n,i)=>[n.getColId(),i]));t.sort((n,i)=>(e.has(n.colId)?e.get(n.colId):-1)-(e.has(i.colId)?e.get(i.colId):-1))}resetColumnState(t){if(vd(this.primaryColumns))return;const e=this.getColumnsFromTree(this.primaryColumnTree),n=[];let i=1e3,r=1e3,s=[];this.groupAutoColumns&&(s=s.concat(this.groupAutoColumns)),e&&(s=s.concat(e)),s.forEach(o=>{const c=this.getColumnStateFromColDef(o);pi(c.rowGroupIndex)&&c.rowGroup&&(c.rowGroupIndex=i++),pi(c.pivotIndex)&&c.pivot&&(c.pivotIndex=r++),n.push(c)}),this.applyColumnState({state:n,applyOrder:!0},t)}getColumnStateFromColDef(t){const e=(U,X)=>U??X??null,n=t.getColDef(),i=e(n.sort,n.initialSort),r=e(n.sortIndex,n.initialSortIndex),s=e(n.hide,n.initialHide),o=e(n.pinned,n.initialPinned),c=e(n.width,n.initialWidth),h=e(n.flex,n.initialFlex);let p=e(n.rowGroupIndex,n.initialRowGroupIndex),m=e(n.rowGroup,n.initialRowGroup);null==p&&(null==m||0==m)&&(p=null,m=null);let y=e(n.pivotIndex,n.initialPivotIndex),I=e(n.pivot,n.initialPivot);null==y&&(null==I||0==I)&&(y=null,I=null);const L=e(n.aggFunc,n.initialAggFunc);return{colId:t.getColId(),sort:i,sortIndex:r,hide:s,pinned:o,width:c,flex:h,rowGroup:m,rowGroupIndex:p,pivot:I,pivotIndex:y,aggFunc:L}}applyColumnState(t,e){if(vd(this.primaryColumns))return!1;if(t&&t.state&&!t.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const n=(s,o,c)=>{const h=this.compareColumnStatesAndDispatchEvents(e);this.autoGroupsNeedBuilding=!0;const p=o.slice(),m={},y={},I=[],L=[];let U=0;const X=this.rowGroupColumns.slice(),Q=this.pivotColumns.slice();s.forEach(tt=>{const zt=tt.colId||"";if(zt.startsWith(VI))return I.push(tt),void L.push(tt);const Se=c(zt);Se?(this.syncColumnWithStateItem(Se,tt,t.defaultState,m,y,!1,e),Mu(p,Se)):(L.push(tt),U+=1)});const pe=tt=>this.syncColumnWithStateItem(tt,null,t.defaultState,m,y,!1,e);p.forEach(pe);const Te=(tt,zt,Ot,Se)=>{const me=tt[Ot.getId()],Re=tt[Se.getId()],Ke=null!=me,et=null!=Re;if(Ke&&et)return me-Re;if(Ke)return-1;if(et)return 1;const pt=zt.indexOf(Ot),Oe=zt.indexOf(Se),Ah=pt>=0;return Ah&&Oe>=0?pt-Oe:Ah?-1:1};this.rowGroupColumns.sort(Te.bind(this,m,X)),this.pivotColumns.sort(Te.bind(this,y,Q)),this.updateGridColumns();const Le=this.groupAutoColumns?this.groupAutoColumns.slice():[];return I.forEach(tt=>{const zt=this.getAutoColumn(tt.colId);Mu(Le,zt),this.syncColumnWithStateItem(zt,tt,t.defaultState,null,null,!0,e)}),Le.forEach(pe),this.applyOrderAfterApplyState(t),this.updateDisplayedColumns(e),this.dispatchEverythingChanged(e),h(),{unmatchedAndAutoStates:L,unmatchedCount:U}};this.columnAnimationService.start();let{unmatchedAndAutoStates:i,unmatchedCount:r}=n(t.state||[],this.primaryColumns||[],s=>this.getPrimaryColumn(s));return(i.length>0||$t(t.defaultState))&&(r=n(i,this.secondaryColumns||[],s=>this.getSecondaryColumn(s)).unmatchedCount),this.columnAnimationService.finish(),0===r}applyOrderAfterApplyState(t){if(!t.applyOrder||!t.state)return;let e=[];const n={};t.state.forEach(r=>{if(!r.colId||n[r.colId])return;const s=this.gridColumnsMap[r.colId];s&&(e.push(s),n[r.colId]=!0)});let i=0;this.gridColumns.forEach(r=>{const s=r.getColId();null==n[s]&&(s.startsWith(VI)?VP(e,r,i++):e.push(r))}),e=this.placeLockedColumns(e),this.doesMovePassMarryChildren(e)?this.gridColumns=e:console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}compareColumnStatesAndDispatchEvents(t){const e={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},n=this.getColumnState(),i={};return n.forEach(r=>{i[r.colId]=r}),()=>{const r=this.getPrimaryAndSecondaryAndAutoColumns(),s=(X,Q,pe,Te)=>{if(fg(Q.map(Te),pe.map(Te)))return;const Ot=new Set(Q);pe.forEach(Re=>{Ot.delete(Re)||Ot.add(Re)});const Se=[...Ot];this.eventService.dispatchEvent({type:X,columns:Se,column:1===Se.length?Se[0]:null,source:t})},o=X=>{const Q=[];return r.forEach(pe=>{const Te=i[pe.getColId()];Te&&X(Te,pe)&&Q.push(pe)}),Q},c=X=>X.getColId();s(W.EVENT_COLUMN_ROW_GROUP_CHANGED,e.rowGroupColumns,this.rowGroupColumns,c),s(W.EVENT_COLUMN_PIVOT_CHANGED,e.pivotColumns,this.pivotColumns,c);const p=o((X,Q)=>{const pe=null!=X.aggFunc,Te=pe!=Q.isValueActive(),Le=pe&&X.aggFunc!=Q.getAggFunc();return Te||Le});p.length>0&&this.dispatchColumnChangedEvent(W.EVENT_COLUMN_VALUE_CHANGED,p,t),this.dispatchColumnResizedEvent(o((X,Q)=>X.width!=Q.getActualWidth()),!0,t),this.dispatchColumnPinnedEvent(o((X,Q)=>X.pinned!=Q.getPinned()),t),this.dispatchColumnVisibleEvent(o((X,Q)=>X.hide==Q.isVisible()),t);const U=o((X,Q)=>X.sort!=Q.getSort()||X.sortIndex!=Q.getSortIndex());U.length>0&&this.sortController.dispatchSortChangedEvents(t,U),this.normaliseColumnMovedEventForColumnState(n,t)}}getCommonValue(t,e){if(!t||0==t.length)return;const n=e(t[0]);for(let i=1;i<t.length;i++)if(n!==e(t[i]))return;return n}normaliseColumnMovedEventForColumnState(t,e){const n=this.getColumnState(),i={};n.forEach(h=>i[h.colId]=h);const r={};t.forEach(h=>{i[h.colId]&&(r[h.colId]=!0)});const s=t.filter(h=>r[h.colId]),o=n.filter(h=>r[h.colId]),c=[];o.forEach((h,p)=>{const m=s&&s[p];if(m&&m.colId!==h.colId){const y=this.getGridColumn(m.colId);y&&c.push(y)}}),c.length&&this.dispatchColumnMovedEvent({movedColumns:c,source:e,finished:!0})}syncColumnWithStateItem(t,e,n,i,r,s,o){if(!t)return;const c=(Le,tt)=>{const zt={value1:void 0,value2:void 0};let Ot=!1;return e&&(void 0!==e[Le]&&(zt.value1=e[Le],Ot=!0),$t(tt)&&void 0!==e[tt]&&(zt.value2=e[tt],Ot=!0)),!Ot&&n&&(void 0!==n[Le]&&(zt.value1=n[Le]),$t(tt)&&void 0!==n[tt]&&(zt.value2=n[tt])),zt},h=c("hide").value1;void 0!==h&&t.setVisible(!h,o);const p=c("pinned").value1;void 0!==p&&t.setPinned(p);const m=this.columnUtils.calculateColMinWidth(t.getColDef()),y=c("flex").value1;if(void 0!==y&&t.setFlex(y),null==y){const Le=c("width").value1;null!=Le&&null!=m&&Le>=m&&t.setActualWidth(Le,o)}const I=c("sort").value1;void 0!==I&&t.setSort("desc"===I||"asc"===I?I:void 0,o);const L=c("sortIndex").value1;if(void 0!==L&&t.setSortIndex(L),s||!t.isPrimary())return;const U=c("aggFunc").value1;void 0!==U&&("string"==typeof U?(t.setAggFunc(U),t.isValueActive()||(t.setValueActive(!0,o),this.valueColumns.push(t))):($t(U)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),t.isValueActive()&&(t.setValueActive(!1,o),Mu(this.valueColumns,t))));const{value1:X,value2:Q}=c("rowGroup","rowGroupIndex");(void 0!==X||void 0!==Q)&&("number"==typeof Q||X?(t.isRowGroupActive()||(t.setRowGroupActive(!0,o),this.rowGroupColumns.push(t)),i&&"number"==typeof Q&&(i[t.getId()]=Q)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,o),Mu(this.rowGroupColumns,t)));const{value1:pe,value2:Te}=c("pivot","pivotIndex");(void 0!==pe||void 0!==Te)&&("number"==typeof Te||pe?(t.isPivotActive()||(t.setPivotActive(!0,o),this.pivotColumns.push(t)),r&&"number"==typeof Te&&(r[t.getId()]=Te)):t.isPivotActive()&&(t.setPivotActive(!1,o),Mu(this.pivotColumns,t)))}getGridColumns(t){return this.getColumns(t,this.getGridColumn.bind(this))}getColumns(t,e){const n=[];return t&&t.forEach(i=>{const r=e(i);r&&n.push(r)}),n}getColumnWithValidation(t){if(null==t)return null;const e=this.getGridColumn(t);return e||console.warn("AG Grid: could not find column "+t),e}getPrimaryColumn(t){return this.primaryColumns?this.getColumn(t,this.primaryColumns,this.primaryColumnsMap):null}getGridColumn(t){return this.getColumn(t,this.gridColumns,this.gridColumnsMap)}lookupGridColumn(t){return this.gridColumnsMap[t]}getSecondaryColumn(t){return this.secondaryColumns?this.getColumn(t,this.secondaryColumns,this.secondaryColumnsMap):null}getColumn(t,e,n){if(!t||!n)return null;if("string"==typeof t&&n[t])return n[t];for(let i=0;i<e.length;i++)if(this.columnsMatch(e[i],t))return e[i];return this.getAutoColumn(t)}getSourceColumnsForGroupColumn(t){const e=t.getColDef().showRowGroup;if(!e)return null;if(!0===e)return this.rowGroupColumns.slice(0);const n=this.getPrimaryColumn(e);return n?[n]:null}getAutoColumn(t){return this.groupAutoColumns&&$t(this.groupAutoColumns)&&!pi(this.groupAutoColumns)&&this.groupAutoColumns.find(e=>this.columnsMatch(e,t))||null}columnsMatch(t,e){const n=t===e,i=t.getColDef()===e,r=t.getColId()==e;return n||i||r}getDisplayNameForColumn(t,e,n=!1){if(!t)return null;const i=this.getHeaderName(t.getColDef(),t,null,null,e);return n?this.wrapHeaderNameWithAggFunc(t,i):i}getDisplayNameForProvidedColumnGroup(t,e,n){const i=e?e.getColGroupDef():null;return i?this.getHeaderName(i,null,t,e,n):null}getDisplayNameForColumnGroup(t,e){return this.getDisplayNameForProvidedColumnGroup(t,t.getProvidedColumnGroup(),e)}getHeaderName(t,e,n,i,r){const s=t.headerValueGetter;if(s){const o=this.gridOptionsService.addGridCommonParams({colDef:t,column:e,columnGroup:n,providedColumnGroup:i,location:r});return"function"==typeof s?s(o):"string"==typeof s?this.expressionService.evaluate(s,o):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}return null!=t.headerName?t.headerName:t.field?Qle(t.field):""}wrapHeaderNameWithAggFunc(t,e){if(this.gridOptionsService.get("suppressAggFuncInHeader"))return e;const n=t.getColDef().pivotValueColumn;let s,r=null;if($t(n)){const o=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&1===this.valueColumns.length,c=void 0!==t.getColDef().pivotTotalColumnIds;if(o&&!c)return e;r=n?n.getAggFunc():null,s=!0}else{const o=t.isValueActive(),c=this.pivotMode||!this.isRowGroupEmpty();o&&c?(r=t.getAggFunc(),s=!0):s=!1}if(s){const o="string"==typeof r?r:"func";return`${this.localeService.getLocaleTextFunc()(o,o)}(${e})`}return e}getColumnGroup(t,e){if(!t)return null;if(t instanceof va)return t;const n=this.getAllDisplayedTrees(),i="number"==typeof e;let r=null;return this.columnUtils.depthFirstAllColumnTreeSearch(n,s=>{if(s instanceof va){const o=s;let c;c=i?t===o.getGroupId()&&e===o.getPartId():t===o.getGroupId(),c&&(r=o)}}),r}isReady(){return this.ready}extractValueColumns(t,e){this.valueColumns=this.extractColumns(e,this.valueColumns,(n,i)=>n.setValueActive(i,t),()=>{},()=>{},n=>{const i=n.aggFunc;return null===i||""===i?null:void 0!==i?!!i:void 0},n=>null!=n.initialAggFunc&&""!=n.initialAggFunc),this.valueColumns.forEach(n=>{const i=n.getColDef();null!=i.aggFunc&&""!=i.aggFunc?n.setAggFunc(i.aggFunc):n.getAggFunc()||n.setAggFunc(i.initialAggFunc)})}extractRowGroupColumns(t,e){this.rowGroupColumns=this.extractColumns(e,this.rowGroupColumns,(n,i)=>n.setRowGroupActive(i,t),n=>n.rowGroupIndex,n=>n.initialRowGroupIndex,n=>n.rowGroup,n=>n.initialRowGroup)}extractColumns(t=[],e=[],n,i,r,s,o){const c=[],h=[];(this.primaryColumns||[]).forEach(y=>{const I=t.indexOf(y)<0,L=y.getColDef(),U=DV(s(L)),X=DV(o(L)),Q=By(i(L)),pe=By(r(L));let Te;Te=void 0!==U?U:void 0!==Q?null!==Q&&Q>=0:I?void 0!==X?X:void 0!==pe&&null!=pe&&pe>=0:e.indexOf(y)>=0,Te&&((I?null!=Q||null!=pe:null!=Q)?c.push(y):h.push(y))});const p=y=>{const I=i(y.getColDef()),L=r(y.getColDef());return I??L};c.sort((y,I)=>{const L=p(y),U=p(I);return L===U?0:L<U?-1:1});const m=[].concat(c);return e.forEach(y=>{h.indexOf(y)>=0&&m.push(y)}),h.forEach(y=>{m.indexOf(y)<0&&m.push(y)}),e.forEach(y=>{m.indexOf(y)<0&&n(y,!1)}),m.forEach(y=>{e.indexOf(y)<0&&n(y,!0)}),m}extractPivotColumns(t,e){this.pivotColumns=this.extractColumns(e,this.pivotColumns,(n,i)=>n.setPivotActive(i,t),n=>n.pivotIndex,n=>n.initialPivotIndex,n=>n.pivot,n=>n.initialPivot)}resetColumnGroupState(t){if(!this.primaryColumnTree)return;const e=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,n=>{if(n instanceof Wo){const i=n.getColGroupDef(),r={groupId:n.getGroupId(),open:i?i.openByDefault:void 0};e.push(r)}}),this.setColumnGroupState(e,t)}getColumnGroupState(){const t=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,e=>{e instanceof Wo&&t.push({groupId:e.getGroupId(),open:e.isExpanded()})}),t}setColumnGroupState(t,e){if(!this.gridBalancedTree)return;this.columnAnimationService.start();const n=[];t.forEach(i=>{const s=i.open,o=this.getProvidedColumnGroup(i.groupId);o&&o.isExpanded()!==s&&(this.logger.log("columnGroupOpened("+o.getGroupId()+","+s+")"),o.setExpanded(s),n.push(o))}),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e),n.length&&this.eventService.dispatchEvent({type:W.EVENT_COLUMN_GROUP_OPENED,columnGroup:1===Wo.length?n[0]:void 0,columnGroups:n}),this.columnAnimationService.finish()}setColumnGroupOpened(t,e,n){let i;i=t instanceof Wo?t.getId():t||"",this.setColumnGroupState([{groupId:i,open:e}],n)}getProvidedColumnGroup(t){"string"!=typeof t&&console.error("AG Grid: group key must be a string");let e=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,n=>{n instanceof Wo&&n.getId()===t&&(e=n)}),e}calculateColumnsForDisplay(){let t;return t=this.pivotMode&&pi(this.secondaryColumns)?this.gridColumns.filter(e=>{const n=this.groupAutoColumns&&yd(this.groupAutoColumns,e),i=this.valueColumns&&yd(this.valueColumns,e);return n||i}):this.gridColumns.filter(e=>this.groupAutoColumns&&yd(this.groupAutoColumns,e)||e.isVisible()),t}checkColSpanActiveInCols(t){let e=!1;return t.forEach(n=>{$t(n.getColDef().colSpan)&&(e=!0)}),e}calculateColumnsForGroupDisplay(){this.groupDisplayColumns=[],this.groupDisplayColumnsMap={},this.gridColumns.forEach(e=>{const n=e.getColDef(),i=n.showRowGroup;n&&$t(i)&&(this.groupDisplayColumns.push(e),"string"==typeof i?this.groupDisplayColumnsMap[i]=e:!0===i&&this.getRowGroupColumns().forEach(r=>{this.groupDisplayColumnsMap[r.getId()]=e}))})}getGroupDisplayColumns(){return this.groupDisplayColumns}getGroupDisplayColumnForGroup(t){return this.groupDisplayColumnsMap[t]}updateDisplayedColumns(t){const e=this.calculateColumnsForDisplay();this.buildDisplayedTrees(e),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t)}isSecondaryColumnsPresent(){return $t(this.secondaryColumns)}setSecondaryColumns(t,e){if(!this.gridColumns)return;const n=t;if(n||!pi(this.secondaryColumns)){if(n){this.processSecondaryColumnDefinitions(t);const i=this.columnFactory.createColumnTree(t,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0,e);this.destroyOldColumns(this.secondaryBalancedTree,i.columnTree),this.secondaryBalancedTree=i.columnTree,this.secondaryHeaderRowCount=i.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(r=>this.secondaryColumnsMap[r.getId()]=r),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(e)}}processSecondaryColumnDefinitions(t){const e=this.gridOptionsService.get("processPivotResultColDef"),n=this.gridOptionsService.get("processPivotResultColGroupDef");if(!e&&!n)return;const i=r=>{r.forEach(s=>{if($t(s.children)){const c=s;n&&n(c),i(c.children)}else e&&e(s)})};t&&i(t)}updateGridColumns(){const t=this.gridBalancedTree;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.createGroupAutoColumnsIfNeeded()){const i=Uy(this.groupAutoColumns.map(r=>[r,!0]));this.lastPrimaryOrder&&(this.lastPrimaryOrder=this.lastPrimaryOrder.filter(r=>!i.has(r)),this.lastPrimaryOrder=[...this.groupAutoColumns,...this.lastPrimaryOrder]),this.lastSecondaryOrder&&(this.lastSecondaryOrder=this.lastSecondaryOrder.filter(r=>!i.has(r)),this.lastSecondaryOrder=[...this.groupAutoColumns,...this.lastSecondaryOrder])}let n;if(this.secondaryColumns&&this.secondaryBalancedTree){const i=this.secondaryColumns.some(r=>void 0!==this.gridColumnsMap[r.getColId()]);this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,i&&(n=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,n=this.lastPrimaryOrder);this.addAutoGroupToGridColumns(),this.orderGridColsLike(n),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(i=>this.gridColumnsMap[i.getId()]=i),this.setAutoHeightActive(),fg(t,this.gridBalancedTree)||this.eventService.dispatchEvent({type:W.EVENT_GRID_COLUMNS_CHANGED})}setAutoHeightActive(){this.autoHeightActive=this.gridColumns.filter(t=>t.isAutoHeight()).length>0,this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide")||li("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}orderGridColsLike(t){if(pi(t))return;const e=Uy(t.map((h,p)=>[h,p]));let n=!0;if(this.gridColumns.forEach(h=>{e.has(h)&&(n=!1)}),n)return;const i=Uy(this.gridColumns.map(h=>[h,!0])),r=t.filter(h=>i.has(h)),s=Uy(r.map(h=>[h,!0])),o=this.gridColumns.filter(h=>!s.has(h)),c=r.slice();o.forEach(h=>{let p=h.getOriginalParent();if(!p)return void c.push(h);const m=[];for(;!m.length&&p;)p.getLeafColumns().forEach(U=>{const X=c.indexOf(U)>=0,Q=m.indexOf(U)<0;X&&Q&&m.push(U)}),p=p.getOriginalParent();if(!m.length)return void c.push(h);const y=m.map(L=>c.indexOf(L)),I=Math.max(...y);VP(c,h,I+1)}),this.gridColumns=c}isPrimaryColumnGroupsPresent(){return this.primaryHeaderRowCount>1}refreshQuickFilterColumns(){var t;let e=null!=(t=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)?t:[];this.groupAutoColumns&&(e=e.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")?e:e.filter(n=>n.isVisible()||n.isRowGroupActive())}placeLockedColumns(t){const e=[],n=[],i=[];return t.forEach(r=>{const s=r.getColDef().lockPosition;"right"===s?i.push(r):"left"===s||!0===s?e.push(r):n.push(r)}),[...e,...n,...i]}addAutoGroupToGridColumns(){if(pi(this.groupAutoColumns))return this.destroyOldColumns(this.groupAutoColsBalancedTree),void(this.groupAutoColsBalancedTree=null);this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;const t=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,t),this.groupAutoColsBalancedTree=t,this.gridBalancedTree=t.concat(this.gridBalancedTree)}clearDisplayedAndViewportColumns(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.ariaOrderColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""}updateGroupsAndDisplayedColumns(t){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(t),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:W.EVENT_DISPLAYED_COLUMNS_CHANGED})}deriveDisplayedColumns(t){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinColumnsAriaOrder(),this.joinDisplayedColumns(),this.setLeftValues(t),this.displayedAutoHeightCols=this.displayedColumns.filter(e=>e.isAutoHeight())}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}joinColumnsAriaOrder(){const t=this.getAllGridColumns(),e=[],n=[],i=[];for(const r of t){const s=r.getPinned();s?!0===s||"left"===s?e.push(r):i.push(r):n.push(r)}this.ariaOrderColumns=e.concat(n).concat(i)}joinDisplayedColumns(){this.displayedColumns=this.gridOptionsService.get("enableRtl")?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)}setLeftValues(t){this.setLeftValuesOfColumns(t),this.setLeftValuesOfGroups()}setLeftValuesOfColumns(t){if(!this.primaryColumns)return;const e=this.getPrimaryAndSecondaryAndAutoColumns().slice(0),n=this.gridOptionsService.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(i=>{if(n){let r=this.getWidthOfColsInList(i);i.forEach(s=>{r-=s.getActualWidth(),s.setLeft(r,t)})}else{let r=0;i.forEach(s=>{s.setLeft(r,t),r+=s.getActualWidth()})}Ule(e,i)}),e.forEach(i=>{i.setLeft(null,t)})}setLeftValuesOfGroups(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(t=>{t.forEach(e=>{e instanceof va&&e.checkLeft()})})}derivedDisplayedColumnsFromDisplayedTree(t,e){e.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(t,n=>{n instanceof ts&&e.push(n)})}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||0===this.viewportRight}extractViewportColumns(){this.isColumnVirtualisationSuppressed()?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)}getVirtualHeaderGroupRow(t,e){let n;switch(t){case"left":n=this.viewportRowLeft[e];break;case"right":n=this.viewportRowRight[e];break;default:n=this.viewportRowCenter[e]}return pi(n)&&(n=[]),n}calculateHeaderRows(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};const t={};this.headerViewportColumns.forEach(n=>t[n.getId()]=!0);const e=(n,i,r)=>{let s=!1;for(let o=0;o<n.length;o++){const c=n[o];let h=!1;if(c instanceof ts)h=!0===t[c.getId()];else{const m=c.getDisplayedChildren();m&&(h=e(m,i,r+1))}h&&(s=!0,i[r]||(i[r]=[]),i[r].push(c))}return s};e(this.displayedTreeLeft,this.viewportRowLeft,0),e(this.displayedTreeRight,this.viewportRowRight,0),e(this.displayedTreeCentre,this.viewportRowCenter,0)}extractViewport(){this.extractViewportColumns();const e=this.viewportColumns.map(i=>`${i.getId()}-${i.getPinned()||"normal"}`).join("#"),n=this.viewportColumnsHash!==e;return n&&(this.viewportColumnsHash=e,this.calculateHeaderRows()),n}refreshFlexedColumns(t={}){var e;const n=t.source?t.source:"flex";if(null!=t.viewportWidth&&(this.flexViewportWidth=t.viewportWidth),!this.flexViewportWidth)return[];let i=-1;if(t.resizingCols){const I=new Set(t.resizingCols);let L=this.displayedColumnsCenter;for(let U=L.length-1;U>=0;U--)if(I.has(L[U])){i=U;break}}let r=0,s=[],o=0,c=0;for(let I=0;I<this.displayedColumnsCenter.length;I++)this.displayedColumnsCenter[I].getFlex()&&I>i?(s.push(this.displayedColumnsCenter[I]),c+=this.displayedColumnsCenter[I].getFlex(),o+=null!=(e=this.displayedColumnsCenter[I].getMinWidth())?e:0):r+=this.displayedColumnsCenter[I].getActualWidth();if(!s.length)return[];let h=[];r+o>this.flexViewportWidth&&(s.forEach(I=>{var L;return I.setActualWidth(null!=(L=I.getMinWidth())?L:0,n)}),h=s,s=[]);const p=[];let m;e:for(;;){m=this.flexViewportWidth-r;const I=m/c;for(let L=0;L<s.length;L++){const U=s[L],X=I*U.getFlex();let Q=0;const pe=U.getMinWidth(),Te=U.getMaxWidth();if($t(pe)&&X<pe?Q=pe:$t(Te)&&X>Te&&(Q=Te),Q){U.setActualWidth(Q,n),f9(s,U),c-=U.getFlex(),h.push(U),r+=U.getActualWidth();continue e}p[L]=Math.round(X)}break}let y=m;return s.forEach((I,L)=>{I.setActualWidth(Math.min(p[L],y),n),h.push(I),y-=p[L]}),t.skipSetLeft||this.setLeftValues(n),t.updateBodyWidths&&this.updateBodyWidths(),t.fireResizedEvent&&this.dispatchColumnResizedEvent(h,!0,n,s),s}sizeColumnsToFit(t,e="sizeColumnsToFit",n,i){var r,s,o,c,h;if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push(()=>this.sizeColumnsToFit(t,e,n,i));const p={};i&&(null==(r=i?.columnLimits)||r.forEach(pe=>{var Te=pe,{key:Le}=Te,tt=((t,e)=>{var n={};for(var i in t)Sle.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&AV)for(var i of AV(t))e.indexOf(i)<0&&Tle.call(t,i)&&(n[i]=t[i]);return n})(Te,["key"]);p["string"==typeof Le?Le:Le.getColId()]=tt}));const m=this.getAllDisplayedColumns(),y=t===this.getWidthOfColsInList(m);if(t<=0||!m.length||y)return;const I=[],L=[];m.forEach(pe=>{!0===pe.getColDef().suppressSizeToFit?L.push(pe):I.push(pe)});const U=I.slice(0);let X=!1;const Q=pe=>{Mu(I,pe),L.push(pe)};for(I.forEach(pe=>{var Te,Le;pe.resetActualWidth(e);const tt=p?.[pe.getId()],zt=null!=(Te=tt?.minWidth)?Te:i?.defaultMinWidth,Ot=null!=(Le=tt?.maxWidth)?Le:i?.defaultMaxWidth,Se=pe.getActualWidth();"number"==typeof zt&&Se<zt?pe.setActualWidth(zt,e,!0):"number"==typeof Ot&&Se>Ot&&pe.setActualWidth(Ot,e,!0)});!X;){X=!0;const pe=t-this.getWidthOfColsInList(L);if(pe<=0)I.forEach(Te=>{var Le,tt;const zt=null!=(tt=null==(Le=p?.[Te.getId()])?void 0:Le.minWidth)?tt:i?.defaultMinWidth;"number"!=typeof zt?Te.setMinimum(e):Te.setActualWidth(zt,e,!0)});else{const Te=pe/this.getWidthOfColsInList(I);let Le=pe;for(let tt=I.length-1;tt>=0;tt--){const zt=I[tt],Ot=p?.[zt.getId()],Se=null!=(s=Ot?.minWidth)?s:i?.defaultMinWidth,me=null!=(o=Ot?.maxWidth)?o:i?.defaultMaxWidth,Re=null!=(c=zt.getMinWidth())?c:0,Ke=null!=(h=zt.getMaxWidth())?h:Number.MAX_VALUE,et="number"==typeof Se&&Se>Re?Se:zt.getMinWidth(),pt="number"==typeof me&&me<Ke?me:zt.getMaxWidth();let Oe=Math.round(zt.getActualWidth()*Te);$t(et)&&Oe<et?(Oe=et,Q(zt),X=!1):$t(pt)&&Oe>pt?(Oe=pt,Q(zt),X=!1):0===tt&&(Oe=Le),zt.setActualWidth(Oe,e,!0),Le-=Oe}}}U.forEach(pe=>{pe.fireColumnWidthChangedEvent(e)}),this.setLeftValues(e),this.updateBodyWidths(),!n&&this.dispatchColumnResizedEvent(U,!0,e)}buildDisplayedTrees(t){const e=[],n=[],i=[];t.forEach(s=>{switch(s.getPinned()){case"left":e.push(s);break;case"right":n.push(s);break;default:i.push(s)}});const r=new Yle;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(e,r,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(n,r,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(i,r,null,this.displayedTreeCentre),this.updateDisplayedMap()}updateDisplayedMap(){this.displayedColumnsAndGroupsMap={};const t=e=>{this.displayedColumnsAndGroupsMap[e.getUniqueId()]=e};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,t),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,t),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,t)}isDisplayed(t){return this.displayedColumnsAndGroupsMap[t.getUniqueId()]===t}updateOpenClosedVisibilityInColumnGroups(){const t=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(t,e=>{e instanceof va&&e.calculateDisplayedColumns()})}getGroupAutoColumns(){return this.groupAutoColumns}createGroupAutoColumnsIfNeeded(){const t=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;const e=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),n=this.pivotMode?this.gridOptionsService.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.gridOptionsService.get("treeData"))||n||e)this.groupAutoColumns=null;else{const s=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);if(!this.autoColsEqual(s,this.groupAutoColumns)||t)return this.groupAutoColumns=s,!0}return!1}isGroupSuppressAutoColumn(){return"custom"===this.gridOptionsService.get("groupDisplayType")||"custom"===this.gridOptionsService.get("treeDataDisplayType")}autoColsEqual(t,e){return fg(t,e,(n,i)=>n.getColId()===i.getColId())}getWidthOfColsInList(t){return t.reduce((e,n)=>e+n.getActualWidth(),0)}getFirstDisplayedColumn(){const t=this.gridOptionsService.get("enableRtl"),e=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];t&&e.reverse();for(let n=0;n<e.length;n++){const i=this[e[n]]();if(i.length)return t?Ir(i):i[0]}return null}setColumnHeaderHeight(t,e){t.setAutoHeaderHeight(e)&&this.eventService.dispatchEvent({type:W.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:t,columns:[t],source:"autosizeColumnHeaderHeight"})}getColumnGroupHeaderRowHeight(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()}getColumnHeaderRowHeight(){const t=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),e=this.getAllDisplayedColumns().filter(n=>n.isAutoHeaderHeight()).map(n=>n.getAutoHeaderHeight()||0);return Math.max(t,...e)}getHeaderHeight(){var t;return null!=(t=this.gridOptionsService.get("headerHeight"))?t:this.environment.getFromTheme(25,"headerHeight")}getFloatingFiltersHeight(){var t;return null!=(t=this.gridOptionsService.get("floatingFiltersHeight"))?t:this.getHeaderHeight()}getGroupHeaderHeight(){var t;return null!=(t=this.gridOptionsService.get("groupHeaderHeight"))?t:this.getHeaderHeight()}getPivotHeaderHeight(){var t;return null!=(t=this.gridOptionsService.get("pivotHeaderHeight"))?t:this.getHeaderHeight()}getPivotGroupHeaderHeight(){var t;return null!=(t=this.gridOptionsService.get("pivotGroupHeaderHeight"))?t:this.getGroupHeaderHeight()}queueResizeOperations(){this.shouldQueueResizeOperations=!0}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(t=>t()),this.resizeOperationQueue=[]}resetColumnDefIntoColumn(t,e){const n=t.getUserProvidedColDef();if(!n)return!1;const i=this.columnFactory.addColumnDefaultAndTypes(n,t.getColId());return t.setColDef(i,n,e),!0}isColumnGroupingLocked(t){const e=this.gridOptionsService.get("groupLockGroupColumns");return!(!t.isRowGroupActive()||0===e)&&(-1===e||e>this.rowGroupColumns.findIndex(i=>i.getColId()===t.getColId()))}generateColumnStateForRowGroupAndPivotIndexes(t,e){let n={};const i=(r,s,o,c,h,p)=>{if(!s.length||!this.primaryColumns)return[];const m=Object.keys(r),y=new Set(m),I=new Set(m),L=new Set(s.map(zt=>{const Ot=zt.getColId();return I.delete(Ot),Ot}).concat(m)),U=[],X={};let Q=0;for(let zt=0;zt<this.primaryColumns.length;zt++){const Ot=this.primaryColumns[zt].getColId();L.has(Ot)&&(U.push(Ot),X[Ot]=Q++)}let pe=1e3,Te=!1,Le=0;const tt=zt=>{const Ot=X[zt];for(let Se=Le;Se<Ot;Se++){const me=U[Se];I.has(me)&&(r[me][h]=pe++,I.delete(me))}Le=Ot};s.forEach(zt=>{const Ot=zt.getColId();if(y.has(Ot))tt(Ot),r[Ot][h]=pe++;else{const Se=zt.getColDef();(null===Se[h]||void 0===Se[h]&&null==Se[p])&&(Te||(Se[o]||void 0===Se[o]&&Se[c]?tt(Ot):(I.forEach(Ke=>{r[Ke][h]=pe+X[Ke]}),pe+=U.length,Te=!0)),n[Ot]||(n[Ot]={colId:Ot}),n[Ot][h]=pe++)}})};return i(t,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),i(e,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(n)}onColumnsReady(){const t=this.gridOptionsService.get("autoSizeStrategy");if(!t)return;const{type:e}=t;setTimeout(()=>{if("fitGridWidth"===e){const{columnLimits:n,defaultMinWidth:i,defaultMaxWidth:r}=t,s=n?.map(({colId:o,minWidth:c,maxWidth:h})=>({key:o,minWidth:c,maxWidth:h}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:i,defaultMaxWidth:r,columnLimits:s})}else"fitProvidedWidth"===e&&this.sizeColumnsToFit(t.width,"sizeColumnsToFit")})}onFirstDataRendered(){const t=this.gridOptionsService.get("autoSizeStrategy");if("fitCellContents"!==t?.type)return;const{colIds:e,skipHeader:n}=t;setTimeout(()=>{e?this.autoSizeColumns({columns:e,skipHeader:n,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",n)})}};function GI(t){return"gridOptionsUpdated"===t?"gridOptionsChanged":t}N([K("expressionService")],Oa.prototype,"expressionService",2),N([K("columnFactory")],Oa.prototype,"columnFactory",2),N([K("displayedGroupCreator")],Oa.prototype,"displayedGroupCreator",2),N([K("ctrlsService")],Oa.prototype,"ctrlsService",2),N([K("autoWidthCalculator")],Oa.prototype,"autoWidthCalculator",2),N([K("columnUtils")],Oa.prototype,"columnUtils",2),N([K("columnAnimationService")],Oa.prototype,"columnAnimationService",2),N([K("autoGroupColService")],Oa.prototype,"autoGroupColService",2),N([Cr("aggFuncService")],Oa.prototype,"aggFuncService",2),N([Cr("valueCache")],Oa.prototype,"valueCache",2),N([Cr("animationFrameService")],Oa.prototype,"animationFrameService",2),N([K("sortController")],Oa.prototype,"sortController",2),N([K("columnDefFactory")],Oa.prototype,"columnDefFactory",2),N([tn],Oa.prototype,"init",1),N([zc],Oa.prototype,"destroyColumns",1),N([Df(0,_h("loggerFactory"))],Oa.prototype,"setBeans",1),Oa=N([In("columnModel")],Oa);var y9=class extends Jt{calculateColMinWidth(t){return null!=t.minWidth?t.minWidth:this.environment.getMinColWidth()}calculateColMaxWidth(t){return null!=t.maxWidth?t.maxWidth:Number.MAX_SAFE_INTEGER}calculateColInitialWidth(t){const e=this.calculateColMinWidth(t),n=this.calculateColMaxWidth(t);let i;const r=By(t.width),s=By(t.initialWidth);return i=null!=r?r:null!=s?s:200,Math.max(Math.min(i,n),e)}getOriginalPathForColumn(t,e){const n=[];let i=!1;const r=(s,o)=>{for(let c=0;c<s.length;c++){if(i)return;const h=s[c];h instanceof Wo?(r(h.getChildren(),o+1),n[o]=h):h===t&&(i=!0)}};return r(e,0),i?n:null}depthFirstOriginalTreeSearch(t,e,n){e&&e.forEach(i=>{i instanceof Wo&&this.depthFirstOriginalTreeSearch(i,i.getChildren(),n),n(i,t)})}depthFirstAllColumnTreeSearch(t,e){t&&t.forEach(n=>{n instanceof va&&this.depthFirstAllColumnTreeSearch(n.getChildren(),e),e(n)})}depthFirstDisplayedColumnTreeSearch(t,e){t&&t.forEach(n=>{n instanceof va&&this.depthFirstDisplayedColumnTreeSearch(n.getDisplayedChildren(),e),e(n)})}};y9=N([In("columnUtils")],y9);var b9=class extends Jt{createDisplayedGroups(t,e,n,i){const r=this.mapOldGroupsById(i),s=[];let o=t;for(;o.length;){const c=o;o=[];let h=0;const p=m=>{const y=h;h=m;const I=c[y],U=(I instanceof va?I.getProvidedColumnGroup():I).getOriginalParent();if(null==U){for(let Q=y;Q<m;Q++)s.push(c[Q]);return}const X=this.createColumnGroup(U,e,r,n);for(let Q=y;Q<m;Q++)X.addChild(c[Q]);o.push(X)};for(let m=1;m<c.length;m++){const y=c[m],L=(y instanceof va?y.getProvidedColumnGroup():y).getOriginalParent(),U=c[h];L!==(U instanceof va?U.getProvidedColumnGroup():U).getOriginalParent()&&p(m)}h<c.length&&p(c.length)}return this.setupParentsIntoColumns(s,null),s}createColumnGroup(t,e,n,i){const r=t.getGroupId(),s=e.getInstanceIdForKey(r);let c=n[va.createUniqueId(r,s)];return c&&c.getProvidedColumnGroup()!==t&&(c=null),$t(c)?c.reset():(c=new va(t,r,s,i),this.context.createBean(c)),c}mapOldGroupsById(t){const e={},n=i=>{i.forEach(r=>{if(r instanceof va){const s=r;e[r.getUniqueId()]=s,n(s.getChildren())}})};return t&&n(t),e}setupParentsIntoColumns(t,e){t.forEach(n=>{if(n.setParent(e),n instanceof va){const i=n;this.setupParentsIntoColumns(i.getChildren(),i)}})}};b9=N([In("displayedGroupCreator")],b9);var o1e={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},el=class{};el.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode"],el.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"],el.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],el.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],el.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents"],el.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"],el.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems"],el.FUNCTION_PROPERTIES=[...el.FUNCTIONAL_PROPERTIES,...el.CALLBACK_PROPERTIES],el.ALL_PROPERTIES=[...el.ARRAY_PROPERTIES,...el.OBJECT_PROPERTIES,...el.STRING_PROPERTIES,...el.NUMBER_PROPERTIES,...el.FUNCTION_PROPERTIES,...el.BOOLEAN_PROPERTIES];var pg=el,zo=class YG{static getCallbackForEvent(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}static getGridOptionKeys(){return this.ALL_PROPERTIES_AND_CALLBACKS}static combineAttributesAndGridOptions(e,n){"object"!=typeof e&&(e={});const i=Qn({},e);return YG.getGridOptionKeys().forEach(s=>{const o=n[s];typeof o<"u"&&o!==YG.VUE_OMITTED_PROPERTY&&(i[s]=o)}),i}static processOnChange(e,n){if(!e)return;const i={};let r=!1;if(Object.keys(e).filter(o=>YG.ALL_PROPERTIES_AND_CALLBACKS_SET.has(o)).forEach(o=>{i[o]=e[o],r=!0}),!r)return;n.__internalUpdateGridOptions(i);const s={type:W.EVENT_COMPONENT_STATE_CHANGED};tc(i,(o,c)=>{s[o]=c}),n.dispatchEvent(s)}};zo.EVENTS=uE(W),zo.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",zo.EXCLUDED_INTERNAL_EVENTS=[W.EVENT_SCROLLBAR_WIDTH_CHANGED,W.EVENT_CHECKBOX_CHANGED,W.EVENT_HEIGHT_SCALE_CHANGED,W.EVENT_BODY_HEIGHT_CHANGED,W.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,W.EVENT_SCROLL_VISIBILITY_CHANGED,W.EVENT_COLUMN_HOVER_CHANGED,W.EVENT_FLASH_CELLS,W.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,W.EVENT_DISPLAYED_ROWS_CHANGED,W.EVENT_LEFT_PINNED_WIDTH_CHANGED,W.EVENT_RIGHT_PINNED_WIDTH_CHANGED,W.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,W.EVENT_STORE_UPDATED,W.EVENT_COLUMN_PANEL_ITEM_DRAG_START,W.EVENT_COLUMN_PANEL_ITEM_DRAG_END,W.EVENT_FILL_START,W.EVENT_FILL_END,W.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,W.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,W.EVENT_FULL_WIDTH_ROW_FOCUSED,W.EVENT_HEADER_HEIGHT_CHANGED,W.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,W.EVENT_CELL_FOCUS_CLEARED,W.EVENT_GRID_STYLES_CHANGED,W.EVENT_FILTER_DESTROYED,W.EVENT_ROW_DATA_UPDATE_STARTED,W.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,W.EVENT_DATA_TYPES_INFERRED,W.EVENT_FIELD_VALUE_CHANGED,W.EVENT_FIELD_PICKER_VALUE_SELECTED,W.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,W.EVENT_SUPPRESS_MENU_HIDE_CHANGED,W.EVENT_SUPPRESS_FIELD_DOT_NOTATION,W.EVENT_ROW_COUNT_READY,W.EVENT_SIDE_BAR_UPDATED],zo.PUBLIC_EVENTS=zo.EVENTS.filter(t=>!yd(zo.EXCLUDED_INTERNAL_EVENTS,t)),zo.EVENT_CALLBACKS=zo.EVENTS.map(t=>zo.getCallbackForEvent(t)),zo.STRING_PROPERTIES=pg.STRING_PROPERTIES,zo.OBJECT_PROPERTIES=pg.OBJECT_PROPERTIES,zo.ARRAY_PROPERTIES=pg.ARRAY_PROPERTIES,zo.NUMBER_PROPERTIES=pg.NUMBER_PROPERTIES,zo.BOOLEAN_PROPERTIES=pg.BOOLEAN_PROPERTIES,zo.FUNCTION_PROPERTIES=pg.FUNCTION_PROPERTIES,zo.ALL_PROPERTIES=pg.ALL_PROPERTIES,zo.ALL_PROPERTIES_AND_CALLBACKS=[...zo.ALL_PROPERTIES,...zo.EVENT_CALLBACKS],zo.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(zo.ALL_PROPERTIES_AND_CALLBACKS);var GV=zo,C9=class extends Jt{constructor(){super(...arguments),this.componentsMappedByName={}}setupComponents(t){t&&t.forEach(e=>this.addComponent(e))}addComponent(t){const n=t.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[n]=t.componentClass}getComponentClass(t){return this.componentsMappedByName[t]}};C9=N([In("agStackComponentsRegistry")],C9);var ece={};function yh(t,e,n){null==n||"string"==typeof n&&""==n?w9(t,e):bh(t,e,n)}function bh(t,e,n){t.setAttribute(tce(e),n.toString())}function w9(t,e){t.removeAttribute(tce(e))}function tce(t){return`aria-${t}`}function ho(t,e){e?t.setAttribute("role",e):t.removeAttribute("role")}function nce(t){let e;return e="asc"===t?"ascending":"desc"===t?"descending":"mixed"===t?"other":"none",e}function a1e(t){return parseInt(t.getAttribute("aria-level"),10)}function ice(t){return parseInt(t.getAttribute("aria-posinset"),10)}function rce(t){return t.getAttribute("aria-label")}function Nf(t,e){yh(t,"label",e)}function BV(t,e){yh(t,"labelledby",e)}function l1e(t,e){yh(t,"describedby",e)}function E9(t,e){yh(t,"live",e)}function sce(t,e){yh(t,"atomic",e)}function oce(t,e){yh(t,"relevant",e)}function ace(t,e){yh(t,"level",e)}function S9(t,e){yh(t,"disabled",e)}function BP(t,e){yh(t,"hidden",e)}function T9(t,e){yh(t,"activedescendant",e)}function Rv(t,e){bh(t,"expanded",e)}function lce(t){w9(t,"expanded")}function HV(t,e){bh(t,"setsize",e)}function UV(t,e){bh(t,"posinset",e)}function cce(t,e){bh(t,"multiselectable",e)}function uce(t,e){bh(t,"rowcount",e)}function I9(t,e){bh(t,"rowindex",e)}function dce(t,e){bh(t,"colcount",e)}function A9(t,e){bh(t,"colindex",e)}function hce(t,e){bh(t,"colspan",e)}function fce(t,e){bh(t,"sort",e)}function pce(t){w9(t,"sort")}function BI(t,e){yh(t,"selected",e)}function c1e(t,e){bh(t,"checked",void 0===e?"mixed":e)}function D9(t,e){yh(t,"controls",e.id),BV(e,t.id)}function WV(t,e){return void 0===e?t("ariaIndeterminate","indeterminate"):!0===e?t("ariaChecked","checked"):t("ariaUnchecked","unchecked")}Za(ece,{getAriaCheckboxStateName:()=>WV,getAriaLabel:()=>rce,getAriaLevel:()=>a1e,getAriaPosInSet:()=>ice,getAriaSortState:()=>nce,removeAriaExpanded:()=>lce,removeAriaSort:()=>pce,setAriaActiveDescendant:()=>T9,setAriaAtomic:()=>sce,setAriaChecked:()=>c1e,setAriaColCount:()=>dce,setAriaColIndex:()=>A9,setAriaColSpan:()=>hce,setAriaControls:()=>D9,setAriaDescribedBy:()=>l1e,setAriaDisabled:()=>S9,setAriaExpanded:()=>Rv,setAriaHidden:()=>BP,setAriaLabel:()=>Nf,setAriaLabelledBy:()=>BV,setAriaLevel:()=>ace,setAriaLive:()=>E9,setAriaMultiSelectable:()=>cce,setAriaPosInSet:()=>UV,setAriaRelevant:()=>oce,setAriaRole:()=>ho,setAriaRowCount:()=>uce,setAriaRowIndex:()=>I9,setAriaSelected:()=>BI,setAriaSetSize:()=>HV,setAriaSort:()=>fce});var R9,zV,x9,P9,M9,N9,O9,F9,gce={};function gg(){return void 0===R9&&(R9=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),R9}function k9(){if(void 0===zV)if(gg()){const t=navigator.userAgent.match(/version\/(\d+)/i);t&&(zV=null!=t[1]?parseFloat(t[1]):0)}else zV=0;return zV}function jV(){if(void 0===x9){const t=window;x9=!!t.chrome&&(!!t.chrome.webstore||!!t.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return x9}function L9(){return void 0===P9&&(P9=/(firefox)/i.test(navigator.userAgent)),P9}function V9(){return void 0===M9&&(M9=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),M9}function xv(){return void 0===N9&&(N9=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),N9}function G9(){return!gg()||k9()>=15}function $V(t){if(!t)return null;const e=t.tabIndex,n=t.getAttribute("tabIndex");return-1!==e||null!==n&&(""!==n||L9())?e.toString():null}function mce(){if(!document.body)return-1;let t=1e6;const e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const i=2*t;if(n.style.height=i+"px",i>e||n.clientHeight!==i)break;t=i}return document.body.removeChild(n),t}function vce(){var t,e,n;return null!=(n=null==(t=document.body)?void 0:t.clientWidth)?n:window.innerHeight||(null==(e=document.documentElement)?void 0:e.clientWidth)||-1}function _ce(){var t,e,n;return null!=(n=null==(t=document.body)?void 0:t.clientHeight)?n:window.innerHeight||(null==(e=document.documentElement)?void 0:e.clientHeight)||-1}function yce(){return null==F9&&bce(),F9}function bce(){const t=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",t.appendChild(e);let n=e.offsetWidth-e.clientWidth;0===n&&0===e.clientWidth&&(n=null),e.parentNode&&e.parentNode.removeChild(e),null!=n&&(F9=n,O9=0===n)}function B9(){return null==O9&&bce(),O9}Za(gce,{browserSupportsPreventScroll:()=>G9,getBodyHeight:()=>_ce,getBodyWidth:()=>vce,getMaxDivHeight:()=>mce,getSafariVersion:()=>k9,getScrollbarWidth:()=>yce,getTabIndex:()=>$V,isBrowserChrome:()=>jV,isBrowserFirefox:()=>L9,isBrowserSafari:()=>gg,isIOSUserAgent:()=>xv,isInvisibleScrollbar:()=>B9,isMacOsUserAgent:()=>V9});var Cce={};Za(Cce,{dateToFormattedString:()=>UI,parseDateTimeFromString:()=>Nu,serialiseDate:()=>Ch});var wce={};function HI(t,e){return t.toString().padStart(e,"0")}function Ece(t,e){const n=[];for(let i=t;i<=e;i++)n.push(i);return n}function u1e(t){return"string"==typeof t&&(t=parseInt(t,10)),"number"==typeof t?Math.floor(t):null}function d1e(t,e){let n="";for(let i=0;i<e;i++)n+=String.fromCharCode(255&t),t>>>=8;return n}function h1e(t,e,n){return"number"!=typeof t?"":H9(Math.round(100*t)/100,e,n)}function H9(t,e,n){return"number"!=typeof t?"":t.toString().replace(".",n).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${e}`)}function f1e(t){return null==t?null:t.reduce((e,n)=>e+n,0)}function Ch(t,e=!0,n="-"){if(!t)return null;let i=[t.getFullYear(),t.getMonth()+1,t.getDate()].map(r=>HI(r,2)).join(n);return e&&(i+=" "+[t.getHours(),t.getMinutes(),t.getSeconds()].map(r=>HI(r,2)).join(":")),i}Za(wce,{cleanNumber:()=>u1e,createArrayOfNumbers:()=>Ece,decToHex:()=>d1e,formatNumberCommas:()=>H9,formatNumberTwoDecimalPlacesAndCommas:()=>h1e,padStartWidthZeros:()=>HI,sum:()=>f1e});var U9=t=>{if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function UI(t,e="YYYY-MM-DD"){const n=HI(t.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${t.getFullYear()}`,MMMM:()=>i[t.getMonth()],MMM:()=>i[t.getMonth()].slice(0,3),MM:()=>HI(t.getMonth()+1,2),Mo:()=>`${t.getMonth()+1}${U9(t.getMonth()+1)}`,M:()=>`${t.getMonth()+1}`,Do:()=>`${t.getDate()}${U9(t.getDate())}`,DD:()=>HI(t.getDate(),2),D:()=>`${t.getDate()}`,dddd:()=>r[t.getDay()],ddd:()=>r[t.getDay()].slice(0,3),dd:()=>r[t.getDay()].slice(0,2),do:()=>`${t.getDay()}${U9(t.getDay())}`,d:()=>`${t.getDay()}`},o=new RegExp(Object.keys(s).join("|"),"g");return e.replace(o,c=>c in s?s[c]():c)}function Nu(t){if(!t)return null;const[e,n]=t.split(" ");if(!e)return null;const i=e.split("-").map(y=>parseInt(y,10));if(3!==i.filter(y=>!isNaN(y)).length)return null;const[r,s,o]=i,c=new Date(r,s-1,o);if(c.getFullYear()!==r||c.getMonth()!==s-1||c.getDate()!==o)return null;if(!n||"00:00:00"===n)return c;const[h,p,m]=n.split(":").map(y=>parseInt(y,10));return h>=0&&h<24&&c.setHours(h),p>=0&&p<60&&c.setMinutes(p),m>=0&&m<60&&c.setSeconds(m),c}var qV,Sce={};function W9(t,e,n){const i=t.parentElement;let r=i&&i.firstChild;for(;r;)e&&r.classList.toggle(e,r===t),n&&r.classList.toggle(n,r!==t),r=r.nextSibling}Za(Sce,{FOCUSABLE_EXCLUDE:()=>z9,FOCUSABLE_SELECTOR:()=>Tce,addOrRemoveAttribute:()=>mg,addStylesToElement:()=>Q9,bindCellRendererToHtmlElement:()=>Z9,clearElement:()=>aa,copyNodeList:()=>xce,ensureDomOrder:()=>Y9,formatSize:()=>KV,getAbsoluteHeight:()=>$9,getAbsoluteWidth:()=>UP,getElementRectWithOffset:()=>q9,getElementSize:()=>Wy,getInnerHeight:()=>HP,getInnerWidth:()=>pE,getScrollLeft:()=>zP,insertWithDomOrder:()=>Ace,isElementChildOfClass:()=>fE,isFocusableFormField:()=>j9,isHorizontalScrollShowing:()=>Dce,isInDOM:()=>K9,isNodeOrElement:()=>qP,isRtlNegativeScroll:()=>WP,isVerticalScrollShowing:()=>Rce,isVisible:()=>bd,iterateNamedNodeMap:()=>Pce,loadTemplate:()=>Ou,nodeListForEach:()=>J9,radioCssClass:()=>W9,removeFromParent:()=>Of,setDisabled:()=>WI,setDisplayed:()=>rr,setDomChildOrder:()=>X9,setElementHeight:()=>p1e,setElementWidth:()=>$P,setFixedHeight:()=>gE,setFixedWidth:()=>wh,setScrollLeft:()=>jP,setVisible:()=>Ice});var Tce="[tabindex], input, select, button, textarea, [href]",z9="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function j9(t){const e=Element.prototype.matches||Element.prototype.msMatchesSelector,i=e.call(t,"input, select, button, textarea"),r=e.call(t,z9),s=bd(t);return i&&!r&&s}function rr(t,e,n={}){const{skipAriaHidden:i}=n;t.classList.toggle("ag-hidden",!e),i||BP(t,!e)}function Ice(t,e,n={}){const{skipAriaHidden:i}=n;t.classList.toggle("ag-invisible",!e),i||BP(t,!e)}function WI(t,e){const n="disabled",i=e?r=>r.setAttribute(n,""):r=>r.removeAttribute(n);i(t),J9(t.querySelectorAll("input"),r=>i(r))}function fE(t,e,n){let i=0;for(;t;){if(t.classList.contains(e))return!0;if(t=t.parentElement,"number"==typeof n){if(++i>n)break}else if(t===n)break}return!1}function Wy(t){const{height:e,width:n,borderTopWidth:i,borderRightWidth:r,borderBottomWidth:s,borderLeftWidth:o,paddingTop:c,paddingRight:h,paddingBottom:p,paddingLeft:m,marginTop:y,marginRight:I,marginBottom:L,marginLeft:U,boxSizing:X}=window.getComputedStyle(t);return{height:parseFloat(e||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(i||"0"),borderRightWidth:parseFloat(r||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(c||"0"),paddingRight:parseFloat(h||"0"),paddingBottom:parseFloat(p||"0"),paddingLeft:parseFloat(m||"0"),marginTop:parseFloat(y||"0"),marginRight:parseFloat(I||"0"),marginBottom:parseFloat(L||"0"),marginLeft:parseFloat(U||"0"),boxSizing:X}}function HP(t){const e=Wy(t);return"border-box"===e.boxSizing?e.height-e.paddingTop-e.paddingBottom:e.height}function pE(t){const e=Wy(t);return"border-box"===e.boxSizing?e.width-e.paddingLeft-e.paddingRight:e.width}function $9(t){const e=Wy(t);return Math.ceil(t.offsetHeight+(e.marginBottom+e.marginTop))}function UP(t){const e=Wy(t);return Math.ceil(t.offsetWidth+(e.marginLeft+e.marginRight))}function q9(t){const e=t.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:i,borderRightWidth:r,borderBottomWidth:s}=Wy(t);return{top:e.top+(n||0),left:e.left+(i||0),right:e.right+(r||0),bottom:e.bottom+(s||0)}}function WP(){if("boolean"==typeof qV)return qV;const t=document.createElement("div");return t.style.direction="rtl",t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="0px",t.style.overflow="hidden",t.dir="rtl",t.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(t),t.scrollLeft=1,qV=0===Math.floor(t.scrollLeft),document.body.removeChild(t),qV}function zP(t,e){let n=t.scrollLeft;return e&&(n=Math.abs(n),jV()&&!WP()&&(n=t.scrollWidth-t.clientWidth-n)),n}function jP(t,e,n){n&&(WP()?e*=-1:(gg()||jV())&&(e=t.scrollWidth-t.clientWidth-e)),t.scrollLeft=e}function aa(t){for(;t&&t.firstChild;)t.removeChild(t.firstChild)}function Of(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function K9(t){return!!t.offsetParent}function bd(t){return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!K9(t)||"visible"!==window.getComputedStyle(t).visibility)}function Ou(t){const e=document.createElement("div");return e.innerHTML=(t||"").trim(),e.firstChild}function Y9(t,e,n){n&&n.nextSibling===e||(n?n.nextSibling?t.insertBefore(e,n.nextSibling):t.appendChild(e):t.firstChild&&t.firstChild!==e&&t.insertAdjacentElement("afterbegin",e))}function X9(t,e){for(let n=0;n<e.length;n++){const i=e[n],r=t.children[n];r!==i&&t.insertBefore(i,r)}}function Ace(t,e,n){n?n.insertAdjacentElement("afterend",e):t.firstChild?t.insertAdjacentElement("afterbegin",e):t.appendChild(e)}function Q9(t,e){if(e)for(const[n,i]of Object.entries(e)){if(!n||!n.length||null==i)continue;const r=Jle(n),s=i.toString(),o=s.replace(/\s*!important/g,"");t.style.setProperty(r,o,o.length!=s.length?"important":void 0)}}function Dce(t){return t.clientWidth<t.scrollWidth}function Rce(t){return t.clientHeight<t.scrollHeight}function $P(t,e){"flex"===e?(t.style.removeProperty("width"),t.style.removeProperty("minWidth"),t.style.removeProperty("maxWidth"),t.style.flex="1 1 auto"):wh(t,e)}function wh(t,e){e=KV(e),t.style.width=e.toString(),t.style.maxWidth=e.toString(),t.style.minWidth=e.toString()}function p1e(t,e){"flex"===e?(t.style.removeProperty("height"),t.style.removeProperty("minHeight"),t.style.removeProperty("maxHeight"),t.style.flex="1 1 auto"):gE(t,e)}function gE(t,e){e=KV(e),t.style.height=e.toString(),t.style.maxHeight=e.toString(),t.style.minHeight=e.toString()}function KV(t){return"number"==typeof t?`${t}px`:t}function qP(t){return t instanceof Node||t instanceof HTMLElement}function xce(t){if(null==t)return[];const e=[];return J9(t,n=>e.push(n)),e}function Pce(t,e){if(t)for(let n=0;n<t.length;n++){const i=t[n];e(i.name,i.value)}}function mg(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n.toString())}function J9(t,e){if(null!=t)for(let n=0;n<t.length;n++)e(t[n])}function Z9(t,e){t.then(n=>{const i=n.getGui();null!=i&&("object"==typeof i?e.appendChild(i):e.innerHTML=i)})}var Mce={};function Nce(t,e,n){const i={},r=t.filter(s=>!e.some(o=>o===s));return r.length>0&&r.forEach(s=>i[s]=KP(s,n).values),i}function KP(t,e,n,i){let r=e.map((c,h)=>({value:c,relevance:g1e(t.toLowerCase(),c.toLocaleLowerCase()),idx:h}));if(r.sort((c,h)=>h.relevance-c.relevance),n&&(r=r.filter(c=>0!==c.relevance)),r.length>0&&i&&i>0){const h=r[0].relevance*i;r=r.filter(p=>h-p.relevance<0)}const s=[],o=[];for(const c of r)s.push(c.value),o.push(c.idx);return{values:s,indices:o}}function g1e(t,e){const n=t.replace(/\s/g,""),i=e.replace(/\s/g,"");let r=0,s=-1;for(let o=0;o<n.length;o++){const c=i.indexOf(n[o],s+1);-1!==c&&(s=c,r+=100-100*s/1e4*100)}return r}Za(Mce,{fuzzyCheckStrings:()=>Nce,fuzzySuggestions:()=>KP});var Oce={};Za(Oce,{createIcon:()=>Eh,createIconNoSpan:()=>zs,iconNameClassMap:()=>Fce});var Fce={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus"};function Eh(t,e,n){const i=zs(t,e,n);if(i){const{className:s}=i;if("string"==typeof s&&s.indexOf("ag-icon")>-1||"object"==typeof s&&s["ag-icon"])return i}const r=document.createElement("span");return r.appendChild(i),r}function zs(t,e,n,i){let r=null;const s=n&&n.getColDef().icons;if(s&&(r=s[t]),e&&!r){const o=e.get("icons");o&&(r=o[t])}if(!r){const o=document.createElement("span");let c=Fce[t];return c||(i?c=t:(console.warn(`AG Grid: Did not find icon ${t}`),c="")),o.setAttribute("class",`ag-icon ag-icon-${c}`),o.setAttribute("unselectable","on"),ho(o,"presentation"),o}{let o;if("function"==typeof r)o=r();else{if("string"!=typeof r)throw new Error("icon from grid options needs to be a string or a function");o=r}if("string"==typeof o)return Ou(o);if(qP(o))return o;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}}var kce={};Za(kce,{isDeleteKey:()=>Gce,isEventFromPrintableCharacter:()=>YV,isUserSuppressingHeaderKeyboardEvent:()=>Lce,isUserSuppressingKeyboardEvent:()=>XV,normaliseQwertyAzerty:()=>Vce});var Qe=class{};Qe.BACKSPACE="Backspace",Qe.TAB="Tab",Qe.ENTER="Enter",Qe.ESCAPE="Escape",Qe.SPACE=" ",Qe.LEFT="ArrowLeft",Qe.UP="ArrowUp",Qe.RIGHT="ArrowRight",Qe.DOWN="ArrowDown",Qe.DELETE="Delete",Qe.F2="F2",Qe.PAGE_UP="PageUp",Qe.PAGE_DOWN="PageDown",Qe.PAGE_HOME="Home",Qe.PAGE_END="End",Qe.A="KeyA",Qe.C="KeyC",Qe.D="KeyD",Qe.V="KeyV",Qe.X="KeyX",Qe.Y="KeyY",Qe.Z="KeyZ";var m1e=65,v1e=67,_1e=86,y1e=68,b1e=90,C1e=89;function YV(t){return!(t.altKey||t.ctrlKey||t.metaKey)&&1===t.key.length}function XV(t,e,n,i,r){const s=i?i.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const o=t.addGridCommonParams({event:e,editing:r,column:i,node:n,data:n.data,colDef:i.getColDef()});return!(!s||!s(o))}function Lce(t,e,n,i){const r=i.getDefinition(),s=r&&r.suppressHeaderKeyboardEvent;return!!$t(s)&&!!s(t.addGridCommonParams({colDef:r,column:i,headerRowIndex:n,event:e}))}function Vce(t){const{keyCode:e}=t;let n;switch(e){case m1e:n=Qe.A;break;case v1e:n=Qe.C;break;case _1e:n=Qe.V;break;case y1e:n=Qe.D;break;case b1e:n=Qe.Z;break;case C1e:n=Qe.Y;break;default:n=t.code}return n}function Gce(t,e=!1){return t===Qe.DELETE||!e&&t===Qe.BACKSPACE&&V9()}var Bce={};function eq(t,e,n){if(0===n)return!1;const i=Math.abs(t.clientX-e.clientX),r=Math.abs(t.clientY-e.clientY);return Math.max(i,r)<=n}Za(Bce,{areEventsNear:()=>eq});var Hce={};function w1e(t,e){if(!t)return!1;const n=(o,c)=>{const h=e[o.id],p=e[c.id],m=void 0!==h,y=void 0!==p;return m&&y?h-p:m||y?m?1:-1:o.__objectId-c.__objectId};let i,r,s=!1;for(let o=0;o<t.length-1;o++)if(i=t[o],r=t[o+1],n(i,r)>0){s=!0;break}return!!s&&(t.sort(n),!0)}Za(Hce,{sortRowNodesByOrder:()=>w1e});var Uce={};function tq(t){const e=new Set;return t.forEach(n=>e.add(n)),e}Za(Uce,{convertToSet:()=>tq});var qi=Qn(Qn(Qn(Qn(Qn(Qn(Qn(Qn(Qn(Qn(Qn(Qn(Qn(Qn(Qn(Qn(Qn(Qn({},ece),Gle),gce),Cce),Sce),Vle),xle),Mce),Ale),Oce),kce),Zle),Bce),wce),Dle),Hce),Uce),Xle),zI=class{constructor(t=0,e=1){this.nextValue=t,this.step=e}next(){const t=this.nextValue;return this.nextValue+=this.step,t}peek(){return this.nextValue}skip(t){this.nextValue+=t}},Fu=class XG{constructor(e){this.status=0,this.resolution=null,this.waiters=[],e(n=>this.onDone(n),n=>this.onReject(n))}static all(e){return new XG(n=>{let i=e.length;const r=new Array(i);e.forEach((s,o)=>{s.then(c=>{r[o]=c,i--,0===i&&n(r)})})})}static resolve(e=null){return new XG(n=>n(e))}then(e){return new XG(n=>{1===this.status?n(e(this.resolution)):this.waiters.push(i=>n(e(i)))})}resolveNow(e,n){return 1===this.status?n(this.resolution):e}onDone(e){this.status=1,this.resolution=e,this.waiters.forEach(n=>n(e))}onReject(e){console.warn("TBI")}},T1e=class{constructor(t){this.cssClassStates={},this.getGui=t}addCssClass(t){const e=(t||"").split(" ");if(e.length>1)e.forEach(i=>this.addCssClass(i));else if(!0!==this.cssClassStates[t]&&t.length){const i=this.getGui();i&&i.classList.add(t),this.cssClassStates[t]=!0}}removeCssClass(t){const e=(t||"").split(" ");if(e.length>1)e.forEach(i=>this.removeCssClass(i));else if(!1!==this.cssClassStates[t]&&t.length){const i=this.getGui();i&&i.classList.remove(t),this.cssClassStates[t]=!1}}containsCssClass(t){const e=this.getGui();return!!e&&e.classList.contains(t)}addOrRemoveCssClass(t,e){if(t){if(t.indexOf(" ")>=0){const i=(t||"").split(" ");if(i.length>1)return void i.forEach(r=>this.addOrRemoveCssClass(r,e))}if(this.cssClassStates[t]!==e&&t.length){const i=this.getGui();i&&i.classList.toggle(t,e),this.cssClassStates[t]=e}}}},YP=class f0 extends Jt{constructor(e,n,i,r){super(),this.parentComp=e,this.tooltipShowDelayOverride=n,this.tooltipHideDelayOverride=i,this.shouldDisplayTooltip=r,this.SHOW_QUICK_TOOLTIP_DIFF=1e3,this.FADE_OUT_TOOLTIP_TIMEOUT=1e3,this.INTERACTIVE_HIDE_DELAY=100,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}postConstruct(){this.gridOptionsService.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gridOptionsService.get("tooltipMouseTrack");const e=this.parentComp.getGui();0===this.tooltipTrigger&&(this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this))),1===this.tooltipTrigger&&(this.addManagedListener(e,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(e,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)))}getGridOptionsTooltipDelay(e){const n=this.gridOptionsService.get(e);return n<0&&li(`${e} should not be lower than 0`),Math.max(200,n)}getTooltipDelay(e){var n,i;return"show"===e?null!=(n=this.tooltipShowDelayOverride)?n:this.getGridOptionsTooltipDelay("tooltipShowDelay"):null!=(i=this.tooltipHideDelayOverride)?i:this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gridOptionsService.get("tooltipTrigger");return e&&"hover"!==e?1:0}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!xv()&&(f0.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&2===this.state&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var n;const i=e.relatedTarget,r=this.parentComp.getGui(),s=null==(n=this.tooltipComp)?void 0:n.getGui();this.isInteractingWithTooltip||r.contains(i)||this.interactionEnabled&&s?.contains(i)||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(e){if(0!=this.state||f0.isLocked)return;let n=0;e&&(n=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),n),this.state=1}isLastTooltipHiddenRecently(){return(new Date).getTime()-f0.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF}setToDoNothing(){2===this.state&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e=Qn({},this.parentComp.getTooltipParams());if(!$t(e.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip())return void this.setToDoNothing();this.state=2,this.tooltipInstanceCount++;const n=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(n)}hideTooltip(e){if(!e&&this.isInteractingWithTooltip)return;this.tooltipComp&&(this.destroyTooltipComp(),f0.lastTooltipHideTime=(new Date).getTime());const n={type:W.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(n),this.state=0}newTooltipComponentCallback(e,n){if(2!==this.state||this.tooltipInstanceCount!==e)return void this.getContext().destroyBean(n);const r=n.getGui();this.tooltipComp=n,r.classList.contains("ag-tooltip")||r.classList.add("ag-tooltip-custom"),0===this.tooltipTrigger&&r.classList.add("ag-tooltip-animate"),this.interactionEnabled&&r.classList.add("ag-tooltip-interactive");const s=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:r,ariaLabel:s("ariaLabelTooltip","Tooltip")});o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),1===this.tooltipTrigger&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,W.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,W.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(0===this.tooltipTrigger?(this.tooltipMouseEnterListener=this.addManagedListener(r,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(r,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(r,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(r,"focusout",this.onTooltipFocusOut.bind(this))||null));const c={type:W.EVENT_TOOLTIP_SHOW,tooltipGui:r,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(c),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isInteractingWithTooltip=!1,this.lockService()}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}onTooltipFocusOut(e){var n;const i=this.parentComp.getGui(),r=null==(n=this.tooltipComp)?void 0:n.getGui(),s=e.relatedTarget;r?.contains(s)||(this.isInteractingWithTooltip=!1,i.contains(s)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(Is(Qn({},e),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(Is(Qn({},e),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,n=this.tooltipComp;window.setTimeout(()=>{e(),this.getContext().destroyBean(n)},0===this.tooltipTrigger?this.FADE_OUT_TOOLTIP_TIMEOUT:0),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){f0.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)}unlockService(){f0.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};YP.isLocked=!1,N([K("popupService")],YP.prototype,"popupService",2),N([K("userComponentFactory")],YP.prototype,"userComponentFactory",2),N([tn],YP.prototype,"postConstruct",1);var I1e=YP,Pv=class extends Jt{constructor(t,e){super(),this.ctrl=t,e&&(this.beans=e)}postConstruct(){this.refreshToolTip()}setBrowserTooltip(t){const e="title",n=this.ctrl.getGui();n&&(null!=t&&""!=t?n.setAttribute(e,t):n.removeAttribute(e))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var t,e,n,i;null==this.tooltipManager&&(this.tooltipManager=this.createBean(new I1e({getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()},null==(e=(t=this.ctrl).getTooltipShowDelayOverride)?void 0:e.call(t),null==(i=(n=this.ctrl).getTooltipHideDelayOverride)?void 0:i.call(n),this.ctrl.shouldDisplayTooltip),this.beans.context))}refreshToolTip(){this.browserTooltips=this.beans.gridOptionsService.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){const t=this.ctrl,e=t.getColumn?t.getColumn():void 0,n=t.getColDef?t.getColDef():void 0,i=t.getRowNode?t.getRowNode():void 0;return{location:t.getLocation(),colDef:n,column:e,rowIndex:t.getRowIndex?t.getRowIndex():void 0,node:i,data:i?i.data:void 0,value:this.getTooltipText(),valueFormatted:t.getValueFormatted?t.getValueFormatted():void 0,hideTooltipCallback:()=>{var r;return null==(r=this.tooltipManager)?void 0:r.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}};N([K("beans")],Pv.prototype,"beans",2),N([tn],Pv.prototype,"postConstruct",1);var A1e=new zI,XP=class hJ extends Jt{constructor(e){super(),this.displayed=!0,this.visible=!0,this.compId=A1e.next(),this.cssClassManager=new T1e(()=>this.eGui),e&&this.setTemplate(e)}preConstructOnComponent(){this.usingBrowserTooltips=this.gridOptionsService.get("enableBrowserTooltips")}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(e){const{newTooltipText:n,showDelayOverride:i,hideDelayOverride:r,location:s,shouldDisplayTooltip:o}=e||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==n&&(this.tooltipText=n),null!=n&&(this.tooltipFeature=this.createBean(new Pv({getTooltipValue:()=>this.tooltipText,getGui:()=>this.getGui(),getLocation:()=>s??"UNKNOWN",getTooltipShowDelayOverride:null!=i?()=>i:void 0,getTooltipHideDelayOverride:null!=r?()=>r:void 0,shouldDisplayTooltip:o})))}createChildComponentsFromTags(e,n){xce(e.childNodes).forEach(r=>{if(!(r instanceof HTMLElement))return;const s=this.createComponentFromElement(r,o=>{o.getGui()&&this.copyAttributesFromNode(r,o.getGui())},n);if(s){if(s.addItems&&r.children.length){this.createChildComponentsFromTags(r,n);const o=Array.prototype.slice.call(r.children);s.addItems(o)}this.swapComponentForNode(s,e,r)}else r.childNodes&&this.createChildComponentsFromTags(r,n)})}createComponentFromElement(e,n,i){const r=e.nodeName,s=i?i[e.getAttribute("ref")]:void 0,o=this.agStackComponentsRegistry.getComponentClass(r);if(o){hJ.elementGettingCreated=e;const c=new o(s);return c.setParentComponent(this),this.createBean(c,null,n),c}return null}copyAttributesFromNode(e,n){Pce(e.attributes,(i,r)=>n.setAttribute(i,r))}swapComponentForNode(e,n,i){const r=e.getGui();n.replaceChild(r,i),n.insertBefore(document.createComment(i.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,i)}swapInComponentForQuerySelectors(e,n){const i=this;this.iterateOverQuerySelectors(r=>{i[r.attributeName]===n&&(i[r.attributeName]=e)})}iterateOverQuerySelectors(e){let n=Object.getPrototypeOf(this);for(;null!=n;){const i=n.__agComponentMetaData,r=PV(n.constructor);i&&i[r]&&i[r].querySelectors&&i[r].querySelectors.forEach(s=>e(s)),n=Object.getPrototypeOf(n)}}activateTabIndex(e){const n=this.gridOptionsService.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(i=>i.setAttribute("tabindex",n.toString()))}setTemplate(e,n){const i=Ou(e);this.setTemplateFromElement(i,n)}setTemplateFromElement(e,n){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),n)}createChildComponentsPreConstruct(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())}wireQuerySelectors(){if(!this.eGui)return;const e=this;this.iterateOverQuerySelectors(n=>{const i=s=>e[n.attributeName]=s;if(n.refSelector&&this.getAttribute("ref")===n.refSelector)i(this.eGui);else{const s=this.eGui.querySelector(n.querySelector);s&&i(s.__agComponent||s)}})}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}queryForHtmlInputElement(e){return this.eGui.querySelector(e)}appendChild(e,n){null!=e&&(n||(n=this.eGui),qP(e)?n.appendChild(e):n.appendChild(e.getGui()))}isDisplayed(){return this.displayed}setVisible(e,n={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:i}=n;Ice(this.eGui,e,{skipAriaHidden:i})}}setDisplayed(e,n={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:i}=n;rr(this.eGui,e,{skipAriaHidden:i}),this.dispatchEvent({type:hJ.EVENT_DISPLAYED_CHANGED,visible:this.displayed})}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),super.destroy()}addGuiEventListener(e,n,i){this.eGui.addEventListener(e,n,i),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,n))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,n){this.cssClassManager.addOrRemoveCssClass(e,n)}getAttribute(e){const{eGui:n}=this;return n?n.getAttribute(e):null}getRefElement(e){return this.queryForHtmlElement(`[ref="${e}"]`)}};XP.EVENT_DISPLAYED_CHANGED="displayedChanged",N([K("agStackComponentsRegistry")],XP.prototype,"agStackComponentsRegistry",2),N([Fle],XP.prototype,"preConstructOnComponent",1),N([Fle],XP.prototype,"createChildComponentsPreConstruct",1);var Ti=XP;function fn(t){return Wce.bind(this,`[ref=${t}]`,t)}function Wce(t,e,n,i,r){null!==t?"number"!=typeof r?function D1e(t,e,n){const i=function R1e(t,e){return t.__agComponentMetaData||(t.__agComponentMetaData={}),t.__agComponentMetaData[e]||(t.__agComponentMetaData[e]={}),t.__agComponentMetaData[e]}(t,PV(t.constructor));i[e]||(i[e]=[]),i[e].push(n)}(n,"querySelectors",{attributeName:i,querySelector:t,refSelector:e}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var nq=class extends Ti{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')}destroy(){super.destroy()}init(t){this.params=t;const e=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),n=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${e} ${n("ariaFilterInput","Filter Input")}`)}onParentModelChanged(t){null!=t?this.params.parentFilterInstance(e=>{if(e.getModelAsString){const n=e.getModelAsString(t);this.eFloatingFilterText.setValue(n)}}):this.eFloatingFilterText.setValue("")}onParamsUpdated(t){this.refresh(t)}refresh(t){this.init(t)}};N([fn("eFloatingFilterText")],nq.prototype,"eFloatingFilterText",2),N([K("columnModel")],nq.prototype,"columnModel",2);var zce=class{constructor(t,e,n,i){this.alive=!0,this.context=t,this.eParent=i,e.getDateCompDetails(n).newAgStackInstance().then(o=>{this.alive?(this.dateComp=o,o&&(i.appendChild(o.getGui()),o.afterGuiAttached&&o.afterGuiAttached(),this.tempValue&&o.setDate(this.tempValue),null!=this.disabled&&this.setDateCompDisabled(this.disabled))):t.destroyBean(o)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t}setDisabled(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t}setDisplayed(t){rr(this.eParent,t)}setInputPlaceholder(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)}setInputAriaLabel(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)}afterGuiAttached(t){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(t)}updateParams(t){var e,n;let i=!1;null!=(e=this.dateComp)&&e.refresh&&"function"==typeof this.dateComp.refresh&&null!==this.dateComp.refresh(t)&&(i=!0),!i&&null!=(n=this.dateComp)&&n.onParamsUpdated&&"function"==typeof this.dateComp.onParamsUpdated&&null!==this.dateComp.onParamsUpdated(t)&&li("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(t){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(t)}},jce=class{constructor(){this.customFilterOptions={}}init(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(t=>{"string"!=typeof t&&([["displayKey"],["displayName"],["predicate","test"]].every(i=>!!i.some(r=>null!=t[r])||(console.warn(`AG Grid: ignoring FilterOptionDef as it doesn't contain one of '${i}'`),!1))?this.customFilterOptions[t.displayKey]=t:this.filterOptions=this.filterOptions.filter(i=>i===t)||[])})}selectDefaultItem(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){const e=this.filterOptions[0];"string"==typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(t){return this.customFilterOptions[t]}},$ce={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},QV=class Hme extends Jt{constructor(e,n={}){super(),this.eFocusableElement=e,this.callbacks=n,this.callbacks=Qn({shouldStopEventPropagation:()=>!1,onTabKeyDown:i=>{if(i.defaultPrevented)return;const r=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,i.shiftKey);r&&(r.focus(),i.preventDefault())}},n)}postConstruct(){this.eFocusableElement.classList.add(Hme.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)}addKeyDownListeners(e){this.addManagedListener(e,"keydown",n=>{if(!n.defaultPrevented&&!Mf(n)){if(this.callbacks.shouldStopEventPropagation(n))return void Pf(n);n.key===Qe.TAB?this.callbacks.onTabKeyDown(n):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(n)}})}};QV.FOCUS_MANAGED_CLASS="ag-focus-managed",N([K("focusService")],QV.prototype,"focusService",2),N([tn],QV.prototype,"postConstruct",1);var zy=QV,qce="ag-resizer-wrapper",x1e=`<div class="${qce}">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>`,jI=class extends Jt{constructor(t,e){super(),this.element=t,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},e)}center(){const{clientHeight:t,clientWidth:e}=this.offsetParent,n=e/2-this.getWidth()/2,i=t/2-this.getHeight()/2;this.offsetElement(n,i)}initialisePosition(){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:e,minWidth:n,width:i,minHeight:r,height:s,x:o,y:c}=this.config;this.offsetParent||this.setOffsetParent();let h=0,p=0;const m=bd(this.element);if(m){const y=this.findBoundaryElement(),I=window.getComputedStyle(y);if(null!=I.minWidth){const L=y.offsetWidth-this.element.offsetWidth;p=parseInt(I.minWidth,10)-L}if(null!=I.minHeight){const L=y.offsetHeight-this.element.offsetHeight;h=parseInt(I.minHeight,10)-L}}if(this.minHeight=r||h,this.minWidth=n||p,i&&this.setWidth(i),s&&this.setHeight(s),(!i||!s)&&this.refreshSize(),t)this.center();else if(o||c)this.offsetElement(o,c);else if(m&&e){let y=this.boundaryEl,I=!0;if(y||(y=this.findBoundaryElement(),I=!1),y){const L=parseFloat(y.style.top),U=parseFloat(y.style.left);I?this.offsetElement(isNaN(U)?0:U,isNaN(L)?0:L):this.setPosition(U,L)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(t,e){if(!this.config.popup||t===this.movable)return;this.movable=t;const n=this.moveElementDragListener||{eElement:e,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(n),this.moveElementDragListener=n):(this.dragService.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(t){if(this.clearResizeListeners(),t?this.addResizers():this.removeResizers(),"boolean"==typeof t){if(!1===t)return;t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}}Object.keys(t).forEach(e=>{const i=!!t[e],r=this.getResizerElement(e),s={dragStartPixels:0,eElement:r,onDragStart:o=>this.onResizeStart(o,e),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,e)};(i||!this.isAlive()&&!i)&&(i?(this.dragService.addDragSource(s),this.resizeListeners.push(s),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[e]=i)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:t,width:e}=this.lastSize;-1!==e&&(this.element.style.width=`${e}px`),-1!==t&&(this.element.style.height=`${t}px`)}getHeight(){return this.element.offsetHeight}setHeight(t){const{popup:e}=this.config,n=this.element;let i=!1;if("string"==typeof t&&-1!==t.indexOf("%"))gE(n,t),t=$9(n),i=!0;else if(t=Math.max(this.minHeight,t),this.positioned){const r=this.getAvailableHeight();r&&t>r&&(t=r)}this.getHeight()!==t&&(i?(n.style.maxHeight="unset",n.style.minHeight="unset"):e?gE(n,t):(n.style.height=`${t}px`,n.style.flex="0 0 auto",this.lastSize.height="number"==typeof t?t:parseFloat(t)))}getAvailableHeight(){const{popup:t,forcePopupParentAsOffsetParent:e}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const i=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=t?this.position.y:i.top,o=t?0:r.top;let c=0;if(e){const p=this.element.parentElement;if(p){const{bottom:m}=p.getBoundingClientRect();c=m-i.bottom}}return n+o-s-c}getWidth(){return this.element.offsetWidth}setWidth(t){const e=this.element,{popup:n}=this.config;let i=!1;if("string"==typeof t&&-1!==t.indexOf("%"))wh(e,t),t=UP(e),i=!0;else if(this.positioned){t=Math.max(this.minWidth,t);const{clientWidth:r}=this.offsetParent,s=n?this.position.x:this.element.getBoundingClientRect().left;r&&t+s>r&&(t=r-s)}this.getWidth()!==t&&(i?(e.style.maxWidth="unset",e.style.minWidth="unset"):this.config.popup?wh(e,t):(e.style.width=`${t}px`,e.style.flex=" unset",this.lastSize.width="number"==typeof t?t:parseFloat(t)))}offsetElement(t=0,e=0){const{forcePopupParentAsOffsetParent:n}=this.config,i=n?this.boundaryEl:this.element;i&&(this.popupService.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:t,y:e})}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)))}constrainSizeToAvailableHeight(t){this.config.forcePopupParentAsOffsetParent&&(t?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),()=>{const n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)}):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0)))}setPosition(t,e){this.position.x=t,this.position.y=e}updateDragStartPosition(t,e){this.dragStartPosition={x:t,y:e}}calculateMouseMovement(t){const{e,isLeft:n,isTop:i,anywhereWithin:r,topBuffer:s}=t,o=e.clientX-this.dragStartPosition.x,c=e.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(e,!!n,!!r,o)?0:o,movementY:this.shouldSkipY(e,!!i,s,c)?0:c}}shouldSkipX(t,e,n,i){const r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),c=this.config.popup?this.position.x:r.left;let h=c<=0&&s.left>=t.clientX||s.right<=t.clientX&&s.right<=o.right;return!!h||(h=e?i<0&&t.clientX>c+s.left||i>0&&t.clientX<c+s.left:n?i<0&&t.clientX>o.right||i>0&&t.clientX<c+s.left:i<0&&t.clientX>o.right||i>0&&t.clientX<o.right,h)}shouldSkipY(t,e,n=0,i){const r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),c=this.config.popup?this.position.y:r.top;let h=c<=0&&s.top>=t.clientY||s.bottom<=t.clientY&&s.bottom<=o.bottom;return!!h||(h=e?i<0&&t.clientY>c+s.top+n||i>0&&t.clientY<c+s.top:i<0&&t.clientY>o.bottom||i>0&&t.clientY<o.bottom,h)}createResizeMap(){const t=this.element;this.resizerMap={topLeft:{element:t.querySelector("[ref=eTopLeftResizer]")},top:{element:t.querySelector("[ref=eTopResizer]")},topRight:{element:t.querySelector("[ref=eTopRightResizer]")},right:{element:t.querySelector("[ref=eRightResizer]")},bottomRight:{element:t.querySelector("[ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[ref=eBottomLeftResizer]")},left:{element:t.querySelector("[ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const t=this.element;if(!t)return;const n=(new DOMParser).parseFromString(x1e,"text/html").body;t.appendChild(n.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const t=this.element.querySelector(`.${qce}`);t&&this.element.removeChild(t),this.resizersAdded=!1}getResizerElement(t){return this.resizerMap[t].element}onResizeStart(t,e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!e.match(/top/i),isRight:!!e.match(/right/i),isBottom:!!e.match(/bottom/i),isLeft:!!e.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[e].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:i}=this.config;!n&&!i&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)}getSiblings(){const e=this.element.parentElement;return e?Array.prototype.slice.call(e.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const t=this.getSiblings()||[];let e=0,n=0;for(let i=0;i<t.length;i++){const r=t[i],s=!!r.style.flex&&"0 0 auto"!==r.style.flex;if(r===this.element)continue;let o=this.minHeight||0,c=this.minWidth||0;if(s){const h=window.getComputedStyle(r);h.minHeight&&(o=parseInt(h.minHeight,10)),h.minWidth&&(c=parseInt(h.minWidth,10))}else o=r.offsetHeight,c=r.offsetWidth;e+=o,n+=c}return{height:e,width:n}}applySizeToSiblings(t){let e=null;const n=this.getSiblings();if(n){for(let i=0;i<n.length;i++){const r=n[i];r!==e&&(t?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(e=n[i+1]))}e&&(e.style.removeProperty("height"),e.style.removeProperty("min-height"),e.style.removeProperty("max-height"),e.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(t=>t)}onResize(t){if(!this.isResizing||!this.currentResizer)return;const{popup:e,forcePopupParentAsOffsetParent:n}=this.config,{isTop:i,isRight:r,isBottom:s,isLeft:o}=this.currentResizer,c=r||o,h=s||i,{movementX:p,movementY:m}=this.calculateMouseMovement({e:t,isLeft:o,isTop:i}),y=this.position.x,I=this.position.y;let L=0,U=0;if(c&&p){const X=o?-1:1,Q=this.getWidth(),pe=Q+p*X;let Te=!1;o&&(L=Q-pe,(y+L<=0||pe<=this.minWidth)&&(Te=!0,L=0)),Te||this.setWidth(pe)}if(h&&m){const X=i?-1:1,Q=this.getHeight(),pe=Q+m*X;let Te=!1;i?(U=Q-pe,(I+U<=0||pe<=this.minHeight)&&(Te=!0,U=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&Q<pe&&this.getMinSizeOfSiblings().height+pe>this.element.parentElement.offsetHeight&&(Te=!0),Te||this.setHeight(pe)}this.updateDragStartPosition(t.clientX,t.clientY),((e||n)&&L||U)&&this.offsetElement(y+L,I+U)}onResizeEnd(t,e){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[e].element.classList.remove("ag-active"),this.dispatchEvent({type:"resize"})}refreshSize(){const t=this.element;this.config.popup&&(this.config.width||this.setWidth(t.offsetWidth),this.config.height||this.setHeight(t.offsetHeight))}onMoveStart(t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(t.clientX,t.clientY)}onMove(t){if(!this.isMoving)return;const{x:e,y:n}=this.position;let i;this.config.calculateTopBuffer&&(i=this.config.calculateTopBuffer());const{movementX:r,movementY:s}=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:i});this.offsetElement(e+r,n+s),this.updateDragStartPosition(t.clientX,t.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent}findBoundaryElement(){let t=this.element;for(;t;){if("static"!==window.getComputedStyle(t).position)return t;t=t.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const t=this.resizeListeners.pop();this.dragService.removeDragSource(t)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}};N([K("popupService")],jI.prototype,"popupService",2),N([K("resizeObserverService")],jI.prototype,"resizeObserverService",2),N([K("dragService")],jI.prototype,"dragService",2);var JV=class PN extends Ti{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.buttonListeners=[]}postConstruct(){this.resetTemplate(),this.createManagedBean(new zy(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new jI(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let n=this.getGui();n&&n.removeEventListener("submit",this.onFormSubmit);const i=`\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" ref="eFilterBody">\n                    ${this.createBodyTemplate()}\n                </div>\n            </form>`;this.setTemplate(i,e),n=this.getGui(),n&&n.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=PN.isUseApplyButton(e),this.resetButtonsPanel()}updateParams(e){this.providedFilterParams=e,this.applyActive=PN.isUseApplyButton(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(){const{buttons:e}=this.providedFilterParams,n=e&&e.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(aa(this.eButtonsPanel),this.buttonListeners.forEach(s=>s?.()),this.buttonListeners=[]):n&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!n)return void(this.eButtonsPanel&&Of(this.eButtonsPanel));const i=document.createDocumentFragment(),r=s=>{let o,c;switch(s){case"apply":o=this.translate("applyFilter"),c=m=>this.onBtApply(!1,!1,m);break;case"clear":o=this.translate("clearFilter"),c=()=>this.onBtClear();break;case"reset":o=this.translate("resetFilter"),c=()=>this.onBtReset();break;case"cancel":o=this.translate("cancelFilter"),c=m=>{this.onBtCancel(m)};break;default:return void console.warn("AG Grid: Unknown button type specified")}const p=Ou(`<button\n                    type="${"apply"===s?"submit":"button"}"\n                    ref="${s}FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >${o}\n                </button>`);this.buttonListeners.push(this.addManagedListener(p,"click",c)),i.append(p)};tq(e).forEach(s=>r(s)),this.eButtonsPanel.append(i),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=PN.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),n=Wc(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,n()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(null!=e?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,n){const i=()=>{this.onUiChanged(!1,"prevent"),n?.()};null!=e?this.setModelIntoUi(e).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const n=this.getModelFromUi();if(!this.isModelValid(n))return!1;const i=this.appliedModel;return this.appliedModel=n,!this.areModelsEqual(i,n)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,n=!1,i){i&&i.preventDefault(),this.applyModel(n?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:n,source:"columnFilter"});const{closeOnApply:r}=this.providedFilterParams;r&&this.applyActive&&!e&&!n&&this.close(i)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const i=e&&e.key;let r;("Enter"===i||"Space"===i)&&(r={keyboardEvent:e}),this.hidePopup(r),this.hidePopup=null}onUiChanged(e=!1,n){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const i=this.isModelValid(this.getModelFromUi()),r=this.getRefElement("applyFilterButton");r&&WI(r,!i)}e&&!n||"immediately"===n?this.onBtApply(e):(!this.applyActive&&!n||"debounce"===n)&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){if(!this.positionableFeature||"toolPanel"===e)return;const n="floatingFilter"===e||"columnFilter"===e,{positionableFeature:i,gridOptionsService:r}=this;n?(i.restoreLastSize(),i.setResizable(r.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}static getDebounceMs(e,n){return PN.isUseApplyButton(e)?(null!=e.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:n}static isUseApplyButton(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}refresh(e){return this.providedFilterParams=e,!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,$ce[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}};N([K("rowModel")],JV.prototype,"rowModel",2),N([fn("eFilterBody")],JV.prototype,"eFilterBody",2),N([tn],JV.prototype,"postConstruct",1);var ZV=JV,iq=class extends Ti{constructor(t,e){super(e),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=t||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:t,label:e,labelWidth:n,labelAlignment:i,disabled:r}=this.config;null!=r&&this.setDisabled(r),null!=t&&this.setLabelSeparator(t),null!=e&&this.setLabel(e),null!=n&&this.setLabelWidth(n),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()}refreshLabel(){aa(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(rr(this.eLabel,!1),ho(this.eLabel,"presentation")):(rr(this.eLabel,!0),ho(this.eLabel,null))}setLabelSeparator(t){return this.labelSeparator===t||(this.labelSeparator=t,null!=this.label&&this.refreshLabel()),this}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(t){return this.label===t||(this.label=t,this.refreshLabel()),this}setLabelAlignment(t){const n=this.getGui().classList;return n.toggle("ag-label-align-left","left"===t),n.toggle("ag-label-align-right","right"===t),n.toggle("ag-label-align-top","top"===t),this}setLabelEllipsis(t){return this.eLabel.classList.toggle("ag-label-ellipsis",t),this}setLabelWidth(t){return null==this.label||$P(this.eLabel,t),this}setDisabled(t){t=!!t;const e=this.getGui();return WI(e,t),e.classList.toggle("ag-disabled",t),this.disabled=t,this}isDisabled(){return!!this.disabled}};N([tn],iq.prototype,"postConstruct",1);var Kce=class extends iq{constructor(t,e,n){super(t,e),this.className=n}postConstruct(){super.postConstruct();const{width:t,value:e,onValueChange:n}=this.config;null!=t&&this.setWidth(t),null!=e&&this.setValue(e),null!=n&&this.onValueChange(n),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}refreshAriaLabelledBy(){const t=this.getAriaElement(),e=this.getLabelId();null!==rce(t)?BV(t,""):BV(t,e??"")}setAriaLabel(t){return Nf(this.getAriaElement(),t),this.refreshAriaLabelledBy(),this}onValueChange(t){return this.addManagedListener(this,W.EVENT_FIELD_VALUE_CHANGED,()=>t(this.getValue())),this}getWidth(){return this.getGui().clientWidth}setWidth(t){return wh(this.getGui(),t),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(t,e){return this.value===t||(this.previousValue=this.value,this.value=t,e||this.dispatchEvent({type:W.EVENT_FIELD_VALUE_CHANGED})),this}},mE=class extends Kce{constructor(t){if(super(t,t?.template||'\n    <div class="ag-picker-field" role="presentation">\n        <div ref="eLabel"></div>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">\n            <div ref="eDisplayField" class="ag-picker-field-display"></div>\n            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n        </div>\n    </div>',t?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.ariaRole=t?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!t)return;const{pickerGap:e,maxPickerHeight:n,variableWidth:i,minPickerWidth:r,maxPickerWidth:s}=t;null!=e&&(this.pickerGap=e),this.variableWidth=!!i,null!=n&&this.setPickerMaxHeight(n),null!=r&&this.setPickerMinWidth(r),null!=s&&this.setPickerMaxWidth(s)}postConstruct(){super.postConstruct(),this.setupAria();const t=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",t);const e=this.getAriaElement();this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));const{pickerIcon:n,inputWidth:i}=this.config;if(n){const r=zs(n,this.gridOptionsService);r&&this.eIcon.appendChild(r)}null!=i&&this.setInputWidth(i)}setupAria(){const t=this.getAriaElement();t.setAttribute("tabindex",this.gridOptionsService.get("tabIndex").toString()),Rv(t,!1),this.ariaRole&&ho(t,this.ariaRole)}onLabelOrWrapperMouseDown(t){if(t){const e=this.getFocusableElement();if(e!==this.eWrapper&&t?.target===e)return;t.preventDefault(),this.getFocusableElement().focus()}this.skipClick?this.skipClick=!1:this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(t){switch(t.key){case Qe.UP:case Qe.DOWN:case Qe.ENTER:case Qe.SPACE:t.preventDefault(),this.onLabelOrWrapperMouseDown();break;case Qe.ESCAPE:this.isPickerDisplayed&&(t.preventDefault(),t.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker())}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const t=this.pickerComponent.getGui();t.addEventListener("focusin",this.onPickerFocusIn),t.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const t=this.gridOptionsService.getDocument(),e=this.pickerComponent.getGui();this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,W.EVENT_BODY_SCROLL,()=>{this.hidePicker()}));const n=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:i,pickerAriaLabelValue:r,modalPicker:s=!0}=this.config,o={modal:s,eChild:e,closeOnEsc:!0,closedCallback:()=>{const L=t.activeElement===t.body;this.beforeHidePicker(),L&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:n(i,r)},c=this.popupService.addPopup(o),{maxPickerHeight:h,minPickerWidth:p,maxPickerWidth:m,variableWidth:y}=this;y?(p&&(e.style.minWidth=p),e.style.width=KV(UP(this.eWrapper)),m&&(e.style.maxWidth=m)):$P(e,m??UP(this.eWrapper));const I=h??`${HP(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",I),e.style.position="absolute",this.alignPickerToComponent(),c.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:t}=this.config,{pickerGap:e}=this,n=this.gridOptionsService.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:t,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:n,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const t=this.pickerComponent.getGui();t.removeEventListener("focusin",this.onPickerFocusIn),t.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(t){this.isAlive()&&(Rv(this.getAriaElement(),t),this.eWrapper.classList.toggle("ag-picker-expanded",t),this.eWrapper.classList.toggle("ag-picker-collapsed",!t))}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(t){var e;null!=(e=this.pickerComponent)&&e.getGui().contains(t.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(t){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",t)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(t){return $P(this.eWrapper,t),this}getFocusableElement(){return this.eWrapper}setPickerGap(t){return this.pickerGap=t,this}setPickerMinWidth(t){return"number"==typeof t&&(t=`${t}px`),this.minPickerWidth=t??void 0,this}setPickerMaxWidth(t){return"number"==typeof t&&(t=`${t}px`),this.maxPickerWidth=t??void 0,this}setPickerMaxHeight(t){return"number"==typeof t&&(t=`${t}px`),this.maxPickerHeight=t??void 0,this}destroy(){this.hidePicker(),super.destroy()}};N([K("popupService")],mE.prototype,"popupService",2),N([fn("eLabel")],mE.prototype,"eLabel",2),N([fn("eWrapper")],mE.prototype,"eWrapper",2),N([fn("eDisplayField")],mE.prototype,"eDisplayField",2),N([fn("eIcon")],mE.prototype,"eIcon",2);var e5=class QG extends Ti{constructor(e="default",n=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=n,this.options=[],this.itemEls=[]}init(){const e=this.getGui();this.addManagedListener(e,"mouseleave",()=>this.clearHighlighted()),!this.unFocusable&&this.addManagedListener(e,"keydown",this.handleKeyDown.bind(this))}handleKeyDown(e){const n=e.key;switch(n){case Qe.ENTER:if(this.highlightedEl){const s=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(s)}else this.setValue(this.getValue());break;case Qe.DOWN:case Qe.UP:const i=n===Qe.DOWN;let r;if(e.preventDefault(),this.highlightedEl){let o=this.itemEls.indexOf(this.highlightedEl)+(i?1:-1);o=Math.min(Math.max(o,0),this.itemEls.length-1),r=this.itemEls[o]}else r=this.itemEls[i?0:this.itemEls.length-1];this.highlightItem(r)}}addOptions(e){return e.forEach(n=>this.addOption(n)),this}addOption(e){const{value:n,text:i}=e,r=i||n;return this.options.push({value:n,text:r}),this.renderOption(n,r),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Of(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((n,i)=>{UV(n,i+1),HV(n,e.length)})}renderOption(e,n){const i=this.gridOptionsService.getDocument(),r=i.createElement("div");ho(r,"option"),r.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const s=i.createElement("span");r.appendChild(s),s.innerText=n,this.unFocusable||(r.tabIndex=-1),this.itemEls.push(r),this.addManagedListener(r,"mousemove",()=>this.highlightItem(r)),this.addManagedListener(r,"mousedown",o=>{o.preventDefault(),this.setValue(e)}),this.createManagedBean(new Pv({getTooltipValue:()=>n,getGui:()=>r,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>s.scrollWidth>s.clientWidth})),this.getGui().appendChild(r)}setValue(e,n){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(n),this;const i=this.options.findIndex(r=>r.value===e);if(-1!==i){const r=this.options[i];this.value=r.value,this.displayValue=r.text,this.highlightItem(this.itemEls[i]),n||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(n=>n.value===this.value);-1!==e&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!bd(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(QG.ACTIVE_CLASS),BI(this.highlightedEl,!0);const n=this.getGui(),i=n.getBoundingClientRect(),r=i.top+n.scrollTop,s=i.height,{offsetTop:o,offsetHeight:c}=e;(o+c>r+s||o<r)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!bd(this.highlightedEl)||(this.highlightedEl.classList.remove(QG.ACTIVE_CLASS),BI(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchEvent({type:W.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()}fireItemSelected(){this.dispatchEvent({type:QG.EVENT_ITEM_SELECTED})}};e5.EVENT_ITEM_SELECTED="selectedItem",e5.ACTIVE_CLASS="ag-active-item",N([tn],e5.prototype,"init",1);var Yce=e5,Xce=class Ume extends mE{constructor(e){super(Qn({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},e))}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");const{options:e,value:n,placeholder:i}=this.config;null!=e&&this.addOptions(e),null!=n&&this.setValue(n,!0),i&&null==n&&(this.eDisplayField.textContent=i),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new Yce("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),n=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",n),D9(this.getAriaElement(),e),this.listComponent.addManagedListener(this.listComponent,Yce.EVENT_ITEM_SELECTED,()=>{this.hidePicker(),this.dispatchEvent({type:Ume.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,W.EVENT_FIELD_VALUE_CHANGED,()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())})}createPickerComponent(){return this.listComponent}onKeyDown(e){var n;const{key:i}=e;i===Qe.TAB?this.hidePicker():!this.isPickerDisplayed||i!==Qe.ENTER&&i!==Qe.UP&&i!==Qe.DOWN?super.onKeyDown(e):null==(n=this.listComponent)||n.handleKeyDown(e)}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(n=>this.addOption(n)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return null==(e=this.listComponent)||e.clearOptions(),this}setValue(e,n,i){if(this.value===e||!this.listComponent)return this;if(i||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let s=this.listComponent.getDisplayValue();return null==s&&this.config.placeholder&&(s=this.config.placeholder),this.eDisplayField.innerHTML=s,this.setTooltip({newTooltipText:s??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,n)}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),super.destroy()}};Xce.EVENT_ITEM_SELECTED="selectedItem";var t5=Xce,Ff=class extends Kce{constructor(t,e,n="text",i="input"){super(t,`\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <${i} ref="eInput" class="ag-input-field-input"></${i}>\n                </div>\n            </div>`,e),this.inputType=n,this.displayFieldTag=i}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:t,inputWidth:e}=this.config;null!=t&&this.setInputName(t),null!=e&&this.setInputWidth(e),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedListener(this.eInput,"input",t=>this.setValue(t.target.value))}setInputType(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(t){return $P(this.eWrapper,t),this}setInputName(t){return this.getInputElement().setAttribute("name",t),this}getFocusableElement(){return this.eInput}setMaxLength(t){return this.eInput.maxLength=t,this}setInputPlaceholder(t){return mg(this.eInput,"placeholder",t),this}setInputAriaLabel(t){return Nf(this.eInput,t),this.refreshAriaLabelledBy(),this}setDisabled(t){return WI(this.eInput,t),super.setDisabled(t)}setAutoComplete(t){return mg(this.eInput,"autocomplete",!0===t?null:"string"==typeof t?t:"off"),this}};N([fn("eLabel")],Ff.prototype,"eLabel",2),N([fn("eWrapper")],Ff.prototype,"eWrapper",2),N([fn("eInput")],Ff.prototype,"eInput",2);var n5=class extends Ff{constructor(t,e="ag-checkbox",n="checkbox"){super(t,e,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:t,passive:e}=this.config;"boolean"==typeof t&&this.setReadOnly(t),"boolean"==typeof e&&this.setPassive(e)}addInputListeners(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))}getNextValue(){return void 0===this.selected||!this.selected}setPassive(t){this.passive=t}isReadOnly(){return this.readOnly}setReadOnly(t){this.eWrapper.classList.toggle("ag-disabled",t),this.eInput.disabled=t,this.readOnly=t}setDisabled(t){return this.eWrapper.classList.toggle("ag-disabled",t),super.setDisabled(t)}toggle(){if(this.eInput.disabled)return;const t=this.isSelected(),e=this.getNextValue();this.passive?this.dispatchChange(e,t):this.setValue(e)}getValue(){return this.isSelected()}setValue(t,e){return this.refreshSelectedClass(t),this.setSelected(t,e),this}setName(t){return this.getInputElement().name=t,this}isSelected(){return this.selected}setSelected(t,e){this.isSelected()!==t&&(this.previousValue=this.isSelected(),t=this.selected="boolean"==typeof t?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=void 0===t,e||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(t,e,n){this.dispatchEvent({type:W.EVENT_FIELD_VALUE_CHANGED,selected:t,previousValue:e,event:n});const i=this.getInputElement();this.eventService.dispatchEvent({type:W.EVENT_CHECKBOX_CHANGED,id:i.id,name:i.name,selected:t,previousValue:e})}onCheckboxClick(t){if(this.passive||this.eInput.disabled)return;const e=this.isSelected(),n=this.selected=t.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,e,t)}refreshSelectedClass(t){this.eWrapper.classList.toggle("ag-checked",!0===t),this.eWrapper.classList.toggle("ag-indeterminate",null==t)}},Qce=class extends n5{constructor(t){super(t,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedListener(this.eventService,W.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))}onChange(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)}},rq=class{constructor(t,e,n){this.localeService=t,this.optionsFactory=e,this.valueFormatter=n}getModelAsString(t){if(!t)return null;const e=null!=t.operator,n=this.localeService.getLocaleTextFunc();if(e){const i=t;let{conditions:r}=i;if(!r){const{condition1:c,condition2:h}=i;r=[c,h]}const s=r.map(c=>this.getModelAsString(c)),o="AND"===i.operator?"andCondition":"orCondition";return s.join(` ${n(o,$ce[o])} `)}if(t.type===fo.BLANK||t.type===fo.NOT_BLANK)return n(t.type,t.type);{const i=t,r=this.optionsFactory.getCustomOption(i.type),{displayKey:s,displayName:o,numberOfInputs:c}=r||{};return s&&o&&0===c?(n(s,o),o):this.conditionToString(i,r)}}updateParams(t){this.optionsFactory=t.optionsFactory}formatValue(t){var e;return this.valueFormatter?null!=(e=this.valueFormatter(t??null))?e:"":String(t)}},jc=class GA extends ZV{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const n=this.optionsFactory.getCustomOption(e);if(n){const{numberOfInputs:r}=n;return r??1}return e&&[GA.EMPTY,GA.NOT_BLANK,GA.BLANK].indexOf(e)>=0?0:e===GA.IN_RANGE?2:1}onFloatingFilterChanged(e,n){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(n),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((n,i)=>{n.setValue(0===i?e:this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return 0===e.length?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:e[0],condition2:e[1],conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"}areModelsEqual(e,n){if(!e&&!n)return!0;if(!e&&n||e&&!n)return!1;const i=!e.operator,r=!n.operator;if(!i&&r||i&&!r)return!1;let o;return o=i?this.areSimpleModelsEqual(e,n):e.operator===n.operator&&fg(e.conditions,n.conditions,(p,m)=>this.areSimpleModelsEqual(p,m)),o}shouldRefresh(e){var n,i,r;const s=this.getModel(),o=s?null!=(n=s.conditions)?n:[s]:null,c=null!=(r=null==(i=e.filterOptions)?void 0:i.map(p=>"string"==typeof p?p:p.displayKey))?r:this.getDefaultFilterOptions();return!(o&&!o.every(p=>void 0!==c.find(m=>m===p.type))||"number"==typeof e.maxNumConditions&&o&&o.length>e.maxNumConditions)}refresh(e){return!(!this.shouldRefresh(e)||!super.refresh(e)||(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),0))}setModelIntoUi(e){if(e.operator){let i=e;i.conditions||(i.conditions=[i.condition1,i.condition2]);const r=this.validateAndUpdateConditions(i.conditions),s=this.getNumConditions();if(r<s)this.removeConditionsAndOperators(r);else if(r>s)for(let c=s;c<r;c++)this.createJoinOperatorPanel(),this.createOption();const o="OR"===i.operator;this.eJoinOperatorsAnd.forEach(c=>c.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(c=>c.setValue(o,!0)),i.conditions.forEach((c,h)=>{this.eTypes[h].setValue(c.type,!0),this.setConditionIntoUi(c,h)})}else{const i=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Fu.resolve()}validateAndUpdateConditions(e){let n=e.length;return n>this.maxNumConditions&&(e.splice(this.maxNumConditions),li('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),n=this.maxNumConditions),n}doesFilterPass(e){var n;const i=this.getModel();if(null==i)return!0;const{operator:r}=i,s=[];return r?s.push(...null!=(n=i.conditions)?n:[]):s.push(i),s[r&&"OR"===r?"some":"every"](c=>this.individualConditionPasses(e,c))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new jce,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){var n,i;null!=e.suppressAndOrCondition&&li('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),null!=e.alwaysShowBothConditions&&li('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=null!=(n=e.maxNumConditions)?n:e.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(li('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=null!=(i=e.numAlwaysVisibleConditions)?i:e.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(li('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(li('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new t5);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const n=this.createValueElement();this.eConditionBodies.push(n),this.eFilterBody.appendChild(n),this.putOptionsIntoDropdown(e),this.resetType(e);const i=this.getNumConditions()-1;this.forEachPositionInput(i,r=>this.resetInput(r)),this.addChangedListeners(e,i)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const n=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const r=this.eJoinOperatorPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(n,r,s),this.resetJoinOperatorOr(i,r,s),this.isReadOnly()||(n.onValueChange(this.listener),i.onValueChange(this.listener))}createJoinOperator(e,n,i){const r=this.createManagedBean(new Qce);return e.push(r),r.addCssClass("ag-filter-condition-operator"),r.addCssClass(`ag-filter-condition-operator-${i}`),n.appendChild(r.getGui()),r}getDefaultJoinOperator(e){return"AND"===e||"OR"===e?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(n=>"string"==typeof n?this.createBoilerplateListOption(n):this.createCustomListOption(n))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(n=>{e.addOption(n)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:n}=e,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:n,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(n)}}isAllowTwoConditions(){return this.maxNumConditions>=2}createBodyTemplate(){return""}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){var e;let n=-1,i=!0;for(let r=0;r<this.getNumConditions();r++)this.isConditionUiComplete(r)?n=r:i=!1;if(this.shouldAddNewConditionAtEnd(i))this.createJoinOperatorPanel(),this.createOption();else{const r=null!=(e=this.lastUiCompletePosition)?e:this.getNumConditions()-2;if(n<r){this.removeConditionsAndOperators(r+1);const s=n+1,o=r-s;o>0&&this.removeConditionsAndOperators(s,o),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=n}updateConditionStatusesAndValues(e,n){this.eTypes.forEach((r,s)=>{const o=this.isConditionDisabled(s,e);r.setDisabled(o||this.filterListOptions.length<=1),1===s&&(WI(this.eJoinOperatorPanels[0],o),this.eJoinOperatorsAnd[0].setDisabled(o),this.eJoinOperatorsOr[0].setDisabled(o))}),this.eConditionBodies.forEach((r,s)=>{rr(r,this.isConditionBodyVisible(s))});const i="OR"===(n??this.getJoinOperator());this.eJoinOperatorsAnd.forEach((r,s)=>{r.setValue(!i,!0)}),this.eJoinOperatorsOr.forEach((r,s)=>{r.setValue(i,!0)}),this.forEachInput((r,s,o,c)=>{this.setElementDisplayed(r,s<c),this.setElementDisabled(r,this.isConditionDisabled(o,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,n){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,n),this.removeElements(this.eConditionBodies,e,n),this.removeValueElements(e,n);const i=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,i,n),this.removeComponents(this.eJoinOperatorsAnd,i,n),this.removeComponents(this.eJoinOperatorsOr,i,n)}removeElements(e,n,i){this.removeItems(e,n,i).forEach(s=>Of(s))}removeComponents(e,n,i){this.removeItems(e,n,i).forEach(s=>{Of(s.getGui()),this.destroyBean(s)})}removeItems(e,n,i){return null==i?e.splice(n):e.splice(n,i)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{const n=this.getInputs(0)[0];if(!n)return;n instanceof Ff&&n.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let n=-1,i=-1,r=!1;const s=this.getJoinOperator();for(let c=this.getNumConditions()-1;c>=0;c--)if(this.isConditionUiComplete(c))-1===n&&(n=c,i=c);else{const p=c<n;(c>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(c-1)||p)&&(this.removeConditionsAndOperators(c,1),r=!0,p&&i--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(i,s),r&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getPlaceholderText(e,n){let i=this.translate(e);if(MV(this.filterPlaceholder)){const r=this.filterPlaceholder,s=this.eTypes[n].getValue();i=r({filterOptionKey:s,filterOption:this.translate(s),placeholder:i})}else"string"==typeof this.filterPlaceholder&&(i=this.filterPlaceholder);return i}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((n,i,r,s)=>{if(!(n instanceof Ff))return;const o=0===i&&s>1?"inRangeStart":0===i?"filterOoo":"inRangeEnd",c=0===i&&s>1?e("ariaFilterFromValue","Filter from value"):0===i?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");n.setInputPlaceholder(this.getPlaceholderText(o,r)),n.setInputAriaLabel(c)})}setElementValue(e,n,i){e instanceof Ff&&e.setValue(null!=n?String(n):null,!0)}setElementDisplayed(e,n){e instanceof Ti&&rr(e.getGui(),n)}setElementDisabled(e,n){e instanceof Ti&&WI(e.getGui(),n)}attachElementOnChange(e,n){e instanceof Ff&&e.onValueChange(n)}forEachInput(e){this.getConditionTypes().forEach((n,i)=>{this.forEachPositionTypeInput(i,n,e)})}forEachPositionInput(e,n){const i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,n)}forEachPositionTypeInput(e,n,i){const r=this.getNumberOfInputs(n),s=this.getInputs(e);for(let o=0;o<s.length;o++){const c=s[o];null!=c&&i(c,o,e,r)}}isConditionDisabled(e,n){return!!this.isReadOnly()||0!==e&&e>n+1}isConditionBodyVisible(e){const n=this.getConditionType(e);return this.getNumberOfInputs(n)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)===GA.EMPTY||this.getValues(e).some(i=>null==i))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)&&e.push(this.createCondition(n));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(n=>this.resetType(n)),this.eJoinOperatorsAnd.forEach((n,i)=>this.resetJoinOperatorAnd(n,i,this.joinOperatorId+i)),this.eJoinOperatorsOr.forEach((n,i)=>this.resetJoinOperatorOr(n,i,this.joinOperatorId+i)),this.joinOperatorId++,this.forEachInput(n=>this.resetInput(n)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),Fu.resolve()}resetType(e){const i=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,n,i){this.resetJoinOperator(e,n,this.isDefaultOperator("AND"),this.translate("andCondition"),i)}resetJoinOperatorOr(e,n,i){this.resetJoinOperator(e,n,this.isDefaultOperator("OR"),this.translate("orCondition"),i)}resetJoinOperator(e,n,i,r,s){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${s}`).setLabel(r),n)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,n)=>this.updateJoinOperatorDisabled(e,n)),this.eJoinOperatorsOr.forEach((e,n)=>this.updateJoinOperatorDisabled(e,n))}updateJoinOperatorDisabled(e,n){e.setDisabled(this.isReadOnly()||n>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,n){const i=this.mapValuesFromModel(e);this.forEachInput((r,s,o,c)=>{o===n&&this.setElementValue(r,null!=i[s]?i[s]:null)})}setValueFromFloatingFilter(e){this.forEachInput((n,i,r,s)=>{this.setElementValue(n,0===i&&0===r?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,n){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(n,i=>{this.attachElementOnChange(i,this.listener)}))}individualConditionPasses(e,n){const i=this.getCellValue(e.node),r=this.mapValuesFromModel(n),s=this.optionsFactory.getCustomOption(n.type);return this.evaluateCustomFilter(s,r,i)??(null==i?this.evaluateNullValue(n.type):this.evaluateNonNullValue(r,i,n,e))}evaluateCustomFilter(e,n,i){if(null==e)return;const{predicate:r}=e;return null==r||n.some(s=>null==s)?void 0:r(n,i)}isBlank(e){return null==e||"string"==typeof e&&0===e.trim().length}hasInvalidInputs(){return!1}};jc.EMPTY="empty",jc.BLANK="blank",jc.NOT_BLANK="notBlank",jc.EQUALS="equals",jc.NOT_EQUAL="notEqual",jc.LESS_THAN="lessThan",jc.LESS_THAN_OR_EQUAL="lessThanOrEqual",jc.GREATER_THAN="greaterThan",jc.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",jc.IN_RANGE="inRange",jc.CONTAINS="contains",jc.NOT_CONTAINS="notContains",jc.STARTS_WITH="startsWith",jc.ENDS_WITH="endsWith";var fo=jc,ya=class Fa extends fo{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case Fa.EQUALS:case Fa.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case Fa.GREATER_THAN:case Fa.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case Fa.LESS_THAN:case Fa.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case Fa.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case Fa.BLANK:return!0;case Fa.NOT_BLANK:return!1}return!1}evaluateNonNullValue(e,n,i){const r=this.comparator(),s=null!=e[0]?r(e[0],n):0;switch(i.type){case Fa.EQUALS:return 0===s;case Fa.NOT_EQUAL:return 0!==s;case Fa.GREATER_THAN:return s>0;case Fa.GREATER_THAN_OR_EQUAL:return s>=0;case Fa.LESS_THAN:return s<0;case Fa.LESS_THAN_OR_EQUAL:return s<=0;case Fa.IN_RANGE:{const o=r(e[1],n);return this.scalarFilterParams.inRangeInclusive?s>=0&&o<=0:s>0&&o<0}case Fa.BLANK:return this.isBlank(n);case Fa.NOT_BLANK:return!this.isBlank(n);default:return console.warn('AG Grid: Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},eue=class extends rq{constructor(t,e,n){super(e,n),this.dateFilterParams=t}conditionToString(t,e){const{type:n}=t,{numberOfInputs:i}=e||{},r=n==fo.IN_RANGE||2===i,s=Nu(t.dateFrom),o=Nu(t.dateTo),c=this.dateFilterParams.inRangeFloatingFilterDateFormat;return r?`${null!==s?UI(s,c):"null"}-${null!==o?UI(o,c):"null"}`:null!=s?UI(s,c):`${n}`}updateParams(t){super.updateParams(t),this.dateFilterParams=t.dateFilterParams}},sq=class Wme extends ya{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=1e3,this.maxValidYear=1/0,this.minValidDate=null,this.maxValidDate=null}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:n,dateTo:i,type:r}=e||{};return[n&&Nu(n)||null,i&&Nu(i)||null].slice(0,this.getNumberOfInputs(r))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,n){return null==n||n<e?-1:n>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const n=(i,r)=>{if(null!=e[i]){if(!isNaN(e[i]))return null==e[i]?r:Number(e[i]);console.warn(`AG Grid: DateFilter ${i} is not a number`)}return r};this.minValidYear=n("minValidYear",1e3),this.maxValidYear=n("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.minValidDate=e.minValidDate?e.minValidDate instanceof Date?e.minValidDate:Nu(e.minValidDate):null,this.maxValidDate=e.maxValidDate?e.maxValidDate instanceof Date?e.maxValidDate:Nu(e.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new eue(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const n=new zce(this.getContext(),this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>n.destroy()),n}setElementValue(e,n){e.setDate(n)}setElementDisplayed(e,n){e.setDisplayed(n)}setElementDisabled(e,n){e.setDisabled(n)}getDefaultFilterOptions(){return Wme.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,n,i,r){const s=document.createElement("div");s.classList.add(`ag-filter-${r}`),s.classList.add(`ag-filter-date-${r}`),n.push(s),e.appendChild(s),i.push(this.createDateCompWrapper(s))}removeValueElements(e,n){this.removeDateComps(this.dateConditionFromComps,e,n),this.removeDateComps(this.dateConditionToComps,e,n),this.removeItems(this.eConditionPanelsFrom,e,n),this.removeItems(this.eConditionPanelsTo,e,n)}removeDateComps(e,n,i){this.removeItems(e,n,i).forEach(s=>s.destroy())}isValidDateValue(e){if(null===e)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let n=!0;return this.forEachInput((i,r,s,o)=>{s!==e||!n||r>=o||(n=n&&this.isValidDateValue(i.getDate()))}),n}areSimpleModelsEqual(e,n){return e.dateFrom===n.dateFrom&&e.dateTo===n.dateTo&&e.type===n.type}getFilterType(){return"date"}createCondition(e){const n=this.getConditionType(e),i={},r=this.getValues(e);return r.length>0&&(i.dateFrom=Ch(r[0])),r.length>1&&(i.dateTo=Ch(r[1])),Qn({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:n},i)}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),n=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(r=>{r.setInputPlaceholder(n),r.setInputAriaLabel(i)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const n=[];return this.forEachPositionInput(e,(i,r,s,o)=>{r<o&&n.push(i.getDate())}),n}translate(e){return super.translate(e===ya.LESS_THAN?"before":e===ya.GREATER_THAN?"after":e)}getModelAsString(e){var n;return null!=(n=this.filterModelFormatter.getModelAsString(e))?n:""}};sq.DEFAULT_FILTER_OPTIONS=[ya.EQUALS,ya.NOT_EQUAL,ya.LESS_THAN,ya.GREATER_THAN,ya.IN_RANGE,ya.BLANK,ya.NOT_BLANK],N([K("userComponentFactory")],sq.prototype,"userComponentFactory",2);var tue=sq,nue=class extends Ti{getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(t){return t&&t.afterFloatingFilter}isEventFromDataChange(t){return t?.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(t){if(!t)return void(this.lastType=this.optionsFactory.getDefaultOption());let n;n=t.operator?t.conditions[0]:t,this.lastType=n.type}canWeEditAfterModelFromParentFilter(t){return t?!t.operator&&this.isTypeEditable(t.type):this.isTypeEditable(this.lastType)}init(t){this.setSimpleParams(t,!1)}setSimpleParams(t,e=!0){this.optionsFactory=new jce,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),e||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!t.filterParams.readOnly;const n=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(n)}onParamsUpdated(t){this.refresh(t)}refresh(t){this.setSimpleParams(t)}doesFilterHaveSingleInput(t){const e=this.optionsFactory.getCustomOption(t),{numberOfInputs:n}=e||{};return null==n||1==n}isTypeEditable(t){const e=[fo.IN_RANGE,fo.EMPTY,fo.BLANK,fo.NOT_BLANK];return!!t&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(t)&&e.indexOf(t)<0}},i5=class extends nue{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')}getDefaultFilterOptions(){return tue.DEFAULT_FILTER_OPTIONS}init(t){super.init(t),this.params=t,this.filterParams=t.filterParams,this.createDateComponent(),this.filterModelFormatter=new eue(this.filterParams,this.localeService,this.optionsFactory);const e=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(e("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(t){this.refresh(t)}refresh(t){super.refresh(t),this.params=t,this.filterParams=t.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(t.currentParentModel())}updateCompOnModelChange(t){const e=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(t);this.setEditable(e),e?(this.dateComp.setDate(t?Nu(t.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(t)),this.dateComp.setDate(null))}setEditable(t){rr(this.eDateWrapper,t),rr(this.eReadOnlyText.getGui(),!t)}onParentModelChanged(t,e){this.isEventFromFloatingFilter(e)||this.isEventFromDataChange(e)||(super.setLastTypeFromModel(t),this.updateCompOnModelChange(t))}onDateChanged(){const e=Ch(this.dateComp.getDate());this.params.parentFilterInstance(n=>{if(n){const i=Nu(e);n.onFloatingFilterChanged(this.getLastType()||null,i)}})}getDateComponentParams(){const t=ZV.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:Wc(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new zce(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const t=this.gridOptionsService.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(t)}getFilterModelFormatter(){return this.filterModelFormatter}};N([K("userComponentFactory")],i5.prototype,"userComponentFactory",2),N([fn("eReadOnlyText")],i5.prototype,"eReadOnlyText",2),N([fn("eDateWrapper")],i5.prototype,"eDateWrapper",2);var iue=class extends Ti{constructor(){super('\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')}destroy(){super.destroy()}init(t){this.params=t,this.setParams(t);const e=this.gridOptionsService.getDocument(),n=this.eDateInput.getInputElement();this.addManagedListener(n,"mousedown",()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||n.focus()}),this.addManagedListener(n,"input",i=>{i.target===e.activeElement&&(this.eDateInput.isDisabled()||this.params.onDateChanged())})}setParams(t){const e=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(t);this.usingSafariDatePicker=n&&gg(),e.type=n?"date":"text";const{minValidYear:i,maxValidYear:r,minValidDate:s,maxValidDate:o}=t.filterParams||{};if(s&&i&&li("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),o&&r&&li("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),s&&o){const[c,h]=[s,o].map(p=>p instanceof Date?p:Nu(p));c&&h&&c.getTime()>h.getTime()&&li("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}s?e.min=s instanceof Date?UI(s):s:i&&(e.min=`${i}-01-01`),o?e.max=o instanceof Date?UI(o):o:r&&(e.max=`${r}-12-31`)}onParamsUpdated(t){this.refresh(t)}refresh(t){this.params=t,this.setParams(t)}getDate(){return Nu(this.eDateInput.getValue())}setDate(t){this.eDateInput.setValue(Ch(t,!1))}setInputPlaceholder(t){this.eDateInput.setInputPlaceholder(t)}setDisabled(t){this.eDateInput.setDisabled(t)}afterGuiAttached(t){(!t||!t.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(t){return t.filterParams&&null!=t.filterParams.browserDatePicker?t.filterParams.browserDatePicker:jV()||L9()||gg()&&k9()>=14.1}};N([fn("eDateInput")],iue.prototype,"eDateInput",2);var vE=class extends Ff{constructor(t,e="ag-text-field",n="text"){super(t,e,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(t,e){return this.eInput.value!==t&&(this.eInput.value=$t(t)?t:""),super.setValue(t,e)}setStartValue(t){this.setValue(t,!0)}preventDisallowedCharacters(){const t=new RegExp(`[${this.config.allowedCharPattern}]`);this.addManagedListener(this.eInput,"keydown",n=>{YV(n)&&n.key&&!t.test(n.key)&&n.preventDefault()}),this.addManagedListener(this.eInput,"paste",n=>{var i;const r=null==(i=n.clipboardData)?void 0:i.getData("text");r&&r.split("").some(s=>!t.test(s))&&n.preventDefault()})}},oq=class extends vE{constructor(t){super(t,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"blur",()=>{const r=parseFloat(this.eInput.value),s=isNaN(r)?"":this.normalizeValue(r.toString());this.value!==s&&this.setValue(s)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any";const{precision:t,min:e,max:n,step:i}=this.config;"number"==typeof t&&this.setPrecision(t),"number"==typeof e&&this.setMin(e),"number"==typeof n&&this.setMax(n),"number"==typeof i&&this.setStep(i)}onWheel(t){document.activeElement===this.eInput&&t.preventDefault()}normalizeValue(t){if(""===t)return"";null!=this.precision&&(t=this.adjustPrecision(t));const e=parseFloat(t);return null!=this.min&&e<this.min?t=this.min.toString():null!=this.max&&e>this.max&&(t=this.max.toString()),t}adjustPrecision(t,e){if(null==this.precision)return t;if(e){const i=parseFloat(t).toFixed(this.precision);return parseFloat(i).toString()}const n=String(t).split(".");if(n.length>1){if(n[1].length<=this.precision)return t;if(this.precision>0)return`${n[0]}.${n[1].slice(0,this.precision)}`}return n[0]}setMin(t){return this.min===t||(this.min=t,mg(this.eInput,"min",t)),this}setMax(t){return this.max===t||(this.max=t,mg(this.eInput,"max",t)),this}setPrecision(t){return this.precision=t,this}setStep(t){return this.step===t||(this.step=t,mg(this.eInput,"step",t)),this}setValue(t,e){return this.setValueOrInputValue(n=>super.setValue(n,e),()=>this,t)}setStartValue(t){return this.setValueOrInputValue(e=>super.setValue(e,!0),e=>{this.eInput.value=e},t)}setValueOrInputValue(t,e,n){if($t(n)){let i=this.isScientificNotation(n);if(i&&this.eInput.validity.valid)return t(n);if(i||(i=(n=this.adjustPrecision(n))!=this.normalizeValue(n)),i)return e(n)}return t(n)}getValue(){if(!this.eInput.validity.valid)return;const t=this.eInput.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(t){return"string"==typeof t&&t.includes("e")}},rue=class extends rq{conditionToString(t,e){const{numberOfInputs:n}=e||{};return t.type==fo.IN_RANGE||2===n?`${this.formatValue(t.filter)}-${this.formatValue(t.filterTo)}`:null!=t.filter?this.formatValue(t.filter):`${t.type}`}};function aq(t){const{allowedCharPattern:e}=t??{};return e??null}var sue=class zme extends ya{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern===e.allowedCharPattern&&super.refresh(e)}mapValuesFromModel(e){const{filter:n,filterTo:i,type:r}=e||{};return[this.processValue(n),this.processValue(i)].slice(0,this.getNumberOfInputs(r))}getDefaultDebounceMs(){return 500}comparator(){return(e,n)=>e===n?0:e<n?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new rue(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return zme.DEFAULT_FILTER_OPTIONS}setElementValue(e,n,i){const r=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(n??null):n;super.setElementValue(e,r)}createValueElement(){const e=aq(this.numberFilterParams),n=document.createElement("div");return n.classList.add("ag-filter-body"),ho(n,"presentation"),this.createFromToElement(n,this.eValuesFrom,"from",e),this.createFromToElement(n,this.eValuesTo,"to",e),n}createFromToElement(e,n,i,r){const s=this.createManagedBean(r?new vE({allowedCharPattern:r}):new oq);s.addCssClass(`ag-filter-${i}`),s.addCssClass("ag-filter-filter"),n.push(s),e.appendChild(s.getGui())}removeValueElements(e,n){this.removeComponents(this.eValuesFrom,e,n),this.removeComponents(this.eValuesTo,e,n)}getValues(e){const n=[];return this.forEachPositionInput(e,(i,r,s,o)=>{r<o&&n.push(this.processValue(this.stringToFloat(i.getValue())))}),n}areSimpleModelsEqual(e,n){return e.filter===n.filter&&e.filterTo===n.filterTo&&e.type===n.type}getFilterType(){return"number"}processValue(e){return null==e||isNaN(e)?null:e}stringToFloat(e){if("number"==typeof e)return e;let n=hg(e);return null!=n&&""===n.trim()&&(n=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(n):null==n||"-"===n.trim()?null:parseFloat(n)}createCondition(e){const n=this.getConditionType(e),i={filterType:this.getFilterType(),type:n},r=this.getValues(e);return r.length>0&&(i.filter=r[0]),r.length>1&&(i.filterTo=r[1]),i}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){var n;return null!=(n=this.filterModelFormatter.getModelAsString(e))?n:""}hasInvalidInputs(){let e=!1;return this.forEachInput(n=>{n.getInputElement().validity.valid||(e=!0)}),e}};sue.DEFAULT_FILTER_OPTIONS=[ya.EQUALS,ya.NOT_EQUAL,ya.GREATER_THAN,ya.GREATER_THAN_OR_EQUAL,ya.LESS_THAN,ya.LESS_THAN_OR_EQUAL,ya.IN_RANGE,ya.BLANK,ya.NOT_BLANK];var oue=sue,aue=class extends rq{conditionToString(t,e){const{numberOfInputs:n}=e||{};return t.type==fo.IN_RANGE||2===n?`${t.filter}-${t.filterTo}`:null!=t.filter?`${t.filter}`:`${t.type}`}},kf=class BA extends fo{constructor(){super("textFilter"),this.eValuesFrom=[],this.eValuesTo=[]}static trimInput(e){const n=e&&e.trim();return""===n?e:n}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?BA.DEFAULT_FORMATTER:BA.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new aue(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(qi.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:n,value:i,filterText:r})=>e(n,i,r)):this.textFilterParams.textMatcher||BA.DEFAULT_MATCHER}createCondition(e){const n=this.getConditionType(e),i={filterType:this.getFilterType(),type:n},r=this.getValuesWithSideEffects(e,!0);return r.length>0&&(i.filter=r[0]),r.length>1&&(i.filterTo=r[1]),i}getFilterType(){return"text"}areSimpleModelsEqual(e,n){return e.filter===n.filter&&e.filterTo===n.filterTo&&e.type===n.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,n){const i=[];return this.forEachPositionInput(e,(r,s,o,c)=>{var h;if(s<c){let p=hg(r.getValue());n&&this.textFilterParams.trimInput&&(p=null!=(h=BA.trimInput(p))?h:null,r.setValue(p,!0)),i.push(p)}}),i}getDefaultFilterOptions(){return BA.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),ho(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,n,i){const r=this.createManagedBean(new vE);r.addCssClass(`ag-filter-${i}`),r.addCssClass("ag-filter-filter"),n.push(r),e.appendChild(r.getGui())}removeValueElements(e,n){this.removeComponents(this.eValuesFrom,e,n),this.removeComponents(this.eValuesTo,e,n)}mapValuesFromModel(e){const{filter:n,filterTo:i,type:r}=e||{};return[n||null,i||null].slice(0,this.getNumberOfInputs(r))}evaluateNullValue(e){return!!e&&[fo.NOT_EQUAL,fo.NOT_CONTAINS,fo.BLANK].indexOf(e)>=0}evaluateNonNullValue(e,n,i,r){const s=e.map(U=>this.formatter(U))||[],o=this.formatter(n),{api:c,colDef:h,column:p,columnApi:m,context:y,textFormatter:I}=this.textFilterParams;if(i.type===fo.BLANK)return this.isBlank(n);if(i.type===fo.NOT_BLANK)return!this.isBlank(n);const L={api:c,colDef:h,column:p,columnApi:m,context:y,node:r.node,data:r.data,filterOption:i.type,value:o,textFormatter:I};return s.some(U=>this.matcher(Is(Qn({},L),{filterText:U})))}getModelAsString(e){var n;return null!=(n=this.filterModelFormatter.getModelAsString(e))?n:""}};kf.DEFAULT_FILTER_OPTIONS=[fo.CONTAINS,fo.NOT_CONTAINS,fo.EQUALS,fo.NOT_EQUAL,fo.STARTS_WITH,fo.ENDS_WITH,fo.BLANK,fo.NOT_BLANK],kf.DEFAULT_FORMATTER=t=>t,kf.DEFAULT_LOWERCASE_FORMATTER=t=>null==t?null:t.toString().toLowerCase(),kf.DEFAULT_MATCHER=({filterOption:t,value:e,filterText:n})=>{if(null==n)return!1;switch(t){case kf.CONTAINS:return e.indexOf(n)>=0;case kf.NOT_CONTAINS:return e.indexOf(n)<0;case kf.EQUALS:return e===n;case kf.NOT_EQUAL:return e!=n;case kf.STARTS_WITH:return 0===e.indexOf(n);case kf.ENDS_WITH:const i=e.lastIndexOf(n);return i>=0&&i===e.length-n.length;default:return!1}};var lq=kf,lue=class extends Jt{constructor(t){super(),this.params=t,this.valueChangedListener=()=>{}}setupGui(t){var e;this.eFloatingFilterTextInput=this.createManagedBean(new vE(null==(e=this.params)?void 0:e.config));const n=this.eFloatingFilterTextInput.getGui();t.appendChild(n),this.addManagedListener(n,"input",i=>this.valueChangedListener(i)),this.addManagedListener(n,"keydown",i=>this.valueChangedListener(i))}setEditable(t){this.eFloatingFilterTextInput.setDisabled(!t)}setAutoComplete(t){this.eFloatingFilterTextInput.setAutoComplete(t)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(t,e){this.eFloatingFilterTextInput.setValue(t,e)}setValueChangedListener(t){this.valueChangedListener=t}setParams(t){this.setAriaLabel(t.ariaLabel),void 0!==t.autoComplete&&this.setAutoComplete(t.autoComplete)}setAriaLabel(t){this.eFloatingFilterTextInput.setInputAriaLabel(t)}},QP=class extends nue{postConstruct(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>\n        ')}getDefaultDebounceMs(){return 500}onParentModelChanged(t,e){this.isEventFromFloatingFilter(e)||this.isEventFromDataChange(e)||(this.setLastTypeFromModel(t),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(t)))}init(t){this.setupFloatingFilterInputService(t),super.init(t),this.setTextInputParams(t)}setupFloatingFilterInputService(t){this.floatingFilterInputService=this.createFloatingFilterInputService(t),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(t){var e;this.params=t;const n=null!=(e=t.browserAutoComplete)&&e;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(t),autoComplete:n}),this.applyActive=ZV.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){const i=ZV.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),r=Wc(this.syncUpWithParentFilter.bind(this),i);this.floatingFilterInputService.setValueChangedListener(r)}}onParamsUpdated(t){this.refresh(t)}refresh(t){super.refresh(t),this.setTextInputParams(t)}recreateFloatingFilterInputService(t){const e=this.floatingFilterInputService.getValue();aa(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(t),this.floatingFilterInputService.setValue(e,!0)}getAriaLabel(t){return`${this.columnModel.getDisplayNameForColumn(t.column,"header",!0)} ${this.localeService.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}syncUpWithParentFilter(t){if(this.applyActive&&t.key!==Qe.ENTER)return;let n=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(n=lq.trimInput(n),this.floatingFilterInputService.setValue(n,!0)),this.params.parentFilterInstance(i=>{i&&i.onFloatingFilterChanged(this.getLastType()||null,n||null)})}setEditable(t){this.floatingFilterInputService.setEditable(t)}};N([K("columnModel")],QP.prototype,"columnModel",2),N([fn("eFloatingFilterInputContainer")],QP.prototype,"eFloatingFilterInputContainer",2),N([tn],QP.prototype,"postConstruct",1);var M1e=class extends Jt{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(t){this.eFloatingFilterNumberInput=this.createManagedBean(new oq),this.eFloatingFilterTextInput=this.createManagedBean(new vE),this.eFloatingFilterTextInput.setDisabled(!0);const e=this.eFloatingFilterNumberInput.getGui(),n=this.eFloatingFilterTextInput.getGui();t.appendChild(e),t.appendChild(n),this.setupListeners(e,i=>this.valueChangedListener(i)),this.setupListeners(n,i=>this.valueChangedListener(i))}setEditable(t){this.numberInputActive=t,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(t){this.eFloatingFilterNumberInput.setAutoComplete(t),this.eFloatingFilterTextInput.setAutoComplete(t)}getValue(){return this.getActiveInputElement().getValue()}setValue(t,e){this.getActiveInputElement().setValue(t,e)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(t){this.valueChangedListener=t}setupListeners(t,e){this.addManagedListener(t,"input",e),this.addManagedListener(t,"keydown",e)}setParams(t){this.setAriaLabel(t.ariaLabel),void 0!==t.autoComplete&&this.setAutoComplete(t.autoComplete)}setAriaLabel(t){this.eFloatingFilterNumberInput.setInputAriaLabel(t),this.eFloatingFilterTextInput.setInputAriaLabel(t)}},N1e=class extends QP{init(t){var e;super.init(t),this.filterModelFormatter=new rue(this.localeService,this.optionsFactory,null==(e=t.filterParams)?void 0:e.numberFormatter)}onParamsUpdated(t){this.refresh(t)}refresh(t){aq(t.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(t),super.refresh(t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return oue.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(t){return this.allowedCharPattern=aq(t.filterParams),this.createManagedBean(this.allowedCharPattern?new lue({config:{allowedCharPattern:this.allowedCharPattern}}):new M1e)}},O1e=class extends QP{init(t){super.init(t),this.filterModelFormatter=new aue(this.localeService,this.optionsFactory)}onParamsUpdated(t){this.refresh(t)}refresh(t){super.refresh(t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return lq.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new lue)}},JP=class MN{constructor(e,n=!1){this.destroyFuncs=[],this.touching=!1,this.eventService=new xf,this.eElement=e,this.preventMouseClick=n;const i=this.onTouchStart.bind(this),r=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",r,{passive:!0}),this.eElement.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",i,{passive:!0}),this.eElement.removeEventListener("touchmove",r,{passive:!0}),this.eElement.removeEventListener("touchend",s,{passive:!1})})}getActiveTouch(e){for(let n=0;n<e.length;n++)if(e[n].identifier===this.touchStart.identifier)return e[n];return null}addEventListener(e,n){this.eventService.addEventListener(e,n)}removeEventListener(e,n){this.eventService.removeEventListener(e,n)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const n=this.touchStart;window.setTimeout(()=>{this.touching&&this.touchStart===n&&!this.moved&&(this.moved=!0,this.eventService.dispatchEvent({type:MN.EVENT_LONG_TAP,touchStart:this.touchStart,touchEvent:e}))},500)}onTouchMove(e){if(!this.touching)return;const n=this.getActiveTouch(e.touches);n&&!eq(n,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:MN.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1)}checkForDoubleTap(){const e=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&e-this.lastTapTime>MN.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:MN.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};JP.EVENT_TAP="tap",JP.EVENT_DOUBLE_TAP="doubleTap",JP.EVENT_LONG_TAP="longTap",JP.DOUBLE_TAP_MILLIS=500;var tl=JP,Mv=class jme extends Ti{constructor(e){super(),e||this.setTemplate(jme.TEMPLATE)}attachCustomElements(e,n,i,r,s){this.eSortOrder=e,this.eSortAsc=n,this.eSortDesc=i,this.eSortMixed=r,this.eSortNone=s}setupSort(e,n=!1){this.column=e,this.suppressOrder=n,this.setupMultiSortIndicator(),this.column.isSortable()&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedPropertyListener("unSortIcon",()=>this.updateIcons()),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,()=>this.updateIcons()),this.addManagedListener(this.eventService,W.EVENT_SORT_CHANGED,()=>this.onSortChanged()),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.onSortChanged()),this.onSortChanged())}addInIcon(e,n,i){if(null==n)return;const r=zs(e,this.gridOptionsService,i);r&&n.appendChild(r)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc&&rr(this.eSortAsc,"asc"===e,{skipAriaHidden:!0}),this.eSortDesc&&rr(this.eSortDesc,"desc"===e,{skipAriaHidden:!0}),this.eSortNone){const n=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.get("unSortIcon");rr(this.eSortNone,!n&&null==e,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&e&&(this.addManagedListener(this.eventService,W.EVENT_SORT_CHANGED,()=>this.updateMultiSortIndicator()),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateMultiSortIndicator()),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e="mixed"===this.sortController.getDisplaySortForColumn(this.column);rr(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){var e;if(!this.eSortOrder)return;const n=this.sortController.getColumnsWithSortingOrdered(),i=null!=(e=this.sortController.getDisplaySortIndexForColumn(this.column))?e:-1,r=n.some(o=>{var c;return null!=(c=this.sortController.getDisplaySortIndexForColumn(o))&&c});rr(this.eSortOrder,i>=0&&r,{skipAriaHidden:!0}),i>=0?this.eSortOrder.textContent=(i+1).toString():aa(this.eSortOrder)}};Mv.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',N([fn("eSortOrder")],Mv.prototype,"eSortOrder",2),N([fn("eSortAsc")],Mv.prototype,"eSortAsc",2),N([fn("eSortDesc")],Mv.prototype,"eSortDesc",2),N([fn("eSortMixed")],Mv.prototype,"eSortMixed",2),N([fn("eSortNone")],Mv.prototype,"eSortNone",2),N([K("columnModel")],Mv.prototype,"columnModel",2),N([K("sortController")],Mv.prototype,"sortController",2);var cq=Mv,nc=class $me extends Ti{constructor(){super(...arguments),this.lastMovingChanged=0}destroy(){super.destroy()}refresh(e){return this.params=e,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&this.shouldSuppressMenuHide()==this.currentSuppressMenuHide&&(this.setDisplayName(e),!0)}workOutTemplate(){var e;let n=null!=(e=this.params.template)?e:$me.TEMPLATE;return n=n&&n.trim?n.trim():n,n}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const n=_a(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=n)}}addInIcon(e,n,i){if(null==n)return;const r=zs(e,this.gridOptionsService,i);r&&n.appendChild(r)}setupTap(){const{gridOptionsService:e}=this;if(e.get("suppressTouch"))return;const n=new tl(this.getGui(),!0),i=this.shouldSuppressMenuHide(),r=i&&$t(this.eMenu),s=r?new tl(this.eMenu,!0):n;if(this.params.enableMenu&&this.addManagedListener(s,tl[r?"EVENT_TAP":"EVENT_LONG_TAP"],h=>this.params.showColumnMenuAfterMouseClick(h.touchStart)),this.params.enableSorting&&this.addManagedListener(n,tl.EVENT_TAP,c=>{var h,p;const m=c.touchStart.target;i&&(null!=(h=this.eMenu)&&h.contains(m)||null!=(p=this.eFilterButton)&&p.contains(m))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")}),this.params.enableFilterButton){const o=new tl(this.eFilterButton,!0);this.addManagedListener(o,"tap",()=>this.params.showFilter(this.eFilterButton)),this.addDestroyFunc(()=>o.destroy())}this.addDestroyFunc(()=>n.destroy()),r&&this.addDestroyFunc(()=>s.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return Of(this.eMenu),void(this.eMenu=void 0);const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",()=>this.params.showColumnMenu(this.eMenu)),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){var n,i,r,s;const{column:o}=this.params,c=this.menuService.isLegacyMenuEnabled();if(e&&!c){if(this.menuService.isFilterMenuInHeaderEnabled(o))return this.params.showFilter(null!=(i=null!=(n=this.eFilterButton)?n:this.eMenu)?i:this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(null!=(s=null!=(r=this.eMenu)?r:this.eFilterButton)?s:this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new cq(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListener(this.params.column,ts.EVENT_MOVING_CHANGED,()=>{this.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",n=>{const i=this.params.column.isMoving(),s=(new Date).getTime()-this.lastMovingChanged<50;if(!i&&!s){const h="ctrl"===this.gridOptionsService.get("multiSortKey")?n.ctrlKey||n.metaKey:n.shiftKey;this.params.progressSort(h)}});const e=()=>{if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.params.column.getColDef().showRowGroup){const n=this.columnModel.getSourceColumnsForGroupColumn(this.params.column),r=!n?.every(s=>this.params.column.getSort()==s.getSort());this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",r)}};this.addManagedListener(this.eventService,W.EVENT_SORT_CHANGED,e),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,e)}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){this.eFilterButton&&(this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedListener(this.eFilterButton,"click",()=>this.params.showFilter(this.eFilterButton)):this.eFilterButton=void 0)}configureFilter(e,n,i){if(!e)return Of(n),!1;const{column:r}=this.params;return this.addInIcon("filter",n,r),this.addManagedListener(r,ts.EVENT_FILTER_CHANGED,i),i(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();rr(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){var n,i,r,s;return e?null!=(i=null!=(n=this.eFilterButton)?n:this.eMenu)?i:this.getGui():null!=(s=null!=(r=this.eMenu)?r:this.eFilterButton)?s:this.getGui()}};nc.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <span ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',N([K("sortController")],nc.prototype,"sortController",2),N([K("menuService")],nc.prototype,"menuService",2),N([K("columnModel")],nc.prototype,"columnModel",2),N([fn("eFilter")],nc.prototype,"eFilter",2),N([fn("eFilterButton")],nc.prototype,"eFilterButton",2),N([fn("eSortIndicator")],nc.prototype,"eSortIndicator",2),N([fn("eMenu")],nc.prototype,"eMenu",2),N([fn("eLabel")],nc.prototype,"eLabel",2),N([fn("eText")],nc.prototype,"eText",2),N([fn("eSortOrder")],nc.prototype,"eSortOrder",2),N([fn("eSortAsc")],nc.prototype,"eSortAsc",2),N([fn("eSortDesc")],nc.prototype,"eSortDesc",2),N([fn("eSortMixed")],nc.prototype,"eSortMixed",2),N([fn("eSortNone")],nc.prototype,"eSortNone",2);var uq=nc,ZP=class qme extends Ti{constructor(){super(qme.TEMPLATE)}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&li("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");const e=r=>{if(Mf(r))return;const s=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),s,"uiColumnExpanded")};this.addTouchAndClickListeners(this.eCloseIcon,e),this.addTouchAndClickListeners(this.eOpenIcon,e);const n=r=>{Pf(r)};this.addManagedListener(this.eCloseIcon,"dblclick",n),this.addManagedListener(this.eOpenIcon,"dblclick",n),this.addManagedListener(this.getGui(),"dblclick",e),this.updateIconVisibility();const i=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(i,Wo.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(i,Wo.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))}addTouchAndClickListeners(e,n){const i=new tl(e,!0);this.addManagedListener(i,tl.EVENT_TAP,n),this.addDestroyFunc(()=>i.destroy()),this.addManagedListener(e,"click",n)}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const n=this.params.columnGroup.isExpanded();rr(this.eOpenIcon,n),rr(this.eCloseIcon,!n)}else rr(this.eOpenIcon,!1),rr(this.eCloseIcon,!1)}addInIcon(e,n){const i=zs(e,this.gridOptionsService,null);i&&this.getRefElement(n).appendChild(i)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable())return rr(this.eOpenIcon,!1),void rr(this.eCloseIcon,!1)}setupLabel(){var e;const{displayName:n,columnGroup:i}=this.params;if($t(n)){const r=_a(n,!0);this.getRefElement("agLabel").textContent=r}this.addOrRemoveCssClass("ag-sticky-label",!(null!=(e=i.getColGroupDef())&&e.suppressStickyLabel))}};ZP.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',N([K("columnModel")],ZP.prototype,"columnModel",2),N([fn("agOpened")],ZP.prototype,"eOpenIcon",2),N([fn("agClosed")],ZP.prototype,"eCloseIcon",2);var F1e=ZP,_E=class extends Ti{isPopup(){return!0}setParentComponent(t){t.addCssClass("ag-has-popup"),super.setParentComponent(t)}destroy(){const t=this.parentComponent;t&&t.isAlive()&&t.getGui().classList.remove("ag-has-popup"),super.destroy()}},dq=class Kme extends _E{constructor(){super(Kme.TEMPLATE)}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),$t(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const n=e.key;(n===Qe.LEFT||n===Qe.UP||n===Qe.RIGHT||n===Qe.DOWN||e.shiftKey&&n===Qe.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return $t(e)||$t(this.params.value)?this.params.parseValue(e):this.params.value}};dq.TEMPLATE='<div class="ag-large-text">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',N([fn("eTextArea")],dq.prototype,"eTextArea",2);var k1e=dq,hq=class extends _E{constructor(){super('<div class="ag-cell-edit-wrapper">\n                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>\n            </div>'),this.startedByEnter=!1}init(t){this.focusAfterAttached=t.cellStartedEdit;const{eSelect:e,valueFormatterService:n,gridOptionsService:i}=this,{values:r,value:s,eventKey:o}=t;if(pi(r))return void console.warn("AG Grid: no values found for select cellEditor");this.startedByEnter=null!=o&&o===Qe.ENTER;let c=!1;r.forEach(y=>{const I={value:y},L=n.formatValue(t.column,null,y);I.text=null!=L?L:y,e.addOption(I),c=c||s===y}),c?e.setValue(t.value,!0):t.values.length&&e.setValue(t.values[0],!0);const{valueListGap:h,valueListMaxWidth:p,valueListMaxHeight:m}=t;null!=h&&e.setPickerGap(h),null!=m&&e.setPickerMaxHeight(m),null!=p&&e.setPickerMaxWidth(p),"fullRow"!==i.get("editType")&&this.addManagedListener(this.eSelect,t5.EVENT_ITEM_SELECTED,()=>t.stopEditing())}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}};N([K("valueFormatterService")],hq.prototype,"valueFormatterService",2),N([fn("eSelect")],hq.prototype,"eSelect",2);var eM=class extends _E{constructor(t){super(`\n            <div class="ag-cell-edit-wrapper">\n                ${t.getTemplate()}\n            </div>`),this.cellEditorInput=t}init(t){this.params=t;const e=this.eInput;let n;if(this.cellEditorInput.init(e,t),t.cellStartedEdit){this.focusAfterAttached=!0;const i=t.eventKey;i===Qe.BACKSPACE||t.eventKey===Qe.DELETE?n="":i&&1===i.length?n=i:(n=this.cellEditorInput.getStartValue(),i!==Qe.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,n=this.cellEditorInput.getStartValue();null!=n&&e.setStartValue(n),this.addManagedListener(e.getGui(),"keydown",i=>{const{key:r}=i;(r===Qe.PAGE_UP||r===Qe.PAGE_DOWN)&&i.preventDefault()})}afterGuiAttached(){var t,e;const n=this.localeService.getLocaleTextFunc(),i=this.eInput;if(i.setInputAriaLabel(n("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;gg()||i.getFocusableElement().focus();const r=i.getInputElement();this.highlightAllOnFocus?r.select():null==(e=(t=this.cellEditorInput).setCaret)||e.call(t)}focusIn(){const t=this.eInput,e=t.getFocusableElement(),n=t.getInputElement();e.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}};N([fn("eInput")],eM.prototype,"eInput",2);var L1e=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'}init(t,e){this.eInput=t,this.params=e,null!=e.maxLength&&t.setMaxLength(e.maxLength)}getValue(){const t=this.eInput.getValue();return $t(t)||$t(this.params.value)?this.params.parseValue(t):this.params.value}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const t=this.eInput.getValue(),e=$t(t)&&t.length||0;e&&this.eInput.getInputElement().setSelectionRange(e,e)}},cue=class extends eM{constructor(){super(new L1e)}},uue=class extends Ti{constructor(){super(),this.refreshCount=0;const t=document.createElement("span"),e=document.createElement("span");e.setAttribute("class","ag-value-change-delta");const n=document.createElement("span");n.setAttribute("class","ag-value-change-value"),t.appendChild(e),t.appendChild(n),this.setTemplateFromElement(t)}init(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t,!0)}showDelta(t,e){const n=Math.abs(e),i=t.formatValue(n),r=$t(i)?i:n,s=e>=0;this.eDelta.textContent=s?"\u2191"+r:"\u2193"+r,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const t=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{t===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),aa(this.eDelta)}refresh(t,e=!1){const n=t.value;return n!==this.lastValue&&($t(t.valueFormatted)?this.eValue.textContent=t.valueFormatted:$t(t.value)?this.eValue.textContent=n:aa(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof n&&"number"==typeof this.lastValue&&this.showDelta(t,n-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),e||this.setTimerToRemoveDelta(),this.lastValue=n,!0)}};N([K("filterManager")],uue.prototype,"filterManager",2);var due=class extends Ti{constructor(){super(),this.refreshCount=0;const t=document.createElement("span"),e=document.createElement("span");e.setAttribute("class","ag-value-slide-current"),t.appendChild(e),this.setTemplateFromElement(t),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}init(t){this.refresh(t,!0)}addSlideAnimation(){this.refreshCount++;const t=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const e=document.createElement("span");e.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=e,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{t===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{t===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(t,e=!1){let n=t.value;return pi(n)&&(n=""),n!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(e||this.addSlideAnimation(),this.lastValue=n,$t(t.valueFormatted)?this.eCurrent.textContent=t.valueFormatted:$t(t.value)?this.eCurrent.textContent=n:aa(this.eCurrent),!0)}};N([K("filterManager")],due.prototype,"filterManager",2);var As=class ls{constructor(e){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=ls.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,n){const i=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const r=this.createDataChangedEvent(e,i,n);this.dispatchLocalEvent(r)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,n,i){return{type:ls.EVENT_DATA_CHANGED,node:this,oldData:n,newData:e,update:i}}createLocalRowEvent(e){return{type:e,node:this}}getRowIndexString(){return"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const e=new ls(this.beans);return e.id=this.id,e.data=this.data,e.__daemon=!0,e.selected=this.selected,e.level=this.level,e}setDataAndId(e,n){const i=$t(this.id)?this.createDaemonNode():null,r=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(n),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,i);const s=this.createDataChangedEvent(e,r,!1);this.dispatchLocalEvent(s)}checkRowSelectable(){const e=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(!e||e(this))}setRowSelectable(e,n){if(this.selectable!==e){if(this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_SELECTABLE_CHANGED)),n)return;if(this.beans.gridOptionsService.get("groupSelectsChildren")){const r=this.calculateSelectedFromChildren();return void this.setSelectedParams({newValue:r??!1,source:"selectableChanged"})}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(e){const n=this.beans.gridOptionsService.getCallback("getRowId");if(n)if(this.data){const i=this.getGroupKeys(!0);this.id=n({data:this.data,parentKeys:i.length>0?i:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(ls.ID_PREFIX_ROW_GROUP)&&console.error(`AG Grid: Row IDs cannot start with ${ls.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=e}getGroupKeys(e=!1){const n=[];let i=this;for(e&&(i=i.parent);i&&i.level>=0;)n.push(i.key),i=i.parent;return n.reverse(),n}isPixelInRange(e){return!(!$t(this.rowTop)||!$t(this.rowHeight))&&e>=this.rowTop&&e<this.rowTop+this.rowHeight}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_FIRST_CHILD_CHANGED)))}setLastChild(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_LAST_CHILD_CHANGED)))}setChildIndex(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_CHILD_INDEX_CHANGED)))}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_TOP_CHANGED)),this.setDisplayed(null!==e))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_DISPLAYED_CHANGED)))}setDragging(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_DRAGGING_CHANGED)))}setHighlighted(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_HIGHLIGHT_CHANGED)))}setHovered(e){this.hovered!==e&&(this.hovered=e)}isHovered(){return this.hovered}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_ALL_CHILDREN_COUNT_CHANGED)))}setMaster(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_MASTER_CHANGED)))}setGroup(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_GROUP_CHANGED)))}setRowHeight(e,n=!1){this.rowHeight=e,this.rowHeightEstimated=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_HEIGHT_CHANGED))}setRowAutoHeight(e,n){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[n.getId()]=e,null!=e&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=Wc(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let e=!1,n=!0,i=0;const r=this.__autoHeights;if(null==r||(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(c=>{let h=r[c.getId()];if(null==h){if(!this.beans.columnModel.isColSpanActive())return void(e=!0);{let p=[];switch(c.getPinned()){case"left":p=this.beans.columnModel.getDisplayedLeftColumnsForRow(this);break;case"right":p=this.beans.columnModel.getDisplayedRightColumnsForRow(this);break;case null:p=this.beans.columnModel.getViewportCenterColumnsForRow(this)}if(p.includes(c))return void(e=!0);h=-1}}else n=!1;h>i&&(i=h)}),e)||((n||i<10)&&(i=this.beans.gridOptionsService.getRowHeightForNode(this).height),i==this.rowHeight))return;this.setRowHeight(i);const o=this.beans.rowModel;o.onRowHeightChangedDebounced&&o.onRowHeightChangedDebounced()}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_ROW_INDEX_CHANGED)))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_UI_LEVEL_CHANGED)))}setExpanded(e,n){if(this.expanded===e)return;this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_EXPANDED_CHANGED));const i=Object.assign({},this.createGlobalRowEvent(W.EVENT_ROW_GROUP_OPENED),{expanded:e,event:n||null});this.beans.rowNodeEventThrottle.dispatchExpanded(i),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(e){return this.beans.gridOptionsService.addGridCommonParams({type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}dispatchLocalEvent(e){this.eventService&&this.eventService.dispatchEvent(e)}setDataValue(e,n,i){const s=(()=>{var h;return"string"!=typeof e?e:null!=(h=this.beans.columnModel.getGridColumn(e))?h:this.beans.columnModel.getPrimaryColumn(e)})(),o=this.getValueFromValueService(s);if(this.beans.gridOptionsService.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(s,o,n,i),!1;const c=this.beans.valueService.setValue(this,s,n,i);return this.dispatchCellChangedEvent(s,n,o),this.checkRowSelectable(),c}getValueFromValueService(e){const n=this.leafGroup&&this.beans.columnModel.isPivotMode(),i=this.group&&this.expanded&&!this.footer&&!n,s=this.beans.gridOptionsService.getGroupIncludeFooter()({node:this}),o=this.beans.gridOptionsService.get("groupSuppressBlankHeader");return this.beans.valueService.getValue(e,this,!1,i&&s&&!o)}dispatchEventForSaveValueReadOnly(e,n,i,r){const s=this.beans.gridOptionsService.addGridCommonParams({type:W.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:e,colDef:e.getColDef(),data:this.data,node:this,oldValue:n,newValue:i,value:i,source:r});this.beans.eventService.dispatchEvent(s)}setGroupValue(e,n){const i=this.beans.columnModel.getGridColumn(e);pi(this.groupData)&&(this.groupData={});const r=i.getColId(),s=this.groupData[r];s!==n&&(this.groupData[r]=n,this.dispatchCellChangedEvent(i,n,s))}setAggData(e){const n=this.aggData;if(this.aggData=e,this.eventService){const i=r=>{const s=this.aggData?this.aggData[r]:void 0,o=n?n[r]:void 0;if(s===o)return;const c=this.beans.columnModel.lookupGridColumn(r);c&&this.dispatchCellChangedEvent(c,s,o)};for(const r in this.aggData)i(r);for(const r in e)r in this.aggData||i(r)}}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){const i=this.beans.gridOptionsService.get("treeData"),r=this.beans.gridOptionsService.get("isServerSideGroup");e=!this.stub&&!this.footer&&(i?!!r&&r(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_HAS_CHILDREN_CHANGED)))}hasChildren(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return this.group&&vd(this.childrenAfterGroup)}dispatchCellChangedEvent(e,n,i){this.dispatchLocalEvent({type:ls.EVENT_CELL_CHANGED,node:this,column:e,newValue:n,oldValue:i})}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return!this.footer&&(this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master)}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(n=>n.depthFirstSearch(e)),e(this)}calculateSelectedFromChildren(){var e;let n=!1,i=!1,r=!1;if(null==(e=this.childrenAfterGroup)||!e.length)return this.selectable?this.selected:null;for(let s=0;s<this.childrenAfterGroup.length;s++){const o=this.childrenAfterGroup[s];let c=o.isSelected();if(!o.selectable){const h=o.calculateSelectedFromChildren();if(null===h)continue;c=h}switch(c){case!0:n=!0;break;case!1:i=!0;break;default:r=!0}}return r||n&&i?void 0:!!n||!i&&(this.selectable?this.selected:null)}setSelectedInitialValue(e){this.selected=e}selectThisNode(e,n,i="api"){if(!this.selectable&&e||this.selected===e)return!1;if(this.selected=e,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(ls.EVENT_ROW_SELECTED));const c=this.sibling;c&&c.footer&&c.dispatchLocalEvent(c.createLocalRowEvent(ls.EVENT_ROW_SELECTED))}const o=Is(Qn({},this.createGlobalRowEvent(W.EVENT_ROW_SELECTED)),{event:n||null,source:i});return this.beans.eventService.dispatchEvent(o),!0}setSelected(e,n=!1,i="api"){"boolean"!=typeof i?this.setSelectedParams({newValue:e,clearSelection:n,rangeSelect:!1,source:i}):console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.")}setSelectedParams(e){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):void 0===this.id?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(Is(Qn({},e),{nodes:[this.footer?this.sibling:this]}))}isRowPinned(){return"top"===this.rowPinned||"bottom"===this.rowPinned}isParentOfNode(e){let n=this.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}addEventListener(e,n){var i,r;this.eventService||(this.eventService=new xf),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new h9(this.beans.frameworkOverrides));const s=null!=(r=null==(i=this.frameworkEventListenerService)?void 0:i.wrap(n))?r:n;this.eventService.addEventListener(e,s)}removeEventListener(e,n){var i,r;if(!this.eventService)return;const s=null!=(r=null==(i=this.frameworkEventListenerService)?void 0:i.unwrap(n))?r:n;this.eventService.removeEventListener(e,s),this.eventService.noRegisteredListenersExist()&&(this.eventService=null)}onMouseEnter(){this.dispatchLocalEvent(this.createLocalRowEvent(ls.EVENT_MOUSE_ENTER))}onMouseLeave(){this.dispatchLocalEvent(this.createLocalRowEvent(ls.EVENT_MOUSE_LEAVE))}getFirstChildOfFirstChild(e){let n=this,i=!0,r=!1,s=null;for(;i&&!r;){const o=n.parent;$t(o)&&n.firstChild?o.rowGroupColumn===e&&(r=!0,s=o):i=!1,n=o}return r?s:null}isFullWidthCell(){if(this.detail)return!0;const e=this.beans.gridOptionsService.getCallback("isFullWidthRow");return!!e&&e({rowNode:this})}getRoute(){if(null==this.key)return;const e=[];let n=this;for(;null!=n.key;)e.push(n.key),n=n.parent;return e.reverse()}createFooter(){if(this.sibling)return;const e=new Set(["eventService","__objectId","sticky"]),n=new ls(this.beans);Object.keys(this).forEach(i=>{e.has(i)||(n[i]=this[i])}),n.footer=!0,n.setRowTop(null),n.setRowIndex(null),n.oldRowTop=null,n.id="rowGroupFooter_"+this.id,n.sibling=this,this.sibling=n}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}};As.ID_PREFIX_ROW_GROUP="row-group-",As.ID_PREFIX_TOP_PINNED="t-",As.ID_PREFIX_BOTTOM_PINNED="b-",As.OBJECT_ID_SEQUENCE=0,As.EVENT_ROW_SELECTED="rowSelected",As.EVENT_DATA_CHANGED="dataChanged",As.EVENT_CELL_CHANGED="cellChanged",As.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",As.EVENT_MASTER_CHANGED="masterChanged",As.EVENT_GROUP_CHANGED="groupChanged",As.EVENT_MOUSE_ENTER="mouseEnter",As.EVENT_MOUSE_LEAVE="mouseLeave",As.EVENT_HEIGHT_CHANGED="heightChanged",As.EVENT_TOP_CHANGED="topChanged",As.EVENT_DISPLAYED_CHANGED="displayedChanged",As.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",As.EVENT_LAST_CHILD_CHANGED="lastChildChanged",As.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",As.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",As.EVENT_EXPANDED_CHANGED="expandedChanged",As.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",As.EVENT_SELECTABLE_CHANGED="selectableChanged",As.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",As.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",As.EVENT_DRAGGING_CHANGED="draggingChanged";var Ki=As,r5=class extends Ti{constructor(){super('\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const t=this.localeService.getLocaleTextFunc(),e=this.rowNode.isSelected(),n=WV(t,e),[i,r]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],s=t(i,r);this.eCheckbox.setValue(e,!0),this.eCheckbox.setInputAriaLabel(`${s} (${n})`)}onClicked(t,e,n){return this.rowNode.setSelectedParams({newValue:t,rangeSelect:n.shiftKey,groupSelectsFiltered:e,event:n,source:"checkboxSelected"})}init(t){if(this.rowNode=t.rowNode,this.column=t.column,this.overrides=t.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",i=>{Pf(i)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",i=>{Pf(i);const r=this.gridOptionsService.get("groupSelectsFiltered"),s=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(s,r)?0===this.onClicked(!0,r,i||{})&&this.onClicked(!1,r,i):s?this.onClicked(!1,r,i):this.onClicked(!0,r,i||{})}),this.addManagedListener(this.rowNode,Ki.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Ki.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ki.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||"function"==typeof this.getIsVisible()){const i=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,i),this.addManagedListener(this.rowNode,Ki.EVENT_DATA_CHANGED,i),this.addManagedListener(this.rowNode,Ki.EVENT_CELL_CHANGED,i),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(t,e){return e&&(void 0===this.eCheckbox.getPreviousValue()||void 0===t)&&this.gridOptionsService.isRowModelType("clientSide")}showOrHideSelect(){var t,e,n;let i=this.rowNode.selectable;const r=this.getIsVisible();if(i)if("function"==typeof r){const o=null==(t=this.overrides)?void 0:t.callbackParams;if(this.column){const c=this.column.createColumnFunctionCallbackParams(this.rowNode);i=r(Qn(Qn({},o),c))}else i=r(Is(Qn({},o),{node:this.rowNode,data:this.rowNode.data}))}else i=r??!1;if(null==(e=this.column)?void 0:e.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!i),this.setVisible(!0),void this.setDisplayed(!0);null!=(n=this.overrides)&&n.removeHidden?this.setDisplayed(i):this.setVisible(i)}getIsVisible(){var t,e;return this.overrides?this.overrides.isVisible:null==(e=null==(t=this.column)?void 0:t.getColDef())?void 0:e.checkboxSelection}};N([fn("eCheckbox")],r5.prototype,"eCheckbox",2),N([tn],r5.prototype,"postConstruct",1);var hue=(t=>(t[t.Left=0]="Left",t[t.Right=1]="Right",t))(hue||{}),Ri=class extends Jt{constructor(){super(...arguments),this.dragSourceAndParamsList=[],this.dropTargets=[]}init(){this.ePinnedIcon=Eh("columnMovePin",this.gridOptionsService,null),this.eHideIcon=Eh("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=Eh("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=Eh("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=Eh("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=Eh("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=Eh("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=Eh("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=Eh("dropNotAllowed",this.gridOptionsService,null)}addDragSource(t,e=!1){const n={eElement:t.eElement,dragStartPixels:t.dragStartPixels,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:e};this.dragSourceAndParamsList.push({params:n,dragSource:t}),this.dragService.addDragSource(n)}removeDragSource(t){const e=this.dragSourceAndParamsList.find(n=>n.dragSource===t);e&&(this.dragService.removeDragSource(e.params),Mu(this.dragSourceAndParamsList,e))}clearDragSourceParamsList(){this.dragSourceAndParamsList.forEach(t=>this.dragService.removeDragSource(t.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(t,e){this.dragging=!0,this.dragSource=t,this.eventLastTime=e,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()}onDragStop(t){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){const e=this.createDropTargetEvent(this.lastDropTarget,t,null,null,!1);this.lastDropTarget.onDragStop(e)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()}onDragging(t,e){var n,i,r,s;const o=this.getHorizontalDirection(t),c=this.getVerticalDirection(t);this.eventLastTime=t,this.positionGhost(t);const h=this.dropTargets.filter(m=>this.isMouseOnDropTarget(t,m)),p=this.findCurrentDropTarget(t,h);if(p!==this.lastDropTarget)this.leaveLastTargetIfExists(t,o,c,e),null!==this.lastDropTarget&&null===p&&(null==(i=(n=this.dragSource).onGridExit)||i.call(n,this.dragItem)),null===this.lastDropTarget&&null!==p&&(null==(s=(r=this.dragSource).onGridEnter)||s.call(r,this.dragItem)),this.enterDragTargetIfExists(p,t,o,c,e),this.lastDropTarget=p;else if(p&&p.onDragging){const m=this.createDropTargetEvent(p,t,o,c,e);p.onDragging(m)}}getAllContainersFromDropTarget(t){const e=t.getSecondaryContainers?t.getSecondaryContainers():null,n=[[t.getContainer()]];return e?n.concat(e):n}allContainersIntersect(t,e){for(const n of e){const i=n.getBoundingClientRect();if(0===i.width||0===i.height)return!1;if(!(t.clientX>=i.left&&t.clientX<i.right&&t.clientY>=i.top&&t.clientY<i.bottom))return!1}return!0}isMouseOnDropTarget(t,e){const n=this.getAllContainersFromDropTarget(e);let i=!1;for(const r of n)if(this.allContainersIntersect(t,r)){i=!0;break}return!(e.targetContainsSource&&!e.getContainer().contains(this.dragSource.eElement))&&i&&e.isInterestedIn(this.dragSource.type,this.dragSource.eElement)}findCurrentDropTarget(t,e){const n=e.length;if(0===n)return null;if(1===n)return e[0];const r=this.gridOptionsService.getRootNode().elementsFromPoint(t.clientX,t.clientY);for(const s of r)for(const o of e)if(-1!==zle(this.getAllContainersFromDropTarget(o)).indexOf(s))return o;return null}enterDragTargetIfExists(t,e,n,i,r){if(t){if(t.onDragEnter){const s=this.createDropTargetEvent(t,e,n,i,r);t.onDragEnter(s)}this.setGhostIcon(t.getIconName?t.getIconName():null)}}leaveLastTargetIfExists(t,e,n,i){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){const r=this.createDropTargetEvent(this.lastDropTarget,t,e,n,i);this.lastDropTarget.onDragLeave(r)}this.setGhostIcon(null)}}addDropTarget(t){this.dropTargets.push(t)}removeDropTarget(t){this.dropTargets=this.dropTargets.filter(e=>e.getContainer()!==t.getContainer())}hasExternalDropZones(){return this.dropTargets.some(t=>t.external)}findExternalZone(t){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===t.getContainer())||null}getHorizontalDirection(t){const e=this.eventLastTime&&this.eventLastTime.clientX,n=t.clientX;return e===n?null:e>n?0:1}getVerticalDirection(t){const e=this.eventLastTime&&this.eventLastTime.clientY,n=t.clientY;return e===n?null:e>n?0:1}createDropTargetEvent(t,e,n,i,r){const s=t.getContainer(),o=s.getBoundingClientRect(),{gridApi:c,columnApi:h,dragItem:p,dragSource:m}=this;return{event:e,x:e.clientX-o.left,y:e.clientY-o.top,vDirection:i,hDirection:n,dragSource:m,fromNudge:r,dragItem:p,api:c,columnApi:h,dropZoneTarget:s}}positionGhost(t){const e=this.eGhost;if(!e)return;const i=e.getBoundingClientRect().height,r=vce()-2,s=_ce()-2,o=q9(e.offsetParent),{clientY:c,clientX:h}=t;let p=c-o.top-i/2,m=h-o.left-10;const y=this.gridOptionsService.getDocument(),I=y.defaultView||window,L=I.pageYOffset||y.documentElement.scrollTop,U=I.pageXOffset||y.documentElement.scrollLeft;r>0&&m+e.clientWidth>r+U&&(m=r+U-e.clientWidth),m<0&&(m=0),s>0&&p+e.clientHeight>s+L&&(p=s+L-e.clientHeight),p<0&&(p=0),e.style.left=`${m}px`,e.style.top=`${p}px`}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=Ou(Ri.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);const{theme:t}=this.environment.getTheme();t&&this.eGhost.classList.add(t),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);const e=this.eGhost.querySelector(".ag-dnd-ghost-label");let n=this.dragSource.dragItemName;MV(n)&&(n=n()),e.innerHTML=_a(n)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";const i=this.gridOptionsService.getDocument();let r=null,s=null;try{r=i.fullscreenElement}catch{}finally{r||(r=this.gridOptionsService.getRootNode());s=r.querySelector("body")||(r instanceof ShadowRoot?r:r instanceof Document?r?.documentElement:r)}this.eGhostParent=s,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")}setGhostIcon(t,e=!1){aa(this.eGhostIcon);let n=null;switch(t||(t=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():Ri.ICON_NOT_ALLOWED),t){case Ri.ICON_PINNED:n=this.ePinnedIcon;break;case Ri.ICON_MOVE:n=this.eMoveIcon;break;case Ri.ICON_LEFT:n=this.eLeftIcon;break;case Ri.ICON_RIGHT:n=this.eRightIcon;break;case Ri.ICON_GROUP:n=this.eGroupIcon;break;case Ri.ICON_AGGREGATE:n=this.eAggregateIcon;break;case Ri.ICON_PIVOT:n=this.ePivotIcon;break;case Ri.ICON_NOT_ALLOWED:n=this.eDropNotAllowedIcon;break;case Ri.ICON_HIDE:n=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",e),(n!==this.eHideIcon||!this.gridOptionsService.get("suppressDragLeaveHidesColumns"))&&n&&this.eGhostIcon.appendChild(n)}};Ri.ICON_PINNED="pinned",Ri.ICON_MOVE="move",Ri.ICON_LEFT="left",Ri.ICON_RIGHT="right",Ri.ICON_GROUP="group",Ri.ICON_AGGREGATE="aggregate",Ri.ICON_PIVOT="pivot",Ri.ICON_NOT_ALLOWED="notAllowed",Ri.ICON_HIDE="hide",Ri.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',N([K("dragService")],Ri.prototype,"dragService",2),N([K("mouseEventService")],Ri.prototype,"mouseEventService",2),N([K("columnApi")],Ri.prototype,"columnApi",2),N([K("gridApi")],Ri.prototype,"gridApi",2),N([tn],Ri.prototype,"init",1),N([zc],Ri.prototype,"clearDragSourceParamsList",1),Ri=N([In("dragAndDropService")],Ri);var yE=class extends Ti{constructor(t,e,n,i,r,s){super(),this.cellValueFn=t,this.rowNode=e,this.column=n,this.customGui=i,this.dragStartPixels=r,this.suppressVisibilityChange=s,this.dragSource=null}isCustomGui(){return null!=this.customGui}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(zs("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const t=this.gridOptionsService.get("rowDragManaged")?new gue(this,this.beans,this.rowNode,this.column):new pue(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)}}setDragElement(t,e){this.setTemplateFromElement(t),this.addDragSource(e)}getSelectedNodes(){if(!this.gridOptionsService.get("rowDragMultiRow"))return[this.rowNode];const e=this.beans.selectionService.getSelectedNodes();return-1!==e.indexOf(this.rowNode)?e:[this.rowNode]}checkCompatibility(){const t=this.gridOptionsService.get("rowDragManaged");this.gridOptionsService.get("treeData")&&t&&li("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(t){if(t){const e=t.getColDef();if(e.rowDragText)return e.rowDragText}return this.gridOptionsService.get("rowDragText")}addDragSource(t=4){this.dragSource&&this.removeDragSource();const e=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:this.getGui(),dragItemName:()=>{var n;const i=this.getDragItem(),r=(null==(n=i.rowNodes)?void 0:n.length)||1,s=this.getRowDragText(this.column);return s?s(i,r):1===r?this.cellValueFn():`${r} ${e("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:t,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}removeDragSource(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null}};N([K("beans")],yE.prototype,"beans",2),N([tn],yE.prototype,"postConstruct",1),N([zc],yE.prototype,"removeDragSource",1);var fue=class extends Jt{constructor(t,e,n){super(),this.parent=t,this.rowNode=e,this.column=n}setDisplayedOrVisible(t){const e={skipAriaHidden:!0};if(t)this.parent.setDisplayed(!1,e);else{let n=!0,i=!1;this.column&&(n=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),i=MV(this.column.getColDef().rowDrag)),i?(this.parent.setDisplayed(!0,e),this.parent.setVisible(n,e)):(this.parent.setDisplayed(n,e),this.parent.setVisible(!0,e))}}},pue=class extends fue{constructor(t,e,n,i){super(t,n,i),this.beans=e}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Ki.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ki.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ki.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,W.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.gridOptionsService.get("suppressRowDrag");this.setDisplayedOrVisible(t)}};N([tn],pue.prototype,"postConstruct",1);var gue=class extends fue{constructor(t,e,n,i){super(t,n,i),this.beans=e}postConstruct(){this.addManagedListener(this.beans.eventService,W.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,W.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,W.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ki.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ki.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),n=e&&e.shouldPreventRowMove(),i=this.gridOptionsService.get("suppressRowDrag"),r=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(n&&!r||i)}};N([tn],gue.prototype,"postConstruct",1);var $I=class extends Jt{init(t,e,n,i,r,s,o){var c,h,p,m;this.params=o,this.eGui=e,this.eCheckbox=n,this.eExpanded=i,this.eContracted=r,this.comp=t,this.compClass=s;const{node:y,colDef:L}=o,U=this.isTopLevelFooter();if(!U){if(this.isEmbeddedRowMismatch())return;if(y.footer&&this.gridOptionsService.get("groupHideOpenParents")&&(L&&L.showRowGroup)!==(y.rowGroupColumn&&y.rowGroupColumn.getColId()))return}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!U){const X=o.node.footer&&o.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex(Ot=>{var Se;return Ot.getColId()===(null==(Se=o.colDef)?void 0:Se.showRowGroup)}),pe="multipleColumns"!=this.gridOptionsService.get("groupDisplayType")||this.gridOptionsService.get("treeData")||this.gridOptionsService.get("showOpenedGroup")&&!o.node.footer&&(!o.node.group||null!=o.node.rowGroupIndex&&o.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex(Ot=>{var Se;return Ot.getColId()===(null==(Se=o.colDef)?void 0:Se.showRowGroup)})),Te=!y.group&&((null==(c=this.params.colDef)?void 0:c.field)||(null==(h=this.params.colDef)?void 0:h.valueGetter)),Le=this.isExpandable(),tt=this.columnModel.isPivotMode()&&y.leafGroup&&(null==(p=y.rowGroupColumn)?void 0:p.getColId())===(null==(m=o.column)?void 0:m.getColDef().showRowGroup);if(!(this.showingValueForOpenedParent||Le||Te||pe||X||tt))return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()}getCellAriaRole(){var t,e;const n=null==(t=this.params.colDef)?void 0:t.cellAriaRole,i=null==(e=this.params.column)?void 0:e.getColDef().cellAriaRole;return n||i||"gridcell"}destroy(){super.destroy(),this.expandListener=null}refreshAriaExpanded(){const{node:t,eGridCell:e}=this.params;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable())return void lce(e);const n=()=>{Rv(e,!!t.expanded)};this.expandListener=this.addManagedListener(t,Ki.EVENT_EXPANDED_CHANGED,n)||null,n()}isTopLevelFooter(){if(!this.gridOptionsService.get("groupIncludeTotalFooter")||null!=this.params.value||-1!=this.params.node.level)return!1;const t=this.params.colDef;if(null==t||!0===t.showRowGroup)return!0;const n=this.columnModel.getRowGroupColumns();return!n||0===n.length||n[0].getId()===t.showRowGroup}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gridOptionsService.get("embedFullWidthRows"))return!1;const t="left"===this.params.pinned,e="right"===this.params.pinned,n=!t&&!e;return this.gridOptionsService.get("enableRtl")?this.columnModel.isPinningLeft()?!e:!n:this.columnModel.isPinningLeft()?!t:!n}findDisplayedGroupNode(){const t=this.params.column,e=this.params.node;if(this.showingValueForOpenedParent){let n=e.parent;for(;null!=n;){if(n.rowGroupColumn&&t.isRowGroupDisplayed(n.rowGroupColumn.getId())){this.displayedGroupNode=n;break}n=n.parent}}pi(this.displayedGroupNode)&&(this.displayedGroupNode=e)}setupShowingValueForOpenedParent(){const t=this.params.node,e=this.params.column;if(!this.gridOptionsService.get("groupHideOpenParents"))return void(this.showingValueForOpenedParent=!1);if(!t.groupData)return void(this.showingValueForOpenedParent=!1);if(null!=t.rowGroupColumn){const r=t.rowGroupColumn.getId();if(e.isRowGroupDisplayed(r))return void(this.showingValueForOpenedParent=!1)}const i=null!=t.groupData[e.getId()];this.showingValueForOpenedParent=i}addValueElement(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())}addGroupValue(){var t;const e=this.adjustParamsWithDetailsFromRelatedColumn(),n=this.getInnerCompDetails(e),{valueFormatted:i,value:r}=e;let s=i;if(null==s){const o=this.displayedGroupNode.rowGroupColumn&&(null==(t=this.params.column)?void 0:t.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));s=""===this.displayedGroupNode.key&&this.displayedGroupNode.group&&o?this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):r??null}this.comp.setInnerRenderer(n,s)}adjustParamsWithDetailsFromRelatedColumn(){const t=this.displayedGroupNode.rowGroupColumn,e=this.params.column;if(!t)return this.params;if(null!=e&&!e.isRowGroupDisplayed(t.getId()))return this.params;const i=this.params,{value:r,node:s}=this.params,o=this.valueFormatterService.formatValue(t,s,r);return Is(Qn({},i),{valueFormatted:o})}addFooterValue(){const t=this.params.footerValueGetter;let e="";if(t){const i=o9(this.params);i.value=this.params.value,"function"==typeof t?e=t(i):"string"==typeof t?e=this.expressionService.evaluate(t,i):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else e=this.localeService.getLocaleTextFunc()("footerTotal","Total")+" "+(null!=this.params.value?this.params.value:"");const n=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(n,e)}getInnerCompDetails(t){if(t.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),t);const e=this.userComponentFactory.getInnerRendererDetails(t,t),n=o=>o&&o.componentClass==this.compClass;if(e&&!n(e))return e;const i=this.displayedGroupNode.rowGroupColumn,r=i?i.getColDef():void 0;if(!r)return;const s=this.userComponentFactory.getCellRendererDetails(r,t);return s&&!n(s)?s:n(s)&&r.cellRendererParams&&r.cellRendererParams.innerRenderer?this.userComponentFactory.getInnerRendererDetails(r.cellRendererParams,t):void 0}addChildCount(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Ki.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())}updateChildCount(){const t=this.displayedGroupNode.allChildrenCount,i=this.isShowRowGroupForThisRow()&&null!=t&&t>=0?`(${t})`:"";this.comp.setChildCount(i)}isShowRowGroupForThisRow(){if(this.gridOptionsService.get("treeData"))return!0;const t=this.displayedGroupNode.rowGroupColumn;if(!t)return!1;const e=this.params.column;return null==e||e.isRowGroupDisplayed(t.getId())}addExpandAndContract(){var t;const e=this.params,n=zs("groupExpanded",this.gridOptionsService,null),i=zs("groupContracted",this.gridOptionsService,null);n&&this.eExpanded.appendChild(n),i&&this.eContracted.appendChild(i);const r=e.eGridCell;!((null==(t=this.params.column)?void 0:t.isCellEditable(e.node))&&this.gridOptionsService.get("enableGroupEdit"))&&this.isExpandable()&&!e.suppressDoubleClickExpand&&this.addManagedListener(r,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(r,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(e.node,Ki.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();const o=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Ki.EVENT_ALL_CHILDREN_COUNT_CHANGED,o),this.addManagedListener(this.displayedGroupNode,Ki.EVENT_MASTER_CHANGED,o),this.addManagedListener(this.displayedGroupNode,Ki.EVENT_GROUP_CHANGED,o),this.addManagedListener(this.displayedGroupNode,Ki.EVENT_HAS_CHILDREN_CHANGED,o)}onExpandClicked(t){Mf(t)||(Pf(t),this.onExpandOrContract(t))}onExpandOrContract(t){const e=this.displayedGroupNode,n=!e.expanded;!n&&e.sticky&&this.scrollToStickyNode(e),e.setExpanded(n,t)}scrollToStickyNode(t){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(t.rowTop-t.stickyRowTop)}isExpandable(){if(this.showingValueForOpenedParent)return!0;const t=this.displayedGroupNode,e=this.columnModel.isPivotMode()&&t.leafGroup;if(!t.isExpandable()||t.footer||e)return!1;const i=this.params.column;return null==i||"string"!=typeof i.getColDef().showRowGroup||this.isShowRowGroupForThisRow()}showExpandAndContractIcons(){const{params:t,displayedGroupNode:e,columnModel:n}=this,{node:i}=t,r=this.isExpandable();if(r){const p=!!this.showingValueForOpenedParent||i.expanded;this.comp.setExpandedDisplayed(p),this.comp.setContractedDisplayed(!p)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);const s=n.isPivotMode(),o=s&&e.leafGroup,c=r&&!o,h=i.footer&&-1===i.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",c),this.comp.addOrRemoveCssClass("ag-row-group",c),s?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",o):h||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!c)}onRowNodeIsExpandableChanged(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()}setupIndent(){this.params.suppressPadding||(this.addManagedListener(this.params.node,Ki.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())}setIndent(){if(this.gridOptionsService.get("groupHideOpenParents"))return;const t=this.params,e=t.node,n=!!t.colDef,i=this.gridOptionsService.get("treeData"),s=!n||i||!0===t.colDef.showRowGroup?e.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+s,this.comp.addOrRemoveCssClass(this.indentClass,!0)}addFullWidthRowDraggerIfNeeded(){if(!this.params.fullWidth||!this.params.rowDrag)return;const t=new yE(()=>this.params.value,this.params.node);this.createManagedBean(t,this.context),this.eGui.insertAdjacentElement("afterbegin",t.getGui())}isUserWantsSelected(){const t=this.params.checkbox;return"function"==typeof t||!0===t}addCheckboxIfNeeded(){const t=this.displayedGroupNode,e=this.isUserWantsSelected()&&!t.footer&&!t.rowPinned&&!t.detail;if(e){const n=new r5;this.getContext().createBean(n),n.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(n.getGui()),this.addDestroyFunc(()=>this.getContext().destroyBean(n))}this.comp.setCheckboxVisible(e)}onKeyDown(t){t.key!==Qe.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(t)}onCellDblClicked(t){Mf(t)||kV(this.eExpanded,t)||kV(this.eContracted,t)||this.onExpandOrContract(t)}};N([K("expressionService")],$I.prototype,"expressionService",2),N([K("valueFormatterService")],$I.prototype,"valueFormatterService",2),N([K("columnModel")],$I.prototype,"columnModel",2),N([K("userComponentFactory")],$I.prototype,"userComponentFactory",2),N([K("ctrlsService")],$I.prototype,"ctrlsService",2);var bE=class Yme extends Ti{constructor(){super(Yme.TEMPLATE)}init(e){const n={setInnerRenderer:(o,c)=>this.setRenderDetails(o,c),setChildCount:o=>this.eChildCount.textContent=o,addOrRemoveCssClass:(o,c)=>this.addOrRemoveCssClass(o,c),setContractedDisplayed:o=>rr(this.eContracted,o),setExpandedDisplayed:o=>rr(this.eExpanded,o),setCheckboxVisible:o=>this.eCheckbox.classList.toggle("ag-invisible",!o)},i=this.createManagedBean(new $I),r=!e.colDef,s=this.getGui();i.init(n,s,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),r&&ho(s,i.getCellAriaRole())}setRenderDetails(e,n){if(e){const i=e.newAgStackInstance();if(!i)return;i.then(r=>{if(!r)return;const s=()=>this.context.destroyBean(r);this.isAlive()?(this.eValue.appendChild(r.getGui()),this.addDestroyFunc(s)):s()})}else this.eValue.innerText=n}destroy(){this.getContext().destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}};bE.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',N([fn("eExpanded")],bE.prototype,"eExpanded",2),N([fn("eContracted")],bE.prototype,"eContracted",2),N([fn("eCheckbox")],bE.prototype,"eCheckbox",2),N([fn("eValue")],bE.prototype,"eValue",2),N([fn("eChildCount")],bE.prototype,"eChildCount",2);var mue=bE,s5=class Xme extends Ti{constructor(){super(Xme.TEMPLATE)}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=zs("groupLoading",this.gridOptionsService,null);e&&this.eLoadingIcon.appendChild(e);const n=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=n("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}};s5.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',N([fn("eLoadingIcon")],s5.prototype,"eLoadingIcon",2),N([fn("eLoadingText")],s5.prototype,"eLoadingText",2);var U1e=s5,vue=class Qme extends Ti{constructor(){super()}destroy(){super.destroy()}init(e){const n=this.gridOptionsService.get("overlayLoadingTemplate");if(this.setTemplate(n??Qme.DEFAULT_LOADING_OVERLAY_TEMPLATE),!n){const i=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("loadingOoo","Loading...")})}}};vue.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>';var W1e=vue,_ue=class Jme extends Ti{constructor(){super()}destroy(){super.destroy()}init(e){const n=this.gridOptionsService.get("overlayNoRowsTemplate");if(this.setTemplate(n??Jme.DEFAULT_NO_ROWS_TEMPLATE),!n){const i=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("noRowsToShow","No Rows To Show")})}}};_ue.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center"></span>';var z1e=_ue,j1e=class extends _E{constructor(){super('<div class="ag-tooltip"></div>')}init(t){const{value:e}=t;this.getGui().textContent=_a(e,!0)}},$1e=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'}init(t,e){this.eInput=t,this.params=e,null!=e.max&&t.setMax(e.max),null!=e.min&&t.setMin(e.min),null!=e.precision&&t.setPrecision(e.precision),null!=e.step&&t.setStep(e.step);const n=t.getInputElement();e.preventStepping?t.addManagedListener(n,"keydown",this.preventStepping):e.showStepperButtons&&n.classList.add("ag-number-field-input-stepper")}preventStepping(t){(t.key===Qe.UP||t.key===Qe.DOWN)&&t.preventDefault()}getValue(){const t=this.eInput.getValue();if(!$t(t)&&!$t(this.params.value))return this.params.value;let e=this.params.parseValue(t);if(null==e)return e;if("string"==typeof e){if(""===e)return null;e=Number(e)}return isNaN(e)?null:e}getStartValue(){return this.params.value}},q1e=class extends eM{constructor(){super(new $1e)}},K1e=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(t,e){this.eInput=t,this.params=e,null!=e.min&&t.setMin(e.min),null!=e.max&&t.setMax(e.max),null!=e.step&&t.setStep(e.step)}getValue(){const t=this.eInput.getDate();return $t(t)||$t(this.params.value)?t??null:this.params.value}getStartValue(){const{value:t}=this.params;if(t instanceof Date)return Ch(t,!1)}},Y1e=class extends eM{constructor(){super(new K1e)}},X1e=class{constructor(t){this.getDataTypeService=t}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(t,e){this.eInput=t,this.params=e,null!=e.min&&t.setMin(e.min),null!=e.max&&t.setMax(e.max),null!=e.step&&t.setStep(e.step)}getValue(){const t=this.formatDate(this.eInput.getDate());return $t(t)||$t(this.params.value)?this.params.parseValue(t??""):this.params.value}getStartValue(){var t,e;return Ch(null!=(e=this.parseDate(null!=(t=this.params.value)?t:void 0))?e:null,!1)}parseDate(t){return this.getDataTypeService().getDateParserFunction(this.params.column)(t)}formatDate(t){return this.getDataTypeService().getDateFormatterFunction(this.params.column)(t)}},yue=class extends eM{constructor(){super(new X1e(()=>this.dataTypeService))}};N([K("dataTypeService")],yue.prototype,"dataTypeService",2);var fq=class Zme extends Ti{constructor(){super(Zme.TEMPLATE)}init(e){this.params=e,this.updateCheckbox(e);const n=this.eCheckbox.getInputElement();n.setAttribute("tabindex","-1"),E9(n,"polite"),this.addManagedListener(n,"click",r=>{if(Pf(r),this.eCheckbox.isDisabled())return;const s=this.eCheckbox.getValue();this.onCheckboxChanged(s)}),this.addManagedListener(n,"dblclick",r=>{Pf(r)});const i=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",r=>{if(r.key===Qe.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===i.activeElement&&this.eCheckbox.toggle();const s=this.eCheckbox.getValue();this.onCheckboxChanged(s),r.preventDefault()}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var n,i,r;let s,o=!0;if(e.node.group&&e.column){const y=e.column.getColId();y.startsWith(VI)?s=null==e.value||""===e.value?void 0:"true"===e.value:e.node.aggData&&void 0!==e.node.aggData[y]?s=null!=(n=e.value)?n:void 0:o=!1}else s=null!=(i=e.value)?i:void 0;if(!o)return void this.eCheckbox.setDisplayed(!1);this.eCheckbox.setValue(s);const c=null!=e.disabled?e.disabled:!(null!=(r=e.column)&&r.isCellEditable(e.node));this.eCheckbox.setDisabled(c);const h=this.localeService.getLocaleTextFunc(),p=WV(h,s),m=c?p:`${h("ariaToggleCellValue","Press SPACE to toggle cell value")} (${p})`;this.eCheckbox.setInputAriaLabel(m)}onCheckboxChanged(e){const{column:n,node:i,rowIndex:r,value:s}=this.params,o={type:W.EVENT_CELL_EDITING_STARTED,column:n,colDef:n?.getColDef(),data:i.data,node:i,rowIndex:r,rowPinned:i.rowPinned,value:s};this.eventService.dispatchEvent(o);const c=this.params.node.setDataValue(this.params.column,e,"edit"),h={type:W.EVENT_CELL_EDITING_STOPPED,column:n,colDef:n?.getColDef(),data:i.data,node:i,rowIndex:r,rowPinned:i.rowPinned,value:s,oldValue:s,newValue:e,valueChanged:c};this.eventService.dispatchEvent(h)}};fq.TEMPLATE='\n        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n        </div>',N([fn("eCheckbox")],fq.prototype,"eCheckbox",2);var Q1e=fq,bue=class extends _E{constructor(){super('\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')}init(t){var e;this.params=t;const n=null!=(e=t.value)?e:void 0;this.eCheckbox.setValue(n),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(n),this.addManagedListener(this.eCheckbox,W.EVENT_FIELD_VALUE_CHANGED,r=>this.setAriaLabel(r.selected))}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(t){const e=this.localeService.getLocaleTextFunc(),n=WV(e,t),i=e("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${i} (${n})`)}};N([fn("eCheckbox")],bue.prototype,"eCheckbox",2);var J1e=class extends Ti{constructor(){super(),this.setTemplate("<div></div>")}init(t){var e;this.params=t,this.cssClassPrefix=null!=(e=this.params.cssClassPrefix)?e:"ag-menu-option",this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu()}configureDefaults(){return!0}addIcon(){if(this.params.isCompact)return;const t=Ou(`<span ref="eIcon" class="${this.getClassName("part")} ${this.getClassName("icon")}" role="presentation"></span>`);this.params.checked?t.appendChild(zs("check",this.gridOptionsService)):this.params.icon&&(qP(this.params.icon)?t.appendChild(this.params.icon):"string"==typeof this.params.icon?t.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(t)}addName(){const t=Ou(`<span ref="eName" class="${this.getClassName("part")} ${this.getClassName("text")}">${this.params.name||""}</span>`);this.getGui().appendChild(t)}addShortcut(){if(this.params.isCompact)return;const t=Ou(`<span ref="eShortcut" class="${this.getClassName("part")} ${this.getClassName("shortcut")}">${this.params.shortcut||""}</span>`);this.getGui().appendChild(t)}addSubMenu(){const t=Ou(`<span ref="ePopupPointer" class="${this.getClassName("part")} ${this.getClassName("popup-pointer")}"></span>`),e=this.getGui();if(this.params.subMenu){const n=this.gridOptionsService.get("enableRtl")?"smallLeft":"smallRight";Rv(e,!1),t.appendChild(zs(n,this.gridOptionsService))}e.appendChild(t)}getClassName(t){return`${this.cssClassPrefix}-${t}`}destroy(){super.destroy()}},tM=class extends Jt{constructor(){super(...arguments),this.agGridDefaults={agDateInput:iue,agColumnHeader:uq,agColumnGroupHeader:F1e,agSortIndicator:cq,agTextColumnFloatingFilter:O1e,agNumberColumnFloatingFilter:N1e,agDateColumnFloatingFilter:i5,agReadOnlyFloatingFilter:nq,agAnimateShowChangeCellRenderer:uue,agAnimateSlideCellRenderer:due,agGroupCellRenderer:mue,agGroupRowRenderer:mue,agLoadingCellRenderer:U1e,agCheckboxCellRenderer:Q1e,agCellEditor:cue,agTextCellEditor:cue,agNumberCellEditor:q1e,agDateCellEditor:Y1e,agDateStringCellEditor:yue,agSelectCellEditor:hq,agLargeTextCellEditor:k1e,agCheckboxCellEditor:bue,agTextColumnFilter:lq,agNumberColumnFilter:oue,agDateColumnFilter:tue,agLoadingOverlay:W1e,agNoRowsOverlay:z1e,agTooltipComponent:j1e,agMenuItem:J1e},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}init(){null!=this.gridOptions.components&&tc(this.gridOptions.components,(t,e)=>this.registerJsComponent(t,e))}registerDefaultComponent(t,e){this.agGridDefaults[t]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[t]=e}registerJsComponent(t,e){this.jsComps[t]=e}retrieve(t,e){const n=(c,h)=>({componentFromFramework:h,component:c}),i=this.getFrameworkOverrides().frameworkComponent(e,this.gridOptions.components);if(null!=i)return n(i,!0);const r=this.jsComps[e];if(r)return n(r,this.getFrameworkOverrides().isFrameworkComponent(r));const s=this.agGridDefaults[e];if(s)return n(s,!1);const o=this.enterpriseAgDefaultCompsModule[e];return o?Hr.__assertRegistered(o,`AG Grid '${t}' component: ${e}`,this.context.getGridId()):dE(()=>{this.warnAboutMissingComponent(t,e)},"MissingComp"+e),null}warnAboutMissingComponent(t,e){const i=KP(e,[...Object.keys(this.agGridDefaults).filter(r=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(r)),...Object.keys(this.jsComps)],!0,.8).values;console.warn(`AG Grid: Could not find '${e}' component. It was configured as "${t}: '${e}'" but it wasn't found in the list of registered components.`),i.length>0&&console.warn(`         Did you mean: [${i.slice(0,3)}]?`),console.warn(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}};N([K("gridOptions")],tM.prototype,"gridOptions",2),N([tn],tM.prototype,"init",1),tM=N([In("userComponentRegistry")],tM);var Z1e={propertyName:"dateComponent",cellRenderer:!1},ePe={propertyName:"headerComponent",cellRenderer:!1},tPe={propertyName:"headerGroupComponent",cellRenderer:!1},Cue={propertyName:"cellRenderer",cellRenderer:!0},nPe={propertyName:"cellEditor",cellRenderer:!1},wue={propertyName:"innerRenderer",cellRenderer:!0},iPe={propertyName:"loadingOverlayComponent",cellRenderer:!1},rPe={propertyName:"noRowsOverlayComponent",cellRenderer:!1},sPe={propertyName:"tooltipComponent",cellRenderer:!1},pq={propertyName:"filter",cellRenderer:!1},oPe={propertyName:"floatingFilterComponent",cellRenderer:!1},aPe={propertyName:"toolPanel",cellRenderer:!1},lPe={propertyName:"statusPanel",cellRenderer:!1},cPe={propertyName:"fullWidthCellRenderer",cellRenderer:!0},uPe={propertyName:"loadingCellRenderer",cellRenderer:!0},dPe={propertyName:"groupRowRenderer",cellRenderer:!0},hPe={propertyName:"detailCellRenderer",cellRenderer:!0},fPe={propertyName:"menuItem",cellRenderer:!1},Eue=class{static getFloatingFilterType(t){return this.filterToFloatingFilterMapping[t]}};Eue.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"};var jy=class extends Jt{getHeaderCompDetails(t,e){return this.getCompDetails(t,ePe,"agColumnHeader",e)}getHeaderGroupCompDetails(t){const e=t.columnGroup.getColGroupDef();return this.getCompDetails(e,tPe,"agColumnGroupHeader",t)}getFullWidthCellRendererDetails(t){return this.getCompDetails(this.gridOptions,cPe,null,t,!0)}getFullWidthLoadingCellRendererDetails(t){return this.getCompDetails(this.gridOptions,uPe,"agLoadingCellRenderer",t,!0)}getFullWidthGroupCellRendererDetails(t){return this.getCompDetails(this.gridOptions,dPe,"agGroupRowRenderer",t,!0)}getFullWidthDetailCellRendererDetails(t){return this.getCompDetails(this.gridOptions,hPe,"agDetailCellRenderer",t,!0)}getInnerRendererDetails(t,e){return this.getCompDetails(t,wue,null,e)}getFullWidthGroupRowInnerCellRenderer(t,e){return this.getCompDetails(t,wue,null,e)}getCellRendererDetails(t,e){return this.getCompDetails(t,Cue,null,e)}getCellEditorDetails(t,e){return this.getCompDetails(t,nPe,"agCellEditor",e,!0)}getFilterDetails(t,e,n){return this.getCompDetails(t,pq,n,e,!0)}getDateCompDetails(t){return this.getCompDetails(this.gridOptions,Z1e,"agDateInput",t,!0)}getLoadingOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,iPe,"agLoadingOverlay",t,!0)}getNoRowsOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,rPe,"agNoRowsOverlay",t,!0)}getTooltipCompDetails(t){return this.getCompDetails(t.colDef,sPe,"agTooltipComponent",t,!0)}getSetFilterCellRendererDetails(t,e){return this.getCompDetails(t,Cue,null,e)}getFloatingFilterCompDetails(t,e,n){return this.getCompDetails(t,oPe,n,e)}getToolPanelCompDetails(t,e){return this.getCompDetails(t,aPe,null,e,!0)}getStatusPanelCompDetails(t,e){return this.getCompDetails(t,lPe,null,e,!0)}getMenuItemCompDetails(t,e){return this.getCompDetails(t,fPe,"agMenuItem",e,!0)}getCompDetails(t,e,n,i,r=!1){const{propertyName:s,cellRenderer:o}=e;let{compName:c,jsComp:h,fwComp:p,paramsFromSelector:m,popupFromSelector:y,popupPositionFromSelector:I}=this.getCompKeys(t,e,i);const L=pe=>{const Te=this.userComponentRegistry.retrieve(s,pe);Te&&(h=Te.componentFromFramework?void 0:Te.component,p=Te.componentFromFramework?Te.component:void 0)};if(null!=c&&L(c),null==h&&null==p&&null!=n&&L(n),h&&o&&!this.agComponentUtils.doesImplementIComponent(h)&&(h=this.agComponentUtils.adaptFunction(s,h)),!h&&!p)return void(r&&console.error(`AG Grid: Could not find component ${c}, did you forget to configure this component?`));const U=this.mergeParamsWithApplicationProvidedParams(t,e,i,m),X=null==h,Q=h||p;return{componentFromFramework:X,componentClass:Q,params:U,type:e,popupFromSelector:y,popupPositionFromSelector:I,newAgStackInstance:()=>this.newAgStackInstance(Q,X,U,e)}}getCompKeys(t,e,n){const{propertyName:i}=e;let r,s,o,c,h,p;if(t){const m=t,y=m[i+"Selector"],I=y?y(n):null,L=U=>{"string"==typeof U?r=U:null!=U&&!0!==U&&(this.getFrameworkOverrides().isFrameworkComponent(U)?o=U:s=U)};I?(L(I.component),c=I.params,h=I.popup,p=I.popupPosition):L(m[i])}return{compName:r,jsComp:s,fwComp:o,paramsFromSelector:c,popupFromSelector:h,popupPositionFromSelector:p}}newAgStackInstance(t,e,n,i){let o;if(e){const h=this.componentMetadataProvider.retrieve(i.propertyName);o=this.frameworkComponentWrapper.wrap(t,h.mandatoryMethodList,h.optionalMethodList,i)}else o=new t;const c=this.initComponent(o,n);return null==c?Fu.resolve(o):c.then(()=>o)}mergeParamsWithApplicationProvidedParams(t,e,n,i=null){const r=this.gridOptionsService.getGridCommonParams();_d(r,n);const o=t&&t[e.propertyName+"Params"];return"function"==typeof o?_d(r,o(n)):"object"==typeof o&&_d(r,o),_d(r,i),r}initComponent(t,e){if(this.context.createBean(t),null!=t.init)return t.init(e)}getDefaultFloatingFilterType(t,e){if(null==t)return null;let n=null,{compName:i,jsComp:r,fwComp:s}=this.getCompKeys(t,pq);return i?n=Eue.getFloatingFilterType(i):null==r&&null==s&&!0===t.filter&&(n=e()),n}};N([K("gridOptions")],jy.prototype,"gridOptions",2),N([K("agComponentUtils")],jy.prototype,"agComponentUtils",2),N([K("componentMetadataProvider")],jy.prototype,"componentMetadataProvider",2),N([K("userComponentRegistry")],jy.prototype,"userComponentRegistry",2),N([Cr("frameworkComponentWrapper")],jy.prototype,"frameworkComponentWrapper",2),jy=N([In("userComponentFactory")],jy);var o5=class{};o5.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0},o5.ALL_PROPERTIES=Object.keys(o5.ColDefPropertyMap);var pPe=o5,Sue=class{constructor(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=-1!==t.scrollAxis.indexOf("x"),this.scrollVertically=-1!==t.scrollAxis.indexOf("y"),this.scrollByTick=null!=t.scrollByTick?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||(()=>!1)}check(t,e=!1){const n=e||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const i=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=t.clientX<i.left+r,this.tickRight=t.clientX>i.right-r,this.tickUp=t.clientY<i.top+r&&!n,this.tickDown=t.clientY>i.bottom-r&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){let t;if(this.tickCount++,t=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){const e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){const e=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(e-t),this.tickRight&&this.setHorizontalPosition(e+t)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},Cd=class extends Jt{constructor(t){super(),this.isMultiRowDrag=!1,this.eContainer=t}postConstruct(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(()=>{const t=this.ctrlsService.getGridBodyCtrl();this.autoScrollService=new Sue({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:e=>t.getScrollFeature().setVerticalScrollPosition(e),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(t){return 2===t}getIconName(){return this.gridOptionsService.get("rowDragManaged")&&this.shouldPreventRowMove()?Ri.ICON_NOT_ALLOWED:Ri.ICON_MOVE}shouldPreventRowMove(){return!!(this.columnModel.getRowGroupColumns().length||this.filterManager.isAnyFilterPresent()||this.sortController.isSortActive())}getRowNodes(t){if(!this.isFromThisGrid(t))return t.dragItem.rowNodes||[];const e=this.gridOptionsService.get("rowDragMultiRow"),n=[...this.selectionService.getSelectedNodes()].sort((r,s)=>null==r.rowIndex||null==s.rowIndex?0:this.getRowIndexNumber(r)-this.getRowIndexNumber(s)),i=t.dragItem.rowNode;return e&&-1!==n.indexOf(i)?(this.isMultiRowDrag=!0,n):(this.isMultiRowDrag=!1,[i])}onDragEnter(t){t.dragItem.rowNodes=this.getRowNodes(t),this.dispatchGridEvent(W.EVENT_ROW_DRAG_ENTER,t),this.getRowNodes(t).forEach(e=>{e.setDragging(!0)}),this.onEnterOrDragging(t)}onDragging(t){this.onEnterOrDragging(t)}isFromThisGrid(t){const{dragSourceDomDataKey:e}=t.dragSource;return e===this.gridOptionsService.getDomDataKey()}isDropZoneWithinThisGrid(t){const n=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:i}=t;return!n.contains(i)}onEnterOrDragging(t){this.dispatchGridEvent(W.EVENT_ROW_DRAG_MOVE,t),this.lastDraggingEvent=t;const e=this.mouseEventService.getNormalisedPosition(t).y;this.gridOptionsService.get("rowDragManaged")&&this.doManagedDrag(t,e),this.autoScrollService.check(t.event)}doManagedDrag(t,e){const n=this.isFromThisGrid(t),i=this.gridOptionsService.get("rowDragManaged"),r=t.dragItem.rowNodes;i&&this.shouldPreventRowMove()||(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!n?this.isDropZoneWithinThisGrid(t)||this.clientSideRowModel.highlightRowAtPixel(r[0],e):this.moveRows(r,e))}getRowIndexNumber(t){return parseInt(Ir(t.getRowIndexString().split("-")),10)}moveRowAndClearHighlight(t){const e=this.clientSideRowModel.getLastHighlightedRowNode(),n=e&&1===e.highlighted,i=this.mouseEventService.getNormalisedPosition(t).y,r=t.dragItem.rowNodes;let s=n?1:0;if(this.isFromThisGrid(t))r.forEach(o=>{o.rowTop<i&&(s-=1)}),this.moveRows(r,i,s);else{const o=this.gridOptionsService.getCallback("getRowId");let c=this.clientSideRowModel.getRowIndexAtPixel(i)+1;0===this.clientSideRowModel.getHighlightPosition(i)&&c--,this.clientSideRowModel.updateRowData({add:r.map(h=>h.data).filter(h=>!this.clientSideRowModel.getRowNode(o?o({data:h,level:0}):h.id)),addIndex:c})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(t,e,n=0){this.clientSideRowModel.ensureRowsAtPixel(t,e,n)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())}addRowDropZone(t){if(!t.getContainer())return void li("addRowDropZone - A container target needs to be provided");if(this.dragAndDropService.findExternalZone(t))return void console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");let e={getContainer:t.getContainer};t.fromGrid?e=t:(t.onDragEnter&&(e.onDragEnter=n=>{t.onDragEnter(this.draggingToRowDragEvent(W.EVENT_ROW_DRAG_ENTER,n))}),t.onDragLeave&&(e.onDragLeave=n=>{t.onDragLeave(this.draggingToRowDragEvent(W.EVENT_ROW_DRAG_LEAVE,n))}),t.onDragging&&(e.onDragging=n=>{t.onDragging(this.draggingToRowDragEvent(W.EVENT_ROW_DRAG_MOVE,n))}),t.onDragStop&&(e.onDragStop=n=>{t.onDragStop(this.draggingToRowDragEvent(W.EVENT_ROW_DRAG_END,n))})),this.dragAndDropService.addDropTarget(Qn({isInterestedIn:n=>2===n,getIconName:()=>Ri.ICON_MOVE,external:!0},e))}getRowDropZone(t){const e=this.getContainer.bind(this),n=this.onDragEnter.bind(this),i=this.onDragLeave.bind(this),r=this.onDragging.bind(this),s=this.onDragStop.bind(this);return t?{getContainer:e,onDragEnter:t.onDragEnter?o=>{n(o),t.onDragEnter(this.draggingToRowDragEvent(W.EVENT_ROW_DRAG_ENTER,o))}:n,onDragLeave:t.onDragLeave?o=>{i(o),t.onDragLeave(this.draggingToRowDragEvent(W.EVENT_ROW_DRAG_LEAVE,o))}:i,onDragging:t.onDragging?o=>{r(o),t.onDragging(this.draggingToRowDragEvent(W.EVENT_ROW_DRAG_MOVE,o))}:r,onDragStop:t.onDragStop?o=>{s(o),t.onDragStop(this.draggingToRowDragEvent(W.EVENT_ROW_DRAG_END,o))}:s,fromGrid:!0}:{getContainer:e,onDragEnter:n,onDragLeave:i,onDragging:r,onDragStop:s,fromGrid:!0}}draggingToRowDragEvent(t,e){const n=this.mouseEventService.getNormalisedPosition(e).y;let s,o,r=-1;switch(n>this.paginationProxy.getCurrentPageHeight()||(r=this.rowModel.getRowIndexAtPixel(n),s=this.rowModel.getRow(r)),e.vDirection){case 1:o="down";break;case 0:o="up";break;default:o=null}return this.gridOptionsService.addGridCommonParams({type:t,event:e.event,node:e.dragItem.rowNode,nodes:e.dragItem.rowNodes,overIndex:r,overNode:s,y:n,vDirection:o})}dispatchGridEvent(t,e){const n=this.draggingToRowDragEvent(t,e);this.eventService.dispatchEvent(n)}onDragLeave(t){this.dispatchGridEvent(W.EVENT_ROW_DRAG_LEAVE,t),this.stopDragging(t),this.gridOptionsService.get("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(t)&&(this.isMultiRowDrag=!1)}onDragStop(t){this.dispatchGridEvent(W.EVENT_ROW_DRAG_END,t),this.stopDragging(t),this.gridOptionsService.get("rowDragManaged")&&(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(t))&&!this.isDropZoneWithinThisGrid(t)&&this.moveRowAndClearHighlight(t)}stopDragging(t){this.autoScrollService.ensureCleared(),this.getRowNodes(t).forEach(e=>{e.setDragging(!1)})}};N([K("dragAndDropService")],Cd.prototype,"dragAndDropService",2),N([K("rowModel")],Cd.prototype,"rowModel",2),N([K("paginationProxy")],Cd.prototype,"paginationProxy",2),N([K("columnModel")],Cd.prototype,"columnModel",2),N([K("focusService")],Cd.prototype,"focusService",2),N([K("sortController")],Cd.prototype,"sortController",2),N([K("filterManager")],Cd.prototype,"filterManager",2),N([K("selectionService")],Cd.prototype,"selectionService",2),N([K("mouseEventService")],Cd.prototype,"mouseEventService",2),N([K("ctrlsService")],Cd.prototype,"ctrlsService",2),N([Cr("rangeService")],Cd.prototype,"rangeService",2),N([tn],Cd.prototype,"postConstruct",1);var nM=class extends Jt{constructor(){super(...arguments),this.dragEndFunctions=[],this.dragSources=[]}removeAllListeners(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0}removeListener(t){const e=t.dragSource.eElement;e.removeEventListener("mousedown",t.mouseDownListener),t.touchEnabled&&e.removeEventListener("touchstart",t.touchStartListener,{passive:!0})}removeDragSource(t){const e=this.dragSources.find(n=>n.dragSource===t);e&&(this.removeListener(e),Mu(this.dragSources,e))}isDragging(){return this.dragging}addDragSource(t){const e=this.onMouseDown.bind(this,t),{eElement:n,includeTouch:i,stopPropagationForTouch:r}=t;n.addEventListener("mousedown",e);let s=null;const o=this.gridOptionsService.get("suppressTouch");i&&!o&&(s=c=>{j9(c.target)||(c.cancelable&&(c.preventDefault(),r&&c.stopPropagation()),this.onTouchStart(t,c))},n.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:t,mouseDownListener:e,touchStartListener:s,touchEnabled:!!i})}getStartTarget(){return this.startTarget}onTouchStart(t,e){this.currentDragParams=t,this.dragging=!1;const n=e.touches[0];this.touchLastTime=n,this.touchStart=n;const r=h=>this.onTouchUp(h,t.eElement),o=e.target,c=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:h=>{h.cancelable&&h.preventDefault()},options:{passive:!1}},{target:o,type:"touchmove",listener:h=>this.onTouchMove(h,t.eElement),options:{passive:!0}},{target:o,type:"touchend",listener:r,options:{passive:!0}},{target:o,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(c),0===t.dragStartPixels&&this.onCommonMove(n,this.touchStart,t.eElement)}onMouseDown(t,e){const n=e;if(t.skipMouseEvent&&t.skipMouseEvent(e)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,0!==e.button))return;this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=e,this.startTarget=e.target;const o=this.gridOptionsService.getRootNode();this.addTemporaryEvents([{target:o,type:"mousemove",listener:h=>this.onMouseMove(h,t.eElement)},{target:o,type:"mouseup",listener:h=>this.onMouseUp(h,t.eElement)},{target:o,type:"contextmenu",listener:h=>h.preventDefault()}]),0===t.dragStartPixels&&this.onMouseMove(e,t.eElement)}addTemporaryEvents(t){t.forEach(e=>{const{target:n,type:i,listener:r,options:s}=e;n.addEventListener(i,r,s)}),this.dragEndFunctions.push(()=>{t.forEach(e=>{const{target:n,type:i,listener:r,options:s}=e;n.removeEventListener(i,r,s)})})}isEventNearStartEvent(t,e){const{dragStartPixels:n}=this.currentDragParams;return eq(t,e,$t(n)?n:4)}getFirstActiveTouch(t){for(let e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null}onCommonMove(t,e,n){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t,e))return;this.dragging=!0,this.eventService.dispatchEvent({type:W.EVENT_DRAG_STARTED,target:n}),this.currentDragParams.onDragStart(e),this.currentDragParams.onDragging(e)}this.currentDragParams.onDragging(t)}onTouchMove(t,e){const n=this.getFirstActiveTouch(t.touches);n&&this.onCommonMove(n,this.touchStart,e)}onMouseMove(t,e){var n;gg()&&(null==(n=this.gridOptionsService.getDocument().getSelection())||n.removeAllRanges()),this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.onCommonMove(t,this.mouseStartEvent,e)}shouldPreventMouseEvent(t){return this.gridOptionsService.get("enableCellTextSelection")&&"mousemove"===t.type&&t.cancelable&&this.mouseEventService.isEventFromThisGrid(t)&&!this.isOverFormFieldElement(t)}isOverFormFieldElement(t){const e=t.target,n=e?.tagName.toLocaleLowerCase();return!!n?.match("^a$|textarea|input|select|button")}onTouchUp(t,e){let n=this.getFirstActiveTouch(t.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,e)}onMouseUp(t,e){this.onUpCommon(t,e)}onUpCommon(t,e){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(t),this.eventService.dispatchEvent({type:W.EVENT_DRAG_STOPPED,target:e})),this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(n=>n()),this.dragEndFunctions.length=0}};N([K("mouseEventService")],nM.prototype,"mouseEventService",2),N([zc],nM.prototype,"removeAllListeners",1),nM=N([In("dragService")],nM);var gq="ag-list-item-hovered",Tue=class extends Jt{constructor(t,e,n){super(),this.comp=t,this.virtualList=e,this.params=n,this.currentDragValue=null,this.lastHoveredListItem=null}postConstruct(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()}listItemDragStart(t){this.currentDragValue=this.params.getCurrentDragValue(t),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)}listItemDragEnd(){window.setTimeout(()=>{this.currentDragValue=null,this.moveBlocked=!1},10)}createDropTarget(){const t={isInterestedIn:e=>e===this.params.dragSourceType,getIconName:()=>this.moveBlocked?Ri.ICON_PINNED:Ri.ICON_MOVE,getContainer:()=>this.comp.getGui(),onDragging:e=>this.onDragging(e),onDragStop:()=>this.onDragStop(),onDragLeave:()=>this.onDragLeave()};this.dragAndDropService.addDropTarget(t)}createAutoScrollService(){const t=this.virtualList.getGui();this.autoScrollService=new Sue({scrollContainer:t,scrollAxis:"y",getVerticalPosition:()=>t.scrollTop,setVerticalPosition:e=>t.scrollTop=e})}onDragging(t){if(!this.currentDragValue||this.moveBlocked)return;const e=this.getListDragItem(t),n=this.virtualList.getComponentAt(e.rowIndex);if(!n)return;const i=n.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===e.rowIndex&&this.lastHoveredListItem.position===e.position||(this.autoScrollService.check(t.event),this.clearHoveredItems(),this.lastHoveredListItem=e,W9(i,gq),W9(i,`ag-item-highlight-${e.position}`))}getListDragItem(t){const e=this.virtualList.getGui(),n=parseFloat(window.getComputedStyle(e).paddingTop),i=this.virtualList.getRowHeight(),r=this.virtualList.getScrollTop(),s=Math.max(0,(t.y-n+r)/i),o=this.params.getNumRows(this.comp)-1,c=0|Math.min(o,s);return{rowIndex:c,position:Math.round(s)>s||s>o?"bottom":"top",component:this.virtualList.getComponentAt(c)}}onDragStop(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())}onDragLeave(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()}clearHoveredItems(){this.virtualList.getGui().querySelectorAll(`.${gq}`).forEach(e=>{[gq,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(n=>{e.classList.remove(n)})}),this.lastHoveredListItem=null}};function CE(t){return null!=t&&null!=t.getFrameworkComponentInstance?t.getFrameworkComponentInstance():t}N([K("dragAndDropService")],Tue.prototype,"dragAndDropService",2),N([tn],Tue.prototype,"postConstruct",1);var Zi=class{constructor(){this.detailGridInfoMap={},this.destroyCalled=!1}init(){switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()})}__getAlignedGridService(){return this.alignedGridsService}__getContext(){return this.context}__getModel(){return this.rowModel}getGridId(){return this.context.getGridId()}addDetailGridInfo(t,e){this.detailGridInfoMap[t]=e}removeDetailGridInfo(t){this.detailGridInfoMap[t]=void 0}getDetailGridInfo(t){return this.detailGridInfoMap[t]}forEachDetailGridInfo(t){let e=0;tc(this.detailGridInfoMap,(n,i)=>{$t(i)&&(t(i,e),e++)})}getDataAsCsv(t){if(Hr.__assertRegistered("@ag-grid-community/csv-export","api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(t)}exportDataAsCsv(t){Hr.__assertRegistered("@ag-grid-community/csv-export","api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(t)}assertNotExcelMultiSheet(t,e){return!(!Hr.__assertRegistered("@ag-grid-enterprise/excel-export","api."+t,this.context.getGridId())||1===this.excelCreator.getFactoryMode()&&(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),1))}getDataAsExcel(t){if(this.assertNotExcelMultiSheet("getDataAsExcel",t))return this.excelCreator.getDataAsExcel(t)}exportDataAsExcel(t){this.assertNotExcelMultiSheet("exportDataAsExcel",t)&&this.excelCreator.exportDataAsExcel(t)}getSheetDataForExcel(t){if(Hr.__assertRegistered("@ag-grid-enterprise/excel-export","api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(1),this.excelCreator.getSheetDataForExcel(t)}getMultipleSheetsAsExcel(t){if(Hr.__assertRegistered("@ag-grid-enterprise/excel-export","api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(t)}exportMultipleSheetsAsExcel(t){Hr.__assertRegistered("@ag-grid-enterprise/excel-export","api.exportMultipleSheetsAsExcel",this.context.getGridId())&&this.excelCreator.exportMultipleSheetsAsExcel(t)}setGridAriaProperty(t,e){if(!t)return;const n=this.ctrlsService.getGridBodyCtrl().getGui(),i=`aria-${t}`;null===e?n.removeAttribute(i):n.setAttribute(i,e)}logMissingRowModel(t,...e){console.error(`AG Grid: api.${t} can only be called when gridOptions.rowModelType is ${e.join(" or ")}`)}logDeprecation(t,e,n,i){li(`Since ${t} api.${e} is deprecated. Please use ${n} instead. ${i}`)}getPinnedTopRowCount(){return this.pinnedRowModel.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.pinnedRowModel.getPinnedBottomRowCount()}getPinnedTopRow(t){return this.pinnedRowModel.getPinnedTopRow(t)}getPinnedBottomRow(t){return this.pinnedRowModel.getPinnedBottomRow(t)}expireValueCache(){this.valueCache.expire()}getVerticalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()}getHorizontalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()}refreshCells(t={}){this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.refreshCells(t))}flashCells(t={}){const e=n=>li(`Since v31.1 api.flashCells parameter '${n}Delay' is deprecated. Please use '${n}Duration' instead.`);$t(t.fadeDelay)&&e("fade"),$t(t.flashDelay)&&e("flash"),this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.flashCells(t))}redrawRows(t={}){const e=t?t.rowNodes:void 0;this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.redrawRows(e))}refreshHeader(){this.frameworkOverrides.wrapIncoming(()=>this.ctrlsService.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}isAnyFilterPresent(){return this.filterManager.isAnyFilterPresent()}isColumnFilterPresent(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()}isQuickFilterPresent(){return this.filterManager.isQuickFilterPresent()}getModel(){return li("Since v31.1 getModel() is deprecated. Please use the appropriate grid API methods instead."),this.rowModel}setRowNodeExpanded(t,e,n){this.expansionService.setRowNodeExpanded(t,e,n)}onGroupExpandedOrCollapsed(){pi(this.clientSideRowModel)?this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide"):this.expansionService.onGroupExpandedOrCollapsed()}refreshClientSideRowModel(t){pi(this.clientSideRowModel)?this.logMissingRowModel("refreshClientSideRowModel","clientSide"):this.clientSideRowModel.refreshModel(t)}isAnimationFrameQueueEmpty(){return this.animationFrameService.isQueueEmpty()}flushAllAnimationFrames(){this.animationFrameService.flushAllFrames()}getRowNode(t){return this.rowModel.getRowNode(t)}getSizesForCurrentTheme(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}}expandAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")}collapseAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")}addRenderedRowListener(t,e,n){this.rowRenderer.addRenderedRowListener(t,e,n)}getQuickFilter(){return this.gos.get("quickFilterText")}getAdvancedFilterModel(){return Hr.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null}setAdvancedFilterModel(t){this.filterManager.setAdvancedFilterModel(t)}showAdvancedFilterBuilder(){Hr.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")}setNodesSelected(t){if(!t.nodes.every(o=>o.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):void 0!==o.id||(console.warn("AG Grid: cannot select node until id for node is known"),!1)))return;const{nodes:n,source:i,newValue:r}=t;this.selectionService.setNodesSelected({nodes:n,source:i??"api",newValue:r})}selectAll(t="apiSelectAll"){this.selectionService.selectAllRowNodes({source:t})}deselectAll(t="apiSelectAll"){this.selectionService.deselectAllRowNodes({source:t})}selectAllFiltered(t="apiSelectAllFiltered"){this.selectionService.selectAllRowNodes({source:t,justFiltered:!0})}deselectAllFiltered(t="apiSelectAllFiltered"){this.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})}getServerSideSelectionState(){return pi(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()}setServerSideSelectionState(t){pi(this.serverSideRowModel)?this.logMissingRowModel("setServerSideSelectionState","serverSide"):this.selectionService.setSelectionState(t,"api")}selectAllOnCurrentPage(t="apiSelectAllCurrentPage"){this.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})}deselectAllOnCurrentPage(t="apiSelectAllCurrentPage"){this.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})}showLoadingOverlay(){this.overlayService.showLoadingOverlay()}showNoRowsOverlay(){this.overlayService.showNoRowsOverlay()}hideOverlay(){this.overlayService.hideOverlay()}getSelectedNodes(){return this.selectionService.getSelectedNodes()}getSelectedRows(){return this.selectionService.getSelectedRows()}getBestCostNodeSelection(){if(!pi(this.clientSideRowModel))return this.selectionService.getBestCostNodeSelection();this.logMissingRowModel("getBestCostNodeSelection","clientSide")}getRenderedNodes(){return this.rowRenderer.getRenderedNodes()}ensureColumnVisible(t,e="auto"){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(t,e),"ensureVisible")}ensureIndexVisible(t,e){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t,e),"ensureVisible")}ensureNodeVisible(t,e=null){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(t,e),"ensureVisible")}forEachLeafNode(t){pi(this.clientSideRowModel)?this.logMissingRowModel("forEachLeafNode","clientSide"):this.clientSideRowModel.forEachLeafNode(t)}forEachNode(t,e){this.rowModel.forEachNode(t,e)}forEachNodeAfterFilter(t){pi(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilter","clientSide"):this.clientSideRowModel.forEachNodeAfterFilter(t)}forEachNodeAfterFilterAndSort(t){pi(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide"):this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)}getFilterInstance(t,e){return li("'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."),this.filterManager.getFilterInstance(t,e)}getColumnFilterInstance(t){return this.filterManager.getColumnFilterInstance(t)}destroyFilter(t){const e=this.columnModel.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"api")}getStatusPanel(t){if(Hr.__assertRegistered("@ag-grid-enterprise/status-bar","api.getStatusPanel",this.context.getGridId()))return CE(this.statusBarService.getStatusPanel(t))}getColumnDef(t){const e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef():null}getColumnDefs(){return this.columnModel.getColumnDefs()}onFilterChanged(t="api"){this.filterManager.onFilterChanged({source:t})}onSortChanged(){this.sortController.onSortChanged("api")}setFilterModel(t){this.frameworkOverrides.wrapIncoming(()=>this.filterManager.setFilterModel(t))}getFilterModel(){return this.filterManager.getFilterModel()}getColumnFilterModel(t){return this.filterManager.getColumnFilterModel(t)}setColumnFilterModel(t,e){return this.filterManager.setColumnFilterModel(t,e)}getFocusedCell(){return this.focusService.getFocusedCell()}clearFocusedCell(){return this.focusService.clearFocusedCell()}setFocusedCell(t,e,n){this.focusService.setFocusedCell({rowIndex:t,column:e,rowPinned:n,forceBrowserFocus:!0})}addRowDropZone(t){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(t)}removeRowDropZone(t){const e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)}getRowDropZoneParams(t){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(t)}assertSideBarLoaded(t){return Hr.__assertRegistered("@ag-grid-enterprise/side-bar","api."+t,this.context.getGridId())}isSideBarVisible(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()}setSideBarVisible(t){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(t)}setSideBarPosition(t){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(t)}openToolPanel(t){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(t,"api")}closeToolPanel(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")}getOpenedToolPanel(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null}refreshToolPanel(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()}isToolPanelShowing(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()}getToolPanelInstance(t){if(this.assertSideBarLoaded("getToolPanelInstance"))return CE(this.sideBarService.getSideBarComp().getToolPanelInstance(t))}getSideBar(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()}resetRowHeights(){if($t(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}}setRowCount(t,e){if(this.serverSideRowModel)return this.columnModel.isRowGroupEmpty()?void this.serverSideRowModel.setRowCount(t,e):void console.error("AG Grid: setRowCount cannot be used while using row grouping.");this.infiniteRowModel?this.infiniteRowModel.setRowCount(t,e):this.logMissingRowModel("setRowCount","infinite","serverSide")}onRowHeightChanged(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()}getValue(t,e){let n=this.columnModel.getPrimaryColumn(t);return pi(n)&&(n=this.columnModel.getGridColumn(t)),pi(n)?null:this.valueService.getValue(n,e)}addEventListener(t,e){this.apiEventService.addEventListener(t,e)}addGlobalListener(t){this.apiEventService.addGlobalListener(t)}removeEventListener(t,e){this.apiEventService.removeEventListener(t,e)}removeGlobalListener(t){this.apiEventService.removeGlobalListener(t)}dispatchEvent(t){this.eventService.dispatchEvent(t)}destroy(){const t=`See ${this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}`;if(this.destroyCalled)return;const e={type:W.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(e),this.destroyCalled=!0;const n=this.ctrlsService.getGridCtrl();n&&n.destroyGridUi(),this.context.destroy(),Rle(this,["isDestroyed"],t)}isDestroyed(){return this.destroyCalled}resetQuickFilter(){this.filterManager.resetQuickFilterCache()}getCellRanges(){return this.rangeService?this.rangeService.getCellRanges():(Hr.__assertRegistered("@ag-grid-enterprise/range-selection","api.getCellRanges",this.context.getGridId()),null)}addCellRange(t){this.rangeService?this.rangeService.addCellRange(t):Hr.__assertRegistered("@ag-grid-enterprise/range-selection","api.addCellRange",this.context.getGridId())}clearRangeSelection(){this.rangeService&&this.rangeService.removeAllCellRanges(),Hr.__assertRegistered("@ag-grid-enterprise/range-selection","gridApi.clearRangeSelection",this.context.getGridId())}undoCellEditing(){this.undoRedoService.undo("api")}redoCellEditing(){this.undoRedoService.redo("api")}getCurrentUndoSize(){return this.undoRedoService.getCurrentUndoStackSize()}getCurrentRedoSize(){return this.undoRedoService.getCurrentRedoStackSize()}assertChart(t,e){if(Hr.__assertRegistered("@ag-grid-enterprise/charts","api."+t,this.context.getGridId()))return this.frameworkOverrides.wrapIncoming(()=>e())}getChartModels(){return this.assertChart("getChartModels",()=>this.chartService.getChartModels())}getChartRef(t){return this.assertChart("getChartRef",()=>this.chartService.getChartRef(t))}getChartImageDataURL(t){return this.assertChart("getChartImageDataURL",()=>this.chartService.getChartImageDataURL(t))}downloadChart(t){return this.assertChart("downloadChart",()=>this.chartService.downloadChart(t))}openChartToolPanel(t){return this.assertChart("openChartToolPanel",()=>this.chartService.openChartToolPanel(t))}closeChartToolPanel(t){return this.assertChart("closeChartToolPanel",()=>this.chartService.closeChartToolPanel(t.chartId))}createRangeChart(t){return this.assertChart("createRangeChart",()=>this.chartService.createRangeChart(t))}createPivotChart(t){return this.assertChart("createPivotChart",()=>this.chartService.createPivotChart(t))}createCrossFilterChart(t){return this.assertChart("createCrossFilterChart",()=>this.chartService.createCrossFilterChart(t))}updateChart(t){return this.assertChart("updateChart",()=>this.chartService.updateChart(t))}restoreChart(t,e){return this.assertChart("restoreChart",()=>this.chartService.restoreChart(t,e))}assertClipboard(t,e){Hr.__assertRegistered("@ag-grid-enterprise/clipboard","api"+t,this.context.getGridId())&&e()}copyToClipboard(t){this.assertClipboard("copyToClipboard",()=>this.clipboardService.copyToClipboard(t))}cutToClipboard(t){this.assertClipboard("cutToClipboard",()=>this.clipboardService.cutToClipboard(t))}copySelectedRowsToClipboard(t){this.assertClipboard("copySelectedRowsToClipboard",()=>this.clipboardService.copySelectedRowsToClipboard(t))}copySelectedRangeToClipboard(t){this.assertClipboard("copySelectedRangeToClipboard",()=>this.clipboardService.copySelectedRangeToClipboard(t))}copySelectedRangeDown(){this.assertClipboard("copySelectedRangeDown",()=>this.clipboardService.copyRangeDown())}pasteFromClipboard(){this.assertClipboard("pasteFromClipboard",()=>this.clipboardService.pasteFromClipboard())}showColumnMenuAfterButtonClick(t,e){li("'showColumnMenuAfterButtonClick' is deprecated. Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere.");const n=this.columnModel.getGridColumn(t);this.menuService.showColumnMenu({column:n,buttonElement:e,positionBy:"button"})}showColumnMenuAfterMouseClick(t,e){li("'showColumnMenuAfterMouseClick' is deprecated. Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere.");let n=this.columnModel.getGridColumn(t);n||(n=this.columnModel.getPrimaryColumn(t)),n?this.menuService.showColumnMenu({column:n,mouseEvent:e,positionBy:"mouse"}):console.error(`AG Grid: column '${t}' not found`)}showColumnChooser(t){this.menuService.showColumnChooser({chooserParams:t})}showColumnFilter(t){const e=this.columnModel.getGridColumn(t);e?this.menuService.showFilterMenu({column:e,containerType:"columnFilter",positionBy:"auto"}):console.error(`AG Grid: column '${t}' not found`)}showColumnMenu(t){const e=this.columnModel.getGridColumn(t);e?this.menuService.showColumnMenu({column:e,positionBy:"auto"}):console.error(`AG Grid: column '${t}' not found`)}hidePopupMenu(){this.menuService.hidePopupMenu()}hideColumnChooser(){this.menuService.hideColumnChooser()}tabToNextCell(t){return this.navigationService.tabToNextCell(!1,t)}tabToPreviousCell(t){return this.navigationService.tabToNextCell(!0,t)}getCellRendererInstances(t={}){return this.rowRenderer.getCellRendererInstances(t).map(CE)}getCellEditorInstances(t={}){return this.rowRenderer.getCellEditorInstances(t).map(CE)}getEditingCells(){return this.rowRenderer.getEditingCells()}stopEditing(t=!1){this.rowRenderer.stopEditing(t)}startEditingCell(t){const e=this.columnModel.getGridColumn(t.colKey);if(!e)return void console.warn(`AG Grid: no column found for ${t.colKey}`);const n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:e};null==t.rowPinned&&this.ensureIndexVisible(t.rowIndex),this.ensureColumnVisible(t.colKey);const r=this.navigationService.getCellByPosition(n);r&&(this.focusService.isCellFocused(n)||this.focusService.setFocusedCell(n),r.startRowOrCellEdit(t.key))}addAggFunc(t,e){this.logDeprecation("v31.1","addAggFunc(key, func)","addAggFuncs({ key: func })"),this.aggFuncService&&this.aggFuncService.addAggFuncs({key:e})}addAggFuncs(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)}clearAggFuncs(){this.aggFuncService&&this.aggFuncService.clear()}applyServerSideTransaction(t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(t);this.logMissingRowModel("applyServerSideTransaction","serverSide")}applyServerSideTransactionAsync(t,e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(t,e);this.logMissingRowModel("applyServerSideTransactionAsync","serverSide")}applyServerSideRowData(t){var e,n;const i=null!=(e=t.startRow)?e:0,r=null!=(n=t.route)?n:[];i<0?console.warn(`AG Grid: invalid value ${t.startRow} for startRow, the value should be >= 0`):this.serverSideRowModel?this.serverSideRowModel.applyRowData(t.successParams,i,r):this.logMissingRowModel("setServerSideDatasource","serverSide")}retryServerSideLoads(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():this.logMissingRowModel("retryServerSideLoads","serverSide")}flushServerSideAsyncTransactions(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide")}applyTransaction(t){if(this.clientSideRowModel)return this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.updateRowData(t));this.logMissingRowModel("applyTransaction","clientSide")}applyTransactionAsync(t,e){this.clientSideRowModel?this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.batchUpdateRowData(t,e)):this.logMissingRowModel("applyTransactionAsync","clientSide")}flushAsyncTransactions(){this.clientSideRowModel?this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.flushAsyncTransactions()):this.logMissingRowModel("flushAsyncTransactions","clientSide")}refreshInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")}purgeInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")}refreshServerSide(t){this.serverSideRowModel?this.serverSideRowModel.refreshStore(t):this.logMissingRowModel("refreshServerSide","serverSide")}getServerSideGroupLevelState(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])}getInfiniteRowCount(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")}isLastRowIndexKnown(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")}getCacheBlockState(){return this.rowNodeBlockLoader.getBlockState()}getFirstDisplayedRow(){return this.logDeprecation("v31.1","getFirstDisplayedRow","getFirstDisplayedRowIndex"),this.getFirstDisplayedRowIndex()}getFirstDisplayedRowIndex(){return this.rowRenderer.getFirstVirtualRenderedRow()}getLastDisplayedRow(){return this.logDeprecation("v31.1","getLastDisplayedRow","getLastDisplayedRowIndex"),this.getLastDisplayedRowIndex()}getLastDisplayedRowIndex(){return this.rowRenderer.getLastVirtualRenderedRow()}getDisplayedRowAtIndex(t){return this.rowModel.getRow(t)}getDisplayedRowCount(){return this.rowModel.getRowCount()}paginationIsLastPageFound(){return this.paginationProxy.isLastPageFound()}paginationGetPageSize(){return this.paginationProxy.getPageSize()}paginationGetCurrentPage(){return this.paginationProxy.getCurrentPage()}paginationGetTotalPages(){return this.paginationProxy.getTotalPages()}paginationGetRowCount(){return this.paginationProxy.getMasterRowCount()}paginationGoToNextPage(){this.paginationProxy.goToNextPage()}paginationGoToPreviousPage(){this.paginationProxy.goToPreviousPage()}paginationGoToFirstPage(){this.paginationProxy.goToFirstPage()}paginationGoToLastPage(){this.paginationProxy.goToLastPage()}paginationGoToPage(t){this.paginationProxy.goToPage(t)}sizeColumnsToFit(t){"number"==typeof t?this.columnModel.sizeColumnsToFit(t,"api"):this.gridBodyCtrl.sizeColumnsToFit(t)}setColumnGroupOpened(t,e){this.columnModel.setColumnGroupOpened(t,e,"api")}getColumnGroup(t,e){return this.columnModel.getColumnGroup(t,e)}getProvidedColumnGroup(t){return this.columnModel.getProvidedColumnGroup(t)}getDisplayNameForColumn(t,e){return this.columnModel.getDisplayNameForColumn(t,e)||""}getDisplayNameForColumnGroup(t,e){return this.columnModel.getDisplayNameForColumnGroup(t,e)||""}getColumn(t){return this.columnModel.getPrimaryColumn(t)}getColumns(){return this.columnModel.getAllPrimaryColumns()}applyColumnState(t){return this.columnModel.applyColumnState(t,"api")}getColumnState(){return this.columnModel.getColumnState()}resetColumnState(){this.columnModel.resetColumnState("api")}getColumnGroupState(){return this.columnModel.getColumnGroupState()}setColumnGroupState(t){this.columnModel.setColumnGroupState(t,"api")}resetColumnGroupState(){this.columnModel.resetColumnGroupState("api")}isPinning(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()}isPinningLeft(){return this.columnModel.isPinningLeft()}isPinningRight(){return this.columnModel.isPinningRight()}getDisplayedColAfter(t){return this.columnModel.getDisplayedColAfter(t)}getDisplayedColBefore(t){return this.columnModel.getDisplayedColBefore(t)}setColumnVisible(t,e){this.logDeprecation("v31.1","setColumnVisible(key,visible)","setColumnsVisible([key],visible)"),this.columnModel.setColumnsVisible([t],e,"api")}setColumnsVisible(t,e){this.columnModel.setColumnsVisible(t,e,"api")}setColumnPinned(t,e){this.logDeprecation("v31.1","setColumnPinned(key,pinned)","setColumnsPinned([key],pinned)"),this.columnModel.setColumnsPinned([t],e,"api")}setColumnsPinned(t,e){this.columnModel.setColumnsPinned(t,e,"api")}getAllGridColumns(){return this.columnModel.getAllGridColumns()}getDisplayedLeftColumns(){return this.columnModel.getDisplayedLeftColumns()}getDisplayedCenterColumns(){return this.columnModel.getDisplayedCenterColumns()}getDisplayedRightColumns(){return this.columnModel.getDisplayedRightColumns()}getAllDisplayedColumns(){return this.columnModel.getAllDisplayedColumns()}getAllDisplayedVirtualColumns(){return this.columnModel.getViewportColumns()}moveColumn(t,e){this.logDeprecation("v31.1","moveColumn(key, toIndex)","moveColumns([key], toIndex)"),this.columnModel.moveColumns([t],e,"api")}moveColumnByIndex(t,e){this.columnModel.moveColumnByIndex(t,e,"api")}moveColumns(t,e){this.columnModel.moveColumns(t,e,"api")}moveRowGroupColumn(t,e){this.columnModel.moveRowGroupColumn(t,e,"api")}setColumnAggFunc(t,e){this.columnModel.setColumnAggFunc(t,e,"api")}setColumnWidth(t,e,n=!0,i="api"){this.logDeprecation("v31.1","setColumnWidth(col, width)","setColumnWidths([{key: col, newWidth: width}])"),this.columnModel.setColumnWidths([{key:t,newWidth:e}],!1,n,i)}setColumnWidths(t,e=!0,n="api"){this.columnModel.setColumnWidths(t,!1,e,n)}isPivotMode(){return this.columnModel.isPivotMode()}getPivotResultColumn(t,e){return this.columnModel.getSecondaryPivotColumn(t,e)}setValueColumns(t){this.columnModel.setValueColumns(t,"api")}getValueColumns(){return this.columnModel.getValueColumns()}removeValueColumn(t){this.logDeprecation("v31.1","removeValueColumn(colKey)","removeValueColumns([colKey])"),this.columnModel.removeValueColumns([t],"api")}removeValueColumns(t){this.columnModel.removeValueColumns(t,"api")}addValueColumn(t){this.logDeprecation("v31.1","addValueColumn(colKey)","addValueColumns([colKey])"),this.columnModel.addValueColumns([t],"api")}addValueColumns(t){this.columnModel.addValueColumns(t,"api")}setRowGroupColumns(t){this.columnModel.setRowGroupColumns(t,"api")}removeRowGroupColumn(t){this.logDeprecation("v31.1","removeRowGroupColumn(colKey)","removeRowGroupColumns([colKey])"),this.columnModel.removeRowGroupColumns([t],"api")}removeRowGroupColumns(t){this.columnModel.removeRowGroupColumns(t,"api")}addRowGroupColumn(t){this.logDeprecation("v31.1","addRowGroupColumn(colKey)","addRowGroupColumns([colKey])"),this.columnModel.addRowGroupColumns([t],"api")}addRowGroupColumns(t){this.columnModel.addRowGroupColumns(t,"api")}getRowGroupColumns(){return this.columnModel.getRowGroupColumns()}setPivotColumns(t){this.columnModel.setPivotColumns(t,"api")}removePivotColumn(t){this.logDeprecation("v31.1","removePivotColumn(colKey)","removePivotColumns([colKey])"),this.columnModel.removePivotColumns([t],"api")}removePivotColumns(t){this.columnModel.removePivotColumns(t,"api")}addPivotColumn(t){this.logDeprecation("v31.1","addPivotColumn(colKey)","addPivotColumns([colKey])"),this.columnModel.addPivotColumns([t],"api")}addPivotColumns(t){this.columnModel.addPivotColumns(t,"api")}getPivotColumns(){return this.columnModel.getPivotColumns()}getLeftDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeLeft()}getCenterDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeCentre()}getRightDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeRight()}getAllDisplayedColumnGroups(){return this.columnModel.getAllDisplayedTrees()}autoSizeColumn(t,e){return this.logDeprecation("v31.1","autoSizeColumn(key, skipHeader)","autoSizeColumns([key], skipHeader)"),this.columnModel.autoSizeColumns({columns:[t],skipHeader:e,source:"api"})}autoSizeColumns(t,e){this.columnModel.autoSizeColumns({columns:t,skipHeader:e,source:"api"})}autoSizeAllColumns(t){this.columnModel.autoSizeAllColumns("api",t)}setPivotResultColumns(t){this.columnModel.setSecondaryColumns(t,"api")}getPivotResultColumns(){return this.columnModel.getSecondaryColumns()}getState(){return this.stateService.getState()}getGridOption(t){return this.gos.get(t)}setGridOption(t,e){this.updateGridOptions({[t]:e})}updateGridOptions(t){this.gos.updateGridOptions({options:t})}__internalUpdateGridOptions(t){this.gos.updateGridOptions({options:t,source:"gridOptionsUpdated"})}deprecatedUpdateGridOption(t,e){li(`set${t.charAt(0).toUpperCase()}${t.slice(1,t.length)} is deprecated. Please use 'api.setGridOption('${t}', newValue)' or 'api.updateGridOptions({ ${t}: newValue })' instead.`),this.setGridOption(t,e)}setPivotMode(t){this.deprecatedUpdateGridOption("pivotMode",t)}setPinnedTopRowData(t){this.deprecatedUpdateGridOption("pinnedTopRowData",t)}setPinnedBottomRowData(t){this.deprecatedUpdateGridOption("pinnedBottomRowData",t)}setPopupParent(t){this.deprecatedUpdateGridOption("popupParent",t)}setSuppressModelUpdateAfterUpdateTransaction(t){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",t)}setDataTypeDefinitions(t){this.deprecatedUpdateGridOption("dataTypeDefinitions",t)}setPagination(t){this.deprecatedUpdateGridOption("pagination",t)}paginationSetPageSize(t){this.deprecatedUpdateGridOption("paginationPageSize",t)}setSideBar(t){this.deprecatedUpdateGridOption("sideBar",t)}setSuppressClipboardPaste(t){this.deprecatedUpdateGridOption("suppressClipboardPaste",t)}setGroupRemoveSingleChildren(t){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",t)}setGroupRemoveLowestSingleChildren(t){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",t)}setGroupDisplayType(t){this.deprecatedUpdateGridOption("groupDisplayType",t)}setGroupIncludeFooter(t){this.deprecatedUpdateGridOption("groupIncludeFooter",t)}setGroupIncludeTotalFooter(t){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",t)}setRowClass(t){this.deprecatedUpdateGridOption("rowClass",t)}setDeltaSort(t){this.deprecatedUpdateGridOption("deltaSort",t)}setSuppressRowDrag(t){this.deprecatedUpdateGridOption("suppressRowDrag",t)}setSuppressMoveWhenRowDragging(t){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",t)}setSuppressRowClickSelection(t){this.deprecatedUpdateGridOption("suppressRowClickSelection",t)}setEnableAdvancedFilter(t){this.deprecatedUpdateGridOption("enableAdvancedFilter",t)}setIncludeHiddenColumnsInAdvancedFilter(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",t)}setAdvancedFilterParent(t){this.deprecatedUpdateGridOption("advancedFilterParent",t)}setAdvancedFilterBuilderParams(t){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",t)}setQuickFilter(t){li("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:t}})}setExcludeHiddenColumnsFromQuickFilter(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!t)}setIncludeHiddenColumnsInQuickFilter(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",t)}setQuickFilterParser(t){this.deprecatedUpdateGridOption("quickFilterParser",t)}setQuickFilterMatcher(t){this.deprecatedUpdateGridOption("quickFilterMatcher",t)}setAlwaysShowHorizontalScroll(t){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",t)}setAlwaysShowVerticalScroll(t){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",t)}setFunctionsReadOnly(t){this.deprecatedUpdateGridOption("functionsReadOnly",t)}setColumnDefs(t,e="api"){li("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:t},source:e})}setAutoGroupColumnDef(t,e="api"){li("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:t},source:e})}setDefaultColDef(t,e="api"){li("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:t},source:e})}setColumnTypes(t,e="api"){li("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:t},source:e})}setTreeData(t){this.deprecatedUpdateGridOption("treeData",t)}setServerSideDatasource(t){this.deprecatedUpdateGridOption("serverSideDatasource",t)}setCacheBlockSize(t){this.deprecatedUpdateGridOption("cacheBlockSize",t)}setDatasource(t){this.deprecatedUpdateGridOption("datasource",t)}setViewportDatasource(t){this.deprecatedUpdateGridOption("viewportDatasource",t)}setRowData(t){this.deprecatedUpdateGridOption("rowData",t)}setEnableCellTextSelection(t){this.deprecatedUpdateGridOption("enableCellTextSelection",t)}setHeaderHeight(t){this.deprecatedUpdateGridOption("headerHeight",t)}setDomLayout(t){this.deprecatedUpdateGridOption("domLayout",t)}setFillHandleDirection(t){this.deprecatedUpdateGridOption("fillHandleDirection",t)}setGroupHeaderHeight(t){this.deprecatedUpdateGridOption("groupHeaderHeight",t)}setFloatingFiltersHeight(t){this.deprecatedUpdateGridOption("floatingFiltersHeight",t)}setPivotHeaderHeight(t){this.deprecatedUpdateGridOption("pivotHeaderHeight",t)}setPivotGroupHeaderHeight(t){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",t)}setAnimateRows(t){this.deprecatedUpdateGridOption("animateRows",t)}setIsExternalFilterPresent(t){this.deprecatedUpdateGridOption("isExternalFilterPresent",t)}setDoesExternalFilterPass(t){this.deprecatedUpdateGridOption("doesExternalFilterPass",t)}setNavigateToNextCell(t){this.deprecatedUpdateGridOption("navigateToNextCell",t)}setTabToNextCell(t){this.deprecatedUpdateGridOption("tabToNextCell",t)}setTabToNextHeader(t){this.deprecatedUpdateGridOption("tabToNextHeader",t)}setNavigateToNextHeader(t){this.deprecatedUpdateGridOption("navigateToNextHeader",t)}setRowGroupPanelShow(t){this.deprecatedUpdateGridOption("rowGroupPanelShow",t)}setGetGroupRowAgg(t){this.deprecatedUpdateGridOption("getGroupRowAgg",t)}setGetBusinessKeyForNode(t){this.deprecatedUpdateGridOption("getBusinessKeyForNode",t)}setGetChildCount(t){this.deprecatedUpdateGridOption("getChildCount",t)}setProcessRowPostCreate(t){this.deprecatedUpdateGridOption("processRowPostCreate",t)}setGetRowId(t){li("getRowId is a static property and can no longer be updated.")}setGetRowClass(t){this.deprecatedUpdateGridOption("getRowClass",t)}setIsFullWidthRow(t){this.deprecatedUpdateGridOption("isFullWidthRow",t)}setIsRowSelectable(t){this.deprecatedUpdateGridOption("isRowSelectable",t)}setIsRowMaster(t){this.deprecatedUpdateGridOption("isRowMaster",t)}setPostSortRows(t){this.deprecatedUpdateGridOption("postSortRows",t)}setGetDocument(t){this.deprecatedUpdateGridOption("getDocument",t)}setGetContextMenuItems(t){this.deprecatedUpdateGridOption("getContextMenuItems",t)}setGetMainMenuItems(t){this.deprecatedUpdateGridOption("getMainMenuItems",t)}setProcessCellForClipboard(t){this.deprecatedUpdateGridOption("processCellForClipboard",t)}setSendToClipboard(t){this.deprecatedUpdateGridOption("sendToClipboard",t)}setProcessCellFromClipboard(t){this.deprecatedUpdateGridOption("processCellFromClipboard",t)}setProcessPivotResultColDef(t){this.deprecatedUpdateGridOption("processPivotResultColDef",t)}setProcessPivotResultColGroupDef(t){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",t)}setPostProcessPopup(t){this.deprecatedUpdateGridOption("postProcessPopup",t)}setInitialGroupOrderComparator(t){this.deprecatedUpdateGridOption("initialGroupOrderComparator",t)}setGetChartToolbarItems(t){this.deprecatedUpdateGridOption("getChartToolbarItems",t)}setPaginationNumberFormatter(t){this.deprecatedUpdateGridOption("paginationNumberFormatter",t)}setGetServerSideGroupLevelParams(t){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",t)}setIsServerSideGroupOpenByDefault(t){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",t)}setIsApplyServerSideTransaction(t){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",t)}setIsServerSideGroup(t){this.deprecatedUpdateGridOption("isServerSideGroup",t)}setGetServerSideGroupKey(t){this.deprecatedUpdateGridOption("getServerSideGroupKey",t)}setGetRowStyle(t){this.deprecatedUpdateGridOption("getRowStyle",t)}setGetRowHeight(t){this.deprecatedUpdateGridOption("getRowHeight",t)}};N([Cr("csvCreator")],Zi.prototype,"csvCreator",2),N([Cr("excelCreator")],Zi.prototype,"excelCreator",2),N([K("rowRenderer")],Zi.prototype,"rowRenderer",2),N([K("navigationService")],Zi.prototype,"navigationService",2),N([K("filterManager")],Zi.prototype,"filterManager",2),N([K("columnModel")],Zi.prototype,"columnModel",2),N([K("selectionService")],Zi.prototype,"selectionService",2),N([K("gridOptionsService")],Zi.prototype,"gos",2),N([K("valueService")],Zi.prototype,"valueService",2),N([K("alignedGridsService")],Zi.prototype,"alignedGridsService",2),N([K("eventService")],Zi.prototype,"eventService",2),N([K("pinnedRowModel")],Zi.prototype,"pinnedRowModel",2),N([K("context")],Zi.prototype,"context",2),N([K("rowModel")],Zi.prototype,"rowModel",2),N([K("sortController")],Zi.prototype,"sortController",2),N([K("paginationProxy")],Zi.prototype,"paginationProxy",2),N([K("focusService")],Zi.prototype,"focusService",2),N([K("dragAndDropService")],Zi.prototype,"dragAndDropService",2),N([Cr("rangeService")],Zi.prototype,"rangeService",2),N([Cr("clipboardService")],Zi.prototype,"clipboardService",2),N([Cr("aggFuncService")],Zi.prototype,"aggFuncService",2),N([K("menuService")],Zi.prototype,"menuService",2),N([K("valueCache")],Zi.prototype,"valueCache",2),N([K("animationFrameService")],Zi.prototype,"animationFrameService",2),N([Cr("statusBarService")],Zi.prototype,"statusBarService",2),N([Cr("chartService")],Zi.prototype,"chartService",2),N([Cr("undoRedoService")],Zi.prototype,"undoRedoService",2),N([Cr("rowNodeBlockLoader")],Zi.prototype,"rowNodeBlockLoader",2),N([Cr("ssrmTransactionManager")],Zi.prototype,"serverSideTransactionManager",2),N([K("ctrlsService")],Zi.prototype,"ctrlsService",2),N([K("overlayService")],Zi.prototype,"overlayService",2),N([Cr("sideBarService")],Zi.prototype,"sideBarService",2),N([K("stateService")],Zi.prototype,"stateService",2),N([K("expansionService")],Zi.prototype,"expansionService",2),N([K("apiEventService")],Zi.prototype,"apiEventService",2),N([K("frameworkOverrides")],Zi.prototype,"frameworkOverrides",2),N([tn],Zi.prototype,"init",1),Zi=N([In("gridApi")],Zi);var ku=class extends Jt{constructor(){super(...arguments),this.quickFilter=null,this.quickFilterParts=null}postConstruct(){this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VISIBLE,()=>{this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",t=>this.setQuickFilter(t.currentValue)),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",()=>this.onIncludeHiddenColumnsInQuickFilterChanged()),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}isQuickFilterPresent(){return null!==this.quickFilter}doesRowPassQuickFilter(t){const e=this.gridOptionsService.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(e,t):this.quickFilterParts.every(n=>e?this.doesRowPassQuickFilterCache(t,n):this.doesRowPassQuickFilterNoCache(t,n))}resetQuickFilterCache(){this.rowModel.forEachNode(t=>t.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:t,parser:e}=this;this.quickFilterParts=t?e?e(t):t.split(" "):null}parseQuickFilter(t){return $t(t)?this.gridOptionsService.isRowModelType("clientSide")?t.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(t){if(null!=t&&"string"!=typeof t)return void console.warn("AG Grid - Grid option quickFilterText only supports string inputs, received: "+typeof t);const e=this.parseQuickFilter(t);this.quickFilter!==e&&(this.quickFilter=e,this.setQuickFilterParts(),this.dispatchEvent({type:ku.EVENT_QUICK_FILTER_CHANGED}))}setQuickFilterParserAndMatcher(){const t=this.gridOptionsService.get("quickFilterParser"),e=this.gridOptionsService.get("quickFilterMatcher"),n=t!==this.parser||e!==this.matcher;this.parser=t,this.matcher=e,n&&(this.setQuickFilterParts(),this.dispatchEvent({type:ku.EVENT_QUICK_FILTER_CHANGED}))}onIncludeHiddenColumnsInQuickFilterChanged(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:ku.EVENT_QUICK_FILTER_CHANGED})}doesRowPassQuickFilterNoCache(t,e){return this.columnModel.getAllColumnsForQuickFilter().some(i=>{const r=this.getQuickFilterTextForColumn(i,t);return $t(r)&&r.indexOf(e)>=0})}doesRowPassQuickFilterCache(t,e){return this.checkGenerateQuickFilterAggregateText(t),t.quickFilterAggregateText.indexOf(e)>=0}doesRowPassQuickFilterMatcher(t,e){let n;t?(this.checkGenerateQuickFilterAggregateText(e),n=e.quickFilterAggregateText):n=this.getQuickFilterAggregateText(e);const{quickFilterParts:i,matcher:r}=this;return r(i,n)}checkGenerateQuickFilterAggregateText(t){t.quickFilterAggregateText||(t.quickFilterAggregateText=this.getQuickFilterAggregateText(t))}getQuickFilterTextForColumn(t,e){let n=this.valueService.getValue(t,e,!0);const i=t.getColDef();if(i.getQuickFilterText){const r=this.gridOptionsService.addGridCommonParams({value:n,node:e,data:e.data,column:t,colDef:i});n=i.getQuickFilterText(r)}return $t(n)?n.toString().toUpperCase():null}getQuickFilterAggregateText(t){const e=[];return this.columnModel.getAllColumnsForQuickFilter().forEach(i=>{const r=this.getQuickFilterTextForColumn(i,t);$t(r)&&e.push(r)}),e.join(ku.QUICK_FILTER_SEPARATOR)}};ku.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged",ku.QUICK_FILTER_SEPARATOR="\n",N([K("valueService")],ku.prototype,"valueService",2),N([K("columnModel")],ku.prototype,"columnModel",2),N([K("rowModel")],ku.prototype,"rowModel",2),N([tn],ku.prototype,"postConstruct",1),ku=N([In("quickFilterService")],ku);var Sh=class extends Jt{constructor(){super(...arguments),this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue=[]}init(){var t,e,n;this.addManagedListener(this.eventService,W.EVENT_GRID_COLUMNS_CHANGED,()=>this.onColumnsChanged()),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VALUE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VISIBLE,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,W.EVENT_ROW_DATA_UPDATED,()=>this.onNewRowsLoaded("rowDataUpdated")),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",i=>this.setAdvancedFilterModel(i.currentValue)),this.addManagedListener(this.eventService,W.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,({enabled:i})=>this.onAdvancedFilterEnabledChanged(i)),this.addManagedListener(this.eventService,W.EVENT_DATA_TYPES_INFERRED,()=>this.processFilterModelUpdateQueue()),this.addManagedListener(this.quickFilterService,ku.EVENT_QUICK_FILTER_CHANGED,()=>this.onFilterChanged({source:"quickFilter"})),this.initialFilterModel=Qn({},null!=(n=null==(e=null==(t=this.gridOptionsService.get("initialState"))?void 0:t.filter)?void 0:e.filterModel)?n:{})}isExternalFilterPresentCallback(){const t=this.gridOptionsService.getCallback("isExternalFilterPresent");return"function"==typeof t&&t({})}doesExternalFilterPass(t){const e=this.gridOptionsService.get("doesExternalFilterPass");return"function"==typeof e&&e(t)}setFilterModel(t,e="api"){if(this.isAdvancedFilterEnabled())return void this.warnAdvancedFilters();if(this.dataTypeService.isPendingInference())return void this.filterModelUpdateQueue.push({model:t,source:e});const n=[],i=this.getFilterModel();if(t){const r=tq(Object.keys(t));this.allColumnFilters.forEach((s,o)=>{n.push(this.setModelOnFilterWrapper(s.filterPromise,t[o])),r.delete(o)}),r.forEach(s=>{const o=this.columnModel.getPrimaryColumn(s)||this.columnModel.getGridColumn(s);if(!o)return void console.warn("AG Grid: setFilterModel() - no column found for colId: "+s);if(!o.isFilterAllowed())return void console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+s);const c=this.getOrCreateFilterWrapper(o,"NO_UI");c?n.push(this.setModelOnFilterWrapper(c.filterPromise,t[s])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+s)})}else this.allColumnFilters.forEach(r=>{n.push(this.setModelOnFilterWrapper(r.filterPromise,null))});Fu.all(n).then(()=>{const r=this.getFilterModel(),s=[];this.allColumnFilters.forEach((o,c)=>{qi.jsonEquals(i?i[c]:null,r?r[c]:null)||s.push(o.column)}),s.length>0&&this.onFilterChanged({columns:s,source:e})})}setModelOnFilterWrapper(t,e){return new Fu(n=>{t.then(i=>{"function"!=typeof i.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),n()),(i.setModel(e)||Fu.resolve()).then(()=>n())})})}getFilterModel(){const t={};return this.allColumnFilters.forEach((e,n)=>{const i=this.getModelFromFilterWrapper(e);$t(i)&&(t[n]=i)}),t}getModelFromFilterWrapper(t){var e;const i=t.filterPromise.resolveNow(null,r=>r);return null==i?null!=(e=this.initialFilterModel[t.column.getColId()])?e:null:"function"!=typeof i.getModel?(console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel"),null):i.getModel()}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(t){var e;t?this.allColumnFilters.size&&(this.allColumnFilters.forEach(n=>this.disposeFilterWrapper(n,"advancedFilterEnabled")),this.onFilterChanged({source:"advancedFilter"})):null!=(e=this.advancedFilterService)&&e.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var t;return!(null==(t=this.advancedFilterService)||!t.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}doAggregateFiltersPass(t,e){return this.doColumnFiltersPass(t,e,!0)}updateActiveFilters(){this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;const t=i=>!!i&&(i.isFilterActive?i.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1)),e=!!this.gridOptionsService.getGroupAggFiltering(),n=i=>{if(!i.isPrimary())return!0;const s=!this.columnModel.isPivotActive();return!(!i.isValueActive()||!s)&&(!!this.columnModel.isPivotMode()||e)};this.allColumnFilters.forEach(i=>{if(i.filterPromise.resolveNow(!1,t)){const r=i.filterPromise.resolveNow(null,s=>s);n(i.column)?this.activeAggregateFilters.push(r):this.activeColumnFilters.push(r)}})}updateFilterFlagInColumns(t,e){this.allColumnFilters.forEach(n=>{const i=n.filterPromise.resolveNow(!1,r=>r.isFilterActive());n.column.setFilterActive(i,t,e)})}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}doColumnFiltersPass(t,e,n){const{data:i,aggData:r}=t,s=n?this.activeAggregateFilters:this.activeColumnFilters,o=n?r:i;for(let c=0;c<s.length;c++){const h=s[c];if(null!=h&&h!==e){if("function"!=typeof h.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!h.doesFilterPass({node:t,data:o}))return!1}}return!0}resetQuickFilterCache(){this.quickFilterService.resetQuickFilterCache()}refreshFiltersForAggregations(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()}callOnFilterChangedOutsideRenderCycle(t){const e=()=>this.onFilterChanged(t);this.rowRenderer.isRefreshInProgress()?setTimeout(e,0):e()}onFilterChanged(t={}){const{source:e,filterInstance:n,additionalEventAttributes:i,columns:r}=t;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",i),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(o=>{o.filterPromise&&o.filterPromise.then(c=>{c&&c!==n&&c.onAnyFilterChanged&&c.onAnyFilterChanged()})});const s={source:e,type:W.EVENT_FILTER_CHANGED,columns:r||[]};i&&_d(s,i),this.processingFilterChange=!0,this.eventService.dispatchEvent(s),this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){var t;return!(null!=(t=this.gridOptionsService.get("allowShowChangeAfterFilter"))&&t)&&this.processingFilterChange}isQuickFilterPresent(){return this.quickFilterService.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())}doesRowPassOtherFilters(t,e){return this.doesRowPassFilter({rowNode:e,filterInstanceToSkip:t})}doesRowPassAggregateFilters(t){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(t.rowNode,t.filterInstanceToSkip))}doesRowPassFilter(t){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(t.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(t.rowNode,t.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(t.rowNode))}onNewRowsLoaded(t){this.allColumnFilters.forEach(e=>{e.filterPromise.then(n=>{n.onNewRowsLoaded&&n.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(t,{afterDataChange:!0}),this.updateActiveFilters()}createValueGetter(t){return({node:e})=>this.valueService.getValue(t,e,!0)}createGetValue(t){return(e,n)=>{const i=n?this.columnModel.getGridColumn(n):t;return i?this.valueService.getValue(i,e,!0):void 0}}getFilterComponent(t,e,n=!0){var i;if(n)return(null==(i=this.getOrCreateFilterWrapper(t,e))?void 0:i.filterPromise)||null;const r=this.cachedFilter(t);return r?r.filterPromise:null}isFilterActive(t){const e=this.cachedFilter(t);return!!e&&e.filterPromise.resolveNow(!1,n=>n.isFilterActive())}getOrCreateFilterWrapper(t,e){if(!t.isFilterAllowed())return null;let n=this.cachedFilter(t);return n?"NO_UI"!==e&&this.putIntoGui(n,e):(n=this.createFilterWrapper(t,e),this.setColumnFilterWrapper(t,n)),n}cachedFilter(t){return this.allColumnFilters.get(t.getColId())}getDefaultFilter(t){let e;if(Hr.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))e="agSetColumnFilter";else{const n=this.dataTypeService.getBaseDataType(t);e="number"===n?"agNumberColumnFilter":"date"===n||"dateString"===n?"agDateColumnFilter":"agTextColumnFilter"}return e}getDefaultFloatingFilter(t){let e;if(Hr.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))e="agSetColumnFloatingFilter";else{const n=this.dataTypeService.getBaseDataType(t);e="number"===n?"agNumberColumnFloatingFilter":"date"===n||"dateString"===n?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return e}createFilterInstance(t){const e=this.getDefaultFilter(t),n=t.getColDef();let i;const r=Is(Qn({},this.createFilterParams(t,n)),{filterModifiedCallback:()=>this.filterModifiedCallbackFactory(i,t)(),filterChangedCallback:o=>this.filterChangedCallbackFactory(i,t)(o),doesRowPassOtherFilter:o=>this.doesRowPassOtherFilters(i,o)}),s=this.userComponentFactory.getFilterDetails(n,r,e);return s?{filterPromise:()=>{const o=s.newAgStackInstance();return o&&o.then(c=>i=c),o},compDetails:s}:{filterPromise:null,compDetails:null}}createFilterParams(t,e){return this.gridOptionsService.addGridCommonParams({column:t,colDef:o9(e),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(t),getValue:this.createGetValue(t),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(t,e){var n;const i={column:t,filterPromise:null,compiledElement:null,guiPromise:Fu.resolve(null),compDetails:null},{filterPromise:r,compDetails:s}=this.createFilterInstance(t);return i.filterPromise=null!=(n=r?.())?n:null,i.compDetails=s,r&&this.putIntoGui(i,e),i}putIntoGui(t,e){const n=document.createElement("div");n.className="ag-filter",t.guiPromise=new Fu(i=>{t.filterPromise.then(r=>{let s=r.getGui();$t(s)||console.warn(`AG Grid: getGui method from filter returned ${s}, it should be a DOM element or an HTML template string.`),"string"==typeof s&&(s=Ou(s)),n.appendChild(s),i(n),this.eventService.dispatchEvent({type:W.EVENT_FILTER_OPENED,column:t.column,source:e,eGui:n})})})}onColumnsChanged(){const t=[];this.allColumnFilters.forEach((e,n)=>{let i;i=e.column.isPrimary()?this.columnModel.getPrimaryColumn(n):this.columnModel.getGridColumn(n),!i&&(t.push(e.column),this.disposeFilterWrapper(e,"columnChanged"),this.disposeColumnListener(n))}),t.length>0?this.onFilterChanged({columns:t,source:"api"}):this.updateDependantFilters()}updateDependantFilters(){const t=this.columnModel.getGroupAutoColumns();t?.forEach(e=>{"agGroupColumnFilter"===e.getColDef().filter&&this.getOrCreateFilterWrapper(e,"NO_UI")})}isFilterAllowed(t){var e,n;if(this.isAdvancedFilterEnabled()||!t.isFilterAllowed())return!1;const r=this.allColumnFilters.get(t.getColId());return null==(n=null==(e=r?.filterPromise)?void 0:e.resolveNow(!0,s=>"function"!=typeof s?.isFilterAllowed||s?.isFilterAllowed()))||n}getFloatingFilterCompDetails(t,e){const n=h=>{const p=this.getFilterComponent(t,"NO_UI");p?.then(m=>{h(CE(m))})},i=t.getColDef(),r=Is(Qn({},this.createFilterParams(t,i)),{filterChangedCallback:()=>n(h=>this.filterChangedCallbackFactory(h,t)())}),s=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(i,pq,r);let o=this.userComponentFactory.getDefaultFloatingFilterType(i,()=>this.getDefaultFloatingFilter(t));return null==o&&(o="agReadOnlyFloatingFilter"),this.userComponentFactory.getFloatingFilterCompDetails(i,{column:t,filterParams:s,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(t),parentFilterInstance:n,showParentFilter:e,suppressFilterButton:!1},o)}getCurrentFloatingFilterParentModel(t){const e=this.getFilterComponent(t,"NO_UI",!1);return e?e.resolveNow(null,n=>n&&n.getModel()):null}destroyFilter(t,e="api"){const n=t.getColId(),i=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialFilterModel[n],i&&(this.disposeFilterWrapper(i,e),this.onFilterChanged({columns:[t],source:"api"}))}disposeColumnListener(t){const e=this.allColumnListeners.get(t);e&&(this.allColumnListeners.delete(t),e())}disposeFilterWrapper(t,e){t.filterPromise.then(n=>{this.getContext().destroyBean(n),t.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(t.column.getColId()),this.eventService.dispatchEvent({type:W.EVENT_FILTER_DESTROYED,source:e,column:t.column})})}filterModifiedCallbackFactory(t,e){return()=>{this.eventService.dispatchEvent({type:W.EVENT_FILTER_MODIFIED,column:e,filterInstance:t})}}filterChangedCallbackFactory(t,e){return n=>{var i;const r=null!=(i=n?.source)?i:"api";this.callOnFilterChangedOutsideRenderCycle({filter:t,additionalEventAttributes:n,columns:[e],source:r})}}checkDestroyFilter(t){const e=this.allColumnFilters.get(t);if(!e)return;const n=e.column,{compDetails:i}=n.isFilterAllowed()?this.createFilterInstance(n):{compDetails:null};if(this.areFilterCompsDifferent(e.compDetails,i))return void this.destroyFilter(n,"paramsUpdated");const r=n.getColDef().filterParams;e.filterPromise?e.filterPromise.then(s=>{!1===(!s?.refresh||s.refresh(Qn(Is(Qn({},this.createFilterParams(n,n.getColDef())),{filterModifiedCallback:this.filterModifiedCallbackFactory(s,n),filterChangedCallback:this.filterChangedCallbackFactory(s,n),doesRowPassOtherFilter:c=>this.doesRowPassOtherFilters(s,c)}),r)))&&this.destroyFilter(n,"paramsUpdated")}):this.destroyFilter(n,"paramsUpdated")}setColumnFilterWrapper(t,e){const n=t.getColId();this.allColumnFilters.set(n,e),this.allColumnListeners.set(n,this.addManagedListener(t,ts.EVENT_COL_DEF_CHANGED,()=>this.checkDestroyFilter(n)))}areFilterCompsDifferent(t,e){if(!e||!t)return!0;const{componentClass:n}=t,{componentClass:i}=e;return!(n===i||n?.render&&i?.render&&n.render===i.render)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(t){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService.isPendingInference())return void this.advancedFilterModelUpdateQueue.push(t);this.advancedFilterService.setModel(t??null),this.onFilterChanged({source:"advancedFilter"})}}showAdvancedFilterBuilder(t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(t,!0)}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return!this.isAdvancedFilterEnabled()&&this.columnModel.getAllGridColumns().some(e=>e.getColDef().floatingFilter)}getFilterInstance(t,e){if(this.isAdvancedFilterEnabled())return void this.warnAdvancedFilters();const n=this.getFilterInstanceImpl(t,r=>{if(!e)return;const s=CE(r);e(s)});return CE(n)}getColumnFilterInstance(t){return new Promise(e=>{this.getFilterInstance(t,n=>{e(n)})})}getFilterInstanceImpl(t,e){const n=this.columnModel.getPrimaryColumn(t);if(!n)return;const i=this.getFilterComponent(n,"NO_UI"),r=i&&i.resolveNow(null,s=>s);return r?setTimeout(e,0,r):i&&i.then(s=>{e(s)}),r}warnAdvancedFilters(){li("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(t){var e;null==(e=this.advancedFilterService)||e.getCtrl().setupHeaderComp(t)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:t,source:e})=>this.setFilterModel(t,e)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:t,model:e,resolve:n})=>{this.setColumnFilterModel(t,e).then(()=>n())}),this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach(t=>this.setAdvancedFilterModel(t)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(t){const e=this.getFilterWrapper(t);return e?this.getModelFromFilterWrapper(e):null}setColumnFilterModel(t,e){if(this.isAdvancedFilterEnabled())return this.warnAdvancedFilters(),Promise.resolve();if(this.dataTypeService.isPendingInference()){let s=()=>{};const o=new Promise(c=>{s=c});return this.columnFilterModelUpdateQueue.push({key:t,model:e,resolve:s}),o}const n=this.columnModel.getPrimaryColumn(t),i=n?this.getOrCreateFilterWrapper(n,"NO_UI"):null;return i?(s=this.setModelOnFilterWrapper(i.filterPromise,e),new Promise(o=>{s.then(c=>o(c))})):Promise.resolve();var s}getFilterWrapper(t){var e;const n=this.columnModel.getPrimaryColumn(t);return n&&null!=(e=this.cachedFilter(n))?e:null}destroy(){super.destroy(),this.allColumnFilters.forEach(t=>this.disposeFilterWrapper(t,"gridDestroyed")),this.allColumnListeners.clear()}};N([K("valueService")],Sh.prototype,"valueService",2),N([K("columnModel")],Sh.prototype,"columnModel",2),N([K("rowModel")],Sh.prototype,"rowModel",2),N([K("userComponentFactory")],Sh.prototype,"userComponentFactory",2),N([K("rowRenderer")],Sh.prototype,"rowRenderer",2),N([K("dataTypeService")],Sh.prototype,"dataTypeService",2),N([K("quickFilterService")],Sh.prototype,"quickFilterService",2),N([Cr("advancedFilterService")],Sh.prototype,"advancedFilterService",2),N([tn],Sh.prototype,"init",1),Sh=N([In("filterManager")],Sh);var mq=class extends Ti{constructor(t,e){super(t),this.ctrl=e}getCtrl(){return this.ctrl}},wE=class eve extends mq{constructor(e){super(eve.TEMPLATE,e)}postConstruct(){const e=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:(i,r)=>this.addOrRemoveCssClass(i,r),addOrRemoveBodyCssClass:(i,r)=>this.eFloatingFilterBody.classList.toggle(i,r),setButtonWrapperDisplayed:i=>rr(this.eButtonWrapper,i),setCompDetails:i=>this.setCompDetails(i),getFloatingFilterComp:()=>this.compPromise,setWidth:i=>e.style.width=i,setMenuIcon:i=>this.eButtonShowMainFilter.appendChild(i)},e,this.eButtonShowMainFilter,this.eFloatingFilterBody)}setCompDetails(e){if(!e)return this.destroyFloatingFilterComp(),void(this.compPromise=null);this.compPromise=e.newAgStackInstance(),this.compPromise.then(n=>this.afterCompCreated(n))}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive())return void this.destroyBean(e);this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}};wE.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',N([fn("eFloatingFilterBody")],wE.prototype,"eFloatingFilterBody",2),N([fn("eButtonWrapper")],wE.prototype,"eButtonWrapper",2),N([fn("eButtonShowMainFilter")],wE.prototype,"eButtonShowMainFilter",2),N([tn],wE.prototype,"postConstruct",1),N([zc],wE.prototype,"destroyFloatingFilterComp",1);var vPe=wE,a5=class extends Jt{constructor(t){super(),this.view=t}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const t=this.getDomLayout(),e={autoHeight:"autoHeight"===t,normal:"normal"===t,print:"print"===t};this.view.updateLayoutClasses(e.autoHeight?"ag-layout-auto-height":e.print?"ag-layout-print":"ag-layout-normal",e)}getDomLayout(){var t;const e=null!=(t=this.gridOptionsService.get("domLayout"))?t:"normal";return-1===["normal","print","autoHeight"].indexOf(e)?(li(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}};N([tn],a5.prototype,"postConstruct",1);var Nv=class extends Jt{constructor(t){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=t,this.resetLastHScrollDebounced=Wc(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=Wc(()=>this.lastScrollSource[0]=null,500)}postConstruct(){this.enableRtl=this.gridOptionsService.get("enableRtl"),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(t=>{this.centerRowContainerCtrl=t.centerRowContainerCtrl,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){const t=this.ctrlsService.getFakeHScrollComp(),e=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),t.onScrollCallback(this.onFakeHScroll.bind(this));const n=this.gridOptionsService.get("debounceVerticalScrollbar"),i=n?Wc(this.onVScroll.bind(this),100):this.onVScroll.bind(this),r=n?Wc(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",i),e.onScrollCallback(r)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(t){if(null==this.centerRowContainerCtrl)return;void 0===t&&(t=this.centerRowContainerCtrl.getCenterViewportScrollLeft());const n=this.enableRtl?t:-t,i=this.ctrlsService.getTopCenterRowContainerCtrl(),r=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),s=this.ctrlsService.getBottomCenterRowContainerCtrl(),o=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(-n),s.setContainerTranslateX(n),i.setContainerTranslateX(n),r.setContainerTranslateX(n);const h=this.centerRowContainerCtrl.getViewportElement(),p=0===this.lastScrollSource[1];t=Math.abs(t),p?o.setScrollPosition(t):jP(h,t,this.enableRtl)}isControllingScroll(t,e){return null==this.lastScrollSource[e]?(this.lastScrollSource[e]=t,!0):this.lastScrollSource[e]===t}onFakeHScroll(){this.isControllingScroll(1,1)&&this.onHScrollCommon(1)}onHScroll(){this.isControllingScroll(0,1)&&this.onHScrollCommon(0)}onHScrollCommon(t){const e=this.centerRowContainerCtrl.getViewportElement(),{scrollLeft:n}=e;if(this.shouldBlockScrollUpdate(1,n,!0))return;let i;i=0===t?zP(e,this.enableRtl):this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(i)),this.resetLastHScrollDebounced()}onFakeVScroll(){this.isControllingScroll(1,0)&&this.onVScrollCommon(1)}onVScroll(){this.isControllingScroll(0,0)&&this.onVScrollCommon(0)}onVScrollCommon(t){let e;e=0===t?this.eBodyViewport.scrollTop:this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(0,e,!0)&&(this.animationFrameService.setScrollTop(e),this.nextScrollTop=e,0===t?this.ctrlsService.getFakeVScrollComp().setScrollPosition(e):this.eBodyViewport.scrollTop=e,this.gridOptionsService.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(t){const e=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===t&&t===e||(this.scrollLeft=t,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(t){const e={type:W.EVENT_BODY_SCROLL,direction:1===t?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(e),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{const n=Is(Qn({},e),{type:W.EVENT_BODY_SCROLL_END});this.eventService.dispatchEvent(n)},100)}shouldBlockScrollUpdate(t,e,n=!1){return!(n&&!xv())&&(0===t?this.shouldBlockVerticalScroll(e):this.shouldBlockHorizontalScroll(e))}shouldBlockVerticalScroll(t){const e=HP(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return t<0||t+e>n}shouldBlockHorizontalScroll(t){const e=this.centerRowContainerCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowContainerCtrl.getViewportElement();if(this.enableRtl&&WP()){if(t>0)return!0}else if(t<0)return!0;return Math.abs(t)+e>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(0)}scrollGridIfNeeded(){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(t,e=!1){const i=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!e&&this.shouldBlockScrollUpdate(1,t)&&(t=this.enableRtl&&WP()?t>0?0:i:Math.min(Math.max(t,0),i)),jP(this.centerRowContainerCtrl.getViewportElement(),Math.abs(t),this.enableRtl),this.doHorizontalScroll(t)}setVerticalScrollPosition(t){this.eBodyViewport.scrollTop=t}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowContainerCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()}scrollHorizontally(t){const e=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(e+t),this.centerRowContainerCtrl.getViewportElement().scrollLeft-e}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(t,e=null){const n=this.rowModel.getRowCount();let i=-1;for(let r=0;r<n;r++){const s=this.rowModel.getRow(r);if("function"==typeof t){if(s&&t(s)){i=r;break}}else if(t===s||t===s.data){i=r;break}}i>=0&&this.ensureIndexVisible(i,e)}ensureIndexVisible(t,e){if(this.gridOptionsService.isDomLayout("print"))return;const n=this.paginationProxy.getRowCount();if("number"!=typeof t||t<0||t>=n)return void console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+t);const r=this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{r||this.paginationProxy.goToPageWithIndex(t);const o=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),c=this.paginationProxy.getRow(t);let h;do{const p=c.rowTop,m=c.rowHeight,y=this.paginationProxy.getPixelOffset(),I=c.rowTop-y,L=I+c.rowHeight,U=this.getVScrollPosition(),X=this.heightScaler.getDivStretchOffset(),Q=U.top+X,pe=U.bottom+X,Te=pe-Q,Le=this.heightScaler.getScrollPositionForPixel(I),tt=this.heightScaler.getScrollPositionForPixel(L-Te),zt=Math.min((Le+tt)/2,I);let me=null;"top"===e?me=Le:"bottom"===e?me=tt:"middle"===e?me=zt:Q+o>I?me=Le-o:pe<L&&(me=tt),null!==me&&(this.setVerticalScrollPosition(me),this.rowRenderer.redraw({afterScroll:!0})),h=p!==c.rowTop||m!==c.rowHeight}while(h);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(t,e="auto"){const n=this.columnModel.getGridColumn(t);if(!n||n.isPinned()||!this.columnModel.isColumnDisplayed(n))return;const i=this.getPositionedHorizontalScroll(n,e);this.getFrameworkOverrides().wrapIncoming(()=>{null!==i&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(i),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(t,e){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowContainerCtrl.setCenterViewportScrollLeft(e),this.setVerticalScrollPosition(t),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(t,e){const{columnBeforeStart:n,columnAfterEnd:i}=this.isColumnOutsideViewport(t),r=this.centerRowContainerCtrl.getCenterWidth()<t.getActualWidth(),s=this.centerRowContainerCtrl.getCenterWidth(),o=this.enableRtl;let c=(o?n:i)||r,h=o?i:n;"auto"!==e&&(c="start"===e,h="end"===e);const p="middle"===e;if(c||h||p){const{colLeft:m,colMiddle:y,colRight:I}=this.getColumnBounds(t);return p?y-s/2:c?o?I:m:o?m-s:I-s}return null}isColumnOutsideViewport(t){const{start:e,end:n}=this.getViewportBounds(),{colLeft:i,colRight:r}=this.getColumnBounds(t),s=this.enableRtl;return{columnBeforeStart:s?e>r:n<r,columnAfterEnd:s?n<i:e>i}}getColumnBounds(t){const e=this.enableRtl,n=this.columnModel.getBodyContainerWidth(),i=t.getActualWidth(),r=t.getLeft(),s=e?-1:1,o=e?n-r:r;return{colLeft:o,colMiddle:o+i/2*s,colRight:o+i*s}}getViewportBounds(){const t=this.centerRowContainerCtrl.getCenterWidth(),e=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:e,end:t+e,width:t}}};N([K("ctrlsService")],Nv.prototype,"ctrlsService",2),N([K("animationFrameService")],Nv.prototype,"animationFrameService",2),N([K("paginationProxy")],Nv.prototype,"paginationProxy",2),N([K("rowModel")],Nv.prototype,"rowModel",2),N([K("rowContainerHeightService")],Nv.prototype,"heightScaler",2),N([K("rowRenderer")],Nv.prototype,"rowRenderer",2),N([K("columnModel")],Nv.prototype,"columnModel",2),N([tn],Nv.prototype,"postConstruct",1);var Iue="ag-force-vertical-scroll",$c=class extends Jt{constructor(){super(...arguments),this.stickyTopHeight=0}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(t,e,n,i,r,s){this.comp=t,this.eGridBody=e,this.eBodyViewport=n,this.eTop=i,this.eBottom=r,this.eStickyTop=s,this.setCellTextSelection(this.gridOptionsService.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",o=>this.setCellTextSelection(o.currentValue)),this.createManagedBean(new a5(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Nv(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,n,r,s]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(i),this.ctrlsService.registerGridBodyCtrl(this)}getComp(){return this.comp}addEventListeners(){this.addManagedListener(this.eventService,W.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}addFocusListeners(t){t.forEach(e=>{this.addManagedListener(e,"focusin",n=>{const{target:i}=n,r=fE(i,"ag-root",e);e.classList.toggle("ag-has-focus",!r)}),this.addManagedListener(e,"focusout",n=>{const{target:i,relatedTarget:r}=n,s=e.contains(r),o=fE(r,"ag-root",e);fE(i,"ag-root",e)||(!s||o)&&e.classList.remove("ag-has-focus")})})}setColumnMovingCss(t){this.comp.setColumnMovingCss("ag-column-moving",t)}setCellTextSelection(t=!1){this.comp.setCellSelectableCss("ag-selectable",t)}onScrollVisibilityChanged(){const t=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(t),this.setStickyTopWidth(t);const i=`calc(100% + ${(t&&this.gridOptionsService.getScrollbarWidth()||0)+(B9()?16:0)}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(i))}onGridColumnsChanged(){const t=this.columnModel.getAllGridColumns();this.comp.setColumnCount(t.length)}disableBrowserDragging(){this.addManagedListener(this.eGridBody,"dragstart",t=>{if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1})}addStopEditingWhenGridLosesFocus(){if(!this.gridOptionsService.get("stopEditingWhenCellsLoseFocus"))return;const t=n=>{const i=n.relatedTarget;if(null===$V(i))return void this.rowRenderer.stopEditing();let r=e.some(s=>s.contains(i))&&this.mouseEventService.isElementInThisGrid(i);if(!r){const s=this.popupService;r=s.getActivePopups().some(o=>o.contains(i))||s.isElementWithinCustomPopup(i)}r||this.rowRenderer.stopEditing()},e=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];e.forEach(n=>this.addManagedListener(n,"focusout",t))}updateRowCount(){const t=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),e=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1;this.comp.setRowCount(-1===e?-1:t+e)}registerBodyViewportResizeListener(t){this.comp.registerBodyViewportResizeListener(t)}setVerticalScrollPaddingVisible(t){this.comp.setPinnedTopBottomOverflowY(t?"scroll":"hidden")}isVerticalScrollShowing(){const t=this.gridOptionsService.get("alwaysShowVerticalScroll"),e=t?Iue:null,n=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(e,t),t||n&&Rce(this.eBodyViewport)}setupRowAnimationCssClass(){const t=()=>{const e=this.gridOptionsService.isAnimateRows()&&!this.rowContainerHeightService.isStretching();this.comp.setRowAnimationCssOnBodyViewport(e?"ag-row-animation":"ag-row-no-animation",e)};t(),this.addManagedListener(this.eventService,W.EVENT_HEIGHT_SCALE_CHANGED,t),this.addManagedPropertyListener("animateRows",t)}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const t=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",t),this.mockContextMenuForIPad(t),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){const t=this.eBodyViewport.querySelector(".ag-full-width-container"),e=this.eBodyViewport.querySelector(".ag-center-cols-viewport");t&&e&&this.addManagedListener(t,"wheel",n=>this.onFullWidthContainerWheel(n,e))}onFullWidthContainerWheel(t,e){!t.deltaX||Math.abs(t.deltaY)>Math.abs(t.deltaX)||!this.mouseEventService.isEventFromThisGrid(t)||(t.preventDefault(),e.scrollBy({left:t.deltaX}))}onBodyViewportContextMenu(t,e,n){if(!t&&!n)return;this.gridOptionsService.get("preventDefaultOnContextMenu")&&(t||n).preventDefault();const{target:i}=t||e;(i===this.eBodyViewport||i===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&this.menuService.showContextMenu({mouseEvent:t,touchEvent:n,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(t){if(!xv())return;const e=new tl(this.eBodyViewport);this.addManagedListener(e,tl.EVENT_LONG_TAP,i=>{t(void 0,i.touchStart,i.touchEvent)}),this.addDestroyFunc(()=>e.destroy())}onBodyViewportWheel(t){this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&t.preventDefault()}onStickyTopWheel(t){t.preventDefault(),t.offsetY&&this.scrollVertically(t.deltaY)}getGui(){return this.eGridBody}scrollVertically(t){const e=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(e+t),this.eBodyViewport.scrollTop-e}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new Cd(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}onPinnedRowDataChanged(){this.setFloatingHeights()}setFloatingHeights(){const{pinnedRowModel:t}=this;let e=t.getPinnedTopTotalHeight(),n=t.getPinnedBottomTotalHeight();this.comp.setTopHeight(e),this.comp.setBottomHeight(n),this.comp.setTopDisplay(e?"inherit":"none"),this.comp.setBottomDisplay(n?"inherit":"none"),this.setStickyTopOffsetTop()}setStickyTopHeight(t=0){this.comp.setStickyTopHeight(`${t}px`),this.stickyTopHeight=t}getStickyTopHeight(){return this.stickyTopHeight}setStickyTopWidth(t){if(t){const e=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${e}px)`)}else this.comp.setStickyTopWidth("100%")}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const e=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight()+this.filterManager.getHeaderHeight(),n=this.pinnedRowModel.getPinnedTopTotalHeight();let i=0;e>0&&(i+=e+1),n>0&&(i+=n+1),this.comp.setStickyTopTop(`${i}px`)}sizeColumnsToFit(t,e){const i=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,s=pE(this.eGridBody)-i;s>0?this.columnModel.sizeColumnsToFit(s,"sizeColumnsToFit",!1,t):void 0===e?window.setTimeout(()=>{this.sizeColumnsToFit(t,100)},0):100===e?window.setTimeout(()=>{this.sizeColumnsToFit(t,500)},100):500===e?window.setTimeout(()=>{this.sizeColumnsToFit(t,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(t){this.eBodyViewport.addEventListener("scroll",t,{passive:!0})}removeScrollEventListener(t){this.eBodyViewport.removeEventListener("scroll",t)}};N([K("animationFrameService")],$c.prototype,"animationFrameService",2),N([K("rowContainerHeightService")],$c.prototype,"rowContainerHeightService",2),N([K("ctrlsService")],$c.prototype,"ctrlsService",2),N([K("columnModel")],$c.prototype,"columnModel",2),N([K("scrollVisibleService")],$c.prototype,"scrollVisibleService",2),N([K("menuService")],$c.prototype,"menuService",2),N([K("headerNavigationService")],$c.prototype,"headerNavigationService",2),N([K("dragAndDropService")],$c.prototype,"dragAndDropService",2),N([K("pinnedRowModel")],$c.prototype,"pinnedRowModel",2),N([K("rowRenderer")],$c.prototype,"rowRenderer",2),N([K("popupService")],$c.prototype,"popupService",2),N([K("mouseEventService")],$c.prototype,"mouseEventService",2),N([K("rowModel")],$c.prototype,"rowModel",2),N([K("filterManager")],$c.prototype,"filterManager",2);var iM="ag-cell-range-selected",MPe=class{constructor(t,e){this.beans=t,this.cellCtrl=e}setComp(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(iM,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(`${iM}-1`,1===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${iM}-2`,2===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${iM}-3`,3===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${iM}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),BI(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const t=this.getRangeBorders(),e=this.isSingleCell(),i=!e&&t.right,r=!e&&t.bottom,s=!e&&t.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!e&&t.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",i),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",r),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",s)}isSingleCell(){const{rangeService:t}=this.beans;return 1===this.rangeCount&&t&&!t.isMoreThanOneCell()}getHasChartRange(){const{rangeService:t}=this.beans;if(!this.rangeCount||!t)return!1;const e=t.getCellRanges();return e.length>0&&e.every(n=>yd([1,0],n.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const t=this.beans.gridOptionsService.get("enableRtl");let e=!1,n=!1,i=!1,r=!1;const s=this.cellCtrl.getCellPosition().column,{rangeService:o,columnModel:c}=this.beans;let h,p;t?(h=c.getDisplayedColAfter(s),p=c.getDisplayedColBefore(s)):(h=c.getDisplayedColBefore(s),p=c.getDisplayedColAfter(s));const m=o.getCellRanges().filter(y=>o.isCellInSpecificRange(this.cellCtrl.getCellPosition(),y));h||(r=!0),p||(n=!0);for(let y=0;y<m.length&&!(e&&n&&i&&r);y++){const I=m[y],L=o.getRangeStartRow(I),U=o.getRangeEndRow(I);!e&&this.beans.rowPositionUtils.sameRow(L,this.cellCtrl.getCellPosition())&&(e=!0),!i&&this.beans.rowPositionUtils.sameRow(U,this.cellCtrl.getCellPosition())&&(i=!0),!r&&h&&I.columns.indexOf(h)<0&&(r=!0),!n&&p&&I.columns.indexOf(p)<0&&(n=!0)}return{top:e,right:n,bottom:i,left:r}}refreshHandle(){if(!this.beans.rangeService||this.beans.context.isDestroyed())return;const t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}shouldHaveSelectionHandle(){const{gridOptionsService:t,rangeService:e}=this.beans,n=e.getCellRanges(),i=n.length;if(this.rangeCount<1||i<1)return!1;const r=Ir(n),s=this.cellCtrl.getCellPosition(),o=t.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),c=t.get("enableRangeHandle");let h=1===i&&!this.cellCtrl.isEditing()&&(o||c);if(this.hasChartRange){const m=1===n[0].type&&e.isCellInSpecificRange(s,n[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",m),h=0===r.type}return h&&null!=r.endRow&&e.isContiguousRange(r)&&e.isBottomRightCell(r,s)}addSelectionHandle(){const{gridOptionsService:t,rangeService:e}=this.beans,n=Ir(e.getCellRanges()).type,r=t.get("enableFillHandle")&&pi(n)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==r&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(r)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},NPe=class extends Jt{constructor(t,e){super(),this.cellCtrl=t,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,W.EVENT_NEW_COLUMNS_LOADED,()=>this.onNewColumnsLoaded())}setComp(t){this.eGui=t,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const t=this.column.getRowSpan(this.rowNode);this.rowSpan!==t&&(this.rowSpan=t,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const t=this.getColSpanningList();fg(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))}onWidthChanged(){if(!this.eGui)return;const t=this.getCellWidth();this.eGui.style.width=`${t}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((t,e)=>t+e.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const t=this.column.getColSpan(this.rowNode),e=[];if(1===t)e.push(this.column);else{let n=this.column;const i=this.column.getPinned();for(let r=0;n&&r<t&&(e.push(n),n=this.beans.columnModel.getDisplayedColAfter(n),n&&!pi(n)&&i===n.getPinned());r++);}return e}onLeftChanged(){if(!this.eGui)return;const t=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=t+"px"}getCellLeft(){let t;return t=this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?Ir(this.colsSpanning):this.column,t.getLeft()}modifyLeftForPrintLayout(t){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return t;const e=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===this.column.getPinned()?e+this.beans.columnModel.getBodyContainerWidth()+(t||0):e+(t||0)}applyRowSpan(t){if(1===this.rowSpan&&!t)return;const n=this.beans.gridOptionsService.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=`${n}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},OPe=class extends Jt{constructor(t,e){super(),this.staticClasses=[],this.cellCtrl=t,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode()}setComp(t){this.cellComp=t,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const t=this.column.getColDef(),{cellClassRules:e}=t,n=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:t,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(e===this.cellClassRules?void 0:this.cellClassRules,e,n,i=>this.cellComp.addOrRemoveCssClass(i,!0),i=>this.cellComp.addOrRemoveCssClass(i,!1)),this.cellClassRules=e}applyUserStyles(){const t=this.column.getColDef();if(!t.cellStyle)return;let e;if("function"==typeof t.cellStyle){const n=this.beans.gridOptionsService.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:t,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex});e=(0,t.cellStyle)(n)}else e=t.cellStyle;e&&this.cellComp.setUserStyles(e)}applyClassesFromColDef(){const t=this.column.getColDef(),e=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:t,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(n=>this.cellComp.addOrRemoveCssClass(n,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(t,e),this.staticClasses.length&&this.staticClasses.forEach(n=>this.cellComp.addOrRemoveCssClass(n,!0))}destroy(){super.destroy()}},Ei=class{postConstruct(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)}};N([K("resizeObserverService")],Ei.prototype,"resizeObserverService",2),N([K("paginationProxy")],Ei.prototype,"paginationProxy",2),N([K("context")],Ei.prototype,"context",2),N([K("columnApi")],Ei.prototype,"columnApi",2),N([K("gridApi")],Ei.prototype,"gridApi",2),N([K("gridOptionsService")],Ei.prototype,"gridOptionsService",2),N([K("expressionService")],Ei.prototype,"expressionService",2),N([K("environment")],Ei.prototype,"environment",2),N([K("rowRenderer")],Ei.prototype,"rowRenderer",2),N([K("templateService")],Ei.prototype,"templateService",2),N([K("valueService")],Ei.prototype,"valueService",2),N([K("eventService")],Ei.prototype,"eventService",2),N([K("columnModel")],Ei.prototype,"columnModel",2),N([K("headerNavigationService")],Ei.prototype,"headerNavigationService",2),N([K("navigationService")],Ei.prototype,"navigationService",2),N([K("columnAnimationService")],Ei.prototype,"columnAnimationService",2),N([Cr("rangeService")],Ei.prototype,"rangeService",2),N([K("focusService")],Ei.prototype,"focusService",2),N([K("popupService")],Ei.prototype,"popupService",2),N([K("valueFormatterService")],Ei.prototype,"valueFormatterService",2),N([K("stylingService")],Ei.prototype,"stylingService",2),N([K("columnHoverService")],Ei.prototype,"columnHoverService",2),N([K("userComponentFactory")],Ei.prototype,"userComponentFactory",2),N([K("userComponentRegistry")],Ei.prototype,"userComponentRegistry",2),N([K("animationFrameService")],Ei.prototype,"animationFrameService",2),N([K("dragService")],Ei.prototype,"dragService",2),N([K("dragAndDropService")],Ei.prototype,"dragAndDropService",2),N([K("sortController")],Ei.prototype,"sortController",2),N([K("filterManager")],Ei.prototype,"filterManager",2),N([K("rowContainerHeightService")],Ei.prototype,"rowContainerHeightService",2),N([K("frameworkOverrides")],Ei.prototype,"frameworkOverrides",2),N([K("cellPositionUtils")],Ei.prototype,"cellPositionUtils",2),N([K("rowPositionUtils")],Ei.prototype,"rowPositionUtils",2),N([K("selectionService")],Ei.prototype,"selectionService",2),N([Cr("selectionHandleFactory")],Ei.prototype,"selectionHandleFactory",2),N([K("rowCssClassCalculator")],Ei.prototype,"rowCssClassCalculator",2),N([K("rowModel")],Ei.prototype,"rowModel",2),N([K("ctrlsService")],Ei.prototype,"ctrlsService",2),N([K("ctrlsFactory")],Ei.prototype,"ctrlsFactory",2),N([K("agStackComponentsRegistry")],Ei.prototype,"agStackComponentsRegistry",2),N([K("valueCache")],Ei.prototype,"valueCache",2),N([K("rowNodeEventThrottle")],Ei.prototype,"rowNodeEventThrottle",2),N([K("localeService")],Ei.prototype,"localeService",2),N([K("valueParserService")],Ei.prototype,"valueParserService",2),N([K("syncService")],Ei.prototype,"syncService",2),N([K("ariaAnnouncementService")],Ei.prototype,"ariaAnnouncementService",2),N([tn],Ei.prototype,"postConstruct",1),Ei=N([In("beans")],Ei);var FPe=class extends Ei{constructor(t,e,n){super(),this.cellCtrl=t,this.beans=e,this.column=n}onMouseEvent(t,e){if(!Mf(e))switch(t){case"click":this.onCellClicked(e);break;case"mousedown":case"touchstart":this.onMouseDown(e);break;case"dblclick":this.onCellDoubleClicked(e);break;case"mouseout":this.onMouseOut(e);break;case"mouseover":this.onMouseOver(e)}}onCellClicked(t){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(t),void t.preventDefault();const{eventService:e,rangeService:n,gridOptionsService:i}=this.beans;n&&(t.ctrlKey||t.metaKey)&&n.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&n.intersectLastRange(!0);const s=this.cellCtrl.createEvent(t,W.EVENT_CELL_CLICKED);e.dispatchEvent(s);const o=this.column.getColDef();o.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{o.onCellClicked(s)})},0),(i.get("singleClickEdit")||o.singleClickEdit)&&!i.get("suppressClickEdit")&&(!t.shiftKey||0==n?.getCellRanges().length)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!xv()||_9("dblclick"))return!1;const t=(new Date).getTime(),e=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,e}onCellDoubleClicked(t){const e=this.column.getColDef(),n=this.cellCtrl.createEvent(t,W.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(n),"function"==typeof e.onCellDoubleClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{e.onCellDoubleClicked(n)})},0),!this.beans.gridOptionsService.get("singleClickEdit")&&!this.beans.gridOptionsService.get("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,t)}onMouseDown(t){const{ctrlKey:e,metaKey:n,shiftKey:i}=t,r=t.target,{cellCtrl:s,beans:o}=this,{eventService:c,rangeService:h,focusService:p}=o;if(this.isRightClickInExistingRange(t))return;const m=h&&0!=h.getCellRanges().length;if(!i||!m){const y=gg()&&!s.isEditing()&&!j9(r);s.focusCell(y)}if(i&&m&&!p.isCellFocused(s.getCellPosition())){t.preventDefault();const y=p.getFocusedCell();if(y){const{column:I,rowIndex:L,rowPinned:U}=y,X=o.rowRenderer.getRowByPosition({rowIndex:L,rowPinned:U}),Q=X?.getCellCtrl(I);Q?.isEditing()&&Q.stopEditing(),p.setFocusedCell({column:I,rowIndex:L,rowPinned:U,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(r)){if(h){const y=this.cellCtrl.getCellPosition();i?h.extendLatestRangeToCell(y):h.setRangeToCell(y,e||n)}c.dispatchEvent(this.cellCtrl.createEvent(t,W.EVENT_CELL_MOUSE_DOWN))}}isRightClickInExistingRange(t){const{rangeService:e}=this.beans;if(e){const n=e.isCellInAnyRange(this.cellCtrl.getCellPosition()),i=2===t.button||t.ctrlKey&&this.beans.gridOptionsService.get("allowContextMenuWithControlKey");if(n&&i)return!0}return!1}containsWidget(t){return fE(t,"ag-selection-checkbox",3)}onMouseOut(t){if(this.mouseStayingInsideCell(t))return;const e=this.cellCtrl.createEvent(t,W.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.clearMouseOver()}onMouseOver(t){if(this.mouseStayingInsideCell(t))return;const e=this.cellCtrl.createEvent(t,W.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.setMouseOver([this.column])}mouseStayingInsideCell(t){if(!t.target||!t.relatedTarget)return!1;const e=this.cellCtrl.getGui(),n=e.contains(t.target),i=e.contains(t.relatedTarget);return n&&i}destroy(){}},kPe=class extends Jt{constructor(t,e,n,i,r){super(),this.cellCtrl=t,this.beans=e,this.rowNode=i,this.rowCtrl=r}setComp(t){this.eGui=t}onKeyDown(t){const e=t.key;switch(e){case Qe.ENTER:this.onEnterKeyDown(t);break;case Qe.F2:this.onF2KeyDown(t);break;case Qe.ESCAPE:this.onEscapeKeyDown(t);break;case Qe.TAB:this.onTabKeyDown(t);break;case Qe.BACKSPACE:case Qe.DELETE:this.onBackspaceOrDeleteKeyDown(e,t);break;case Qe.DOWN:case Qe.UP:case Qe.RIGHT:case Qe.LEFT:this.onNavigationKeyDown(t,e)}}onNavigationKeyDown(t,e){this.cellCtrl.isEditing()||(t.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(t):this.beans.navigationService.navigateToNextCell(t,e,this.cellCtrl.getCellPosition(),!0),t.preventDefault())}onShiftRangeSelect(t){if(!this.beans.rangeService)return;const e=this.beans.rangeService.extendLatestRangeInDirection(t);e&&this.beans.navigationService.ensureCellVisible(e)}onTabKeyDown(t){this.beans.navigationService.onTabKeyDown(this.cellCtrl,t)}onBackspaceOrDeleteKeyDown(t,e){const{cellCtrl:n,beans:i,rowNode:r}=this,{gridOptionsService:s,rangeService:o,eventService:c}=i;n.isEditing()||(c.dispatchEvent({type:W.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),Gce(t,s.get("enableCellEditingOnBackspace"))?o&&s.get("enableRangeSelection")?o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):n.isCellEditable()&&r.setDataValue(n.getColumn(),null,"cellClear"):n.startRowOrCellEdit(t,e),c.dispatchEvent({type:W.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))}onEnterKeyDown(t){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus(!1,t.shiftKey):this.beans.gridOptionsService.get("enterNavigatesVertically")?this.beans.navigationService.navigateToNextCell(null,t.shiftKey?Qe.UP:Qe.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(Qe.ENTER,t),this.cellCtrl.isEditing()&&t.preventDefault())}onF2KeyDown(t){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(Qe.F2,t)}onEscapeKeyDown(t){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(t){if(t.target!==this.eGui||this.cellCtrl.isEditing())return;const i=t.key;" "===i?this.onSpaceKeyDown(t):(this.cellCtrl.startRowOrCellEdit(i,t),t.preventDefault())}onSpaceKeyDown(t){const{gridOptionsService:e}=this.beans;if(!this.cellCtrl.isEditing()&&e.isRowSelection()){const n=this.rowNode.isSelected(),i=!n;if(i||!e.get("suppressRowDeselection")){const r=this.beans.gridOptionsService.get("groupSelectsFiltered"),s=this.rowNode.setSelectedParams({newValue:i,rangeSelect:t.shiftKey,groupSelectsFiltered:r,event:t,source:"spaceKey"});void 0===n&&0===s&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:r,event:t,source:"spaceKey"})}}t.preventDefault()}destroy(){super.destroy()}},Aue=class extends Ti{constructor(t,e,n){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=t,this.column=e,this.eCell=n}postConstruct(){this.getGui().appendChild(zs("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",e=>{e.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(t){const e=this.column.getColDef().dndSourceOnRowDrag;t.dataTransfer.setDragImage(this.eCell,0,0),e?e(this.gridOptionsService.addGridCommonParams({rowNode:this.rowNode,dragEvent:t})):(()=>{try{const i=JSON.stringify(this.rowNode.data);t.dataTransfer.setData("application/json",i),t.dataTransfer.setData("text/plain",i)}catch{}})()}checkVisibility(){const t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)}};N([tn],Aue.prototype,"postConstruct",1);var l5=class{static getHeaderClassesFromColDef(t,e,n,i){return pi(t)?[]:this.getColumnClassesFromCollDef(t.headerClass,t,e,n,i)}static getToolPanelClassesFromColDef(t,e,n,i){return pi(t)?[]:this.getColumnClassesFromCollDef(t.toolPanelClass,t,e,n,i)}static refreshFirstAndLastStyles(t,e,n){t.addOrRemoveCssClass("ag-column-first",n.isColumnAtEdge(e,"first")),t.addOrRemoveCssClass("ag-column-last",n.isColumnAtEdge(e,"last"))}static getClassParams(t,e,n,i){return e.addGridCommonParams({colDef:t,column:n,columnGroup:i})}static getColumnClassesFromCollDef(t,e,n,i,r){if(pi(t))return[];let s;return s="function"==typeof t?t(this.getClassParams(e,n,i,r)):t,"string"==typeof s?[s]:Array.isArray(s)?[...s]:[]}},KPe=0,Due=class fJ extends Jt{constructor(e,n,i,r){super(),this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.column=e,this.rowNode=n,this.beans=i,this.rowCtrl=r,this.instanceId=e.getId()+"-"+KPe++,this.colIdSanitised=_a(this.column.getId()),i.gridOptionsService.get("suppressCellFocus")||(this.tabIndex=-1),this.createCellPosition(),this.addFeatures(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}addFeatures(){this.cellPositionFeature=new NPe(this,this.beans),this.addDestroyFunc(()=>{var n;null==(n=this.cellPositionFeature)||n.destroy(),this.cellPositionFeature=null}),this.cellCustomStyleFeature=new OPe(this,this.beans),this.addDestroyFunc(()=>{var n;null==(n=this.cellCustomStyleFeature)||n.destroy(),this.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new FPe(this,this.beans,this.column),this.addDestroyFunc(()=>{var n;null==(n=this.cellMouseListenerFeature)||n.destroy(),this.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new kPe(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(()=>{var n;null==(n=this.cellKeyboardListenerFeature)||n.destroy(),this.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(()=>{this.disableTooltipFeature()})),this.beans.rangeService&&this.beans.gridOptionsService.get("enableRangeSelection")&&(this.cellRangeFeature=new MPe(this.beans,this),this.addDestroyFunc(()=>{var n;null==(n=this.cellRangeFeature)||n.destroy(),this.cellRangeFeature=null}))}enableTooltipFeature(e,n){const r="whenTruncated"===this.beans.gridOptionsService.get("tooltipShowMode");!n&&r&&!this.isCellRenderer()&&(n=()=>{const o=this.getGui(),c=0===o.children.length?o:o.querySelector(".ag-cell-value");return!c||c.scrollWidth>c.clientWidth}),this.tooltipFeature=new Pv({getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:null!=e?()=>e:()=>{const o=this.column.getColDef(),c=this.rowNode.data;if(o.tooltipField&&$t(c))return kI(c,o.tooltipField,this.column.isTooltipFieldContainsDots());const h=o.tooltipValueGetter;return h?h(this.beans.gridOptionsService.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:n},this.beans)}disableTooltipFeature(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)}setComp(e,n,i,r,s){var o,c,h,p;this.cellComp=e,this.eGui=n,this.printLayout=r,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),null==(o=this.cellPositionFeature)||o.setComp(n),null==(c=this.cellCustomStyleFeature)||c.setComp(e),null==(h=this.tooltipFeature)||h.refreshToolTip(),null==(p=this.cellKeyboardListenerFeature)||p.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,n),s&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(m=>m()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(e){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!e)return;const n=e.parentElement,i=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,r=c=>{if(this.editing||!this.isAlive())return;const{paddingTop:h,paddingBottom:p,borderBottomWidth:m,borderTopWidth:y}=Wy(n),U=e.offsetHeight+(h+p+m+y);if(c<5){const Q=this.beans.gridOptionsService.getDocument();if(!Q||!Q.contains(e)||0==U)return void window.setTimeout(()=>r(c+1),0)}const X=Math.max(U,i);this.rowNode.setRowAutoHeight(X,this.column)},s=()=>r(0);s();const o=this.beans.resizeObserverService.observeResize(e,s);this.addDestroyFunc(()=>{o(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){var e;return null!=(e=this.column.getColDef().cellAriaRole)?e:"gridcell"}getInstanceId(){return this.instanceId}getIncludeSelection(){return this.includeSelection}getIncludeRowDrag(){return this.includeRowDrag}getIncludeDndSource(){return this.includeDndSource}getColumnIdSanitised(){return this.colIdSanitised}getTabIndex(){return this.tabIndex}isCellRenderer(){const e=this.column.getColDef();return null!=e.cellRenderer||null!=e.cellRendererSelector}getValueToDisplay(){return null!=this.valueFormatted?this.valueFormatted:this.value}showValue(e=!1){const n=this.getValueToDisplay();let i;if(this.isCellRenderer()){const r=this.createCellRendererParams();i=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),r)}this.cellComp.setRenderDetails(i,n,e),this.refreshHandle()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gridOptionsService.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return null==this.rowNode.rowPinned&&("function"==typeof e||!0===e)}refreshShouldDestroy(){const e=this.column.getColDef(),n=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),i=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),r=this.includeDndSource!=this.isIncludeControl(e.dndSource);return n||i||r}startEditing(e=null,n=!1,i=null){if(!this.isCellEditable()||this.editing)return;if(!this.cellComp)return void this.onCellCompAttachedFuncs.push(()=>{this.startEditing(e,n,i)});const r=this.createCellEditorParams(e,n),s=this.column.getColDef(),o=this.beans.userComponentFactory.getCellEditorDetails(s,r);this.editCompDetails=o;const c=null!=o?.popupFromSelector?o.popupFromSelector:!!s.cellEditorPopup,h=null!=o?.popupPositionFromSelector?o.popupPositionFromSelector:s.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(o,c,h,this.beans.gridOptionsService.get("reactiveCustomComponents"));const p=this.createEvent(i,W.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(p)}setEditing(e){this.editing!==e&&(this.editing=e,this.refreshHandle())}stopRowOrCellEdit(e=!1){"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.stopEditing(e):this.stopEditing(e)}onPopupEditorClosed(){this.isEditing()&&this.stopEditingAndFocus()}takeValueFromCellEditor(e){const n={newValueExists:!1};if(e)return n;const i=this.cellComp.getCellEditor();return!i||i.isCancelAfterEnd&&i.isCancelAfterEnd()?n:{newValue:i.getValue(),newValueExists:!0}}saveNewValue(e,n){if(n===e)return!1;this.suppressRefreshCell=!0;const i=this.rowNode.setDataValue(this.column,n,"edit");return this.suppressRefreshCell=!1,i}stopEditing(e=!1){if(!this.editing)return!1;const{newValue:n,newValueExists:i}=this.takeValueFromCellEditor(e),r=this.rowNode.getValueFromValueService(this.column);let s=!1;return i&&(s=this.saveNewValue(r,n)),this.setEditing(!1),this.cellComp.setEditDetails(),this.editCompDetails=void 0,this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(r,n,!e&&!!s),s}dispatchEditingStoppedEvent(e,n,i){const r=Is(Qn({},this.createEvent(null,W.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:n,valueChanged:i});this.beans.eventService.dispatchEvent(r)}createCellEditorParams(e,n){return this.beans.gridOptionsService.addGridCommonParams({value:this.rowNode.getValueFromValueService(this.column),eventKey:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,cellStartedEdit:n,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)})}createCellRendererParams(){return this.beans.gridOptionsService.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:n=>this.beans.valueService.setValue(this.rowNode,this.column,n),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(n,i,r,s)=>this.registerRowDragger(n,i,s),setTooltip:(n,i)=>{this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(n,i),this.refreshToolTip()}})}parseValue(e){return this.beans.valueParserService.parseValue(this.column,this.rowNode,e,this.getValue())}setFocusOutOnEditor(){if(!this.editing)return;const e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}setFocusInOnEditor(){if(!this.editing)return;const e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var n;this.refreshShouldDestroy()?null==(n=this.rowCtrl)||n.refreshCell(this):this.refreshCell(e)}refreshCell(e){var n,i,r;if(this.suppressRefreshCell||this.editing)return;const s=this.column.getColDef(),o=null!=e&&!!e.newData,c=null!=e&&!!e.suppressFlash||!!s.suppressCellFlash,p=e&&e.forceRefresh||null==s.field&&null==s.valueGetter&&null==s.showRowGroup||o,m=!!this.cellComp,y=this.updateAndFormatValue(m);if(m){if(p||y){this.showValue(o);const L=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!c&&!L&&(this.beans.gridOptionsService.get("enableCellChangeFlash")||s.enableCellChangeFlash)&&this.flashCell(),null==(n=this.cellCustomStyleFeature)||n.applyUserStyles(),null==(i=this.cellCustomStyleFeature)||i.applyClassesFromColDef()}this.refreshToolTip(),null==(r=this.cellCustomStyleFeature)||r.applyCellClassRules()}}stopEditingAndFocus(e=!1,n=!1){this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit(n)}navigateAfterEdit(e){this.beans.gridOptionsService.get("enterNavigatesVerticallyAfterEdit")&&this.beans.navigationService.navigateToNextCell(null,e?Qe.UP:Qe.DOWN,this.getCellPosition(),!1)}flashCell(e){var n,i;const r=null!=(n=e?.flashDuration)?n:e?.flashDelay,s=null!=(i=e?.fadeDuration)?i:e?.fadeDelay;this.animateCell("data-changed",r,s)}animateCell(e,n,i){if(!this.cellComp)return;const r=`ag-cell-${e}`,s=`ag-cell-${e}-animation`,{gridOptionsService:o}=this.beans;n||(n=o.get("cellFlashDuration")),$t(i)||(i=o.get("cellFadeDuration")),this.cellComp.addOrRemoveCssClass(r,!0),this.cellComp.addOrRemoveCssClass(s,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(r,!1),this.cellComp.addOrRemoveCssClass(s,!0),this.eGui.style.transition=`background-color ${i}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(s,!1),this.eGui.style.transition="")},i))},n)})}onFlashCells(e){if(!this.cellComp)return;const n=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[n]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(e){var n;return null!=(n=this.callValueFormatter(e))?n:e}callValueFormatter(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const n=this.value,i=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),!e||!this.valuesAreEqual(n,this.value)||this.valueFormatted!=i}valuesAreEqual(e,n){const i=this.column.getColDef();return i.equals?i.equals(e,n):e===n}getComp(){return this.cellComp}getValue(){return this.value}getValueFormatted(){return this.valueFormatted}addDomData(){const e=this.getGui();this.beans.gridOptionsService.setDomData(e,fJ.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(()=>this.beans.gridOptionsService.setDomData(e,fJ.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(e,n){return this.beans.gridOptionsService.addGridCommonParams({type:n,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex})}processCharacter(e){var n;null==(n=this.cellKeyboardListenerFeature)||n.processCharacter(e)}onKeyDown(e){var n;null==(n=this.cellKeyboardListenerFeature)||n.onKeyDown(e)}onMouseEvent(e,n){var i;null==(i=this.cellMouseListenerFeature)||i.onMouseEvent(e,n)}getGui(){return this.eGui}refreshToolTip(){var e;null==(e=this.tooltipFeature)||e.refreshToolTip()}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var e;this.cellComp&&(null==(e=this.cellPositionFeature)||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:e,column:n,beans:i}=this;l5.refreshFirstAndLastStyles(e,n,i.columnModel)}refreshAriaColIndex(){const e=this.beans.columnModel.getAriaColumnIndex(this.column);A9(this.getGui(),e)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var e;return null==(e=this.cellPositionFeature)?void 0:e.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}getBeans(){return this.beans}isPrintLayout(){return this.printLayout}appendChild(e){this.eGui.appendChild(e)}refreshHandle(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(e,n=null){this.cellComp?"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,n):this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(e,n)})}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return null!=this.cellRangeFeature}focusCell(e=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onFirstRightPinnedChanged(){if(!this.cellComp)return;const e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",e)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",e)}onCellFocused(e){if(this.beans.gridOptionsService.get("suppressCellFocus"))return;const n=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp)return void(n&&e?.forceBrowserFocus&&(this.focusEventToRestore=e));this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass("ag-cell-focus",n),n&&e&&e.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!e.preventScrollOnBrowserFocus});const i="fullRow"===this.beans.gridOptionsService.get("editType");!n&&!i&&this.editing&&this.stopRowOrCellEdit(),n&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:hg(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);const e=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",e),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!e)}onColumnHover(){if(!this.cellComp||!this.beans.gridOptionsService.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",e)}onColDefChanged(){var e;if(this.cellComp)if(this.column.isAutoHeight()!==this.isAutoHeight&&(null==(e=this.rowCtrl)||e.refreshCell(this)),this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing){const r=this.getCellEditor();if(r?.refresh){const{eventKey:s,cellStartedEdit:o}=this.editCompDetails.params,c=this.createCellEditorParams(s,o),h=this.column.getColDef(),p=this.beans.userComponentFactory.getCellEditorDetails(h,c);r.refresh(p.params)}}else this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){const e=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",e)}dispatchCellContextMenuEvent(e){const n=this.column.getColDef(),i=this.createEvent(e,W.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(i),n.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{n.onCellContextMenu(i)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const e=new r5;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=new Aue(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e}registerRowDragger(e,n,i){if(this.customRowDragComp)return void this.customRowDragComp.setDragElement(e,n);const r=this.createRowDragComp(e,n,i);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}))}createRowDragComp(e,n,i){const r=this.beans.gridOptionsService.get("pagination"),s=this.beans.gridOptionsService.get("rowDragManaged"),o=this.beans.gridOptionsService.isRowModelType("clientSide");if(s){if(!o)return void li("managed row dragging is only allowed in the Client Side Row Model");if(r)return void li("managed row dragging is not possible when doing pagination")}const c=new yE(()=>this.value,this.rowNode,this.column,e,n,i);return this.beans.context.createBean(c),c}};Due.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var EE=Due,YPe=0,Rue=class pJ extends Jt{constructor(e,n,i,r,s){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=n,this.gridOptionsService=n.gridOptionsService,this.rowNode=e,this.paginationPage=n.paginationProxy.getCurrentPage(),this.useAnimationFrameForCreate=r,this.printLayout=s,this.suppressRowTransform=this.gridOptionsService.get("suppressRowTransform"),this.instanceId=e.id+"-"+YPe++,this.rowId=_a(e.id),this.initRowBusinessKey(),this.rowFocused=n.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=n.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(i),this.rowStyles=this.processStylesFromGridOptions(),this.isFullWidth()&&!this.gridOptionsService.get("suppressCellFocus")&&(this.tabIndex=-1),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if("function"!=typeof this.businessKeyForNodeFunc)return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=_a(e)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}getTabIndex(){return this.tabIndex}isSticky(){return this.rowNode.sticky}getBeans(){return this.beans}getInstanceId(){return this.instanceId}setComp(e,n,i){const r={rowComp:e,element:n,containerType:i};this.allRowGuis.push(r),"left"===i?this.leftGui=r:"right"===i?this.rightGui=r:"fullWidth"===i?this.fullWidthGui=r:this.centerGui=r,this.initialiseRowComp(r),"FullWidthLoading"!==this.rowType&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){switch(this.allRowGuis=this.allRowGuis.filter(n=>n.containerType!==e),e){case"left":this.leftGui=void 0;break;case"right":this.rightGui=void 0;break;case"fullWidth":this.fullWidthGui=void 0;break;case"center":this.centerGui=void 0}}isCacheable(){return"FullWidthDetail"===this.rowType&&this.gridOptionsService.get("keepDetailRows")}setCached(e){const n=e?"none":"";this.allRowGuis.forEach(i=>i.element.style.display=n)}initialiseRowComp(e){const n=this.gridOptionsService;this.listenOnDomOrder(e),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),n.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const i=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(s=>i.addOrRemoveCssClass(s,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&Rv(e.element,1==this.rowNode.expanded),this.setRowCompRowId(i),this.setRowCompRowBusinessKey(i),n.setDomData(e.element,pJ.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(()=>n.setDomData(e.element,pJ.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e.element),this.isFullWidth()&&this.setupFullWidth(e),n.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){null!=this.businessKeySanitised&&e.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(e){this.rowId=_a(this.rowNode.id),null!=this.rowId&&e.setRowId(this.rowId)}executeSlideAndFadeAnimations(e){const{containerType:n}=e;this.slideInAnimation[n]&&(c9(()=>{this.onTopChanged()}),this.slideInAnimation[n]=!1),this.fadeInAnimation[n]&&(c9(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[n]=!1)}addRowDraggerToRow(e){if(this.gridOptionsService.get("enableRangeSelection"))return void li("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");const n=this.beans.localeService.getLocaleTextFunc(),i=new yE(()=>`1 ${n("rowDragRow","row")}`,this.rowNode,void 0,e.element,void 0,!0),r=this.createBean(i,this.beans.context);this.rowDragComps.push(r)}setupFullWidth(e){const n=this.getPinnedForContainer(e.containerType);if("FullWidthDetail"==this.rowType&&!Hr.__assertRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;const i=this.createFullWidthCompDetails(e.element,n);e.rowComp.showFullWidth(i)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var e,n;return this.gridOptionsService.get("embedFullWidthRows")?this.allRowGuis.map(i=>{var r;return null==(r=i?.rowComp)?void 0:r.getFullWidthCellRenderer()}):[null==(n=null==(e=this.fullWidthGui)?void 0:e.rowComp)?void 0:n.getFullWidthCellRenderer()]}getCellElement(e){const n=this.getCellCtrl(e);return n?n.getGui():null}executeProcessRowPostCreateFunc(){const e=this.gridOptionsService.getCallback("processRowPostCreate");e&&this.areAllContainersReady()&&e({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})}areAllContainersReady(){const e=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),n=!!this.centerGui,i=!!this.rightGui||!this.beans.columnModel.isPinningRight();return e&&n&&i}setRowType(){const e=this.rowNode.stub,n=this.rowNode.isFullWidthCell(),i=this.gridOptionsService.get("masterDetail")&&this.rowNode.detail,r=this.beans.columnModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&this.gridOptionsService.isGroupUseEntireRow(r);this.rowType=e?"FullWidthLoading":i?"FullWidthDetail":n?"FullWidth":o?"FullWidthGroup":"Normal"}updateColumnLists(e=!1,n=!1){this.isFullWidth()||(e||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout?this.updateColumnListsImpl(n):this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0))}createCellCtrls(e,n,i=null){const r={list:[],map:{}},s=(o,c)=>{r.list.push(c),r.map[o]=c};return n.forEach(o=>{const c=o.getInstanceId();let h=e.map[c];h||(h=new EE(o,this.rowNode,this.beans,this)),s(c,h)}),e.list.forEach(o=>{null==r.map[o.getColumn().getInstanceId()]&&(this.isCellEligibleToBeRemoved(o,i)?o.destroy():s(o.getColumn().getInstanceId(),o))}),r}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(n=>{const i=this.getCellCtrlsForContainer(n.containerType);n.rowComp.setCellCtrls(i,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list;default:throw new Error(`Unhandled case: ${e}`)}}createAllCellCtrls(){const e=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,e.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const i=e.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");const r=e.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,r,"right")}}isCellEligibleToBeRemoved(e,n){if(e.getColumn().getPinned()!=n)return!0;const o=e.isEditing(),c=this.beans.focusService.isCellFocused(e.getCellPosition());if(o||c){const p=e.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(p)>=0)}return!0}getDomOrder(){return this.gridOptionsService.get("ensureDomOrder")||this.gridOptionsService.isDomLayout("print")}listenOnDomOrder(e){const n=()=>{e.rowComp.setDomOrder(this.getDomOrder())};this.addManagedPropertyListener("domLayout",n),this.addManagedPropertyListener("ensureDomOrder",n)}setAnimateFlags(e){if(this.isSticky()||!e)return;const n=$t(this.rowNode.oldRowTop),i=this.beans.columnModel.isPinningLeft(),r=this.beans.columnModel.isPinningRight();if(n){if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows"))return void(this.slideInAnimation.fullWidth=!0);this.slideInAnimation.center=!0,this.slideInAnimation.left=i,this.slideInAnimation.right=r}else{if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows"))return void(this.fadeInAnimation.fullWidth=!0);this.fadeInAnimation.center=!0,this.fadeInAnimation.left=i,this.fadeInAnimation.right=r}}isEditing(){return this.editingRow}isFullWidth(){return"Normal"!==this.rowType}getRowType(){return this.rowType}refreshFullWidth(){const e=(c,h)=>!c||c.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(c.element,h).params),n=e(this.fullWidthGui,null),i=e(this.centerGui,null),r=e(this.leftGui,"left"),s=e(this.rightGui,"right");return n&&i&&r&&s}addListeners(){this.addManagedListener(this.rowNode,Ki.EVENT_HEIGHT_CHANGED,()=>this.onRowHeightChanged()),this.addManagedListener(this.rowNode,Ki.EVENT_ROW_SELECTED,()=>this.onRowSelected()),this.addManagedListener(this.rowNode,Ki.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Ki.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Ki.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Ki.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,Ki.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ki.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ki.EVENT_CELL_CHANGED,this.postProcessCss.bind(this)),this.addManagedListener(this.rowNode,Ki.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Ki.EVENT_DRAGGING_CHANGED,this.postProcessRowDragging.bind(this)),this.addManagedListener(this.rowNode,Ki.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));const e=this.beans.eventService;this.addManagedListener(e,W.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,W.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,W.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,W.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,W.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,W.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,W.EVENT_MODEL_UPDATED,this.refreshFirstAndLastRowStyles.bind(this)),this.addManagedListener(e,W.EVENT_COLUMN_MOVED,this.updateColumnLists.bind(this)),this.addDestroyFunc(()=>{this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowDragEntireRow"],()=>{this.gridOptionsService.get("rowDragEntireRow")?this.allRowGuis.forEach(i=>{this.addRowDraggerToRow(i)}):(this.destroyBeans(this.rowDragComps,this.beans.context),this.rowDragComps=[])}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListener(this.rowNode,Ki.EVENT_ROW_INDEX_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())}),this.addManagedListener(this.rowNode,Ki.EVENT_CELL_CHANGED,e=>{this.getAllCellCtrls().forEach(n=>n.onCellChanged(e))})}onRowNodeDataChanged(e){this.isFullWidth()===!!this.rowNode.isFullWidthCell()?this.isFullWidth()?this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode):(this.getAllCellCtrls().forEach(i=>i.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(i=>{this.setRowCompRowId(i.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(i.rowComp)}),this.onRowSelected(),this.postProcessCss()):this.beans.rowRenderer.redrawRow(this.rowNode)}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(n=>{const r=1===e;n.rowComp.addOrRemoveCssClass("ag-row-highlight-above",0===e),n.rowComp.addOrRemoveCssClass("ag-row-highlight-below",r)})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}updateExpandedCss(){const e=this.rowNode.isExpandable(),n=1==this.rowNode.expanded;this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass("ag-row-group",e),i.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&n),i.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!n),Rv(i.element,e&&n)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:hg(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const n=this.allRowGuis.find(h=>h.element.contains(e.target));if((n?n.element:null)!==e.target)return;const s=this.rowNode,o=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(e,e.key,{rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:o&&o.column},!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||Mf(e))return;const n=this.allRowGuis.find(o=>o.element.contains(e.target)),i=n?n.element:null,r=i===e.target;let s=null;r||(s=this.beans.focusService.findNextFocusableElement(i,!1,e.shiftKey)),(this.isFullWidth()&&r||!s)&&this.beans.navigationService.onTabKeyDown(this,e)}onFullWidthRowFocused(e){var n;const i=this.rowNode,r=!!e&&this.isFullWidth()&&e.rowIndex===i.rowIndex&&e.rowPinned==i.rowPinned,s=this.fullWidthGui?this.fullWidthGui.element:null==(n=this.centerGui)?void 0:n.element;s&&(s.classList.toggle("ag-full-width-focus",r),r&&s.focus({preventScroll:!0}))}refreshCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()}removeCellCtrl(e,n){const i={list:[],map:{}};return e.list.forEach(r=>{r!==n&&(i.list.push(r),i.map[r.getInstanceId()]=r)}),i}onMouseEvent(e,n){switch(e){case"dblclick":this.onRowDblClick(n);break;case"click":this.onRowClick(n);break;case"touchstart":case"mousedown":this.onRowMouseDown(n)}}createRowEvent(e,n){return this.gridOptionsService.addGridCommonParams({type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:n})}createRowEventWithSource(e,n){const i=this.createRowEvent(e,n);return i.source=this,i}onRowDblClick(e){if(Mf(e))return;const n=this.createRowEventWithSource(W.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(n)}onRowMouseDown(e){if(this.lastMouseDownOnDragger=fE(e.target,"ag-row-drag",3),!this.isFullWidth())return;const n=this.rowNode,i=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:n.rowIndex,column:i.getAllDisplayedColumns()[0],rowPinned:n.rowPinned,forceBrowserFocus:!0})}onRowClick(e){if(Mf(e)||this.lastMouseDownOnDragger)return;const i=this.createRowEventWithSource(W.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(i);const r=e.ctrlKey||e.metaKey,s=e.shiftKey;if(this.gridOptionsService.get("groupSelectsChildren")&&this.rowNode.group||this.isRowSelectionBlocked()||this.gridOptionsService.get("suppressRowClickSelection"))return;const c=this.gridOptionsService.get("rowMultiSelectWithClick"),h=!this.gridOptionsService.get("suppressRowDeselection"),p="rowClicked";this.rowNode.isSelected()?c?this.rowNode.setSelectedParams({newValue:!1,event:e,source:p}):r?h&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:p}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!s,rangeSelect:s,event:e,source:p}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!c&&!r,rangeSelect:s,event:e,source:p})}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()}setupDetailRowAutoHeight(e){if("FullWidthDetail"!==this.rowType||!this.gridOptionsService.get("detailRowAutoHeight"))return;const n=()=>{const r=e.clientHeight;null!=r&&r>0&&window.setTimeout(()=>{this.rowNode.setRowHeight(r),this.beans.clientSideRowModel?this.beans.clientSideRowModel.onRowHeightChanged():this.beans.serverSideRowModel&&this.beans.serverSideRowModel.onRowHeightChanged()},0)},i=this.beans.resizeObserverService.observeResize(e,n);this.addDestroyFunc(i),n()}createFullWidthCompDetails(e,n){const i=this.gridOptionsService.addGridCommonParams({fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,eGridCell:e,eParentOfValue:e,pinned:n,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(r,s,o,c)=>this.addFullWidthRowDragging(r,s,o,c),setTooltip:(r,s)=>this.refreshRowTooltip(r,s)});switch(this.rowType){case"FullWidthDetail":return this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(i);case"FullWidthGroup":return this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(i);case"FullWidthLoading":return this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(i);default:return this.beans.userComponentFactory.getFullWidthCellRendererDetails(i)}}refreshRowTooltip(e,n){if(!this.fullWidthGui)return;const i={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>e,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:n};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new Pv(i,this.beans))}addFullWidthRowDragging(e,n,i="",r){if(!this.isFullWidth())return;const s=new yE(()=>i,this.rowNode,void 0,e,n,r);this.createBean(s,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(s,this.beans.context)})}onUiLevelChanged(){const e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){const n="ag-row-level-"+e,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass(n,!0),r.rowComp.addOrRemoveCssClass(i,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),n=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==n&&(this.lastRowOnPage=n,this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-last",n)))}stopEditing(e=!1){if(this.stoppingRowEdit)return;const n=this.getAllCellCtrls(),i=this.editingRow;this.stoppingRowEdit=!0;let r=!1;for(const s of n){const o=s.stopEditing(e);i&&!e&&!r&&o&&(r=!0)}if(r){const s=this.createRowEvent(W.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(s)}i&&this.setEditingRow(!1),this.stoppingRowEdit=!1}setInlineEditingCss(e){this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),n.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})}setEditingRow(e){this.editingRow=e,this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-editing",e));const n=this.createRowEvent(e?W.EVENT_ROW_EDITING_STARTED:W.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(n)}startRowEditing(e=null,n=null,i=null){this.editingRow||this.getAllCellCtrls().reduce((s,o)=>{const c=o===n;return o.startEditing(c?e:null,c,i),!!s||o.isEditing()},!1)&&this.setEditingRow(!0)}getAllCellCtrls(){return 0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!e||!e.length||e.forEach(n=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(n,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(e,!0))},e=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(e,!1))})}setStylesFromGridOptions(e,n){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(n,i=>i.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return"left"===e?"left":"right"===e?"right":null}getInitialRowClasses(e){const n=this.getPinnedForContainer(e),i={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:n};return this.beans.rowCssClassCalculator.getInitialRowClasses(i)}processStylesFromGridOptions(){const e=this.gridOptionsService.get("rowStyle");if(e&&"function"==typeof e)return void console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");const n=this.gridOptionsService.getCallback("getRowStyle");let i;return n&&(i=n({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),i||e?Object.assign({},e,i):this.emptyStyle}onRowSelected(e){const n=this.beans.gridOptionsService.getDocument(),i=!!this.rowNode.isSelected();this.forEachGui(e,r=>{r.rowComp.addOrRemoveCssClass("ag-row-selected",i),BI(r.element,i),r.element.contains(n.activeElement)&&(r===this.centerGui||r===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const e=this.rowNode.isSelected();if(e&&this.beans.gridOptionsService.get("suppressRowDeselection"))return;const i=this.beans.localeService.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${e?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(i)}isUseAnimationFrameForCreate(){return this.useAnimationFrameForCreate}addHoverFunctionality(e){this.active&&(this.addManagedListener(e,"mouseenter",()=>this.rowNode.onMouseEnter()),this.addManagedListener(e,"mouseleave",()=>this.rowNode.onMouseLeave()),this.addManagedListener(this.rowNode,Ki.EVENT_MOUSE_ENTER,()=>{!this.beans.dragService.isDragging()&&!this.gridOptionsService.get("suppressRowHoverHighlight")&&(e.classList.add("ag-row-hover"),this.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,Ki.EVENT_MOUSE_LEAVE,()=>{e.classList.remove("ag-row-hover"),this.rowNode.setHovered(!1)}))}roundRowTopToBounds(e){const n=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),i=this.applyPaginationOffset(n.top,!0)-100,r=this.applyPaginationOffset(n.bottom,!0)+100;return Math.min(Math.max(i,e),r)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(e,n){e?n(e):this.allRowGuis.forEach(n)}onRowHeightChanged(e){if(null==this.rowNode.rowHeight)return;const n=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),s=this.gridOptionsService.isGetRowHeightFunction()?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,o=s?Math.min(i,s)-2+"px":void 0;this.forEachGui(e,c=>{c.element.style.height=`${n}px`,o&&c.element.style.setProperty("--ag-line-height",o)})}addEventListener(e,n){super.addEventListener(e,n)}removeEventListener(e,n){super.removeEventListener(e,n)}destroyFirstPass(e=!1){if(this.active=!1,!e&&this.gridOptionsService.isAnimateRows()&&!this.isSticky())if(null!=this.rowNode.rowTop){const r=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const n=this.createRowEvent(W.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(n),this.beans.eventService.dispatchEvent(n),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const e=n=>(n.list.forEach(i=>i.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,n=>{n.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),n.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,n=!1){return this.rowNode.isRowPinned()||this.rowNode.sticky?e:e+this.beans.paginationProxy.getPixelOffset()*(n?1:-1)}setRowTop(e){if(!this.printLayout&&$t(e)){const n=this.applyPaginationOffset(e),s=`${this.rowNode.isRowPinned()||this.rowNode.sticky?n:this.beans.rowContainerHeightService.getRealPixelPosition(n)}px`;this.setRowTopStyle(s)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";let n;if(this.isSticky())n=this.rowNode.stickyRowTop;else{const i=this.slideInAnimation[e]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,r=this.applyPaginationOffset(i);n=this.rowNode.isRowPinned()?r:this.beans.rowContainerHeightService.getRealPixelPosition(r)}return n+"px"}setRowTopStyle(e){this.allRowGuis.forEach(n=>this.suppressRowTransform?n.rowComp.setTop(e):n.rowComp.setTransform(`translateY(${e})`))}getRowNode(){return this.rowNode}getCellCtrl(e){let n=null;return this.getAllCellCtrls().forEach(i=>{i.getColumn()==e&&(n=i)}),null!=n||this.getAllCellCtrls().forEach(i=>{i.getColSpanningList().indexOf(e)>=0&&(n=i)}),n}onRowIndexChanged(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(e){const n=this.rowNode.getRowIndexString(),i=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),r=this.rowNode.rowIndex%2==0,s=i+this.rowNode.rowIndex+1;this.forEachGui(e,o=>{o.rowComp.setRowIndex(n),o.rowComp.addOrRemoveCssClass("ag-row-even",r),o.rowComp.addOrRemoveCssClass("ag-row-odd",!r),I9(o.element,s)})}};Rue.DOM_DATA_KEY_ROW_CTRL="renderedRow";var SE=Rue,Lu=class extends Jt{constructor(t){super(),this.element=t}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const t="keydown",e=this.processKeyboardEvent.bind(this,t);this.addManagedListener(this.element,t,e)}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",_9("touchstart")?"touchstart":"mousedown"].forEach(n=>{const i=this.processMouseEvent.bind(this,n);this.addManagedListener(this.element,n,i)})}processMouseEvent(t,e){if(!this.mouseEventService.isEventFromThisGrid(e)||Mf(e))return;const n=this.getRowForEvent(e),i=this.mouseEventService.getRenderedCellForEvent(e);"contextmenu"===t?this.handleContextMenuMouseEvent(e,void 0,n,i):(i&&i.onMouseEvent(t,e),n&&n.onMouseEvent(t,e))}mockContextMenuForIPad(){if(!xv())return;const t=new tl(this.element);this.addManagedListener(t,tl.EVENT_LONG_TAP,n=>{const i=this.getRowForEvent(n.touchEvent),r=this.mouseEventService.getRenderedCellForEvent(n.touchEvent);this.handleContextMenuMouseEvent(void 0,n.touchEvent,i,r)}),this.addDestroyFunc(()=>t.destroy())}getRowForEvent(t){let e=t.target;for(;e;){const n=this.gridOptionsService.getDomData(e,SE.DOM_DATA_KEY_ROW_CTRL);if(n)return n;e=e.parentElement}return null}handleContextMenuMouseEvent(t,e,n,i){const r=n?n.getRowNode():null,s=i?i.getColumn():null;let o=null;s&&(i.dispatchCellContextMenuEvent((t||e)??null),o=this.valueService.getValue(s,r));const c=this.ctrlsService.getGridBodyCtrl(),h=i?i.getGui():c.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:t,touchEvent:e,rowNode:r,column:s,value:o,anchorToElement:h})}getControlsForEventTarget(t){return{cellCtrl:FV(this.gridOptionsService,t,EE.DOM_DATA_KEY_CELL_CTRL),rowCtrl:FV(this.gridOptionsService,t,SE.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(t,e){const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(e.target);e.defaultPrevented||(n?this.processCellKeyboardEvent(n,t,e):i&&i.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,t,e))}processCellKeyboardEvent(t,e,n){const i=t.getRowNode(),r=t.getColumn(),s=t.isEditing();if(!XV(this.gridOptionsService,n,i,r,s)&&"keydown"===e&&(!s&&this.navigationService.handlePageScrollingKey(n)||t.onKeyDown(n),this.doGridOperations(n,t.isEditing()),YV(n)&&t.processCharacter(n)),"keydown"===e){const c=t.createEvent(n,W.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(c)}}processFullWidthRowKeyboardEvent(t,e,n){const i=t.getRowNode(),r=this.focusService.getFocusedCell();if(!XV(this.gridOptionsService,n,i,r&&r.column,!1)&&"keydown"===e)switch(n.key){case Qe.PAGE_HOME:case Qe.PAGE_END:case Qe.PAGE_UP:case Qe.PAGE_DOWN:this.navigationService.handlePageScrollingKey(n,!0);break;case Qe.UP:case Qe.DOWN:t.onKeyboardNavigate(n);break;case Qe.TAB:t.onTabKeyDown(n)}if("keydown"===e){const c=t.createRowEvent(W.EVENT_CELL_KEY_DOWN,n);this.eventService.dispatchEvent(c)}}doGridOperations(t,e){if(!t.ctrlKey&&!t.metaKey||e||!this.mouseEventService.isEventFromThisGrid(t))return;const n=Vce(t);return n===Qe.A?this.onCtrlAndA(t):n===Qe.C?this.onCtrlAndC(t):n===Qe.D?this.onCtrlAndD(t):n===Qe.V?this.onCtrlAndV(t):n===Qe.X?this.onCtrlAndX(t):n===Qe.Y?this.onCtrlAndY():n===Qe.Z?this.onCtrlAndZ(t):void 0}onCtrlAndA(t){const{pinnedRowModel:e,paginationProxy:n,rangeService:i}=this;if(i&&n.isRowsToRender()){const[r,s]=[e.isEmpty("top"),e.isEmpty("bottom")],o=r?null:"top";let c,h;s?(c=null,h=this.paginationProxy.getRowCount()-1):(c="bottom",h=e.getPinnedBottomRowData().length-1);const p=this.columnModel.getAllDisplayedColumns();if(vd(p))return;i.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:h,rowEndPinned:c,columnStart:p[0],columnEnd:Ir(p)})}t.preventDefault()}onCtrlAndC(t){if(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection"))return;const{cellCtrl:e,rowCtrl:n}=this.getControlsForEventTarget(t.target);e?.isEditing()||n?.isEditing()||(t.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(t){if(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection")||this.gridOptionsService.get("suppressCutToClipboard"))return;const{cellCtrl:e,rowCtrl:n}=this.getControlsForEventTarget(t.target);e?.isEditing()||n?.isEditing()||(t.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(t){const{cellCtrl:e,rowCtrl:n}=this.getControlsForEventTarget(t.target);e?.isEditing()||n?.isEditing()||this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(t){this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),t.preventDefault()}onCtrlAndZ(t){this.gridOptionsService.get("undoRedoCellEditing")&&(t.preventDefault(),t.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService.redo("ui")}};N([K("mouseEventService")],Lu.prototype,"mouseEventService",2),N([K("valueService")],Lu.prototype,"valueService",2),N([K("menuService")],Lu.prototype,"menuService",2),N([K("ctrlsService")],Lu.prototype,"ctrlsService",2),N([K("navigationService")],Lu.prototype,"navigationService",2),N([K("focusService")],Lu.prototype,"focusService",2),N([K("undoRedoService")],Lu.prototype,"undoRedoService",2),N([K("columnModel")],Lu.prototype,"columnModel",2),N([K("paginationProxy")],Lu.prototype,"paginationProxy",2),N([K("pinnedRowModel")],Lu.prototype,"pinnedRowModel",2),N([Cr("rangeService")],Lu.prototype,"rangeService",2),N([Cr("clipboardService")],Lu.prototype,"clipboardService",2),N([tn],Lu.prototype,"postConstruct",1);var qI=class extends Jt{constructor(t){super(),this.centerContainerCtrl=t}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.listenForResize()}),this.addManagedListener(this.eventService,W.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const t=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(t),this.gridBodyCtrl.registerBodyViewportResizeListener(t)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const t=this.centerContainerCtrl.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const e=pE(this.gridBodyCtrl.getBodyViewportElement());if(e<=50)return;let n=this.getPinnedColumnsOverflowingViewport(e-50);const i=this.gridOptionsService.getCallback("processUnpinnedColumns");n.length&&(i&&(n=i({columns:n,viewportWidth:e})),this.columnModel.setColumnsPinned(n,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(t){const i=this.pinnedWidthService.getPinnedRightWidth()+this.pinnedWidthService.getPinnedLeftWidth();if(i<t)return[];const r=[...this.columnModel.getDisplayedLeftColumns()],s=[...this.columnModel.getDisplayedRightColumns()];let o=0,c=0;const p=[];let m=i-0-t;for(;(c<r.length||o<s.length)&&m>0;){if(o<s.length){const y=s[o++];m-=y.getActualWidth(),p.push(y)}if(c<r.length&&m>0){const y=r[c++];m-=y.getActualWidth(),p.push(y)}}return p}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=HP(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==e&&(this.bodyHeight=e,this.eventService.dispatchEvent({type:W.EVENT_BODY_HEIGHT_CHANGED}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const t={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(t)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const t=this.centerContainerCtrl.getCenterWidth(),e=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(t,e)}};N([K("ctrlsService")],qI.prototype,"ctrlsService",2),N([K("pinnedWidthService")],qI.prototype,"pinnedWidthService",2),N([K("columnModel")],qI.prototype,"columnModel",2),N([K("scrollVisibleService")],qI.prototype,"scrollVisibleService",2),N([tn],qI.prototype,"postConstruct",1);var vq=class extends Jt{constructor(t){super(),this.element=t}postConstruct(){this.addManagedListener(this.eventService,W.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))}onPinnedLeftWidthChanged(){const t=this.pinnedWidthService.getPinnedLeftWidth();rr(this.element,t>0),wh(this.element,t)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}};N([K("pinnedWidthService")],vq.prototype,"pinnedWidthService",2),N([tn],vq.prototype,"postConstruct",1);var _q=class extends Jt{constructor(t){super(),this.element=t}postConstruct(){this.addManagedListener(this.eventService,W.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))}onPinnedRightWidthChanged(){const t=this.pinnedWidthService.getPinnedRightWidth();rr(this.element,t>0),wh(this.element,t)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}};N([K("pinnedWidthService")],_q.prototype,"pinnedWidthService",2),N([tn],_q.prototype,"postConstruct",1);var c5=class extends Jt{constructor(t,e){super(),this.eContainer=t,this.eViewport=e}postConstruct(){this.addManagedListener(this.eventService,W.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))}onHeightChanged(){const t=this.maxDivHeightScaler.getUiContainerHeight(),e=null!=t?`${t}px`:"";this.eContainer.style.height=e,this.eViewport&&(this.eViewport.style.height=e)}};N([K("rowContainerHeightService")],c5.prototype,"maxDivHeightScaler",2),N([tn],c5.prototype,"postConstruct",1);var u5=class extends Jt{constructor(t){super(),this.eContainer=t}postConstruct(){pi(this.rangeService)||(this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",e=>{e.currentValue?this.enableFeature():this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),this.gridOptionsService.get("enableRangeSelection")&&this.enableFeature())}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}};N([Cr("rangeService")],u5.prototype,"rangeService",2),N([K("dragService")],u5.prototype,"dragService",2),N([tn],u5.prototype,"postConstruct",1);var KI=class extends Jt{constructor(t,e=!1){super(),this.callback=t,this.addSpacer=e}postConstruct(){const t=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",t),this.addManagedListener(this.eventService,W.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_LEFT_PINNED_WIDTH_CHANGED,t),this.addSpacer&&(this.addManagedListener(this.eventService,W.EVENT_RIGHT_PINNED_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_SCROLL_VISIBILITY_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_SCROLLBAR_WIDTH_CHANGED,t)),this.setWidth()}setWidth(){const{columnModel:t}=this,e=this.gridOptionsService.isDomLayout("print"),n=t.getBodyContainerWidth(),i=t.getDisplayedColumnsLeftWidth(),r=t.getDisplayedColumnsRightWidth();let s;e?s=n+i+r:(s=n,this.addSpacer&&0===(this.gridOptionsService.get("enableRtl")?i:r)&&this.scrollVisibleService.isVerticalScrollShowing()&&(s+=this.gridOptionsService.getScrollbarWidth())),this.callback(s)}};N([K("columnModel")],KI.prototype,"columnModel",2),N([K("scrollVisibleService")],KI.prototype,"scrollVisibleService",2),N([tn],KI.prototype,"postConstruct",1);var ZPe=Uy([["center","ag-center-cols-container"],["left","ag-pinned-left-cols-container"],["right","ag-pinned-right-cols-container"],["fullWidth","ag-full-width-container"],["topCenter","ag-floating-top-container"],["topLeft","ag-pinned-left-floating-top"],["topRight","ag-pinned-right-floating-top"],["topFullWidth","ag-floating-top-full-width-container"],["stickyTopCenter","ag-sticky-top-container"],["stickyTopLeft","ag-pinned-left-sticky-top"],["stickyTopRight","ag-pinned-right-sticky-top"],["stickyTopFullWidth","ag-sticky-top-full-width-container"],["bottomCenter","ag-floating-bottom-container"],["bottomLeft","ag-pinned-left-floating-bottom"],["bottomRight","ag-pinned-right-floating-bottom"],["bottomFullWidth","ag-floating-bottom-full-width-container"]]),eMe=Uy([["center","ag-center-cols-viewport"],["topCenter","ag-floating-top-viewport"],["stickyTopCenter","ag-sticky-top-viewport"],["bottomCenter","ag-floating-bottom-viewport"]]),TE=class tve extends Jt{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.isFullWithContainer="topFullWidth"===this.name||"stickyTopFullWidth"===this.name||"bottomFullWidth"===this.name||"fullWidth"===this.name}static getRowContainerCssClasses(e){return{container:ZPe.get(e),viewport:eMe.get(e)}}static getPinned(e){switch(e){case"bottomLeft":case"topLeft":case"stickyTopLeft":case"left":return"left";case"bottomRight":case"topRight":case"stickyTopRight":case"right":return"right";default:return null}}postConstruct(){this.enableRtl=this.gridOptionsService.get("enableRtl"),this.forContainers(["center"],()=>this.viewportSizeFeature=this.createManagedBean(new qI(this)))}registerWithCtrlsService(){switch(this.name){case"center":this.ctrlsService.registerCenterRowContainerCtrl(this);break;case"left":this.ctrlsService.registerLeftRowContainerCtrl(this);break;case"right":this.ctrlsService.registerRightRowContainerCtrl(this);break;case"topCenter":this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case"topLeft":this.ctrlsService.registerTopLeftRowContainerCon(this);break;case"topRight":this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case"stickyTopCenter":this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case"stickyTopLeft":this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case"stickyTopRight":this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case"bottomCenter":this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case"bottomLeft":this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case"bottomRight":this.ctrlsService.registerBottomRightRowContainerCtrl(this)}}forContainers(e,n){e.indexOf(this.name)>=0&&n()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,n,i){this.comp=e,this.eContainer=n,this.eViewport=i,this.createManagedBean(new Lu(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();this.forContainers(["left","bottomLeft","topLeft","stickyTopLeft"],()=>{this.pinnedWidthFeature=this.createManagedBean(new vq(this.eContainer)),this.addManagedListener(this.eventService,W.EVENT_LEFT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(["right","bottomRight","topRight","stickyTopRight"],()=>{this.pinnedWidthFeature=this.createManagedBean(new _q(this.eContainer)),this.addManagedListener(this.eventService,W.EVENT_RIGHT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(["center","left","right","fullWidth"],()=>this.createManagedBean(new c5(this.eContainer,"center"===this.name?i:void 0))),this.forContainers(["topCenter","topLeft","topRight","bottomCenter","bottomLeft","bottomRight","center","left","right","stickyTopCenter","stickyTopLeft","stickyTopRight"],()=>this.createManagedBean(new u5(this.eContainer))),this.forContainers(["center","topCenter","stickyTopCenter","bottomCenter"],()=>this.createManagedBean(new KI(L=>this.comp.setContainerWidth(`${L}px`)))),this.addListeners(),this.registerWithCtrlsService()}addListeners(){this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>this.onDisplayedColumnsChanged()),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>this.onDisplayedColumnsWidthChanged()),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_ROWS_CHANGED,e=>this.onDisplayedRowsChanged(e.afterScroll)),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(["stickyTopCenter","stickyTopLeft","stickyTopRight","stickyTopFullWidth"].indexOf(this.name)>=0)return void this.comp.setDomOrder(!0);const i=()=>{const r=this.gridOptionsService.get("ensureDomOrder"),s=this.gridOptionsService.isDomLayout("print");this.comp.setDomOrder(r||s)};this.addManagedPropertyListener("domLayout",i),i()}stopHScrollOnPinnedRows(){this.forContainers(["topCenter","stickyTopCenter","bottomCenter"],()=>{this.addManagedListener(this.eViewport,"scroll",()=>this.eViewport.scrollLeft=0)})}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const e=n=>{this.dragService.isDragging()&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){const n=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(n,i,e)}getCenterWidth(){return pE(this.eViewport)}getCenterViewportScrollLeft(){return zP(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const n=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>n())}isViewportInTheDOMTree(){return K9(this.eViewport)}getViewportScrollLeft(){return zP(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gridOptionsService.get("alwaysShowHorizontalScroll")||Dce(this.eViewport)}getViewportElement(){return this.eViewport}setContainerTranslateX(e){this.eContainer.style.transform=`translateX(${e}px)`}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){jP(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!tve.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){if(!this.visible)return void this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});const n=this.gridOptionsService.isDomLayout("print"),r=this.gridOptionsService.get("embedFullWidthRows")||n,s=this.getRowCtrls().filter(o=>{const c=o.isFullWidth();return this.isFullWithContainer?!r&&c:r||!c});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}getRowCtrls(){switch(this.name){case"topCenter":case"topLeft":case"topRight":case"topFullWidth":return this.rowRenderer.getTopRowCtrls();case"stickyTopCenter":case"stickyTopLeft":case"stickyTopRight":case"stickyTopFullWidth":return this.rowRenderer.getStickyTopRowCtrls();case"bottomCenter":case"bottomLeft":case"bottomRight":case"bottomFullWidth":return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}}};N([K("dragService")],TE.prototype,"dragService",2),N([K("ctrlsService")],TE.prototype,"ctrlsService",2),N([K("columnModel")],TE.prototype,"columnModel",2),N([K("resizeObserverService")],TE.prototype,"resizeObserverService",2),N([K("rowRenderer")],TE.prototype,"rowRenderer",2),N([tn],TE.prototype,"postConstruct",1);var xue=TE,vg=class extends Ti{constructor(){super('<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="topLeft"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="topCenter"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="topRight"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="topFullWidth"></ag-row-container>\n        </div>\n        <div class="ag-body" ref="eBody" role="presentation">\n            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n                <ag-row-container ref="leftContainer" name="left"></ag-row-container>\n                <ag-row-container ref="centerContainer" name="center"></ag-row-container>\n                <ag-row-container ref="rightContainer" name="right"></ag-row-container>\n                <ag-row-container ref="fullWidthContainer" name="fullWidth"></ag-row-container>\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="stickyTopLeft"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="stickyTopCenter"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="stickyTopRight"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="stickyTopFullWidth"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="bottomLeft"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="bottomCenter"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="bottomRight"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="bottomFullWidth"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>')}init(){const t=(n,i)=>{const r=`${n}px`;i.style.minHeight=r,i.style.height=r},e={setRowAnimationCssOnBodyViewport:(n,i)=>this.setRowAnimationCssOnBodyViewport(n,i),setColumnCount:n=>dce(this.getGui(),n),setRowCount:n=>uce(this.getGui(),n),setTopHeight:n=>t(n,this.eTop),setBottomHeight:n=>t(n,this.eBottom),setTopDisplay:n=>this.eTop.style.display=n,setBottomDisplay:n=>this.eBottom.style.display=n,setStickyTopHeight:n=>this.eStickyTop.style.height=n,setStickyTopTop:n=>this.eStickyTop.style.top=n,setStickyTopWidth:n=>this.eStickyTop.style.width=n,setColumnMovingCss:(n,i)=>this.addOrRemoveCssClass(n,i),updateLayoutClasses:(n,i)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(s=>{s.toggle("ag-layout-auto-height",i.autoHeight),s.toggle("ag-layout-normal",i.normal),s.toggle("ag-layout-print",i.print)}),this.addOrRemoveCssClass("ag-layout-auto-height",i.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",i.normal),this.addOrRemoveCssClass("ag-layout-print",i.print)},setAlwaysVerticalScrollClass:(n,i)=>this.eBodyViewport.classList.toggle(Iue,i),registerBodyViewportResizeListener:n=>{const i=this.resizeObserverService.observeResize(this.eBodyViewport,n);this.addDestroyFunc(()=>i())},setPinnedTopBottomOverflowY:n=>this.eTop.style.overflowY=this.eBottom.style.overflowY=n,setCellSelectableCss:(n,i)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(r=>r.classList.toggle(n,i))},setBodyViewportWidth:n=>this.eBodyViewport.style.width=n};this.ctrl=this.createManagedBean(new $c),this.ctrl.setComp(e,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService&&this.gridOptionsService.get("enableRangeSelection")||"multiple"===this.gridOptionsService.get("rowSelection"))&&cce(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(t,e){const n=this.eBodyViewport.classList;n.toggle("ag-row-animation",e),n.toggle("ag-row-no-animation",!e)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}};N([K("resizeObserverService")],vg.prototype,"resizeObserverService",2),N([Cr("rangeService")],vg.prototype,"rangeService",2),N([fn("eBodyViewport")],vg.prototype,"eBodyViewport",2),N([fn("eStickyTop")],vg.prototype,"eStickyTop",2),N([fn("eTop")],vg.prototype,"eTop",2),N([fn("eBottom")],vg.prototype,"eBottom",2),N([fn("gridHeader")],vg.prototype,"headerRootComp",2),N([fn("eBody")],vg.prototype,"eBody",2),N([tn],vg.prototype,"init",1);var YI=class extends Jt{postConstruct(){this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateImpl())}):this.updateImpl()}updateImpl(){const t=this.ctrlsService.getCenterRowContainerCtrl();if(!t||this.columnAnimationService.isActive())return;const e={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(e)}setScrollsVisible(t){this.horizontalScrollShowing===t.horizontalScrollShowing&&this.verticalScrollShowing===t.verticalScrollShowing||(this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing,this.eventService.dispatchEvent({type:W.EVENT_SCROLL_VISIBILITY_CHANGED}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}};N([K("ctrlsService")],YI.prototype,"ctrlsService",2),N([K("columnAnimationService")],YI.prototype,"columnAnimationService",2),N([tn],YI.prototype,"postConstruct",1),YI=N([In("scrollVisibleService")],YI);var Ov=class extends Jt{constructor(){super(...arguments),this.gridInstanceId=Ov.gridInstanceSequence.next()}stampTopLevelGridCompWithGridInstance(t){t[Ov.GRID_DOM_KEY]=this.gridInstanceId}getRenderedCellForEvent(t){return FV(this.gridOptionsService,t.target,EE.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(t){return this.isElementInThisGrid(t.target)}isElementInThisGrid(t){let e=t;for(;e;){const n=e[Ov.GRID_DOM_KEY];if($t(n))return n===this.gridInstanceId;e=e.parentElement}return!1}getCellPositionForEvent(t){const e=this.getRenderedCellForEvent(t);return e?e.getCellPosition():null}getNormalisedPosition(t){const e=this.gridOptionsService.isDomLayout("normal");let i,r;if(null!=t.clientX||null!=t.clientY?(i=t.clientX,r=t.clientY):(i=t.x,r=t.y),e){const s=this.ctrlsService.getGridBodyCtrl(),o=s.getScrollFeature().getVScrollPosition();i+=s.getScrollFeature().getHScrollPosition().left,r+=o.top}return{x:i,y:r}}};Ov.gridInstanceSequence=new zI,Ov.GRID_DOM_KEY="__ag_grid_instance",N([K("ctrlsService")],Ov.prototype,"ctrlsService",2),Ov=N([In("mouseEventService")],Ov);var ic=class extends Jt{constructor(){super(),this.onPageDown=u9(this.onPageDown,100),this.onPageUp=u9(this.onPageUp,100)}postConstruct(){this.ctrlsService.whenReady(t=>{this.gridBodyCon=t.gridBodyCtrl})}handlePageScrollingKey(t,e=!1){const n=t.key,i=t.altKey,r=t.ctrlKey||t.metaKey,s=!!this.rangeService&&t.shiftKey,o=this.mouseEventService.getCellPositionForEvent(t);let c=!1;switch(n){case Qe.PAGE_HOME:case Qe.PAGE_END:!r&&!i&&(this.onHomeOrEndKey(n),c=!0);break;case Qe.LEFT:case Qe.RIGHT:case Qe.UP:case Qe.DOWN:if(!o)return!1;r&&!i&&!s&&(this.onCtrlUpDownLeftRight(n,o),c=!0);break;case Qe.PAGE_DOWN:case Qe.PAGE_UP:!r&&!i&&(c=this.handlePageUpDown(n,o,e))}return c&&t.preventDefault(),c}handlePageUpDown(t,e,n){return n&&(e=this.focusService.getFocusedCell()),!!e&&(t===Qe.PAGE_UP?this.onPageUp(e):this.onPageDown(e),!0)}navigateTo(t){const{scrollIndex:e,scrollType:n,scrollColumn:i,focusIndex:r,focusColumn:s}=t;$t(i)&&!i.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(i),$t(e)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e,n),t.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(r),this.focusService.setFocusedCell({rowIndex:r,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:r,rowPinned:null,column:s})}onPageDown(t){const n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.getViewportHeight(),r=this.paginationProxy.getPixelOffset(),o=this.paginationProxy.getRowIndexAtPixel(n.top+i+r);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,o):this.navigateToNextPage(t,o)}onPageUp(t){const n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.paginationProxy.getPixelOffset(),s=this.paginationProxy.getRowIndexAtPixel(n.top+i);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,s,!0):this.navigateToNextPage(t,s,!0)}navigateToNextPage(t,e,n=!1){const i=this.getViewportHeight(),r=this.paginationProxy.getPageFirstRow(),s=this.paginationProxy.getPageLastRow(),o=this.paginationProxy.getPixelOffset(),c=this.paginationProxy.getRow(t.rowIndex),h=n?c?.rowHeight-i-o:i-o;let y,m=this.paginationProxy.getRowIndexAtPixel(c?.rowTop+h+o);m===t.rowIndex&&(e=m=t.rowIndex+(n?-1:1)),n?(y="bottom",m<r&&(m=r),e<r&&(e=r)):(y="top",m>s&&(m=s),e>s&&(e=s)),this.isRowTallerThanView(m)&&(e=m,y="top"),this.navigateTo({scrollIndex:e,scrollType:y,scrollColumn:null,focusIndex:m,focusColumn:t.column})}navigateToNextPageWithAutoHeight(t,e,n=!1){this.navigateTo({scrollIndex:e,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:e,focusColumn:t.column}),setTimeout(()=>{const i=this.getNextFocusIndexForAutoHeight(t,n);this.navigateTo({scrollIndex:e,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:t.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(t,e=!1){var n;const i=e?-1:1,r=this.getViewportHeight(),s=this.paginationProxy.getPageLastRow();let o=0,c=t.rowIndex;for(;c>=0&&c<=s;){const h=this.paginationProxy.getRow(c);if(h){const p=null!=(n=h.rowHeight)?n:0;if(o+p>r)break;o+=p}c+=i}return Math.max(0,Math.min(c,s))}getViewportHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.gridOptionsService.getScrollbarWidth();let i=e.bottom-e.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(i-=n),i}isRowTallerThanView(t){const e=this.paginationProxy.getRow(t);if(!e)return!1;const n=e.rowHeight;return"number"==typeof n&&n>this.getViewportHeight()}onCtrlUpDownLeftRight(t,e){const n=this.cellNavigationService.getNextCellToFocus(t,e,!0),{rowIndex:i,column:r}=n;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:r,focusIndex:i,focusColumn:r})}onHomeOrEndKey(t){const e=t===Qe.PAGE_HOME,n=this.columnModel.getAllDisplayedColumns(),i=e?n[0]:Ir(n),r=e?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:i,focusIndex:r,focusColumn:i})}onTabKeyDown(t,e){const n=e.shiftKey;if(this.tabToNextCellCommon(t,n,e))e.preventDefault();else if(n){const{rowIndex:r,rowPinned:s}=t.getRowPosition();(s?0===r:r===this.paginationProxy.getPageFirstRow())&&(0===this.gridOptionsService.get("headerHeight")||this.gridOptionsService.get("suppressHeaderFocus")?this.focusService.focusNextGridCoreContainer(!0,!0):(e.preventDefault(),this.focusService.focusPreviousFromFirstCell(e)))}else t instanceof EE&&t.focusCell(!0),this.focusService.focusNextGridCoreContainer(n)&&e.preventDefault()}tabToNextCell(t,e){const n=this.focusService.getFocusedCell();if(!n)return!1;let i=this.getCellByPosition(n);return!!(i||(i=this.rowRenderer.getRowByPosition(n),i&&i.isFullWidth()))&&this.tabToNextCellCommon(i,t,e)}tabToNextCellCommon(t,e,n){let r,i=t.isEditing();if(!i&&t instanceof EE){const o=t.getRowCtrl();o&&(i=o.isEditing())}return r=i?"fullRow"===this.gridOptionsService.get("editType")?this.moveToNextEditingRow(t,e,n):this.moveToNextEditingCell(t,e,n):this.moveToNextCellNotEditing(t,e),r||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(t,e,n=null){const i=t.getCellPosition();t.getGui().focus(),t.stopEditing();const r=this.findNextCellToFocusOn(i,e,!0);return null!=r&&(r.startEditing(null,!0,n),r.focusCell(!1),!0)}moveToNextEditingRow(t,e,n=null){const i=t.getCellPosition(),r=this.findNextCellToFocusOn(i,e,!0);if(null==r)return!1;const s=r.getCellPosition(),o=this.isCellEditable(i),c=this.isCellEditable(s),h=s&&i.rowIndex===s.rowIndex&&i.rowPinned===s.rowPinned;return o&&t.setFocusOutOnEditor(),h||(t.getRowCtrl().stopEditing(),r.getRowCtrl().startRowEditing(void 0,void 0,n)),c?(r.setFocusInOnEditor(),r.focusCell()):r.focusCell(!0),!0}moveToNextCellNotEditing(t,e){const n=this.columnModel.getAllDisplayedColumns();let i;i=t instanceof SE?Is(Qn({},t.getRowPosition()),{column:e?n[0]:Ir(n)}):t.getCellPosition();const r=this.findNextCellToFocusOn(i,e,!1);if(r instanceof EE)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r.getRowPosition(),e);return $t(r)}findNextCellToFocusOn(t,e,n){let i=t;for(;;){t!==i&&(t=i),e||(i=this.getLastCellOfColSpan(i)),i=this.cellNavigationService.getNextTabbedCell(i,e);const r=this.gridOptionsService.getCallback("tabToNextCell");if($t(r)){const h=r({backwards:e,editing:n,previousCellPosition:t,nextCellPosition:i||null});$t(h)?(h.floating&&(li("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),h.rowPinned=h.floating),i={rowIndex:h.rowIndex,column:h.column,rowPinned:h.rowPinned}):i=null}if(!i)return null;if(i.rowIndex<0){const c=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c+i.rowIndex,column:i.column},fromCell:!0}),null}const s="fullRow"===this.gridOptionsService.get("editType");if(n&&!s&&!this.isCellEditable(i))continue;this.ensureCellVisible(i);const o=this.getCellByPosition(i);if(!o){const c=this.rowRenderer.getRowByPosition(i);if(!c||!c.isFullWidth()||n)continue;return c}if(!o.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(i),o}}isCellEditable(t){const e=this.lookupRowNodeForCell(t);return!!e&&t.column.isCellEditable(e)}getCellByPosition(t){const e=this.rowRenderer.getRowByPosition(t);return e?e.getCellCtrl(t.column):null}lookupRowNodeForCell(t){return"top"===t.rowPinned?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):"bottom"===t.rowPinned?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.paginationProxy.getRow(t.rowIndex)}navigateToNextCell(t,e,n,i){let r=n,s=!1;for(;r&&(r===n||!this.isValidNavigateCell(r));)this.gridOptionsService.get("enableRtl")?e===Qe.LEFT&&(r=this.getLastCellOfColSpan(r)):e===Qe.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=this.cellNavigationService.getNextCellToFocus(e,r),s=pi(r);if(s&&t&&t.key===Qe.UP&&(r={rowIndex:-1,rowPinned:null,column:n.column}),i){const c=this.gridOptionsService.getCallback("navigateToNextCell");if($t(c)){const p=c({key:e,previousCellPosition:n,nextCellPosition:r||null,event:t});$t(p)?(p.floating&&(li("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),p.rowPinned=p.floating),r={rowPinned:p.rowPinned,rowIndex:p.rowIndex,column:p.column}):r=null}}if(!r)return;if(r.rowIndex<0){const c=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c+r.rowIndex,column:n.column},event:t||void 0,fromCell:!0})}const o=this.getNormalisedPosition(r);o?this.focusPosition(o):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(t){this.ensureCellVisible(t);const e=this.getCellByPosition(t);return e?(t=e.getCellPosition(),this.ensureCellVisible(t),t):null}tryToFocusFullWidthRow(t,e=!1){const n=this.columnModel.getAllDisplayedColumns(),i=this.rowRenderer.getRowByPosition(t);if(!i||!i.isFullWidth())return!1;const r=this.focusService.getFocusedCell(),s={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column||(e?Ir(n):n[0])};this.focusPosition(s);const o=null!=r&&this.rowPositionUtils.before(s,r);return this.eventService.dispatchEvent({type:W.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:s.column,isFullWidthCell:!0,floating:s.rowPinned,fromBelow:o}),!0}focusPosition(t){this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(t)}isValidNavigateCell(t){return!!this.rowPositionUtils.getRowNode(t)}getLastCellOfColSpan(t){const e=this.getCellByPosition(t);if(!e)return t;const n=e.getColSpanningList();return 1===n.length?t:{rowIndex:t.rowIndex,column:Ir(n),rowPinned:t.rowPinned}}ensureCellVisible(t){const e=this.gridOptionsService.isGroupRowsSticky(),n=this.rowModel.getRow(t.rowIndex);!(e&&n?.sticky)&&pi(t.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(t.column)}};N([K("mouseEventService")],ic.prototype,"mouseEventService",2),N([K("paginationProxy")],ic.prototype,"paginationProxy",2),N([K("focusService")],ic.prototype,"focusService",2),N([Cr("rangeService")],ic.prototype,"rangeService",2),N([K("columnModel")],ic.prototype,"columnModel",2),N([K("rowModel")],ic.prototype,"rowModel",2),N([K("ctrlsService")],ic.prototype,"ctrlsService",2),N([K("rowRenderer")],ic.prototype,"rowRenderer",2),N([K("headerNavigationService")],ic.prototype,"headerNavigationService",2),N([K("rowPositionUtils")],ic.prototype,"rowPositionUtils",2),N([K("cellNavigationService")],ic.prototype,"cellNavigationService",2),N([K("pinnedRowModel")],ic.prototype,"pinnedRowModel",2),N([tn],ic.prototype,"postConstruct",1),ic=N([In("navigationService")],ic);var yq=class nve extends _E{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){this.gridOptionsService.setDomData(this.getGui(),nve.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),n=this.params;this.addManagedListener(e,"keydown",r=>{XV(this.gridOptionsService,r,n.node,n.column,!0)||n.onKeyDown(r)})}};yq.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",N([tn],yq.prototype,"postConstruct",1);var nMe=yq,iMe=class extends Ti{constructor(t,e,n,i,r){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode(),this.rowCtrl=e.getRowCtrl(),this.eRow=i,this.cellCtrl=e;const s=document.createElement("div");s.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(s);const o=this.getGui();this.forceWrapper=e.isForceWrapper(),this.refreshWrapper(!1);const c=(m,y)=>{null!=y&&""!=y?o.setAttribute(m,y):o.removeAttribute(m)};ho(o,e.getCellAriaRole()),c("col-id",e.getColumnIdSanitised());const h=e.getTabIndex();void 0!==h&&c("tabindex",h.toString()),e.setComp({addOrRemoveCssClass:(m,y)=>this.addOrRemoveCssClass(m,y),setUserStyles:m=>Q9(o,m),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:m=>this.includeSelection=m,setIncludeRowDrag:m=>this.includeRowDrag=m,setIncludeDndSource:m=>this.includeDndSource=m,setRenderDetails:(m,y,I)=>this.setRenderDetails(m,y,I),setEditDetails:(m,y,I)=>this.setEditDetails(m,y,I),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()},this.getGui(),this.eCellWrapper,n,r)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(t,e,n){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=null==this.firstRender;const r=this.refreshWrapper(!1);this.refreshEditStyles(!1),t?!n&&!r&&this.refreshCellRenderer(t)||(this.destroyRenderer(),this.createCellRendererInstance(t)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(e))}setEditDetails(t,e,n){t?this.createCellEditorInstance(t,e,n):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(t){const e=this.includeRowDrag||this.includeDndSource||this.includeSelection,n=e||this.forceWrapper,i=n&&null==this.eCellWrapper;if(i){const p=document.createElement("div");p.setAttribute("role","presentation"),p.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=p,this.getGui().appendChild(this.eCellWrapper)}const r=!n&&null!=this.eCellWrapper;r&&(Of(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!n);const s=!t&&n,o=s&&null==this.eCellValue;if(o){const p=document.createElement("span");p.setAttribute("role","presentation"),p.setAttribute("class","ag-cell-value"),this.eCellValue=p,this.eCellWrapper.appendChild(this.eCellValue)}const c=!s&&null!=this.eCellValue;c&&(Of(this.eCellValue),this.eCellValue=void 0);const h=i||r||o||c;return h&&this.removeControls(),t||e&&this.addControls(),h}addControls(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(t,e,n){const i=this.editorVersion,r=t.newAgStackInstance();if(!r)return;const{params:s}=t;r.then(c=>this.afterCellEditorCreated(i,c,s,e,n)),pi(this.cellEditor)&&s.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(t){const e=this.getParentOfValue();aa(e);const n=null!=t?_a(t,!0):null;null!=n&&(e.textContent=n)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:t}=this.beans;this.cellRenderer=t.destroyBean(this.cellRenderer),Of(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:t}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=t.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=t.destroyBean(this.cellEditorPopupWrapper),Of(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(t){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==t.componentClass)return!1;const e=this.cellRenderer.refresh(t.params);return!0===e||void 0===e}createCellRendererInstance(t){const n=!this.beans.gridOptionsService.get("suppressAnimationFrame"),i=this.rendererVersion,{componentClass:r}=t,s=()=>{if(this.rendererVersion!==i||!this.isAlive())return;const c=t.newAgStackInstance(),h=this.afterCellRendererCreated.bind(this,i,r);c&&c.then(h)};n&&this.firstRender?this.beans.animationFrameService.createTask(s,this.rowNode.rowIndex,"createTasksP2"):s()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(t,e,n){if(this.isAlive()&&t===this.rendererVersion){if(this.cellRenderer=n,this.cellRendererClass=e,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){const r=this.getParentOfValue();aa(r),r.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(n)}afterCellEditorCreated(t,e,n,i,r){if(t!==this.editorVersion)return void this.beans.context.destroyBean(e);if(e.isCancelBeforeStart&&e.isCancelBeforeStart())return this.beans.context.destroyBean(e),void this.cellCtrl.stopEditing(!0);if(!e.getGui)return console.warn(`AG Grid: cellEditor for column ${this.column.getId()} is missing getGui() method`),void this.beans.context.destroyBean(e);this.cellEditor=e,this.cellEditorGui=e.getGui();const c=i||void 0!==e.isPopup&&e.isPopup();c?this.addPopupCellEditor(n,r):this.addInCellEditor(),this.refreshEditStyles(!0,c),e.afterGuiAttached&&e.afterGuiAttached()}refreshEditStyles(t,e){var n;this.addOrRemoveCssClass("ag-cell-inline-editing",t&&!e),this.addOrRemoveCssClass("ag-cell-popup-editing",t&&!!e),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!t||!!e),null==(n=this.rowCtrl)||n.setInlineEditingCss(t)}addInCellEditor(){const t=this.getGui(),e=this.beans.gridOptionsService.getDocument();t.contains(e.activeElement)&&t.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(t,e){"fullRow"===this.beans.gridOptionsService.get("editType")&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const n=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new nMe(t));const i=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&i.appendChild(this.cellEditorGui);const r=this.beans.popupService,s=this.beans.gridOptionsService.get("stopEditingWhenCellsLoseFocus"),o=e??(n.getPopupPosition?n.getPopupPosition():"over"),c=this.beans.gridOptionsService.get("enableRtl"),h={ePopup:i,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:o,alignSide:c?"right":"left",keepWithinBounds:!0},p=r.positionPopupByComponent.bind(r,h),m=this.beans.localeService.getLocaleTextFunc(),y=r.addPopup({modal:s,eChild:i,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:p,ariaLabel:m("ariaLabelCellEditor","Cell Editor")});y&&(this.hideEditorPopup=y.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const t=this.getGui(),e=this.beans.gridOptionsService.getDocument();t.contains(e.activeElement)&&G9()&&t.focus({preventScroll:!0}),aa(this.getParentOfValue())}},rMe=class extends Ti{constructor(t,e,n){super(),this.cellComps={},this.beans=e,this.rowCtrl=t;const i=document.createElement("div");i.setAttribute("comp-id",`${this.getCompId()}`),i.setAttribute("style",this.getInitialStyle(n)),this.setTemplateFromElement(i);const r=this.getGui(),s=r.style;this.domOrder=this.rowCtrl.getDomOrder(),ho(r,"row");const o=this.rowCtrl.getTabIndex();null!=o&&r.setAttribute("tabindex",o.toString()),t.setComp({setDomOrder:h=>this.domOrder=h,setCellCtrls:h=>this.setCellCtrls(h),showFullWidth:h=>this.showFullWidth(h),getFullWidthCellRenderer:()=>this.getFullWidthCellRenderer(),addOrRemoveCssClass:(h,p)=>this.addOrRemoveCssClass(h,p),setUserStyles:h=>Q9(r,h),setTop:h=>s.top=h,setTransform:h=>s.transform=h,setRowIndex:h=>r.setAttribute("row-index",h),setRowId:h=>r.setAttribute("row-id",h),setRowBusinessKey:h=>r.setAttribute("row-business-key",h),refreshFullWidth:h=>this.refreshFullWidth(h)},this.getGui(),n),this.addDestroyFunc(()=>{t.unsetComp(n)})}getInitialStyle(t){const e=this.rowCtrl.getInitialTransform(t);return e?`transform: ${e}`:`top: ${this.rowCtrl.getInitialRowTop(t)}`}showFullWidth(t){const n=t.newAgStackInstance();n&&n.then(i=>{if(this.isAlive()){const r=i.getGui();this.getGui().appendChild(r),this.rowCtrl.setupDetailRowAutoHeight(r),this.setFullWidthRowComp(i)}else this.beans.context.destroyBean(i)})}setCellCtrls(t){const e=Object.assign({},this.cellComps);t.forEach(i=>{const r=i.getInstanceId();null==this.cellComps[r]?this.newCellComp(i):e[r]=null});const n=Hy(e).filter(i=>null!=i);this.destroyCells(n),this.ensureDomOrder(t)}ensureDomOrder(t){if(!this.domOrder)return;const e=[];t.forEach(n=>{const i=this.cellComps[n.getInstanceId()];i&&e.push(i.getGui())}),X9(this.getGui(),e)}newCellComp(t){const e=new iMe(this.beans,t,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[t.getInstanceId()]=e,this.getGui().appendChild(e.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const t=Hy(this.cellComps).filter(e=>null!=e);this.destroyCells(t)}setFullWidthRowComp(t){this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=t,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}getFullWidthCellRenderer(){return this.fullWidthCellRenderer}destroyCells(t){t.forEach(e=>{if(!e)return;const n=e.getCtrl().getInstanceId();this.cellComps[n]===e&&(e.detach(),e.destroy(),this.cellComps[n]=null)})}refreshFullWidth(t){const{fullWidthCellRenderer:e}=this;if(!e||!e.refresh)return!1;const n=t();return e.refresh(n)}},XI=class extends Ti{constructor(){super(function sMe(){const t=Ti.elementGettingCreated.getAttribute("name"),e=xue.getRowContainerCssClasses(t);let n;return n="center"===t||"topCenter"===t||"stickyTopCenter"===t||"bottomCenter"===t?`<div class="${e.viewport}" ref="eViewport" role="presentation">\n                <div class="${e.container}" ref="eContainer"></div>\n            </div>`:`<div class="${e.container}" ref="eContainer"></div>`,n}()),this.rowComps={},this.name=Ti.elementGettingCreated.getAttribute("name"),this.type=function JPe(t){switch(t){case"center":case"topCenter":case"stickyTopCenter":case"bottomCenter":return"center";case"left":case"topLeft":case"stickyTopLeft":case"bottomLeft":return"left";case"right":case"topRight":case"stickyTopRight":case"bottomRight":return"right";case"fullWidth":case"topFullWidth":case"stickyTopFullWidth":case"bottomFullWidth":return"fullWidth";default:throw Error("Invalid Row Container Type")}}(this.name)}postConstruct(){const t={setViewportHeight:n=>this.eViewport.style.height=n,setRowCtrls:({rowCtrls:n})=>this.setRowCtrls(n),setDomOrder:n=>{this.domOrder=n},setContainerWidth:n=>this.eContainer.style.width=n};this.createManagedBean(new xue(this.name)).setComp(t,this.eContainer,this.eViewport)}preDestroy(){this.setRowCtrls([])}setRowCtrls(t){const e=Qn({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,t.forEach(i=>{const r=i.getInstanceId(),s=e[r];if(s)this.rowComps[r]=s,delete e[r],this.ensureDomOrder(s.getGui());else{if(!i.getRowNode().displayed)return;const o=new rMe(i,this.beans,this.type);this.rowComps[r]=o,this.appendRow(o.getGui())}}),Hy(e).forEach(i=>{this.eContainer.removeChild(i.getGui()),i.destroy()}),ho(this.eContainer,"rowgroup")}appendRow(t){this.domOrder?Ace(this.eContainer,t,this.lastPlacedElement):this.eContainer.appendChild(t),this.lastPlacedElement=t}ensureDomOrder(t){this.domOrder&&(Y9(this.eContainer,t,this.lastPlacedElement),this.lastPlacedElement=t)}};N([K("beans")],XI.prototype,"beans",2),N([fn("eViewport")],XI.prototype,"eViewport",2),N([fn("eContainer")],XI.prototype,"eContainer",2),N([tn],XI.prototype,"postConstruct",1),N([zc],XI.prototype,"preDestroy",1);var bq=class{constructor(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}onDragEnter(t){if(this.clearColumnsList(),this.gridOptionsService.get("functionsReadOnly"))return;const e=t.dragItem.columns;e&&e.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?Ri.ICON_PINNED:Ri.ICON_MOVE:null}onDragLeave(t){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(t){}onDragStop(t){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}};N([K("columnModel")],bq.prototype,"columnModel",2),N([K("gridOptionsService")],bq.prototype,"gridOptionsService",2);var IE=class{static attemptMoveColumns(t){const{isFromHeader:e,hDirection:n,xPosition:i,fromEnter:r,fakeEvent:s,pinned:o,gridOptionsService:c,columnModel:h}=t,p=0===n,m=1===n;let{allMovingColumns:y}=t;if(e){let tt=[];y.forEach(zt=>{var Ot;let Se=null,me=zt.getParent();for(;null!=me&&1===me.getDisplayedLeafColumns().length;)Se=me,me=me.getParent();null!=Se?(null!=(Ot=Se.getColGroupDef())&&Ot.marryChildren?Se.getProvidedColumnGroup().getLeafColumns():Se.getLeafColumns()).forEach(et=>{tt.includes(et)||tt.push(et)}):tt.includes(zt)||tt.push(zt)}),y=tt}const I=y.slice();h.sortColumnsLikeGridColumns(I);const L=this.calculateValidMoves({movingCols:I,draggingRight:m,xPosition:i,pinned:o,gridOptionsService:c,columnModel:h}),U=this.calculateOldIndex(I,h);if(0===L.length)return;const X=L[0];let Q=null!==U&&!r;if(e&&(Q=null!==U),Q&&!s&&(p&&X>=U||m&&X<=U))return;const pe=h.getAllDisplayedColumns();let Te=[],Le=null;for(let tt=0;tt<L.length;tt++){const zt=L[tt],Ot=h.getProposedColumnOrder(I,zt);if(!h.doesOrderPassRules(Ot))continue;const Se=Ot.filter(Re=>pe.includes(Re));if(null===Le)Le=Se;else if(!fg(Se,Le))break;const me=this.groupFragCount(Ot);Te.push({move:zt,fragCount:me})}return 0!==Te.length?(Te.sort((tt,zt)=>tt.fragCount-zt.fragCount),this.moveColumns(y,Te[0].move,"uiColumnMoved",!1,h)):void 0}static moveColumns(t,e,n,i,r){return r.moveColumns(t,e,n,i),i?null:{columns:t,toIndex:e}}static calculateOldIndex(t,e){const n=e.getAllGridColumns(),i=Hle(t.map(h=>n.indexOf(h))),r=i[0];return Ir(i)-r!=i.length-1?null:r}static groupFragCount(t){function e(i){let r=[],s=i.getOriginalParent();for(;null!=s;)r.push(s),s=s.getOriginalParent();return r}let n=0;for(let i=0;i<t.length-1;i++){let r=e(t[i]),s=e(t[i+1]);[r,s]=r.length>s.length?[r,s]:[s,r],r.forEach(o=>{-1===s.indexOf(o)&&n++})}return n}static calculateValidMoves(t){const{movingCols:e,draggingRight:n,xPosition:i,pinned:r,gridOptionsService:s,columnModel:o}=t;if(s.get("suppressMovableColumns")||e.some(Te=>Te.getColDef().suppressMovable))return[];const h=o.getDisplayedColumns(r),p=o.getAllGridColumns(),m=h.filter(Te=>yd(e,Te)),y=h.filter(Te=>!yd(e,Te)),I=p.filter(Te=>!yd(e,Te));let X,L=0,U=i;if(n){let Te=0;m.forEach(Le=>Te+=Le.getActualWidth()),U-=Te}if(U>0){for(let Te=0;Te<y.length&&(U-=y[Te].getActualWidth(),!(U<0));Te++)L++;n&&L++}L>0?X=I.indexOf(y[L-1])+1:(X=I.indexOf(y[0]),-1===X&&(X=0));const Q=[X],pe=(Te,Le)=>Te-Le;if(n){let Te=X+1;const Le=p.length-1;for(;Te<=Le;)Q.push(Te),Te++;Q.sort(pe)}else{let Te=X;const Le=p.length-1;let tt=p[Te];for(;Te<=Le&&h.indexOf(tt)<0;)Te++,Q.push(Te),tt=p[Te];Te=X-1;const zt=0;for(;Te>=zt;)Q.push(Te),Te--;Q.sort(pe).reverse()}return Q}static normaliseX(t,e,n,i,r){const s=r.getHeaderRowContainerCtrl(e).getViewport();return n&&(t-=s.getBoundingClientRect().left),i.get("enableRtl")&&(t=s.clientWidth-t),null==e&&(t+=r.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),t}},QI=class{constructor(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=t,this.eContainer=e,this.centerContainer=!$t(t)}init(){this.ctrlsService.whenReady(()=>{this.gridBodyCon=this.ctrlsService.getGridBodyCtrl()})}getIconName(){return this.pinned?Ri.ICON_PINNED:Ri.ICON_MOVE}onDragEnter(t){const e=t.dragItem.columns;if(0===t.dragSource.type)this.setColumnsVisible(e,!0,"uiColumnDragged");else{const i=t.dragItem.visibleState,r=(e||[]).filter(s=>i[s.getId()]);this.setColumnsVisible(r,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(t,e,n){if(t){const i=t.filter(r=>!r.getColDef().lockVisible);this.columnModel.setColumnsVisible(i,e,n)}}setColumnsPinned(t,e,n){if(t){const i=t.filter(r=>!r.getColDef().lockPinned);this.columnModel.setColumnsPinned(i,e,n)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}checkCenterForScrolling(t){if(this.centerContainer){const e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),n=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.get("enableRtl")?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>n-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(t=this.lastDraggingEvent,e=!1,n=!1,i=!1){var r;if(i){if(this.lastMovedInfo){const{columns:m,toIndex:y}=this.lastMovedInfo;IE.moveColumns(m,y,"uiColumnMoved",!0,this.columnModel)}return}if(this.lastDraggingEvent=t,pi(t.hDirection))return;const s=IE.normaliseX(t.x,this.pinned,!1,this.gridOptionsService,this.ctrlsService);e||this.checkCenterForScrolling(s);const o=this.normaliseDirection(t.hDirection),c=t.dragSource.type,h=(null==(r=t.dragSource.getDragItem().columns)?void 0:r.filter(m=>!m.getColDef().lockPinned||m.getPinned()==this.pinned))||[],p=IE.attemptMoveColumns({allMovingColumns:h,isFromHeader:1===c,hDirection:o,xPosition:s,pinned:this.pinned,fromEnter:e,fakeEvent:n,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel});p&&(this.lastMovedInfo=p)}normaliseDirection(t){if(!this.gridOptionsService.get("enableRtl"))return t;switch(t){case 0:return 1;case 1:return 0;default:console.error(`AG Grid: Unknown direction ${t}`)}}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?Ri.ICON_LEFT:Ri.ICON_RIGHT,!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Ri.ICON_MOVE))}moveInterval(){let t;this.intervalCount++,t=10+5*this.intervalCount,t>100&&(t=100);let e=null;const n=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=n.scrollHorizontally(-t):this.needToMoveRight&&(e=n.scrollHorizontally(t)),0!==e)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const r=this.lastDraggingEvent.dragItem.columns.filter(s=>!s.getColDef().lockPinned);r.length>0&&(this.dragAndDropService.setGhostIcon(Ri.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(r,this.needToMoveLeft?"left":"right","uiColumnDragged"),this.dragAndDropService.nudge())}}};N([K("columnModel")],QI.prototype,"columnModel",2),N([K("dragAndDropService")],QI.prototype,"dragAndDropService",2),N([K("gridOptionsService")],QI.prototype,"gridOptionsService",2),N([K("ctrlsService")],QI.prototype,"ctrlsService",2),N([tn],QI.prototype,"init",1);var JI=class extends Jt{constructor(t,e){super(),this.pinned=t,this.eContainer=e}postConstruct(){this.ctrlsService.whenReady(t=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.leftRowContainerCtrl.getContainerElement()],[t.bottomLeftRowContainerCtrl.getContainerElement()],[t.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.rightRowContainerCtrl.getContainerElement()],[t.bottomRightRowContainerCtrl.getContainerElement()],[t.topRightRowContainerCtrl.getContainerElement()]];break;default:this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.centerRowContainerCtrl.getViewportElement()],[t.bottomCenterRowContainerCtrl.getViewportElement()],[t.topCenterRowContainerCtrl.getViewportElement()]]}})}isInterestedIn(t){return 1===t||0===t&&this.gridOptionsService.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}init(){this.moveColumnFeature=this.createManagedBean(new QI(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new bq(this.pinned)),this.dragAndDropService.addDropTarget(this)}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(t){return this.columnModel.isPivotMode()&&0===t.dragSource.type}onDragEnter(t){this.currentDropListener=this.isDropColumnInPivotMode(t)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(t)}onDragLeave(t){this.currentDropListener.onDragLeave(t)}onDragging(t){this.currentDropListener.onDragging(t)}onDragStop(t){this.currentDropListener.onDragStop(t)}};N([K("dragAndDropService")],JI.prototype,"dragAndDropService",2),N([K("columnModel")],JI.prototype,"columnModel",2),N([K("ctrlsService")],JI.prototype,"ctrlsService",2),N([tn],JI.prototype,"postConstruct",1),N([tn],JI.prototype,"init",1);var ZI=class ive extends mq{constructor(e){super(ive.TEMPLATE,e),this.headerCompVersion=0,this.column=e.getColumnGroupChild(),this.pinned=e.getPinned()}postConstruct(){const e=this.getGui();var s,o;s="col-id",null!=(o=this.column.getColId())&&""!=o?e.setAttribute(s,o):e.removeAttribute(s);const i={setWidth:s=>e.style.width=s,addOrRemoveCssClass:(s,o)=>this.addOrRemoveCssClass(s,o),setAriaSort:s=>s?fce(e,s):pce(e),setUserCompDetails:s=>this.setUserCompDetails(s),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(i,this.getGui(),this.eResize,this.eHeaderCompWrapper);const r=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",r)}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;const n=this.headerCompVersion;e.newAgStackInstance().then(i=>this.afterCompCreated(n,i))}afterCompCreated(e,n){e==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=n,this.headerCompGui=n.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(n)}};ZI.TEMPLATE='<div class="ag-header-cell" role="columnheader">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',N([fn("eResize")],ZI.prototype,"eResize",2),N([fn("eHeaderCompWrapper")],ZI.prototype,"eHeaderCompWrapper",2),N([tn],ZI.prototype,"postConstruct",1),N([zc],ZI.prototype,"destroyHeaderComp",1);var oMe=ZI,d5=class rve extends mq{constructor(e){super(rve.TEMPLATE,e)}postConstruct(){const e=this.getGui();e.setAttribute("col-id",this.ctrl.getColId()),this.ctrl.setComp({addOrRemoveCssClass:(r,s)=>this.addOrRemoveCssClass(r,s),setResizableDisplayed:r=>rr(this.eResize,r),setWidth:r=>e.style.width=r,setAriaExpanded:r=>((r,s)=>null!=s?e.setAttribute(r,s):e.removeAttribute(r))("aria-expanded",r),setUserCompDetails:r=>this.setUserCompDetails(r),getUserCompInstance:()=>this.headerGroupComp},e,this.eResize)}setUserCompDetails(e){e.newAgStackInstance().then(n=>this.afterHeaderCompCreated(n))}afterHeaderCompCreated(e){const n=()=>this.destroyBean(e);if(!this.isAlive())return void n();const i=this.getGui(),r=e.getGui();i.appendChild(r),this.addDestroyFunc(n),this.headerGroupComp=e,this.ctrl.setDragSource(i)}};d5.TEMPLATE='<div class="ag-header-group-cell" role="columnheader">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',N([fn("eResize")],d5.prototype,"eResize",2),N([tn],d5.prototype,"postConstruct",1);var aMe=d5,Cq=class extends Ti{constructor(t){super(),this.headerComps={},this.ctrl=t,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}init(){I9(this.getGui(),this.ctrl.getAriaRowIndex());const t={setHeight:e=>this.getGui().style.height=e,setTop:e=>this.getGui().style.top=e,setHeaderCtrls:(e,n)=>this.setHeaderCtrls(e,n),setWidth:e=>this.getGui().style.width=e};this.ctrl.setComp(t)}destroyHeaderCtrls(){this.setHeaderCtrls([],!1)}setHeaderCtrls(t,e){if(!this.isAlive())return;const n=this.headerComps;if(this.headerComps={},t.forEach(i=>{const r=i.getInstanceId();let s=n[r];delete n[r],null==s&&(s=this.createHeaderComp(i),this.getGui().appendChild(s.getGui())),this.headerComps[r]=s}),tc(n,(i,r)=>{this.getGui().removeChild(r.getGui()),this.destroyBean(r)}),e){const i=Hy(this.headerComps);i.sort((s,o)=>s.getCtrl().getColumnGroupChild().getLeft()-o.getCtrl().getColumnGroupChild().getLeft());const r=i.map(s=>s.getGui());X9(this.getGui(),r)}}createHeaderComp(t){let e;switch(this.ctrl.getType()){case"group":e=new aMe(t);break;case"filter":e=new vPe(t);break;default:e=new oMe(t)}return this.createBean(e),e.setParentComponent(this),e}};N([tn],Cq.prototype,"init",1),N([zc],Cq.prototype,"destroyHeaderCtrls",1);var cMe=0,Fv=class sve extends Jt{constructor(e,n,i){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=e,this.parentRowCtrl=i,this.beans=n,this.instanceId=e.getUniqueId()+"-"+cMe++}postConstruct(){this.addManagedPropertyListeners(["suppressHeaderFocus"],()=>this.refreshTabIndex())}shouldStopEventPropagation(e){const{headerRowIndex:n,column:i}=this.focusService.getFocusedHeader();return Lce(this.gridOptionsService,e,n,i)}getWrapperHasFocus(){return this.gridOptionsService.getDocument().activeElement===this.eGui}setGui(e){this.eGui=e,this.addDomData(),this.addManagedListener(this.beans.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onDisplayedColumnsChanged(){!this.comp||!this.column||(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())}refreshFirstAndLastStyles(){const{comp:e,column:n,beans:i}=this;l5.refreshFirstAndLastStyles(e,n,i.columnModel)}refreshAriaColIndex(){const{beans:e,column:n}=this,i=e.columnModel.getAriaColumnIndex(n);A9(this.eGui,i)}addResizeAndMoveKeyboardListeners(){this.resizeFeature&&(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))}refreshTabIndex(){this.gridOptionsService.get("suppressHeaderFocus")?this.eGui.removeAttribute("tabindex"):this.eGui.setAttribute("tabindex","-1")}onGuiKeyDown(e){var n;const r=this.gridOptionsService.getDocument().activeElement,s=e.key===Qe.LEFT||e.key===Qe.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),r!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||s)&&(e.preventDefault(),e.stopImmediatePropagation()),!s))return;const o=e.key===Qe.LEFT!==this.gridOptionsService.get("enableRtl"),c=hue[o?"Left":"Right"];if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const h=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(h,e.shiftKey),null==(n=this.resizeFeature)||n.toggleColumnResizing(!0)}else this.moveHeader(c)}getViewportAdjustedResizeDiff(e){let n=this.getResizeDiff(e);if(this.column.getPinned()){const r=this.pinnedWidthService.getPinnedLeftWidth(),s=this.pinnedWidthService.getPinnedRightWidth(),o=pE(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(r+s+n>o){if(!(o>r+s))return 0;n=o-r-s}}return n}getResizeDiff(e){let n=e.key===Qe.LEFT!==this.gridOptionsService.get("enableRtl");const i=this.column.getPinned(),r=this.gridOptionsService.get("enableRtl");return i&&r!==("right"===i)&&(n=!n),(n?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout(()=>{var e;null==(e=this.resizeFeature)||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){const n=this.getWrapperHasFocus();switch(e.key){case Qe.PAGE_DOWN:case Qe.PAGE_UP:case Qe.PAGE_HOME:case Qe.PAGE_END:n&&e.preventDefault()}}addDomData(){const e=sve.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,e,this),this.addDestroyFunc(()=>this.gridOptionsService.setDomData(this.eGui,e,null))}getGui(){return this.eGui}focus(e){return!!this.eGui&&(this.lastFocusEvent=e||null,this.eGui.focus(),!0)}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,n,i){const r=e??n;this.gridOptionsService.get("preventDefaultOnContextMenu")&&r.preventDefault();const s=i instanceof ts?i:void 0;this.menuService.isHeaderContextMenuEnabled(s)&&this.menuService.showHeaderContextMenu(s,e,n),this.dispatchColumnMouseEvent(W.EVENT_COLUMN_HEADER_CONTEXT_MENU,i)}dispatchColumnMouseEvent(e,n){this.eventService.dispatchEvent({type:e,column:n})}destroy(){super.destroy(),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null}};Fv.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",N([K("pinnedWidthService")],Fv.prototype,"pinnedWidthService",2),N([K("focusService")],Fv.prototype,"focusService",2),N([K("userComponentFactory")],Fv.prototype,"userComponentFactory",2),N([K("ctrlsService")],Fv.prototype,"ctrlsService",2),N([K("dragAndDropService")],Fv.prototype,"dragAndDropService",2),N([K("menuService")],Fv.prototype,"menuService",2),N([tn],Fv.prototype,"postConstruct",1);var h5=Fv,f5=class extends Jt{constructor(t,e,n,i){super(),this.columnOrGroup=t,this.eCell=e,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=i,this.beans=n}setColsSpanning(t){this.colsSpanning=t,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?Ir(this.colsSpanning):this.columnOrGroup}postConstruct(){this.addManagedListener(this.columnOrGroup,ts.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))}setLeftFirstTime(){const t=this.beans.gridOptionsService.get("suppressColumnMoveAnimation"),e=$t(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&e&&!t?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const t=this.getColumnOrGroup(),e=t.getLeft(),n=t.getOldLeft(),i=this.modifyLeftForPrintLayout(t,n),r=this.modifyLeftForPrintLayout(t,e);this.setLeft(i),this.actualLeft=r,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===r&&this.setLeft(r)})}onLeftChanged(){const t=this.getColumnOrGroup(),e=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,e),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(t,e){if(!this.beans.gridOptionsService.isDomLayout("print")||"left"===t.getPinned())return e;const i=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===t.getPinned()?i+this.beans.columnModel.getBodyContainerWidth()+e:i+e}setLeft(t){let e;if($t(t)&&(this.eCell.style.left=`${t}px`),this.columnOrGroup instanceof ts)e=this.columnOrGroup;else{const i=this.columnOrGroup.getLeafColumns();if(!i.length)return;i.length>1&&hce(this.ariaEl,i.length),e=i[0]}}};N([tn],f5.prototype,"postConstruct",1);var rM=class extends Jt{constructor(t,e){super(),this.columns=t,this.element=e}postConstruct(){this.gridOptionsService.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}};N([K("columnHoverService")],rM.prototype,"columnHoverService",2),N([tn],rM.prototype,"postConstruct",1);var uMe=class extends h5{constructor(t,e,n){super(t,e,n),this.iconCreated=!1,this.column=t}setComp(t,e,n,i){this.comp=t,this.eButtonShowMainFilter=n,this.eFloatingFilterBody=i,this.setGui(e),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,ts.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))}resizeHeader(){}moveHeader(){}setupActive(){const t=this.column.getColDef();this.active=!!t.filter&&!!t.floatingFilter}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const t=zs("filter",this.gridOptionsService,this.column);t&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(t))}setupFocus(){this.createManagedBean(new zy(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const t=this.localeService.getLocaleTextFunc();Nf(this.eButtonShowMainFilter,t("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(t){if(this.gridOptionsService.getDocument().activeElement===this.eGui)return;const r=this.focusService.findNextFocusableElement(this.eGui,null,t.shiftKey);if(r)return this.beans.headerNavigationService.scrollToColumn(this.column),t.preventDefault(),void r.focus();const s=this.findNextColumnWithFloatingFilter(t.shiftKey);s&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:s},event:t})&&t.preventDefault()}findNextColumnWithFloatingFilter(t){const e=this.beans.columnModel;let n=this.column;do{if(n=t?e.getDisplayedColBefore(n):e.getDisplayedColAfter(n),!n)break}while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(t){super.handleKeyDown(t);const e=this.getWrapperHasFocus();switch(t.key){case Qe.UP:case Qe.DOWN:e||t.preventDefault();case Qe.LEFT:case Qe.RIGHT:if(e)return;t.stopPropagation();case Qe.ENTER:e&&this.focusService.focusInto(this.eGui)&&t.preventDefault();break;case Qe.ESCAPE:e||this.eGui.focus()}}onFocusIn(t){if(this.eGui.contains(t.relatedTarget))return;const n=!!t.relatedTarget&&!t.relatedTarget.classList.contains("ag-floating-filter"),i=!!t.relatedTarget&&fE(t.relatedTarget,"ag-floating-filter");if(n&&i&&t.target===this.eGui){const s=this.lastFocusEvent;s&&s&&s.key===Qe.TAB&&this.focusService.focusInto(this.eGui,s.shiftKey)}const r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.column)}setupHover(){this.createManagedBean(new rM([this.column],this.eGui));const t=()=>{if(!this.gridOptionsService.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",e)};this.addManagedListener(this.eventService,W.EVENT_COLUMN_HOVER_CHANGED,t),t()}setupLeft(){const t=new f5(this.column,this.eGui,this.beans);this.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;const t=this.beans.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());t&&this.setCompDetails(t)}setCompDetails(t){this.userCompDetails=t,this.comp.setCompDetails(t)}showParentFilter(){this.menuService.showFilterMenu({column:this.column,buttonElement:this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(){if(!this.active)return;const{filterManager:t}=this.beans,e=n=>{const i=this.comp.getFloatingFilterComp();i&&i.then(r=>{if(r){const s=t.getCurrentFloatingFilterParentModel(this.column);r.onParentModelChanged(s,n)}})};this.destroySyncListener=this.addManagedListener(this.column,ts.EVENT_FILTER_CHANGED,e),t.isFilterActive(this.column)&&e(null)}setupWidth(){const t=()=>{const e=`${this.column.getActualWidth()}px`;this.comp.setWidth(e)};this.addManagedListener(this.column,ts.EVENT_WIDTH_CHANGED,t),t()}setupFilterChangedListener(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,ts.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const t=this.beans.filterManager.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(){var t,e;const n=this.active;this.setupActive();const i=!n&&this.active;n&&!this.active&&(null==(t=this.destroySyncListener)||t.call(this),null==(e=this.destroyFilterChangedListener)||e.call(this));const r=this.active?this.beans.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();s&&r?s.then(o=>{var c;!o||this.beans.filterManager.areFilterCompsDifferent(null!=(c=this.userCompDetails)?c:null,r)?this.updateCompDetails(r,i):this.updateFloatingFilterParams(r)}):this.updateCompDetails(r,i)}updateCompDetails(t,e){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),e&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))}updateFloatingFilterParams(t){var e;if(!t)return;const n=t.params;null==(e=this.comp.getFloatingFilterComp())||e.then(i=>{let r=!1;i?.refresh&&"function"==typeof i.refresh&&null!==i.refresh(n)&&(r=!0),!r&&i?.onParamsUpdated&&"function"==typeof i.onParamsUpdated&&null!==i.onParamsUpdated(n)&&li("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null}},eA=class extends Jt{constructor(t,e,n,i,r){super(),this.pinned=t,this.column=e,this.eResize=n,this.comp=i,this.ctrl=r}postConstruct(){const t=[];let e,n;const i=()=>{if(rr(this.eResize,e),!e)return;const o=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(t.push(o),n){const c=this.gridOptionsService.get("skipHeaderOnAutoSize"),h=()=>{this.columnModel.autoSizeColumn(this.column,"uiColumnResized",c)};this.eResize.addEventListener("dblclick",h);const p=new tl(this.eResize);p.addEventListener(tl.EVENT_DOUBLE_TAP,h),t.push(()=>{this.eResize.removeEventListener("dblclick",h),p.removeEventListener(tl.EVENT_DOUBLE_TAP,h),p.destroy()})}},r=()=>{t.forEach(o=>o()),t.length=0},s=()=>{const o=this.column.isResizable(),c=!this.gridOptionsService.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==e||c!==n)&&(e=o,n=c,r(),i())};s(),this.addDestroyFunc(r),this.ctrl.addRefreshFunction(s)}onResizing(t,e){const{column:n,lastResizeAmount:i,resizeStartWidth:r}=this,s=this.normaliseResizeAmount(e),c=[{key:n,newWidth:r+s}];this.column.getPinned()&&this.pinnedWidthService.getPinnedLeftWidth()+this.pinnedWidthService.getPinnedRightWidth()+(s-i)>pE(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50||(this.lastResizeAmount=s,this.columnModel.setColumnWidths(c,this.resizeWithShiftKey,t,"uiColumnResized"),t&&this.toggleColumnResizing(!1))}onResizeStart(t){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=t,this.toggleColumnResizing(!0)}toggleColumnResizing(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)}normaliseResizeAmount(t){let e=t;const n="left"!==this.pinned,i="right"===this.pinned;return this.gridOptionsService.get("enableRtl")?n&&(e*=-1):i&&(e*=-1),e}};N([K("horizontalResizeService")],eA.prototype,"horizontalResizeService",2),N([K("pinnedWidthService")],eA.prototype,"pinnedWidthService",2),N([K("ctrlsService")],eA.prototype,"ctrlsService",2),N([K("columnModel")],eA.prototype,"columnModel",2),N([tn],eA.prototype,"postConstruct",1);var wq=class extends Jt{constructor(t){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=t}onSpaceKeyDown(t){const e=this.cbSelectAll,n=this.gridOptionsService.getDocument();e.isDisplayed()&&!e.getGui().contains(n.activeElement)&&(t.preventDefault(),e.setValue(!e.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(t){this.headerCellCtrl=t,this.cbSelectAll=this.createManagedBean(new n5),this.cbSelectAll.addCssClass("ag-header-select-all"),ho(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,W.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),BP(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const t=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(t);const e=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!e),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const t=this.localeService.getLocaleTextFunc(),n=this.cbSelectAll.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),i=t("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",this.cbSelectAllVisible?`${i} (${n})`:null),this.cbSelectAll.setInputAriaLabel(`${i} (${n})`),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(t){return"multiple"===this.gridOptionsService.get("rowSelection")||(console.warn(`AG Grid: ${t} is only available if using 'multiple' rowSelection.`),!1)}checkRightRowModelType(t){const e=this.rowModel.getType();return"clientSide"===e||"serverSide"===e||(console.warn(`AG Grid: ${t} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${e}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const t=this.cbSelectAll.getValue(),e=this.isFilteredOnly(),n=this.isCurrentPageOnly();let i="uiSelectAll";n?i="uiSelectAllCurrentPage":e&&(i="uiSelectAllFiltered");const r={source:i,justFiltered:e,justCurrentPage:n};t?this.selectionService.selectAllRowNodes(r):this.selectionService.deselectAllRowNodes(r)}isCheckboxSelection(){let t=this.column.getColDef().headerCheckboxSelection;return"function"==typeof t&&(t=t(this.gridOptionsService.addGridCommonParams({column:this.column,colDef:this.column.getColDef()}))),!!t&&this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection")}isFilteredOnly(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}};N([K("rowModel")],wq.prototype,"rowModel",2),N([K("selectionService")],wq.prototype,"selectionService",2);var dMe=class extends h5{constructor(t,e,n){super(t,e,n),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=t}setComp(t,e,n,i){this.comp=t,this.setGui(e),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(i),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new eA(this.getPinned(),this.column,n,t,this)),this.createManagedBean(new rM([this.column],e)),this.createManagedBean(new f5(this.column,e,this.beans)),this.createManagedBean(new zy(e,{shouldStopEventPropagation:r=>this.shouldStopEventPropagation(r),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,ts.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}resizeHeader(t,e){var n,i;if(!this.column.isResizable())return;const r=this.column.getActualWidth(),s=null!=(n=this.column.getMinWidth())?n:0,o=null!=(i=this.column.getMaxWidth())?i:Number.MAX_SAFE_INTEGER,c=Math.min(Math.max(r+t,s),o);this.beans.columnModel.setColumnWidths([{key:this.column,newWidth:c}],e,!0,"uiColumnResized")}moveHeader(t){const{eGui:e,column:n,gridOptionsService:i,ctrlsService:r}=this,s=this.getPinned(),o=e.getBoundingClientRect().left,c=n.getActualWidth(),h=i.get("enableRtl"),m=IE.normaliseX(0===t!==h?o-20:o+c+20,s,!0,i,r);IE.attemptMoveColumns({allMovingColumns:[n],isFromHeader:!0,hDirection:t,xPosition:m,pinned:s,fromEnter:!1,fakeEvent:!1,gridOptionsService:i,columnModel:this.beans.columnModel}),r.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(n,"auto")}setupUserComp(){const t=this.lookupUserCompDetails();this.setCompDetails(t)}setCompDetails(t){this.userCompDetails=t,this.comp.setUserCompDetails(t)}lookupUserCompDetails(){const t=this.createParams(),e=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(e,t)}createParams(){return this.gridOptionsService.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:e=>{this.menuService.showColumnMenu({column:this.column,buttonElement:e,positionBy:"button"})},showColumnMenuAfterMouseClick:e=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:e,positionBy:"mouse"})},showFilter:e=>{this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"columnFilter",positionBy:"button"})},progressSort:e=>{this.beans.sortController.progressSort(this.column,!!e,"uiColumnSorted")},setSort:(e,n)=>{this.beans.sortController.setSortForColumn(this.column,e,!!n,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(e,n)=>{this.setupTooltip(e,n)}})}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new wq(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(t){super.handleKeyDown(t),t.key===Qe.SPACE&&this.selectAllFeature.onSpaceKeyDown(t),t.key===Qe.ENTER&&this.onEnterKeyDown(t),t.key===Qe.DOWN&&t.altKey&&this.showMenuOnKeyPress(t,!1)}onEnterKeyDown(t){t.ctrlKey||t.metaKey?this.showMenuOnKeyPress(t,!0):this.sortable&&this.beans.sortController.progressSort(this.column,t.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(t,e){const n=this.comp.getUserCompInstance();!n||!(n instanceof uq)||n.onMenuKeyboardShortcut(e)&&t.preventDefault()}onFocusIn(t){if(!this.getGui().contains(t.relatedTarget)){const e=this.getRowIndex();this.focusService.setFocusedHeader(e,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(t,e){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const n="whenTruncated"===this.gridOptionsService.get("tooltipShowMode"),i=this.eGui,r=this.column.getColDef();!e&&n&&!r.headerComponent&&(e=()=>{const c=i.querySelector(".ag-header-cell-text");return!c||c.scrollWidth>c.clientWidth});const o=this.createManagedBean(new Pv({getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>i,getLocation:()=>"header",getTooltipValue:()=>t??this.column.getColDef().headerTooltip,shouldDisplayTooltip:e}));this.refreshFunctions.push(()=>o.refreshToolTip())}setupClassesFromColDef(){const t=()=>{const e=this.column.getColDef(),n=l5.getHeaderClassesFromColDef(e,this.gridOptionsService,this.column,null),i=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(r=>{i.has(r)?i.delete(r):this.comp.addOrRemoveCssClass(r,!0)}),i.forEach(r=>this.comp.addOrRemoveCssClass(r,!1))};this.refreshFunctions.push(t),t()}setDragSource(t){if(this.dragSourceElement=t,this.removeDragSource(),!t||!this.draggable)return;const{column:e,beans:n,displayName:i,dragAndDropService:r,gridOptionsService:s}=this,{columnModel:o}=n;let c=!this.gridOptionsService.get("suppressDragLeaveHidesColumns");const h=this.dragSource={type:1,eElement:t,getDefaultIconName:()=>c?Ri.ICON_HIDE:Ri.ICON_NOT_ALLOWED,getDragItem:()=>this.createDragItem(e),dragItemName:i,onDragStarted:()=>{c=!s.get("suppressDragLeaveHidesColumns"),e.setMoving(!0,"uiColumnMoved")},onDragStopped:()=>e.setMoving(!1,"uiColumnMoved"),onGridEnter:p=>{var m;if(c){const y=(null==(m=p?.columns)?void 0:m.filter(I=>!I.getColDef().lockVisible))||[];o.setColumnsVisible(y,!0,"uiColumnMoved")}},onGridExit:p=>{var m;if(c){const y=(null==(m=p?.columns)?void 0:m.filter(I=>!I.getColDef().lockVisible))||[];o.setColumnsVisible(y,!1,"uiColumnMoved")}}};r.addDragSource(h,!0)}createDragItem(t){const e={};return e[t.getId()]=t.isVisible(),{columns:[t],visibleState:e}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(t){this.refreshFunctions.push(t)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(t=>t())}refreshHeaderComp(){const t=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==t.componentClass&&this.attemptHeaderCompRefresh(t.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)}attemptHeaderCompRefresh(t){const e=this.comp.getUserCompInstance();return!(!e||!e.refresh)&&e.refresh(t)}calculateDisplayName(){return this.beans.columnModel.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const t=this.column.getColDef();return!(this.gridOptionsService.get("suppressMovableColumns")||t.suppressMovable||t.lockPosition)||!!t.enableRowGroup||!!t.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){const t=()=>{const e=this.column.getActualWidth();this.comp.setWidth(`${e}px`)};this.addManagedListener(this.column,ts.EVENT_WIDTH_CHANGED,t),t()}setupMovingCss(){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListener(this.column,ts.EVENT_MOVING_CHANGED,t),t()}setupMenuClass(){const t=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListener(this.column,ts.EVENT_MENU_VISIBLE_CHANGED,t),t()}setupSortableClass(){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.addRefreshFunction(t),this.addManagedListener(this.eventService,ts.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))}setupFilterClass(){const t=()=>{const e=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",e),this.refreshAria()};this.addManagedListener(this.column,ts.EVENT_FILTER_ACTIVE_CHANGED,t),t()}setupWrapTextClass(){const t=()=>{const e=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",e)};t(),this.addRefreshFunction(t)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:t,column:e,comp:n,beans:i}=this;if(!e.isSpanHeaderHeight())return t.style.removeProperty("top"),t.style.removeProperty("height"),n.addOrRemoveCssClass("ag-header-span-height",!1),void n.addOrRemoveCssClass("ag-header-span-total",!1);const{numberOfParents:r,isSpanningTotal:s}=this.column.getColumnGroupPaddingInfo();n.addOrRemoveCssClass("ag-header-span-height",r>0);const{columnModel:o}=i,c=o.getColumnHeaderRowHeight();if(0===r)return n.addOrRemoveCssClass("ag-header-span-total",!1),t.style.setProperty("top","0px"),void t.style.setProperty("height",`${c}px`);n.addOrRemoveCssClass("ag-header-span-total",s);const m=r*(o.isPivotMode()?o.getPivotGroupHeaderHeight():o.getGroupHeaderHeight());t.style.setProperty("top",-m+"px"),t.style.setProperty("height",`${c+m}px`)}setupAutoHeight(t){const{columnModel:e,resizeObserverService:n}=this.beans,i=p=>{if(!this.isAlive())return;const{paddingTop:m,paddingBottom:y,borderBottomWidth:I,borderTopWidth:L}=Wy(this.getGui()),Q=t.offsetHeight+(m+y+I+L);if(p<5){const pe=this.beans.gridOptionsService.getDocument();if(!pe||!pe.contains(t)||0==Q)return void window.setTimeout(()=>i(p+1),0)}e.setColumnHeaderHeight(this.column,Q)};let s,r=!1;const o=()=>{const p=this.column.isAutoHeaderHeight();p&&!r&&c(),!p&&r&&h()},c=()=>{r=!0,i(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),s=n.observeResize(t,()=>i(0))},h=()=>{r=!1,s&&s(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),s=void 0};o(),this.addDestroyFunc(()=>h()),this.addManagedListener(this.column,ts.EVENT_WIDTH_CHANGED,()=>r&&i(0)),this.addManagedListener(this.eventService,ts.EVENT_SORT_CHANGED,()=>{r&&window.setTimeout(()=>i(0))}),this.addRefreshFunction(o)}refreshAriaSort(){if(this.sortable){const t=this.localeService.getLocaleTextFunc(),e=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(nce(e)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",t("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",t("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const t=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",t("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(t,e){null!=e?this.ariaDescriptionProperties.set(t,e):this.ariaDescriptionProperties.delete(t)}announceAriaDescription(){const t=this.beans.gridOptionsService.getDocument();if(!this.eGui.contains(t.activeElement))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((n,i)=>"filter"===n?-1:i.charCodeAt(0)-n.charCodeAt(0)).map(n=>this.ariaDescriptionProperties.get(n)).join(". ");this.beans.ariaAnnouncementService.announceValue(e)}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(){const t=()=>{if(!this.gridOptionsService.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",e)};this.addManagedListener(this.eventService,W.EVENT_COLUMN_HOVER_CHANGED,t),t()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(){const t=i=>this.handleMouseOverChange("mouseenter"===i.type);this.addManagedListener(this.getGui(),"mouseenter",t),this.addManagedListener(this.getGui(),"mouseleave",t),this.addManagedListener(this.getGui(),"click",()=>this.dispatchColumnMouseEvent(W.EVENT_COLUMN_HEADER_CLICKED,this.column)),this.addManagedListener(this.getGui(),"contextmenu",i=>this.handleContextMenuMouseEvent(i,void 0,this.column))}handleMouseOverChange(t){this.setActiveHeader(t),this.eventService.dispatchEvent({type:t?W.EVENT_COLUMN_HEADER_MOUSE_OVER:W.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column})}setActiveHeader(t){this.comp.addOrRemoveCssClass("ag-header-active",t)}getAnchorElementForMenu(t){const e=this.comp.getUserCompInstance();return e instanceof uq?e.getAnchorElementForMenu(t):this.getGui()}destroy(){super.destroy(),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null}},sM=class extends Jt{constructor(t,e,n,i){super(),this.eResize=e,this.comp=t,this.pinned=n,this.columnGroup=i}postConstruct(){if(!this.columnGroup.isResizable())return void this.comp.setResizableDisplayed(!1);const t=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(t),!this.gridOptionsService.get("suppressAutoSize")){const e=this.gridOptionsService.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const n=[];this.columnGroup.getDisplayedLeafColumns().forEach(r=>{r.getColDef().suppressAutoSize||n.push(r.getColId())}),n.length>0&&this.columnModel.autoSizeColumns({columns:n,skipHeader:e,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(t){const e=this.getInitialValues(t);this.storeLocalValues(e),this.toggleColumnResizing(!0)}onResizing(t,e,n="uiColumnResized"){const i=this.normaliseDragChange(e);this.resizeColumnsFromLocalValues(this.resizeStartWidth+i,n,t)}getInitialValues(t){const e=this.getColumnsToResize(),n=this.getInitialSizeOfColumns(e),r={columnsToResize:e,resizeStartWidth:n,resizeRatios:this.getSizeRatiosOfColumns(e,n)};let s=null;if(t&&(s=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),s){const o=s.getDisplayedLeafColumns(),c=r.groupAfterColumns=o.filter(p=>p.isResizable()),h=r.groupAfterStartWidth=this.getInitialSizeOfColumns(c);r.groupAfterRatios=this.getSizeRatiosOfColumns(c,h)}else r.groupAfterColumns=void 0,r.groupAfterStartWidth=void 0,r.groupAfterRatios=void 0;return r}storeLocalValues(t){const{columnsToResize:e,resizeStartWidth:n,resizeRatios:i,groupAfterColumns:r,groupAfterStartWidth:s,groupAfterRatios:o}=t;this.resizeCols=e,this.resizeStartWidth=n,this.resizeRatios=i,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=o}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(t){const e=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();e>n.resizeStartWidth&&this.resizeColumns(n,e,t,!0)}resizeColumnsFromLocalValues(t,e,n=!0){var i,r,s;if(!this.resizeCols||!this.resizeRatios)return;const o={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:null!=(i=this.resizeTakeFromCols)?i:void 0,groupAfterStartWidth:null!=(r=this.resizeTakeFromStartWidth)?r:void 0,groupAfterRatios:null!=(s=this.resizeTakeFromRatios)?s:void 0};this.resizeColumns(o,t,e,n)}resizeColumns(t,e,n,i=!0){const{columnsToResize:r,resizeStartWidth:s,resizeRatios:o,groupAfterColumns:c,groupAfterStartWidth:h,groupAfterRatios:p}=t,m=[];m.push({columns:r,ratios:o,width:e}),c&&m.push({columns:c,ratios:p,width:h-(e-s)}),this.columnModel.resizeColumnSets({resizeSets:m,finished:i,source:n}),i&&this.toggleColumnResizing(!1)}toggleColumnResizing(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(e=>e.isResizable())}getInitialSizeOfColumns(t){return t.reduce((e,n)=>e+n.getActualWidth(),0)}getSizeRatiosOfColumns(t,e){return t.map(n=>n.getActualWidth()/e)}normaliseDragChange(t){let e=t;return this.gridOptionsService.get("enableRtl")?"left"!==this.pinned&&(e*=-1):"right"===this.pinned&&(e*=-1),e}destroy(){super.destroy(),this.clearLocalValues()}};N([K("horizontalResizeService")],sM.prototype,"horizontalResizeService",2),N([K("autoWidthCalculator")],sM.prototype,"autoWidthCalculator",2),N([K("columnModel")],sM.prototype,"columnModel",2),N([tn],sM.prototype,"postConstruct",1);var Pue=class extends Jt{constructor(t,e){super(),this.removeChildListenersFuncs=[],this.columnGroup=e,this.comp=t}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,va.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const t=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(e=>{e.addEventListener("widthChanged",t),e.addEventListener("visibleChanged",t),this.removeChildListenersFuncs.push(()=>{e.removeEventListener("widthChanged",t),e.removeEventListener("visibleChanged",t)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(t=>t()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const t=this.columnGroup.getActualWidth();this.comp.setWidth(`${t}px`),this.comp.addOrRemoveCssClass("ag-hidden",0===t)}};N([tn],Pue.prototype,"postConstruct",1);var hMe=class extends h5{constructor(t,e,n){super(t,e,n),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const i=this.getGui();this.setDragSource(i)}},this.column=t}setComp(t,e,n){this.comp=t,this.setGui(e),this.displayName=this.beans.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.addDestroyFunc(()=>{this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature))}),this.setupUserComp(),this.addHeaderMouseListeners();const i=this.getParentRowCtrl().getPinned(),r=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new rM(r,e)),this.createManagedBean(new f5(this.column,e,this.beans)),this.createManagedBean(new Pue(t,this.column)),this.resizeFeature=this.createManagedBean(new sM(t,n,i,this.column)),this.createManagedBean(new zy(e,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener(W.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()}resizeHeader(t,e){if(!this.resizeFeature)return;const n=this.resizeFeature.getInitialValues(e);this.resizeFeature.resizeColumns(n,n.resizeStartWidth+t,"uiColumnResized",!0)}moveHeader(t){const{beans:e,eGui:n,column:i,gridOptionsService:r,ctrlsService:s}=this,o=r.get("enableRtl"),c=0===t,h=this.getPinned(),p=n.getBoundingClientRect(),m=p.left,I=IE.normaliseX(c!==o?m-20:m+p.width+20,h,!0,r,s),L=i.getGroupId(),U=this.focusService.getFocusedHeader();IE.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:t,xPosition:I,pinned:h,fromEnter:!1,fakeEvent:!1,gridOptionsService:r,columnModel:e.columnModel});const X=i.getDisplayedLeafColumns(),Q=c?X[0]:Ir(X);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(Q,"auto"),!this.isAlive()&&U&&this.restoreFocus(L,i,U)}restoreFocus(t,e,n){const i=e.getLeafColumns();if(!i.length)return;const r=i[0].getParent();if(!r)return;const s=this.findGroupWidthId(r,t);s&&this.focusService.focusHeaderPosition({headerPosition:Is(Qn({},n),{column:s})})}findGroupWidthId(t,e){for(;t;){if(t.getGroupId()===e)return t;t=t.getParent()}return null}resizeLeafColumnsToFit(t){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(t)}setupUserComp(){const t=this.gridOptionsService.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:n=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),n,"gridInitializing")},setTooltip:(n,i)=>{this.setupTooltip(n,i)}}),e=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(e)}addHeaderMouseListeners(){const t=i=>this.handleMouseOverChange("mouseenter"===i.type);this.addManagedListener(this.getGui(),"mouseenter",t),this.addManagedListener(this.getGui(),"mouseleave",t),this.addManagedListener(this.getGui(),"click",()=>this.dispatchColumnMouseEvent(W.EVENT_COLUMN_HEADER_CLICKED,this.column.getProvidedColumnGroup())),this.addManagedListener(this.getGui(),"contextmenu",i=>this.handleContextMenuMouseEvent(i,void 0,this.column.getProvidedColumnGroup()))}handleMouseOverChange(t){const n={type:t?W.EVENT_COLUMN_HEADER_MOUSE_OVER:W.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(n)}setupTooltip(t,e){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const n=this.column.getColGroupDef(),i="whenTruncated"===this.gridOptionsService.get("tooltipShowMode"),r=this.eGui;!e&&i&&!n?.headerGroupComponent&&(e=()=>{const o=r.querySelector(".ag-header-group-text");return!o||o.scrollWidth>o.clientWidth});const s={getColumn:()=>this.column,getGui:()=>r,getLocation:()=>"headerGroup",getTooltipValue:()=>t??(n&&n.headerTooltip),shouldDisplayTooltip:e};n&&(s.getColDef=()=>n),this.createBean(new Pv(s))}setupExpandable(){const t=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(t,Wo.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(t,Wo.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))}refreshExpanded(){const t=this.column;this.expandable=t.isExpandable();const e=t.isExpanded();this.comp.setAriaExpanded(this.expandable?e?"true":"false":void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const t=this.column.getColGroupDef(),e=l5.getHeaderClassesFromColDef(t,this.gridOptionsService,null,this.column);this.column.isPadding()?(e.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(i=>i.isSpanHeaderHeight())&&e.push("ag-header-span-height")):e.push("ag-header-group-cell-with-group"),e.forEach(n=>this.comp.addOrRemoveCssClass(n,!0))}setupMovingCss(){const e=this.column.getProvidedColumnGroup().getLeafColumns(),n=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());e.forEach(i=>{this.addManagedListener(i,ts.EVENT_MOVING_CHANGED,n)}),n()}onFocusIn(t){if(!this.eGui.contains(t.relatedTarget)){const e=this.getRowIndex();this.beans.focusService.setFocusedHeader(e,this.column)}}handleKeyDown(t){super.handleKeyDown(t);const e=this.getWrapperHasFocus();if(this.expandable&&e&&t.key===Qe.ENTER){const n=this.column,i=!n.isExpanded();this.beans.columnModel.setColumnGroupOpened(n.getProvidedColumnGroup(),i,"uiColumnExpanded")}}setDragSource(t){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!t))return;const{beans:e,column:n,displayName:i,gridOptionsService:r,dragAndDropService:s}=this,{columnModel:o}=e,c=n.getProvidedColumnGroup().getLeafColumns();let h=!r.get("suppressDragLeaveHidesColumns");const p=this.dragSource={type:1,eElement:t,getDefaultIconName:()=>h?Ri.ICON_HIDE:Ri.ICON_NOT_ALLOWED,dragItemName:i,getDragItem:()=>this.getDragItemForGroup(n),onDragStarted:()=>{h=!r.get("suppressDragLeaveHidesColumns"),c.forEach(m=>m.setMoving(!0,"uiColumnDragged"))},onDragStopped:()=>c.forEach(m=>m.setMoving(!1,"uiColumnDragged")),onGridEnter:m=>{var y;if(h){const I=(null==(y=m?.columns)?void 0:y.filter(L=>!L.getColDef().lockVisible))||[];o.setColumnsVisible(I,!0,"uiColumnMoved")}},onGridExit:m=>{var y;if(h){const I=(null==(y=m?.columns)?void 0:y.filter(L=>!L.getColDef().lockVisible))||[];o.setColumnsVisible(I,!1,"uiColumnMoved")}}};s.addDragSource(p,!0)}getDragItemForGroup(t){const e=t.getProvidedColumnGroup().getLeafColumns(),n={};e.forEach(r=>n[r.getId()]=r.isVisible());const i=[];return this.beans.columnModel.getAllDisplayedColumns().forEach(r=>{e.indexOf(r)>=0&&(i.push(r),Mu(e,r))}),e.forEach(r=>i.push(r)),{columns:i,visibleState:n}}isSuppressMoving(){let t=!1;return this.column.getLeafColumns().forEach(n=>{(n.getColDef().suppressMovable||n.getColDef().lockPosition)&&(t=!0)}),t||this.gridOptionsService.get("suppressMovableColumns")}},fMe=0,oM=class extends Jt{constructor(t,e,n){super(),this.instanceId=fMe++,this.rowIndex=t,this.pinned=e,this.type=n,this.headerRowClass="ag-header-row "+("group"==n?"ag-header-row-column-group":"filter"==n?"ag-header-row-column-filter":"ag-header-row-column")}postConstruct(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.get("ensureDomOrder")}getInstanceId(){return this.instanceId}setComp(t,e=!0){this.comp=t,e&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(){this.addManagedListener(this.eventService,W.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_VIRTUAL_COLUMNS_CHANGED,t=>this.onVirtualColumnsChanged(t.afterScroll)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",t=>this.isEnsureDomOrder=t.currentValue),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))}getHeaderCellCtrl(t){if(this.headerCellCtrls)return uE(this.headerCellCtrls).find(e=>e.getColumnGroupChild()===t)}onDisplayedColumnsChanged(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const t=this.getWidthForRow();this.comp.setWidth(`${t}px`)}getWidthForRow(){const{columnModel:t}=this.beans;return this.isPrintLayout?null!=this.pinned?0:t.getContainerWidth("right")+t.getContainerWidth("left")+t.getContainerWidth(null):t.getContainerWidth(this.pinned)}onRowHeightChanged(){var{topOffset:t,rowHeight:e}=this.getTopAndHeight();this.comp.setTop(t+"px"),this.comp.setHeight(e+"px")}getTopAndHeight(){const{columnModel:t,filterManager:e}=this.beans;let n=t.getHeaderRowCount();const i=[];let r=0;e.hasFloatingFilters()&&(n++,r=1);const s=t.getColumnGroupHeaderRowHeight(),o=t.getColumnHeaderRowHeight(),h=n-(1+r);for(let y=0;y<h;y++)i.push(s);i.push(o);for(let y=0;y<r;y++)i.push(t.getFloatingFiltersHeight());let p=0;for(let y=0;y<this.rowIndex;y++)p+=i[y];return{topOffset:p,rowHeight:i[this.rowIndex]}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(t=!1){const e=this.getHeaderCtrls();this.comp.setHeaderCtrls(e,this.isEnsureDomOrder||this.isPrintLayout,t)}getHeaderCtrls(){const t=this.headerCellCtrls;this.headerCellCtrls=new Map;const e=this.getColumnsInViewport();for(const r of e)this.recycleAndCreateHeaderCtrls(r,t);const n=r=>{const{focusService:s,columnModel:o}=this.beans;return!!s.isHeaderWrapperFocused(r)&&o.isDisplayed(r.getColumnGroupChild())};if(t)for(const[r,s]of t)n(s)?this.headerCellCtrls.set(r,s):this.destroyBean(s);return Array.from(this.headerCellCtrls.values())}recycleAndCreateHeaderCtrls(t,e){if(!this.headerCellCtrls||t.isEmptyGroup())return;const n=t.getUniqueId();let i;if(e&&(i=e.get(n),e.delete(n)),i&&i.getColumnGroupChild()!=t&&(this.destroyBean(i),i=void 0),null==i)switch(this.type){case"filter":i=this.createBean(new uMe(t,this.beans,this));break;case"group":i=this.createBean(new hMe(t,this.beans,this));break;default:i=this.createBean(new dMe(t,this.beans,this))}this.headerCellCtrls.set(n,i)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(null!=this.pinned)return[];let t=[];const e=this.getActualDepth(),{columnModel:n}=this.beans;return["left",null,"right"].forEach(i=>{const r=n.getVirtualHeaderGroupRow(i,e);t=t.concat(r)}),t}getActualDepth(){return"filter"==this.type?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())}focusHeader(t,e){if(!this.headerCellCtrls)return!1;const i=Array.from(this.headerCellCtrls.values()).find(r=>r.getColumnGroupChild()==t);return!!i&&i.focus(e)}destroy(){this.headerCellCtrls&&this.headerCellCtrls.forEach(t=>{this.destroyBean(t)}),this.headerCellCtrls=void 0,super.destroy()}};N([K("beans")],oM.prototype,"beans",2),N([tn],oM.prototype,"postConstruct",1);var AE=class extends Jt{constructor(t){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=t}setComp(t,e){this.comp=t,this.eViewport=e,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,W.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}setupDragAndDrop(t){const e=new JI(this.pinned,t);this.createManagedBean(e)}refresh(t=!1){const e=new zI,n=this.focusService.getFocusHeaderToUseAfterRefresh();(()=>{const c=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let h=0;h<c;h++){const p=this.createBean(new oM(e.next(),this.pinned,"group"));this.groupsRowCtrls.push(p)}})(),(()=>{const c=e.next(),h=!(this.hidden||null!=this.columnsRowCtrl&&t&&this.columnsRowCtrl.getRowIndex()===c);(h||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),h&&(this.columnsRowCtrl=this.createBean(new oM(c,this.pinned,"column")))})(),(()=>{this.includeFloatingFilter=this.filterManager.hasFloatingFilters()&&!this.hidden;const c=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter)return void c();const h=e.next();if(this.filtersRowCtrl){const p=this.filtersRowCtrl.getRowIndex()!==h;(!t||p)&&c()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new oM(h,this.pinned,"filter")))})();const o=this.getAllCtrls();this.comp.setCtrls(o),this.restoreFocusOnHeader(n)}restoreFocusOnHeader(t){null==t||t.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:t})}getAllCtrls(){const t=[...this.groupsRowCtrls];return this.columnsRowCtrl&&t.push(this.columnsRowCtrl),this.filtersRowCtrl&&t.push(this.filtersRowCtrl),t}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const t=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){null==this.pinned&&this.createManagedBean(new KI(t=>this.comp.setCenterWidth(`${t}px`),!0))}setHorizontalScroll(t){this.comp.setViewportScrollLeft(t)}setupPinnedWidth(){if(null==this.pinned)return;const t="left"===this.pinned,e="right"===this.pinned;this.hidden=!0;const n=()=>{const i=t?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(null==i)return;const r=0==i,s=this.hidden!==r,o=this.gridOptionsService.get("enableRtl"),c=this.gridOptionsService.getScrollbarWidth(),p=this.scrollVisibleService.isVerticalScrollShowing()&&(o&&t||!o&&e)?i+c:i;this.comp.setPinnedContainerWidth(`${p}px`),this.comp.setDisplayed(!r),s&&(this.hidden=r,this.refresh())};this.addManagedListener(this.eventService,W.EVENT_LEFT_PINNED_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,W.EVENT_RIGHT_PINNED_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,W.EVENT_SCROLL_VISIBILITY_CHANGED,n),this.addManagedListener(this.eventService,W.EVENT_SCROLLBAR_WIDTH_CHANGED,n)}getHeaderCtrlForColumn(t){if(t instanceof ts)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(t):void 0;if(0!==this.groupsRowCtrls.length)for(let e=0;e<this.groupsRowCtrls.length;e++){const n=this.groupsRowCtrls[e].getHeaderCellCtrl(t);if(n)return n}}getHtmlElementForColumnHeader(t){const e=this.getHeaderCtrlForColumn(t);return e?e.getGui():null}getRowType(t){const n=this.getAllCtrls()[t];return n?n.getType():void 0}focusHeader(t,e,n){const r=this.getAllCtrls()[t];return!!r&&r.focusHeader(e,n)}getViewport(){return this.eViewport}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}};N([K("ctrlsService")],AE.prototype,"ctrlsService",2),N([K("scrollVisibleService")],AE.prototype,"scrollVisibleService",2),N([K("pinnedWidthService")],AE.prototype,"pinnedWidthService",2),N([K("columnModel")],AE.prototype,"columnModel",2),N([K("focusService")],AE.prototype,"focusService",2),N([K("filterManager")],AE.prototype,"filterManager",2);var DE=class JG extends Ti{constructor(e){super(),this.headerRowComps={},this.rowCompsList=[],this.pinned=e}init(){this.selectAndSetTemplate();const e={setDisplayed:i=>this.setDisplayed(i),setCtrls:i=>this.setCtrls(i),setCenterWidth:i=>this.eCenterContainer.style.width=i,setViewportScrollLeft:i=>this.getGui().scrollLeft=i,setPinnedContainerWidth:i=>{const r=this.getGui();r.style.width=i,r.style.maxWidth=i,r.style.minWidth=i}};this.createManagedBean(new AE(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){this.setTemplate("left"==this.pinned?JG.PINNED_LEFT_TEMPLATE:"right"==this.pinned?JG.PINNED_RIGHT_TEMPLATE:JG.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()}destroyRowComps(){this.setCtrls([])}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){const n=this.headerRowComps;let i;this.headerRowComps={},this.rowCompsList=[];const r=s=>{const o=s.getGui();o.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(o),i&&Y9(this.eRowContainer,o,i),i=o};e.forEach(s=>{const o=s.getInstanceId(),c=n[o];delete n[o];const h=c||this.createBean(new Cq(s));this.headerRowComps[o]=h,this.rowCompsList.push(h),r(h)}),Hy(n).forEach(s=>this.destroyRowComp(s))}};DE.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="rowgroup"></div>',DE.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="rowgroup"></div>',DE.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',N([fn("eCenterContainer")],DE.prototype,"eCenterContainer",2),N([tn],DE.prototype,"init",1),N([zc],DE.prototype,"destroyRowComps",1);var Eq=DE,RE=class extends Jt{constructor(){super(...arguments),this.currentHeaderRowWithoutSpan=-1}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl});const t=this.gridOptionsService.getDocument();this.addManagedListener(t,"mousedown",()=>this.setCurrentHeaderRowWithoutSpan(-1))}getHeaderRowCount(){const t=this.ctrlsService.getHeaderRowContainerCtrl();return t?t.getRowCount():0}navigateVertically(t,e,n){if(e||(e=this.focusService.getFocusedHeader()),!e)return!1;const{headerRowIndex:i,column:r}=e,s=this.getHeaderRowCount(),o=0===t;let{headerRowIndex:c,column:h,headerRowIndexWithoutSpan:p}=o?this.headerPositionUtils.getColumnVisibleParent(r,i):this.headerPositionUtils.getColumnVisibleChild(r,i),m=!1;return c<0&&(c=0,h=r,m=!0),c>=s?(c=-1,this.setCurrentHeaderRowWithoutSpan(-1)):void 0!==p&&(this.currentHeaderRowWithoutSpan=p),!(!m&&!h)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:h},allowUserOverride:!0,event:n})}setCurrentHeaderRowWithoutSpan(t){this.currentHeaderRowWithoutSpan=t}navigateHorizontally(t,e=!1,n){const i=this.focusService.getFocusedHeader(),r=2===t,s=this.gridOptionsService.get("enableRtl");let o,c;return-1!==this.currentHeaderRowWithoutSpan?i.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=i.headerRowIndex,r!==s?(c="Before",o=this.headerPositionUtils.findHeader(i,c)):(c="After",o=this.headerPositionUtils.findHeader(i,c)),o||!e?this.focusService.focusHeaderPosition({headerPosition:o,direction:c,fromTab:e,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(i,c,n)}focusNextHeaderRow(t,e,n){const i=t.headerRowIndex;let s,r=null;if("Before"===e?i>0&&(s=i-1,this.currentHeaderRowWithoutSpan-=1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"end")):(s=i+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),r=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"start")),!r)return!1;const{column:o,headerRowIndex:c}=this.headerPositionUtils.getHeaderIndexToFocus(r.column,r?.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:c},direction:e,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(t,e="After"){if(t.getPinned())return;let n;if(t instanceof va){const i=t.getDisplayedLeafColumns();n="Before"===e?Ir(i):i[0]}else n=t;this.gridBodyCon.getScrollFeature().ensureColumnVisible(n)}};N([K("focusService")],RE.prototype,"focusService",2),N([K("headerPositionUtils")],RE.prototype,"headerPositionUtils",2),N([K("ctrlsService")],RE.prototype,"ctrlsService",2),N([tn],RE.prototype,"postConstruct",1),RE=N([In("headerNavigationService")],RE);var xE=class extends Jt{setComp(t,e,n){this.comp=t,this.eGui=e,this.createManagedBean(new zy(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight();const i=this.onHeaderContextMenu.bind(this);this.addManagedListener(this.eGui,"contextmenu",i),this.mockContextMenuForIPad(i),this.ctrlsService.registerGridHeaderCtrl(this)}setupHeaderHeight(){const t=this.setHeaderHeight.bind(this);t(),this.addManagedPropertyListener("headerHeight",t),this.addManagedPropertyListener("pivotHeaderHeight",t),this.addManagedPropertyListener("groupHeaderHeight",t),this.addManagedPropertyListener("pivotGroupHeaderHeight",t),this.addManagedPropertyListener("floatingFiltersHeight",t),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_GRID_STYLES_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,t)}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:t}=this;let i,e=0,n=t.getHeaderRowCount();this.filterManager.hasFloatingFilters()&&(n++,e=1);const s=this.columnModel.getColumnGroupHeaderRowHeight(),o=this.columnModel.getColumnHeaderRowHeight(),h=n-(1+e);i=e*t.getFloatingFiltersHeight(),i+=h*s,i+=o,this.headerHeight!==i&&(this.headerHeight=i,this.comp.setHeightAndMinHeight(`${i+1}px`),this.eventService.dispatchEvent({type:W.EVENT_HEADER_HEIGHT_CHANGED}))}onPivotModeChanged(){const t=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)}onDisplayedColumnsChanged(){const e=this.columnModel.getAllDisplayedColumns().some(n=>n.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",e)}onTabKeyDown(t){const e=this.gridOptionsService.get("enableRtl");(this.headerNavigationService.navigateHorizontally(t.shiftKey!==e?2:3,!0,t)||this.focusService.focusNextGridCoreContainer(t.shiftKey))&&t.preventDefault()}handleKeyDown(t){let e=null;switch(t.key){case Qe.LEFT:e=2;case Qe.RIGHT:$t(e)||(e=3),this.headerNavigationService.navigateHorizontally(e,!1,t);break;case Qe.UP:e=0;case Qe.DOWN:$t(e)||(e=1),this.headerNavigationService.navigateVertically(e,null,t)&&t.preventDefault();break;default:return}}onFocusOut(t){const e=this.gridOptionsService.getDocument(),{relatedTarget:n}=t;!n&&this.eGui.contains(e.activeElement)||this.eGui.contains(n)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(t,e,n){if(!t&&!n||!this.menuService.isHeaderContextMenuEnabled())return;const{target:i}=t??e;(i===this.eGui||i===this.ctrlsService.getHeaderRowContainerCtrl().getViewport())&&this.menuService.showHeaderContextMenu(void 0,t,n)}mockContextMenuForIPad(t){if(!xv())return;const e=new tl(this.eGui);this.addManagedListener(e,tl.EVENT_LONG_TAP,i=>{t(void 0,i.touchStart,i.touchEvent)}),this.addDestroyFunc(()=>e.destroy())}};N([K("headerNavigationService")],xE.prototype,"headerNavigationService",2),N([K("focusService")],xE.prototype,"focusService",2),N([K("columnModel")],xE.prototype,"columnModel",2),N([K("ctrlsService")],xE.prototype,"ctrlsService",2),N([K("filterManager")],xE.prototype,"filterManager",2),N([K("menuService")],xE.prototype,"menuService",2);var Sq=class ove extends Ti{constructor(){super(ove.TEMPLATE)}postConstruct(){const e={addOrRemoveCssClass:(r,s)=>this.addOrRemoveCssClass(r,s),setHeightAndMinHeight:r=>{this.getGui().style.height=r,this.getGui().style.minHeight=r}};this.createManagedBean(new xE).setComp(e,this.getGui(),this.getFocusableElement());const i=r=>{this.createManagedBean(r),this.appendChild(r)};i(new Eq("left")),i(new Eq(null)),i(new Eq("right"))}};Sq.TEMPLATE='<div class="ag-header" role="presentation"/>',N([tn],Sq.prototype,"postConstruct",1);var gMe=Sq,aM=class extends Jt{addResizeBar(t){const e={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(e),()=>this.dragService.removeDragSource(e)}onDragStart(t,e){this.dragStartX=e.clientX,this.setResizeIcons();const n=e instanceof MouseEvent&&!0===e.shiftKey;t.onResizeStart(n)}setResizeIcons(){const t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!0),t.disableUserSelect(!0)}onDragStop(t,e){t.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!1),t.disableUserSelect(!1)}onDragging(t,e){this.resizeAmount=e.clientX-this.dragStartX,t.onResizing(this.resizeAmount)}};N([K("dragService")],aM.prototype,"dragService",2),N([K("ctrlsService")],aM.prototype,"ctrlsService",2),aM=N([In("horizontalResizeService")],aM);var $y=class extends Jt{hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(t,e,n){this.showPopup(t,i=>{this.popupService.positionPopupUnderMouseEvent({column:t,type:n,mouseEvent:e,ePopup:i})},n,e.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(t,e,n){let i=-1,r="left";const s=this.menuService.isLegacyMenuEnabled();!s&&this.gridOptionsService.get("enableRtl")&&(i=1,r="right");let o=s?void 0:4*i,c=s?void 0:4;this.showPopup(t,h=>{this.popupService.positionPopupByComponent({type:n,eventSource:e,ePopup:h,nudgeX:o,nudgeY:c,alignSide:r,keepWithinBounds:!0,position:"under",column:t})},n,e,s)}showPopup(t,e,n,i,r){const s=t?this.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU"):void 0;if(!s||!t)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const o=document.createElement("div");let c;ho(o,"presentation"),o.classList.add("ag-menu"),r||o.classList.add("ag-filter-menu"),this.tabListener=this.addManagedListener(o,"keydown",U=>this.trapFocusWithin(U,o)),s.guiPromise.then(U=>o.appendChild(U));const p=this.menuService.isColumnMenuAnchoringEnabled()?i??this.ctrlsService.getGridBodyCtrl().getGui():void 0,y=this.localeService.getLocaleTextFunc(),I=r&&"columnFilter"!==n?y("ariaLabelColumnMenu","Column Menu"):y("ariaLabelColumnFilter","Column Filter"),L=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:U=>{t.setMenuVisible(!1,"contextMenu");const X=U instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),X&&i&&bd(i)){const Q=this.focusService.findTabbableParent(i);Q&&Q.focus()}(()=>{var U;null==(U=s.filterPromise)||U.then(X=>{var Q;return null==(Q=X?.afterGuiDetached)?void 0:Q.call(X)})})(),this.dispatchVisibleChangedEvent(!1,n,t)},positionCallback:()=>e(o),anchorToElement:p,ariaLabel:I});L&&(this.hidePopup=c=L.hideFunc),s.filterPromise.then(U=>{e(o),U.afterGuiAttached&&U.afterGuiAttached({container:n,hidePopup:c})}),t.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,t)}trapFocusWithin(t,e){t.key!==Qe.TAB||t.defaultPrevented||this.focusService.findNextFocusableElement(e,!1,t.shiftKey)||(t.preventDefault(),this.focusService.focusInto(e,t.shiftKey))}dispatchVisibleChangedEvent(t,e,n){this.eventService.dispatchEvent({type:W.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:t,switchingTab:!1,key:e,column:n??null})}isMenuEnabled(t){var e;return t.isFilterAllowed()&&(null!=(e=t.getColDef().menuTabs)?e:["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}};N([K("filterManager")],$y.prototype,"filterManager",2),N([K("popupService")],$y.prototype,"popupService",2),N([K("focusService")],$y.prototype,"focusService",2),N([K("ctrlsService")],$y.prototype,"ctrlsService",2),N([K("menuService")],$y.prototype,"menuService",2),$y=N([In("filterMenuFactory")],$y);var Tq=class extends Jt{constructor(t){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1;const{comp:e,eTopGuard:n,eBottomGuard:i,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:s,focusInnerElement:o,onFocusIn:c,onFocusOut:h,shouldStopEventPropagation:p,onTabKeyDown:m,handleKeyDown:y,eFocusableElement:I}=t;this.comp=e,this.eTopGuard=n,this.eBottomGuard=i,this.providedFocusInnerElement=o,this.eFocusableElement=I,this.focusTrapActive=!!r,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.providedFocusIn=c,this.providedFocusOut=h,this.providedShouldStopEventPropagation=p,this.providedOnTabKeyDown=m,this.providedHandleKeyDown=y}postConstruct(){this.createManagedBean(new zy(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:t=>this.onTabKeyDown(t),handleKeyDown:t=>this.handleKeyDown(t),onFocusIn:t=>this.onFocusIn(t),onFocusOut:t=>this.onFocusOut(t)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(t=>this.addManagedListener(t,"focus",this.onFocus.bind(this)))}handleKeyDown(t){this.providedHandleKeyDown&&this.providedHandleKeyDown(t)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()}activateTabGuards(){if(this.forcingFocusOut)return;const t=this.gridOptionsService.get("tabIndex");this.comp.setTabIndex(t.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(t){if(this.skipTabGuardFocus)return void(this.skipTabGuardFocus=!1);if(this.forceFocusOutWhenTabGuardsAreEmpty&&0===this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length)return void this.findNextElementOutsideAndFocus(t.target===this.eBottomGuard);const e=t.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(e):this.focusInnerElement(e)}findNextElementOutsideAndFocus(t){const e=this.gridOptionsService.getDocument(),n=this.focusService.findFocusableElements(e.body,null,!0),i=n.indexOf(t?this.eTopGuard:this.eBottomGuard);if(-1===i)return;let r,s;t?(r=0,s=i):(r=i+1,s=n.length);const o=n.slice(r,s),c=this.gridOptionsService.get("tabIndex");o.sort((h,p)=>{const m=parseInt(h.getAttribute("tabindex")||"0"),y=parseInt(p.getAttribute("tabindex")||"0");return y===c?1:m===c?-1:0===m?1:0===y?-1:m-y}),o[t?o.length-1:0].focus()}onFocusIn(t){this.focusTrapActive||(this.providedFocusIn&&this.providedFocusIn(t),this.deactivateTabGuards())}onFocusOut(t){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(t),this.eFocusableElement.contains(t.relatedTarget)||this.activateTabGuards())}onTabKeyDown(t){if(this.providedOnTabKeyDown)return void this.providedOnTabKeyDown(t);if(this.focusTrapActive||t.defaultPrevented)return;const e=this.tabGuardsAreActive();e&&this.deactivateTabGuards();const n=this.getNextFocusableElement(t.shiftKey);e&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),t.preventDefault())}focusInnerElement(t=!1){const e=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(e.splice(0,1),e.splice(e.length-1,1)),e.length&&e[t?e.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(t){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,t)}forceFocusOutOfContainer(t=!1){if(this.forcingFocusOut)return;const e=t?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,e.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(t){return t===this.eTopGuard||t===this.eBottomGuard}};N([K("focusService")],Tq.prototype,"focusService",2),N([tn],Tq.prototype,"postConstruct",1);var lM=class extends Ti{initialiseTabGuard(t){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();const e=[this.eTopGuard,this.eBottomGuard],n={setTabIndex:i=>{e.forEach(r=>null!=i?r.setAttribute("tabindex",i):r.removeAttribute("tabindex"))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new Tq({comp:n,focusTrapActive:!!t.focusTrapActive,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:t.onFocusIn,onFocusOut:t.onFocusOut,focusInnerElement:t.focusInnerElement,handleKeyDown:t.handleKeyDown,onTabKeyDown:t.onTabKeyDown,shouldStopEventPropagation:t.shouldStopEventPropagation,forceFocusOutWhenTabGuardsAreEmpty:t.forceFocusOutWhenTabGuardsAreEmpty}))}createTabGuard(t){const e=document.createElement("div");return e.classList.add("ag-tab-guard","top"===t?"ag-tab-guard-top":"ag-tab-guard-bottom"),ho(e,"presentation"),e}addTabGuards(t,e){this.eFocusableElement.insertAdjacentElement("afterbegin",t),this.eFocusableElement.insertAdjacentElement("beforeend",e)}removeAllChildrenExceptTabGuards(){const t=[this.eTopGuard,this.eBottomGuard];aa(this.getFocusableElement()),this.addTabGuards(...t)}forceFocusOutOfContainer(t=!1){this.tabGuardCtrl.forceFocusOutOfContainer(t)}appendChild(t,e){qP(t)||(t=t.getGui());const{eBottomGuard:n}=this;n?n.insertAdjacentElement("beforebegin",t):super.appendChild(t,e)}},p5=class ave extends lM{constructor(e){super(ave.getTemplate(e.cssClass)),this.items=[],this.tabbedItemScrollMap=new Map,this.params=e}postConstruct(){this.setupHeader(),this.params.items&&this.params.items.forEach(e=>this.addItem(e)),this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc(()=>{var e,n,i;return null==(i=null==(n=null==(e=this.activeItem)?void 0:e.tabbedItem)?void 0:n.afterDetachedCallback)?void 0:i.call(n)})}static getTemplate(e){return`<div class="ag-tabs ${e}">\n            <div ref="eHeader"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body ${e?`${e}-body`:""}"></div>\n        </div>`}setupHeader(){const{enableCloseButton:e,cssClass:n}=this.params,i=(r,s)=>{r.classList.add(`ag-tabs-${s}`),n&&r.classList.add(`${n}-${s}`)};e?(this.setupCloseButton(i),this.eTabHeader=this.gridOptionsService.getDocument().createElement("div"),i(this.eHeader,"header-wrapper"),ho(this.eHeader,"presentation"),this.eHeader.appendChild(this.eTabHeader)):this.eTabHeader=this.eHeader,ho(this.eTabHeader,"tablist"),i(this.eTabHeader,"header")}setupCloseButton(e){const n=this.gridOptionsService.getDocument(),i=n.createElement("button");e(i,"close-button");const r=zs("close",this.gridOptionsService,void 0,!0);Nf(i,this.params.closeButtonAriaLabel),i.appendChild(r),this.addManagedListener(i,"click",()=>{var o,c;return null==(c=(o=this.params).onCloseClicked)?void 0:c.call(o)});const s=n.createElement("div");e(s,"close-button-wrapper"),ho(s,"presentation"),s.appendChild(i),this.eHeader.appendChild(s),this.eCloseButton=i}handleKeyDown(e){const n=this.gridOptionsService.getDocument();switch(e.key){case Qe.RIGHT:case Qe.LEFT:if(!this.eTabHeader.contains(n.activeElement))return;const i=e.key===Qe.RIGHT,r=this.gridOptionsService.get("enableRtl"),s=this.items.indexOf(this.activeItem),o=i!==r?Math.min(s+1,this.items.length-1):Math.max(s-1,0);if(s===o)return;e.preventDefault();const c=this.items[o];this.showItemWrapper(c),c.eHeaderButton.focus();break;case Qe.UP:case Qe.DOWN:e.stopPropagation()}}onTabKeyDown(e){var n,i,r,s;if(e.defaultPrevented)return;const{focusService:o,eHeader:c,eBody:h,activeItem:p,params:m}=this,{suppressTrapFocus:y,enableCloseButton:I}=m,U=this.gridOptionsService.getDocument().activeElement,X=e.target,Q=e.shiftKey;if(c.contains(U))return e.preventDefault(),void(!I||!Q||null!=(n=this.eCloseButton)&&n.contains(U)?y&&Q?null==(r=this.focusService.findFocusableElementBeforeTabGuard(this.gridOptionsService.getDocument().body,X))||r.focus():this.focusBody(e.shiftKey):null==(i=this.eCloseButton)||i.focus());let pe=null;if(o.isTargetUnderManagedComponent(h,X)&&(Q&&(pe=this.focusService.findFocusableElementBeforeTabGuard(h,X)),!pe&&!y&&(pe=p.eHeaderButton)),!pe&&h.contains(U)&&(pe=o.findNextFocusableElement(h,!1,Q),!pe))return e.preventDefault(),void(y&&!Q?this.forceFocusOutOfContainer(Q):I&&!Q?null==(s=this.eCloseButton)||s.focus():this.focusHeader());pe&&(e.preventDefault(),pe.focus())}focusInnerElement(e){e?this.focusHeader():this.focusBody(!0)}focusHeader(e){this.activeItem.eHeaderButton.focus({preventScroll:e})}focusBody(e){this.focusService.focusInto(this.eBody,e)}setAfterAttachedParams(e){this.afterAttachedParams=e}showFirstItem(){this.items.length>0&&this.showItemWrapper(this.items[0])}addItem(e){const n=document.createElement("span");ho(n,"tab"),n.setAttribute("tabindex","-1"),n.appendChild(e.title),n.classList.add("ag-tab"),this.eTabHeader.appendChild(n),Nf(n,e.titleLabel);const i={tabbedItem:e,eHeaderButton:n};this.items.push(i),n.addEventListener("click",this.showItemWrapper.bind(this,i))}showItem(e){const n=this.items.find(i=>i.tabbedItem===e);n&&this.showItemWrapper(n)}showItemWrapper(e){var n,i,r,s,o,c;const{tabbedItem:h,eHeaderButton:p}=e;null==(i=(n=this.params).onItemClicked)||i.call(n,{item:h}),this.activeItem!==e?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),aa(this.eBody),h.bodyPromise.then(m=>{this.eBody.appendChild(m);const y=!this.focusService.isKeyboardMode();if(this.params.suppressFocusBodyOnOpen||this.focusService.focusInto(this.eBody,!1,y),h.afterAttachedCallback&&h.afterAttachedCallback(this.afterAttachedParams),this.params.keepScrollPosition){const I=h.getScrollableContainer&&h.getScrollableContainer()||m;this.lastScrollListener=this.addManagedListener(I,"scroll",()=>{this.tabbedItemScrollMap.set(h.name,I.scrollTop)});const L=this.tabbedItemScrollMap.get(h.name);void 0!==L&&setTimeout(()=>{I.scrollTop=L},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),null==(c=(o=this.activeItem.tabbedItem).afterDetachedCallback)||c.call(o)),p.classList.add("ag-tab-selected"),this.activeItem=e):null==(s=(r=this.params).onActiveItemClicked)||s.call(r)}};N([K("focusService")],p5.prototype,"focusService",2),N([fn("eHeader")],p5.prototype,"eHeader",2),N([fn("eBody")],p5.prototype,"eBody",2),N([tn],p5.prototype,"postConstruct",1);var Iq=class extends Jt{constructor(){super(...arguments),this.polyfillFunctions=[]}observeResize(t,e){const n=this.gridOptionsService.getWindow(),r=()=>{var c,h;let p=null!=(c=t?.clientWidth)?c:0,m=null!=(h=t?.clientHeight)?h:0,y=!0;const I=()=>{var L,U;if(y){const X=null!=(L=t?.clientWidth)?L:0,Q=null!=(U=t?.clientHeight)?U:0;(X!==p||Q!==m)&&(p=X,m=Q,e()),this.doNextPolyfillTurn(I)}};return I(),()=>y=!1},s=this.gridOptionsService.get("suppressBrowserResizeObserver");return n.ResizeObserver&&!s?(()=>{const c=new n.ResizeObserver(e);return c.observe(t),()=>c.disconnect()})():this.getFrameworkOverrides().wrapIncoming(()=>r(),"resize-observer")}doNextPolyfillTurn(t){this.polyfillFunctions.push(t),this.schedulePolyfill()}schedulePolyfill(){this.polyfillScheduled||(this.polyfillScheduled=!0,window.setTimeout(()=>{const e=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],e.forEach(n=>n())},50))}};Iq=N([In("resizeObserverService")],Iq);var tA=class extends Jt{constructor(){super(...arguments),this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(t){const e=this.gridOptionsService.get("pagination");if(this.scrollGoingDown=t>=this.lastScrollTop,e&&0===t){const n=this.paginationProxy.getCurrentPage();n!==this.lastPage&&(this.lastPage=n,this.scrollGoingDown=!0)}this.lastScrollTop=t}init(){this.useAnimationFrame=!this.gridOptionsService.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(t){!1===this.useAnimationFrame&&console.warn(`AG Grid: AnimationFrameService.${t} called but animation frames are off`)}createTask(t,e,n){this.verifyAnimationFrameOn(n);const i={task:t,index:e,createOrder:++this.taskCount};this.addTaskToList(this[n],i),this.schedule()}cancelTask(t){this.cancelledTasks.add(t)}addTaskToList(t,e){t.list.push(e),t.sorted=!1}sortTaskList(t){if(t.sorted)return;const e=this.scrollGoingDown?1:-1;t.list.sort((n,i)=>n.index!==i.index?e*(i.index-n.index):i.createOrder-n.createOrder),t.sorted=!0}addDestroyTask(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()}executeFrame(t){this.verifyAnimationFrameOn("executeFrame");const e=this.createTasksP1,n=e.list,i=this.createTasksP2,r=i.list,s=this.destroyTasks,o=(new Date).getTime();let c=(new Date).getTime()-o;const h=t<=0,p=this.ctrlsService.getGridBodyCtrl();for(;h||c<t;){if(!p.getScrollFeature().scrollGridIfNeeded()){let y;if(n.length)this.sortTaskList(e),y=n.pop().task;else if(r.length)this.sortTaskList(i),y=r.pop().task;else{if(!s.length){this.cancelledTasks.clear();break}y=s.pop()}this.cancelledTasks.has(y)||y()}c=(new Date).getTime()-o}n.length||r.length||s.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const t=this.executeFrame.bind(this,60);this.requestAnimationFrame(t)}requestAnimationFrame(t){const e=this.gridOptionsService.getWindow();e.requestAnimationFrame?e.requestAnimationFrame(t):e.webkitRequestAnimationFrame?e.webkitRequestAnimationFrame(t):e.setTimeout(t,0)}isQueueEmpty(){return!this.ticking}debounce(t){let e=!1;return()=>{this.isOn()?e||(e=!0,this.addDestroyTask(()=>{e=!1,t()})):window.setTimeout(t,0)}}};N([K("ctrlsService")],tA.prototype,"ctrlsService",2),N([K("paginationProxy")],tA.prototype,"paginationProxy",2),N([tn],tA.prototype,"init",1),tA=N([In("animationFrameService")],tA);var cM=class extends Jt{postConstruct(){this.isClientSideRowModel="clientSide"===this.rowModel.getType()}expandRows(t){if(!this.isClientSideRowModel)return;const e=new Set(t);this.rowModel.forEachNode(n=>{n.id&&e.has(n.id)&&(n.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const t=[];return this.rowModel.forEachNode(({expanded:e,id:n})=>{e&&n&&t.push(n)}),t}expandAll(t){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(t)}setRowNodeExpanded(t,e,n){t&&(n&&t.parent&&-1!==t.parent.level&&this.setRowNodeExpanded(t.parent,e,n),t.setExpanded(e))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}};N([K("rowModel")],cM.prototype,"rowModel",2),N([tn],cM.prototype,"postConstruct",1),cM=N([In("expansionService")],cM);var Lf=class extends Jt{postConstruct(){var t;this.activeMenuFactory=null!=(t=this.enterpriseMenuFactory)?t:this.filterMenuFactory}showColumnMenu(t){this.showColumnMenuCommon(this.activeMenuFactory,t,"columnMenu")}showFilterMenu(t){const e=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(e,t,t.containerType,!0)}showHeaderContextMenu(t,e,n){this.activeMenuFactory.showMenuAfterContextMenuEvent(t,e,n)}showContextMenu(t){var e,n,i;const{column:r,anchorToElement:s,rowNode:o,value:c}=t;null==(i=this.contextMenuFactory)||i.onContextMenu(null!=(e=t.mouseEvent)?e:null,null!=(n=t.touchEvent)?n:null,o??null,r??null,c,s)}showColumnChooser(t){var e;null==(e=this.columnChooserFactory)||e.showColumnChooser(t)}hidePopupMenu(){var t;null==(t=this.contextMenuFactory)||t.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var t;null==(t=this.columnChooserFactory)||t.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(t){const{suppressMenu:e,suppressHeaderMenuButton:n}=t.getColDef();return!(n??e)&&this.activeMenuFactory.isMenuEnabled(t)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(t){return!t.getColDef().suppressHeaderFilterButton&&this.filterManager.isFilterAllowed(t)}isHeaderContextMenuEnabled(t){return!t?.getColDef().suppressHeaderContextMenu&&"new"===this.getColumnMenuType()}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const t=!this.isSuppressMenuHide();return!(xv()&&t)}isHeaderFilterButtonEnabled(t){return this.isFilterMenuInHeaderEnabled(t)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(t)}isFilterMenuItemEnabled(t){return this.filterManager.isFilterAllowed(t)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(t)&&!this.isFloatingFilterButtonDisplayed(t)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return"new"===this.getColumnMenuType()}isLegacyMenuEnabled(){return"legacy"===this.getColumnMenuType()}isFloatingFilterButtonEnabled(t){var e;const n=t.getColDef(),i=null==(e=n.floatingFilterComponentParams)?void 0:e.suppressFilterButton;return null!=i&&li("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),null==n.suppressFloatingFilterButton?!i:!n.suppressFloatingFilterButton}getColumnMenuType(){var t;return null!=(t=this.gridOptionsService.get("columnMenu"))?t:"legacy"}isFloatingFilterButtonDisplayed(t){return!!t.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(t)}isSuppressMenuHide(){const t=this.gridOptionsService.get("suppressMenuHide");return!this.isLegacyMenuEnabled()&&!this.gridOptionsService.exists("suppressMenuHide")||t}showColumnMenuCommon(t,e,n,i){const{column:r,positionBy:s}=e;if("button"===s){const{buttonElement:o}=e;t.showMenuAfterButtonClick(r,o,n,i)}else if("mouse"===s){const{mouseEvent:o}=e;t.showMenuAfterMouseEvent(r,o,n,i)}else r&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(r,"auto"),this.animationFrameService.requestAnimationFrame(()=>{const o=this.ctrlsService.getHeaderRowContainerCtrl(r.getPinned()).getHeaderCtrlForColumn(r);t.showMenuAfterButtonClick(r,o.getAnchorElementForMenu(i),n,!0)}))}};N([Cr("enterpriseMenuFactory")],Lf.prototype,"enterpriseMenuFactory",2),N([K("filterMenuFactory")],Lf.prototype,"filterMenuFactory",2),N([Cr("contextMenuFactory")],Lf.prototype,"contextMenuFactory",2),N([K("ctrlsService")],Lf.prototype,"ctrlsService",2),N([K("animationFrameService")],Lf.prototype,"animationFrameService",2),N([Cr("columnChooserFactory")],Lf.prototype,"columnChooserFactory",2),N([K("filterManager")],Lf.prototype,"filterManager",2),N([tn],Lf.prototype,"postConstruct",1),Lf=N([In("menuService")],Lf);var PE=class extends Jt{postConstruct(){this.ctrlsService.whenReady(t=>{this.centerRowContainerCtrl=t.centerRowContainerCtrl})}getPreferredWidthForColumn(t,e){const n=this.getHeaderCellForColumn(t);if(!n)return-1;const i=this.rowRenderer.getAllCellsForColumn(t);return e||i.push(n),this.addElementsToContainerAndGetWidth(i)}getPreferredWidthForColumnGroup(t){const e=this.getHeaderCellForColumn(t);return e?this.addElementsToContainerAndGetWidth([e]):-1}addElementsToContainerAndGetWidth(t){const e=document.createElement("form");e.style.position="fixed";const n=this.centerRowContainerCtrl.getContainerElement();t.forEach(s=>this.cloneItemIntoDummy(s,e)),n.appendChild(e);const i=e.offsetWidth;return n.removeChild(e),i+this.getAutoSizePadding()}getAutoSizePadding(){return this.gridOptionsService.get("autoSizePadding")}getHeaderCellForColumn(t){let e=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(n=>{const i=n.getHtmlElementForColumnHeader(t);null!=i&&(e=i)}),e}cloneItemIntoDummy(t,e){const n=t.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const i=document.createElement("div"),r=i.classList;["ag-header-cell","ag-header-group-cell"].some(c=>n.classList.contains(c))?(r.add("ag-header","ag-header-row"),i.style.position="static"):r.add("ag-row");let o=t.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(h=>o.classList.contains(h))){for(let h=0;h<o.classList.length;h++){const p=o.classList[h];"ag-row-position-absolute"!=p&&r.add(p)}break}o=o.parentElement}i.appendChild(n),e.appendChild(i)}};N([K("rowRenderer")],PE.prototype,"rowRenderer",2),N([K("ctrlsService")],PE.prototype,"ctrlsService",2),N([K("rowCssClassCalculator")],PE.prototype,"rowCssClassCalculator",2),N([tn],PE.prototype,"postConstruct",1),PE=N([In("autoWidthCalculator")],PE);var uM=class extends Jt{constructor(t,e){super(),this.createRowCon=t,this.destroyRowCtrls=e,this.stickyRowCtrls=[],this.containerHeight=0}postConstruct(){this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady(t=>{this.gridBodyCtrl=t.gridBodyCtrl})}getStickyRowCtrls(){return this.stickyRowCtrls}checkStickyRows(){let t=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],t);const e=[],n=this.rowRenderer.getFirstVisibleVerticalPixel(),i=s=>{var o,c,h;let p;if(e.push(s),this.isClientSide){let y=s;for(;y.isExpandable()&&y.expanded;)if(y.master)y=y.detailNode;else if(y.childrenAfterSort){if(0===y.childrenAfterSort.length)break;y=Ir(y.childrenAfterSort)}p=y.rowTop+y.rowHeight}else if(s.master)p=s.detailNode.rowTop+s.detailNode.rowHeight;else{const y=null==(o=s.childStore)?void 0:o.getStoreBounds();p=(null!=(c=y?.heightPx)?c:0)+(null!=(h=y?.topPx)?h:0)}const m=n+t+s.rowHeight;s.stickyRowTop=p<m?t+(p-m):t,t=0,e.forEach(y=>{const I=y.stickyRowTop+y.rowHeight;t<I&&(t=I)})};let r=0;for(;;){const s=n+t,o=this.rowModel.getRowIndexAtPixel(s),c=this.rowModel.getRow(o);if(null==c||c.level<0||100==r++)break;const h=[];let p=c.parent;for(;p.level>=0;)h.push(p),p=p.parent;const m=h.reverse().find(y=>e.indexOf(y)<0&&y.displayed);if(m)i(m);else{if(!(c.isExpandable()&&c.expanded&&c.rowTop<s))break;i(c)}}return this.refreshNodesAndContainerHeight(e,t)}refreshStickyNode(t){const e=[];for(let n=0;n<this.stickyRowCtrls.length;n++){const i=this.stickyRowCtrls[n].getRowNode();i!==t&&e.push(i)}this.refreshNodesAndContainerHeight(e,this.containerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(t,e){let n=!1;const i=this.stickyRowCtrls.filter(c=>-1===t.indexOf(c.getRowNode())),r=t.filter(c=>-1===this.stickyRowCtrls.findIndex(h=>h.getRowNode()===c));(i.length||r.length)&&(n=!0);const s={};i.forEach(c=>{s[c.getRowNode().id]=c,this.stickyRowCtrls=this.stickyRowCtrls.filter(h=>h!==c)});for(const c of Object.values(s))c.getRowNode().sticky=!1;this.destroyRowCtrls(s,!1);const o=r.map(c=>(c.sticky=!0,this.createRowCon(c,!1,!1)));return this.stickyRowCtrls.push(...o),this.stickyRowCtrls.forEach(c=>c.setRowTop(c.getRowNode().stickyRowTop)),this.stickyRowCtrls.sort((c,h)=>h.getRowNode().rowIndex-c.getRowNode().rowIndex),this.containerHeight!==e&&(this.containerHeight=e,this.gridBodyCtrl.setStickyTopHeight(e),n=!0),n}};N([K("rowModel")],uM.prototype,"rowModel",2),N([K("rowRenderer")],uM.prototype,"rowRenderer",2),N([K("ctrlsService")],uM.prototype,"ctrlsService",2),N([tn],uM.prototype,"postConstruct",1);var wd=class extends Jt{constructor(){super(...arguments),this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const t=()=>{this.getAllCellCtrls().forEach(s=>s.onRangeSelectionChanged())},e=()=>{this.getAllCellCtrls().forEach(s=>s.updateRangeBordersIfRangeCount())},n=()=>{this.eventService.addEventListener(W.EVENT_RANGE_SELECTION_CHANGED,t),this.eventService.addEventListener(W.EVENT_COLUMN_MOVED,e),this.eventService.addEventListener(W.EVENT_COLUMN_PINNED,e),this.eventService.addEventListener(W.EVENT_COLUMN_VISIBLE,e)},i=()=>{this.eventService.removeEventListener(W.EVENT_RANGE_SELECTION_CHANGED,t),this.eventService.removeEventListener(W.EVENT_COLUMN_MOVED,e),this.eventService.removeEventListener(W.EVENT_COLUMN_PINNED,e),this.eventService.removeEventListener(W.EVENT_COLUMN_VISIBLE,e)};this.addDestroyFunc(()=>i()),this.addManagedPropertyListener("enableRangeSelection",s=>{s.currentValue?n():i()}),this.gridOptionsService.get("enableRangeSelection")&&n()}}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.initialise()})}initialise(){if(this.addManagedListener(this.eventService,W.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,W.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,W.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.gridOptionsService.isGroupRowsSticky()){const t=this.rowModel.getType();("clientSide"===t||"serverSide"===t)&&(this.stickyRowFeature=this.createManagedBean(new uM(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gridOptionsService.get("keepDetailRows")){const t=this.getKeepDetailRowsCount();this.cachedRowCtrls=new yMe(t??3)}}getKeepDetailRowsCount(){return this.gridOptionsService.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]}updateAllRowCtrls(){const t=Hy(this.rowCtrlsByRowIndex),e=Hy(this.zombieRowCtrls),n=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=e.length>0||n.length>0?[...t,...e,...n]:t}onCellFocusChanged(t){this.getAllCellCtrls().forEach(e=>e.onCellFocused(t)),this.getFullWidthRowCtrls().forEach(e=>e.onFullWidthRowFocused(t))}registerCellEventListeners(){this.addManagedListener(this.eventService,W.EVENT_CELL_FOCUSED,t=>{this.onCellFocusChanged(t)}),this.addManagedListener(this.eventService,W.EVENT_CELL_FOCUS_CLEARED,()=>{this.onCellFocusChanged()}),this.addManagedListener(this.eventService,W.EVENT_FLASH_CELLS,t=>{this.getAllCellCtrls().forEach(e=>e.onFlashCells(t))}),this.addManagedListener(this.eventService,W.EVENT_COLUMN_HOVER_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onColumnHover())}),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onDisplayedColumnsChanged())}),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>{this.printLayout&&this.getAllCellCtrls().forEach(t=>t.onLeftChanged())}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,W.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(t=>t()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getAllGridColumns().forEach(e=>{const n=h=>{this.getAllCellCtrls().forEach(p=>{p.getColumn()===e&&h(p)})},i=()=>{n(h=>h.onLeftChanged())},r=()=>{n(h=>h.onWidthChanged())},s=()=>{n(h=>h.onFirstRightPinnedChanged())},o=()=>{n(h=>h.onLastLeftPinnedChanged())},c=()=>{n(h=>h.onColDefChanged())};e.addEventListener("leftChanged",i),e.addEventListener("widthChanged",r),e.addEventListener("firstRightPinnedChanged",s),e.addEventListener("lastLeftPinnedChanged",o),e.addEventListener("colDefChanged",c),this.destroyFuncsForColumnListeners.push(()=>{e.removeEventListener("leftChanged",i),e.removeEventListener("widthChanged",r),e.removeEventListener("firstRightPinnedChanged",s),e.removeEventListener("lastLeftPinnedChanged",o),e.removeEventListener("colDefChanged",c)})})}onDomLayoutChanged(){const t=this.gridOptionsService.isDomLayout("print"),e=t||this.gridOptionsService.get("embedFullWidthRows"),n=e!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=e,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)}onPageLoaded(t){this.redrawAfterModelUpdate({recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0})}getAllCellsForColumn(t){const e=[];return this.getAllRowCtrls().forEach(n=>{const i=n.getCellElement(t);i&&e.push(i)}),e}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(t,e){t.forEach(n=>{n.destroyFirstPass(),n.destroySecondPass()}),t.length=0,e&&e.forEach(n=>{const i=new SE(n,this.beans,!1,!1,this.printLayout);t.push(i)})}onPinnedRowDataChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(t,e=!1){var n;if(t.sticky)this.stickyRowFeature.refreshStickyNode(t);else{if(null!=(n=this.cachedRowCtrls)&&n.has(t))return void this.cachedRowCtrls.removeRow(t);{const i=r=>{const s=r[t.rowIndex];s&&s.getRowNode()===t&&(s.destroyFirstPass(),s.destroySecondPass(),r[t.rowIndex]=this.createRowCon(t,!1,!1))};switch(t.rowPinned){case"top":i(this.topRowCtrls);break;case"bottom":i(this.bottomRowCtrls);break;default:i(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}}e||this.dispatchDisplayedRowsChanged(!1)}redrawRows(t){if(null!=t)return t?.forEach(n=>this.redrawRow(n,!0)),void this.dispatchDisplayedRowsChanged(!1);this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(t){const e=t?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==e)return null;const i=this.gridOptionsService.getDocument().activeElement,r=this.gridOptionsService.getDomData(i,EE.DOM_DATA_KEY_CELL_CTRL),s=this.gridOptionsService.getDomData(i,SE.DOM_DATA_KEY_ROW_CTRL);return r||s?e:null}redrawAfterModelUpdate(t={}){this.getLockOnRefresh();const e=this.getCellToRestoreFocusToAfterRefresh(t);this.updateContainerHeights(),this.scrollToTopIfNewData(t);const n=!t.domLayoutChanged&&!!t.recycleRows,i=t.animate&&this.gridOptionsService.isAnimateRows(),r=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(r,i),this.gridBodyCtrl.updateRowCount(),t.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=e&&this.restoreFocusedCell(e),this.releaseLockOnRefresh()}scrollToTopIfNewData(t){const e=t.newData||t.newPage,n=this.gridOptionsService.get("suppressScrollOnNewData");e&&!n&&this.gridBodyCtrl.getScrollFeature().scrollToTop()}updateContainerHeights(){if(this.printLayout)return void this.rowContainerHeightService.setModelHeight(null);let t=this.paginationProxy.getCurrentPageHeight();0===t&&(t=1),this.rowContainerHeightService.setModelHeight(t)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0}releaseLockOnRefresh(){this.refreshInProgress=!1}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(t){t&&(this.focusService.setRestoreFocusedCell(t),this.onCellFocusChanged(this.beans.gridOptionsService.addGridCommonParams({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"mock"})))}stopEditing(t=!1){this.getAllRowCtrls().forEach(e=>{e.stopEditing(t)})}getAllCellCtrls(){const t=[],e=this.getAllRowCtrls(),n=e.length;for(let i=0;i<n;i++){const r=e[i].getAllCellCtrls(),s=r.length;for(let o=0;o<s;o++)t.push(r[o])}return t}getAllRowCtrls(){const t=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],e=[...this.topRowCtrls,...this.bottomRowCtrls,...t];for(const n of Object.keys(this.rowCtrlsByRowIndex))e.push(this.rowCtrlsByRowIndex[n]);return e}addRenderedRowListener(t,e,n){const i=this.rowCtrlsByRowIndex[e];i&&i.addEventListener(t,n)}flashCells(t={}){this.getCellCtrls(t.rowNodes,t.columns).forEach(e=>e.flashCell(t))}refreshCells(t={}){const e={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};this.getCellCtrls(t.rowNodes,t.columns).forEach(n=>n.refreshOrDestroyCell(e)),t.rowNodes&&(this.getRowCtrls(t.rowNodes).forEach(n=>{n.isFullWidth()&&(n.refreshFullWidth()||this.redrawRow(n.getRowNode(),!0))}),this.dispatchDisplayedRowsChanged(!1))}getCellRendererInstances(t){var e;const n=this.getCellCtrls(t.rowNodes,t.columns).map(s=>s.getCellRenderer()).filter(s=>null!=s);if(null!=(e=t.columns)&&e.length)return n;const i=[],r=this.mapRowNodes(t.rowNodes);return this.getAllRowCtrls().forEach(s=>{if(r&&!this.isRowInMap(s.getRowNode(),r)||!s.isFullWidth())return;const o=s.getFullWidthCellRenderers();for(let c=0;c<o.length;c++){const h=o[c];null!=h&&i.push(h)}}),[...i,...n]}getCellEditorInstances(t){const e=[];return this.getCellCtrls(t.rowNodes,t.columns).forEach(n=>{const i=n.getCellEditor();i&&e.push(i)}),e}getEditingCells(){const t=[];return this.getAllCellCtrls().forEach(e=>{if(e.isEditing()){const n=e.getCellPosition();t.push(n)}}),t}mapRowNodes(t){if(!t)return;const e={top:{},bottom:{},normal:{}};return t.forEach(n=>{const i=n.id;"top"===n.rowPinned?e.top[i]=n:"bottom"===n.rowPinned?e.bottom[i]=n:e.normal[i]=n}),e}isRowInMap(t,e){const n=t.id,i=t.rowPinned;return"bottom"===i?null!=e.bottom[n]:"top"===i?null!=e.top[n]:null!=e.normal[n]}getRowCtrls(t){const e=this.mapRowNodes(t),n=this.getAllRowCtrls();return t&&e?n.filter(i=>{const r=i.getRowNode();return this.isRowInMap(r,e)}):n}getCellCtrls(t,e){let n;$t(e)&&(n={},e.forEach(r=>{const s=this.columnModel.getGridColumn(r);$t(s)&&(n[s.getId()]=!0)}));const i=[];return this.getRowCtrls(t).forEach(r=>{r.getAllCellCtrls().forEach(s=>{const o=s.getColumn().getId();n&&!n[o]||i.push(s)})}),i}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)}getRowsToRecycle(){const t=[];tc(this.rowCtrlsByRowIndex,(n,i)=>{null==i.getRowNode().id&&t.push(n)}),this.removeRowCtrls(t);const e={};return tc(this.rowCtrlsByRowIndex,(n,i)=>{const r=i.getRowNode();e[r.id]=i}),this.rowCtrlsByRowIndex={},e}removeRowCtrls(t,e=!1){t.forEach(n=>{const i=this.rowCtrlsByRowIndex[n];i&&(i.destroyFirstPass(e),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]})}onBodyScroll(t){"vertical"===t.direction&&this.redraw({afterScroll:!0})}redraw(t={}){const{afterScroll:e}=t;let n;this.stickyRowFeature&&G9()&&(n=this.getCellToRestoreFocusToAfterRefresh()||void 0);const i=this.firstRenderedRow,r=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let s=!1;if(this.stickyRowFeature&&(s=this.stickyRowFeature.checkStickyRows()),(!e||s||this.firstRenderedRow!==i||this.lastRenderedRow!==r)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,e),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(e&&!s),null!=n)){const c=this.getCellToRestoreFocusToAfterRefresh();null!=n&&null==c&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(n))}}removeRowCompsNotToDraw(t,e){const n={};t.forEach(s=>n[s]=!0);const r=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!n[s]);this.removeRowCtrls(r,e)}calculateIndexesToDraw(t){let e=Ece(this.firstRenderedRow,this.lastRenderedRow);const n=(r,s)=>{const o=s.getRowNode().rowIndex;null!=o&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(s)&&e.push(o)};tc(this.rowCtrlsByRowIndex,n),tc(t,n),e.sort((r,s)=>r-s);const i=[];for(let r=0;r<e.length;r++){const s=e[r],o=this.paginationProxy.getRow(s);o&&!o.sticky&&i.push(s)}return i}recycleRows(t,e=!1,n=!1){const i=this.calculateIndexesToDraw(t);(this.printLayout||n)&&(e=!1),this.removeRowCompsNotToDraw(i,!e);const r=[];i.forEach(s=>{const o=this.createOrUpdateRowCtrl(s,t,e,n);$t(o)&&r.push(o)}),t&&(!n||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout?this.destroyRowCtrls(t,e):this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(t,e),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(t=!1){this.eventService.dispatchEvent({type:W.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:t})}onDisplayedColumnsChanged(){const t=this.columnModel.isPinningLeft(),e=this.columnModel.isPinningRight();(this.pinningLeft!==t||e!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=e,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const t=[];this.getFullWidthRowCtrls().forEach(e=>{const n=e.getRowNode().rowIndex;t.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(t),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(t){const e=this.mapRowNodes(t);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const i=n.getRowNode();return!(null!=e&&!this.isRowInMap(i,e))})}createOrUpdateRowCtrl(t,e,n,i){let r,s=this.rowCtrlsByRowIndex[t];if(s||(r=this.paginationProxy.getRow(t),$t(r)&&$t(e)&&e[r.id]&&r.alreadyRendered&&(s=e[r.id],e[r.id]=null)),!s){if(r||(r=this.paginationProxy.getRow(t)),!$t(r))return;s=this.createRowCon(r,n,i)}return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[t]=s,s}destroyRowCtrls(t,e){const n=[];tc(t,(i,r)=>{if(r){if(this.cachedRowCtrls&&r.isCacheable())return void this.cachedRowCtrls.addRow(r);r.destroyFirstPass(!e),e?(this.zombieRowCtrls[r.getInstanceId()]=r,n.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[r.getInstanceId()]})):r.destroySecondPass()}}),e&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),Mle(n))}getRowBuffer(){return this.gridOptionsService.get("rowBuffer")}getRowBufferInPixels(){return this.getRowBuffer()*this.gridOptionsService.getRowHeightAsNumber()}workOutFirstAndLastRowsToRender(){let t,e;if(this.rowContainerHeightService.updateOffset(),this.paginationProxy.isRowsToRender())if(this.printLayout)this.environment.refreshRowHeightVariable(),t=this.paginationProxy.getPageFirstRow(),e=this.paginationProxy.getPageLastRow();else{const c=this.getRowBufferInPixels(),h=this.ctrlsService.getGridBodyCtrl(),p=this.gridOptionsService.get("suppressRowVirtualisation");let y,I,m=!1;do{const pe=this.paginationProxy.getPixelOffset(),{pageFirstPixel:Te,pageLastPixel:Le}=this.paginationProxy.getCurrentPagePixelRange(),tt=this.rowContainerHeightService.getDivStretchOffset(),zt=h.getScrollFeature().getVScrollPosition(),Ot=zt.top,Se=zt.bottom;p?(y=Te+tt,I=Le+tt):(y=Math.max(Ot+pe-c,Te)+tt,I=Math.min(Se+pe+c,Le)+tt),this.firstVisibleVPixel=Math.max(Ot+pe,Te)+tt,m=this.ensureAllRowsInRangeHaveHeightsCalculated(y,I)}while(m);let L=this.paginationProxy.getRowIndexAtPixel(y),U=this.paginationProxy.getRowIndexAtPixel(I);const X=this.paginationProxy.getPageFirstRow(),Q=this.paginationProxy.getPageLastRow();L<X&&(L=X),U>Q&&(U=Q),t=L,e=U}else t=0,e=-1;const n=this.gridOptionsService.isDomLayout("normal"),i=this.gridOptionsService.get("suppressMaxRenderedRowRestriction"),r=Math.max(this.getRowBuffer(),500);n&&!i&&e-t>r&&(e=t+r),t===this.firstRenderedRow&&e===this.lastRenderedRow||(this.firstRenderedRow=t,this.lastRenderedRow=e,this.eventService.dispatchEvent({type:W.EVENT_VIEWPORT_CHANGED,firstRow:t,lastRow:e}))}dispatchFirstDataRenderedEvent(){if(this.dataFirstRenderedFired)return;this.dataFirstRenderedFired=!0;const t={type:W.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent(t)})}ensureAllRowsInRangeHaveHeightsCalculated(t,e){const n=this.paginationProxy.ensureRowHeightsValid(t,e,-1,-1);return n&&this.updateContainerHeights(),n}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(t){const i=t.getRowNode(),r=this.focusService.isRowNodeFocused(i),s=t.isEditing();return!!(r||s||i.detail)&&!!this.paginationProxy.isRowPresent(i)}createRowCon(t,e,n){const i=this.cachedRowCtrls?this.cachedRowCtrls.getRow(t):null;if(i)return i;const r=this.gridOptionsService.get("suppressAnimationFrame");return new SE(t,this.beans,e,n&&!r&&!this.printLayout,this.printLayout)}getRenderedNodes(){const t=this.rowCtrlsByRowIndex;return Object.keys(t).map(e=>t[e].getRowNode())}getRowByPosition(t){let e;const{rowIndex:n}=t;switch(t.rowPinned){case"top":e=this.topRowCtrls[n];break;case"bottom":e=this.bottomRowCtrls[n];break;default:e=this.rowCtrlsByRowIndex[n],e||(e=this.getStickyTopRowCtrls().find(i=>i.getRowNode().rowIndex===n)||null)}return e}getRowNode(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}}isRangeInRenderedViewport(t,e){return null!=t&&null!=e&&!(e<this.firstRenderedRow||t>this.lastRenderedRow)}};N([K("animationFrameService")],wd.prototype,"animationFrameService",2),N([K("paginationProxy")],wd.prototype,"paginationProxy",2),N([K("columnModel")],wd.prototype,"columnModel",2),N([K("pinnedRowModel")],wd.prototype,"pinnedRowModel",2),N([K("rowModel")],wd.prototype,"rowModel",2),N([K("focusService")],wd.prototype,"focusService",2),N([K("beans")],wd.prototype,"beans",2),N([K("rowContainerHeightService")],wd.prototype,"rowContainerHeightService",2),N([K("ctrlsService")],wd.prototype,"ctrlsService",2),N([tn],wd.prototype,"postConstruct",1),wd=N([In("rowRenderer")],wd);var yMe=class{constructor(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}addRow(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){const e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}}getRow(t){if(null==t||null==t.id)return null;const e=this.entriesMap[t.id];return e?(this.removeFromCache(e),e.setCached(!1),e.getRowNode()!=t?null:e):null}has(t){return null!=this.entriesMap[t.id]}removeRow(t){const e=t.id,n=this.entriesMap[e];delete this.entriesMap[e],Mu(this.entriesList,n)}removeFromCache(t){const e=t.getRowNode().id;delete this.entriesMap[e],Mu(this.entriesList,t)}getEntries(){return this.entriesList}},g5=class extends Jt{formatValue(t,e,n,i,r=!0){let o,s=null;const c=t.getColDef();if(i?o=i:r&&(o=c.valueFormatter),o){const h=this.gridOptionsService.addGridCommonParams({value:n,node:e,data:e?e.data:null,colDef:c,column:t});s="function"==typeof o?o(h):this.expressionService.evaluate(o,h)}else if(c.refData)return c.refData[n]||"";return null==s&&Array.isArray(n)&&(s=n.join(", ")),s}};N([K("expressionService")],g5.prototype,"expressionService",2),g5=N([In("valueFormatterService")],g5);var dM=class extends Jt{init(){this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",()=>this.setPinnedTopRowData()),this.addManagedPropertyListener("pinnedBottomRowData",()=>this.setPinnedBottomRowData())}isEmpty(t){return vd("top"===t?this.pinnedTopRows:this.pinnedBottomRows)}isRowsToRender(t){return!this.isEmpty(t)}getRowAtPixel(t,e){const n="top"===e?this.pinnedTopRows:this.pinnedBottomRows;if(vd(n))return 0;for(let i=0;i<n.length;i++){const r=n[i];if(r.rowTop+r.rowHeight-1>=t)return i}return n.length-1}setPinnedTopRowData(){const t=this.gridOptionsService.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(t,!0),this.eventService.dispatchEvent({type:W.EVENT_PINNED_ROW_DATA_CHANGED})}setPinnedBottomRowData(){const t=this.gridOptionsService.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(t,!1),this.eventService.dispatchEvent({type:W.EVENT_PINNED_ROW_DATA_CHANGED})}createNodesFromData(t,e){const n=[];if(t){let i=0;t.forEach((r,s)=>{const o=new Ki(this.beans);o.data=r,o.id=(e?Ki.ID_PREFIX_TOP_PINNED:Ki.ID_PREFIX_BOTTOM_PINNED)+s,o.rowPinned=e?"top":"bottom",o.setRowTop(i),o.setRowHeight(this.gridOptionsService.getRowHeightForNode(o).height),o.setRowIndex(s),i+=o.rowHeight,n.push(o)})}return n}getPinnedTopRowData(){return this.pinnedTopRows}getPinnedBottomRowData(){return this.pinnedBottomRows}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedTopRowCount(){return this.pinnedTopRows?this.pinnedTopRows.length:0}getPinnedBottomRowCount(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0}getPinnedTopRow(t){return this.pinnedTopRows[t]}getPinnedBottomRow(t){return this.pinnedBottomRows[t]}forEachPinnedTopRow(t){vd(this.pinnedTopRows)||this.pinnedTopRows.forEach(t)}forEachPinnedBottomRow(t){vd(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(t)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getTotalHeight(t){if(!t||0===t.length)return 0;const e=Ir(t);return e.rowTop+e.rowHeight}};N([K("beans")],dM.prototype,"beans",2),N([tn],dM.prototype,"init",1),dM=N([In("pinnedRowModel")],dM);var m5=class{constructor(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(t,e){if(t.children)for(let n=0;n<t.children.length;n++)this.depthFirstSearchChangedPath(t.children[n],e);e(t.rowNode)}depthFirstSearchEverything(t,e,n){if(t.childrenAfterGroup)for(let i=0;i<t.childrenAfterGroup.length;i++){const r=t.childrenAfterGroup[i];r.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[i],e,n):n&&e(r)}e(t)}forEachChangedNodeDepthFirst(t,e=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)}executeFromRootNode(t){t(this.pathRoot.rowNode)}createPathItems(t){let e=t,n=0;for(;!this.mapToItems[e.id];)this.mapToItems[e.id]={rowNode:e,children:null},n++,e=e.parent;return n}populateColumnsMap(t,e){if(!this.keepingColumns||!e)return;let n=t;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),e.forEach(i=>this.nodeIdsToColumns[n.id][i.getId()]=!0),n=n.parent}linkPathItems(t,e){let n=t;for(let i=0;i<e;i++){const r=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(r),n=n.parent}}addParentNode(t,e){if(!t||t.isRowPinned())return;const n=this.createPathItems(t);this.linkPathItems(t,n),this.populateColumnsMap(t,e)}canSkip(t){return this.active&&!this.mapToItems[t.id]}getValueColumnsForNode(t,e){if(!this.keepingColumns)return e;const n=this.nodeIdsToColumns[t.id];return e.filter(r=>n[r.getId()])}getNotValueColumnsForNode(t,e){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[t.id];return e.filter(r=>!n[r.getId()])}},nA=class p0 extends Jt{constructor(e){super(),this.state=p0.STATE_WAITING_TO_LOAD,this.version=0,this.id=e}getId(){return this.id}load(){this.state=p0.STATE_LOADING,this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state=p0.STATE_WAITING_TO_LOAD}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state=p0.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,n){this.successCommon(e,n)}pageLoaded(e,n,i){this.successCommon(e,{rowData:n,rowCount:i})}isRequestMostRecentAndLive(e){const n=e===this.version,i=this.isAlive();return n&&i}successCommon(e,n){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state=p0.STATE_LOADED,this.processServerResult(n))}dispatchLoadCompleted(e=!0){this.dispatchEvent({type:p0.EVENT_LOAD_COMPLETE,success:e,block:this})}};nA.EVENT_LOAD_COMPLETE="loadComplete",nA.STATE_WAITING_TO_LOAD="needsLoading",nA.STATE_LOADING="loading",nA.STATE_LOADED="loaded",nA.STATE_FAILED="failed";var Aq=nA,_g=class extends Jt{constructor(){super(...arguments),this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const t=this.gridOptionsService.get("blockLoadDebounceMillis");t&&t>0&&(this.checkBlockToLoadDebounce=qi.debounce(this.performCheckBlocksToLoad.bind(this),t))}setBeans(t){this.logger=t.create("RowNodeBlockLoader")}getMaxConcurrentDatasourceRequests(){const t=this.gridOptionsService.get("maxConcurrentDatasourceRequests");return null==t?2:t<=0?void 0:t}addBlock(t){this.blocks.push(t),t.addEventListener(Aq.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(t){qi.removeFromArray(this.blocks,t)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:_g.BLOCK_LOADED_EVENT}),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:_g.BLOCK_LOADER_FINISHED_EVENT})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");const t=this.getAvailableLoadingCount(),e=this.blocks.filter(n=>n.getState()===Aq.STATE_WAITING_TO_LOAD).slice(0,t);this.registerLoads(e.length),e.forEach(n=>n.load()),this.printCacheStatus()}getBlockState(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();const t={};return this.blocks.forEach(e=>{const{id:n,state:i}=e.getBlockStateJson();t[n]=i}),t}printCacheStatus(){this.logger.isLogging()&&this.logger.log(`printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(t){this.activeBlockLoadsCount+=t}getAvailableLoadingCount(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}};_g.BLOCK_LOADED_EVENT="blockLoaded",_g.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",N([K("rowModel")],_g.prototype,"rowModel",2),N([tn],_g.prototype,"postConstruct",1),N([Df(0,_h("loggerFactory"))],_g.prototype,"setBeans",1),_g=N([In("rowNodeBlockLoader")],_g);var hM=class extends Jt{constructor(){super(...arguments),this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.pixelOffset=0,this.masterRowCount=0}postConstruct(){this.active=this.gridOptionsService.get("pagination"),this.pageSizeFromGridOptions=this.gridOptionsService.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,W.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()}ensureRowHeightsValid(t,e,n,i){const r=this.rowModel.ensureRowHeightsValid(t,e,this.getPageFirstRow(),this.getPageLastRow());return r&&this.calculatePages(),r}isPaginateChildRows(){return!(!this.gridOptionsService.get("groupRemoveSingleChildren")&&!this.gridOptionsService.get("groupRemoveLowestSingleChildren"))||this.gridOptionsService.get("paginateChildRows")}onModelUpdated(t){this.calculatePages(),this.eventService.dispatchEvent({type:W.EVENT_PAGINATION_CHANGED,animate:!!t&&t.animate,newData:!!t&&t.newData,newPage:!!t&&t.newPage,newPageSize:!!t&&t.newPageSize,keepRenderedRows:!!t&&t.keepRenderedRows})}onPaginationGridOptionChanged(){this.active=this.gridOptionsService.get("pagination"),this.calculatePages(),this.eventService.dispatchEvent({type:W.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gridOptionsService.get("paginationPageSize"),"gridOptions")}goToPage(t){this.active&&this.currentPage!==t&&"number"==typeof this.currentPage&&(this.currentPage=t,this.onModelUpdated({type:W.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,newPageSize:!1}))}getPixelOffset(){return this.pixelOffset}getRow(t){return this.rowModel.getRow(t)}getRowNode(t){return this.rowModel.getRowNode(t)}getRowIndexAtPixel(t){return this.rowModel.getRowIndexAtPixel(t)}getCurrentPageHeight(){return pi(this.topRowBounds)||pi(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}}isRowPresent(t){return!!this.rowModel.isRowPresent(t)&&t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex}isEmpty(){return this.rowModel.isEmpty()}isRowsToRender(){return this.rowModel.isRowsToRender()}forEachNode(t){return this.rowModel.forEachNode(t)}forEachNodeOnPage(t){const e=this.getPageFirstRow(),n=this.getPageLastRow();for(let i=e;i<=n;i++){const r=this.getRow(i);r&&t(r)}}getType(){return this.rowModel.getType()}getRowBounds(t){const e=this.rowModel.getRowBounds(t);return e.rowIndex=t,e}getPageFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getPageLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getRowCount(){return this.rowModel.getRowCount()}getPageForIndex(t){return Math.floor(t/this.pageSize)}goToPageWithIndex(t){if(!this.active)return;const e=this.getPageForIndex(t);this.goToPage(e)}isRowInPage(t){return!this.active||this.getPageForIndex(t.rowIndex)===this.currentPage}isLastPageFound(){return this.rowModel.isLastRowIndexKnown()}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const t=this.rowModel.getRowCount(),e=Math.floor(t/this.pageSize);this.goToPage(e)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(t){this.currentPage=t}get pageSize(){return $t(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:$t(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:$t(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:$t(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}unsetAutoCalculatedPageSize(){if(void 0===this.pageSizeAutoCalculated)return;const t=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==t&&this.onModelUpdated({type:W.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})}setPageSize(t,e){const n=this.pageSize;switch(e){case"autoCalculated":this.pageSizeAutoCalculated=t;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=t,0!==this.currentPage&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=t;break;case"gridOptions":this.pageSizeFromGridOptions=t,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,0!==this.currentPage&&this.goToFirstPage()}n!==this.pageSize&&this.onModelUpdated({type:W.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset($t(this.topRowBounds)?this.topRowBounds.rowTop:0)}setPixelOffset(t){this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:W.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)return void this.setZeroRows();const t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid();let n=this.pageSize*(this.currentPage+1)-1;if(n>t&&(n=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),n===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const i=this.rowModel.getTopLevelRowDisplayedIndex(n+1);this.bottomDisplayedRowIndex=i-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),0===this.masterRowCount)return void this.setZeroRows();const t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)}calculatedPagesNotActive(){this.setPageSize(this.masterRowCount,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}};N([K("rowModel")],hM.prototype,"rowModel",2),N([tn],hM.prototype,"postConstruct",1),hM=N([In("paginationProxy")],hM);var v5=class extends Jt{processAllCellClasses(t,e,n,i){this.processClassRules(void 0,t.cellClassRules,e,n,i),this.processStaticCellClasses(t,e,n)}processClassRules(t,e,n,i,r){if(null==e&&null==t)return;const s={},o={},c=(h,p)=>{h.split(" ").forEach(m=>{""!=m.trim()&&p(m)})};if(e){const h=Object.keys(e);for(let p=0;p<h.length;p++){const m=h[p],y=e[m];let I;"string"==typeof y?I=this.expressionService.evaluate(y,n):"function"==typeof y&&(I=y(n)),c(m,L=>{I?s[L]=!0:o[L]=!0})}}t&&r&&Object.keys(t).forEach(h=>c(h,p=>{s[p]||(o[p]=!0)})),r&&Object.keys(o).forEach(r),Object.keys(s).forEach(i)}getStaticCellClasses(t,e){const{cellClass:n}=t;if(!n)return[];let i;return i="function"==typeof n?n(e):n,"string"==typeof i&&(i=[i]),i||[]}processStaticCellClasses(t,e,n){this.getStaticCellClasses(t,e).forEach(r=>{n(r)})}};N([K("expressionService")],v5.prototype,"expressionService",2),v5=N([In("stylingService")],v5);var Mue=class extends n5{constructor(t){super(t,"ag-toggle-button")}setValue(t,e){return super.setValue(t,e),this.addOrRemoveCssClass("ag-selected",this.getValue()),this}},CMe=class extends Ff{constructor(t){super(t,"ag-text-area",null,"textarea")}setValue(t,e){const n=super.setValue(t,e);return this.eInput.value=t,n}setCols(t){return this.eInput.cols=t,this}setRows(t){return this.eInput.rows=t,this}},wMe=class extends vE{constructor(t){super(t,"ag-date-field","date")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));const t=gg();this.addManagedListener(this.eInput,"mousedown",()=>{this.isDisabled()||t||this.eInput.focus()}),this.eInput.step="any"}onWheel(t){document.activeElement===this.eInput&&t.preventDefault()}setMin(t){var e;const n=t instanceof Date?null!=(e=Ch(t??null,!1))?e:void 0:t;return this.min===n||(this.min=n,mg(this.eInput,"min",n)),this}setMax(t){var e;const n=t instanceof Date?null!=(e=Ch(t??null,!1))?e:void 0:t;return this.max===n||(this.max=n,mg(this.eInput,"max",n)),this}setStep(t){return this.step===t||(this.step=t,mg(this.eInput,"step",t)),this}getDate(){var t;if(this.eInput.validity.valid)return null!=(t=Nu(this.getValue()))?t:void 0}setDate(t,e){this.setValue(Ch(t??null,!1),e)}},EMe=class extends Ff{constructor(t){super(t,"ag-range-field","range")}postConstruct(){super.postConstruct();const{min:t,max:e,step:n}=this.config;null!=t&&this.setMinValue(t),null!=e&&this.setMaxValue(e),this.setStep(n||1)}addInputListeners(){this.addManagedListener(this.eInput,"input",t=>{this.setValue(t.target.value)})}setMinValue(t){return this.min=t,this.eInput.setAttribute("min",t.toString()),this}setMaxValue(t){return this.max=t,this.eInput.setAttribute("max",t.toString()),this}setStep(t){return this.eInput.setAttribute("step",t.toString()),this}setValue(t,e){null!=this.min&&(t=Math.max(parseFloat(t),this.min).toString()),null!=this.max&&(t=Math.min(parseFloat(t),this.max).toString());const n=super.setValue(t,e);return this.eInput.value=t,n}},Dq=class extends Ti{constructor(t,e){super('<div class="ag-rich-select-row" role="presentation"></div>'),this.params=t,this.wrapperEl=e}postConstruct(){this.addManagedListener(this.getGui(),"click",this.onClick.bind(this))}setState(t){let e="";this.params.valueFormatter&&(e=this.params.valueFormatter(t)),this.populateWithRenderer(t,e)||this.populateWithoutRenderer(t,e),this.value=t}highlightString(t){const{parsedValue:e}=this;if(this.params.cellRenderer||!$t(e))return;let n=$t(t);if(n){const i=e?.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());if(i>=0){const r=i+t.length,s=_a(e.slice(0,i),!0),o=_a(e.slice(i,r),!0),c=_a(e.slice(r));this.renderValueWithoutRenderer(`${s}<span class="ag-rich-select-row-text-highlight">${o}</span>${c}`)}else n=!1}n||this.renderValueWithoutRenderer(e)}updateHighlighted(t){var e;const n=this.getGui(),i=`ag-rich-select-row-${this.getCompId()}`;null==(e=n.parentElement)||e.setAttribute("id",i),t&&(T9(this.getParentComponent().getAriaElement(),i),this.wrapperEl.setAttribute("data-active-option",i)),BI(n.parentElement,t),this.addOrRemoveCssClass("ag-rich-select-row-selected",t)}populateWithoutRenderer(t,e){const n=this.gridOptionsService.getDocument(),i=this.getGui(),r=n.createElement("span");r.style.overflow="hidden",r.style.textOverflow="ellipsis";const s=_a($t(e)?e:t,!0);this.parsedValue=$t(s)?s:null,i.appendChild(r),this.renderValueWithoutRenderer(s),this.setTooltip({newTooltipText:this.parsedValue,shouldDisplayTooltip:()=>r.scrollWidth>r.clientWidth})}renderValueWithoutRenderer(t){const e=this.getGui().querySelector("span");e&&(e.innerHTML=$t(t)?t:"&nbsp;")}populateWithRenderer(t,e){let n,i;return this.params.cellRenderer&&(i=this.userComponentFactory.getCellRendererDetails(this.params,{value:t,valueFormatted:e,setTooltip:(r,s)=>{this.setTooltip({newTooltipText:r,shouldDisplayTooltip:s})}})),i&&(n=i.newAgStackInstance()),n&&Z9(n,this.getGui()),!!n&&(n.then(r=>{this.addDestroyFunc(()=>{this.getContext().destroyBean(r)})}),!0)}onClick(){const t=this.getParentComponent(),e={type:W.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};t?.dispatchEvent(e)}};N([K("userComponentFactory")],Dq.prototype,"userComponentFactory",2),N([tn],Dq.prototype,"postConstruct",1);var fM=class lve extends lM{constructor(e){super(lve.getTemplate(e?.cssIdentifier||"default")),this.renderedRows=new Map,this.rowHeight=20,this.isHeightFromTheme=!0;const{cssIdentifier:n="default",ariaRole:i="listbox",listName:r}=e||{};this.cssIdentifier=n,this.ariaRole=i,this.listName=r}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e),focusInnerElement:e=>this.focusInnerElement(e),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)}),this.setAriaProperties(),this.addManagedListener(this.eventService,W.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))}onGridStylesChanged(){this.rowHeight=this.getItemHeight(),this.refresh()}setAriaProperties(){const n=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),i=this.eContainer;ho(i,this.ariaRole),Nf(i,n)}addResizeObserver(){const n=this.resizeObserverService.observeResize(this.getGui(),()=>this.animationFrameService.requestAnimationFrame(()=>this.drawVirtualRows()));this.addDestroyFunc(n)}focusInnerElement(e){this.focusRow(e?this.model.getRowCount()-1:0)}onFocusIn(e){const n=e.target;n.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=ice(n)-1)}onFocusOut(e){this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null)}handleKeyDown(e){switch(e.key){case Qe.UP:case Qe.DOWN:this.navigate(e.key===Qe.UP)&&e.preventDefault()}}onTabKeyDown(e){this.navigate(e.shiftKey)?e.preventDefault():(Pf(e),this.forceFocusOutOfContainer(e.shiftKey))}navigate(e){if(null==this.lastFocusedRowIndex)return!1;const n=this.lastFocusedRowIndex+(e?-1:1);return!(n<0||n>=this.model.getRowCount()||(this.focusRow(n),0))}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(e){this.ensureIndexVisible(e),window.setTimeout(()=>{if(!this.isAlive())return;const n=this.renderedRows.get(e);n&&n.eDiv.focus()},10)}getComponentAt(e){const n=this.renderedRows.get(e);return n&&n.rowComponent}forEachRenderedRow(e){this.renderedRows.forEach((n,i)=>e(n.rowComponent,i))}static getTemplate(e){return`<div class="ag-virtual-list-viewport ag-${e}-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-${e}-virtual-list-container" ref="eContainer"></div>\n            </div>`}getItemHeight(){return this.isHeightFromTheme?this.environment.getListItemHeight():this.rowHeight}ensureIndexVisible(e,n=!0){const i=this.model.getRowCount();if("number"!=typeof e||e<0||e>=i)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e),!1;const r=e*this.rowHeight,s=r+this.rowHeight,o=this.getGui(),c=o.scrollTop,h=o.offsetHeight,m=n?0:this.rowHeight,I=c+h<s-m;return c>r+m?(o.scrollTop=r,!0):!!I&&(o.scrollTop=s-h,!0)}setComponentCreator(e){this.componentCreator=e}setComponentUpdater(e){this.componentUpdater=e}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(e){this.isHeightFromTheme=!1,this.rowHeight=e,this.refresh()}refresh(e){if(null==this.model||!this.isAlive())return;const n=this.model.getRowCount();this.eContainer.style.height=n*this.rowHeight+"px",d9(()=>this.eContainer.clientHeight>=n*this.rowHeight,()=>{this.isAlive()&&(this.canSoftRefresh(e)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))})}canSoftRefresh(e){return!!(e&&this.renderedRows.size&&"function"==typeof this.model.areRowsEqual&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach((e,n)=>this.removeRow(n))}drawVirtualRows(e){if(!this.isAlive()||!this.model)return;const n=this.getGui(),i=n.scrollTop,r=i+n.offsetHeight,s=Math.floor(i/this.rowHeight),o=Math.floor(r/this.rowHeight);this.ensureRowsRendered(s,o,e)}ensureRowsRendered(e,n,i){this.renderedRows.forEach((r,s)=>{(s<e||s>n)&&s!==this.lastFocusedRowIndex&&this.removeRow(s)}),i&&this.refreshRows();for(let r=e;r<=n;r++)this.renderedRows.has(r)||r<this.model.getRowCount()&&this.insertRow(r)}insertRow(e){const n=this.model.getRow(e),i=document.createElement("div");i.classList.add("ag-virtual-list-item",`ag-${this.cssIdentifier}-virtual-list-item`),ho(i,"tree"===this.ariaRole?"treeitem":"option"),HV(i,this.model.getRowCount()),UV(i,e+1),i.setAttribute("tabindex","-1"),i.style.height=`${this.rowHeight}px`,i.style.top=this.rowHeight*e+"px";const r=this.componentCreator(n,i);r.addGuiEventListener("focusin",()=>this.lastFocusedRowIndex=e),i.appendChild(r.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",i):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",i):this.eContainer.appendChild(i),this.renderedRows.set(e,{rowComponent:r,eDiv:i,value:n})}removeRow(e){const n=this.renderedRows.get(e);this.eContainer.removeChild(n.eDiv),this.destroyBean(n.rowComponent),this.renderedRows.delete(e)}refreshRows(){const e=this.model.getRowCount();this.renderedRows.forEach((n,i)=>{var r,s;if(i>=e)this.removeRow(i);else{const o=this.model.getRow(i);null!=(s=(r=this.model).areRowsEqual)&&s.call(r,n.value,o)?this.componentUpdater(o,n.rowComponent):this.removeRow(i)}})}addScrollListener(){this.addGuiEventListener("scroll",()=>this.drawVirtualRows(),{passive:!0})}setModel(e){this.model=e}getAriaElement(){return this.eContainer}destroy(){this.isAlive()&&(this.clearVirtualRows(),super.destroy())}};N([K("resizeObserverService")],fM.prototype,"resizeObserverService",2),N([K("animationFrameService")],fM.prototype,"animationFrameService",2),N([fn("eContainer")],fM.prototype,"eContainer",2),N([tn],fM.prototype,"postConstruct",1);var Nue=fM,Rq=class extends mE{constructor(t){var e,n;super(Is(Qn({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:null!=(e=t?.template)?e:'\n    <div class="ag-picker-field" role="presentation">\n        <div ref="eLabel"></div>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">\n            <div ref="eDisplayField" class="ag-picker-field-display"></div>\n            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>\n            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n        </div>\n    </div>',modalPicker:!1},t),{maxPickerHeight:null!=(n=t?.maxPickerHeight)?n:"calc(var(--ag-row-height) * 6.5)"})),this.searchString="",this.highlightedItem=-1,this.lastRowHovered=-1,this.searchStringCreator=null;const{cellRowHeight:i,value:r,valueList:s,searchStringCreator:o}=t||{};null!=i&&(this.cellRowHeight=i),void 0!==r&&(this.value=r),null!=s&&(this.values=s),o&&(this.searchStringCreator=o)}postConstruct(){super.postConstruct(),this.createLoadingElement(),this.createListComponent();const{allowTyping:t,placeholder:e}=this.config;t?(this.eInput.setAutoComplete(!1).setInputPlaceholder(e),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");const{searchDebounceDelay:n=300}=this.config;this.clearSearchString=Wc(this.clearSearchString,n),this.renderSelectedValue(),t&&(this.eInput.onValueChange(i=>this.searchTextFromString(i)),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}createLoadingElement(){const t=this.gridOptionsService.getDocument(),e=this.localeService.getLocaleTextFunc(),n=t.createElement("div");n.classList.add("ag-loading-text"),n.innerText=e("loadingOoo","Loading..."),this.eLoading=n}createListComponent(){this.listComponent=this.createBean(new Nue({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this)),this.listComponent.setComponentUpdater((c,h)=>{}),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,W.EVENT_FIELD_PICKER_VALUE_SELECTED,c=>{this.onListValueSelected(c.value,c.fromEnterKey)});const{cellRowHeight:e}=this;e&&this.listComponent.setRowHeight(e);const n=this.listComponent.getGui(),i=this.listComponent.getAriaElement();this.addManagedListener(n,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(n,"mousedown",c=>c.preventDefault()),n.classList.add("ag-rich-select-list");const r=`ag-rich-select-list-${this.listComponent.getCompId()}`;i.setAttribute("id",r),Nf(i,this.localeService.getLocaleTextFunc()(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue)),D9(this.eWrapper,i)}renderSelectedValue(){const{value:t,eDisplayField:e,config:n}=this,{allowTyping:i,initialInputValue:r}=this.config,s=this.config.valueFormatter?this.config.valueFormatter(t):t;if(i)return void this.eInput.setValue(r??s);let o,c;if(n.cellRenderer&&(o=this.userComponentFactory.getCellRendererDetails(this.config,{value:t,valueFormatted:s})),o&&(c=o.newAgStackInstance()),c)aa(e),Z9(c,e),c.then(h=>{this.addDestroyFunc(()=>this.getContext().destroyBean(h))});else{if($t(this.value))e.innerText=s,e.classList.remove("ag-display-as-placeholder");else{const{placeholder:h}=n;$t(h)?(e.innerHTML=`${_a(h)}`,e.classList.add("ag-display-as-placeholder")):aa(e)}this.setTooltip({newTooltipText:s??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth})}}getCurrentValueIndex(){const{currentList:t,value:e}=this;if(null==e||!t)return-1;for(let n=0;n<t.length;n++)if(t[n]===e)return n;return-1}highlightFilterMatch(){var t;null==(t=this.listComponent)||t.forEachRenderedRow((e,n)=>{e.highlightString(this.searchString)})}highlightSelectedValue(t){var e;null==t&&(t=this.getCurrentValueIndex()),this.highlightedItem=t,null==(e=this.listComponent)||e.forEachRenderedRow((n,i)=>{n.updateHighlighted(-1!==t&&this.highlightedItem===i)})}setRowHeight(t){t!==this.cellRowHeight&&(this.cellRowHeight=t),this.listComponent&&this.listComponent.setRowHeight(t)}createPickerComponent(){const{values:t}=this;return t&&this.setValueList({valueList:t}),this.listComponent}setSearchStringCreator(t){this.searchStringCreator=t}setValueList(t){const{valueList:e,refresh:n}=t;this.listComponent&&this.currentList!==e&&(this.currentList=e,this.listComponent.setModel({getRowCount:()=>e.length,getRow:i=>e[i],areRowsEqual:(i,r)=>i===r}),n&&(this.values?this.listComponent.refresh(!0):(this.values=e,this.isPickerDisplayed&&this.showCurrentValueInPicker())))}showPicker(){super.showPicker(),this.showCurrentValueInPicker(),this.displayOrHidePicker()}showCurrentValueInPicker(){var t,e;if(!this.listComponent)return;if(!this.currentList)return void(this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading));null!=(t=this.eLoading)&&t.offsetParent&&(null==(e=this.eLoading.parentElement)||e.removeChild(this.eLoading));const n=this.getCurrentValueIndex();-1!==n?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(n),this.listComponent.refresh(!0),this.highlightSelectedValue(n)):this.listComponent.refresh()}beforeHidePicker(){this.highlightedItem=-1,super.beforeHidePicker()}onWrapperFocus(){if(!this.eInput)return;const t=this.eInput.getFocusableElement();t.focus(),t.select()}onWrapperFocusOut(t){this.eWrapper.contains(t.relatedTarget)||this.hidePicker()}buildSearchStringFromKeyboardEvent(t){let{key:e}=t;if(e===Qe.BACKSPACE)this.searchString=this.searchString.slice(0,-1),e="";else if(!YV(t))return;t.preventDefault(),this.searchTextFromCharacter(e)}searchTextFromCharacter(t){this.searchString+=t,this.runSearch(),this.clearSearchString()}searchTextFromString(t){null==t&&(t=""),this.searchString=t,this.runSearch()}buildSearchStrings(t){const{valueFormatter:e=(i=>i)}=this.config;let n;return"number"==typeof t[0]||"string"==typeof t[0]?n=t.map(i=>e(i)):"object"==typeof t[0]&&this.searchStringCreator&&(n=this.searchStringCreator(t)),n}getSuggestionsAndFilteredValues(t,e){let n=[],i=[];if(!t.length)return{suggestions:n,filteredValues:i};const{searchType:r="fuzzy",filterList:s}=this.config;if("fuzzy"===r){const o=KP(this.searchString,e,!0);n=o.values;const c=o.indices;if(s&&c.length)for(let h=0;h<c.length;h++)i.push(this.values[c[h]])}else n=e.filter((o,c)=>{const h=o.toLocaleLowerCase(),p=this.searchString.toLocaleLowerCase(),m="match"===r?h.startsWith(p):-1!==h.indexOf(p);return s&&m&&i.push(this.values[c]),m});return{suggestions:n,filteredValues:i}}filterListModel(t){const{filterList:e}=this.config;e&&(this.setValueList({valueList:t,refresh:!0}),this.alignPickerToComponent())}runSearch(){var t,e;const{values:n}=this,i=this.buildSearchStrings(n);if(!i)return void this.highlightSelectedValue(-1);const{suggestions:r,filteredValues:s}=this.getSuggestionsAndFilteredValues(this.searchString,i),{filterList:o,highlightMatch:c,searchType:h="fuzzy"}=this.config,p=s.length,m=!(!o||""===this.searchString);if(this.filterListModel(m?s:n),r.length){const y=m?0:i.indexOf(r[0]);this.selectListItem(y)}else if(this.highlightSelectedValue(-1),!m||p)null==(t=this.listComponent)||t.ensureIndexVisible(0);else if(m){this.getAriaElement().removeAttribute("data-active-option");const y=null==(e=this.listComponent)?void 0:e.getAriaElement();y&&T9(y,null)}c&&"fuzzy"!==h&&this.highlightFilterMatch(),this.displayOrHidePicker()}displayOrHidePicker(){var t;const e=null==(t=this.listComponent)?void 0:t.getGui(),n=!!this.currentList&&0===this.currentList.length;e?.classList.toggle("ag-hidden",n)}clearSearchString(){this.searchString=""}selectListItem(t,e){!this.isPickerDisplayed||!this.currentList||!this.listComponent||t<0||t>=this.currentList.length||(this.listComponent.ensureIndexVisible(t,!e)&&!e&&this.listComponent.refresh(!0),this.highlightSelectedValue(t))}setValue(t,e,n){const i=this.currentList?this.currentList.indexOf(t):-1;return-1===i?this:(this.value=t,n||this.selectListItem(i),this.renderSelectedValue(),super.setValue(t,e))}createRowComponent(t){const e=new Dq(this.config,this.eWrapper);e.setParentComponent(this.listComponent),this.getContext().createBean(e),e.setState(t);const{highlightMatch:n,searchType:i="fuzzy"}=this.config;return n&&"fuzzy"!==i&&e.highlightString(this.searchString),e}getRowForMouseEvent(t){const{listComponent:e}=this;if(!e)return-1;const i=(e?.getGui()).getBoundingClientRect(),r=e.getScrollTop();return Math.floor((t.clientY-i.top+r)/e.getRowHeight())}onPickerMouseMove(t){if(!this.listComponent)return;const e=this.getRowForMouseEvent(t);-1!==e&&e!=this.lastRowHovered&&(this.lastRowHovered=e,this.selectListItem(e,!0))}onNavigationKeyDown(t,e){t.preventDefault();const n=e===Qe.DOWN;if(!this.isPickerDisplayed&&n)return void this.showPicker();const i=this.highlightedItem;this.selectListItem(-1===i?0:i+(n?1:-1))}onEnterKeyDown(t){this.isPickerDisplayed&&(t.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))}onTabKeyDown(){!this.isPickerDisplayed||!this.currentList||this.setValue(this.currentList[this.highlightedItem],!1,!0)}onListValueSelected(t,e){this.setValue(t,!1,!0),this.dispatchPickerEvent(t,e),this.hidePicker()}dispatchPickerEvent(t,e){this.dispatchEvent({type:W.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:e,value:t})}getFocusableElement(){const{allowTyping:t}=this.config;return t?this.eInput.getFocusableElement():super.getFocusableElement()}onKeyDown(t){const e=t.key,{allowTyping:n}=this.config;switch(e){case Qe.LEFT:case Qe.RIGHT:case Qe.PAGE_HOME:case Qe.PAGE_END:n||t.preventDefault();break;case Qe.PAGE_UP:case Qe.PAGE_DOWN:t.preventDefault();break;case Qe.DOWN:case Qe.UP:this.onNavigationKeyDown(t,e);break;case Qe.ESCAPE:this.isPickerDisplayed&&(bd(this.listComponent.getGui())&&(t.preventDefault(),Pf(t)),this.hidePicker());break;case Qe.ENTER:this.onEnterKeyDown(t);break;case Qe.TAB:this.onTabKeyDown();break;default:n||this.buildSearchStringFromKeyboardEvent(t)}}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,super.destroy()}};N([K("userComponentFactory")],Rq.prototype,"userComponentFactory",2),N([fn("eInput")],Rq.prototype,"eInput",2);var iA=class cve extends iq{constructor(e){super(e,cve.TEMPLATE),this.labelAlignment="top"}init(){this.eSlider.addCssClass("ag-slider-field");const{minValue:e,maxValue:n,textFieldWidth:i,step:r,value:s,onValueChange:o}=this.config;null!=e&&this.setMinValue(e),null!=n&&this.setMaxValue(n),null!=i&&this.setTextFieldWidth(i),null!=r&&this.setStep(r),null!=s&&this.setValue(s),null!=o&&this.onValueChange(o)}onValueChange(e){const n=W.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,n,()=>{const i=parseFloat(this.eText.getValue());this.eSlider.setValue(i.toString(),!0),e(i||0)}),this.addManagedListener(this.eSlider,n,()=>{const i=this.eSlider.getValue();this.eText.setValue(i,!0),e(parseFloat(i))}),this}setSliderWidth(e){return this.eSlider.setWidth(e),this}setTextFieldWidth(e){return this.eText.setWidth(e),this}setMinValue(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this}setMaxValue(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this}getValue(){return this.eText.getValue()}setValue(e,n){return this.getValue()===e||(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),n||this.dispatchEvent({type:W.EVENT_FIELD_VALUE_CHANGED})),this}setStep(e){return this.eSlider.setStep(e),this.eText.setStep(e),this}};iA.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',N([fn("eLabel")],iA.prototype,"eLabel",2),N([fn("eSlider")],iA.prototype,"eSlider",2),N([fn("eText")],iA.prototype,"eText",2),N([tn],iA.prototype,"init",1);var TMe=iA,qy=class HA extends Ti{constructor(e={}){super(HA.getTemplate(e)),this.params=e,this.suppressEnabledCheckbox=!0,this.suppressToggleExpandOnEnableChange=!1;const{enabled:n,items:i,suppressEnabledCheckbox:r,expanded:s,suppressToggleExpandOnEnableChange:o,useToggle:c}=e;this.cssIdentifier=e.cssIdentifier||"default",this.enabled=n??!0,this.items=i||[],this.useToggle=c??!1,this.alignItems=e.alignItems||"center",this.expanded=s??!0,null!=r&&(this.suppressEnabledCheckbox=r),null!=o&&(this.suppressToggleExpandOnEnableChange=o)}static getTemplate(e){const n=e.cssIdentifier||"default";return`\n            <div class="ag-group ag-${n}-group" role="presentation">\n                <div ref="eToolbar" class="ag-group-toolbar ag-${n}-group-toolbar">\n                    <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n                </div>\n                <div ref="eContainer" class="ag-group-container ag-group-container-${e.direction||"vertical"} ag-${n}-group-container"></div>\n            </div>\n        `}postConstruct(){if(this.setupTitleBar(),this.items.length){const r=this.items;this.items=[],this.addItems(r)}const e=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(e("enabled","Enabled")),this.enabled&&this.setEnabled(this.enabled,void 0,!0),this.setAlignItems(this.alignItems);const{onEnableChange:n,suppressOpenCloseIcons:i}=this.params;this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(i??!1),this.refreshChildDisplay(),rr(this.eContainer,this.expanded),this.cbGroupEnabled.onValueChange(r=>{this.setEnabled(r,!0,this.suppressToggleExpandOnEnableChange),this.dispatchEnableChangeEvent(r)}),null!=n&&this.onEnableChange(n)}refreshChildDisplay(){var e;rr(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),null==(e=this.eTitleBar)||e.refreshOnExpand(this.expanded)}isExpanded(){return this.expanded}setAlignItems(e){return this.alignItems!==e&&this.removeCssClass(`ag-group-item-alignment-${this.alignItems}`),this.alignItems=e,this.addCssClass(`ag-group-item-alignment-${this.alignItems}`),this}toggleGroupExpand(e){var n;let i=!1;if(null!=(n=this.eTitleBar)&&n.isSuppressCollapse()&&!this.useToggle)e=!0,i=!0;else if(this.expanded===(e=e??!this.expanded))return this;return this.expanded=e,this.refreshChildDisplay(),rr(this.eContainer,e),i||this.dispatchEvent({type:e?HA.EVENT_EXPANDED:HA.EVENT_COLLAPSED}),this}addItems(e){e.forEach(n=>this.addItem(n))}prependItem(e){this.insertItem(e,!0)}addItem(e){this.insertItem(e,!1)}insertItem(e,n){const i=this.eContainer,r=e instanceof Ti?e.getGui():e;r.classList.add("ag-group-item",`ag-${this.cssIdentifier}-group-item`),n?(i.insertAdjacentElement("afterbegin",r),this.items.unshift(r)):(i.appendChild(r),this.items.push(r))}hideItem(e,n){rr(this.items[n],!e)}getItemIndex(e){const n=e instanceof Ti?e.getGui():e;return this.items.indexOf(n)}setTitle(e){var n;return null==(n=this.eTitleBar)||n.setTitle(e),this}addCssClassToTitleBar(e){var n;null==(n=this.eTitleBar)||n.addCssClass(e)}dispatchEnableChangeEvent(e){this.dispatchEvent({type:HA.EVENT_ENABLE_CHANGE,enabled:e})}setEnabled(e,n,i){var r;return this.enabled=e,this.refreshDisabledStyles(),i||this.toggleGroupExpand(e),n||(this.cbGroupEnabled.setValue(e),null==(r=this.eToggle)||r.setValue(e)),this}isEnabled(){return this.enabled}onEnableChange(e){return this.addManagedListener(this,HA.EVENT_ENABLE_CHANGE,n=>e(n.enabled)),this}hideEnabledCheckbox(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this}hideOpenCloseIcons(e){var n;return null==(n=this.eTitleBar)||n.hideOpenCloseIcons(e),this}refreshDisabledStyles(){var e;const n=!this.enabled;this.eContainer.classList.toggle("ag-disabled",n),null==(e=this.eTitleBar)||e.refreshDisabledStyles(this.suppressEnabledCheckbox&&n),this.eContainer.classList.toggle("ag-disabled-group-container",n)}setupTitleBar(){const e=this.useToggle?this.createToggleTitleBar():this.createDefaultTitleBar();this.eToolbar.insertAdjacentElement("beforebegin",e.getGui())}createDefaultTitleBar(){const e=this.createManagedBean(new Oue(this.params));return this.eTitleBar=e,e.refreshOnExpand(this.expanded),this.addManagedListener(e,Oue.EVENT_EXPAND_CHANGED,n=>this.toggleGroupExpand(n.expanded)),e}createToggleTitleBar(){var e;const n=this.createManagedBean(new Mue({value:this.enabled,label:this.params.title,labelAlignment:"left",labelWidth:"flex",onValueChange:i=>{this.setEnabled(i,!0),this.dispatchEnableChangeEvent(i)}}));return n.addCssClass("ag-group-title-bar"),n.addCssClass(`ag-${null!=(e=this.params.cssIdentifier)?e:"default"}-group-title-bar ag-unselectable`),this.eToggle=n,this.toggleGroupExpand(this.enabled),n}};qy.EVENT_EXPANDED="expanded",qy.EVENT_COLLAPSED="collapsed",qy.EVENT_ENABLE_CHANGE="enableChange",N([fn("eToolbar")],qy.prototype,"eToolbar",2),N([fn("cbGroupEnabled")],qy.prototype,"cbGroupEnabled",2),N([fn("eContainer")],qy.prototype,"eContainer",2),N([tn],qy.prototype,"postConstruct",1);var IMe=qy,rA=class gJ extends Ti{constructor(e={}){super(gJ.getTemplate(e)),this.suppressOpenCloseIcons=!1;const{title:n,suppressOpenCloseIcons:i}=e;this.title=n,null!=i&&(this.suppressOpenCloseIcons=i)}static getTemplate(e){var n;const i=null!=(n=e.cssIdentifier)?n:"default";return`\n            <div class="ag-group-title-bar ag-${i}-group-title-bar ag-unselectable" role="button">\n                <span class="ag-group-title-bar-icon ag-${i}-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-${i}-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-${i}-group-title"></span>\n            </div>\n        `}postConstruct(){this.setTitle(this.title),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract()}setupExpandContract(){this.eGroupClosedIcon.appendChild(Eh("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(Eh("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.getGui(),"click",()=>this.dispatchExpandChanged()),this.addManagedListener(this.getGui(),"keydown",e=>{switch(e.key){case Qe.ENTER:case Qe.SPACE:e.preventDefault(),this.dispatchExpandChanged();break;case Qe.RIGHT:case Qe.LEFT:e.preventDefault(),this.dispatchExpandChanged(e.key===Qe.RIGHT)}})}refreshOnExpand(e){this.refreshAriaStatus(e),this.refreshOpenCloseIcons(e)}refreshAriaStatus(e){this.suppressOpenCloseIcons||Rv(this.getGui(),e)}refreshOpenCloseIcons(e){const n=!this.suppressOpenCloseIcons;rr(this.eGroupOpenedIcon,n&&e),rr(this.eGroupClosedIcon,n&&!e)}isSuppressCollapse(){return this.suppressOpenCloseIcons}dispatchExpandChanged(e){this.dispatchEvent({type:gJ.EVENT_EXPAND_CHANGED,expanded:e})}setTitle(e){return this.eTitle.innerText=e||"",rr(this.getGui(),null!=e),this}hideOpenCloseIcons(e){return this.suppressOpenCloseIcons=e,e&&this.dispatchExpandChanged(!0),this}refreshDisabledStyles(e){const n=this.getGui();e?(n.classList.add("ag-disabled-group-title-bar"),n.removeAttribute("tabindex")):(n.classList.remove("ag-disabled-group-title-bar"),"string"==typeof this.title?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex"))}};rA.EVENT_EXPAND_CHANGED="expandedChanged",N([fn("eGroupOpenedIcon")],rA.prototype,"eGroupOpenedIcon",2),N([fn("eGroupClosedIcon")],rA.prototype,"eGroupClosedIcon",2),N([fn("eTitle")],rA.prototype,"eTitle",2),N([tn],rA.prototype,"postConstruct",1);var Oue=rA,xq=class extends lM{constructor(t=0,e){super('<div class="ag-menu-list" role="tree"></div>'),this.level=t,this.menuItems=[],this.params=e??{column:null,node:null,value:null}}postConstruct(){this.initialiseTabGuard({onTabKeyDown:t=>this.onTabKeyDown(t),handleKeyDown:t=>this.handleKeyDown(t),onFocusIn:t=>this.handleFocusIn(t),onFocusOut:t=>this.handleFocusOut(t)})}onTabKeyDown(t){const e=this.getParentComponent(),n=e&&e.getGui();n&&n.classList.contains("ag-focus-managed")||t.preventDefault(),t.shiftKey&&this.closeIfIsChild(t)}handleKeyDown(t){switch(t.key){case Qe.UP:case Qe.RIGHT:case Qe.DOWN:case Qe.LEFT:t.preventDefault(),this.handleNavKey(t.key);break;case Qe.ESCAPE:this.closeIfIsChild()&&Pf(t)}}handleFocusIn(t){var e,n;const i=t.relatedTarget;!this.tabGuardCtrl.isTabGuard(i)&&(this.getGui().contains(i)||null!=(n=null==(e=this.activeMenuItem)?void 0:e.getSubMenuGui())&&n.contains(i))||(this.activeMenuItem?this.activeMenuItem.activate():this.activateFirstItem())}handleFocusOut(t){var e;const n=t.relatedTarget;!this.activeMenuItem||this.getGui().contains(n)||null!=(e=this.activeMenuItem.getSubMenuGui())&&e.contains(n)||this.activeMenuItem.isSubMenuOpening()||this.activeMenuItem.deactivate()}clearActiveItem(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)}addMenuItems(t){null!=t&&Fu.all(t.map(e=>"separator"===e?Fu.resolve({eGui:this.createSeparator()}):"string"==typeof e?(console.warn(`AG Grid: unrecognised menu item ${e}`),Fu.resolve({eGui:null})):this.addItem(e))).then(e=>{e.forEach(n=>{n?.eGui&&(this.appendChild(n.eGui),n.comp&&this.menuItems.push(n.comp))})})}addItem(t){const e=this.createManagedBean(new _5);return e.init({menuItemDef:t,isAnotherSubMenuOpen:()=>this.menuItems.some(n=>n.isSubMenuOpen()),level:this.level,contextParams:this.params}).then(()=>(e.setParentComponent(this),this.addManagedListener(e,_5.EVENT_CLOSE_MENU,n=>{this.dispatchEvent(n)}),this.addManagedListener(e,_5.EVENT_MENU_ITEM_ACTIVATED,n=>{this.activeMenuItem&&this.activeMenuItem!==n.menuItem&&this.activeMenuItem.deactivate(),this.activeMenuItem=n.menuItem}),{comp:e,eGui:e.getGui()}))}activateFirstItem(){const t=this.menuItems.filter(e=>!e.isDisabled())[0];t&&t.activate()}createSeparator(){return Ou('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>')}handleNavKey(t){switch(t){case Qe.UP:case Qe.DOWN:const n=this.findNextItem(t===Qe.UP);return void(n&&n!==this.activeMenuItem&&n.activate())}t===(this.gridOptionsService.get("enableRtl")?Qe.RIGHT:Qe.LEFT)?this.closeIfIsChild():this.openChild()}closeIfIsChild(t){const e=this.getParentComponent();return!!(e&&e instanceof _5)&&(t&&t.preventDefault(),e.closeSubMenu(),e.getGui().focus(),!0)}openChild(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)}findNextItem(t){const e=this.menuItems.filter(r=>!r.isDisabled());if(!e.length)return;if(!this.activeMenuItem)return t?Ir(e):e[0];t&&e.reverse();let n,i=!1;for(let r=0;r<e.length;r++){const s=e[r];if(i){n=s;break}s===this.activeMenuItem&&(i=!0)}return i&&!n?e[0]:n||this.activeMenuItem}destroy(){this.clearActiveItem(),super.destroy()}};N([K("focusService")],xq.prototype,"focusService",2),N([tn],xq.prototype,"postConstruct",1);var Fue=class extends lM{constructor(t){super(),this.wrappedComponent=t,this.setTemplateFromElement(t.getGui())}postConstruct(){this.initialiseTabGuard({onTabKeyDown:t=>this.onTabKeyDown(t),handleKeyDown:t=>this.handleKeyDown(t)})}handleKeyDown(t){t.key===Qe.ESCAPE&&this.closePanel()}onTabKeyDown(t){t.defaultPrevented||(this.closePanel(),t.preventDefault())}closePanel(){const t=this.parentComponent;t.closeSubMenu(),setTimeout(()=>t.getGui().focus(),0)}};N([tn],Fue.prototype,"postConstruct",1);var ME=class UA extends Jt{constructor(){super(...arguments),this.isActive=!1,this.subMenuIsOpen=!1,this.subMenuIsOpening=!1,this.suppressRootStyles=!0,this.suppressAria=!0,this.suppressFocus=!0}init(e){var n,i;const{menuItemDef:r,isAnotherSubMenuOpen:s,level:o,childComponent:c,contextParams:h}=e;return this.params=e.menuItemDef,this.level=o,this.isAnotherSubMenuOpen=s,this.childComponent=c,this.contextParams=h,this.cssClassPrefix=null!=(i=null==(n=this.params.menuItemParams)?void 0:n.cssClassPrefix)?i:"ag-menu-option",this.userComponentFactory.getMenuItemCompDetails(this.params,Is(Qn({},r),{level:o,isAnotherSubMenuOpen:s,openSubMenu:m=>this.openSubMenu(m),closeSubMenu:()=>this.closeSubMenu(),closeMenu:m=>this.closeMenu(m),updateTooltip:(m,y)=>this.refreshTooltip(m,y),onItemActivated:()=>this.onItemActivated()})).newAgStackInstance().then(m=>{var y;this.menuItemComp=m;const I=null==(y=m.configureDefaults)?void 0:y.call(m);I&&this.configureDefaults(!0===I?void 0:I)})}addListeners(e,n){n?.suppressClick||this.addManagedListener(e,"click",i=>this.onItemSelected(i)),n?.suppressKeyboardSelect||this.addManagedListener(e,"keydown",i=>{(i.key===Qe.ENTER||i.key===Qe.SPACE)&&(i.preventDefault(),this.onItemSelected(i))}),n?.suppressMouseDown||this.addManagedListener(e,"mousedown",i=>{i.stopPropagation(),i.preventDefault()}),n?.suppressMouseOver||(this.addManagedListener(e,"mouseenter",()=>this.onMouseEnter()),this.addManagedListener(e,"mouseleave",()=>this.onMouseLeave()))}isDisabled(){return!!this.params.disabled}openSubMenu(e=!1){var n,i;if(this.closeSubMenu(),!this.params.subMenu)return;this.subMenuIsOpening=!0;const r=Ou('<div class="ag-menu" role="presentation"></div>');this.eSubMenuGui=r;let s,o=()=>{this.subMenuIsOpening=!1};if(this.childComponent){const m=this.createBean(new Fue(this.childComponent));m.setParentComponent(this);const y=m.getGui(),I="mouseenter",L=()=>this.cancelDeactivate();y.addEventListener(I,L),s=()=>y.removeEventListener(I,L),r.appendChild(y),this.childComponent.afterGuiAttached&&(o=()=>{this.childComponent.afterGuiAttached(),this.subMenuIsOpening=!1})}else if(this.params.subMenu){const m=this.createBean(new xq(this.level+1,this.contextParams));m.setParentComponent(this),m.addMenuItems(this.params.subMenu),r.appendChild(m.getGui()),this.addManagedListener(m,UA.EVENT_CLOSE_MENU,y=>this.dispatchEvent(y)),m.addGuiEventListener("mouseenter",()=>this.cancelDeactivate()),s=()=>this.destroyBean(m),e&&(o=()=>{m.activateFirstItem(),this.subMenuIsOpening=!1})}const c=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:this.eGui,ePopup:r}),h=this.localeService.getLocaleTextFunc(),p=this.popupService.addPopup({modal:!0,eChild:r,positionCallback:c,anchorToElement:this.eGui,ariaLabel:h("ariaLabelSubMenu","SubMenu"),afterGuiAttached:o});this.subMenuIsOpen=!0,this.setAriaExpanded(!0),this.hideSubMenu=()=>{var m,y;p&&p.hideFunc(),this.subMenuIsOpen=!1,this.setAriaExpanded(!1),s(),null==(y=(m=this.menuItemComp).setExpanded)||y.call(m,!1),this.eSubMenuGui=void 0},null==(i=(n=this.menuItemComp).setExpanded)||i.call(n,!0)}setAriaExpanded(e){this.suppressAria||Rv(this.eGui,e)}closeSubMenu(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,this.setAriaExpanded(!1))}isSubMenuOpen(){return this.subMenuIsOpen}isSubMenuOpening(){return this.subMenuIsOpening}activate(e){var n,i;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.suppressRootStyles||this.eGui.classList.add(`${this.cssClassPrefix}-active`),null==(i=(n=this.menuItemComp).setActive)||i.call(n,!0),this.suppressFocus||this.eGui.focus({preventScroll:!0}),e&&this.params.subMenu&&window.setTimeout(()=>{this.isAlive()&&this.isActive&&this.openSubMenu()},300),this.onItemActivated())}deactivate(){var e,n;this.cancelDeactivate(),this.suppressRootStyles||this.eGui.classList.remove(`${this.cssClassPrefix}-active`),null==(n=(e=this.menuItemComp).setActive)||n.call(e,!1),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()}getGui(){return this.menuItemComp.getGui()}getParentComponent(){return this.parentComponent}setParentComponent(e){this.parentComponent=e}getSubMenuGui(){return this.eSubMenuGui}onItemSelected(e){var n,i;null==(i=(n=this.menuItemComp).select)||i.call(n),this.params.action?this.getFrameworkOverrides().wrapOutgoing(()=>this.params.action(this.gridOptionsService.addGridCommonParams(Qn({},this.contextParams)))):this.openSubMenu(e&&"keydown"===e.type),!(this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect)&&this.closeMenu(e)}closeMenu(e){this.dispatchEvent({type:UA.EVENT_CLOSE_MENU,event:e})}onItemActivated(){this.dispatchEvent({type:UA.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})}cancelActivate(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)}cancelDeactivate(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)}onMouseEnter(){this.cancelDeactivate(),this.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(()=>this.activate(!0),UA.ACTIVATION_DELAY):this.activate(!0)}onMouseLeave(){this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(()=>this.deactivate(),UA.ACTIVATION_DELAY):this.deactivate()}configureDefaults(e){var n,i,r;if(this.tooltip=this.params.tooltip,!this.menuItemComp)return void setTimeout(()=>this.configureDefaults(e));let s=this.menuItemComp.getGui();const o=null==(i=(n=this.menuItemComp).getRootElement)?void 0:i.call(n);o&&(e?.suppressRootStyles||s.classList.add("ag-menu-option-custom"),s=o),this.eGui=s,this.suppressRootStyles=!!e?.suppressRootStyles,this.suppressRootStyles||(s.classList.add(this.cssClassPrefix),null==(r=this.params.cssClasses)||r.forEach(c=>s.classList.add(c)),this.params.disabled&&s.classList.add(`${this.cssClassPrefix}-disabled`)),e?.suppressTooltip||this.refreshTooltip(),this.suppressAria=!!e?.suppressAria,this.suppressAria||(ho(s,"treeitem"),ace(s,this.level+1),this.params.disabled&&S9(s,!0)),e?.suppressTabIndex||s.setAttribute("tabindex","-1"),this.params.disabled||this.addListeners(s,e),this.suppressFocus=!!e?.suppressFocus}refreshTooltip(e,n){this.tooltip=e,this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),e&&this.menuItemComp&&(this.tooltipFeature=this.createBean(new Pv({getGui:()=>this.getGui(),getTooltipValue:()=>this.tooltip,getLocation:()=>"menu",shouldDisplayTooltip:n})))}destroy(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}};ME.EVENT_CLOSE_MENU="closeMenu",ME.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",ME.ACTIVATION_DELAY=80,N([K("popupService")],ME.prototype,"popupService",2),N([K("userComponentFactory")],ME.prototype,"userComponentFactory",2),N([K("beans")],ME.prototype,"beans",2);var _5=ME,NE=class mJ extends Ti{constructor(e){super(mJ.getTemplate(e)),this.config=e,this.closable=!0}static getTemplate(e){const n=e.cssIdentifier||"default";return`<div class="ag-panel ag-${n}-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-${n}-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-${n}-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-${n}-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-${n}-panel-content-wrapper"></div>\n        </div>`}postConstruct(){const{component:e,closable:n,hideTitleBar:i,title:r,minWidth:s=250,width:o,minHeight:c=250,height:h,centered:p,popup:m,x:y,y:I}=this.config;this.positionableFeature=new jI(this.getGui(),{minWidth:s,width:o,minHeight:c,height:h,centered:p,x:y,y:I,popup:m,calculateTopBuffer:()=>this.positionableFeature.getHeight()-this.getBodyHeight()}),this.createManagedBean(this.positionableFeature);const L=this.getGui();e&&this.setBodyComponent(e),i?rr(this.eTitleBar,!1):(r&&this.setTitle(r),this.setClosable(n??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",U=>{const X=this.gridOptionsService.getDocument();if(L.contains(U.relatedTarget)||L.contains(X.activeElement)||this.eTitleBarButtons.contains(U.target))return void U.preventDefault();const Q=this.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");Q&&Q.focus()}),(!m||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")}renderComponent(){const e=this.getGui();e.focus(),this.close=()=>{e.parentElement.removeChild(e),this.destroy()}}getHeight(){return this.positionableFeature.getHeight()}setHeight(e){this.positionableFeature.setHeight(e)}getWidth(){return this.positionableFeature.getWidth()}setWidth(e){this.positionableFeature.setWidth(e)}setClosable(e){if(e!==this.closable&&(this.closable=e),e){const n=this.closeButtonComp=new Ti(mJ.CLOSE_BTN_TEMPLATE);this.getContext().createBean(n);const i=n.getGui(),r=zs("close",this.gridOptionsService);r.classList.add("ag-panel-title-bar-button-icon"),i.appendChild(r),this.addTitleBarButton(n),n.addManagedListener(i,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){const n=this.closeButtonComp.getGui();n.parentElement.removeChild(n),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}}setBodyComponent(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())}addTitleBarButton(e,n){const i=this.eTitleBarButtons,r=i.children,s=r.length;null==n&&(n=s),n=Math.max(0,Math.min(n,s)),e.addCssClass("ag-panel-title-bar-button");const o=e.getGui();0===n?i.insertAdjacentElement("afterbegin",o):n===s?i.insertAdjacentElement("beforeend",o):r[n-1].insertAdjacentElement("afterend",o),e.setParentComponent(this)}getBodyHeight(){return HP(this.eContentWrapper)}getBodyWidth(){return pE(this.eContentWrapper)}setTitle(e){this.eTitle.innerText=e}onBtClose(){this.close()}destroy(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));const e=this.getGui();e&&bd(e)&&this.close(),super.destroy()}};NE.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',N([fn("eContentWrapper")],NE.prototype,"eContentWrapper",2),N([fn("eTitleBar")],NE.prototype,"eTitleBar",2),N([fn("eTitleBarButtons")],NE.prototype,"eTitleBarButtons",2),N([fn("eTitle")],NE.prototype,"eTitle",2),N([tn],NE.prototype,"postConstruct",1);var AMe=NE;N([K("popupService")],class extends AMe{constructor(t){super(Is(Qn({},t),{popup:!0})),this.isMaximizable=!1,this.isMaximized=!1,this.maximizeListeners=[],this.resizeListenerDestroy=null,this.lastPosition={x:0,y:0,width:0,height:0}}postConstruct(){const t=this.getGui(),{movable:e,resizable:n,maximizable:i}=this.config;this.addCssClass("ag-dialog"),super.postConstruct(),this.addManagedListener(t,"focusin",r=>{this.popupService.bringPopupToFront(t)}),e&&this.setMovable(e),i&&this.setMaximizable(i),n&&this.setResizable(n)}renderComponent(){const t=this.getGui(),{alwaysOnTop:e,modal:n,title:i,afterGuiAttached:r}=this.config,s=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({modal:n,eChild:t,closeOnEsc:!0,closedCallback:this.onClosed.bind(this),alwaysOnTop:e,ariaLabel:i||s("ariaLabelDialog","Dialog"),afterGuiAttached:r});o&&(this.close=o.hideFunc)}onClosed(t){var e,n;this.destroy(),null==(n=(e=this.config).closedCallback)||n.call(e,t)}toggleMaximize(){const t=this.positionableFeature.getPosition();if(this.isMaximized){const{x:e,y:n,width:i,height:r}=this.lastPosition;this.setWidth(i),this.setHeight(r),this.positionableFeature.offsetElement(e,n)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=t.x,this.lastPosition.y=t.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()}refreshMaximizeIcon(){rr(this.maximizeIcon,!this.isMaximized),rr(this.minimizeIcon,this.isMaximized)}clearMaximizebleListeners(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(t=>t()),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)}destroy(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),super.destroy()}setResizable(t){this.positionableFeature.setResizable(t)}setMovable(t){this.positionableFeature.setMovable(t,this.eTitleBar)}setMaximizable(t){if(!t)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));const e=this.eTitleBar;if(!e||t===this.isMaximizable)return;const n=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),n.addManagedListener(n.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(n,0),this.maximizeListeners.push(this.addManagedListener(e,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",()=>{this.isMaximized=!1,this.refreshMaximizeIcon()})}buildMaximizeAndMinimizeElements(){const t=this.maximizeButtonComp=this.createBean(new Ti('<div class="ag-dialog-button"></span>')),e=t.getGui();return this.maximizeIcon=zs("maximize",this.gridOptionsService),e.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=zs("minimize",this.gridOptionsService),e.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),t}}.prototype,"popupService",2);var RMe=0,kv=class extends Jt{constructor(){super(...arguments),this.popupList=[]}postConstruct(){this.ctrlsService.whenReady(t=>{this.gridCtrl=t.gridCtrl}),this.addManagedListener(this.eventService,W.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))}getPopupParent(){return this.gridOptionsService.get("popupParent")||this.gridCtrl.getGui()}positionPopupForMenu(t){const{eventSource:e,ePopup:n}=t,i=this.getPopupIndex(n);-1!==i&&(this.popupList[i].alignedToElement=e);const r=e.getBoundingClientRect(),s=this.getParentRect(),o=this.keepXYWithinBounds(n,r.top-s.top,0),c=n.clientWidth>0?n.clientWidth:200;n.style.minWidth=`${c}px`;const p=s.right-s.left-c;let m;function y(){return r.right-s.left-2}function I(){return r.left-s.left-c}this.gridOptionsService.get("enableRtl")?(m=I(),m<0&&(m=y(),this.setAlignedStyles(n,"left")),m>p&&(m=0,this.setAlignedStyles(n,"right"))):(m=y(),m>p&&(m=I(),this.setAlignedStyles(n,"right")),m<0&&(m=0,this.setAlignedStyles(n,"left"))),n.style.left=`${m}px`,n.style.top=`${o}px`}positionPopupUnderMouseEvent(t){const{ePopup:e,nudgeX:n,nudgeY:i,skipObserver:r}=t;this.positionPopup({ePopup:e,nudgeX:n,nudgeY:i,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(t.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(t.type,t.ePopup,null,t.mouseEvent,t.column,t.rowNode)})}calculatePointerAlign(t){const e=this.getParentRect();return{x:t.clientX-e.left,y:t.clientY-e.top}}positionPopupByComponent(t){const{ePopup:e,nudgeX:n,nudgeY:i,keepWithinBounds:r,eventSource:s,alignSide:o="left",position:c="over",column:h,rowNode:p,type:m}=t,y=s.getBoundingClientRect(),I=this.getParentRect(),L=this.getPopupIndex(e);-1!==L&&(this.popupList[L].alignedToElement=s),this.positionPopup({ePopup:e,nudgeX:n,nudgeY:i,keepWithinBounds:r,updatePosition:()=>{let Q,X=y.left-I.left;return"right"===o&&(X-=e.offsetWidth-y.width),"over"===c?(Q=y.top-I.top,this.setAlignedStyles(e,"over")):(this.setAlignedStyles(e,"under"),Q="under"===this.shouldRenderUnderOrAbove(e,y,I,t.nudgeY||0)?y.top-I.top+y.height:y.top-e.offsetHeight-2*(i||0)-I.top),{x:X,y:Q}},postProcessCallback:()=>this.callPostProcessPopup(m,e,s,null,h,p)})}shouldRenderUnderOrAbove(t,e,n,i){const r=n.bottom-e.bottom,s=e.top-n.top,o=t.offsetHeight+i;return r>o?"under":s>o||s>r?"above":"under"}setAlignedStyles(t,e){const n=this.getPopupIndex(t);if(-1===n)return;const i=this.popupList[n],{alignedToElement:r}=i;!r||(["right","left","over","above","under"].forEach(o=>{r.classList.remove(`ag-has-popup-positioned-${o}`),t.classList.remove(`ag-popup-positioned-${o}`)}),!e)||(r.classList.add(`ag-has-popup-positioned-${e}`),t.classList.add(`ag-popup-positioned-${e}`))}callPostProcessPopup(t,e,n,i,r,s){const o=this.gridOptionsService.getCallback("postProcessPopup");o&&o({column:r,rowNode:s,ePopup:e,type:t,eventSource:n,mouseEvent:i})}positionPopup(t){const{ePopup:e,keepWithinBounds:n,nudgeX:i,nudgeY:r,skipObserver:s,updatePosition:o}=t,c={width:0,height:0},h=(p=!1)=>{let{x:m,y}=o();p&&e.clientWidth===c.width&&e.clientHeight===c.height||(c.width=e.clientWidth,c.height=e.clientHeight,i&&(m+=i),r&&(y+=r),n&&(m=this.keepXYWithinBounds(e,m,1),y=this.keepXYWithinBounds(e,y,0)),e.style.left=`${m}px`,e.style.top=`${y}px`,t.postProcessCallback&&t.postProcessCallback())};if(h(),!s){const p=this.resizeObserverService.observeResize(e,()=>h(!0));setTimeout(()=>p(),kv.WAIT_FOR_POPUP_CONTENT_RESIZE)}}getActivePopups(){return this.popupList.map(t=>t.element)}getPopupList(){return this.popupList}getParentRect(){const t=this.gridOptionsService.getDocument();let e=this.getPopupParent();return e===t.body?e=t.documentElement:"static"===getComputedStyle(e).position&&(e=e.offsetParent),q9(e)}keepXYWithinBounds(t,e,n){const i=0===n,r=i?"clientHeight":"clientWidth",s=i?"top":"left",o=i?"offsetHeight":"offsetWidth",c=i?"scrollTop":"scrollLeft",h=this.gridOptionsService.getDocument(),p=h.documentElement,m=this.getPopupParent(),y=m.getBoundingClientRect(),I=h.documentElement.getBoundingClientRect(),L=m===h.body,U=t[o];let Q=L?(i?$9:UP)(p)+p[c]:m[r];L&&(Q-=Math.abs(I[s]-y[s]));const pe=Q-U;return Math.min(Math.max(e,0),Math.abs(pe))}addPopup(t){const e=this.gridOptionsService.getDocument(),{eChild:n,ariaLabel:i,alwaysOnTop:r,positionCallback:s,anchorToElement:o}=t;if(!e)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:()=>{}};const c=this.getPopupIndex(n);if(-1!==c)return{hideFunc:this.popupList[c].hideFunc};this.initialisePopupPosition(n);const h=this.createPopupWrapper(n,i,!!r),p=this.addEventListenersToPopup(Is(Qn({},t),{wrapperEl:h}));return s&&s(),this.addPopupToPopupList(n,h,p,o),{hideFunc:p}}initialisePopupPosition(t){const n=this.getPopupParent().getBoundingClientRect();$t(t.style.top)||(t.style.top=-1*n.top+"px"),$t(t.style.left)||(t.style.left=-1*n.left+"px")}createPopupWrapper(t,e,n){const i=this.getPopupParent(),r=document.createElement("div"),{allThemes:s}=this.environment.getTheme();return s.length&&r.classList.add(...s),r.classList.add("ag-popup"),t.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),t.hasAttribute("role")||ho(t,"dialog"),Nf(t,e),r.appendChild(t),i.appendChild(r),n?this.setAlwaysOnTop(t,!0):this.bringPopupToFront(t),r}handleThemeChange(){const{allThemes:t}=this.environment.getTheme();for(const e of this.popupList){for(const n of Array.from(e.wrapper.classList))n.startsWith("ag-theme-")&&e.wrapper.classList.remove(n);t.length&&e.wrapper.classList.add(...t)}}addEventListenersToPopup(t){const e=this.gridOptionsService.getDocument(),n=this.getPopupParent(),{wrapperEl:i,eChild:r,closedCallback:o,afterGuiAttached:c,closeOnEsc:h,modal:p}=t;let m=!1;const y=X=>{i.contains(e.activeElement)&&X.key===Qe.ESCAPE&&!Mf(X)&&U({keyboardEvent:X})},I=X=>U({mouseEvent:X}),L=X=>U({touchEvent:X}),U=(X={})=>{const{mouseEvent:Q,touchEvent:pe,keyboardEvent:Te}=X;this.isEventFromCurrentPopup({mouseEvent:Q,touchEvent:pe},r)||m||(m=!0,n.removeChild(i),e.removeEventListener("keydown",y),e.removeEventListener("mousedown",I),e.removeEventListener("touchstart",L),e.removeEventListener("contextmenu",I),this.eventService.removeEventListener(W.EVENT_DRAG_STARTED,I),o&&o(Q||pe||Te),this.removePopupFromPopupList(r))};return c&&c({hidePopup:U}),window.setTimeout(()=>{h&&e.addEventListener("keydown",y),p&&(e.addEventListener("mousedown",I),this.eventService.addEventListener(W.EVENT_DRAG_STARTED,I),e.addEventListener("touchstart",L),e.addEventListener("contextmenu",I))},0),U}addPopupToPopupList(t,e,n,i){this.popupList.push({element:t,wrapper:e,hideFunc:n,instanceId:RMe++,isAnchored:!!i}),i&&this.setPopupPositionRelatedToElement(t,i)}getPopupIndex(t){return this.popupList.findIndex(e=>e.element===t)}setPopupPositionRelatedToElement(t,e){const n=this.getPopupIndex(t);if(-1===n)return;const i=this.popupList[n];if(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(s=>s&&s()),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!e)return;const r=this.keepPopupPositionedRelativeTo({element:e,ePopup:t,hidePopup:i.hideFunc});return i.stopAnchoringPromise=r,i.isAnchored=!0,r}removePopupFromPopupList(t){this.setAlignedStyles(t,null),this.setPopupPositionRelatedToElement(t,null),this.popupList=this.popupList.filter(e=>e.element!==t)}keepPopupPositionedRelativeTo(t){const e=this.getPopupParent(),n=e.getBoundingClientRect(),{element:i,ePopup:r}=t,s=i.getBoundingClientRect(),o=n.top-s.top,c=n.left-s.left;let h=o,p=c;const m=r.style.top,y=parseInt(m.substring(0,m.length-1),10),I=r.style.left,L=parseInt(I.substring(0,I.length-1),10);return new Fu(U=>{this.getFrameworkOverrides().setInterval(()=>{const X=e.getBoundingClientRect(),Q=i.getBoundingClientRect();if(0==Q.top&&0==Q.left&&0==Q.height&&0==Q.width)return void t.hidePopup();const Te=X.top-Q.top;if(Te!=h){const tt=this.keepXYWithinBounds(r,y+o-Te,0);r.style.top=`${tt}px`}h=Te;const Le=X.left-Q.left;if(Le!=p){const tt=this.keepXYWithinBounds(r,L+c-Le,1);r.style.left=`${tt}px`}p=Le},200).then(X=>{U(()=>{null!=X&&window.clearInterval(X)})})})}hasAnchoredPopup(){return this.popupList.some(t=>t.isAnchored)}isEventFromCurrentPopup(t,e){const{mouseEvent:n,touchEvent:i}=t,r=n||i;if(!r)return!1;const s=this.getPopupIndex(e);if(-1===s)return!1;for(let o=s;o<this.popupList.length;o++)if(kV(this.popupList[o].element,r))return!0;return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(t){const e=this.gridOptionsService.getDocument();for(;t&&t!==e.body;){if(t.classList.contains("ag-custom-component-popup")||null===t.parentElement)return!0;t=t.parentElement}return!1}getWrapper(t){for(;!t.classList.contains("ag-popup")&&t.parentElement;)t=t.parentElement;return t.classList.contains("ag-popup")?t:null}setAlwaysOnTop(t,e){const n=this.getWrapper(t);n&&(n.classList.toggle("ag-always-on-top",!!e),e&&this.bringPopupToFront(n))}bringPopupToFront(t){const e=this.getPopupParent(),n=Array.prototype.slice.call(e.querySelectorAll(".ag-popup")),i=n.length,r=Array.prototype.slice.call(e.querySelectorAll(".ag-popup.ag-always-on-top")),s=r.length,o=this.getWrapper(t);if(!o||i<=1||!e.contains(t))return;const c=n.indexOf(o),h=o.querySelectorAll("div"),p=[];for(h.forEach(m=>{0!==m.scrollTop&&p.push([m,m.scrollTop])}),s?o.classList.contains("ag-always-on-top")?c!==i-1&&Ir(r).insertAdjacentElement("afterend",o):c!==i-s-1&&r[0].insertAdjacentElement("beforebegin",o):c!==i-1&&Ir(n).insertAdjacentElement("afterend",o);p.length;){const m=p.pop();m[0].scrollTop=m[1]}}};kv.WAIT_FOR_POPUP_CONTENT_RESIZE=200,N([K("focusService")],kv.prototype,"focusService",2),N([K("ctrlsService")],kv.prototype,"ctrlsService",2),N([K("resizeObserverService")],kv.prototype,"resizeObserverService",2),N([tn],kv.prototype,"postConstruct",1),kv=N([In("popupService")],kv);var xMe=class extends Ti{constructor(){super('\n        <div class="ag-autocomplete-row" role="presentation">\n            <div class="ag-autocomplete-row-label"></div>\n        </div>'),this.hasHighlighting=!1}setState(t,e){this.value=t,this.render(),this.updateSelected(e)}updateSelected(t){this.addOrRemoveCssClass("ag-autocomplete-row-selected",t)}setSearchString(t){var e;let n=!1;if($t(t)){const i=null==(e=this.value)?void 0:e.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());if(i>=0){n=!0,this.hasHighlighting=!0;const r=i+t.length,s=_a(this.value.slice(0,i)),o=_a(this.value.slice(i,r)),c=_a(this.value.slice(r));this.getGui().lastElementChild.innerHTML=`${s}<b>${o}</b>${c}`}}!n&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())}render(){var t;this.getGui().lastElementChild.innerHTML=null!=(t=_a(this.value))?t:"&nbsp;"}},y5=class uve extends _E{constructor(e){super(uve.TEMPLATE),this.params=e,this.searchString=""}destroy(){super.destroy()}init(){this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new Nue({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:()=>this.autocompleteEntries.length,getRow:n=>this.autocompleteEntries[n]});const e=this.virtualList.getGui();this.addManagedListener(e,"click",()=>this.params.onConfirmed()),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",n=>n.preventDefault()),this.setSelectedValue(0)}onNavigationKeyDown(e,n){e.preventDefault();const i=this.autocompleteEntries.indexOf(this.selectedValue);this.checkSetSelectedValue(n===Qe.UP?i-1:i+1)}setSearch(e){this.searchString=e,$t(e)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()}runContainsSearch(e,n){let i,r=!1;const s=e.toLocaleLowerCase(),o=n.filter(c=>{const p=c.toLocaleLowerCase().indexOf(s),m=0===p,y=p>=0;return y&&(!i||!r&&m||r===m&&c.length<i.length)&&(i=c,r=m),y});return!i&&o.length&&(i=o[0]),{topMatch:i,allMatches:o}}runSearch(){var e,n;const{autocompleteEntries:i}=this.params,r=i.map(p=>{var m;return null!=(m=p.displayValue)?m:p.key});let s,o;if(this.params.useFuzzySearch)s=KP(this.searchString,r,!0).values,o=s.length?s[0]:void 0;else{const p=this.runContainsSearch(this.searchString,r);s=p.allMatches,o=p.topMatch}let c=i.filter(({key:p,displayValue:m})=>s.includes(m??p));if(!c.length&&this.selectedValue&&null!=(n=null==(e=this.params)?void 0:e.forceLastSelection)&&n.call(e,this.selectedValue,this.searchString)&&(c=[this.selectedValue]),this.autocompleteEntries=c,this.virtualList.refresh(),!o)return;const h=s.indexOf(o);this.checkSetSelectedValue(h)}updateSearchInList(){this.virtualList.forEachRenderedRow(e=>e.setSearchString(this.searchString))}checkSetSelectedValue(e){e>=0&&e<this.autocompleteEntries.length&&this.setSelectedValue(e)}setSelectedValue(e){const n=this.autocompleteEntries[e];this.selectedValue!==n&&(this.selectedValue=n,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow((i,r)=>{i.updateSelected(e===r)}))}createRowComponent(e){var n;const i=new xMe;return this.getContext().createBean(i),i.setState(null!=(n=e.displayValue)?n:e.key,e===this.selectedValue),i}onMouseMove(e){const n=this.virtualList.getGui().getBoundingClientRect(),i=this.virtualList.getScrollTop(),s=Math.floor((e.clientY-n.top+i)/this.virtualList.getRowHeight());this.checkSetSelectedValue(s)}afterGuiAttached(){this.virtualList.refresh()}getSelectedValue(){var e;return this.autocompleteEntries.length&&null!=(e=this.selectedValue)?e:null}};y5.TEMPLATE='<div class="ag-autocomplete-list-popup">\n            <div ref="eList" class="ag-autocomplete-list"></div>\n        <div>',N([fn("eList")],y5.prototype,"eList",2),N([tn],y5.prototype,"init",1);var PMe=y5,Ky=class NN extends Ti{constructor(){super('\n            <div class="ag-autocomplete" role="presentation">\n                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>\n            </div>'),this.isListOpen=!1,this.lastPosition=0,this.valid=!0}postConstruct(){this.eAutocompleteInput.onValueChange(e=>this.onValueChanged(e)),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(()=>{this.destroyBean(this.autocompleteList)}),this.addGuiEventListener("focusout",()=>this.onFocusOut())}onValueChanged(e){const n=hg(e);this.updateValue(n),this.updateAutocompleteList(n)}updateValue(e){this.updateLastPosition(),this.dispatchEvent({type:NN.EVENT_VALUE_CHANGED,value:e}),this.validate(e)}updateAutocompleteList(e){var n,i,r,s;const o=null!=(i=null==(n=this.listGenerator)?void 0:n.call(this,e,this.lastPosition))?i:{enabled:!1};if((!o.type||o.type!==(null==(r=this.autocompleteListParams)?void 0:r.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=o,null!=(s=this.autocompleteListParams)&&s.enabled){this.isListOpen||this.openList();const{searchString:c}=this.autocompleteListParams;this.autocompleteList.setSearch(c??"")}else this.isListOpen&&this.closeList()}onKeyDown(e){const n=e.key;switch(this.updateLastPosition(),n){case Qe.ENTER:this.onEnterKeyDown(e);break;case Qe.TAB:this.onTabKeyDown(e);break;case Qe.DOWN:case Qe.UP:this.onUpDownKeyDown(e,n);break;case Qe.LEFT:case Qe.RIGHT:case Qe.PAGE_HOME:case Qe.PAGE_END:setTimeout(()=>{this.updatePositionAndList()});break;case Qe.ESCAPE:this.onEscapeKeyDown(e);break;case Qe.SPACE:e.ctrlKey&&!this.isListOpen&&(e.preventDefault(),this.forceOpenList())}}confirmSelection(){var e;const n=null==(e=this.autocompleteList)?void 0:e.getSelectedValue();n&&(this.closeList(),this.dispatchEvent({type:NN.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:n,autocompleteType:this.autocompleteListParams.type}))}onTabKeyDown(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.confirmSelection())}onEnterKeyDown(e){e.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()}onUpDownKeyDown(e,n){var i;e.preventDefault(),this.isListOpen?null==(i=this.autocompleteList)||i.onNavigationKeyDown(e,n):this.forceOpenList()}onEscapeKeyDown(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))}onFocusOut(){this.isListOpen&&this.closeList()}updatePositionAndList(){var e;this.updateLastPosition(),this.updateAutocompleteList(null!=(e=this.eAutocompleteInput.getValue())?e:null)}setCaret(e,n){const i=this.gridOptionsService.getDocument();n&&i.activeElement===i.body&&this.eAutocompleteInput.getFocusableElement().focus();const r=this.eAutocompleteInput.getInputElement();r.setSelectionRange(e,e),e===r.value.length&&(r.scrollLeft=r.scrollWidth)}forceOpenList(){this.onValueChanged(this.eAutocompleteInput.getValue())}updateLastPosition(){var e;this.lastPosition=null!=(e=this.eAutocompleteInput.getInputElement().selectionStart)?e:0}validate(e){var n;this.validator&&(this.validationMessage=this.validator(e),this.eAutocompleteInput.getInputElement().setCustomValidity(null!=(n=this.validationMessage)?n:""),this.valid=!this.validationMessage,this.dispatchEvent({type:NN.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))}openList(){this.isListOpen=!0,this.autocompleteList=this.createBean(new PMe({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:()=>this.confirmSelection(),forceLastSelection:this.forceLastSelection}));const e=this.autocompleteList.getGui(),n={ePopup:e,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.get("enableRtl")?"right":"left",keepWithinBounds:!0},i=this.popupService.addPopup({eChild:e,anchorToElement:this.getGui(),positionCallback:()=>this.popupService.positionPopupByComponent(n),ariaLabel:this.listAriaLabel});this.hidePopup=i.hideFunc,this.autocompleteList.afterGuiAttached()}closeList(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null}onCompleted(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:NN.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})}getValue(){return hg(this.eAutocompleteInput.getValue())}setInputPlaceholder(e){return this.eAutocompleteInput.setInputPlaceholder(e),this}setInputAriaLabel(e){return this.eAutocompleteInput.setInputAriaLabel(e),this}setListAriaLabel(e){return this.listAriaLabel=e,this}setListGenerator(e){return this.listGenerator=e,this}setValidator(e){return this.validator=e,this}isValid(){return this.valid}setValue(e){const{value:n,position:i,silent:r,updateListOnlyIfOpen:s,restoreFocus:o}=e;this.eAutocompleteInput.setValue(n,!0),this.setCaret(i??this.lastPosition,o),r||this.updateValue(n),(!s||this.isListOpen)&&this.updateAutocompleteList(n)}setForceLastSelection(e){return this.forceLastSelection=e,this}setInputDisabled(e){return this.eAutocompleteInput.setDisabled(e),this}};Ky.EVENT_VALUE_CHANGED="eventValueChanged",Ky.EVENT_VALUE_CONFIRMED="eventValueConfirmed",Ky.EVENT_OPTION_SELECTED="eventOptionSelected",Ky.EVENT_VALID_CHANGED="eventValidChanged",N([K("popupService")],Ky.prototype,"popupService",2),N([fn("eAutocompleteInput")],Ky.prototype,"eAutocompleteInput",2),N([tn],Ky.prototype,"postConstruct",1);var MMe=Ky,Yy=class ZG extends Ti{constructor(e,n,i,r){super(),this.dragSourceDropTarget=e,this.ghost=n,this.horizontal=i,this.template=r}init(){var e;this.setTemplate(null!=(e=this.template)?e:ZG.TEMPLATE);const n=this.getGui();this.addElementClasses(n),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(zs("columnDrag",this.gridOptionsService)),this.eButton.appendChild(zs("cancel",this.gridOptionsService)),this.setupComponents(),!this.ghost&&this.isDraggable()&&this.addDragSource(),this.setupAria(),this.setupTooltip(),this.activateTabIndex(),this.refreshDraggable()}isDraggable(){return!0}refreshDraggable(){this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!this.isDraggable())}setupAria(){const e=this.localeService.getLocaleTextFunc(),n=[this.getAriaDisplayName()];this.addAdditionalAriaInstructions(n,e),Nf(this.getGui(),n.join(". "))}addAdditionalAriaInstructions(e,n){if(this.isRemovable()){const i=n("ariaDropZoneColumnComponentDescription","Press DELETE to remove");e.push(i)}}setupTooltip(){const e=()=>{const n=this.getTooltip();this.setTooltip({newTooltipText:n})};e(),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,e)}getDragSourceId(){}getDefaultIconName(){return Ri.ICON_NOT_ALLOWED}addDragSource(){const{dragAndDropService:e,eDragHandle:n}=this,i=this.createGetDragItem(),r=this.getDefaultIconName(),s={type:this.getDragSourceType(),sourceId:this.getDragSourceId(),eElement:n,getDefaultIconName:()=>r,getDragItem:i,dragItemName:this.getDisplayName()};e.addDragSource(s,!0),this.addDestroyFunc(()=>e.removeDragSource(s))}setupComponents(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost")}isRemovable(){return!0}refreshRemove(){rr(this.eButton,this.isRemovable())}setupRemove(){this.refreshRemove();const e={type:ZG.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",i=>this.onKeyDown(i)),this.addManagedListener(this.eButton,"click",i=>{this.dispatchEvent(e),i.stopPropagation()});const n=new tl(this.eButton);this.addManagedListener(n,tl.EVENT_TAP,()=>{this.dispatchEvent(e)}),this.addDestroyFunc(n.destroy.bind(n))}onKeyDown(e){e.key===Qe.DELETE&&this.isRemovable()&&(e.preventDefault(),this.dispatchEvent({type:ZG.EVENT_COLUMN_REMOVE}))}getDisplayValue(){return this.getDisplayName()}setTextValue(){const n=_a(this.getDisplayValue());this.eText.innerHTML=n}addElementClasses(e,n){e.classList.add("ag-column-drop-cell"+(n=n?`-${n}`:""),`ag-column-drop-${this.horizontal?"horizontal":"vertical"}-cell${n}`)}destroy(){super.destroy(),this.dragSourceDropTarget=null}};Yy.EVENT_COLUMN_REMOVE="columnRemove",Yy.TEMPLATE='<span role="option">\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>\n          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>\n          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>\n        </span>',N([K("dragAndDropService")],Yy.prototype,"dragAndDropService",2),N([fn("eText")],Yy.prototype,"eText",2),N([fn("eDragHandle")],Yy.prototype,"eDragHandle",2),N([fn("eButton")],Yy.prototype,"eButton",2),N([tn],Yy.prototype,"init",1);var NMe=Yy,pM=class Ng extends Ti{constructor(e){super('<div class="ag-unselectable" role="presentation"></div>'),this.horizontal=e,this.state=Ng.STATE_NOT_DRAGGING,this.guiDestroyFunctions=[],this.childPillComponents=[],this.resizeEnabled=!1,this.addElementClasses(this.getGui()),this.ePillDropList=document.createElement("div"),this.addElementClasses(this.ePillDropList,"list"),ho(this.ePillDropList,"listbox")}isHorizontal(){return this.horizontal}toggleResizable(e){this.positionableFeature.setResizable(!!e&&{bottom:!0}),this.resizeEnabled=e}isSourceEventFromTarget(e){const{dropZoneTarget:n,dragSource:i}=e;return n.contains(i.eElement)}destroy(){this.destroyGui(),super.destroy()}destroyGui(){this.guiDestroyFunctions.forEach(e=>e()),this.guiDestroyFunctions.length=0,this.childPillComponents.length=0,aa(this.getGui()),aa(this.ePillDropList)}init(e){this.params=e??{},this.createManagedBean(new zy(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.setupDropTarget(),this.positionableFeature=new jI(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),Nf(this.ePillDropList,this.getAriaLabel())}handleKeyDown(e){let i=e.key===Qe.DOWN,r=e.key===Qe.UP;if(this.horizontal){const o=this.gridOptionsService.get("enableRtl");i=!o&&e.key===Qe.RIGHT||o&&e.key===Qe.LEFT,r=!o&&e.key===Qe.LEFT||o&&e.key===Qe.RIGHT}if(!i&&!r)return;const s=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,r);s&&(e.preventDefault(),s.focus())}addElementClasses(e,n){e.classList.add("ag-column-drop"+(n=n?`-${n}`:""),`ag-column-drop-${this.horizontal?"horizontal":"vertical"}${n}`)}setupDropTarget(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.dragAndDropService.addDropTarget(this.dropTarget)}minimumAllowedNewInsertIndex(){return 0}checkInsertIndex(e){const n=this.getNewInsertIndex(e);if(n<0)return!1;const i=this.minimumAllowedNewInsertIndex(),r=Math.max(i,n),s=r!==this.insertIndex;return s&&(this.insertIndex=r),s}getNewInsertIndex(e){const n=e.event,i=this.horizontal?n.clientX:n.clientY,r=this.childPillComponents.map(o=>o.getGui().getBoundingClientRect()),s=r.findIndex(o=>this.horizontal?o.right>i&&o.left<i:o.top<i&&o.bottom>i);if(-1===s){const o=this.gridOptionsService.get("enableRtl");return r.every(p=>i>(this.horizontal?p.right:p.bottom))?o&&this.horizontal?0:this.childPillComponents.length:r.every(p=>i<(this.horizontal?p.left:p.top))?o&&this.horizontal?this.childPillComponents.length:0:this.insertIndex}return this.insertIndex<=s?s+1:s}checkDragStartedBySelf(e){this.state===Ng.STATE_NOT_DRAGGING&&(this.state=Ng.STATE_REARRANGE_ITEMS,this.potentialDndItems=this.getItems(e.dragSource.getDragItem()),this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())}onDragging(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()}handleDragEnterEnd(e){}onDragEnter(e){const n=this.getItems(e.dragSource.getDragItem());this.state=Ng.STATE_NEW_ITEMS_IN;const i=n.filter(s=>this.isItemDroppable(s,e)),r=i.every(s=>-1!==this.childPillComponents.map(o=>o.getItem()).indexOf(s));if(0!==i.length){if(this.potentialDndItems=i,r)return void(this.state=Ng.STATE_NOT_DRAGGING);this.handleDragEnterEnd(e),this.checkInsertIndex(e),this.refreshGui()}}isPotentialDndItems(){return Ble(this.potentialDndItems)}handleDragLeaveEnd(e){}onDragLeave(e){if(this.state===Ng.STATE_REARRANGE_ITEMS){const n=this.getItems(e.dragSource.getDragItem());this.removeItems(n)}this.isPotentialDndItems()&&(this.handleDragLeaveEnd(e),this.potentialDndItems=[],this.refreshGui()),this.state=Ng.STATE_NOT_DRAGGING}refreshOnDragStop(){return!0}onDragStop(){if(this.isPotentialDndItems()){let e=!1;this.state===Ng.STATE_NEW_ITEMS_IN?(this.addItems(this.potentialDndItems),e=!0):e=this.rearrangeItems(this.potentialDndItems),this.potentialDndItems=[],(this.refreshOnDragStop()||!e)&&this.refreshGui()}this.state=Ng.STATE_NOT_DRAGGING}removeItems(e){const n=this.getExistingItems().filter(i=>!yd(e,i));this.updateItems(n)}addItems(e){if(!e)return;const n=this.getExistingItems().slice(),i=e.filter(r=>n.indexOf(r)<0);p9(n,i,this.insertIndex),this.updateItems(n)}addItem(e){this.insertIndex=this.getExistingItems().length,this.addItems([e]),this.refreshGui()}rearrangeItems(e){const n=this.getNonGhostItems().slice();return p9(n,e,this.insertIndex),!fg(n,this.getExistingItems())&&(this.updateItems(n),!0)}refreshGui(){const e=this.ePillDropList.scrollTop,n=this.resizeEnabled,i=this.getFocusedItem();let r=this.focusService.findNextFocusableElement();r||(r=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addItemsToGui(),this.isHorizontal()||(this.ePillDropList.scrollTop=e),n&&this.toggleResizable(n),this.focusService.isKeyboardMode()&&this.restoreFocus(i,r)}getFocusedItem(){const e=this.getGui(),n=this.gridOptionsService.getDocument().activeElement;return e.contains(n)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(n):-1}restoreFocus(e,n){const i=this.getGui(),r=Array.from(i.querySelectorAll(".ag-column-drop-cell"));if(-1===e)return;0===r.length&&n.focus();const o=r[Math.min(r.length-1,e)];o&&o.focus()}focusList(e){this.restoreFocus(e?this.childPillComponents.length-1:0,this.getFocusableElement())}getNonGhostItems(){const e=this.getExistingItems();return this.isPotentialDndItems()?e.filter(n=>!yd(this.potentialDndItems,n)):e}addItemsToGui(){const n=this.getNonGhostItems().map(i=>this.createItemComponent(i,!1));if(this.isPotentialDndItems()){const i=this.potentialDndItems.map(r=>this.createItemComponent(r,!0));this.insertIndex>=n.length?n.push(...i):n.splice(this.insertIndex,0,...i)}this.appendChild(this.ePillDropList),n.forEach((i,r)=>{r>0&&this.addArrow(this.ePillDropList),this.ePillDropList.appendChild(i.getGui())}),this.addAriaLabelsToComponents()}addAriaLabelsToComponents(){this.childPillComponents.forEach((e,n)=>{const i=e.getGui();UV(i,n+1),HV(i,this.childPillComponents.length)})}createItemComponent(e,n){const i=this.createPillComponent(e,this.dropTarget,n,this.horizontal);return i.addEventListener(NMe.EVENT_COLUMN_REMOVE,this.removeItems.bind(this,[e])),this.context.createBean(i),this.guiDestroyFunctions.push(()=>this.destroyBean(i)),n||this.childPillComponents.push(i),i}addIconAndTitleToGui(){const{title:e,icon:n}=this.params;if(!e||!n)return;const i=document.createElement("div");if(BP(i,!0),this.addElementClasses(i,"title-bar"),this.addElementClasses(n,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingItemsEmpty()),i.appendChild(n),!this.horizontal){const r=document.createElement("span");this.addElementClasses(r,"title"),r.innerHTML=e,i.appendChild(r)}this.appendChild(i)}isExistingItemsEmpty(){return 0===this.getExistingItems().length}addEmptyMessageToGui(){const{emptyMessage:e}=this.params;if(!e||!this.isExistingItemsEmpty()||this.isPotentialDndItems())return;const n=document.createElement("span");n.innerHTML=e,this.addElementClasses(n,"empty-message"),this.ePillDropList.appendChild(n)}addArrow(e){if(this.horizontal){const i=zs(this.gridOptionsService.get("enableRtl")?"smallLeft":"smallRight",this.gridOptionsService);this.addElementClasses(i,"cell-separator"),e.appendChild(i)}}};pM.STATE_NOT_DRAGGING="notDragging",pM.STATE_NEW_ITEMS_IN="newItemsIn",pM.STATE_REARRANGE_ITEMS="rearrangeItems",N([K("focusService")],pM.prototype,"focusService",2),N([K("dragAndDropService")],pM.prototype,"dragAndDropService",2);var OMe=["touchstart","touchend","touchmove","touchcancel"],kue=class{constructor(t="javascript"){this.frameworkName=t,this.renderingEngine="vanilla",this.wrapIncoming=e=>e(),this.wrapOutgoing=e=>e()}setInterval(t,e){return new Fu(n=>{n(window.setInterval(t,e))})}addEventListener(t,e,n,i){const r=yd(OMe,e);t.addEventListener(e,n,{capture:!!i,passive:r})}get shouldWrapOutgoing(){return!1}frameworkComponent(t){return null}isFrameworkComponent(t){return!1}getDocLink(t){return`https://www.ag-grid.com/${"solid"===this.frameworkName?"react":this.frameworkName}-data-grid${t?`/${t}`:""}`}},Xy=class extends Jt{getNextCellToFocus(t,e,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(t,e):this.getNextCellToFocusWithoutCtrlPressed(t,e)}getNextCellToFocusWithCtrlPressed(t,e){const n=t===Qe.UP,r=t===Qe.LEFT;let s,o;if(n||t===Qe.DOWN)o=n?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),s=e.column;else{const c=this.columnModel.getAllDisplayedColumns(),h=this.gridOptionsService.get("enableRtl");o=e.rowIndex,s=r!==h?c[0]:Ir(c)}return{rowIndex:o,rowPinned:null,column:s}}getNextCellToFocusWithoutCtrlPressed(t,e){let n=e,i=!1;for(;!i;){switch(t){case Qe.UP:n=this.getCellAbove(n);break;case Qe.DOWN:n=this.getCellBelow(n);break;case Qe.RIGHT:n=this.gridOptionsService.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case Qe.LEFT:n=this.gridOptionsService.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,console.warn("AG Grid: unknown key for navigation "+t)}i=!n||this.isCellGoodToFocusOn(n)}return n}isCellGoodToFocusOn(t){const e=t.column;let n;switch(t.rowPinned){case"top":n=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case"bottom":n=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:n=this.rowModel.getRow(t.rowIndex)}return!!n&&!e.isSuppressNavigable(n)}getCellToLeft(t){if(!t)return null;const e=this.columnModel.getDisplayedColBefore(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null}getCellToRight(t){if(!t)return null;const e=this.columnModel.getDisplayedColAfter(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null}getRowBelow(t){const e=t.rowIndex,n=t.rowPinned;if(this.isLastRowInContainer(t))switch(n){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}const i=this.rowModel.getRow(t.rowIndex);return this.getNextStickyPosition(i)||{rowIndex:e+1,rowPinned:n}}getNextStickyPosition(t,e){if(!this.gridOptionsService.isGroupRowsSticky()||!t||!t.sticky)return;const n=[...this.rowRenderer.getStickyTopRowCtrls()].sort((o,c)=>o.getRowNode().rowIndex-c.getRowNode().rowIndex),i=e?-1:1,r=n.findIndex(o=>o.getRowNode().rowIndex===t.rowIndex),s=n[r+i];return s?{rowIndex:s.getRowNode().rowIndex,rowPinned:null}:void 0}getCellBelow(t){if(!t)return null;const e=this.getRowBelow(t);return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null}isLastRowInContainer(t){const e=t.rowPinned,n=t.rowIndex;return"top"===e?this.pinnedRowModel.getPinnedTopRowData().length-1<=n:"bottom"===e?this.pinnedRowModel.getPinnedBottomRowData().length-1<=n:this.paginationProxy.getPageLastRow()<=n}getRowAbove(t){const e=t.rowIndex,n=t.rowPinned;if(n?0===e:e===this.paginationProxy.getPageFirstRow())return"top"===n?null:n&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;const r=this.rowModel.getRow(t.rowIndex);return this.getNextStickyPosition(r,!0)||{rowIndex:e-1,rowPinned:n}}getCellAbove(t){if(!t)return null;const e=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}}getNextTabbedCell(t,e){return e?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)}getNextTabbedCellForwards(t){const e=this.columnModel.getAllDisplayedColumns();let n=t.rowIndex,i=t.rowPinned,r=this.columnModel.getDisplayedColAfter(t.column);if(!r){r=e[0];const s=this.getRowBelow(t);if(pi(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;n=s?s.rowIndex:null,i=s?s.rowPinned:null}return{rowIndex:n,column:r,rowPinned:i}}getNextTabbedCellBackwards(t){const e=this.columnModel.getAllDisplayedColumns();let n=t.rowIndex,i=t.rowPinned,r=this.columnModel.getDisplayedColBefore(t.column);if(!r){r=Ir(e);const s=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(pi(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;n=s?s.rowIndex:null,i=s?s.rowPinned:null}return{rowIndex:n,column:r,rowPinned:i}}};N([K("columnModel")],Xy.prototype,"columnModel",2),N([K("rowModel")],Xy.prototype,"rowModel",2),N([K("rowRenderer")],Xy.prototype,"rowRenderer",2),N([K("pinnedRowModel")],Xy.prototype,"pinnedRowModel",2),N([K("paginationProxy")],Xy.prototype,"paginationProxy",2),Xy=N([In("cellNavigationService")],Xy);var OE=class extends Jt{constructor(){super(...arguments),this.consuming=!1}setBeans(t){this.logger=t.create("AlignedGridsService")}getAlignedGridApis(){var t;let e=null!=(t=this.gridOptionsService.get("alignedGrids"))?t:[];const n="function"==typeof e;"function"==typeof e&&(e=e());const i=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map(s=>{var o;if(!s)return Rf("alignedGrids contains an undefined option."),n||Rf('You may want to configure via a callback to avoid setup race conditions:\n                     "alignedGrids: () => [linkedGrid]"'),void Rf(i());if(s instanceof Zi)return s;const c=s;return"current"in c?null==(o=c.current)?void 0:o.api:(c.api||Rf(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${i()}`),c.api)}).filter(s=>!!s&&!s.isDestroyed())}init(){this.addManagedListener(this.eventService,W.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,W.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))}fireEvent(t){this.consuming||this.getAlignedGridApis().forEach(e=>{const n=e.__getAlignedGridService();t(n)})}onEvent(t){this.consuming=!0,t(),this.consuming=!1}fireColumnEvent(t){this.fireEvent(e=>{e.onColumnEvent(t)})}fireScrollEvent(t){"horizontal"===t.direction&&this.fireEvent(e=>{e.onScrollEvent(t)})}onScrollEvent(t){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(t.left,!0)})}getMasterColumns(t){const e=[];return t.columns?t.columns.forEach(n=>{e.push(n)}):t.column&&e.push(t.column),e}getColumnIds(t){const e=[];return t.columns?t.columns.forEach(n=>{e.push(n.getColId())}):t.column&&e.push(t.column.getColId()),e}onColumnEvent(t){this.onEvent(()=>{switch(t.type){case W.EVENT_COLUMN_MOVED:case W.EVENT_COLUMN_VISIBLE:case W.EVENT_COLUMN_PINNED:case W.EVENT_COLUMN_RESIZED:this.processColumnEvent(t);break;case W.EVENT_COLUMN_GROUP_OPENED:this.processGroupOpenedEvent(t);break;case W.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})}processGroupOpenedEvent(t){t.columnGroups.forEach(e=>{let n=null;if(e){const i=e.getGroupId();n=this.columnModel.getProvidedColumnGroup(i)}e&&!n||(this.logger.log("onColumnEvent-> processing "+t+" expanded = "+e.isExpanded()),this.columnModel.setColumnGroupOpened(n,e.isExpanded(),"alignedGridChanged"))})}processColumnEvent(t){var e;const n=t.column;let i=null;if(n&&(i=this.columnModel.getPrimaryColumn(n.getColId())),n&&!i)return;const r=this.getMasterColumns(t);switch(t.type){case W.EVENT_COLUMN_MOVED:{const p=t,y=t.api.getColumnState().map(I=>({colId:I.colId}));this.columnModel.applyColumnState({state:y,applyOrder:!0},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${t.type} toIndex = ${p.toIndex}`)}break;case W.EVENT_COLUMN_VISIBLE:{const p=t,y=t.api.getColumnState().map(I=>({colId:I.colId,hide:I.hide}));this.columnModel.applyColumnState({state:y},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${t.type} visible = ${p.visible}`)}break;case W.EVENT_COLUMN_PINNED:{const p=t,y=t.api.getColumnState().map(I=>({colId:I.colId,pinned:I.pinned}));this.columnModel.applyColumnState({state:y},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${t.type} pinned = ${p.pinned}`)}break;case W.EVENT_COLUMN_RESIZED:const c=t,h={};r.forEach(p=>{this.logger.log(`onColumnEvent-> processing ${t.type} actualWidth = ${p.getActualWidth()}`),h[p.getId()]={key:p.getColId(),newWidth:p.getActualWidth()}}),null==(e=c.flexColumns)||e.forEach(p=>{h[p.getId()]&&delete h[p.getId()]}),this.columnModel.setColumnWidths(Object.values(h),!1,c.finished,"alignedGridChanged")}const o=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(c=>{c.setGridOption("alwaysShowVerticalScroll",o)})}};N([K("columnModel")],OE.prototype,"columnModel",2),N([K("ctrlsService")],OE.prototype,"ctrlsService",2),N([Df(0,_h("loggerFactory"))],OE.prototype,"setBeans",1),N([tn],OE.prototype,"init",1),OE=N([In("alignedGridsService")],OE);var FE=class extends Jt{constructor(){super(...arguments),this.selectedNodes=new Map,this.lastRowNode=null}init(){this.rowSelection=this.gridOptionsService.get("rowSelection"),this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.deselectAllRowNodes({source:"api"})}),this.addManagedListener(this.eventService,W.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))}destroy(){super.destroy(),this.resetNodes(),this.lastRowNode=null}isMultiselect(){return"multiple"===this.rowSelection}setNodesSelected(t){var e;const{newValue:n,clearSelection:i,suppressFinishActions:r,rangeSelect:s,nodes:o,event:c,source:h="api"}=t;if(0===o.length)return 0;if(o.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;const p=this.groupSelectsChildren&&!0===t.groupSelectsFiltered,m=o.map(I=>I.footer?I.sibling:I);if(s){if(o.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;let I=null;if("checkboxSelected"===h&&!1===n&&this.lastRowNode&&(this.lastRowNode.id?I=this.lastRowNode:this.lastRowNode=null),null==I&&(I=this.getLastSelectedNode()),I){const L=m[0];if(L!==I&&this.isMultiselect())return this.selectRange(L,I,n,h)}}this.lastRowNode=n?null:m[0];let y=0;for(let I=0;I<m.length;I++){const L=m[I];p&&L.group||L.selectThisNode(n,c,h)&&y++,this.groupSelectsChildren&&null!=(e=L.childrenAfterGroup)&&e.length&&(y+=this.selectChildren(L,n,p,h))}return!r&&(n&&(i||!this.isMultiselect())&&(y+=this.clearOtherNodes(m[0],h)),y>0)&&(this.updateGroupsFromChildrenSelections(h),this.eventService.dispatchEvent({type:W.EVENT_SELECTION_CHANGED,source:h})),y}selectRange(t,e,n=!0,i){const r=this.rowModel.getNodesInRangeForSelection(t,e);let s=0;return r.forEach(c=>{c.group&&this.groupSelectsChildren||c.selectThisNode(n,void 0,i)&&s++}),this.updateGroupsFromChildrenSelections(i),this.eventService.dispatchEvent({type:W.EVENT_SELECTION_CHANGED,source:i}),s}selectChildren(t,e,n,i){const r=n?t.childrenAfterAggFilter:t.childrenAfterGroup;return pi(r)?0:this.setNodesSelected({newValue:e,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:n,source:i,nodes:r})}getLastSelectedNode(){const t=Array.from(this.selectedNodes.keys());return 0==t.length?null:this.selectedNodes.get(Ir(t))||null}getSelectedNodes(){const t=[];return this.selectedNodes.forEach(e=>{e&&t.push(e)}),t}getSelectedRows(){const t=[];return this.selectedNodes.forEach(e=>{e&&e.data&&t.push(e.data)}),t}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(t){const e=new Map;this.selectedNodes.forEach((n,i)=>{n&&t(n)&&e.set(i,n)}),this.selectedNodes=e}updateGroupsFromChildrenSelections(t,e){if(!this.groupSelectsChildren||"clientSide"!==this.rowModel.getType())return!1;const i=this.rowModel.getRootNode();e||(e=new m5(!0,i)).setInactive();let r=!1;return e.forEachChangedNodeDepthFirst(s=>{if(s!==i){const o=s.calculateSelectedFromChildren();r=s.selectThisNode(null!==o&&o,void 0,t)||r}}),r}clearOtherNodes(t,e){const n=new Map;let i=0;return this.selectedNodes.forEach(r=>{if(r&&r.id!==t.id){const s=this.selectedNodes.get(r.id);i+=s.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:e}),this.groupSelectsChildren&&r.parent&&n.set(r.parent.id,r.parent)}}),n.forEach(r=>{const s=r.calculateSelectedFromChildren();r.selectThisNode(null!==s&&s,void 0,e)}),i}onRowSelected(t){const e=t.node;this.groupSelectsChildren&&e.group||(e.isSelected()?this.selectedNodes.set(e.id,e):this.selectedNodes.delete(e.id))}syncInRowNode(t,e){this.syncInOldRowNode(t,e),this.syncInNewRowNode(t)}syncInOldRowNode(t,e){$t(e)&&t.id!==e.id&&e&&this.selectedNodes.get(e.id)==t&&this.selectedNodes.set(e.id,e)}syncInNewRowNode(t){this.selectedNodes.has(t.id)?(t.setSelectedInitialValue(!0),this.selectedNodes.set(t.id,t)):t.setSelectedInitialValue(!1)}reset(t){const e=this.getSelectionCount();this.resetNodes(),e&&this.eventService.dispatchEvent({type:W.EVENT_SELECTION_CHANGED,source:t})}resetNodes(){var t;null==(t=this.selectedNodes)||t.clear()}getBestCostNodeSelection(){if("clientSide"!==this.rowModel.getType())return;const e=this.rowModel.getTopLevelNodes();if(null===e)return;const n=[];return function i(r){for(let s=0,o=r.length;s<o;s++){const c=r[s];c.isSelected()?n.push(c):c.group&&c.children&&i(c.children)}}(e),n}isEmpty(){let t=0;return this.selectedNodes.forEach(e=>{e&&t++}),0===t}deselectAllRowNodes(t){const e=c=>c.selectThisNode(!1,void 0,i),n="clientSide"===this.rowModel.getType(),{source:i,justFiltered:r,justCurrentPage:s}=t;if(s||r){if(!n)return void console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(r,s).forEach(e)}else this.selectedNodes.forEach(c=>{c&&e(c)}),this.reset(i);n&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(i),this.eventService.dispatchEvent({type:W.EVENT_SELECTION_CHANGED,source:i})}getSelectedCounts(t,e){let n=0,i=0;return this.getNodesToSelect(t,e).forEach(s=>{this.groupSelectsChildren&&s.group||(s.isSelected()?n++:s.selectable&&i++)}),{selectedCount:n,notSelectedCount:i}}getSelectAllState(t,e){const{selectedCount:n,notSelectedCount:i}=this.getSelectedCounts(t,e);return(0!==n||0!==i)&&(n>0&&i>0?null:n>0)}hasNodesToSelect(t=!1,e=!1){return this.getNodesToSelect(t,e).filter(n=>n.selectable).length>0}getNodesToSelect(t=!1,e=!1){if("clientSide"!==this.rowModel.getType())throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const n=[];if(e)return this.paginationProxy.forEachNodeOnPage(r=>{if(r.group)if(r.expanded)this.groupSelectsChildren||n.push(r);else{const s=o=>{var c;n.push(o),null!=(c=o.childrenAfterFilter)&&c.length&&o.childrenAfterFilter.forEach(s)};s(r)}else n.push(r)}),n;const i=this.rowModel;return t?(i.forEachNodeAfterFilter(r=>{n.push(r)}),n):(i.forEachNode(r=>{n.push(r)}),n)}selectAllRowNodes(t){if("clientSide"!==this.rowModel.getType())throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const{source:e,justFiltered:n,justCurrentPage:i}=t;this.getNodesToSelect(n,i).forEach(o=>o.selectThisNode(!0,void 0,e)),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(e),this.eventService.dispatchEvent({type:W.EVENT_SELECTION_CHANGED,source:e})}getSelectionState(){const t=[];return this.selectedNodes.forEach(e=>{e?.id&&t.push(e.id)}),t.length?t:null}setSelectionState(t,e){if(!Array.isArray(t))return;const n=new Set(t),i=[];this.rowModel.forEachNode(r=>{n.has(r.id)&&i.push(r)}),this.setNodesSelected({newValue:!0,nodes:i,source:e})}};N([K("rowModel")],FE.prototype,"rowModel",2),N([K("paginationProxy")],FE.prototype,"paginationProxy",2),N([tn],FE.prototype,"init",1),FE=N([In("selectionService")],FE);var kE=class{constructor(t){this.viaApi=(e,...n)=>(li(`Since v31, 'columnApi.${e}' is deprecated and moved to 'api.${e}'.`),this.api[e](...n)),this.api=t}sizeColumnsToFit(t){this.viaApi("sizeColumnsToFit",t)}setColumnGroupOpened(t,e){this.viaApi("setColumnGroupOpened",t,e)}getColumnGroup(t,e){return this.viaApi("getColumnGroup",t,e)}getProvidedColumnGroup(t){return this.viaApi("getProvidedColumnGroup",t)}getDisplayNameForColumn(t,e){return this.viaApi("getDisplayNameForColumn",t,e)}getDisplayNameForColumnGroup(t,e){return this.viaApi("getDisplayNameForColumnGroup",t,e)}getColumn(t){return this.viaApi("getColumn",t)}getColumns(){return this.viaApi("getColumns")}applyColumnState(t){return this.viaApi("applyColumnState",t)}getColumnState(){return this.viaApi("getColumnState")}resetColumnState(){this.viaApi("resetColumnState")}getColumnGroupState(){return this.viaApi("getColumnGroupState")}setColumnGroupState(t){this.viaApi("setColumnGroupState",t)}resetColumnGroupState(){this.viaApi("resetColumnGroupState")}isPinning(){return this.viaApi("isPinning")}isPinningLeft(){return this.viaApi("isPinningLeft")}isPinningRight(){return this.viaApi("isPinningRight")}getDisplayedColAfter(t){return this.viaApi("getDisplayedColAfter",t)}getDisplayedColBefore(t){return this.viaApi("getDisplayedColBefore",t)}setColumnVisible(t,e){this.viaApi("setColumnVisible",t,e)}setColumnsVisible(t,e){this.viaApi("setColumnsVisible",t,e)}setColumnPinned(t,e){this.viaApi("setColumnPinned",t,e)}setColumnsPinned(t,e){this.viaApi("setColumnsPinned",t,e)}getAllGridColumns(){return this.viaApi("getAllGridColumns")}getDisplayedLeftColumns(){return this.viaApi("getDisplayedLeftColumns")}getDisplayedCenterColumns(){return this.viaApi("getDisplayedCenterColumns")}getDisplayedRightColumns(){return this.viaApi("getDisplayedRightColumns")}getAllDisplayedColumns(){return this.viaApi("getAllDisplayedColumns")}getAllDisplayedVirtualColumns(){return this.viaApi("getAllDisplayedVirtualColumns")}moveColumn(t,e){this.viaApi("moveColumn",t,e)}moveColumnByIndex(t,e){this.viaApi("moveColumnByIndex",t,e)}moveColumns(t,e){this.viaApi("moveColumns",t,e)}moveRowGroupColumn(t,e){this.viaApi("moveRowGroupColumn",t,e)}setColumnAggFunc(t,e){this.viaApi("setColumnAggFunc",t,e)}setColumnWidth(t,e,n=!0,i){this.viaApi("setColumnWidth",t,e,n,i)}setColumnWidths(t,e=!0,n){this.viaApi("setColumnWidths",t,e,n)}setPivotMode(t){this.viaApi("setPivotMode",t)}isPivotMode(){return this.viaApi("isPivotMode")}getPivotResultColumn(t,e){return this.viaApi("getPivotResultColumn",t,e)}setValueColumns(t){this.viaApi("setValueColumns",t)}getValueColumns(){return this.viaApi("getValueColumns")}removeValueColumn(t){this.viaApi("removeValueColumn",t)}removeValueColumns(t){this.viaApi("removeValueColumns",t)}addValueColumn(t){this.viaApi("addValueColumn",t)}addValueColumns(t){this.viaApi("addValueColumns",t)}setRowGroupColumns(t){this.viaApi("setRowGroupColumns",t)}removeRowGroupColumn(t){this.viaApi("removeRowGroupColumn",t)}removeRowGroupColumns(t){this.viaApi("removeRowGroupColumns",t)}addRowGroupColumn(t){this.viaApi("addRowGroupColumn",t)}addRowGroupColumns(t){this.viaApi("addRowGroupColumns",t)}getRowGroupColumns(){return this.viaApi("getRowGroupColumns")}setPivotColumns(t){this.viaApi("setPivotColumns",t)}removePivotColumn(t){this.viaApi("removePivotColumn",t)}removePivotColumns(t){this.viaApi("removePivotColumns",t)}addPivotColumn(t){this.viaApi("addPivotColumn",t)}addPivotColumns(t){this.viaApi("addPivotColumns",t)}getPivotColumns(){return this.viaApi("getPivotColumns")}getLeftDisplayedColumnGroups(){return this.viaApi("getLeftDisplayedColumnGroups")}getCenterDisplayedColumnGroups(){return this.viaApi("getCenterDisplayedColumnGroups")}getRightDisplayedColumnGroups(){return this.viaApi("getRightDisplayedColumnGroups")}getAllDisplayedColumnGroups(){return this.viaApi("getAllDisplayedColumnGroups")}autoSizeColumn(t,e){return this.viaApi("autoSizeColumn",t,e)}autoSizeColumns(t,e){this.viaApi("autoSizeColumns",t,e)}autoSizeAllColumns(t){this.viaApi("autoSizeAllColumns",t)}setPivotResultColumns(t){this.viaApi("setPivotResultColumns",t)}getPivotResultColumns(){return this.viaApi("getPivotResultColumns")}};N([K("gridApi")],kE.prototype,"api",2),kE=N([In("columnApi")],kE);var Qy=class extends Jt{constructor(){super(...arguments),this.initialised=!1,this.isSsrm=!1}init(){this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.get("enableCellExpressions"),this.isTreeData=this.gridOptionsService.get("treeData"),this.initialised=!0;const t=n=>this.callColumnCellValueChangedHandler(n),e=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(W.EVENT_CELL_VALUE_CHANGED,t,e),this.addDestroyFunc(()=>this.eventService.removeEventListener(W.EVENT_CELL_VALUE_CHANGED,t,e)),this.addManagedPropertyListener("treeData",n=>this.isTreeData=n.currentValue)}getValue(t,e,n=!1,i=!1){if(this.initialised||this.init(),!e)return;const r=t.getColDef(),s=r.field,o=t.getColId(),c=e.data;let h;const p=e.groupData&&void 0!==e.groupData[o],m=!i&&e.aggData&&void 0!==e.aggData[o],y=this.isSsrm&&i&&!!t.getColDef().aggFunc,I=this.isSsrm&&e.footer&&e.field&&(!0===t.getColDef().showRowGroup||t.getColDef().showRowGroup===e.field);if(n&&r.filterValueGetter?h=this.executeFilterValueGetter(r.filterValueGetter,c,t,e):this.isTreeData&&m?h=e.aggData[o]:this.isTreeData&&r.valueGetter?h=this.executeValueGetter(r.valueGetter,c,t,e):this.isTreeData&&s&&c?h=kI(c,s,t.isFieldContainsDots()):p?h=e.groupData[o]:m?h=e.aggData[o]:r.valueGetter?h=this.executeValueGetter(r.valueGetter,c,t,e):I?h=kI(c,e.field,t.isFieldContainsDots()):s&&c&&!y&&(h=kI(c,s,t.isFieldContainsDots())),this.cellExpressions&&"string"==typeof h&&0===h.indexOf("=")){const L=h.substring(1);h=this.executeValueGetter(L,c,t,e)}if(null==h){const L=this.getOpenedGroup(e,t);if(null!=L)return L}return h}getOpenedGroup(t,e){if(!this.gridOptionsService.get("showOpenedGroup")||!e.getColDef().showRowGroup)return;const i=e.getColDef().showRowGroup;let r=t.parent;for(;null!=r;){if(r.rowGroupColumn&&(!0===i||i===r.rowGroupColumn.getColId()))return r.key;r=r.parent}}setValue(t,e,n,i){const r=this.columnModel.getPrimaryColumn(e);if(!t||!r)return!1;pi(t.data)&&(t.data={});const{field:s,valueSetter:o}=r.getColDef();if(pi(s)&&pi(o))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(r,n))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;const c=this.gridOptionsService.addGridCommonParams({node:t,data:t.data,oldValue:this.getValue(r,t),newValue:n,colDef:r.getColDef(),column:r});let h;return c.newValue=n,h=$t(o)?"function"==typeof o?o(c):this.expressionService.evaluate(o,c):this.setValueUsingField(t.data,s,n,r.isFieldContainsDots()),void 0===h&&(h=!0),!!h&&(t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),c.newValue=this.getValue(r,t),this.eventService.dispatchEvent({type:W.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:c.column,api:c.api,columnApi:c.columnApi,colDef:c.colDef,context:c.context,data:t.data,node:t,oldValue:c.oldValue,newValue:c.newValue,value:c.newValue,source:i}),!0)}callColumnCellValueChangedHandler(t){const e=t.colDef.onCellValueChanged;"function"==typeof e&&this.getFrameworkOverrides().wrapOutgoing(()=>{e({node:t.node,data:t.data,oldValue:t.oldValue,newValue:t.newValue,colDef:t.colDef,column:t.column,api:t.api,columnApi:t.columnApi,context:t.context})})}setValueUsingField(t,e,n,i){if(!e)return!1;let r=!1;if(i){const s=e.split(".");let o=t;for(;s.length>0&&o;){const c=s.shift();0===s.length?(r=o[c]===n,r||(o[c]=n)):o=o[c]}}else r=t[e]===n,r||(t[e]=n);return!r}executeFilterValueGetter(t,e,n,i){const r=this.gridOptionsService.addGridCommonParams({data:e,node:i,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,i)});return"function"==typeof t?t(r):this.expressionService.evaluate(t,r)}executeValueGetter(t,e,n,i){const r=n.getColId(),s=this.valueCache.getValue(i,r);if(void 0!==s)return s;const o=this.gridOptionsService.addGridCommonParams({data:e,node:i,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,i)});let c;return c="function"==typeof t?t(o):this.expressionService.evaluate(t,o),this.valueCache.setValue(i,r,c),c}getValueCallback(t,e){const n=this.columnModel.getPrimaryColumn(e);return n?this.getValue(n,t):null}getKeyForNode(t,e){const n=this.getValue(t,e),i=t.getColDef().keyCreator;let r=n;return i&&(r=i(this.gridOptionsService.addGridCommonParams({value:n,colDef:t.getColDef(),column:t,node:e,data:e.data}))),"string"==typeof r||null==r||(r=String(r),"[object Object]"===r&&li("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),r}};N([K("expressionService")],Qy.prototype,"expressionService",2),N([K("columnModel")],Qy.prototype,"columnModel",2),N([K("valueCache")],Qy.prototype,"valueCache",2),N([K("dataTypeService")],Qy.prototype,"dataTypeService",2),N([tn],Qy.prototype,"init",1),Qy=N([In("valueService")],Qy);var b5=class extends Jt{constructor(){super(...arguments),this.expressionToFunctionCache={}}setBeans(t){this.logger=t.create("ExpressionService")}evaluate(t,e){if("string"==typeof t)return this.evaluateExpression(t,e);console.error("AG Grid: value should be either a string or a function",t)}evaluateExpression(t,e){try{return this.createExpressionFunction(t)(e.value,e.context,e.oldValue,e.newValue,e.value,e.node,e.data,e.colDef,e.rowIndex,e.api,e.columnApi,e.getValue,e.column,e.columnGroup)}catch(n){return console.log("Processing of the expression failed"),console.log("Expression = "+t),console.log("Params =",e),console.log("Exception = "+n),null}}createExpressionFunction(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];const e=this.createFunctionBody(t),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",e);return this.expressionToFunctionCache[t]=n,n}createFunctionBody(t){return t.indexOf("return")>=0?t:"return "+t+";"}};N([Df(0,_h("loggerFactory"))],b5.prototype,"setBeans",1),b5=N([In("expressionService")],b5);var Pq=class extends Jt{constructor(){super(...arguments),this.templateCache={},this.waitingCallbacks={}}getTemplate(t,e){const n=this.templateCache[t];if(n)return n;let i=this.waitingCallbacks[t];const r=this;if(!i){i=[],this.waitingCallbacks[t]=i;const s=new XMLHttpRequest;s.onload=function(){r.handleHttpResult(this,t)},s.open("GET",t),s.send()}return e&&i.push(e),null}handleHttpResult(t,e){if(200!==t.status||null===t.response)return void console.warn(`AG Grid: Unable to get template error ${t.status} - ${e}`);this.templateCache[e]=t.response||t.responseText;const n=this.waitingCallbacks[e];for(let i=0;i<n.length;i++)(0,n[i])()}};Pq=N([In("templateService")],Pq);var C5=class extends Jt{setBeans(t){this.logging=t.get("debug")}create(t){return new Mq(t,this.isLogging.bind(this))}isLogging(){return this.logging}};N([Df(0,_h("gridOptionsService"))],C5.prototype,"setBeans",1),C5=N([In("loggerFactory")],C5);var Mq=class{constructor(t,e){this.name=t,this.isLoggingFunc=e}isLogging(){return this.isLoggingFunc()}log(t){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+t)}},LE=class extends Jt{setComp(t,e,n){this.view=t,this.eGridHostDiv=e,this.eGui=n,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:r=>1===r||0===r,getIconName:()=>Ri.ICON_NOT_ALLOWED}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(e),this.createManagedBean(new a5(this.view)),this.addRtlSupport();const i=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>i()),this.ctrlsService.registerGridCtrl(this)}isDetailGrid(){var t;const e=this.focusService.findTabbableParent(this.getGui());return(null==(t=e?.getAttribute("row-id"))?void 0:t.startsWith("detail"))||!1}showDropZones(){return Hr.__isRegistered("@ag-grid-enterprise/row-grouping",this.context.getGridId())}showSideBar(){return Hr.__isRegistered("@ag-grid-enterprise/side-bar",this.context.getGridId())}showStatusBar(){return Hr.__isRegistered("@ag-grid-enterprise/status-bar",this.context.getGridId())}showWatermark(){return Hr.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId())}onGridSizeChanged(){this.eventService.dispatchEvent({type:W.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}addRtlSupport(){const t=this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(t)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(t){this.view.setCursor(t?"ew-resize":null)}disableUserSelect(t){this.view.setUserSelect(t?"none":null)}focusNextInnerContainer(t){const e=this.gridOptionsService.getDocument(),n=this.view.getFocusableContainers(),r=n.findIndex(s=>s.contains(e.activeElement))+(t?-1:1);return!(r<=0||r>=n.length)&&this.focusService.focusInto(n[r])}focusInnerElement(t){const e=this.view.getFocusableContainers(),n=this.columnModel.getAllDisplayedColumns();if(t){if(e.length>1)return this.focusService.focusInto(Ir(e),!0);const i=Ir(n);if(this.focusService.focusGridView(i,!0))return!0}if(0===this.gridOptionsService.get("headerHeight")||this.gridOptionsService.get("suppressHeaderFocus")){if(this.focusService.focusGridView(n[0]))return!0;for(let i=1;i<e.length;i++)if(this.focusService.focusInto(e[i]))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(t=!1){this.view.forceFocusOutOfContainer(t)}};N([K("focusService")],LE.prototype,"focusService",2),N([K("resizeObserverService")],LE.prototype,"resizeObserverService",2),N([K("columnModel")],LE.prototype,"columnModel",2),N([K("ctrlsService")],LE.prototype,"ctrlsService",2),N([K("mouseEventService")],LE.prototype,"mouseEventService",2),N([K("dragAndDropService")],LE.prototype,"dragAndDropService",2);var VE=class extends lM{constructor(t){super(),this.eGridDiv=t}postConstruct(){this.logger=this.loggerFactory.create("GridComp");const t={destroyGridUi:()=>this.destroyBean(this),setRtlClass:n=>this.addCssClass(n),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:n=>{this.getGui().style.userSelect=n??"",this.getGui().style.webkitUserSelect=n??""},setCursor:n=>{this.getGui().style.cursor=n??""}};this.ctrl=this.createManagedBean(new LE);const e=this.createTemplate();this.setTemplate(e),this.ctrl.setComp(t,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:n=>this.ctrl.focusInnerElement(n),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){const t=this.getGui();this.eGridDiv.appendChild(t),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(t),this.logger.log("Grid removed from DOM")})}updateLayoutClasses(t,e){const n=this.eRootWrapperBody.classList;n.toggle("ag-layout-auto-height",e.autoHeight),n.toggle("ag-layout-normal",e.normal),n.toggle("ag-layout-print",e.print),this.addOrRemoveCssClass("ag-layout-auto-height",e.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",e.normal),this.addOrRemoveCssClass("ag-layout-print",e.print)}createTemplate(){return`<div class="ag-root-wrapper" role="presentation">\n                ${this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":""}\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    ${this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':""}\n                </div>\n                ${this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':""}\n                <ag-pagination></ag-pagination>\n                ${this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":""}\n            </div>`}getFocusableElement(){return this.eRootWrapperBody}getFocusableContainers(){const t=[this.gridBodyComp.getGui()];return this.sideBarComp&&t.push(this.sideBarComp.getGui()),t.filter(e=>bd(e))}};N([K("loggerFactory")],VE.prototype,"loggerFactory",2),N([fn("gridBody")],VE.prototype,"gridBodyComp",2),N([fn("sideBar")],VE.prototype,"sideBarComp",2),N([fn("rootWrapperBody")],VE.prototype,"eRootWrapperBody",2),N([tn],VE.prototype,"postConstruct",1);var GE=class extends Jt{progressSort(t,e,n){const i=this.getNextSortDirection(t);this.setSortForColumn(t,i,e,n)}setSortForColumn(t,e,n,i){"asc"!==e&&"desc"!==e&&(e=null);let s=[t];if(this.gridOptionsService.isColumnsSortingCoupledToGroup()&&t.getColDef().showRowGroup){const h=this.columnModel.getSourceColumnsForGroupColumn(t),p=h?.filter(m=>m.isSortable());p&&(s=[t,...p])}s.forEach(h=>h.setSort(e,i));const c=[];if(!n&&!this.gridOptionsService.get("alwaysMultiSort")||this.gridOptionsService.get("suppressMultiSort")){const h=this.clearSortBarTheseColumns(s,i);c.push(...h)}this.updateSortIndex(t),c.push(...s),this.dispatchSortChangedEvents(i,c)}updateSortIndex(t){const e=this.gridOptionsService.isColumnsSortingCoupledToGroup(),n=this.columnModel.getGroupDisplayColumnForGroup(t.getId()),i=e&&n||t,r=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(c=>c.setSortIndex(null));const s=r.filter(c=>!(e&&c.getColDef().showRowGroup||c===i));(i.getSort()?[...s,i]:s).forEach((c,h)=>{c.setSortIndex(h)})}onSortChanged(t,e){this.dispatchSortChangedEvents(t,e)}isSortActive(){const e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(n=>!!n.getSort());return e&&e.length>0}dispatchSortChangedEvents(t,e){const n={type:W.EVENT_SORT_CHANGED,source:t};e&&(n.columns=e),this.eventService.dispatchEvent(n)}clearSortBarTheseColumns(t,e){const n=[];return this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(i=>{t.includes(i)||(i.getSort()&&n.push(i),i.setSort(void 0,e))}),n}getNextSortDirection(t){let e;if(e=t.getColDef().sortingOrder?t.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?this.gridOptionsService.get("sortingOrder"):GE.DEFAULT_SORTING_ORDER,!Array.isArray(e)||e.length<=0)return console.warn(`AG Grid: sortingOrder must be an array with at least one element, currently it's ${e}`),null;const n=e.indexOf(t.getSort());let s;return s=n<0||n==e.length-1?e[0]:e[n+1],GE.DEFAULT_SORTING_ORDER.indexOf(s)<0?(console.warn("AG Grid: invalid sort type "+s),null):s}getIndexedSortMap(){let t=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(s=>!!s.getSort());if(this.columnModel.isPivotMode()){const s=this.gridOptionsService.isColumnsSortingCoupledToGroup();t=t.filter(o=>{const c=!!o.getAggFunc(),h=!o.isPrimary(),p=s?this.columnModel.getGroupDisplayColumnForGroup(o.getId()):o.getColDef().showRowGroup;return c||h||p})}const e=this.columnModel.getRowGroupColumns().filter(s=>!!s.getSort()),n={};t.forEach((s,o)=>n[s.getId()]=o),t.sort((s,o)=>{const c=s.getSortIndex(),h=o.getSortIndex();return null!=c&&null!=h?c-h:null==c&&null==h?n[s.getId()]>n[o.getId()]?1:-1:null==h?-1:1});const i=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!e.length;i&&(t=[...new Set(t.map(s=>{var o;return null!=(o=this.columnModel.getGroupDisplayColumnForGroup(s.getId()))?o:s}))]);const r=new Map;return t.forEach((s,o)=>r.set(s,o)),i&&e.forEach(s=>{const o=this.columnModel.getGroupDisplayColumnForGroup(s.getId());r.set(s,r.get(o))}),r}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([t,e],[n,i])=>e-i).map(([t])=>t)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(t=>t.getSort()).map(t=>({sort:t.getSort(),colId:t.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(t=>t.getSort()).map(t=>({sort:t.getSort(),column:t}))}canColumnDisplayMixedSort(t){const e=this.gridOptionsService.isColumnsSortingCoupledToGroup(),n=!!t.getColDef().showRowGroup;return e&&n}getDisplaySortForColumn(t){const e=this.columnModel.getSourceColumnsForGroupColumn(t);if(!this.canColumnDisplayMixedSort(t)||!e?.length)return t.getSort();const i=null!=t.getColDef().field||t.getColDef().valueGetter?[t,...e]:e,r=i[0].getSort();return i.every(o=>o.getSort()==r)?r:"mixed"}getDisplaySortIndexForColumn(t){return this.getIndexedSortMap().get(t)}};GE.DEFAULT_SORTING_ORDER=["asc","desc",null],N([K("columnModel")],GE.prototype,"columnModel",2),GE=N([In("sortController")],GE);var ns=class extends Jt{static addKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",ns.toggleKeyboardMode),t.addEventListener("mousedown",ns.toggleKeyboardMode))}static removeKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",ns.toggleKeyboardMode),t.addEventListener("mousedown",ns.toggleKeyboardMode))}static toggleKeyboardMode(t){const n="keydown"===t.type;n&&(t.ctrlKey||t.metaKey||t.altKey)||ns.keyboardModeActive!==n&&(ns.keyboardModeActive=n)}static unregisterGridCompController(t){ns.removeKeyboardModeEvents(t)}init(){const t=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_GROUP_OPENED,t),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(e=>{this.gridCtrl=e.gridCtrl})}registerKeyboardFocusEvents(){const t=this.gridOptionsService.getDocument();ns.addKeyboardModeEvents(t),ns.instanceCount++,this.addDestroyFunc(()=>{ns.instanceCount--,ns.unregisterGridCompController(t)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const t=this.focusedCellPosition.column,e=this.columnModel.getGridColumn(t.getId());t!==e&&this.clearFocusedCell()}isKeyboardMode(){return ns.keyboardModeActive}getFocusCellToUseAfterRefresh(){const t=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(t.activeElement,SE.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){const t=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(t.activeElement,h5.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(t,e){let n=t;for(;n;){if(this.gridOptionsService.getDomData(n,e))return!1;n=n.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(t){return!!this.isCellRestoreFocused(t)&&(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0)}isCellRestoreFocused(t){return null!=this.restoredFocusedCellPosition&&this.cellPositionUtils.equals(t,this.restoredFocusedCellPosition)}setRestoreFocusedCell(t){"react"===this.getFrameworkOverrides().renderingEngine&&(this.restoredFocusedCellPosition=t)}getFocusEventParams(){const{rowIndex:t,rowPinned:e,column:n}=this.focusedCellPosition,i={rowIndex:t,rowPinned:e,column:n,isFullWidthCell:!1},r=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:e});return r&&(i.isFullWidthCell=r.isFullWidth()),i}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,null==this.focusedCellPosition)return;const t=Qn({type:W.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(t)}setFocusedCell(t){const{column:e,rowIndex:n,rowPinned:i,forceBrowserFocus:r=!1,preventScrollOnBrowserFocus:s=!1}=t,o=this.columnModel.getGridColumn(e);if(!o)return void(this.focusedCellPosition=null);this.focusedCellPosition=o?{rowIndex:n,rowPinned:hg(i),column:o}:null;const c=Is(Qn({type:W.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:r,preventScrollOnBrowserFocus:s,floating:null});this.eventService.dispatchEvent(c)}isCellFocused(t){return null!=this.focusedCellPosition&&this.cellPositionUtils.equals(t,this.focusedCellPosition)}isRowNodeFocused(t){return this.isRowFocused(t.rowIndex,t.rowPinned)}isHeaderWrapperFocused(t){if(null==this.focusedHeaderPosition)return!1;const e=t.getColumnGroupChild(),n=t.getRowIndex(),i=t.getPinned(),{column:r,headerRowIndex:s}=this.focusedHeaderPosition;return e===r&&n===s&&i==r.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(t,e){this.focusedHeaderPosition={headerRowIndex:t,column:e}}focusHeaderPosition(t){if(this.gridOptionsService.get("suppressHeaderFocus"))return!1;const{direction:e,fromTab:n,allowUserOverride:i,event:r,fromCell:s,rowWithoutSpanValue:o}=t;let{headerPosition:c}=t;if(s&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(c);if(i){const m=this.getFocusedHeader(),y=this.headerNavigationService.getHeaderRowCount();if(n){const I=this.gridOptionsService.getCallback("tabToNextHeader");I&&(c=I({backwards:"Before"===e,previousHeaderPosition:m,nextHeaderPosition:c,headerRowCount:y}))}else{const I=this.gridOptionsService.getCallback("navigateToNextHeader");I&&r&&(c=I({key:r.key,previousHeaderPosition:m,nextHeaderPosition:c,headerRowCount:y,event:r}))}}if(!c)return!1;if(-1===c.headerRowIndex)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(c):this.focusGridView(c.column);this.headerNavigationService.scrollToColumn(c.column,e);const p=this.ctrlsService.getHeaderRowContainerCtrl(c.column.getPinned()).focusHeader(c.headerRowIndex,c.column,r);return p&&(null!=o||s)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(o??-1),p}focusFirstHeader(){let t=this.columnModel.getAllDisplayedColumns()[0];if(!t)return!1;t.getParent()&&(t=this.columnModel.getColumnGroupAtLevel(t,0));const e=this.headerPositionUtils.getHeaderIndexToFocus(t,0);return this.focusHeaderPosition({headerPosition:e,rowWithoutSpanValue:0})}focusLastHeader(t){const e=this.headerNavigationService.getHeaderRowCount()-1,n=Ir(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:e,column:n},rowWithoutSpanValue:-1,event:t})}focusPreviousFromFirstCell(t){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(t)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(t,e){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===hg(e)}findFocusableElements(t,e,n=!1){let r=z9;e&&(r+=", "+e),n&&(r+=', [tabindex="-1"]');const s=Array.prototype.slice.apply(t.querySelectorAll(Tce)).filter(h=>bd(h)),o=Array.prototype.slice.apply(t.querySelectorAll(r));return o.length?(p=o,s.filter(m=>-1===p.indexOf(m))):s;var p}focusInto(t,e=!1,n=!1){const i=this.findFocusableElements(t,null,n),r=e?Ir(i):i[0];return!!r&&(r.focus({preventScroll:!0}),!0)}findFocusableElementBeforeTabGuard(t,e){if(!e)return null;const n=this.findFocusableElements(t),i=n.indexOf(e);if(-1===i)return null;let r=-1;for(let s=i-1;s>=0;s--)if(n[s].classList.contains("ag-tab-guard-top")){r=s;break}return r<=0?null:n[r-1]}findNextFocusableElement(t=this.eGridDiv,e,n){const i=this.findFocusableElements(t,e?':not([tabindex="-1"])':null),s=this.gridOptionsService.getDocument().activeElement;let o;o=e?i.findIndex(h=>h.contains(s)):i.indexOf(s);const c=o+(n?-1:1);return c<0||c>=i.length?null:i[c]}isTargetUnderManagedComponent(t,e){if(!e)return!1;const n=t.querySelectorAll(`.${zy.FOCUS_MANAGED_CLASS}`);if(!n.length)return!1;for(let i=0;i<n.length;i++)if(n[i].contains(e))return!0;return!1}findTabbableParent(t,e=5){let n=0;for(;t&&null===$V(t)&&++n<=e;)t=t.parentElement;return null===$V(t)?null:t}focusGridView(t,e){if(this.gridOptionsService.get("suppressCellFocus"))return e?this.gridOptionsService.get("suppressHeaderFocus")?this.focusNextGridCoreContainer(!0,!0):this.focusLastHeader():this.focusNextGridCoreContainer(!1);const n=e?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!n)return!1;const{rowIndex:i,rowPinned:r}=n,s=this.getFocusedHeader();return!t&&s&&(t=s.column),!(null==i||!t)&&(this.navigationService.ensureCellVisible({rowIndex:i,column:t,rowPinned:r}),this.setFocusedCell({rowIndex:i,column:t,rowPinned:hg(r),forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:i,rowPinned:r,column:t}),!0)}focusNextGridCoreContainer(t,e=!1){return!(e||!this.gridCtrl.focusNextInnerContainer(t))||((e||!t&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(t),!1)}focusAdvancedFilter(t){return this.advancedFilterFocusColumn=t?.column,this.advancedFilterService.getCtrl().focusHeaderComp()}focusNextFromAdvancedFilter(t,e){var n,i;const r=null!=(i=e?void 0:this.advancedFilterFocusColumn)?i:null==(n=this.columnModel.getAllDisplayedColumns())?void 0:n[0];return t?this.focusHeaderPosition({headerPosition:{column:r,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(r)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}};ns.keyboardModeActive=!1,ns.instanceCount=0,N([K("eGridDiv")],ns.prototype,"eGridDiv",2),N([K("columnModel")],ns.prototype,"columnModel",2),N([K("headerNavigationService")],ns.prototype,"headerNavigationService",2),N([K("headerPositionUtils")],ns.prototype,"headerPositionUtils",2),N([K("rowRenderer")],ns.prototype,"rowRenderer",2),N([K("rowPositionUtils")],ns.prototype,"rowPositionUtils",2),N([K("cellPositionUtils")],ns.prototype,"cellPositionUtils",2),N([Cr("rangeService")],ns.prototype,"rangeService",2),N([K("navigationService")],ns.prototype,"navigationService",2),N([K("ctrlsService")],ns.prototype,"ctrlsService",2),N([K("filterManager")],ns.prototype,"filterManager",2),N([Cr("advancedFilterService")],ns.prototype,"advancedFilterService",2),N([tn],ns.prototype,"init",1),ns=N([In("focusService")],ns);var Nq=class extends Jt{setMouseOver(t){this.selectedColumns=t,this.eventService.dispatchEvent({type:W.EVENT_COLUMN_HOVER_CHANGED})}clearMouseOver(){this.selectedColumns=null,this.eventService.dispatchEvent({type:W.EVENT_COLUMN_HOVER_CHANGED})}isHovered(t){return!!this.selectedColumns&&this.selectedColumns.indexOf(t)>=0}};Nq=N([In("columnHoverService")],Nq);var gM=class extends Jt{constructor(){super(...arguments),this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.ctrlsService.whenReady(t=>this.gridBodyCtrl=t.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(t){this.suppressAnimation=t}start(){this.active||this.gridOptionsService.get("suppressColumnMoveAnimation")||this.gridOptionsService.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)}finish(){this.active&&this.flush(()=>{this.active=!1})}executeNextVMTurn(t){this.active?this.executeNextFuncs.push(t):t()}executeLaterVMTurn(t){this.active?this.executeLaterFuncs.push(t):t()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const t=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===t&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(t){if(0===this.executeNextFuncs.length&&0===this.executeLaterFuncs.length)return void t();const e=n=>{for(;n.length;){const i=n.pop();i&&i()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>e(this.executeNextFuncs),0),window.setTimeout(()=>{e(this.executeLaterFuncs),t()},200)})}};N([K("ctrlsService")],gM.prototype,"ctrlsService",2),N([tn],gM.prototype,"postConstruct",1),gM=N([In("columnAnimationService")],gM);var sA=class extends Jt{postConstruct(){this.ctrlsService.whenReady(t=>{this.centerRowContainerCon=t.centerRowContainerCtrl,this.addManagedListener(this.eventService,W.EVENT_BODY_HEIGHT_CHANGED,this.checkPageSize.bind(this)),this.addManagedListener(this.eventService,W.EVENT_SCROLL_VISIBILITY_CHANGED,this.checkPageSize.bind(this)),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gridOptionsService.get("paginationAutoPageSize")||null==this.centerRowContainerCon}onPaginationAutoSizeChanged(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const t=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(t>0){const e=()=>{const n=this.gridOptionsService.getRowHeightAsNumber(),i=Math.floor(t/n);this.paginationProxy.setPageSize(i,"autoCalculated")};this.isBodyRendered?Wc(()=>e(),50)():(e(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};N([K("ctrlsService")],sA.prototype,"ctrlsService",2),N([K("paginationProxy")],sA.prototype,"paginationProxy",2),N([tn],sA.prototype,"postConstruct",1),sA=N([In("paginationAutoPageSizeService")],sA);var w5=class extends Jt{constructor(){super(...arguments),this.cacheVersion=0}init(){this.active=this.gridOptionsService.get("valueCache"),this.neverExpires=this.gridOptionsService.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(t,e,n){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[e]=n)}getValue(t,e){if(this.active&&t.__cacheVersion===this.cacheVersion)return t.__cacheData[e]}};N([tn],w5.prototype,"init",1),w5=N([In("valueCache")],w5);var oA=class extends Jt{init(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,W.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))}onCellValueChanged(t){"paste"!==t.source&&this.doChangeDetection(t.node,t.column)}doChangeDetection(t,e){if(this.gridOptionsService.get("suppressChangeDetection"))return;const n=[t];if(this.clientSideRowModel&&!t.isRowPinned()){const i=this.gridOptionsService.get("aggregateOnlyChangedColumns"),r=new m5(i,this.clientSideRowModel.getRootNode());r.addParentNode(t.parent,[e]),this.clientSideRowModel.doAggregate(r),r.forEachChangedNodeDepthFirst(s=>{n.push(s)})}this.rowRenderer.refreshCells({rowNodes:n})}};N([K("rowModel")],oA.prototype,"rowModel",2),N([K("rowRenderer")],oA.prototype,"rowRenderer",2),N([tn],oA.prototype,"init",1),oA=N([In("changeDetectionService")],oA);var E5=class extends Jt{adaptFunction(t,e){const n=this.componentMetadataProvider.retrieve(t);return n&&n.functionAdapter?n.functionAdapter(e):null}adaptCellRendererFunction(t){return class e{refresh(i){return!1}getGui(){return this.eGui}init(i){const r=t(i),s=typeof r;this.eGui="string"!==s&&"number"!==s&&"boolean"!==s?null!=r?r:Ou("<span></span>"):Ou("<span>"+r+"</span>")}}}doesImplementIComponent(t){return!!t&&t.prototype&&"getGui"in t.prototype}};N([K("componentMetadataProvider")],E5.prototype,"componentMetadataProvider",2),E5=N([In("agComponentUtils")],E5);var mM=class extends Jt{postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(t){return this.componentMetaData[t]}};N([K("agComponentUtils")],mM.prototype,"agComponentUtils",2),N([tn],mM.prototype,"postConstruct",1),mM=N([In("componentMetadataProvider")],mM);var GMe={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:260}},Gue={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},vM=class extends Jt{constructor(){super(...arguments),this.calculatedSizes={}}postConstruct(){var t;const e=null!=(t=this.getTheme().el)?t:this.eGridDiv;this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.mutationObserver=new MutationObserver(()=>{this.calculatedSizes={},this.fireGridStylesChangedEvent()}),this.mutationObserver.observe(e||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})}fireGridStylesChangedEvent(){this.eventService.dispatchEvent({type:W.EVENT_GRID_STYLES_CHANGED})}getSassVariable(t){const{themeFamily:e,el:n}=this.getTheme();if(e&&0===e.indexOf("ag-theme"))return this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[e]||(this.calculatedSizes[e]={}),this.calculatedSizes[e][t]??(this.calculatedSizes[e][t]=this.calculateValueForSassProperty(t,e,n),this.calculatedSizes[e][t])}calculateValueForSassProperty(t,e,n){const i="ag-theme-"+(e.match("material")?"material":e.match("balham")?"balham":e.match("alpine")?"alpine":"custom"),r=GMe[i][t],s=this.gridOptionsService.getDocument();if(n||(n=this.eGridDiv),!Gue[t])return r;const o=Gue[t],c=s.createElement("div"),h=Array.from(n.classList);c.classList.add(e,...h),c.style.position="absolute";const p=o.reduce((y,I)=>{const L=s.createElement("div");return L.style.position="static",L.classList.add(I),y.appendChild(L),L},c);let m=0;if(s.body){s.body.appendChild(c);const y=-1!==t.toLowerCase().indexOf("height")?"height":"width";m=parseInt(window.getComputedStyle(p)[y],10),s.body.removeChild(c)}return m||r}isThemeDark(){const{theme:t}=this.getTheme();return!!t&&t.indexOf("dark")>=0}chartMenuPanelWidth(){return this.getSassVariable("chartMenuPanelWidth")}getTheme(){const t=/\bag-(material|(?:theme-([\w\-]*)))\b/g;let e=this.eGridDiv,n=null,i=[];for(;e;){if(n=t.exec(e.className),n){const s=e.className.match(t);s&&(i=s);break}e=e.parentElement||void 0}if(!n)return{allThemes:i};const r=n[0];return{theme:r,el:e,themeFamily:r.replace(/-dark$/,""),allThemes:i}}getFromTheme(t,e){var n;return null!=(n=this.getSassVariable(e))?n:t}getDefaultRowHeight(){return this.getFromTheme(25,"rowHeight")}getListItemHeight(){return this.getFromTheme(20,"listItemHeight")}refreshRowHeightVariable(){const t=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),e=this.gridOptionsService.get("rowHeight");if(null==e||isNaN(e)||!isFinite(e))return null!==t&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const n=`${e}px`;return t!=n?(this.eGridDiv.style.setProperty("--ag-line-height",n),e):""!=t?parseFloat(t):-1}getMinColWidth(){const t=this.getFromTheme(null,"headerCellMinWidth");return $t(t)?Math.max(t,10):10}destroy(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),super.destroy()}};N([K("eGridDiv")],vM.prototype,"eGridDiv",2),N([tn],vM.prototype,"postConstruct",1),vM=N([In("environment")],vM);var aA=class extends Jt{constructor(){super(...arguments),this.scrollY=0,this.uiBodyHeight=0}agWire(t){this.logger=t.create("RowContainerHeightService")}postConstruct(){this.addManagedListener(this.eventService,W.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=mce(),this.logger.log("maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,n=this.getUiBodyHeight();(e!==this.scrollY||n!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=n,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const t=this.scrollY/this.maxScrollY,e=t*this.pixelsToShave;this.logger.log(`Div Stretch Offset = ${e} (${this.pixelsToShave} * ${t})`),this.setDivStretchOffset(e)}setUiContainerHeight(t){t!==this.uiContainerHeight&&(this.uiContainerHeight=t,this.eventService.dispatchEvent({type:W.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(t){const e="number"==typeof t?Math.floor(t):null;this.divStretchOffset!==e&&(this.divStretchOffset=e,this.eventService.dispatchEvent({type:W.EVENT_HEIGHT_SCALE_CHANGED}))}setModelHeight(t){this.modelHeight=t,this.stretching=null!=t&&this.maxDivHeight>0&&t>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(t){return t-this.divStretchOffset}getUiBodyHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(t){if(this.pixelsToShave<=0)return t;const e=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(t/e)}};N([K("ctrlsService")],aA.prototype,"ctrlsService",2),N([Df(0,_h("loggerFactory"))],aA.prototype,"agWire",1),N([tn],aA.prototype,"postConstruct",1),aA=N([In("rowContainerHeightService")],aA);var lA=class extends Jt{init(){this.addManagedPropertyListener("isRowSelectable",()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(t=!1){const e=!!this.gridOptionsService.get("rowSelection"),n=this.gridOptionsService.get("isRowSelectable");if(!e||!n)return;const i=this.gridOptionsService.get("groupSelectsChildren"),r="clientSide"===this.rowModel.getType()&&i,s=[],o=c=>{if(t&&!c.group)return;if(r&&c.group){const p=c.childrenAfterGroup.some(m=>!0===m.selectable);return void c.setRowSelectable(p,!0)}const h=!n||n(c);c.setRowSelectable(h,!0),!h&&c.isSelected()&&s.push(c)};r?new m5(!1,this.rowModel.getRootNode()).forEachChangedNodeDepthFirst(o,!0,!0):this.rowModel.forEachNode(o),s.length&&this.selectionService.setNodesSelected({nodes:s,newValue:!1,source:"selectableChanged"}),r&&this.selectionService instanceof FE&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}};N([K("rowModel")],lA.prototype,"rowModel",2),N([K("selectionService")],lA.prototype,"selectionService",2),N([tn],lA.prototype,"init",1),lA=N([In("selectableService")],lA);var Vu=class extends Ti{constructor(){super(),this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1}postConstruct(){const t=this.gridOptionsService.get("enableRtl");this.setTemplate(this.getTemplate());const{btFirst:e,btPrevious:n,btNext:i,btLast:r}=this;this.activateTabIndex([e,n,i,r]),e.insertAdjacentElement("afterbegin",zs(t?"last":"first",this.gridOptionsService)),n.insertAdjacentElement("afterbegin",zs(t?"next":"previous",this.gridOptionsService)),i.insertAdjacentElement("afterbegin",zs(t?"previous":"next",this.gridOptionsService)),r.insertAdjacentElement("afterbegin",zs(t?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()}onPaginationChanged(){const e=this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel");this.setDisplayed(e),e&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedListener(this.eventService,W.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(t=>{const{el:e,fn:n}=t;this.addManagedListener(e,"click",n),this.addManagedListener(e,"keydown",i=>{(i.key===Qe.ENTER||i.key===Qe.SPACE)&&(i.preventDefault(),n())})}),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()}setCurrentPageLabel(){const t=this.paginationProxy.getTotalPages()>0,e=this.paginationProxy.getCurrentPage();this.lbCurrent.textContent=this.formatNumber(t?e+1:0)}formatNumber(t){const e=this.gridOptionsService.getCallback("paginationNumberFormatter");if(e)return e({value:t});const n=this.localeService.getLocaleTextFunc();return H9(t,n("thousandSeparator",","),n("decimalSeparator","."))}getTemplate(){const t=this.localeService.getLocaleTextFunc(),e=t("page","Page"),n=t("to","to"),i=t("of","of"),r=t("firstPage","First Page"),s=t("previousPage","Previous Page"),o=t("nextPage","Next Page"),c=t("lastPage","Last Page"),h=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${h}">\n                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-${h}-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${h}-to">${n}</span>\n                    <span id="ag-${h}-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${h}-of">${i}</span>\n                    <span id="ag-${h}-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>\n                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-${h}-start-page">${e}</span>\n                        <span id="ag-${h}-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-${h}-of-page">${i}</span>\n                        <span id="ag-${h}-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>\n                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${c}"></div>\n                </span>\n            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()}enableOrDisableButtons(){const t=this.paginationProxy.getCurrentPage(),e=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===t,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const i=this.isZeroPagesToDisplay();this.nextButtonDisabled=t===n-1||i,this.lastButtonDisabled=!e||i||t===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(t,e){S9(t,e),t.classList.toggle("ag-disabled",e)}updateRowLabels(){const t=this.paginationProxy.getCurrentPage(),e=this.paginationProxy.getPageSize(),n=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;let r,s;if(this.isZeroPagesToDisplay()?r=s=0:(r=e*t+1,s=r+e-1,n&&s>i&&(s=i)),this.lbFirstRowOnPage.textContent=this.formatNumber(r),this.rowNodeBlockLoader.isLoading()){const o=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=o("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(s)}isZeroPagesToDisplay(){const t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages();return t&&0===e}setTotalLabels(){const t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages(),n=t?this.paginationProxy.getMasterRowCount():null;if(1===n){const i=this.paginationProxy.getRow(0);if(i&&i.group&&!i.groupData&&!i.aggData)return void this.setTotalLabelsToZero()}if(t)this.lbTotal.textContent=this.formatNumber(e),this.lbRecordCount.textContent=this.formatNumber(n);else{const i=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=i,this.lbRecordCount.innerHTML=i}}setTotalLabelsToZero(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)}};N([K("paginationProxy")],Vu.prototype,"paginationProxy",2),N([K("rowNodeBlockLoader")],Vu.prototype,"rowNodeBlockLoader",2),N([fn("btFirst")],Vu.prototype,"btFirst",2),N([fn("btPrevious")],Vu.prototype,"btPrevious",2),N([fn("btNext")],Vu.prototype,"btNext",2),N([fn("btLast")],Vu.prototype,"btLast",2),N([fn("lbRecordCount")],Vu.prototype,"lbRecordCount",2),N([fn("lbFirstRowOnPage")],Vu.prototype,"lbFirstRowOnPage",2),N([fn("lbLastRowOnPage")],Vu.prototype,"lbLastRowOnPage",2),N([fn("lbCurrent")],Vu.prototype,"lbCurrent",2),N([fn("lbTotal")],Vu.prototype,"lbTotal",2),N([fn("pageSizeComp")],Vu.prototype,"pageSizeComp",2),N([tn],Vu.prototype,"postConstruct",1);var _M=class dve extends Ti{constructor(){super(dve.TEMPLATE),this.inProgress=!1,this.destroyRequested=!1}updateLayoutClasses(e,n){const i=this.eOverlayWrapper.classList;i.toggle("ag-layout-auto-height",n.autoHeight),i.toggle("ag-layout-normal",n.normal),i.toggle("ag-layout-print",n.print)}postConstruct(){this.createManagedBean(new a5(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)}setWrapperTypeClass(e){const n=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&n.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,n.toggle(e,!0)}showOverlay(e,n,i){this.inProgress||(this.setWrapperTypeClass(n),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(r=>{this.inProgress=!1,this.eOverlayWrapper.appendChild(r.getGui()),this.activeOverlay=r,this.updateListenerDestroyFunc=i,this.destroyRequested&&(this.destroyRequested=!1,this.destroyActiveOverlay())}),this.setDisplayed(!0,{skipAriaHidden:!0}))}destroyActiveOverlay(){var e;this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),null==(e=this.updateListenerDestroyFunc)||e.call(this),aa(this.eOverlayWrapper))}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.destroyActiveOverlay(),super.destroy()}};_M.TEMPLATE='\n        <div class="ag-overlay" role="presentation">\n            <div class="ag-overlay-panel" role="presentation">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper" role="presentation"></div>\n            </div>\n        </div>',N([K("overlayService")],_M.prototype,"overlayService",2),N([fn("eOverlayWrapper")],_M.prototype,"eOverlayWrapper",2),N([tn],_M.prototype,"postConstruct",1);var BMe=_M,cA=class extends Jt{getFirstRow(){let e,t=0;return this.pinnedRowModel.getPinnedTopRowCount()?e="top":this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(e="bottom"),void 0===e?null:{rowIndex:t,rowPinned:e}}getLastRow(){let t,e=null;const n=this.pinnedRowModel.getPinnedBottomRowCount(),i=this.pinnedRowModel.getPinnedTopRowCount();return n?(e="bottom",t=n-1):this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageLastRow()):i&&(e="top",t=i-1),void 0===t?null:{rowIndex:t,rowPinned:e}}getRowNode(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}}sameRow(t,e){return!t&&!e||!(t&&!e||!t&&e)&&t.rowIndex===e.rowIndex&&t.rowPinned==e.rowPinned}before(t,e){switch(t.rowPinned){case"top":if("top"!==e.rowPinned)return!0;break;case"bottom":if("bottom"!==e.rowPinned)return!1;break;default:if($t(e.rowPinned))return"top"!==e.rowPinned}return t.rowIndex<e.rowIndex}rowMax(t){let e;return t.forEach(n=>{(void 0===e||this.before(e,n))&&(e=n)}),e}rowMin(t){let e;return t.forEach(n=>{(void 0===e||this.before(n,e))&&(e=n)}),e}};N([K("rowModel")],cA.prototype,"rowModel",2),N([K("pinnedRowModel")],cA.prototype,"pinnedRowModel",2),N([K("paginationProxy")],cA.prototype,"paginationProxy",2),cA=N([In("rowPositionUtils")],cA);var Vq=class extends Jt{createId(t){const{rowIndex:e,rowPinned:n,column:i}=t;return this.createIdFromValues({rowIndex:e,column:i,rowPinned:n})}createIdFromValues(t){const{rowIndex:e,rowPinned:n,column:i}=t;return`${e}.${n??"null"}.${i.getId()}`}equals(t,e){return t.column===e.column&&t.rowPinned===e.rowPinned&&t.rowIndex===e.rowIndex}};Vq=N([In("cellPositionUtils")],Vq);var yM=class{constructor(t){this.cellValueChanges=t}},Gq=class extends yM{constructor(t,e,n,i){super(t),this.initialRange=e,this.finalRange=n,this.ranges=i}},Bue=class hve{constructor(e){this.actionStack=[],this.maxStackSize=e||hve.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}};Bue.DEFAULT_STACK_SIZE=10;var Hue=Bue,Th=class extends Jt{constructor(){super(...arguments),this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=t=>{const e={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned},n=null!==this.activeCellEdit&&this.cellPositionUtils.equals(this.activeCellEdit,e),i=null!==this.activeRowEdit&&this.rowPositionUtils.sameRow(this.activeRowEdit,e);if(!(n||i||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:o,column:c,oldValue:h,value:p}=t,m={rowPinned:s,rowIndex:o,columnId:c.getColId(),newValue:p,oldValue:h};this.cellValueChanges.push(m)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}init(){if(!this.gridOptionsService.get("undoRedoCellEditing"))return;const t=this.gridOptionsService.get("undoRedoCellEditingLimit");t<=0||(this.undoStack=new Hue(t),this.redoStack=new Hue(t),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,W.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,W.EVENT_MODEL_UPDATED,e=>{e.keepUndoRedoStack||this.clearStacks()}),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,W.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,W.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,W.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()}))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(t){this.eventService.dispatchEvent({type:W.EVENT_UNDO_STARTED,source:t});const n=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:W.EVENT_UNDO_ENDED,source:t,operationPerformed:n})}redo(t){this.eventService.dispatchEvent({type:W.EVENT_REDO_STARTED,source:t});const n=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:W.EVENT_REDO_ENDED,source:t,operationPerformed:n})}undoRedo(t,e,n,i,r){if(!t)return!1;const s=t.pop();return!(!s||!s.cellValueChanges||(this.processAction(s,o=>o[i],r),s instanceof Gq?this.processRange(s.ranges||[s[n]]):this.processCell(s.cellValueChanges),e.push(s),0))}processAction(t,e,n){t.cellValueChanges.forEach(i=>{const{rowIndex:r,rowPinned:s,columnId:o}=i,h=this.getRowNode({rowIndex:r,rowPinned:s});h.displayed&&h.setDataValue(o,e(i),n)})}processRange(t){let e;this.rangeService.removeAllCellRanges(!0),t.forEach((n,i)=>{if(!n)return;const r=n.startRow,s=n.endRow;i===t.length-1&&(e={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(e)),this.rangeService.addCellRange({rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:n.startColumn,columns:n.columns})})}processCell(t){const e=t[0],{rowIndex:n,rowPinned:i}=e,s=this.getRowNode({rowIndex:n,rowPinned:i});this.setLastFocusedCell({rowPinned:e.rowPinned,rowIndex:s.rowIndex,columnId:e.columnId},!!this.rangeService)}setLastFocusedCell(t,e){const{rowIndex:n,columnId:i,rowPinned:r}=t,s=this.gridBodyCtrl.getScrollFeature(),o=this.columnModel.getGridColumn(i);if(!o)return;s.ensureIndexVisible(n),s.ensureColumnVisible(o);const c={rowIndex:n,column:o,rowPinned:r};this.focusService.setFocusedCell(Is(Qn({},c),{forceBrowserFocus:!0})),e&&this.rangeService.setRangeToCell(c)}addRowEditingListeners(){this.addManagedListener(this.eventService,W.EVENT_ROW_EDITING_STARTED,t=>{this.activeRowEdit={rowIndex:t.rowIndex,rowPinned:t.rowPinned}}),this.addManagedListener(this.eventService,W.EVENT_ROW_EDITING_STOPPED,()=>{const t=new yM(this.cellValueChanges);this.pushActionsToUndoStack(t),this.activeRowEdit=null})}addCellEditingListeners(){this.addManagedListener(this.eventService,W.EVENT_CELL_EDITING_STARTED,t=>{this.activeCellEdit={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned}}),this.addManagedListener(this.eventService,W.EVENT_CELL_EDITING_STOPPED,t=>{if(this.activeCellEdit=null,t.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new yM(this.cellValueChanges);this.pushActionsToUndoStack(n)}})}addPasteListeners(){this.addManagedListener(this.eventService,W.EVENT_PASTE_START,()=>{this.isPasting=!0}),this.addManagedListener(this.eventService,W.EVENT_PASTE_END,()=>{const t=new yM(this.cellValueChanges);this.pushActionsToUndoStack(t),this.isPasting=!1})}addFillListeners(){this.addManagedListener(this.eventService,W.EVENT_FILL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,W.EVENT_FILL_END,t=>{const e=new Gq(this.cellValueChanges,t.initialRange,t.finalRange);this.pushActionsToUndoStack(e),this.isRangeInAction=!1})}addCellKeyListeners(){this.addManagedListener(this.eventService,W.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,W.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,()=>{let t;t=this.rangeService&&this.gridOptionsService.get("enableRangeSelection")?new Gq(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):new yM(this.cellValueChanges),this.pushActionsToUndoStack(t),this.isRangeInAction=!1})}pushActionsToUndoStack(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()}getRowNode(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}}};N([K("focusService")],Th.prototype,"focusService",2),N([K("ctrlsService")],Th.prototype,"ctrlsService",2),N([K("rowModel")],Th.prototype,"rowModel",2),N([K("pinnedRowModel")],Th.prototype,"pinnedRowModel",2),N([K("cellPositionUtils")],Th.prototype,"cellPositionUtils",2),N([K("rowPositionUtils")],Th.prototype,"rowPositionUtils",2),N([K("columnModel")],Th.prototype,"columnModel",2),N([Cr("rangeService")],Th.prototype,"rangeService",2),N([tn],Th.prototype,"init",1),Th=N([In("undoRedoService")],Th);var bM=class extends Jt{findHeader(t,e){let n,i,r;if(t.column instanceof va?(i=`getDisplayedGroup${e}`,n=this.columnModel[i](t.column)):(r=`getDisplayedCol${e}`,n=this.columnModel[r](t.column)),!n)return;let{headerRowIndex:s}=t;if("filter"!==this.getHeaderRowType(s)){const h=[n];for(;n.getParent();)n=n.getParent(),h.push(n);n=h[h.length-1-s]}const{column:o,headerRowIndex:c}=this.getHeaderIndexToFocus(n,s);return{column:o,headerRowIndex:c}}getHeaderIndexToFocus(t,e){let n;if(t instanceof va&&this.isAnyChildSpanningHeaderHeight(t)&&t.isPadding()){const i=t;n=i.getLeafColumns()[0];let r=n;for(;r!==i;)e++,r=r.getParent()}return{column:n||t,headerRowIndex:e}}isAnyChildSpanningHeaderHeight(t){return!!t&&t.getLeafColumns().some(e=>e.isSpanHeaderHeight())}getColumnVisibleParent(t,e){const n=this.getHeaderRowType(e),r="column"===n;let s="filter"===n?t:t.getParent(),o=e-1,c=o;if(r&&this.isAnyChildSpanningHeaderHeight(t.getParent())){for(;s&&s.isPadding();)s=s.getParent(),o--;c=o,o<0&&(s=t,o=e,c=void 0)}return{column:s,headerRowIndex:o,headerRowIndexWithoutSpan:c}}getColumnVisibleChild(t,e,n="After"){let r=t,s=e+1,o=s;if("group"===this.getHeaderRowType(e)){const c=t.getDisplayedLeafColumns(),h="After"===n?c[0]:Ir(c),p=[];let m=h;for(;m.getParent()!==t;)m=m.getParent(),p.push(m);if(r=h,h.isSpanHeaderHeight())for(let y=p.length-1;y>=0;y--){const I=p[y];if(!I.isPadding()){r=I;break}s++}else r=Ir(p),r||(r=h)}return{column:r,headerRowIndex:s,headerRowIndexWithoutSpan:o}}getHeaderRowType(t){const e=this.ctrlsService.getHeaderRowContainerCtrl();if(e)return e.getRowType(t)}findColAtEdgeForHeaderRow(t,e){const n=this.columnModel.getAllDisplayedColumns(),i=n["start"===e?0:n.length-1];if(!i)return;const s=this.ctrlsService.getHeaderRowContainerCtrl(i.getPinned()).getRowType(t);return"group"==s?{headerRowIndex:t,column:this.columnModel.getColumnGroupAtLevel(i,t)}:{headerRowIndex:null==s?-1:t,column:i}}};N([K("columnModel")],bM.prototype,"columnModel",2),N([K("ctrlsService")],bM.prototype,"ctrlsService",2),bM=N([In("headerPositionUtils")],bM);var Bq=class{buildColumnDefs(t,e,n){const i=[],r={};return t.forEach(s=>{let c=!0,h=this.createDefFromColumn(s,e,n),p=s.getOriginalParent(),m=null;for(;p;){let y=null;if(p.isPadding()){p=p.getOriginalParent();continue}const I=r[p.getGroupId()];if(I){I.children.push(h),c=!1;break}if(y=this.createDefFromGroup(p),y&&(y.children=[h],r[y.groupId]=y,h=y,p=p.getOriginalParent()),null!=p&&m===p){c=!1;break}m=p}c&&i.push(h)}),i}createDefFromGroup(t){const e=RV(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e}createDefFromColumn(t,e,n){const i=RV(t.getColDef());return i.colId=t.getColId(),i.width=t.getActualWidth(),i.rowGroup=t.isRowGroupActive(),i.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,i.pivot=t.isPivotActive(),i.pivotIndex=t.isPivotActive()?n.indexOf(t):null,i.aggFunc=t.isValueActive()?t.getAggFunc():null,i.hide=!t.isVisible()||void 0,i.pinned=t.isPinned()?t.getPinned():null,i.sort=t.getSort()?t.getSort():null,i.sortIndex=null!=t.getSortIndex()?t.getSortIndex():null,i}};Bq=N([In("columnDefFactory")],Bq);var CM=class{getInitialRowClasses(t){const e=[];return $t(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),m9(e,this.processClassesFromGridOptions(t.rowNode)),m9(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&("left"===t.pinned&&e.push("ag-cell-last-left-pinned"),"right"===t.pinned&&e.push("ag-cell-first-right-pinned")),e}processClassesFromGridOptions(t){const e=[],n=s=>{"string"==typeof s?e.push(s):Array.isArray(s)&&s.forEach(o=>e.push(o))},i=this.gridOptionsService.get("rowClass");if(i){if("function"==typeof i)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];n(i)}const r=this.gridOptionsService.getCallback("getRowClass");return r&&n(r({data:t.data,node:t,rowIndex:t.rowIndex})),e}preProcessRowClassRules(t){const e=[];return this.processRowClassRules(t,n=>{e.push(n)},n=>{}),e}processRowClassRules(t,e,n){const i=this.gridOptionsService.addGridCommonParams({data:t.data,node:t,rowIndex:t.rowIndex});this.stylingService.processClassRules(void 0,this.gridOptionsService.get("rowClassRules"),i,e,n)}calculateRowLevel(t){return t.group?t.level:t.parent?t.parent.level+1:0}};N([K("stylingService")],CM.prototype,"stylingService",2),N([K("gridOptionsService")],CM.prototype,"gridOptionsService",2),CM=N([In("rowCssClassCalculator")],CM);var uA=class extends Jt{init(){this.isAccentedSort=this.gridOptionsService.get("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup())}doFullSort(t,e){const i=t.map((r,s)=>({currentPos:s,rowNode:r}));return i.sort(this.compareRowNodes.bind(this,e)),i.map(r=>r.rowNode)}compareRowNodes(t,e,n){const i=e.rowNode,r=n.rowNode;for(let s=0,o=t.length;s<o;s++){const c=t[s],h="desc"===c.sort,p=this.getValue(i,c.column),m=this.getValue(r,c.column);let y;const I=this.getComparator(c,i);if(y=I?I(p,m,i,r,h):qi.defaultComparator(p,m,this.isAccentedSort),!isNaN(y)&&0!==y)return"asc"===c.sort?y:-1*y}return e.currentPos-n.currentPos}getComparator(t,e){const n=t.column,i=n.getColDef().comparator;if(null!=i)return i;if(!n.getColDef().showRowGroup)return;const r=!e.group&&n.getColDef().field;if(!r)return;const s=this.columnModel.getPrimaryColumn(r);return s?s.getColDef().comparator:void 0}getValue(t,e){var n,i;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(e,t,!1,!1);if(t.rowGroupColumn===e){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){const c=null==(n=t.allLeafChildren)?void 0:n[0];return c?this.valueService.getValue(e,c,!1,!1):void 0}const o=this.columnModel.getGroupDisplayColumnForGroup(e.getId());return o?null==(i=t.groupData)?void 0:i[o.getId()]:void 0}return t.group&&e.getColDef().showRowGroup?void 0:this.valueService.getValue(e,t,!1,!1)}};N([K("valueService")],uA.prototype,"valueService",2),N([K("columnModel")],uA.prototype,"columnModel",2),N([tn],uA.prototype,"init",1),uA=N([In("rowNodeSorter")],uA);var wM=class extends Jt{constructor(){super(...arguments),this.ready=!1,this.readyCallbacks=[]}checkReady(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.stickyTopCenterRowContainerCtrl&&null!=this.stickyTopLeftRowContainerCtrl&&null!=this.stickyTopRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollComp&&null!=this.fakeVScrollComp&&null!=this.gridHeaderCtrl,this.ready){const t=this.createReadyParams();this.readyCallbacks.forEach(e=>e(t)),this.readyCallbacks.length=0}}whenReady(t){this.ready?t(this.createReadyParams()):this.readyCallbacks.push(t)}createReadyParams(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}}registerFakeHScrollComp(t){this.fakeHScrollComp=t,this.checkReady()}registerFakeVScrollComp(t){this.fakeVScrollComp=t,this.checkReady()}registerGridHeaderCtrl(t){this.gridHeaderCtrl=t,this.checkReady()}registerCenterRowContainerCtrl(t){this.centerRowContainerCtrl=t,this.checkReady()}registerLeftRowContainerCtrl(t){this.leftRowContainerCtrl=t,this.checkReady()}registerRightRowContainerCtrl(t){this.rightRowContainerCtrl=t,this.checkReady()}registerTopCenterRowContainerCtrl(t){this.topCenterRowContainerCtrl=t,this.checkReady()}registerTopLeftRowContainerCon(t){this.topLeftRowContainerCtrl=t,this.checkReady()}registerTopRightRowContainerCtrl(t){this.topRightRowContainerCtrl=t,this.checkReady()}registerStickyTopCenterRowContainerCtrl(t){this.stickyTopCenterRowContainerCtrl=t,this.checkReady()}registerStickyTopLeftRowContainerCon(t){this.stickyTopLeftRowContainerCtrl=t,this.checkReady()}registerStickyTopRightRowContainerCtrl(t){this.stickyTopRightRowContainerCtrl=t,this.checkReady()}registerBottomCenterRowContainerCtrl(t){this.bottomCenterRowContainerCtrl=t,this.checkReady()}registerBottomLeftRowContainerCtrl(t){this.bottomLeftRowContainerCtrl=t,this.checkReady()}registerBottomRightRowContainerCtrl(t){this.bottomRightRowContainerCtrl=t,this.checkReady()}registerHeaderContainer(t,e){switch(e){case"left":this.leftHeaderRowContainerCtrl=t;break;case"right":this.rightHeaderRowContainerCtrl=t;break;default:this.centerHeaderRowContainerCtrl=t}this.checkReady()}registerGridBodyCtrl(t){this.gridBodyCtrl=t,this.checkReady()}registerGridCtrl(t){this.gridCtrl=t,this.checkReady()}getFakeHScrollComp(){return this.fakeHScrollComp}getFakeVScrollComp(){return this.fakeVScrollComp}getGridHeaderCtrl(){return this.gridHeaderCtrl}getGridCtrl(){return this.gridCtrl}getCenterRowContainerCtrl(){return this.centerRowContainerCtrl}getTopCenterRowContainerCtrl(){return this.topCenterRowContainerCtrl}getBottomCenterRowContainerCtrl(){return this.bottomCenterRowContainerCtrl}getStickyTopCenterRowContainerCtrl(){return this.stickyTopCenterRowContainerCtrl}getGridBodyCtrl(){return this.gridBodyCtrl}getHeaderRowContainerCtrls(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]}getHeaderRowContainerCtrl(t){switch(t){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}}};wM.NAME="ctrlsService",wM=N([In(wM.NAME)],wM);var Hq=class extends Jt{constructor(){super(...arguments),this.registry={}}register(t){this.registry[t.controllerName]=t.controllerClass}getInstance(t){const e=this.registry[t];if(null!=e)return new e}};Hq=N([In("ctrlsFactory")],Hq);var BE=class extends Ti{constructor(t,e){super(t),this.direction=e,this.hideTimeout=null}postConstruct(){this.addManagedListener(this.eventService,W.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",V9()||xv())}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=B9(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const n=this.getGui();["mouseenter","mousedown","touchstart"].forEach(i=>this.addManagedListener(n,i,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0))),["mouseleave","touchend"].forEach(i=>this.addManagedListener(n,i,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1)))}onScrollVisibilityChanged(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedListener(this.eventService,W.EVENT_BODY_SCROLL,t=>{t.direction===this.direction&&(null!==this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,W.EVENT_BODY_SCROLL_END,()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)})}attemptSettingScrollPosition(t){const e=this.getViewport();d9(()=>bd(e),()=>this.setScrollPosition(t),100)}getViewport(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(t){this.addManagedListener(this.getViewport(),"scroll",t)}};N([fn("eViewport")],BE.prototype,"eViewport",2),N([fn("eContainer")],BE.prototype,"eContainer",2),N([K("scrollVisibleService")],BE.prototype,"scrollVisibleService",2),N([K("ctrlsService")],BE.prototype,"ctrlsService",2),N([K("animationFrameService")],BE.prototype,"animationFrameService",2);var HE=class fve extends BE{constructor(){super(fve.TEMPLATE,"horizontal")}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,W.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new KI(n=>this.eContainer.style.width=`${n}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gridOptionsService.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let n=this.columnModel.getDisplayedColumnsRightWidth();const i=!this.enableRtl&&e,r=this.gridOptionsService.getScrollbarWidth();i&&(n+=r),wh(this.eRightSpacer,n),this.eRightSpacer.classList.toggle("ag-scroller-corner",n<=r);let s=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&e&&(s+=r),wh(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=r)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),n=this.invisibleScrollbar,i=this.gridOptionsService.get("suppressHorizontalScroll"),r=e&&this.gridOptionsService.getScrollbarWidth()||0,o=i?0:0===r&&n?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),gE(this.getGui(),o),gE(this.eViewport,o),gE(this.eContainer,o),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return zP(this.getViewport(),this.enableRtl)}setScrollPosition(e){bd(this.getViewport())||this.attemptSettingScrollPosition(e),jP(this.getViewport(),e,this.enableRtl)}};HE.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',N([fn("eLeftSpacer")],HE.prototype,"eLeftSpacer",2),N([fn("eRightSpacer")],HE.prototype,"eRightSpacer",2),N([K("columnModel")],HE.prototype,"columnModel",2),N([K("pinnedRowModel")],HE.prototype,"pinnedRowModel",2),N([tn],HE.prototype,"postConstruct",1);var HMe=HE,EM=class extends Jt{postConstruct(){const t=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedPropertyListener("domLayout",t)}checkContainerWidths(){const t=this.gridOptionsService.isDomLayout("print"),e=t?0:this.columnModel.getDisplayedColumnsLeftWidth(),n=t?0:this.columnModel.getDisplayedColumnsRightWidth();e!=this.leftWidth&&(this.leftWidth=e,this.eventService.dispatchEvent({type:W.EVENT_LEFT_PINNED_WIDTH_CHANGED})),n!=this.rightWidth&&(this.rightWidth=n,this.eventService.dispatchEvent({type:W.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}};N([K("columnModel")],EM.prototype,"columnModel",2),N([tn],EM.prototype,"postConstruct",1),EM=N([In("pinnedWidthService")],EM);var dA=class extends Jt{constructor(){super(...arguments),this.events=[]}postConstruct(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(t){null!=this.clientSideRowModel?(this.events.push(t),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(n=>this.eventService.dispatchEvent(n)),this.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(t)}};N([K("animationFrameService")],dA.prototype,"animationFrameService",2),N([K("rowModel")],dA.prototype,"rowModel",2),N([tn],dA.prototype,"postConstruct",1),dA=N([In("rowNodeEventThrottle")],dA);var Jy=(t,e)=>{var n;return"clientSide"===(null!=(n=e.rowModelType)?n:"clientSide")?{module:"@ag-grid-enterprise/row-grouping"}:null},WMe={enableRowGroup:Jy,rowGroup:Jy,rowGroupIndex:Jy,enablePivot:Jy,enableValue:Jy,pivot:Jy,pivotIndex:Jy,aggFunc:Jy,cellEditor:t=>"agRichSelect"===t.cellEditor||"agRichSelectCellEditor"===t.cellEditor?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:t=>{var e;const n=["columnsMenuTab","generalMenuTab"];return null!=(e=t.menuTabs)&&e.some(i=>n.includes(i))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:(t,{rowSelection:e})=>"multiple"===e?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:(t,{rowSelection:e})=>"multiple"===e?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:(t,{rowSelection:e})=>"multiple"===e?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>hA},hA={objectName:"colDef",allProperties:pPe.ALL_PROPERTIES,docsUrl:"column-properties/",deprecations:{columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},dndSource:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."},dndSourceOnRowDrag:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."}},validations:WMe},jMe={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"\t",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,pivotMaxGeneratedColumns:-1},$Me={sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",dependencies:t=>{var e;const n=null!=(e=t.rowModelType)?e:"clientSide";switch(n){case"clientSide":return t.getDataPath?null:`treeData requires 'getDataPath' in the ${n} row model.`;case"serverSide":return t.isServerSideGroup&&t.getServerSideGroupKey?null:`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${n} row model.`}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:t=>{var e;switch(null!=(e=t.rowModelType)?e:"clientSide"){case"clientSide":return null;case"serverSide":return t.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},columnDefs:()=>hA,defaultColDef:()=>hA,defaultColGroupDef:()=>hA,autoGroupColumnDef:()=>hA},qMe={objectName:"gridOptions",allProperties:[...pg.ALL_PROPERTIES,...GV.EVENT_CALLBACKS],propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:{enableChartToolPanelsButton:{version:"29"},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."}},validations:$Me},Fr=class{constructor(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new xf,this.globalEventHandlerFactory=t=>(e,n)=>{if(this.destroyed)return;const i=VV.has(e);if(i&&!t||!i&&t)return;const r=GV.getCallbackForEvent(e),s=this.gridOptions[r];"function"==typeof s&&this.frameworkOverrides.wrapOutgoing(()=>{s(n)})}}get context(){return this.gridOptions.context}init(){this.columnApi=new kE(this.api);const t=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth()}destroy(){this.destroyed=!0,this.columnApi=void 0}get(t){var e;return null!=(e=this.gridOptions[t])?e:jMe[t]}getCallback(t){return this.mergeGridCommonParams(this.gridOptions[t])}exists(t){return $t(this.gridOptions[t])}mergeGridCommonParams(t){return t&&(n=>{const i=n;return i.api=this.api,i.columnApi=this.columnApi,i.context=this.context,t(i)})}static toBoolean(t){return"boolean"==typeof t?t:"string"==typeof t&&("TRUE"===t.toUpperCase()||""==t)}static toNumber(t){if("number"==typeof t)return t;if("string"==typeof t){const e=parseInt(t);return isNaN(e)?void 0:e}}static toConstrainedNum(t,e){return n=>{const i=Fr.toNumber(n);if(!(null==i||i<t||i>e))return i}}static getCoercedValue(t,e){const n=Fr.PROPERTY_COERCIONS.get(t);return n?n(e):e}static getCoercedGridOptions(t){const e={};return Object.entries(t).forEach(([n,i])=>{const r=Fr.getCoercedValue(n,i);e[n]=r}),e}updateGridOptions({options:t,source:e="api"}){const n={id:Fr.changeSetId++,properties:[]},i=[];Object.entries(t).forEach(([r,s])=>{"api"===e&&o1e[r]&&li(`${r} is an initial property and cannot be updated.`);const o=Fr.getCoercedValue(r,s),h=this.gridOptions[r];("object"==typeof o&&"api"===e||h!==o)&&(this.gridOptions[r]=o,i.push({type:r,currentValue:o,previousValue:h,changeSet:n,source:e}))}),this.validationService.processGridOptions(this.gridOptions),n.properties=i.map(r=>r.type),i.forEach(r=>{this.gridOptions.debug&&console.log(`AG Grid: Updated property ${r.type} from `,r.previousValue," to  ",r.currentValue),this.propertyEventService.dispatchEvent(r)})}addEventListener(t,e){this.propertyEventService.addEventListener(t,e)}removeEventListener(t,e){this.propertyEventService.removeEventListener(t,e)}getScrollbarWidth(){if(null==this.scrollbarWidth){const e="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:yce();null!=e&&(this.scrollbarWidth=e,this.eventService.dispatchEvent({type:W.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth}isRowModelType(t){return this.gridOptions.rowModelType===t||"clientSide"===t&&pi(this.gridOptions.rowModelType)}isDomLayout(t){var e;return(null!=(e=this.gridOptions.domLayout)?e:"normal")===t}isRowSelection(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection}useAsyncEvents(){return!this.get("suppressAsyncEvents")}isGetRowHeightFunction(){return"function"==typeof this.gridOptions.getRowHeight}getRowHeightForNode(t,e=!1,n){if(null==n&&(n=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(e)return{height:n,estimated:!0};const r={node:t,data:t.data},s=this.getCallback("getRowHeight")(r);if(this.isNumeric(s))return 0===s&&li("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,s),estimated:!1}}return t.detail&&this.get("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:n,estimated:!1}}getMasterDetailRowHeight(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||pi(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();const t=this.environment.refreshRowHeightVariable();return-1!==t?t:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(t){return!isNaN(t)&&"number"==typeof t&&isFinite(t)}getDomDataKey(){return this.domDataKey}getDomData(t,e){const n=t[this.getDomDataKey()];return n?n[e]:void 0}setDomData(t,e,n){const i=this.getDomDataKey();let r=t[i];pi(r)&&(r={},t[i]=r),r[e]=n}getDocument(){let t=null;return this.gridOptions.getDocument&&$t(this.gridOptions.getDocument)?t=this.gridOptions.getDocument():this.eGridDiv&&(t=this.eGridDiv.ownerDocument),t&&$t(t)?t:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getAsyncTransactionWaitMillis(){return $t(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return!this.get("ensureDomOrder")&&this.get("animateRows")}isGroupRowsSticky(){return!(this.get("suppressGroupRowsSticky")||this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))}isColumnsSortingCoupledToGroup(){const t=this.gridOptions.autoGroupColumnDef;return!t?.comparator&&!this.get("treeData")}getGroupAggFiltering(){const t=this.gridOptions.groupAggFiltering;return"function"==typeof t?this.getCallback("groupAggFiltering"):!0===t?()=>!0:void 0}isGroupIncludeFooterTrueOrCallback(){const t=this.gridOptions.groupIncludeFooter;return!0===t||"function"==typeof t}getGroupIncludeFooter(){const t=this.gridOptions.groupIncludeFooter;return"function"==typeof t?this.getCallback("groupIncludeFooter"):!0===t?()=>!0:()=>!1}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?"multipleColumns"===this.gridOptions.groupDisplayType:this.get("groupHideOpenParents")}isGroupUseEntireRow(t){return!t&&"groupRows"===this.gridOptions.groupDisplayType}getGridCommonParams(){return{api:this.api,columnApi:this.columnApi,context:this.context}}addGridCommonParams(t){const e=t;return e.api=this.api,e.columnApi=this.columnApi,e.context=this.context,e}};Fr.PROPERTY_COERCIONS=new Map([...pg.BOOLEAN_PROPERTIES.map(t=>[t,Fr.toBoolean]),...pg.NUMBER_PROPERTIES.map(t=>[t,Fr.toNumber]),["groupAggFiltering",t=>"function"==typeof t?t:Fr.toBoolean(t)],["pageSize",Fr.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",Fr.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",Fr.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",Fr.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",Fr.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",Fr.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",Fr.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",Fr.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",Fr.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",Fr.toConstrainedNum(0,Number.MAX_VALUE)]]),Fr.changeSetId=0,N([K("gridOptions")],Fr.prototype,"gridOptions",2),N([K("eventService")],Fr.prototype,"eventService",2),N([K("environment")],Fr.prototype,"environment",2),N([K("frameworkOverrides")],Fr.prototype,"frameworkOverrides",2),N([K("eGridDiv")],Fr.prototype,"eGridDiv",2),N([K("validationService")],Fr.prototype,"validationService",2),N([K("gridApi")],Fr.prototype,"api",2),N([tn],Fr.prototype,"init",1),N([zc],Fr.prototype,"destroy",1),Fr=N([In("gridOptionsService")],Fr);var Uq=class extends Jt{getLocaleTextFunc(){const t=this.gridOptionsService.getCallback("getLocaleText");if(t)return(n,i,r)=>t({key:n,defaultValue:i,variableValues:r});const e=this.gridOptionsService.get("localeText");return(n,i,r)=>{let s=e&&e[n];if(s&&r&&r.length){let o=0;for(;!(o>=r.length||-1===s.indexOf("${variable}"));)s=s.replace("${variable}",r[o++])}return s??i}}};Uq=N([In("localeService")],Uq);var Wq=class pve extends BE{constructor(){super(pve.TEMPLATE,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new c5(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,W.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),n=this.invisibleScrollbar,i=e&&this.gridOptionsService.getScrollbarWidth()||0,r=0===i&&n?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),wh(this.getGui(),r),wh(this.eViewport,r),wh(this.eContainer,r),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,i=e.getGridBodyCtrl().getBodyViewportElement(),r=this.getScrollPosition(),s=i.scrollTop;r!=s&&this.setScrollPosition(s,!0)}getScrollPosition(){return this.getViewport().scrollTop}setScrollPosition(e,n){!n&&!bd(this.getViewport())&&this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e}};Wq.TEMPLATE='<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>\n            </div>\n        </div>',N([tn],Wq.prototype,"postConstruct",1);var KMe=Wq,Uue={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},Wue=["january","february","march","april","may","june","july","august","september","october","november","december"],Lv=class extends Jt{constructor(){super(...arguments),this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}init(){this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",t=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(GI(t.source))})}processDataTypeDefinitions(){var t;const e=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(e).forEach(([i,r])=>{this.dataTypeDefinitions[i]=Is(Qn({},r),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)})});const n=null!=(t=this.gridOptionsService.get("dataTypeDefinitions"))?t:{};this.dataTypeMatchers={},Object.entries(n).forEach(([i,r])=>{const s=this.processDataTypeDefinition(r,n,[i],e);s&&(this.dataTypeDefinitions[i]=s,r.dataTypeMatcher&&(this.dataTypeMatchers[i]=r.dataTypeMatcher))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(i=>{const r=this.dataTypeMatchers[i];r&&delete this.dataTypeMatchers[i],this.dataTypeMatchers[i]=r??e[i].dataTypeMatcher})}mergeDataTypeDefinitions(t,e){const n=Qn(Qn({},t),e);return t.columnTypes&&e.columnTypes&&e.appendColumnTypes&&(n.columnTypes=[...this.convertColumnTypes(t.columnTypes),...this.convertColumnTypes(e.columnTypes)]),n}processDataTypeDefinition(t,e,n,i){let r;const s=t.extendsDataType;if(t.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),t.extendsDataType===t.baseDataType){let o=i[s];const c=e[s];if(o&&c&&(o=c),!this.validateDataTypeDefinition(t,o,s))return;r=this.mergeDataTypeDefinitions(o,t)}else{if(n.includes(s))return void li('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');const o=e[s];if(!this.validateDataTypeDefinition(t,o,s))return;const c=this.processDataTypeDefinition(o,e,[...n,s],i);if(!c)return;r=this.mergeDataTypeDefinitions(c,t)}return Is(Qn({},r),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)})}validateDataTypeDefinition(t,e,n){return e?e.baseDataType===t.baseDataType||(li('The "baseDataType" property of a data type definition must match that of its parent.'),!1):(li(`The data type definition ${n} does not exist.`),!1)}createGroupSafeValueFormatter(t){if(t.valueFormatter)return e=>{var n,i;if(null!=(n=e.node)&&n.group){const r=e.column.getAggFunc();if(r){if("first"===r||"last"===r)return t.valueFormatter(e);if("number"===t.baseDataType&&"count"!==r){if("number"==typeof e.value)return t.valueFormatter(e);if("object"==typeof e.value){if(!e.value)return;if("toNumber"in e.value)return t.valueFormatter(Is(Qn({},e),{value:e.value.toNumber()}));if("value"in e.value)return t.valueFormatter(Is(Qn({},e),{value:e.value.value}))}}}if(!this.gridOptionsService.get("suppressGroupMaintainValueType"))return}else if(this.groupHideOpenParents&&e.column.isRowGroupActive()){if("string"!=typeof e.value||null!=(i=t.dataTypeMatcher)&&i.call(t,e.value))return t.valueFormatter(e);if(!this.gridOptionsService.get("suppressGroupMaintainValueType"))return}return t.valueFormatter(e)}}updateColDefAndGetDataTypeDefinitionColumnType(t,e,n){let{cellDataType:i}=e;const{field:r}=e;if(void 0===i&&(i=t.cellDataType),(null==i||!0===i)&&(i=!!this.canInferCellDataType(t,e)&&this.inferCellDataType(r,n)),!i)return void(t.cellDataType=!1);const s=this.dataTypeDefinitions[i];if(s)return t.cellDataType=i,s.groupSafeValueFormatter&&(t.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(t.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(t,s,n),s.columnTypes;li(`Missing data type definition - "${i}"`)}updateColDefAndGetColumnType(t,e,n){var i,r;const s=this.updateColDefAndGetDataTypeDefinitionColumnType(t,e,n),o=null!=(r=null!=(i=e.type)?i:s)?r:t.type;return t.type=o,o?this.convertColumnTypes(o):void 0}addColumnListeners(t){if(!this.isWaitingForRowData)return;const e=this.columnStateUpdatesPendingInference[t.getColId()];if(!e)return;const n=i=>{e.add(i.key)};t.addEventListener(ts.EVENT_STATE_UPDATED,n),this.columnStateUpdateListenerDestroyFuncs.push(()=>t.removeEventListener(ts.EVENT_STATE_UPDATED,n))}canInferCellDataType(t,e){var n;if("clientSide"!==this.rowModel.getType())return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(e,i))return!1;const r=null===e.type?t.type:e.type;if(r){const s=null!=(n=this.gridOptionsService.get("columnTypes"))?n:{};if(this.convertColumnTypes(r).some(c=>{const h=s[c.trim()];return h&&this.doColDefPropsPreventInference(h,i)}))return!1}return!this.doColDefPropsPreventInference(t,i)}doColDefPropsPreventInference(t,e){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,i])=>this.doesColDefPropPreventInference(t,e,n,i))}doesColDefPropPreventInference(t,e,n,i){if(!e[n])return!1;const r=t[n];return null===r?(e[n]=!1,!1):void 0===i?!!r:r===i}inferCellDataType(t,e){var n;if(!t)return;let i;const r=this.getInitialData();if(r){const o=t.indexOf(".")>=0&&!this.gridOptionsService.get("suppressFieldDotNotation");i=kI(r,t,o)}else this.initWaitForRowData(e);if(null==i)return;const[s]=null!=(n=Object.entries(this.dataTypeMatchers).find(([o,c])=>c(i)))?n:["object"];return s}getInitialData(){const t=this.gridOptionsService.get("rowData");if(t?.length)return t[0];if(this.initialData)return this.initialData;{const e=this.rowModel.getRootNode().allLeafChildren;if(e?.length)return e[0].data}return null}initWaitForRowData(t){if(this.columnStateUpdatesPendingInference[t]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const e=this.isColumnTypeOverrideInDataTypeDefinitions;e&&this.columnModel.queueResizeOperations();const n=this.addManagedListener(this.eventService,W.EVENT_ROW_DATA_UPDATE_STARTED,i=>{const{firstRowData:r}=i;r&&(n?.(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(r,e),this.columnStateUpdatesPendingInference={},e&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:W.EVENT_DATA_TYPES_INFERRED}))})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(t,e){this.initialData=t;const n=[];this.columnStateUpdateListenerDestroyFuncs.forEach(s=>s()),this.columnStateUpdateListenerDestroyFuncs=[];const i={},r={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([s,o])=>{const c=this.columnModel.getGridColumn(s);if(!c)return;const h=c.getColDef();if(!this.columnModel.resetColumnDefIntoColumn(c,"cellDataTypeInferred"))return;const p=c.getColDef();if(e&&p.type&&p.type!==h.type){const m=this.getUpdatedColumnState(c,o);m.rowGroup&&null==m.rowGroupIndex&&(i[s]=m),m.pivot&&null==m.pivotIndex&&(r[s]=m),n.push(m)}}),e&&n.push(...this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(i,r)),n.length&&this.columnModel.applyColumnState({state:n},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(t,e){const n=this.columnModel.getColumnStateFromColDef(t);return e.forEach(i=>{delete n[i],"rowGroup"===i?delete n.rowGroupIndex:"pivot"===i&&delete n.pivotIndex}),n}checkObjectValueHandlers(t){const e=this.dataTypeDefinitions.object,n=t.object;this.hasObjectValueParser=e.valueParser!==n.valueParser,this.hasObjectValueFormatter=e.valueFormatter!==n.valueFormatter}convertColumnTypes(t){let e=[];return t instanceof Array?t.some(i=>"string"!=typeof i)?console.warn("if colDef.type is supplied an array it should be of type 'string[]'"):e=t:"string"==typeof t?e=t.split(","):console.warn("colDef.type should be of type 'string' | 'string[]'"),e}getDateStringTypeDefinition(t){var e;return t&&null!=(e=this.getDataTypeDefinition(t))?e:this.dataTypeDefinitions.dateString}getDateParserFunction(t){return this.getDateStringTypeDefinition(t).dateParser}getDateFormatterFunction(t){return this.getDateStringTypeDefinition(t).dateFormatter}getDataTypeDefinition(t){const e=t.getColDef();if(e.cellDataType)return this.dataTypeDefinitions[e.cellDataType]}getBaseDataType(t){var e;return null==(e=this.getDataTypeDefinition(t))?void 0:e.baseDataType}checkType(t,e){var n;if(null==e)return!0;const i=null==(n=this.getDataTypeDefinition(t))?void 0:n.dataTypeMatcher;return!i||i(e)}validateColDef(t){"object"===t.cellDataType&&(t.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&li('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),t.editable&&t.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&li('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))}setColDefPropertiesForBaseDataType(t,e,n){const i=(c,h,p)=>{let m=c.getColDef().valueFormatter;return m===e.groupSafeValueFormatter&&(m=e.valueFormatter),this.valueFormatterService.formatValue(c,h,p,m)},r=Hr.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()),s=this.localeService.getLocaleTextFunc(),o=c=>{const{filterParams:h}=t;t.filterParams="object"==typeof h?Qn(Qn({},h),c):c};switch(e.baseDataType){case"number":t.cellEditor="agNumberCellEditor",r&&o({comparator:(c,h)=>{const p=null==c?0:parseInt(c),m=null==h?0:parseInt(h);return p===m?0:p>m?1:-1}});break;case"boolean":t.cellEditor="agCheckboxCellEditor",t.cellRenderer="agCheckboxCellRenderer",t.suppressKeyboardEvent=c=>!!c.colDef.editable&&c.event.key===Qe.SPACE,o(r?{valueFormatter:c=>$t(c.value)?s(String(c.value),c.value?"True":"False"):s("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(c,h)=>h,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(c,h)=>!1===h,numberOfInputs:0}]});break;case"date":t.cellEditor="agDateCellEditor",t.keyCreator=c=>i(c.column,c.node,c.value),r&&o({valueFormatter:c=>{const h=i(c.column,c.node,c.value);return $t(h)?h:s("blanks","(Blanks)")},treeList:!0,treeListFormatter:(c,h)=>{if(1===h&&null!=c){const p=Wue[Number(c)-1];return s(p,Uue[p])}return c??s("blanks","(Blanks)")}});break;case"dateString":{t.cellEditor="agDateStringCellEditor",t.keyCreator=h=>i(h.column,h.node,h.value);const c=e.dateParser;o(r?{valueFormatter:h=>{const p=i(h.column,h.node,h.value);return $t(p)?p:s("blanks","(Blanks)")},treeList:!0,treeListPathGetter:h=>{const p=c(h??void 0);return p?[String(p.getFullYear()),String(p.getMonth()+1),String(p.getDate())]:null},treeListFormatter:(h,p)=>{if(1===p&&null!=h){const m=Wue[Number(h)-1];return s(m,Uue[m])}return h??s("blanks","(Blanks)")}}:{comparator:(h,p)=>{const m=c(p);return null==p||m<h?-1:m>h?1:0}});break}case"object":t.cellEditorParams={useFormatter:!0},t.comparator=(c,h)=>{const p=this.columnModel.getPrimaryColumn(n),m=p?.getColDef();if(!p||!m)return 0;const y=null==c?"":i(p,null,c),I=null==h?"":i(p,null,h);return y===I?0:y>I?1:-1},t.keyCreator=c=>i(c.column,c.node,c.value),r?o({valueFormatter:c=>{const h=i(c.column,c.node,c.value);return $t(h)?h:s("blanks","(Blanks)")}}):t.filterValueGetter=c=>i(c.column,c.node,this.valueService.getValue(c.column,c.node))}}getDefaultDataTypes(){const t=n=>!!n.match("^\\d{4}-\\d{2}-\\d{2}$"),e=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:n=>{var i,r;return""===(null==(r=null==(i=n.newValue)?void 0:i.trim)?void 0:r.call(i))?null:Number(n.newValue)},valueFormatter:n=>null==n.value?"":"number"!=typeof n.value||isNaN(n.value)?e("invalidNumber","Invalid Number"):String(n.value),dataTypeMatcher:n=>"number"==typeof n},text:{baseDataType:"text",valueParser:n=>""===n.newValue?null:LP(n.newValue),dataTypeMatcher:n=>"string"==typeof n},boolean:{baseDataType:"boolean",valueParser:n=>{var i,r;return null==n.newValue?n.newValue:""===(null==(r=null==(i=n.newValue)?void 0:i.trim)?void 0:r.call(i))?null:"true"===String(n.newValue).toLowerCase()},valueFormatter:n=>null==n.value?"":String(n.value),dataTypeMatcher:n=>"boolean"==typeof n},date:{baseDataType:"date",valueParser:n=>Nu(null==n.newValue?null:String(n.newValue)),valueFormatter:n=>{var i;return null==n.value?"":n.value instanceof Date&&!isNaN(n.value.getTime())?null!=(i=Ch(n.value,!1))?i:"":e("invalidDate","Invalid Date")},dataTypeMatcher:n=>n instanceof Date},dateString:{baseDataType:"dateString",dateParser:n=>{var i;return null!=(i=Nu(n))?i:void 0},dateFormatter:n=>{var i;return null!=(i=Ch(n??null,!1))?i:void 0},valueParser:n=>t(String(n.newValue))?n.newValue:null,valueFormatter:n=>t(String(n.value))?n.value:"",dataTypeMatcher:n=>"string"==typeof n&&t(n)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:n=>{var i;return null!=(i=LP(n.value))?i:""}}}}};N([K("rowModel")],Lv.prototype,"rowModel",2),N([K("columnModel")],Lv.prototype,"columnModel",2),N([K("columnUtils")],Lv.prototype,"columnUtils",2),N([K("valueService")],Lv.prototype,"valueService",2),N([K("valueFormatterService")],Lv.prototype,"valueFormatterService",2),N([tn],Lv.prototype,"init",1),Lv=N([In("dataTypeService")],Lv);var S5=class extends Jt{parseValue(t,e,n,i){const r=t.getColDef(),s=this.gridOptionsService.addGridCommonParams({node:e,data:e?.data,oldValue:i,newValue:n,colDef:r,column:t}),o=r.valueParser;return $t(o)?"function"==typeof o?o(s):this.expressionService.evaluate(o,s):n}};N([K("expressionService")],S5.prototype,"expressionService",2),S5=N([In("valueParserService")],S5);var UE=class extends Jt{constructor(){super(...arguments),this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",t=>this.setColumnDefs(t))}start(){this.ctrlsService.whenReady(()=>{const t=this.gridOptionsService.get("columnDefs");t?this.setColumnsAndData(t):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(t){this.columnModel.setColumnDefs(t??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.dispatchGridReadyEvent();const t=Hr.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId());new Mq("AG Grid",()=>this.gridOptionsService.get("debug")).log(`initialised successfully, enterprise = ${t}`)}dispatchGridReadyEvent(){this.eventService.dispatchEvent({type:W.EVENT_GRID_READY})}setColumnDefs(t){const e=this.gridOptionsService.get("columnDefs");if(e){if(this.waitingForColumns)return this.waitingForColumns=!1,void this.setColumnsAndData(e);this.columnModel.setColumnDefs(e,GI(t.source))}}};N([K("ctrlsService")],UE.prototype,"ctrlsService",2),N([K("columnModel")],UE.prototype,"columnModel",2),N([K("rowModel")],UE.prototype,"rowModel",2),N([tn],UE.prototype,"postConstruct",1),UE=N([In("syncService")],UE);var WE=class extends Jt{constructor(){super(...arguments),this.manuallyDisplayed=!1}postConstruct(){this.addManagedListener(this.eventService,W.EVENT_ROW_DATA_UPDATED,()=>this.onRowDataUpdated()),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,()=>this.onNewColumnsLoaded())}registerOverlayWrapperComp(t){this.overlayWrapperComp=t,(!this.gridOptionsService.get("columnDefs")||this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData"))&&this.showLoadingOverlay()}showLoadingOverlay(){if(this.gridOptionsService.get("suppressLoadingOverlay"))return;const e=this.userComponentFactory.getLoadingOverlayCompDetails({});this.showOverlay(e,"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}showNoRowsOverlay(){if(this.gridOptionsService.get("suppressNoRowsOverlay"))return;const e=this.userComponentFactory.getNoRowsOverlayCompDetails({});this.showOverlay(e,"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}showOverlay(t,e,n){const i=t.newAgStackInstance(),r=this.addManagedPropertyListener(n,({currentValue:s})=>{i.then(o=>{o.refresh&&o.refresh(this.gridOptionsService.addGridCommonParams(Qn({},s??{})))})});this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(i,e,r)}hideOverlay(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()}showOrHideOverlay(){const t=this.paginationProxy.isEmpty(),e=this.gridOptionsService.get("suppressNoRowsOverlay");t&&!e?this.showNoRowsOverlay():this.hideOverlay()}onRowDataUpdated(){this.showOrHideOverlay()}onNewColumnsLoaded(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()}};N([K("userComponentFactory")],WE.prototype,"userComponentFactory",2),N([K("paginationProxy")],WE.prototype,"paginationProxy",2),N([K("columnModel")],WE.prototype,"columnModel",2),N([tn],WE.prototype,"postConstruct",1),WE=N([In("overlayService")],WE);var qc=class extends Jt{constructor(){super(...arguments),this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Wc(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Wc(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=Wc(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){var t;this.isClientSideRowModel="clientSide"===this.rowModel.getType(),this.cachedState=null!=(t=this.gridOptionsService.get("initialState"))?t:{},this.ctrlsService.whenReady(()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const e=this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,({source:r})=>{"gridInitializing"===r&&(e?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))}),n=this.addManagedListener(this.eventService,W.EVENT_ROW_COUNT_READY,()=>{n?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())}),i=this.addManagedListener(this.eventService,W.EVENT_FIRST_DATA_RENDERED,()=>{i?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,W.EVENT_TOOL_PANEL_VISIBLE_CHANGED,()=>this.updateCachedState("sideBar",this.getSideBarState())),this.addManagedListener(this.eventService,W.EVENT_SIDE_BAR_UPDATED,()=>this.updateCachedState("sideBar",this.getSideBarState()))}setupStateOnColumnsInitialised(){var t;const e=null!=(t=this.gridOptionsService.get("initialState"))?t:{};this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VALUE_CHANGED,()=>this.updateColumnState(["aggregation"])),this.addManagedListener(this.eventService,W.EVENT_COLUMN_MOVED,()=>this.updateColumnState(["columnOrder"])),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PINNED,()=>this.updateColumnState(["columnPinning"])),this.addManagedListener(this.eventService,W.EVENT_COLUMN_RESIZED,()=>this.updateColumnState(["columnSizing"])),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VISIBLE,()=>this.updateColumnState(["columnVisibility"])),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_CHANGED,()=>this.updateColumnState(["pivot"])),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.updateColumnState(["pivot"])),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateColumnState(["rowGroup"])),this.addManagedListener(this.eventService,W.EVENT_SORT_CHANGED,()=>this.updateColumnState(["sort"])),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"])),this.addManagedListener(this.eventService,W.EVENT_COLUMN_GROUP_OPENED,()=>this.updateCachedState("columnGroup",this.getColumnGroupState()))}setupStateOnRowCountReady(){var t;const{filter:e,rowGroupExpansion:n,rowSelection:i,pagination:r}=null!=(t=this.gridOptionsService.get("initialState"))?t:{},s=this.gridOptionsService.get("advancedFilterModel");(e||s)&&this.setFilterState(e,s),n&&this.setRowGroupExpansionState(n),i&&this.setRowSelectionState(i),r&&this.setPaginationState(r),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,W.EVENT_FILTER_CHANGED,()=>this.updateCachedState("filter",this.getFilterState())),this.addManagedListener(this.eventService,W.EVENT_ROW_GROUP_OPENED,()=>this.onRowGroupOpenedDebounced()),this.addManagedListener(this.eventService,W.EVENT_EXPAND_COLLAPSE_ALL,()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())),this.addManagedListener(this.eventService,W.EVENT_SELECTION_CHANGED,()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()}),this.addManagedListener(this.eventService,W.EVENT_PAGINATION_CHANGED,o=>{(o.newPage||o.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())})}setupStateOnFirstDataRendered(){var t;const{scroll:e,rangeSelection:n,focusedCell:i,columnOrder:r}=null!=(t=this.gridOptionsService.get("initialState"))?t:{};i&&this.setFocusedCellState(i),n&&this.setRangeSelectionState(n),e&&this.setScrollState(e),this.setColumnPivotState(!!r?.orderedColIds),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,W.EVENT_CELL_FOCUSED,()=>this.updateCachedState("focusedCell",this.getFocusedCellState())),this.addManagedListener(this.eventService,W.EVENT_RANGE_SELECTION_CHANGED,s=>{s.finished&&this.updateCachedState("rangeSelection",this.getRangeSelectionState())}),this.addManagedListener(this.eventService,W.EVENT_BODY_SCROLL_END,()=>this.updateCachedState("scroll",this.getScrollState()))}getColumnState(){const t=this.columnModel.isPivotMode(),e=[],n=[],i=[],r=[],s=[],o=[],c=[],h=[],p=[],m=this.columnModel.getColumnState();for(let y=0;y<m.length;y++){const{colId:I,sort:L,sortIndex:U,rowGroup:X,rowGroupIndex:Q,aggFunc:pe,pivot:Te,pivotIndex:Le,pinned:tt,hide:zt,width:Ot,flex:Se}=m[y];p.push(I),L&&(e[U??0]={colId:I,sort:L}),X&&(n[Q??0]=I),"string"==typeof pe&&i.push({colId:I,aggFunc:pe}),Te&&(r[Le??0]=I),tt&&("right"===tt?o:s).push(I),zt&&c.push(I),(Se||Ot)&&h.push({colId:I,flex:Se??void 0,width:Ot})}return{sort:e.length?{sortModel:e}:void 0,rowGroup:n.length?{groupColIds:n}:void 0,aggregation:i.length?{aggregationModel:i}:void 0,pivot:r.length||t?{pivotMode:t,pivotColIds:r}:void 0,columnPinning:s.length||o.length?{leftColIds:s,rightColIds:o}:void 0,columnVisibility:c.length?{hiddenColIds:c}:void 0,columnSizing:h.length?{columnSizingModel:h}:void 0,columnOrder:p.length?{orderedColIds:p}:void 0}}setColumnState(t){const{sort:e,rowGroup:n,aggregation:i,pivot:r,columnPinning:s,columnVisibility:o,columnSizing:c,columnOrder:h}=t,p={},m=U=>{let X=p[U];return X||(X={colId:U},p[U]=X,X)};e&&e.sortModel.forEach(({colId:U,sort:X},Q)=>{const pe=m(U);pe.sort=X,pe.sortIndex=Q}),n&&n.groupColIds.forEach((U,X)=>{const Q=m(U);Q.rowGroup=!0,Q.rowGroupIndex=X}),i&&i.aggregationModel.forEach(({colId:U,aggFunc:X})=>{m(U).aggFunc=X}),r&&(r.pivotColIds.forEach((U,X)=>{const Q=m(U);Q.pivot=!0,Q.pivotIndex=X}),this.gridOptionsService.updateGridOptions({options:{pivotMode:r.pivotMode},source:"gridInitializing"})),s&&(s.leftColIds.forEach(U=>{m(U).pinned="left"}),s.rightColIds.forEach(U=>{m(U).pinned="right"})),o&&o.hiddenColIds.forEach(U=>{m(U).hide=!0}),c&&c.columnSizingModel.forEach(({colId:U,flex:X,width:Q})=>{const pe=m(U);pe.flex=X??null,pe.width=Q});const y=h?.orderedColIds,I=!!y?.length,L=I?y.map(U=>m(U)):Object.values(p);L.length&&(this.columnStates=L,this.columnModel.applyColumnState({state:L,applyOrder:I,defaultState:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null}},"gridInitializing"))}setColumnPivotState(t){const e=this.columnStates;this.columnStates=void 0;const n=this.columnGroupStates;if(this.columnGroupStates=void 0,this.columnModel.isSecondaryColumnsPresent()){if(e){let i=[];for(const r of e)this.columnModel.getSecondaryColumn(r.colId)&&i.push(r);this.columnModel.applyColumnState({state:i,applyOrder:t},"gridInitializing")}n&&this.columnModel.setColumnGroupState(n,"gridInitializing")}}getColumnGroupState(){const t=this.columnModel.getColumnGroupState(),e=[];return t.forEach(({groupId:n,open:i})=>{i&&e.push(n)}),e.length?{openColumnGroupIds:e}:void 0}setColumnGroupState(t){var e;if(!t.hasOwnProperty("columnGroup"))return;const n=new Set(null==(e=t.columnGroup)?void 0:e.openColumnGroupIds),r=this.columnModel.getColumnGroupState().map(({groupId:s})=>{const o=n.has(s);return o&&n.delete(s),{groupId:s,open:o}});n.forEach(s=>{r.push({groupId:s,open:!0})}),r.length&&(this.columnGroupStates=r),this.columnModel.setColumnGroupState(r,"gridInitializing")}getFilterState(){var t;let e=this.filterManager.getFilterModel();e&&0===Object.keys(e).length&&(e=void 0);const n=null!=(t=this.filterManager.getAdvancedFilterModel())?t:void 0;return e||n?{filterModel:e,advancedFilterModel:n}:void 0}setFilterState(t,e){const{filterModel:n,advancedFilterModel:i}=t??{advancedFilterModel:e};n&&this.filterManager.setFilterModel(n,"columnFilter"),i&&this.filterManager.setAdvancedFilterModel(i)}getRangeSelectionState(){var t;const e=null==(t=this.rangeService)?void 0:t.getCellRanges().map(n=>{const{id:i,type:r,startRow:s,endRow:o,columns:c,startColumn:h}=n;return{id:i,type:r,startRow:s,endRow:o,colIds:c.map(p=>p.getColId()),startColId:h.getColId()}});return e?.length?{cellRanges:e}:void 0}setRangeSelectionState(t){var e;if(!this.gridOptionsService.get("enableRangeSelection"))return;const n=t.cellRanges.map(i=>Is(Qn({},i),{columns:i.colIds.map(r=>this.columnModel.getGridColumn(r)),startColumn:this.columnModel.getGridColumn(i.startColId)}));null==(e=this.rangeService)||e.setCellRanges(n)}getScrollState(){var t,e,n;if(!this.isClientSideRowModel)return;const i=null==(t=this.ctrlsService.getGridBodyCtrl())?void 0:t.getScrollFeature(),{left:r}=null!=(e=i?.getHScrollPosition())?e:{left:0},{top:s}=null!=(n=i?.getVScrollPosition())?n:{top:0};return s||r?{top:s,left:r}:void 0}setScrollState(t){var e;if(!this.isClientSideRowModel)return;const{top:n,left:i}=t;null==(e=this.ctrlsService.getGridBodyCtrl())||e.getScrollFeature().setScrollPosition(n,i)}getSideBarState(){var t,e;return null==(e=null==(t=this.sideBarService)?void 0:t.getSideBarComp())?void 0:e.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const t=this.focusService.getFocusedCell();if(t){const{column:e,rowIndex:n,rowPinned:i}=t;return{colId:e.getColId(),rowIndex:n,rowPinned:i}}}setFocusedCellState(t){if(!this.isClientSideRowModel)return;const{colId:e,rowIndex:n,rowPinned:i}=t;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(e),rowIndex:n,rowPinned:i,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const t=this.paginationProxy.getCurrentPage(),e=this.gridOptionsService.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(t||e)return{page:t,pageSize:e}}setPaginationState(t){t.pageSize&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(t.pageSize,"initialState"),"number"==typeof t.page&&this.paginationProxy.setPage(t.page)}getRowSelectionState(){var t;const e=this.selectionService.getSelectionState();return e&&(Array.isArray(e)||!1!==e.selectAll&&!1!==e.selectAllChildren||null!=(t=e?.toggledNodes)&&t.length)?e:void 0}setRowSelectionState(t){this.selectionService.setSelectionState(t,"gridInitializing")}getRowGroupExpansionState(){const t=this.expansionService.getExpandedRows();return t.length?{expandedRowGroupIds:t}:void 0}setRowGroupExpansionState(t){this.expansionService.expandRows(t.expandedRowGroupIds)}updateColumnState(t){const e=this.getColumnState();let n=!1;Object.entries(e).forEach(([i,r])=>{s9(r,this.cachedState[i])||(n=!0)}),this.cachedState=Qn(Qn({},this.cachedState),e),n&&this.dispatchStateUpdateEvent(t)}updateCachedState(t,e){const n=this.cachedState[t];this.setCachedStateValue(t,e),s9(e,n)||this.dispatchStateUpdateEvent([t])}setCachedStateValue(t,e){this.cachedState=Is(Qn({},this.cachedState),{[t]:e})}refreshStaleState(){this.staleStateKeys.forEach(t=>{"rowSelection"===t&&this.setCachedStateValue(t,this.getRowSelectionState())}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(t){this.suppressEvents||(t.forEach(e=>this.queuedUpdateSources.add(e)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const t=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:W.EVENT_STATE_UPDATED,sources:t,state:this.cachedState})}suppressEventsAndDispatchInitEvent(t){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),t(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}};N([K("filterManager")],qc.prototype,"filterManager",2),N([Cr("rangeService")],qc.prototype,"rangeService",2),N([K("ctrlsService")],qc.prototype,"ctrlsService",2),N([Cr("sideBarService")],qc.prototype,"sideBarService",2),N([K("focusService")],qc.prototype,"focusService",2),N([K("columnModel")],qc.prototype,"columnModel",2),N([K("paginationProxy")],qc.prototype,"paginationProxy",2),N([K("rowModel")],qc.prototype,"rowModel",2),N([K("selectionService")],qc.prototype,"selectionService",2),N([K("expansionService")],qc.prototype,"expansionService",2),N([K("columnAnimationService")],qc.prototype,"columnAnimationService",2),N([tn],qc.prototype,"postConstruct",1),qc=N([In("stateService")],qc);var SM=class extends Jt{init(){this.processGridOptions(this.gridOptions)}processGridOptions(t){this.processOptions(t,qMe)}processColumnDefs(t){this.processOptions(t,hA)}processOptions(t,e){const{validations:n,deprecations:i,allProperties:r,propertyExceptions:s,objectName:o,docsUrl:c}=e;r&&!0!==this.gridOptions.suppressPropertyNamesCheck&&this.checkProperties(t,[...s??[],...Object.keys(i)],r,o,c);const h=new Set;Object.keys(t).forEach(m=>{var y;const I=i[m];if(I)if("renamed"in I){const{renamed:Le,version:tt}=I;h.add(`As of v${tt}, ${String(m)} is deprecated. Please use ${String(Le)} instead.`),t[Le]=t[m]}else{const{message:Le,version:tt}=I;h.add(`As of v${tt}, ${String(m)} is deprecated. ${Le??""}`)}const L=t[m];if(null==L||!1===L)return;const U=n[m];let X;if(!U)return;if("function"==typeof U){const Le=U(t,this.gridOptions);if(!Le)return;if("objectName"in Le){const tt=t[m];return Array.isArray(tt)?void tt.forEach(zt=>{this.processOptions(zt,Le)}):void this.processOptions(t[m],Le)}X=Le}else X=U;const{module:Q,dependencies:pe,supportedRowModels:Te}=X;if(Te){const Le=null!=(y=this.gridOptions.rowModelType)?y:"clientSide";if(!Te.includes(Le))return void h.add(`${String(m)} is not supported with the '${Le}' row model.`)}if(Q){const Le=Array.isArray(Q)?Q:[Q];let tt=!0;if(Le.forEach(zt=>{Hr.__assertRegistered(zt,String(m),this.context.getGridId())||(tt=!1,h.add(`${String(m)} is only available when ${zt} is loaded.`))}),!tt)return}if(pe){const Le=this.checkForWarning(m,pe,t);if(Le)return void h.add(Le)}}),h.size>0&&h.forEach(m=>{li(m)})}checkForWarning(t,e,n){if("function"==typeof e)return e(n,this.gridOptions);const r=Object.entries(e).find(([c,h])=>!h.includes(n[c]));if(!r)return null;const[s,o]=r;return o.length>1?`'${String(t)}' requires '${s}' to be one of [${o.join(", ")}].`:`'${String(t)}' requires '${s}' to be ${o[0]}.`}checkProperties(t,e,n,i,r){const o=Nce(Object.getOwnPropertyNames(t),["__ob__","__v_skip","__metadata__",...e,...n],n);if(tc(o,(c,h)=>{li(`invalid ${i} property '${c}' did you mean any of these: ${h.slice(0,8).join(", ")}`)}),Object.keys(o).length>0&&r){const c=this.getFrameworkOverrides().getDocLink(r);li(`to see all the valid ${i} properties please check: ${c}`)}}};N([K("gridOptions")],SM.prototype,"gridOptions",2),N([tn],SM.prototype,"init",1),SM=N([In("validationService")],SM);var T5=class extends Jt{constructor(){super(...arguments),this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new h9(this.getFrameworkOverrides())}addEventListener(t,e){const n=this.frameworkEventWrappingService.wrap(e),i=this.gridOptionsService.useAsyncEvents()&&!VV.has(t),r=i?this.asyncEventListeners:this.syncEventListeners;r.has(t)||r.set(t,new Set),r.get(t).add(n),this.eventService.addEventListener(t,n,i)}removeEventListener(t,e){var n;const i=this.frameworkEventWrappingService.unwrap(e),r=this.asyncEventListeners.get(t),s=!!r?.delete(i);s||null==(n=this.syncEventListeners.get(t))||n.delete(i),this.eventService.removeEventListener(t,i,s)}addGlobalListener(t){const e=this.frameworkEventWrappingService.wrapGlobal(t);if(this.gridOptionsService.useAsyncEvents()){const i=(s,o)=>{VV.has(s)&&e(s,o)},r=(s,o)=>{VV.has(s)||e(s,o)};this.globalEventListenerPairs.set(t,{syncListener:i,asyncListener:r}),this.eventService.addGlobalListener(i,!1),this.eventService.addGlobalListener(r,!0)}else this.syncGlobalEventListeners.add(e),this.eventService.addGlobalListener(e,!1)}removeGlobalListener(t){const e=this.frameworkEventWrappingService.unwrapGlobal(t);if(this.globalEventListenerPairs.has(e)){const{syncListener:i,asyncListener:r}=this.globalEventListenerPairs.get(e);this.eventService.removeGlobalListener(i,!1),this.eventService.removeGlobalListener(r,!0),this.globalEventListenerPairs.delete(t)}else this.syncGlobalEventListeners.delete(e),this.eventService.removeGlobalListener(e,!1)}destroyEventListeners(t,e){t.forEach((n,i)=>{n.forEach(r=>this.eventService.removeEventListener(i,r,e)),n.clear()}),t.clear()}destroyGlobalListeners(t,e){t.forEach(n=>this.eventService.removeGlobalListener(n,e)),t.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:t,asyncListener:e})=>{this.eventService.removeGlobalListener(t,!1),this.eventService.removeGlobalListener(e,!0)}),this.globalEventListenerPairs.clear()}};N([tn],T5.prototype,"postConstruct",1),T5=N([In("apiEventService")],T5);var TM=class extends Ti{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const t=this.selectPageSizeComp.getValue();if(!t)return;const e=Number(t);isNaN(e)||e<1||e===this.paginationProxy.getPageSize()||(this.paginationProxy.setPageSize(e,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}init(){this.addManagedPropertyListener("paginationPageSizeSelector",()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedListener(this.eventService,W.EVENT_PAGINATION_CHANGED,t=>this.handlePaginationChanged(t))}handlePaginationChanged(t){if(!this.selectPageSizeComp||!t?.newPageSize)return;const e=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(e)?this.selectPageSizeComp.setValue(e.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(t){this.selectPageSizeComp&&this.reset(),t&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))}reset(){aa(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel")&&!this.gridOptionsService.get("paginationAutoPageSize")&&!1!==this.gridOptionsService.get("paginationPageSizeSelector")}reloadPageSizesSelector(){const t=this.getPageSizeSelectorValues(),e=this.paginationProxy.getPageSize(),n=!e||!t.includes(e);n&&(t.unshift(""),li("The paginationPageSize grid option is set to a value that is not in the list of page size options.\n                Please make sure that the paginationPageSize grid option is set to one of the values in the \n                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.")),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);const i=this.localeService.getLocaleTextFunc(),r=i("pageSizeSelectorLabel","Page Size:"),s=t.map(c=>({value:String(c),text:String(c)})),o=i("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new t5).addOptions(s).setValue(String(n?"":e)).setAriaLabel(o).setLabel(r).onValueChange(()=>this.handlePageSizeItemSelected()),this.hasEmptyOption=n}getPageSizeSelectorValues(){const e=this.gridOptionsService.get("paginationPageSizeSelector");return Array.isArray(e)&&this.validateValues(e)?[...e].sort((n,i)=>n-i):[20,50,100]}validateValues(t){if(!t.length)return li("The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.\n                If you want to hide the page size selector, please set the paginationPageSizeSelector to false."),!1;for(let e=0;e<t.length;e++){const n=t[e],r=n>0;if("number"!=typeof n)return li("The paginationPageSizeSelector grid option contains a non-numeric value.\n                    Please make sure that all values in the paginationPageSizeSelector array are numbers."),!1;if(!r)return li("The paginationPageSizeSelector grid option contains a negative number or zero.\n                    Please make sure that all values in the paginationPageSizeSelector array are positive."),!1}return!0}destroy(){this.toggleSelectDisplay(!1),super.destroy()}};N([K("localeService")],TM.prototype,"localeService",2),N([K("gridOptionsService")],TM.prototype,"gridOptionsService",2),N([K("paginationProxy")],TM.prototype,"paginationProxy",2),N([tn],TM.prototype,"init",1);var IM=class extends Jt{constructor(){super(),this.descriptionContainer=null,this.announceValue=Wc(this.announceValue.bind(this),200)}postConstruct(){const t=this.gridOptionsService.getDocument(),e=this.descriptionContainer=t.createElement("div");e.classList.add("ag-aria-description-container"),E9(e,"polite"),oce(e,"additions text"),sce(e,!0),this.eGridDiv.appendChild(e)}announceValue(t){this.descriptionContainer&&(this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=t)},50))}destroy(){super.destroy();const{descriptionContainer:t}=this;t&&(aa(t),t.parentElement&&t.parentElement.removeChild(t)),this.descriptionContainer=null,this.eGridDiv=null}};N([K("eGridDiv")],IM.prototype,"eGridDiv",2),N([tn],IM.prototype,"postConstruct",1),IM=N([In("ariaAnnouncementService")],IM);var XMe=1,zue=class{create(t,e,n,i,r){var s;const o=!!e.debug,c=null!=(s=e.gridId)?s:String(XMe++),h=this.getRegisteredModules(r,c),p=this.createBeansList(e.rowModelType,h,c),m=this.createProvidedBeans(t,e,r);if(!p)return void Rf("Failed to create grid.");const y={providedBeanInstances:m,beanClasses:p,debug:o,gridId:c},I=new Mq("Context",()=>y.debug),L=new jxe(y,I),U=L.getBean("beans");return this.registerModuleUserComponents(U,h),this.registerStackComponents(U,h),this.registerControllers(U,h),n(L),U.syncService.start(),i&&i(L),U.gridApi}registerControllers(t,e){e.forEach(n=>{n.controllers&&n.controllers.forEach(i=>t.ctrlsFactory.register(i))})}registerStackComponents(t,e){const n=this.createAgStackComponentsList(e);t.agStackComponentsRegistry.setupComponents(n)}getRegisteredModules(t,e){const n=t?t.modules:null,i=Hr.__getRegisteredModules(e),r=[],s={},o=(c,h,p)=>{var y;s[(y=h).moduleName]||(s[y.moduleName]=!0,r.push(y),Hr.__register(y,c,p)),h.dependantModules&&h.dependantModules.forEach(y=>o(c,y,p))};return n&&n.forEach(c=>o(!0,c,e)),i&&i.forEach(c=>o(!Hr.__isPackageBased(),c,void 0)),r}registerModuleUserComponents(t,e){this.extractModuleEntity(e,i=>i.userComponents?i.userComponents:[]).forEach(i=>{t.userComponentRegistry.registerDefaultComponent(i.componentName,i.componentClass)})}createProvidedBeans(t,e,n){let i=n?n.frameworkOverrides:null;pi(i)&&(i=new kue);const r={gridOptions:e,eGridDiv:t,globalEventListener:n?n.globalEventListener:null,globalSyncEventListener:n?n.globalSyncEventListener:null,frameworkOverrides:i};return n&&n.providedBeanInstances&&Object.assign(r,n.providedBeanInstances),r}createAgStackComponentsList(t){let e=[{componentName:"AgCheckbox",componentClass:n5},{componentName:"AgRadioButton",componentClass:Qce},{componentName:"AgToggleButton",componentClass:Mue},{componentName:"AgInputTextField",componentClass:vE},{componentName:"AgInputTextArea",componentClass:CMe},{componentName:"AgInputNumberField",componentClass:oq},{componentName:"AgInputDateField",componentClass:wMe},{componentName:"AgInputRange",componentClass:EMe},{componentName:"AgRichSelect",componentClass:Rq},{componentName:"AgSelect",componentClass:t5},{componentName:"AgSlider",componentClass:TMe},{componentName:"AgGridBody",componentClass:vg},{componentName:"AgHeaderRoot",componentClass:gMe},{componentName:"AgSortIndicator",componentClass:cq},{componentName:"AgPagination",componentClass:Vu},{componentName:"AgPageSizeSelector",componentClass:TM},{componentName:"AgOverlayWrapper",componentClass:BMe},{componentName:"AgGroupComponent",componentClass:IMe},{componentName:"AgRowContainer",componentClass:XI},{componentName:"AgFakeHorizontalScroll",componentClass:HMe},{componentName:"AgFakeVerticalScroll",componentClass:KMe},{componentName:"AgAutocomplete",componentClass:MMe}];const n=this.extractModuleEntity(t,i=>i.agStackComponents?i.agStackComponents:[]);return e=e.concat(n),e}createBeansList(t="clientSide",e,n){const i=e.filter(h=>!h.rowModel||h.rowModel===t),r={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!r[t])return void Rf("Could not find row model for rowModelType = "+t);if(!Hr.__assertRegistered(r[t],`rowModelType = '${t}'`,n))return;const s=[Ei,cA,Vq,bM,sA,Zi,tM,E5,mM,Iq,jy,aA,aM,Uq,SM,dM,nM,b9,xf,Fr,kv,FE,Sh,Oa,RE,hM,wd,b5,LI,Pq,OE,ic,w5,Qy,C5,y9,PE,$y,Ri,kE,ns,Ov,vM,Xy,g5,v5,YI,GE,Nq,gM,lA,GP,oA,tA,Th,C9,Bq,CM,_g,uA,wM,EM,dA,Hq,Lv,S5,ku,UE,WE,qc,cM,T5,IM,Lf],o=this.extractModuleEntity(i,h=>h.beans?h.beans:[]);s.push(...o);const c=[];return s.forEach(h=>{c.indexOf(h)<0&&c.push(h)}),c}extractModuleEntity(t,e){return[].concat(...t.map(e))}},QMe=class{wrap(t,e,n=[],i){const r=this.createWrapper(t,i);return e.forEach(s=>{this.createMethod(r,s,!0)}),n.forEach(s=>{this.createMethod(r,s,!1)}),r}unwrap(t){return t}createMethod(t,e,n){t.addMethod(e,this.createMethodProxy(t,e,n))}createMethodProxy(t,e,n){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(n&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}}},fA=typeof global>"u"?{}:global;fA.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement,fA.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement,fA.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement,fA.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement,fA.Node=typeof Node>"u"?{}:Node,fA.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var zq=class ON{constructor(e,n,i,r,s,o){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gridOptionsService=n,this.eventService=i,this.columnModel=r,this.beans=o,this.selectionService=s,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=ON.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return qi.cloneObject(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if("string"==typeof e)return void console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);const n=this.rootNode,i=this.rootNode.sibling;n.childrenAfterFilter=null,n.childrenAfterGroup=null,n.childrenAfterAggFilter=null,n.childrenAfterSort=null,n.childrenMapped=null,n.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?n.allLeafChildren=e.map(r=>this.createNode(r,this.rootNode,ON.TOP_LEVEL)):(n.allLeafChildren=[],n.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=n.childrenAfterFilter,i.childrenAfterGroup=n.childrenAfterGroup,i.childrenAfterAggFilter=n.childrenAfterAggFilter,i.childrenAfterSort=n.childrenAfterSort,i.childrenMapped=n.childrenMapped,i.allLeafChildren=n.allLeafChildren)}updateRowData(e,n){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);const i={remove:[],update:[],add:[]},r=[];return this.executeRemove(e,i,r),this.executeUpdate(e,i,r),this.executeAdd(e,i),this.updateSelection(r,"rowDataChanged"),n&&qi.sortRowNodesByOrder(this.rootNode.allLeafChildren,n),i}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:W.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:e?.length?e[0]:null})}updateSelection(e,n){const i=e.length>0;i&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:n}),this.selectionService.updateGroupsFromChildrenSelections(n),i&&this.eventService.dispatchEvent({type:W.EVENT_SELECTION_CHANGED,source:n})}executeAdd(e,n){var i;const{add:r,addIndex:s}=e;if(qi.missingOrEmpty(r))return;const o=r.map(c=>this.createNode(c,this.rootNode,ON.TOP_LEVEL));if("number"==typeof s&&s>=0){const{allLeafChildren:c}=this.rootNode,h=c.length;let p=s;if(this.gridOptionsService.get("treeData")&&s>0&&h>0)for(let L=0;L<h;L++)if((null==(i=c[L])?void 0:i.rowIndex)==s-1){p=L+1;break}const y=c.slice(0,p),I=c.slice(p,c.length);this.rootNode.allLeafChildren=[...y,...o,...I]}else this.rootNode.allLeafChildren=[...this.rootNode.allLeafChildren,...o];this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),n.add=o}executeRemove(e,n,i){const{remove:r}=e;if(qi.missingOrEmpty(r))return;const s={};r.forEach(o=>{const c=this.lookupRowNode(o);c&&(c.isSelected()&&i.push(c),c.clearRowTopAndRowIndex(),s[c.id]=!0,delete this.allNodesMap[c.id],n.remove.push(c))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(o=>!s[o.id]),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,n,i){const{update:r}=e;qi.missingOrEmpty(r)||r.forEach(s=>{const o=this.lookupRowNode(s);o&&(o.updateData(s),!o.selectable&&o.isSelected()&&i.push(o),this.setMasterForRow(o,s,ON.TOP_LEVEL,!1),n.update.push(o))})}lookupRowNode(e){const n=this.gridOptionsService.getCallback("getRowId");let i;if(n){const r=n({data:e,level:0});if(i=this.allNodesMap[r],!i)return console.error(`AG Grid: could not find row id=${r}, data item was not found for this id`),null}else if(i=this.rootNode.allLeafChildren.find(r=>r.data===e),!i)return console.error("AG Grid: could not find data item as object was not found",e),console.error("Consider using getRowId to help the Grid find matching row data"),null;return i||null}createNode(e,n,i){const r=new Ki(this.beans);r.group=!1,this.setMasterForRow(r,e,i,!0);const s=this.gridOptionsService.get("suppressParentsInRowNodes");return n&&!s&&(r.parent=n),r.level=i,r.setDataAndId(e,this.nextId.toString()),this.allNodesMap[r.id]&&console.warn(`AG Grid: duplicate node id '${r.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[r.id]=r,this.nextId++,r}setMasterForRow(e,n,i,r){if(this.gridOptionsService.get("treeData"))e.setMaster(!1),r&&(e.expanded=!1);else{if(this.gridOptionsService.get("masterDetail")){const c=this.gridOptionsService.get("isRowMaster");e.setMaster(!c||c(n))}else e.setMaster(!1);if(r){const c=this.columnModel.getRowGroupColumns();e.expanded=!!e.master&&this.isExpanded(i+(c?c.length:0))}}}isExpanded(e){const n=this.gridOptionsService.get("groupDefaultExpanded");return-1===n||e<n}};zq.TOP_LEVEL=0,zq.ROOT_NODE_ID="ROOT_NODE_ID";var ZMe=zq,rc=class extends Jt{constructor(){super(...arguments),this.onRowHeightChanged_debounced=qi.debounce(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}init(){const t=this.refreshModel.bind(this,{step:"group"}),e=!this.gridOptionsService.get("suppressAnimationFrame"),n=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:e});this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,n),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:"pivot"})),this.addManagedListener(this.eventService,W.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this)),this.addManagedListener(this.eventService,W.EVENT_GRID_READY,()=>this.onGridReady()),this.addPropertyListeners(),this.rootNode=new Ki(this.beans),this.nodeManager=new ZMe(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)}addPropertyListeners(){const t=new Set(["treeData","masterDetail"]),e=new Set(["suppressParentsInRowNodes","groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),n=new Set(["excludeChildrenWhenTreeDataFiltering"]),i=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),r=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly"]),s=new Set(["postSortRows","groupDisplayType","accentedSort"]),o=new Set([]),c=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"]),h=[...t,...e,...n,...i,...i,...r,...s,...o,...c];this.addManagedPropertyListeners(h,p=>{var m;const y=null==(m=p.changeSet)?void 0:m.properties;if(!y)return;const I=L=>y.some(U=>L.has(U));I(t)?this.setRowData(this.rootNode.allLeafChildren.map(L=>L.data)):I(e)?this.refreshModel({step:"group"}):I(n)?this.refreshModel({step:"filter"}):I(i)?this.refreshModel({step:"pivot"}):I(r)?this.refreshModel({step:"aggregate"}):I(s)?this.refreshModel({step:"sort"}):I(o)?this.refreshModel({step:"filter_aggregates"}):I(c)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const t=this.gridOptionsService.get("rowData");t&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(t))}ensureRowHeightsValid(t,e,n,i){let r,s=!1;do{r=!1;const o=this.getRowIndexAtPixel(t),c=this.getRowIndexAtPixel(e),h=Math.max(o,n),p=Math.min(c,i);for(let m=h;m<=p;m++){const y=this.getRow(m);if(y.rowHeightEstimated){const I=this.gridOptionsService.getRowHeightForNode(y);y.setRowHeight(I.height),r=!0,s=!0}}r&&this.setRowTopAndRowIndex()}while(r);return s}setRowTopAndRowIndex(){const t=this.environment.getDefaultRowHeight();let e=0;const n=new Set,i=this.gridOptionsService.isDomLayout("normal");for(let r=0;r<this.rowsToDisplay.length;r++){const s=this.rowsToDisplay[r];if(null!=s.id&&n.add(s.id),null==s.rowHeight){const o=this.gridOptionsService.getRowHeightForNode(s,i,t);s.setRowHeight(o.height,o.estimated)}s.setRowTop(e),s.setRowIndex(r),e+=s.rowHeight}return n}clearRowTopAndRowIndex(t,e){const n=t.isActive(),i=s=>{s&&null!=s.id&&!e.has(s.id)&&s.clearRowTopAndRowIndex()},r=s=>{i(s),i(s.detailNode),i(s.sibling),s.hasChildren()&&s.childrenAfterGroup&&(n&&-1!=s.level&&!s.expanded||s.childrenAfterGroup.forEach(r))};r(this.rootNode)}ensureRowsAtPixel(t,e,n=0){const i=this.getRowIndexAtPixel(e),r=this.getRow(i),s=!this.gridOptionsService.get("suppressAnimationFrame");return r!==t[0]&&(t.forEach(o=>{qi.removeFromArray(this.rootNode.allLeafChildren,o)}),t.forEach((o,c)=>{qi.insertIntoArray(this.rootNode.allLeafChildren,o,Math.max(i+n,0)+c)}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:s}),!0)}highlightRowAtPixel(t,e){const n=null!=e?this.getRowIndexAtPixel(e):null,i=null!=n?this.getRow(n):null;if(!i||!t||i===t||null==e)return void(this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null));const r=this.getHighlightPosition(e,i);this.lastHighlightedRow&&this.lastHighlightedRow!==i&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),i.setHighlighted(r),this.lastHighlightedRow=i}getHighlightPosition(t,e){if(!e){const r=this.getRowIndexAtPixel(t);if(!(e=this.getRow(r||0)))return 1}const{rowTop:n,rowHeight:i}=e;return t-n<i/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const e=this.rootNode.childrenAfterAggFilter;return e?e.length:0}getTopLevelRowDisplayedIndex(t){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return t;let n=this.rootNode.childrenAfterSort[t];if(this.gridOptionsService.get("groupHideOpenParents"))for(;n.expanded&&n.childrenAfterSort&&n.childrenAfterSort.length>0;)n=n.childrenAfterSort[0];return n.rowIndex}getRowBounds(t){if(qi.missing(this.rowsToDisplay))return null;const e=this.rowsToDisplay[t];return e?{rowTop:e.rowTop,rowHeight:e.rowHeight}:null}onRowGroupOpened(){const t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:"map",keepRenderedRows:!0,animate:t})}onFilterChanged(t){if(t.afterDataChange)return;const e=this.gridOptionsService.isAnimateRows(),i=0===t.columns.length||t.columns.some(r=>r.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:i,keepRenderedRows:!0,animate:e})}onSortChanged(){const t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:"sort",keepRenderedRows:!0,animate:t,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(t){const e=qi.missingOrEmpty(t),n=new m5(!1,this.rootNode);return(e||this.gridOptionsService.get("treeData"))&&n.setInactive(),n}isSuppressModelUpdateAfterUpdateTransaction(t){if(!this.gridOptionsService.get("suppressModelUpdateAfterUpdateTransaction")||null==t.rowNodeTransactions)return!1;const e=t.rowNodeTransactions.filter(i=>null!=i.add&&i.add.length>0||null!=i.remove&&i.remove.length>0);return null==e||0==e.length}buildRefreshModelParams(t){let e="group";const n={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",sort:"sort",pivot:"pivot"};if(qi.exists(t)&&(e=n[t]),!qi.missing(e))return{step:e,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gridOptionsService.get("suppressAnimationFrame")};console.error(`AG Grid: invalid step ${t}, available steps are ${Object.keys(n).join(", ")}`)}refreshModel(t){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.shouldRowModelIgnoreRefresh())return;let e="object"==typeof t&&"step"in t?t:this.buildRefreshModelParams(t);if(!e||this.isSuppressModelUpdateAfterUpdateTransaction(e))return;const n=this.createChangePath(e.rowNodeTransactions);switch(this.isRefreshingModel=!0,e.step){case"group":this.doRowGrouping(e.rowNodeTransactions,e.rowNodeOrder,n,!!e.afterColumnsChanged);case"filter":this.doFilter(n);case"pivot":this.doPivot(n);case"aggregate":this.doAggregate(n);case"filter_aggregates":this.doFilterAggregates(n);case"sort":this.doSort(e.rowNodeTransactions,n);case"map":this.doRowsToDisplay()}const i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(n,i),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:W.EVENT_MODEL_UPDATED,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){const t=qi.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return qi.missing(this.rootNode)||t||!this.columnModel.isReady()}isRowsToRender(){return qi.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(t,e){let n=!e,i=!1;const r=[],s=this.gridOptionsService.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(o=>{if(!i)if(n&&(o===e||o===t)&&(i=!0,o.group&&s))r.push(...o.allLeafChildren);else{if(!n){if(o!==e&&o!==t)return;n=!0}o.group&&s||r.push(o)}}),r}setDatasource(t){console.error("AG Grid: should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(t){return this.rowsToDisplay[t]}isRowPresent(t){return this.rowsToDisplay.indexOf(t)>=0}getRowIndexAtPixel(t){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;let e=0,n=this.rowsToDisplay.length-1;if(t<=0)return 0;if(qi.last(this.rowsToDisplay).rowTop<=t)return this.rowsToDisplay.length-1;let r=-1,s=-1;for(;;){const o=Math.floor((e+n)/2),c=this.rowsToDisplay[o];if(this.isRowInPixel(c,t)||(c.rowTop<t?e=o+1:c.rowTop>t&&(n=o-1),r===e&&s===n))return o;r=e,s=n}}isRowInPixel(t,e){return t.rowTop<=e&&t.rowTop+t.rowHeight>e}forEachLeafNode(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((e,n)=>t(e,n))}forEachNode(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:t,recursionType:0,index:0,includeFooterNodes:e})}forEachNodeAfterFilter(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:t,recursionType:1,index:0,includeFooterNodes:e})}forEachNodeAfterFilterAndSort(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:t,recursionType:2,index:0,includeFooterNodes:e})}forEachPivotNode(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:t,recursionType:3,index:0,includeFooterNodes:e})}recursivelyWalkNodesAndCallback(t){var e;const{nodes:n,callback:i,recursionType:r,includeFooterNodes:s}=t;let{index:o}=t;for(let p=0;p<n.length;p++){const m=n[p];if(i(m,o++),m.hasChildren()&&!m.footer){let y=null;switch(r){case 0:y=m.childrenAfterGroup;break;case 1:y=m.childrenAfterAggFilter;break;case 2:y=m.childrenAfterSort;break;case 3:y=m.leafGroup?null:m.childrenAfterSort}y&&(o=this.recursivelyWalkNodesAndCallback({nodes:[...y],callback:i,recursionType:r,index:o,includeFooterNodes:s}))}}const c=null==(e=n[0])?void 0:e.parent;if(!s||!c)return o;if(c===this.rootNode){if(!this.gridOptionsService.get("groupIncludeTotalFooter"))return o}else if(!this.gridOptionsService.getGroupIncludeFooter()({node:c}))return o;return c.createFooter(),i(c.sibling,o++),o}doAggregate(t){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:t})}doFilterAggregates(t){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:t}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(t){const e=this.gridOptionsService.get("treeData"),n=this.columnModel.isPivotActive(),i=o=>{o&&o.forEach(c=>{const h=()=>{c.expanded=t,i(c.childrenAfterGroup)};e?qi.exists(c.childrenAfterGroup)&&h():n?!c.leafGroup&&h():c.group&&h()})};this.rootNode&&i(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:W.EVENT_EXPAND_COLLAPSE_ALL,source:t?"expandAll":"collapseAll"})}doSort(t,e){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:e})}doRowGrouping(t,e,n,i){this.groupStage?(this.groupStage.execute(t?{rowNode:this.rootNode,rowNodeTransactions:t,rowNodeOrder:e,changedPath:n}:{rowNode:this.rootNode,changedPath:n,afterColumnsChanged:i}),this.gridOptionsService.get("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",n)&&this.eventService.dispatchEvent({type:W.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"})):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren()),this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:W.EVENT_ROW_COUNT_READY}))}doFilter(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})}doPivot(t){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:t})}getCopyOfNodesMap(){return this.nodeManager.getCopyOfNodesMap()}getRowNode(t){if("string"==typeof t&&0==t.indexOf(Ki.ID_PREFIX_ROW_GROUP)){let n;return this.forEachNode(i=>{i.id===t&&(n=i)}),n}return this.nodeManager.getRowNode(t)}setRowData(t){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(t),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:W.EVENT_ROW_DATA_UPDATED}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(t,e){if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];const n=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:e})}flushAsyncTransactions(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const t=[],e=[];let n=!1;this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(i=>{const r=this.nodeManager.updateRowData(i.rowDataTransaction,void 0);e.push(r),i.callback&&t.push(i.callback.bind(null,r)),"number"==typeof i.rowDataTransaction.addIndex&&(n=!0)}),this.commonUpdateRowData(e,void 0,n),t.length>0&&window.setTimeout(()=>{t.forEach(i=>i())},0),e.length>0&&this.eventService.dispatchEvent({type:W.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:e}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(t,e){this.valueCache.onDataChanged();const n=this.nodeManager.updateRowData(t,e);return this.commonUpdateRowData([n],e,"number"==typeof t.addIndex),n}createRowNodeOrder(){if(this.gridOptionsService.get("suppressMaintainUnsortedOrder"))return;const e={};if(this.rootNode&&this.rootNode.allLeafChildren)for(let n=0;n<this.rootNode.allLeafChildren.length;n++)e[this.rootNode.allLeafChildren[n].id]=n;return e}commonUpdateRowData(t,e,n){if(!this.hasStarted)return;const i=!this.gridOptionsService.get("suppressAnimationFrame");n&&(e=this.createRowNodeOrder()),this.eventService.dispatchEvent({type:W.EVENT_ROW_DATA_UPDATED}),this.refreshModel({step:"group",rowNodeTransactions:t,rowNodeOrder:e,keepRenderedRows:!0,keepEditingRows:!0,animate:i})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const t=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let t=!1;return this.forEachNode(e=>{e.setRowHeight(e.rowHeight,!0);const n=e.detailNode;n&&n.setRowHeight(n.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t=!0}),t}onGridStylesChanges(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}};N([K("columnModel")],rc.prototype,"columnModel",2),N([K("selectionService")],rc.prototype,"selectionService",2),N([K("filterManager")],rc.prototype,"filterManager",2),N([K("valueCache")],rc.prototype,"valueCache",2),N([K("beans")],rc.prototype,"beans",2),N([K("filterStage")],rc.prototype,"filterStage",2),N([K("sortStage")],rc.prototype,"sortStage",2),N([K("flattenStage")],rc.prototype,"flattenStage",2),N([Cr("groupStage")],rc.prototype,"groupStage",2),N([Cr("aggregationStage")],rc.prototype,"aggregationStage",2),N([Cr("pivotStage")],rc.prototype,"pivotStage",2),N([Cr("filterAggregatesStage")],rc.prototype,"filterAggregatesStage",2),N([tn],rc.prototype,"init",1),rc=N([In("rowModel")],rc);var I5=class extends Jt{execute(t){const{changedPath:e}=t;this.filterService.filter(e)}};N([K("filterService")],I5.prototype,"filterService",2),I5=N([In("filterStage")],I5);var AM=class extends Jt{execute(t){const e=this.sortController.getSortOptions(),n=qi.exists(e)&&e.length>0,i=n&&qi.exists(t.rowNodeTransactions)&&this.gridOptionsService.get("deltaSort"),r=e.some(s=>this.gridOptionsService.isColumnsSortingCoupledToGroup()?s.column.isPrimary()&&s.column.isRowGroupActive():!!s.column.getColDef().showRowGroup);this.sortService.sort(e,n,i,t.rowNodeTransactions,t.changedPath,r)}};N([K("sortService")],AM.prototype,"sortService",2),N([K("sortController")],AM.prototype,"sortController",2),AM=N([In("sortStage")],AM);var DM=class extends Jt{execute(t){const e=t.rowNode,n=[],i=this.columnModel.isPivotMode(),r=i&&e.leafGroup,s=r?[e]:e.childrenAfterSort,o=this.getFlattenDetails();return this.recursivelyAddToRowsToDisplay(o,s,n,i,0),!r&&n.length>0&&o.groupIncludeTotalFooter&&(e.createFooter(),this.addRowNodeToRowsToDisplay(o,e.sibling,n,0)),n}getFlattenDetails(){const t=this.gridOptionsService.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!t&&this.gridOptionsService.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:t,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.get("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.get("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}}recursivelyAddToRowsToDisplay(t,e,n,i,r){if(!qi.missingOrEmpty(e))for(let s=0;s<e.length;s++){const o=e[s],c=o.hasChildren(),p=t.groupRemoveSingleChildren&&c&&1===o.childrenAfterGroup.length,m=t.groupRemoveLowestSingleChildren&&c&&o.leafGroup&&1===o.childrenAfterGroup.length;if(!(i&&!c)&&!(t.hideOpenParents&&o.expanded&&!o.master&&(!i||!o.leafGroup))&&!p&&!m&&this.addRowNodeToRowsToDisplay(t,o,n,r),!i||!o.leafGroup)if(c){const U=p||m;if(o.expanded||U){const X=U?r:r+1;this.recursivelyAddToRowsToDisplay(t,o.childrenAfterSort,n,i,X),t.getGroupIncludeFooter({node:o})?(o.createFooter(),this.addRowNodeToRowsToDisplay(t,o.sibling,n,X)):o.destroyFooter()}}else if(o.master&&o.expanded){const U=this.createDetailNode(o);this.addRowNodeToRowsToDisplay(t,U,n,r)}}}addRowNodeToRowsToDisplay(t,e,n,i){n.push(e),e.setUiLevel(t.isGroupMultiAutoColumn?0:i)}createDetailNode(t){if(qi.exists(t.detailNode))return t.detailNode;const e=new Ki(this.beans);return e.detail=!0,e.selectable=!1,e.parent=t,qi.exists(t.id)&&(e.id="detail_"+t.id),e.data=t.data,e.level=t.level+1,t.detailNode=e,e}};N([K("columnModel")],DM.prototype,"columnModel",2),N([K("beans")],DM.prototype,"beans",2),DM=N([In("flattenStage")],DM);var RM=class extends Jt{sort(t,e,n,i,r,s){const o=this.gridOptionsService.get("groupMaintainOrder"),c=this.columnModel.getAllGridColumns().some(I=>I.isRowGroupActive());let h={};n&&i&&(h=this.calculateDirtyNodes(i));const p=this.columnModel.isPivotMode(),m=this.gridOptionsService.getCallback("postSortRows");r&&r.forEachChangedNodeDepthFirst(I=>{var L;this.pullDownGroupDataForHideOpenParents(I.childrenAfterAggFilter,!0);const U=p&&I.leafGroup;if(o&&c&&!I.leafGroup&&!s){const Q=null==(L=this.columnModel.getRowGroupColumns())?void 0:L[I.level+1],pe=null===Q?.getSort(),Te=I.childrenAfterAggFilter.slice(0);if(I.childrenAfterSort&&!pe){const Le={};I.childrenAfterSort.forEach((tt,zt)=>{Le[tt.id]=zt}),Te.sort((tt,zt)=>{var Ot,Se;return(null!=(Ot=Le[tt.id])?Ot:0)-(null!=(Se=Le[zt.id])?Se:0)})}I.childrenAfterSort=Te}else I.childrenAfterSort=!e||U?I.childrenAfterAggFilter.slice(0):n?this.doDeltaSort(I,h,r,t):this.rowNodeSorter.doFullSort(I.childrenAfterAggFilter,t);I.sibling&&(I.sibling.childrenAfterSort=I.childrenAfterSort),this.updateChildIndexes(I),m&&m({nodes:I.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(r)}calculateDirtyNodes(t){const e={},n=i=>{i&&i.forEach(r=>e[r.id]=!0)};return t&&t.forEach(i=>{n(i.add),n(i.update),n(i.remove)}),e}doDeltaSort(t,e,n,i){const r=t.childrenAfterAggFilter,s=t.childrenAfterSort;if(!s)return this.rowNodeSorter.doFullSort(r,i);const o={},c=[];r.forEach(y=>{e[y.id]||!n.canSkip(y)?c.push(y):o[y.id]=!0});const h=s.filter(y=>o[y.id]),p=(y,I)=>({currentPos:I,rowNode:y}),m=c.map(p).sort((y,I)=>this.rowNodeSorter.compareRowNodes(i,y,I));return this.mergeSortedArrays(i,m,h.map(p)).map(({rowNode:y})=>y)}mergeSortedArrays(t,e,n){const i=[];let r=0,s=0;for(;r<e.length&&s<n.length;)this.rowNodeSorter.compareRowNodes(t,e[r],n[s])<0?i.push(e[r++]):i.push(n[s++]);for(;r<e.length;)i.push(e[r++]);for(;s<n.length;)i.push(n[s++]);return i}updateChildIndexes(t){if(qi.missing(t.childrenAfterSort))return;const e=t.childrenAfterSort;for(let n=0;n<e.length;n++){const i=e[n],s=n===t.childrenAfterSort.length-1;i.setFirstChild(0===n),i.setLastChild(s),i.setChildIndex(n)}}updateGroupDataForHideOpenParents(t){if(!this.gridOptionsService.get("groupHideOpenParents"))return;if(this.gridOptionsService.get("treeData"))return qi.warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const e=n=>{this.pullDownGroupDataForHideOpenParents(n.childrenAfterSort,!1),n.childrenAfterSort.forEach(i=>{i.hasChildren()&&e(i)})};t&&t.executeFromRootNode(n=>e(n))}pullDownGroupDataForHideOpenParents(t,e){!this.gridOptionsService.get("groupHideOpenParents")||qi.missing(t)||t.forEach(n=>{this.columnModel.getGroupDisplayColumns().forEach(r=>{const s=r.getColDef().showRowGroup;if("string"!=typeof s)return void console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");const c=this.columnModel.getPrimaryColumn(s);if(c!==n.rowGroupColumn)if(e)n.setGroupValue(r.getId(),void 0);else{const p=n.getFirstChildOfFirstChild(c);p&&n.setGroupValue(r.getId(),p.key)}})})}};N([K("columnModel")],RM.prototype,"columnModel",2),N([K("rowNodeSorter")],RM.prototype,"rowNodeSorter",2),RM=N([In("sortService")],RM);var A5=class extends Jt{filter(t){const e=this.filterManager.isChildFilterPresent();this.filterNodes(e,t)}filterNodes(t,e){const n=(i,r)=>{i.childrenAfterFilter=i.hasChildren()&&t&&!r?i.childrenAfterGroup.filter(s=>{const o=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,c=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return o||c}):i.childrenAfterGroup,i.sibling&&(i.sibling.childrenAfterFilter=i.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const i=(s,o)=>{if(s.childrenAfterGroup)for(let c=0;c<s.childrenAfterGroup.length;c++){const h=s.childrenAfterGroup[c],p=o||this.filterManager.doesRowPassFilter({rowNode:h});h.childrenAfterGroup?i(s.childrenAfterGroup[c],p):n(h,p)}n(s,o)};e.executeFromRootNode(s=>i(s,!1))}else e.forEachChangedNodeDepthFirst(r=>n(r,!1),!0)}doingTreeDataFiltering(){return this.gridOptionsService.get("treeData")&&!this.gridOptionsService.get("excludeChildrenWhenTreeDataFiltering")}};N([K("filterManager")],A5.prototype,"filterManager",2),A5=N([In("filterService")],A5);var zE=class extends Jt{postConstruct(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const t=this.gridOptionsService.exists("getRowId");return!this.gridOptionsService.get("resetRowDataOnUpdate")&&t}setRowData(t){const e=this.createTransactionForRowData(t);if(!e)return;const[n,i]=e;this.clientSideRowModel.updateRowData(n,i)}createTransactionForRowData(t){if(qi.missing(this.clientSideRowModel))return void console.error("AG Grid: ImmutableService only works with ClientSideRowModel");const e=this.gridOptionsService.getCallback("getRowId");if(null==e)return void console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");const n={remove:[],update:[],add:[]},i=this.clientSideRowModel.getCopyOfNodesMap(),s=this.gridOptionsService.get("suppressMaintainUnsortedOrder")?void 0:{};return qi.exists(t)&&t.forEach((o,c)=>{const h=e({data:o,level:0}),p=i[h];s&&(s[h]=c),p?(p.data!==o&&n.update.push(o),i[h]=void 0):n.add.push(o)}),qi.iterateObject(i,(o,c)=>{c&&n.remove.push(c.data)}),[n,s]}onRowDataUpdated(){const t=this.gridOptionsService.get("rowData");t&&(this.isActive()?this.setRowData(t):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(t)))}};N([K("rowModel")],zE.prototype,"rowModel",2),N([K("rowRenderer")],zE.prototype,"rowRenderer",2),N([K("selectionService")],zE.prototype,"selectionService",2),N([tn],zE.prototype,"postConstruct",1);var tNe={version:"31.2.1",moduleName:"@ag-grid-community/client-side-row-model",rowModel:"clientSide",beans:[rc,I5,AM,DM,RM,A5,zE=N([In("immutableService")],zE)]},nNe=Object.defineProperty,iNe=Object.getOwnPropertyDescriptor,Kc=(t,e,n,i)=>{for(var o,r=i>1?void 0:i?iNe(e,n):e,s=t.length-1;s>=0;s--)(o=t[s])&&(r=(i?o(e,n,r):o(r))||r);return i&&r&&nNe(e,n,r),r},xM=class extends Aq{constructor(t,e,n){super(t),this.parentCache=e,this.params=n,this.startRow=t*n.blockSize,this.endRow=this.startRow+n.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(t,e,n){qi.exists(e)?t.setDataAndId(e,n.toString()):t.setDataAndId(void 0,void 0)}loadFromDatasource(){const t=this.createLoadParams();qi.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(()=>{this.params.datasource.getRows(t)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.getGridCommonParams().context}}forEachNode(t,e,n){this.rowNodes.forEach((i,r)=>{this.startRow+r<n&&t(i,e.next())})}getLastAccessed(){return this.lastAccessed}getRow(t,e=!1){return e||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[t-this.startRow]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let t=0;t<this.params.blockSize;t++){const e=this.startRow+t,n=new Ki(this.beans);n.setRowHeight(this.params.rowHeight),n.uiLevel=0,n.setRowIndex(e),n.setRowTop(this.params.rowHeight*e),this.rowNodes.push(n)}}processServerResult(t){this.rowNodes.forEach((n,i)=>{const r=t.rowData?t.rowData[i]:void 0;!n.id&&n.alreadyRendered&&r&&(this.rowNodes[i]=new Ki(this.beans),this.rowNodes[i].setRowIndex(n.rowIndex),this.rowNodes[i].setRowTop(n.rowTop),this.rowNodes[i].setRowHeight(n.rowHeight),n.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[i],r,this.startRow+i)}),this.parentCache.pageLoaded(this,null!=t.rowCount&&t.rowCount>=0?t.rowCount:void 0)}destroyRowNodes(){this.rowNodes.forEach(t=>{t.clearRowTopAndRowIndex()})}};Kc([K("beans")],xM.prototype,"beans",2),Kc([tn],xM.prototype,"postConstruct",1),Kc([zc],xM.prototype,"destroyRowNodes",1);var pA=class gve extends Jt{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}setBeans(e){this.logger=e.create("InfiniteCache")}getRow(e,n=!1){const i=Math.floor(e/this.params.blockSize);let r=this.blocks[i];if(!r){if(n)return;r=this.createBlock(i)}return r.getRow(e)}createBlock(e){const n=this.createBean(new xM(e,this,this.params));return this.blocks[n.getId()]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),this.params.rowNodeBlockLoader.addBlock(n),n}refreshCache(){0!=this.blockCount?(this.getBlocksInOrder().forEach(n=>n.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()):this.purgeCache()}destroyAllBlocks(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e))}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,n){this.isAlive()&&(this.logger.log(`onPageLoaded: page = ${e.getId()}, lastRow = ${n}`),this.checkRowCount(e,n),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const n=this.getBlocksInOrder().filter(c=>c!=e);n.sort((c,h)=>h.getLastAccessed()-c.getLastAccessed());const r=this.params.maxBlocksInCache>0,s=r?this.params.maxBlocksInCache-1:null,o=gve.MAX_EMPTY_BLOCKS_TO_KEEP-1;n.forEach((c,h)=>{if(c.getState()===xM.STATE_WAITING_TO_LOAD&&h>=o||r&&h>=s){if(this.isBlockCurrentlyDisplayed(c)||this.isBlockFocused(c))return;this.removeBlockFromCache(c)}})}isBlockFocused(e){const n=this.focusService.getFocusCellToUseAfterRefresh();if(!n||null!=n.rowPinned)return!1;const i=e.getStartRow(),r=e.getEndRow();return n.rowIndex>=i&&n.rowIndex<r}isBlockCurrentlyDisplayed(e){const n=e.getStartRow(),i=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(n,i)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,n){if("number"==typeof n&&n>=0)this.rowCount=n,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const r=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<r&&(this.rowCount=r)}}setRowCount(e,n){this.rowCount=e,qi.exists(n)&&(this.lastRowIndexKnown=n),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const n=new zI;this.getBlocksInOrder().forEach(i=>i.forEachNode(e,n,this.rowCount))}getBlocksInOrder(){return qi.getAllValuesInObject(this.blocks).sort((i,r)=>i.getId()-r.getId())}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:W.EVENT_STORE_UPDATED}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(n=>{n.getId()*this.params.blockSize>=this.rowCount&&e.push(n)}),e.length>0&&e.forEach(n=>this.destroyBlock(n))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,n){const i=[];let r=-1,s=!1;const o=new zI;qi.missing(e)&&(s=!0);let c=!1;return this.getBlocksInOrder().forEach(p=>{if(!c){if(s&&r+1!==p.getId())return void(c=!0);r=p.getId(),p.forEachNode(m=>{const y=m===e||m===n;(s||y)&&i.push(m),y&&(s=!s)},o,this.rowCount)}}),c||s?[]:i}};pA.MAX_EMPTY_BLOCKS_TO_KEEP=2,Kc([K("rowRenderer")],pA.prototype,"rowRenderer",2),Kc([K("focusService")],pA.prototype,"focusService",2),Kc([((t,e)=>(n,i)=>e(n,i,0))(0,_h("loggerFactory"))],pA.prototype,"setBeans",1),Kc([zc],pA.prototype,"destroyAllBlocks",1);var sNe=pA,yg=class extends Jt{getRowBounds(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}}ensureRowHeightsValid(t,e,n,i){return!1}init(){this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gridOptionsService.exists("initialGroupOrderComparator")&&qi.warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gridOptionsService.get("datasource"))}destroyDatasource(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedListener(this.eventService,W.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,W.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this)),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gridOptionsService.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let t;t=!this.cacheParams||this.isSortModelDifferent(),t&&this.reset()}isSortModelDifferent(){return!qi.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(t){this.destroyDatasource(),this.datasource=t,t&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(t,e){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,e):[]}reset(){this.datasource&&(null!=this.gridOptionsService.getCallback("getRowId")||this.selectionService.reset("rowDataChanged"),this.resetCache())}createModelUpdatedEvent(){return{type:W.EVENT_MODEL_UPDATED,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gridOptionsService.get("infiniteInitialRowCount"),maxBlocksInCache:this.gridOptionsService.get("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.gridOptionsService.get("cacheOverflowSize"),blockSize:this.gridOptionsService.get("cacheBlockSize"),lastAccessedSequence:new zI},this.infiniteCache=this.createBean(new sNe(this.cacheParams)),this.eventService.dispatchEventOnce({type:W.EVENT_ROW_COUNT_READY});const t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)});const t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){const t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)}getRow(t){if(this.infiniteCache&&!(t>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(t)}getRowNode(t){let e;return this.forEachNode(n=>{n.id===t&&(e=n)}),e}forEachNode(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(t){return t}getRowIndexAtPixel(t){if(0!==this.rowHeight){const e=Math.floor(t/this.rowHeight),n=this.getRowCount()-1;return e>n?n:e}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(t){return!!this.getRowNode(t.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()}setRowCount(t,e){this.infiniteCache&&this.infiniteCache.setRowCount(t,e)}};Kc([K("filterManager")],yg.prototype,"filterManager",2),Kc([K("sortController")],yg.prototype,"sortController",2),Kc([K("selectionService")],yg.prototype,"selectionService",2),Kc([K("rowRenderer")],yg.prototype,"rowRenderer",2),Kc([K("rowNodeBlockLoader")],yg.prototype,"rowNodeBlockLoader",2),Kc([tn],yg.prototype,"init",1),Kc([zc],yg.prototype,"destroyDatasource",1);var aNe={version:"31.2.1",moduleName:"@ag-grid-community/infinite-row-model",rowModel:"infinite",beans:[yg=Kc([In("rowModel")],yg)]},jue=Object.defineProperty,lNe=Object.defineProperties,cNe=Object.getOwnPropertyDescriptor,uNe=Object.getOwnPropertyDescriptors,$ue=Object.getOwnPropertySymbols,dNe=Object.prototype.hasOwnProperty,hNe=Object.prototype.propertyIsEnumerable,que=(t,e,n)=>e in t?jue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Kue=(t,e)=>{for(var n in e||(e={}))dNe.call(e,n)&&que(t,n,e[n]);if($ue)for(var n of $ue(e))hNe.call(e,n)&&que(t,n,e[n]);return t},Yue=(t,e)=>lNe(t,uNe(e)),sc=(t,e,n,i)=>{for(var o,r=i>1?void 0:i?cNe(e,n):e,s=t.length-1;s>=0;s--)(o=t[s])&&(r=(i?o(e,n,r):o(r))||r);return i&&r&&jue(e,n,r),r},PM=(t,e,n)=>new Promise((i,r)=>{var s=h=>{try{c(n.next(h))}catch(p){r(p)}},o=h=>{try{c(n.throw(h))}catch(p){r(p)}},c=h=>h.done?i(h.value):Promise.resolve(h.value).then(s,o);c((n=n.apply(t,e)).next())}),fNe=class{setBeans(t){this.beans=t}getFileName(t){const e=this.getDefaultFileExtension();return(null==t||!t.length)&&(t=this.getDefaultFileName()),-1===t.indexOf(".")?`${t}.${e}`:t}getData(t){const e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},pNe=class{constructor(t){this.groupColumns=[];const{columnModel:e,valueService:n,gridOptionsService:i,valueFormatterService:r,valueParserService:s,processCellCallback:o,processHeaderCallback:c,processGroupHeaderCallback:h,processRowGroupCallback:p}=t;this.columnModel=e,this.valueService=n,this.gridOptionsService=i,this.valueFormatterService=r,this.valueParserService=s,this.processCellCallback=o,this.processHeaderCallback=c,this.processGroupHeaderCallback=h,this.processRowGroupCallback=p}prepare(t){this.groupColumns=t.filter(e=>!!e.getColDef().showRowGroup)}extractHeaderValue(t){return this.getHeaderName(this.processHeaderCallback,t)??""}extractRowCellValue(t,e,n,i,r){const o=this.gridOptionsService.get("groupHideOpenParents")&&!r.footer||!this.shouldRenderGroupSummaryCell(r,t,e)?this.valueService.getValue(t,r):this.createValueForGroupNode(t,r);return this.processCell({accumulatedRowIndex:n,rowNode:r,column:t,value:o,processCellCallback:this.processCellCallback,type:i})}shouldRenderGroupSummaryCell(t,e,n){var i;if(!t||!t.group)return!1;if(-1!==this.groupColumns.indexOf(e)){if(null!=(null==(i=t.groupData)?void 0:i[e.getId()])||this.gridOptionsService.isRowModelType("serverSide")&&t.group)return!0;if(t.footer&&-1===t.level){const c=e.getColDef();return null==c||!0===c.showRowGroup||c.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}const o=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===n&&o}getHeaderName(t,e){return t?t(this.gridOptionsService.addGridCommonParams({column:e})):this.columnModel.getDisplayNameForColumn(e,"csv",!0)}createValueForGroupNode(t,e){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gridOptionsService.addGridCommonParams({column:t,node:e}));const n=this.gridOptionsService.get("treeData"),i=this.gridOptionsService.get("suppressGroupMaintainValueType"),r=h=>{var p,m;if(n||i)return h.key;const y=null==(p=h.groupData)?void 0:p[t.getId()];return y&&h.rowGroupColumn&&!1!==h.rowGroupColumn.getColDef().useValueFormatterForExport&&null!=(m=this.valueFormatterService.formatValue(h.rowGroupColumn,h,y))?m:y},s=e.footer,o=[r(e)];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;e.parent;)o.push(r(e=e.parent));const c=o.reverse().join(" -> ");return s?`Total ${c}`:c}processCell(t){var e;const{accumulatedRowIndex:n,rowNode:i,column:r,value:s,processCellCallback:o,type:c}=t;return o?{value:null!=(e=o(this.gridOptionsService.addGridCommonParams({accumulatedRowIndex:n,column:r,node:i,value:s,type:c,parseValue:h=>this.valueParserService.parseValue(r,i,h,this.valueService.getValue(r,i)),formatValue:h=>{var p;return null!=(p=this.valueFormatterService.formatValue(r,i,h))?p:h}})))?e:""}:!1!==r.getColDef().useValueFormatterForExport?{value:s??"",valueFormatted:this.valueFormatterService.formatValue(r,i,s)}:{value:s??""}}},gNe=class{static download(t,e){const n=document.defaultView||window;if(!n)return void console.warn("AG Grid: There is no `window` associated with the current `document`");const i=document.createElement("a"),r=n.URL.createObjectURL(e);i.setAttribute("href",r),i.setAttribute("download",t),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(i),n.setTimeout(()=>{n.URL.revokeObjectURL(r)},0)}},mNe=class extends pNe{constructor(t){super(t),this.isFirstLine=!0,this.result="";const{suppressQuotes:e,columnSeparator:n}=t;this.suppressQuotes=e,this.columnSeparator=n}addCustomContent(t){t&&("string"==typeof t?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,"\r\n"),this.result+=t):t.forEach(e=>{this.beginNewLine(),e.forEach((n,i)=>{0!==i&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(t,e,n,i){0!=n&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(i)}appendEmptyCells(t){for(let e=1;e<=t;e++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(t,e){0!=e&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(t,e,n){var i;0!=e&&(this.result+=this.columnSeparator);const r=this.extractRowCellValue(t,e,e,"csv",n);this.result+=this.putInQuotes(null!=(i=r.valueFormatted)?i:r.value)}putInQuotes(t){if(this.suppressQuotes)return t;if(null==t)return'""';let e;return"string"==typeof t?e=t:"function"==typeof t.toString?e=t.toString():(console.warn("AG Grid: unknown value type during csv conversion"),e=""),'"'+e.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1}},bg=class extends fNe{postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})}getMergedParams(t){const e=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},e,t)}export(t){if(this.isExportSuppressed())return void console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration.");const e=this.getMergedParams(t),n=this.getData(e),i=new Blob(["\ufeff",n],{type:"text/plain"}),r="function"==typeof e.fileName?e.fileName(this.gridOptionsService.getGridCommonParams()):e.fileName;gNe.download(this.getFileName(r),i)}exportDataAsCsv(t){this.export(t)}getDataAsCsv(t,e=!1){const n=e?Object.assign({},t):this.getMergedParams(t);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(t){const{columnModel:e,valueService:n,gridOptionsService:i,valueFormatterService:r,valueParserService:s}=this,{processCellCallback:o,processHeaderCallback:c,processGroupHeaderCallback:h,processRowGroupCallback:p,suppressQuotes:m,columnSeparator:y}=t;return new mNe({columnModel:e,valueService:n,gridOptionsService:i,valueFormatterService:r,valueParserService:s,processCellCallback:o||void 0,processHeaderCallback:c||void 0,processGroupHeaderCallback:h||void 0,processRowGroupCallback:p||void 0,suppressQuotes:m||!1,columnSeparator:y||","})}isExportSuppressed(){return this.gridOptionsService.get("suppressCsvExport")}};sc([K("columnModel")],bg.prototype,"columnModel",2),sc([K("valueService")],bg.prototype,"valueService",2),sc([K("gridSerializer")],bg.prototype,"gridSerializer",2),sc([K("gridOptionsService")],bg.prototype,"gridOptionsService",2),sc([K("valueFormatterService")],bg.prototype,"valueFormatterService",2),sc([K("valueParserService")],bg.prototype,"valueParserService",2),sc([tn],bg.prototype,"postConstruct",1),bg=sc([In("csvCreator")],bg);var Cg=class extends Jt{serialize(t,e={}){const{allColumns:n,columnKeys:i,skipRowGroups:r}=e,s=this.getColumnsToExport(n,r,i);return qi.compose(this.prepareSession(s),this.prependContent(e),this.exportColumnGroups(e,s),this.exportHeaders(e,s),this.processPinnedTopRows(e,s),this.processRows(e,s),this.processPinnedBottomRows(e,s),this.appendContent(e))(t).parse()}processRow(t,e,n,i){const r=e.shouldRowBeSkipped||(()=>!1),s=this.gridOptionsService.get("groupRemoveSingleChildren"),o=this.gridOptionsService.get("groupRemoveLowestSingleChildren"),h=null!=e.rowPositions||!!e.onlySelected,p=this.gridOptionsService.get("groupHideOpenParents")&&!h,m=this.columnModel.isPivotMode()?i.leafGroup:!i.group,y=!!i.footer;if(!m&&!y&&(e.skipRowGroups||1===i.allChildrenCount&&(s||o&&i.leafGroup)||p)||e.onlySelected&&!i.isSelected()||e.skipPinnedTop&&"top"===i.rowPinned||e.skipPinnedBottom&&"bottom"===i.rowPinned||-1===i.level&&!m&&!y||r(this.gridOptionsService.addGridCommonParams({node:i})))return;const pe=t.onNewBodyRow(i);if(n.forEach((Te,Le)=>{pe.onColumn(Te,Le,i)}),e.getCustomContentBelowRow){const Te=e.getCustomContentBelowRow(this.gridOptionsService.addGridCommonParams({node:i}));Te&&t.addCustomContent(Te)}}appendContent(t){return e=>{const n=t.appendContent;return n&&e.addCustomContent(n),e}}prependContent(t){return e=>{const n=t.prependContent;return n&&e.addCustomContent(n),e}}prepareSession(t){return e=>(e.prepare(t),e)}exportColumnGroups(t,e){return n=>{if(!t.skipColumnGroupHeaders){const i=new Yle,r=this.displayedGroupCreator.createDisplayedGroups(e,i,null);this.recursivelyAddHeaderGroups(r,n,t.processGroupHeaderCallback)}return n}}exportHeaders(t,e){return n=>{if(!t.skipColumnHeaders){const i=n.onNewHeaderRow();e.forEach((r,s)=>{i.onColumn(r,s,void 0)})}return n}}processPinnedTopRows(t,e){return n=>{const i=this.processRow.bind(this,n,t,e);return t.rowPositions?t.rowPositions.filter(r=>"top"===r.rowPinned).sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel.getPinnedTopRow(r.rowIndex)).forEach(i):this.pinnedRowModel.forEachPinnedTopRow(i),n}}processRows(t,e){return n=>{const i=this.rowModel,r=i.getType(),s="clientSide"===r,o="serverSide"===r,c=!s&&t.onlySelected,h=this.processRow.bind(this,n,t,e),{exportedRows:p="filteredAndSorted"}=t;if(t.rowPositions)t.rowPositions.filter(m=>null==m.rowPinned).sort((m,y)=>m.rowIndex-y.rowIndex).map(m=>i.getRow(m.rowIndex)).forEach(h);else if(this.columnModel.isPivotMode())s?i.forEachPivotNode(h,!0):o?i.forEachNodeAfterFilterAndSort(h,!0):i.forEachNode(h);else if(t.onlySelectedAllPages||c){const m=this.selectionService.getSelectedNodes();this.replicateSortedOrder(m),m.forEach(h)}else"all"===p?i.forEachNode(h):s||o?i.forEachNodeAfterFilterAndSort(h,!0):i.forEachNode(h);return n}}replicateSortedOrder(t){const e=this.sortController.getSortOptions(),n=(i,r)=>{var s,o,c,h;return null!=i.rowIndex&&null!=r.rowIndex?i.rowIndex-r.rowIndex:i.level===r.level?(null==(s=i.parent)?void 0:s.id)===(null==(o=r.parent)?void 0:o.id)?this.rowNodeSorter.compareRowNodes(e,{rowNode:i,currentPos:null!=(c=i.rowIndex)?c:-1},{rowNode:r,currentPos:null!=(h=r.rowIndex)?h:-1}):n(i.parent,r.parent):i.level>r.level?n(i.parent,r):n(i,r.parent)};t.sort(n)}processPinnedBottomRows(t,e){return n=>{const i=this.processRow.bind(this,n,t,e);return t.rowPositions?t.rowPositions.filter(r=>"bottom"===r.rowPinned).sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel.getPinnedBottomRow(r.rowIndex)).forEach(i):this.pinnedRowModel.forEachPinnedBottomRow(i),n}}getColumnsToExport(t=!1,e=!1,n){const i=this.columnModel.isPivotMode();if(n&&n.length)return this.columnModel.getGridColumns(n);const r=this.gridOptionsService.get("treeData");let s=[];return s=t&&!i?this.columnModel.getAllGridColumns():this.columnModel.getAllDisplayedColumns(),e&&!r&&(s=s.filter(o=>o.getColId()!==VI)),s}recursivelyAddHeaderGroups(t,e,n){const i=[];t.forEach(r=>{r.getChildren&&r.getChildren().forEach(o=>i.push(o))}),t.length>0&&t[0]instanceof va&&this.doAddHeaderHeader(e,t,n),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,e,n)}doAddHeaderHeader(t,e,n){const i=t.onNewHeaderGroupingRow();let r=0;e.forEach(s=>{const o=s;let c;c=n?n(this.gridOptionsService.addGridCommonParams({columnGroup:o})):this.columnModel.getDisplayNameForColumnGroup(o,"header");const h=o.getLeafColumns().reduce((p,m,y,I)=>{let L=qi.last(p);return"open"===m.getColumnGroupShow()?(!L||null!=L[1])&&(L=[y],p.push(L)):L&&null==L[1]&&(L[1]=y-1),y===I.length-1&&L&&null==L[1]&&(L[1]=y),p},[]);i.onColumn(o,c||"",r++,o.getLeafColumns().length-1,h)})}};sc([K("displayedGroupCreator")],Cg.prototype,"displayedGroupCreator",2),sc([K("columnModel")],Cg.prototype,"columnModel",2),sc([K("rowModel")],Cg.prototype,"rowModel",2),sc([K("pinnedRowModel")],Cg.prototype,"pinnedRowModel",2),sc([K("selectionService")],Cg.prototype,"selectionService",2),sc([K("rowNodeSorter")],Cg.prototype,"rowNodeSorter",2),sc([K("sortController")],Cg.prototype,"sortController",2);var yNe={version:"31.2.1",moduleName:"@ag-grid-community/csv-export",beans:[bg,Cg=sc([In("gridSerializer")],Cg)]};function oc(t,e){let n="";for(let i=0;i<e;i++)n+=String.fromCharCode(255&t),t>>>=8;return n}var Jue=t=>t.length?(t=>{if(!t.length)return 0;let e=-1,n=0,i=0,r=0;for(let s=0;s<t.length;s++)n=t[s],i=255&(e^n),r=wNe[i],e=e>>>8^r;return~e})("string"==typeof t?(new TextEncoder).encode(t):t):0,wNe=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),{utf8_encode:TNe}=qi,INe=(t,e)=>PM(void 0,null,function*(){const{content:n}=t,{size:i,content:r}=n?ede(n):{size:0,content:Uint8Array.from([])};let s,o,c=!1;if("file"===t.type&&r&&i>0){const m=yield(t=>PM(void 0,null,function*(){const e=new Blob([t]),{size:n,content:i}=yield(t=>PM(void 0,null,function*(){let e=0;const n=[],i=new WritableStream({write:o=>{n.push(o),e+=o.length}}),r=new ReadableStream({start:o=>{const c=new FileReader;c.onload=h=>{var p;null!=(p=h.target)&&p.result&&o.enqueue(h.target.result),o.close()},c.readAsArrayBuffer(t)}}),s=new window.CompressionStream("deflate-raw");return yield r.pipeThrough(s).pipeTo(i),{size:e,content:new Blob(n)}}))(e);return{size:n,content:new Uint8Array(yield i.arrayBuffer())}}))(r);s=m.content,o=m.size,c=!0}const p=Zue(t,c,e,i,r,o);return Yue(Kue({},p),{content:s||r,isCompressed:c})}),ANe=(t,e)=>{const{content:n}=t,{content:i}=n?ede(n):{content:Uint8Array.from([])},r=Zue(t,!1,e,i.length,i,void 0);return Yue(Kue({},r),{content:i,isCompressed:!1})},Zue=(t,e,n,i,r,s)=>{const{content:o,path:c,created:h}=t,p=(t=>{let e=t.getHours();return e<<=6,e|=t.getMinutes(),e<<=5,e|=t.getSeconds()/2,e})(h),m=(t=>{let e=t.getFullYear()-1980;return e<<=4,e|=t.getMonth()+1,e<<=5,e|=t.getDate(),e})(h),y=Jue(r),I=void 0!==s?s:i,L=TNe(c),U=L!==c;let X="";if(U){const Le=oc(1,1)+oc(Jue(L),4)+L;X="up"+oc(Le.length,2)+Le}const Q="\x14\0"+(U?"\0\b":"\0\0")+oc(e?8:0,2)+oc(p,2)+oc(m,2)+oc(I?y:0,4)+oc(s??i,4)+oc(i,4)+oc(L.length,2)+oc(X.length,2),pe="PK\x03\x04"+Q+L+X,Te="PK\x01\x02\x14\0"+Q+"\0\0\0\0\0\0"+(o?"\0\0\0\0":"\x10\0\0\0")+oc(n,4)+L+X;return{localFileHeader:Uint8Array.from(pe,Le=>Le.charCodeAt(0)),centralDirectoryHeader:Uint8Array.from(Te,Le=>Le.charCodeAt(0))}},ede=t=>{let e;return e="string"==typeof t?(t=>{const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e})(atob(t.split(";base64,")[1])):t,{size:e.length,content:e}},tde=class{static addFolders(t){t.forEach(this.addFolder.bind(this))}static addFolder(t){this.folders.push({path:t,created:new Date,isBase64:!1,type:"folder"})}static addFile(t,e,n=!1){this.files.push({path:t,created:new Date,content:n?e:(new TextEncoder).encode(e),isBase64:n,type:"file"})}static getZipFile(t="application/zip"){return PM(this,null,function*(){const e=yield this.buildCompressedFileStream();return this.clearStream(),new Blob([e],{type:t})})}static getUncompressedZipFile(t="application/zip"){const e=this.buildFileStream();return this.clearStream(),new Blob([e],{type:t})}static clearStream(){this.folders=[],this.files=[]}static packageFiles(t){let e=new Uint8Array(0),n=new Uint8Array(0),i=0,r=0;for(const c of t){const{localFileHeader:h,centralDirectoryHeader:p,content:m}=c,y=new Uint8Array(e.length+h.length);y.set(e),y.set(h,e.length),e=y;const I=new Uint8Array(e.length+m.length);I.set(e),I.set(m,e.length),e=I;const L=new Uint8Array(n.length+p.length);L.set(n),L.set(p,n.length),n=L,i+=h.length+m.length,r+=p.length}const s=((t,e,n)=>{const i="PK\x05\x06\0\0\0\0"+oc(t,2)+oc(t,2)+oc(e,4)+oc(n,4)+"\0\0";return Uint8Array.from(i,r=>r.charCodeAt(0))})(t.length,r,i),o=new Uint8Array(e.length+n.length+s.length);return o.set(e),o.set(n,e.length),o.set(s,e.length+n.length),o}static buildCompressedFileStream(){return PM(this,null,function*(){const t=[...this.folders,...this.files],e=[];let n=0;for(const i of t){const r=yield INe(i,n),{localFileHeader:s,content:o}=r;e.push(r),n+=s.length+o.length}return this.packageFiles(e)})}static buildFileStream(){const t=[...this.folders,...this.files],e=[];let n=0;for(const i of t){const r=ANe(i,n),{localFileHeader:s,content:o}=r;e.push(r),n+=s.length+o.length}return this.packageFiles(e)}};tde.folders=[],tde.files=[],Hr.__registerModules([tNe,aNe,yNe],!1,void 0);let nde=(()=>{class t extends kue{constructor(n){super("angular"),this._ngZone=n,this.isRunningWithinTestZone=!1,this.wrapIncoming=(i,r)=>this.runOutside(i,r),this.wrapOutgoing=i=>this.runInsideAngular(i),this.isRunningWithinTestZone=window?.AG_GRID_UNDER_TEST??!!window?.Zone?.AsyncTestZoneSpec,this.runOutside=this._ngZone?this.isRunningWithinTestZone?(i,r)=>"resize-observer"===r?this._ngZone.runOutsideAngular(i):i():i=>this._ngZone.runOutsideAngular(i):i=>i()}get shouldWrapOutgoing(){return this._ngZone&&d.SKi.isInAngularZone()}isFrameworkComponent(n){if(!n)return!1;const i=n.prototype;return i&&"agInit"in i}runInsideAngular(n){return this._ngZone?this._ngZone.run(n):n()}runOutsideAngular(n,i){return this.runOutside(n,i)}}return t.\u0275fac=function(n){return new(n||t)(d.KVO(d.SKi))},t.\u0275prov=d.jDH({token:t,factory:t.\u0275fac}),t})(),ide=(()=>{class t extends QMe{setViewContainerRef(n,i){this.viewContainerRef=n,this.angularFrameworkOverrides=i}createWrapper(n,i){let r=this.angularFrameworkOverrides,s=this,c=new class o extends xNe{init(p){r.runInsideAngular(()=>{super.init(p),this._componentRef.changeDetectorRef.detectChanges()})}createComponent(){return r.runInsideAngular(()=>s.createComponent(n))}hasMethod(p){return null!=c.getFrameworkComponentInstance()[p]}callMethod(p,m){const y=this.getFrameworkComponentInstance();return r.runInsideAngular(()=>c.getFrameworkComponentInstance()[p].apply(y,m))}addMethod(p,m){c[p]=m}};return c}createComponent(n){return this.viewContainerRef.createComponent(n)}}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=d.xGo(t)))(i||t)}})(),t.\u0275prov=d.jDH({token:t,factory:t.\u0275fac}),t})();class xNe{init(e){this._params=e,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}getRootElement(){return this._eGui.firstChild}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}let rde=(()=>{class t{constructor(n,i,r,s){this.viewContainerRef=i,this.angularFrameworkOverrides=r,this.frameworkComponentWrapper=s,this._initialised=!1,this._destroyed=!1,this._fullyReady=Fu.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.columnMenu=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipShowMode=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeHiddenColumnsFromQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.advancedFilterModel=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.enableChartToolPanelsButton=void 0,this.suppressChartToolPanelsButton=void 0,this.chartToolPanelsDef=void 0,this.chartMenuItems=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotMaxGeneratedColumns=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDuration=void 0,this.cellFlashDelay=void 0,this.cellFadeDuration=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.suppressGroupMaintainValueType=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideInfiniteScroll=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideEnableClientSideSort=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSideFilterAllLevels=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressHeaderFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new d.bkB,this.toolPanelSizeChanged=new d.bkB,this.columnMenuVisibleChanged=new d.bkB,this.cutStart=new d.bkB,this.cutEnd=new d.bkB,this.pasteStart=new d.bkB,this.pasteEnd=new d.bkB,this.columnVisible=new d.bkB,this.columnPinned=new d.bkB,this.columnResized=new d.bkB,this.columnMoved=new d.bkB,this.columnValueChanged=new d.bkB,this.columnPivotModeChanged=new d.bkB,this.columnPivotChanged=new d.bkB,this.columnGroupOpened=new d.bkB,this.newColumnsLoaded=new d.bkB,this.gridColumnsChanged=new d.bkB,this.displayedColumnsChanged=new d.bkB,this.virtualColumnsChanged=new d.bkB,this.columnEverythingChanged=new d.bkB,this.columnHeaderMouseOver=new d.bkB,this.columnHeaderMouseLeave=new d.bkB,this.columnHeaderClicked=new d.bkB,this.columnHeaderContextMenu=new d.bkB,this.componentStateChanged=new d.bkB,this.cellValueChanged=new d.bkB,this.cellEditRequest=new d.bkB,this.rowValueChanged=new d.bkB,this.cellEditingStarted=new d.bkB,this.cellEditingStopped=new d.bkB,this.rowEditingStarted=new d.bkB,this.rowEditingStopped=new d.bkB,this.undoStarted=new d.bkB,this.undoEnded=new d.bkB,this.redoStarted=new d.bkB,this.redoEnded=new d.bkB,this.rangeDeleteStart=new d.bkB,this.rangeDeleteEnd=new d.bkB,this.filterOpened=new d.bkB,this.filterChanged=new d.bkB,this.filterModified=new d.bkB,this.advancedFilterBuilderVisibleChanged=new d.bkB,this.chartCreated=new d.bkB,this.chartRangeSelectionChanged=new d.bkB,this.chartOptionsChanged=new d.bkB,this.chartDestroyed=new d.bkB,this.cellKeyDown=new d.bkB,this.gridReady=new d.bkB,this.gridPreDestroyed=new d.bkB,this.firstDataRendered=new d.bkB,this.gridSizeChanged=new d.bkB,this.modelUpdated=new d.bkB,this.virtualRowRemoved=new d.bkB,this.viewportChanged=new d.bkB,this.bodyScroll=new d.bkB,this.bodyScrollEnd=new d.bkB,this.dragStarted=new d.bkB,this.dragStopped=new d.bkB,this.stateUpdated=new d.bkB,this.paginationChanged=new d.bkB,this.rowDragEnter=new d.bkB,this.rowDragMove=new d.bkB,this.rowDragLeave=new d.bkB,this.rowDragEnd=new d.bkB,this.columnRowGroupChanged=new d.bkB,this.rowGroupOpened=new d.bkB,this.expandOrCollapseAll=new d.bkB,this.pivotMaxColumnsExceeded=new d.bkB,this.pinnedRowDataChanged=new d.bkB,this.rowDataUpdated=new d.bkB,this.asyncTransactionsFlushed=new d.bkB,this.storeRefreshed=new d.bkB,this.cellClicked=new d.bkB,this.cellDoubleClicked=new d.bkB,this.cellFocused=new d.bkB,this.cellMouseOver=new d.bkB,this.cellMouseOut=new d.bkB,this.cellMouseDown=new d.bkB,this.rowClicked=new d.bkB,this.rowDoubleClicked=new d.bkB,this.rowSelected=new d.bkB,this.selectionChanged=new d.bkB,this.cellContextMenu=new d.bkB,this.rangeSelectionChanged=new d.bkB,this.tooltipShow=new d.bkB,this.tooltipHide=new d.bkB,this.sortChanged=new d.bkB,this.columnRowGroupChangeRequest=new d.bkB,this.columnPivotChangeRequest=new d.bkB,this.columnValueChangeRequest=new d.bkB,this.columnAggFuncChangeRequest=new d.bkB,this._nativeElement=n.nativeElement}ngAfterViewInit(){this.angularFrameworkOverrides.runOutsideAngular(()=>{this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef,this.angularFrameworkOverrides);const n=GV.combineAttributesAndGridOptions(this.gridOptions,this);this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]};const i=function YMe(t,e,n){if(!e)return Rf("No gridOptions provided to createGrid"),{};const i=Fr.getCoercedGridOptions(e),r=(new zue).create(t,i,s=>{const o=new VE(t);s.createBean(o)},void 0,n);if(!Object.isFrozen(e)&&!n?.frameworkOverrides){const s="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(e,"api",{get:()=>{Rf(`gridOptions.api is no longer supported. See ${s}.`)},configurable:!0}),Object.defineProperty(e,"columnApi",{get:()=>{Rf(`gridOptions.columnApi is no longer supported and all methods moved to the grid api. See ${s}.`)},configurable:!0})}return r}(this._nativeElement,n,this.gridParams);i&&(this.api=i,this.columnApi=new kE(i));const r=this.gridPreDestroyed;(r.observed??r.observers.length>0)&&console.warn('AG Grid: gridPreDestroyed event listener registered via (gridPreDestroyed)="method($event)" will be ignored! Please assign via gridOptions.gridPreDestroyed and pass to the grid as [gridOptions]="gridOptions"'),this._initialised=!0,this._fullyReady.resolveNow(null,s=>s)})}ngOnChanges(n){this._initialised&&this.angularFrameworkOverrides.runOutsideAngular(()=>{const i={};Object.entries(n).forEach(([r,s])=>{i[r]=s.currentValue}),GV.processOnChange(i,this.api)})}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy())}isEmitterUsed(n){const r=this[n],s=r?.observed??r?.observers?.length>0,o=`on${n.charAt(0).toUpperCase()}${n.substring(1)}`;return s||!!this.gridOptions&&!!this.gridOptions[o]}globalEventListener(n,i){if(this._destroyed)return;const r=this[n];if(r&&this.isEmitterUsed(n)){const s=()=>this.angularFrameworkOverrides.runInsideAngular(()=>r.emit(i));"gridReady"===n?this._fullyReady.then(()=>s()):s()}}}return t.\u0275fac=function(n){return new(n||t)(d.rXU(d.aKT),d.rXU(d.c1b),d.rXU(nde),d.rXU(ide))},t.\u0275cmp=d.VBU({type:t,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",columnMenu:"columnMenu",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",tooltipShowMode:"tooltipShowMode",tooltipInteraction:"tooltipInteraction",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",suppressCutToClipboard:"suppressCutToClipboard",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",autoSizeStrategy:"autoSizeStrategy",components:"components",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",enterNavigatesVertically:"enterNavigatesVertically",enterNavigatesVerticallyAfterEdit:"enterNavigatesVerticallyAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeHiddenColumnsFromQuickFilter:"excludeHiddenColumnsFromQuickFilter",includeHiddenColumnsInQuickFilter:"includeHiddenColumnsInQuickFilter",quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableAdvancedFilter:"enableAdvancedFilter",advancedFilterModel:"advancedFilterModel",includeHiddenColumnsInAdvancedFilter:"includeHiddenColumnsInAdvancedFilter",advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",enableChartToolPanelsButton:"enableChartToolPanelsButton",suppressChartToolPanelsButton:"suppressChartToolPanelsButton",chartToolPanelsDef:"chartToolPanelsDef",chartMenuItems:"chartMenuItems",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotMaxGeneratedColumns:"pivotMaxGeneratedColumns",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",alwaysAggregateAtRootLevel:"alwaysAggregateAtRootLevel",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDuration:"cellFlashDuration",cellFlashDelay:"cellFlashDelay",cellFadeDuration:"cellFadeDuration",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",suppressGroupMaintainValueType:"suppressGroupMaintainValueType",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",suppressGroupRowsSticky:"suppressGroupRowsSticky",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideEnableClientSideSort:"serverSideEnableClientSideSort",serverSideOnlyRefreshFilteredGroups:"serverSideOnlyRefreshFilteredGroups",serverSideFilterAllLevels:"serverSideFilterAllLevels",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellFocus:"suppressCellFocus",suppressHeaderFocus:"suppressHeaderFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",gridId:"gridId",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",initialState:"initialState",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",columnMenuVisibleChanged:"columnMenuVisibleChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",columnHeaderMouseOver:"columnHeaderMouseOver",columnHeaderMouseLeave:"columnHeaderMouseLeave",columnHeaderClicked:"columnHeaderClicked",columnHeaderContextMenu:"columnHeaderContextMenu",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",gridPreDestroyed:"gridPreDestroyed",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pivotMaxColumnsExceeded:"pivotMaxColumnsExceeded",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},standalone:!0,features:[d.Jv_([nde,ide]),d.OA$,d.aNF],decls:0,vars:0,template:function(n,i){},encapsulation:2}),t})(),PNe=(()=>{class t{constructor(){this.fireStore=(0,d.WQX)(FI),this.auth=(0,d.WQX)(yv),this.currUserName="",this.currentTimestamp=Us.now(),this.clientService=(0,d.WQX)(TV)}get(n){var i=this;return(0,te.A)(function*(){try{return(yield Z$(NP(i.fireStore,"invoiceDetails"))).docs.map(s=>{const o=s.data();return{id:s.id,invoiceId:o.invoiceId,serviceType:o.serviceType,price:o.price,discount:o.discount,createdBy:o.createdBy,modifiedBy:o.modifiedBy,createdAt:o.createdAt,modifiedAt:o.modifiedAt}}).filter(s=>s.invoiceId===n)}catch(r){return console.error("Error getting document details: ",r),[]}})()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),MNe=(()=>{class t{save(){throw new Error("Method not implemented.")}constructor(){this.rowData=(0,d.vPA)([]),this.gridOptions={domLayout:"autoHeight",responsive:!0,rowSelection:"single"},this.selectedInvoiceId=d.hFB.required(),this.historyInvoiceDetailsService=(0,d.WQX)(PNe),this.invoiceDetails=(0,d.vPA)([]),this.colDefs=[{field:"serviceType",headerName:"Service Type",minWidth:200,flex:1,cellStyle:{display:"flex",alignItems:"center"}},{field:"price",headerName:"Price",minWidth:200,flex:1,cellStyle:{display:"flex",alignItems:"center"}},{field:"discount",headerName:"Discount",minWidth:100,flex:1,cellStyle:{display:"flex",alignItems:"center"}}],(0,d.QZP)(()=>{const n=this.selectedInvoiceId();n&&this.fetchInvoiceDetails(n)})}fetchInvoiceDetails(n){var i=this;return(0,te.A)(function*(){i.rowData.set(yield i.historyInvoiceDetailsService.get(i.selectedInvoiceId()))})()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["app-history-data-details"]],inputs:{selectedInvoiceId:[d.Mj6.SignalBased,"selectedInvoiceId"]},standalone:!0,features:[d.aNF],decls:6,vars:3,consts:[["appearance","outlined",1,"history-data-card"],[1,"ag-theme-quartz",3,"columnDefs","rowData","gridOptions"],["mat-raised-button","","color","primary",1,"mx-auto",3,"click"]],template:function(i,r){1&i&&(d.j41(0,"mat-card",0)(1,"mat-card-content"),d.nrm(2,"ag-grid-angular",1),d.k0s(),d.j41(3,"mat-card-actions")(4,"button",2),d.bIt("click",function(){return r.save()}),d.EFF(5,"Save"),d.k0s()()()),2&i&&(d.R7$(2),d.Y8G("columnDefs",r.colDefs)("rowData",r.rowData())("gridOptions",r.gridOptions))},dependencies:[Va,IV,OP,kP,FP,rde,YS,ql]})}}return t})(),NNe=(()=>{class t{constructor(){this.selectedInvoiceId=(0,d.vPA)(""),this.fireStore=(0,d.WQX)(FI),this.gridOptions={domLayout:"autoHeight",responsive:!0,rowSelection:"single",onRowSelected:n=>{n.node.selected&&this.selectedInvoiceId.set(n.data.id)}},this.auth=(0,d.WQX)(yv),this.historyInvoiceService=(0,d.WQX)(hle),this.rowData=[],this.colDefs=[{field:"clientName",headerName:"Client Name",minWidth:200,flex:1,cellStyle:{display:"flex",alignItems:"center"}},{field:"billingPeriod",headerName:"Billing Period",minWidth:200,flex:1,cellStyle:{display:"flex",alignItems:"center"}},{field:"total",headerName:"Total",minWidth:100,flex:1,cellStyle:{display:"flex",alignItems:"center"}},{field:"setteled",headerName:"Setteled",editable:!0,minWidth:100,flex:1,cellStyle:{display:"flex",alignItems:"center"}}]}ngOnInit(){this.get()}get(){var n=this;return(0,te.A)(function*(){try{n.rowData=yield n.historyInvoiceService.get()}catch(i){console.error("Error getting documents: ",i)}})()}save(){var n=this;return(0,te.A)(function*(){try{yield n.historyInvoiceService.save(n.rowData)}catch(i){console.error("Error updating invoices:",i)}})()}import(){this.historyInvoiceService.import()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["app-history-data"]],standalone:!0,features:[d.aNF],decls:12,vars:4,consts:[[1,"card-container"],["appearance","outlined",1,"history-data-card"],[1,"ag-theme-quartz",3,"columnDefs","rowData","gridOptions"],[1,"flex","w-full","justify-center","gap-4"],["mat-raised-button","","color","primary",3,"click"],[1,"mt-6"],[3,"selectedInvoiceId"]],template:function(i,r){1&i&&(d.j41(0,"div",0)(1,"mat-card",1)(2,"mat-card-content"),d.nrm(3,"ag-grid-angular",2),d.k0s(),d.j41(4,"mat-card-actions")(5,"div",3)(6,"button",4),d.bIt("click",function(){return r.save()}),d.EFF(7,"Save"),d.k0s(),d.j41(8,"button",4),d.bIt("click",function(){return r.get()}),d.EFF(9,"Refresh"),d.k0s()()()(),d.j41(10,"div",5),d.nrm(11,"app-history-data-details",6),d.k0s()()),2&i&&(d.R7$(3),d.Y8G("columnDefs",r.colDefs)("rowData",r.rowData)("gridOptions",r.gridOptions),d.R7$(8),d.Y8G("selectedInvoiceId",r.selectedInvoiceId()))},dependencies:[IV,OP,kP,FP,rde,ql,MNe]})}}return t})();const ONe=[{path:"",component:ZRe},{path:"invoice",component:gle,canActivate:[mle]},{path:"home",component:(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["app-home"]],standalone:!0,features:[d.aNF],decls:5,vars:0,consts:[["label","New"],["label","History"]],template:function(i,r){1&i&&(d.j41(0,"mat-tab-group")(1,"mat-tab",0),d.nrm(2,"app-invoice"),d.k0s(),d.j41(3,"mat-tab",1),d.nrm(4,"app-history-data"),d.k0s()())},dependencies:[Fxe,yle,Nxe,gle,NNe]})}}return t})(),canActivate:[mle]},{path:"**",redirectTo:"",pathMatch:"full"}];let kNe=(()=>{class t{constructor(n,i,r,s,o){this.doc=n,this.delegate=i,this.zone=r,this.animationType=s,this.moduleImpl=o,this._rendererFactoryPromise=null,this.scheduler=(0,d.WQX)(d.An2,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??Kt.e(8).then(Kt.bind(Kt,8008))).catch(i=>{throw new d.wOt(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:r})=>{this._engine=i(this.animationType,this.doc,this.scheduler);const s=new r(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(n,i){const r=this.delegate.createRenderer(n,i);if(0===r.\u0275type)return r;"boolean"==typeof r.throwOnSyntheticProps&&(r.throwOnSyntheticProps=!1);const s=new LNe(r);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(o=>{const c=o.createRenderer(n,i);s.use(c)}).catch(o=>{s.use(r)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(i){d.QTQ()}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac})}}return t})();class LNe{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,null!==this.replay){for(const n of this.replay)n(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,n){this.delegate.appendChild(e,n)}insertBefore(e,n,i,r){this.delegate.insertBefore(e,n,i,r)}removeChild(e,n,i){this.delegate.removeChild(e,n,i)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){this.shouldReplay(n)&&this.replay.push(r=>r.setProperty(e,n,i)),this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.shouldReplay(n)&&this.replay.push(r=>r.listen(e,n,i)),this.delegate.listen(e,n,i)}shouldReplay(e){return null!==this.replay&&e.startsWith("@")}}let GNe=(()=>{class t{http;prefix;suffix;constructor(n,i="/assets/i18n/",r=".json"){this.http=n,this.prefix=i,this.suffix=r}getTranslation(n){return this.http.get(`${this.prefix}${n}${this.suffix}`)}static \u0275fac=function(i){return new(i||t)(d.KVO(nw),d.KVO(String),d.KVO(String))};static \u0275prov=d.jDH({token:t,factory:t.\u0275fac})}return t})();const sde="@firebase/installations",jq="0.6.9",ode=1e4,ade=`w:${jq}`,lde="FIS_v2",UNe="https://firebaseinstallations.googleapis.com/v1",WNe=36e5,Vv=new hd("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function cde(t){return t instanceof bl&&t.code.includes("request-failed")}function $q({projectId:t}){return`${UNe}/projects/${t}/installations`}function ude(t){return{token:t.token,requestStatus:2,expiresIn:qNe(t.expiresIn),creationTime:Date.now()}}function qq(t,e){return Kq.apply(this,arguments)}function Kq(){return Kq=(0,te.A)(function*(t,e){const i=(yield e.json()).error;return Vv.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}),Kq.apply(this,arguments)}function dde({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Yq(t){return Xq.apply(this,arguments)}function Xq(){return Xq=(0,te.A)(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),Xq.apply(this,arguments)}function qNe(t){return Number(t.replace("s","000"))}function Qq(){return Qq=(0,te.A)(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=$q(t),r=dde(t),s=e.getImmediate({optional:!0});if(s){const p=yield s.getHeartbeatsHeader();p&&r.append("x-firebase-client",p)}const c={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:lde,appId:t.appId,sdkVersion:ade})},h=yield Yq(()=>fetch(i,c));if(h.ok){const p=yield h.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:ude(p.authToken)}}throw yield qq("Create Installation",h)}),Qq.apply(this,arguments)}function fde(t){return new Promise(e=>{setTimeout(e,t)})}const QNe=/^[cdef][\w-]{21}$/,Jq="";function JNe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function ZNe(t){return function XNe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return QNe.test(n)?n:Jq}catch{return Jq}}function gA(t){return`${t.appName}!${t.appId}`}const mA=new Map;function pde(t,e){const n=gA(t);gde(n,e),function nOe(t,e){const n=function mde(){return!jE&&"BroadcastChannel"in self&&(jE=new BroadcastChannel("[Firebase] FID Change"),jE.onmessage=t=>{gde(t.data.key,t.data.fid)}),jE}();n&&n.postMessage({key:t,fid:e}),function vde(){0===mA.size&&jE&&(jE.close(),jE=null)}()}(n,e)}function gde(t,e){const n=mA.get(t);if(n)for(const i of n)i(e)}let jE=null;const iOe="firebase-installations-database",rOe=1,$E="firebase-installations-store";let Zq=null;function eK(){return Zq||(Zq=Ow(iOe,rOe,{upgrade:(t,e)=>{0===e&&t.createObjectStore($E)}})),Zq}function R5(t,e){return tK.apply(this,arguments)}function tK(){return tK=(0,te.A)(function*(t,e){const n=gA(t),r=(yield eK()).transaction($E,"readwrite"),s=r.objectStore($E),o=yield s.get(n);return yield s.put(e,n),yield r.done,(!o||o.fid!==e.fid)&&pde(t,e.fid),e}),tK.apply(this,arguments)}function nK(t){return iK.apply(this,arguments)}function iK(){return iK=(0,te.A)(function*(t){const e=gA(t),i=(yield eK()).transaction($E,"readwrite");yield i.objectStore($E).delete(e),yield i.done}),iK.apply(this,arguments)}function MM(t,e){return rK.apply(this,arguments)}function rK(){return rK=(0,te.A)(function*(t,e){const n=gA(t),r=(yield eK()).transaction($E,"readwrite"),s=r.objectStore($E),o=yield s.get(n),c=e(o);return void 0===c?yield s.delete(n):yield s.put(c,n),yield r.done,c&&(!o||o.fid!==c.fid)&&pde(t,c.fid),c}),rK.apply(this,arguments)}function sK(t){return oK.apply(this,arguments)}function oK(){return oK=(0,te.A)(function*(t){let e;const n=yield MM(t.appConfig,i=>{const r=function sOe(t){return yde(t||{fid:JNe(),registrationStatus:0})}(i),s=function oOe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Vv.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function aOe(t,e){return aK.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:lOe(t)}:{installationEntry:e}}(t,r);return e=s.registrationPromise,s.installationEntry});return n.fid===Jq?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),oK.apply(this,arguments)}function aK(){return aK=(0,te.A)(function*(t,e){try{const n=yield function YNe(t,e){return Qq.apply(this,arguments)}(t,e);return R5(t.appConfig,n)}catch(n){throw cde(n)&&409===n.customData.serverCode?yield nK(t.appConfig):yield R5(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),aK.apply(this,arguments)}function lOe(t){return lK.apply(this,arguments)}function lK(){return lK=(0,te.A)(function*(t){let e=yield _de(t.appConfig);for(;1===e.registrationStatus;)yield fde(100),e=yield _de(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:i}=yield sK(t);return i||n}return e}),lK.apply(this,arguments)}function _de(t){return MM(t,e=>{if(!e)throw Vv.create("installation-not-found");return yde(e)})}function yde(t){return function cOe(t){return 1===t.registrationStatus&&t.registrationTime+ode<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function cK(){return cK=(0,te.A)(function*({appConfig:t,heartbeatServiceProvider:e},n){const i=function dOe(t,{fid:e}){return`${$q(t)}/${e}/authTokens:generate`}(t,n),r=function hde(t,{refreshToken:e}){const n=dde(t);return n.append("Authorization",function KNe(t){return`${lde} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const p=yield s.getHeartbeatsHeader();p&&r.append("x-firebase-client",p)}const c={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:ade,appId:t.appId}})},h=yield Yq(()=>fetch(i,c));if(h.ok)return ude(yield h.json());throw yield qq("Generate Auth Token",h)}),cK.apply(this,arguments)}function uK(t){return dK.apply(this,arguments)}function dK(){return dK=(0,te.A)(function*(t,e=!1){let n;const i=yield MM(t.appConfig,s=>{if(!Cde(s))throw Vv.create("not-registered");const o=s.authToken;if(!e&&function pOe(t){return 2===t.requestStatus&&!function gOe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+WNe}(t)}(o))return s;if(1===o.requestStatus)return n=function hOe(t,e){return hK.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Vv.create("app-offline");const c=function mOe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function fOe(t,e){return fK.apply(this,arguments)}(t,c),c}});return n?yield n:i.authToken}),dK.apply(this,arguments)}function hK(){return hK=(0,te.A)(function*(t,e){let n=yield bde(t.appConfig);for(;1===n.authToken.requestStatus;)yield fde(100),n=yield bde(t.appConfig);const i=n.authToken;return 0===i.requestStatus?uK(t,e):i}),hK.apply(this,arguments)}function bde(t){return MM(t,e=>{if(!Cde(e))throw Vv.create("not-registered");return function vOe(t){return 1===t.requestStatus&&t.requestTime+ode<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function fK(){return fK=(0,te.A)(function*(t,e){try{const n=yield function uOe(t,e){return cK.apply(this,arguments)}(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return yield R5(t.appConfig,i),n}catch(n){if(!cde(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield R5(t.appConfig,i)}else yield nK(t.appConfig);throw n}}),fK.apply(this,arguments)}function Cde(t){return void 0!==t&&2===t.registrationStatus}function pK(){return pK=(0,te.A)(function*(t){const e=t,{installationEntry:n,registrationPromise:i}=yield sK(e);return i?i.catch(console.error):uK(e).catch(console.error),n.fid}),pK.apply(this,arguments)}function gK(){return gK=(0,te.A)(function*(t,e=!1){const n=t;return yield function bOe(t){return mK.apply(this,arguments)}(n),(yield uK(n,e)).token}),gK.apply(this,arguments)}function mK(){return mK=(0,te.A)(function*(t){const{registrationPromise:e}=yield sK(t);e&&(yield e)}),mK.apply(this,arguments)}function yK(t){return Vv.create("missing-app-config-values",{valueName:t})}const wde="installations",TOe=t=>{const e=t.getProvider("app").getImmediate(),n=function EOe(t){if(!t||!t.options)throw yK("App Configuration");if(!t.name)throw yK("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw yK(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Iu(e,"heartbeat"),_delete:()=>Promise.resolve()}},IOe=t=>{const n=Iu(t.getProvider("app").getImmediate(),wde).getImmediate();return{getId:()=>function _Oe(t){return pK.apply(this,arguments)}(n),getToken:r=>function yOe(t){return gK.apply(this,arguments)}(n,r)}};(function AOe(){Cl(new fa(wde,TOe,"PUBLIC")),Cl(new fa("installations-internal",IOe,"PRIVATE"))})(),tr(sde,jq),tr(sde,jq,"esm2017");const x5="analytics",DOe="firebase_id",ROe="origin",xOe=6e4,POe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bK="https://www.googletagmanager.com/gtag/js",nl=new v("@firebase/analytics"),Yc=new hd("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function NOe(t){if(!t.startsWith(bK)){const e=Yc.create("invalid-gtag-resource",{gtagURL:t});return nl.warn(e.message),""}return t}function Ede(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function CK(){return CK=(0,te.A)(function*(t,e,n,i,r,s){const o=i[r];try{if(o)yield e[o];else{const h=(yield Ede(n)).find(p=>p.measurementId===r);h&&(yield e[h.appId])}}catch(c){nl.error(c)}t("config",r,s)}),CK.apply(this,arguments)}function wK(){return wK=(0,te.A)(function*(t,e,n,i,r){try{let s=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const c=yield Ede(n);for(const h of o){const p=c.find(y=>y.measurementId===h),m=p&&e[p.appId];if(!m){s=[];break}s.push(m)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",i,r||{})}catch(s){nl.error(s)}}),wK.apply(this,arguments)}const UOe=30,Sde=new class zOe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function jOe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function EK(){return EK=(0,te.A)(function*(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:jOe(i)},s=POe.replace("{app-id}",n),o=yield fetch(s,r);if(200!==o.status&&304!==o.status){let c="";try{const h=yield o.json();null!==(e=h.error)&&void 0!==e&&e.message&&(c=h.error.message)}catch{}throw Yc.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()}),EK.apply(this,arguments)}function SK(){return SK=(0,te.A)(function*(t,e=Sde,n){const{appId:i,apiKey:r,measurementId:s}=t.options;if(!i)throw Yc.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw Yc.create("no-api-key")}const o=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new XOe;return setTimeout((0,te.A)(function*(){c.abort()}),void 0!==n?n:xOe),Tde({appId:i,apiKey:r,measurementId:s},o,c,e)}),SK.apply(this,arguments)}function Tde(t,e,n){return TK.apply(this,arguments)}function TK(){return TK=(0,te.A)(function*(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=Sde){var s;const{appId:o,measurementId:c}=t;try{yield function KOe(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(s),i(Yc.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(i,e)}catch(h){if(c)return nl.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:o,measurementId:c};throw h}try{const h=yield function $Oe(t){return EK.apply(this,arguments)}(t);return r.deleteThrottleMetadata(o),h}catch(h){const p=h;if(!function YOe(t){if(!(t instanceof bl&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(p)){if(r.deleteThrottleMetadata(o),c)return nl.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:o,measurementId:c};throw h}const m=503===Number(null===(s=p?.customData)||void 0===s?void 0:s.httpStatus)?Bk(n,r.intervalMillis,UOe):Bk(n,r.intervalMillis),y={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return r.setThrottleMetadata(o,y),nl.debug(`Calling attemptFetch again in ${m} millis`),Tde(t,y,i,r)}}),TK.apply(this,arguments)}class XOe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let IK,NK;function AK(){return AK=(0,te.A)(function*(t,e,n,i,r){if(r&&r.global)t("event",n,i);else{const s=yield e;t("event",n,Object.assign(Object.assign({},i),{send_to:s}))}}),AK.apply(this,arguments)}function RK(){return RK=(0,te.A)(function*(t,e,n,i){if(i&&i.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})}),RK.apply(this,arguments)}function OK(){return OK=(0,te.A)(function*(){if(!eg())return nl.warn(Yc.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield py()}catch(t){return nl.warn(Yc.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0}),OK.apply(this,arguments)}function FK(){return FK=(0,te.A)(function*(t,e,n,i,r,s,o){var c;const h=function qOe(t){return SK.apply(this,arguments)}(t);h.then(L=>{n[L.measurementId]=L.appId,t.options.measurementId&&L.measurementId!==t.options.measurementId&&nl.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${L.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(L=>nl.error(L)),e.push(h);const p=function iFe(){return OK.apply(this,arguments)}().then(L=>{if(L)return i.getId()}),[m,y]=yield Promise.all([h,p]);(function HOe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(bK)&&n.src.includes(t))return n;return null})(s)||function FOe(t,e){const n=function OOe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:NOe}),i=document.createElement("script"),r=`${bK}?l=${t}&id=${e}`;i.src=n?n?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}(s,m.measurementId),NK&&(r("consent","default",NK),function Ide(t){NK=t}(void 0)),r("js",new Date);const I=null!==(c=o?.config)&&void 0!==c?c:{};return I[ROe]="firebase",I.update=!0,null!=y&&(I[DOe]=y),r("config",m.measurementId,I),IK&&(r("set",IK),function Ade(t){IK=t}(void 0)),m.measurementId}),FK.apply(this,arguments)}class sFe{constructor(e){this.app=e}_delete(){return delete wg[this.app.options.appId],Promise.resolve()}}let wg={},Dde=[];const Rde={};let Pde,Eg,P5="dataLayer",kK=!1;function aFe(t,e,n){!function oFe(){const t=[];if(t1()&&t.push("This is a browser extension environment."),n1()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=Yc.create("invalid-analytics-context",{errorInfo:e});nl.warn(n.message)}}();const i=t.options.appId;if(!i)throw Yc.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Yc.create("no-api-key");nl.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=wg[i])throw Yc.create("already-exists",{id:i});if(!kK){!function kOe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(P5);const{wrappedGtag:s,gtagCore:o}=function BOe(t,e,n,i,r){let s=function(...o){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(s=window[r]),window[r]=function GOe(t,e,n,i){function s(){return s=(0,te.A)(function*(o,...c){try{if("event"===o){const[h,p]=c;yield function VOe(t,e,n,i,r){return wK.apply(this,arguments)}(t,e,n,h,p)}else if("config"===o){const[h,p]=c;yield function LOe(t,e,n,i,r,s){return CK.apply(this,arguments)}(t,e,n,i,h,p)}else if("consent"===o){const[h,p]=c;t("consent",h,p)}else if("get"===o){const[h,p,m]=c;t("get",h,p,m)}else if("set"===o){const[h]=c;t("set",h)}else t(o,...c)}catch(h){nl.error(h)}}),s.apply(this,arguments)}return function r(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[r]}}(wg,Dde,Rde,P5,"gtag");Eg=s,Pde=o,kK=!0}return wg[i]=function rFe(t,e,n,i,r,s,o){return FK.apply(this,arguments)}(t,Dde,Rde,e,Pde,P5,n),new sFe(t)}function lFe(t=ng()){const e=Iu(t=Mr(t),x5);return e.isInitialized()?e.getImmediate():function cFe(t,e={}){const n=Iu(t,x5);if(n.isInitialized()){const r=n.getImmediate();if(tv(e,n.getOptions()))return r;throw Yc.create("already-initialized")}return n.initialize({options:e})}(t)}function uFe(){return LK.apply(this,arguments)}function LK(){return(LK=(0,te.A)(function*(){if(t1()||!n1()||!eg())return!1;try{return yield py()}catch{return!1}})).apply(this,arguments)}function dFe(t,e,n){t=Mr(t),function ZOe(t,e,n,i){return RK.apply(this,arguments)}(Eg,wg[t.app.options.appId],e,n).catch(i=>nl.error(i))}function Mde(t,e,n,i){t=Mr(t),function QOe(t,e,n,i,r){return AK.apply(this,arguments)}(Eg,wg[t.app.options.appId],e,n,i).catch(r=>nl.error(r))}const Nde="@firebase/analytics";!function hFe(){Cl(new fa(x5,(e,{options:n})=>aFe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Cl(new fa("analytics-internal",function t(e){try{const n=e.getProvider(x5).getImmediate();return{logEvent:(i,r,s)=>Mde(n,i,r,s)}}catch(n){throw Yc.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),tr(Nde,"0.10.8"),tr(Nde,"0.10.8","esm2017")}();class NM{constructor(e){return e}}const GK="__angularfire_symbol__analyticsIsSupportedValue",kde="__angularfire_symbol__analyticsIsSupported";globalThis[kde]||=uFe().then(t=>globalThis[GK]=t).catch(()=>globalThis[GK]=!1);const M5={async:()=>globalThis[kde],sync:()=>{const t=globalThis[GK];if(void 0===t)throw new Error(Y6("Analytics"));return t}},Lde=M5.async,pFe=Po(lFe,!0),gFe=Po(Mde,!0),mFe=Po(dFe,!0);let Vde=(()=>{class t{initialized;disposables=[];constructor(n,i,r){let s;tr("angularfire",Au.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(o=>{s=o})),Lde().then(()=>{const o=r.get(NM);o?this.disposables=[TTe(n).subscribe(c=>{mFe(o,c?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(n=>n.unsubscribe())}static \u0275fac=function(i){return new(i||t)(d.KVO(yv),d.KVO(d.SKi),d.KVO(d.zZn))};static \u0275prov=d.jDH({token:t,factory:t.\u0275fac})}return t})();const Gde="firebase_screen_id",BK="outlet",OM="screen_class",Bde="screen_name";let DFe=Math.floor(Math.random()*(2**32-1))-2**31;const HK={},RFe=t=>{const e=[t[OM],t[BK]].join("#");if(HK.hasOwnProperty(e))return HK[e];{const n=DFe++;return HK[e]=n,n}},xFe=(t,e,n)=>t.events.pipe(St(r=>r instanceof W0)).pipe(ve(r=>{const o=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,I=>I.replace("://",":///"))).root.children[r.snapshot.outlet]?.toString()||"",c=t.routerState.root.children.map(I=>I).find(I=>I.outlet===r.snapshot.outlet);if(!c)return On(null);let h=c;for(;h.firstChild;)h=h.firstChild;const p=h.pathFromRoot.map(I=>I.routeConfig?.path).filter(I=>I).join("/")||"/",m={[Bde]:p,page_path:`/${o}`,firebase_event_origin:"auto",firebase_screen:p,[BK]:r.snapshot.outlet};e&&(m.page_title=e.getTitle());let y=c.component;if(y){if(y===dt){let I=r.snapshot;for(;I.firstChild;)I=I.firstChild;y=I.component}}else y=r.snapshot.component;if("string"==typeof y)return On({...m,[OM]:y});if(y){const I=n.resolveComponentFactory(y);return On({...m,[OM]:I.selector})}return On(null)}),St(r=>!!r),(0,ei.T)(r=>({firebase_screen_class:r[OM],[Gde]:RFe(r),...r})),function BNe(t,e,n,i){return(0,Or.N)((r,s)=>{let o;e&&"function"!=typeof e?({duration:n,element:o,connector:i}=e):o=e;const c=new Map,h=U=>{c.forEach(U),U(s)},p=U=>h(X=>X.error(U));let m=0,y=!1;const I=new Oi.H(s,U=>{try{const X=t(U);let Q=c.get(X);if(!Q){c.set(X,Q=i?i():new q.B);const pe=function L(U,X){const Q=new Ln.c(pe=>{m++;const Te=X.subscribe(pe);return()=>{Te.unsubscribe(),0==--m&&y&&I.unsubscribe()}});return Q.key=U,Q}(X,Q);if(s.next(pe),n){const Te=(0,Oi._)(Q,()=>{Q.complete(),Te?.unsubscribe()},void 0,void 0,()=>c.delete(X));I.add(bo(n(pe)).subscribe(Te))}}Q.next(o?o(U):U)}catch(X){p(X)}},()=>h(U=>U.complete()),p,()=>c.clear(),()=>(y=!0,0===m));r.subscribe(I)})}(r=>r[BK]),xr(r=>r.pipe(PS((s,o)=>JSON.stringify(s)===JSON.stringify(o)),it(void 0),function HNe(){return(0,Or.N)((t,e)=>{let n,i=!1;t.subscribe((0,Oi._)(e,r=>{const s=n;n=r,i&&e.next([s,r]),i=!0}))})}(),(0,ei.T)(([s,o])=>s?{firebase_previous_class:s[OM],firebase_previous_screen:s[Bde],firebase_previous_id:s[Gde],...o}:o))));let PFe=(()=>{class t{disposable;constructor(n,i,r,s,o,c){tr("angularfire",Au.full,"screen-tracking"),Lde().then(()=>{const h=c.get(NM);!n||!h||s.runOutsideAngular(()=>{this.disposable=xFe(n,i,r).pipe(ve(function(){var p=(0,te.A)(function*(m){return o&&(yield o.initialized),gFe(h,"screen_view",m)});return function(m){return p.apply(this,arguments)}}())).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}static \u0275fac=function(i){return new(i||t)(d.KVO(Gc,8),d.KVO(jn,8),d.KVO(d.OM3),d.KVO(d.SKi),d.KVO(Vde,8),d.KVO(d.zZn))};static \u0275prov=d.jDH({token:t,factory:t.\u0275fac})}return t})();const UK=new d.nKC("angularfire2.analytics-instances");function NFe(t){return(e,n)=>{if(!M5.sync())return null;const i=e.runOutsideAngular(()=>t(n));return new NM(i)}}const OFe={provide:class fFe{constructor(){return Tf("analytics")}},deps:[[new d.Xx1,UK]]},FFe={provide:NM,useFactory:function MFe(t,e){if(!M5.sync())return null;const n=ig("analytics",t,e);return n&&new NM(n)},deps:[[new d.Xx1,UK],fd]},Hde="@firebase/database";let WK="";class LFe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ma(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:MT(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class VFe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return uh(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const zde=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new LFe(e)}}catch{}return new VFe},qE=zde("localStorage"),zK=zde("sessionStorage"),vA=new v("@firebase/database"),jde=function(){let t=1;return function(){return t++}}(),$de=function(t){const e=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,xn(i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(s<<10)+(t.charCodeAt(i)-56320)}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e}(t),n=new Vk;n.update(e);const i=n.digest();return Qx.encodeByteArray(i)},FM=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=FM.apply(null,i):e+="object"==typeof i?Ma(i):i,e+=" "}return e};let KE=null,qde=!0;const il=function(...t){if(!0===qde&&(qde=!1,null===KE&&!0===zK.get("logging_enabled")&&function(t,e){xn(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(vA.logLevel=a.VERBOSE,KE=vA.log.bind(vA),e&&zK.set("logging_enabled",!0)):"function"==typeof t?KE=t:(KE=null,zK.remove("logging_enabled"))}(!0)),KE){const e=FM.apply(null,t);KE(e)}},kM=function(t){return function(...e){il(t,...e)}},jK=function(...t){const e="FIREBASE INTERNAL ERROR: "+FM(...t);vA.error(e)},Sg=function(...t){const e=`FIREBASE FATAL ERROR: ${FM(...t)}`;throw vA.error(e),new Error(e)},ac=function(...t){const e="FIREBASE WARNING: "+FM(...t);vA.warn(e)},N5=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Zy="[MIN_NAME]",Gv="[MAX_NAME]",YE=function(t,e){if(t===e)return 0;if(t===Zy||e===Gv)return-1;if(e===Zy||t===Gv)return 1;{const n=Qde(t),i=Qde(e);return null!==n?null!==i?n-i==0?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1}},HFe=function(t,e){return t===e?0:t<e?-1:1},LM=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ma(e))},$K=function(t){if("object"!=typeof t||null===t)return Ma(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)0!==i&&(n+=","),n+=Ma(e[i]),n+=":",n+=$K(t[e[i]]);return n+="}",n},Yde=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)i.push(t.substring(r,r+e>n?n:r+e));return i};function rl(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Xde=function(t){xn(!N5(t),"Invalid JSON number");const i=1023;let r,s,o,c,h;0===t?(s=0,o=0,r=1/t==-1/0?1:0):(r=t<0,(t=Math.abs(t))>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),i),s=c+i,o=Math.round(t*Math.pow(2,52-c)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const p=[];for(h=52;h;h-=1)p.push(o%2?1:0),o=Math.floor(o/2);for(h=11;h;h-=1)p.push(s%2?1:0),s=Math.floor(s/2);p.push(r?1:0),p.reverse();const m=p.join("");let y="";for(h=0;h<64;h+=8){let I=parseInt(m.substr(h,8),2).toString(16);1===I.length&&(I="0"+I),y+=I}return y.toLowerCase()},jFe=new RegExp("^-?(0*)\\d{1,10}$"),Qde=function(t){if(jFe.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},_A=function(t){try{t()}catch(e){setTimeout(()=>{throw ac("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},VM=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class YFe{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){ac(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class XFe{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(il("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ac(e)}}let GM=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const nhe=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ohe="long_polling";class KK{constructor(e,n,i,r,s=!1,o="",c=!1,h=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=qE.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&qE.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function ahe(t,e,n){let i;if(xn("string"==typeof e,"typeof type must == string"),xn("object"==typeof n,"typeof params must == object"),"websocket"===e)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==ohe)throw new Error("Unknown connection type: "+e);i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function QFe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const r=[];return rl(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}class JFe{constructor(){this.counters_={}}incrementCounter(e,n=1){uh(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Pk(this.counters_)}}const YK={},XK={};function QK(t){const e=t.toString();return YK[e]||(YK[e]=new JFe),YK[e]}class e2e{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&_A(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class eb{constructor(e,n,i,r,s,o,c){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=kM(e),this.stats_=QK(n),this.urlFn=h=>(this.appCheckToken&&(h.ac=this.appCheckToken),ahe(n,ohe,h))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new e2e(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new JK((...s)=>{const[o,c,h,p,m]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=c,this.password=h;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&nhe.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){eb.forceAllow_=!0}static forceDisallow(){eb.forceDisallow_=!0}static isAvailable(){return!(!eb.forceAllow_&&(eb.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ma(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Dw(n),r=Yde(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ma(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class JK{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=jde(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=JK.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){il("frame writing exception"),c.stack&&il(c.stack),il(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||il("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const o=this.pendingSegs.shift();i=i+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return n+=i,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{il("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let F5=null;typeof MozWebSocket<"u"?F5=MozWebSocket:typeof WebSocket<"u"&&(F5=WebSocket);let yA=(()=>{class t{constructor(n,i,r,s,o,c,h){this.connId=n,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=kM(this.connId),this.stats_=QK(i),this.connURL=t.connectionURL_(i,c,h,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,r,s,o){const c={v:"5"};return typeof location<"u"&&location.hostname&&nhe.test(location.hostname)&&(c.r="f"),i&&(c.s=i),r&&(c.ls=r),s&&(c.ac=s),o&&(c.p=o),ahe(n,"websocket",c)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,qE.set("previous_websocket_failure",!0);try{let r;0,this.mySock=new F5(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&null!==F5&&!t.forceDisallow_}static previouslyFailed(){return qE.isInMemoryStorage||!0===qE.get("previous_websocket_failure")}markConnectionHealthy(){qE.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=MT(i);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(xn(null===this.frames,"We already have a frame buffer"),n.length<=6){const i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const i=Ma(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Yde(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),phe=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[eb,yA]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const i=yA&&yA.isAvailable();let r=i&&!yA.previouslyFailed();if(n.webSocketOnly&&(i||ac("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[yA];else{const s=this.transports_=[];for(const o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class Che{constructor(e,n,i,r,s,o,c,h,p,m){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=h,this.onKill_=p,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=kM("c:"+this.id+":"),this.transportManager_=new phe(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=VM(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=LM("t",e),i=LM("d",e);if("c"===n)this.onSecondaryControl_(i);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=LM("t",e),i=LM("d",e);"c"===n?this.onControl_(i):"d"===n&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=LM("t",e);if("d"in e){const i=e.d;if("h"===n){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(i):"r"===n?this.onReset_(i):"e"===n?jK("Server Error: "+i):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):jK("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==i&&ac("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),VM(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):VM(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(qE.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class whe{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}class Ehe{constructor(e){this.allowedEvents_=e,this.listeners_={},xn(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){xn(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class k5 extends Ehe{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Nk()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new k5}getInitialEvent(e){return xn("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class is{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ur(){return new is("")}function sr(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function tb(t){return t.pieces_.length-t.pieceNum_}function ys(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new is(t.pieces_,e)}function eY(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function BM(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Ihe(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new is(e,0)}function po(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof is)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new is(n,0)}function or(t){return t.pieceNum_>=t.pieces_.length}function Xc(t,e){const n=sr(t),i=sr(e);if(null===n)return e;if(n===i)return Xc(ys(t),ys(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function tY(t,e){if(tb(t)!==tb(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Ih(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(tb(t)>tb(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class E2e{constructor(e,n){this.errorPrefix_=n,this.parts_=BM(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=a1(this.parts_[i]);Ahe(this)}}function Ahe(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+XE(t))}function XE(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class nY extends Ehe{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new nY}getInitialEvent(e){return xn("visible"===e,"Unknown event type: "+e),[this.visible_]}}const HM=1e3;let V5,QE=(()=>{class t extends whe{constructor(n,i,r,s,o,c,h,p){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=t.nextPersistentConnectionId_++,this.log_=kM("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=HM,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nY.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&k5.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,r){const s=++this.requestNumber_,o={r:s,a:n,b:i};this.log_(Ma(o)),xn(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(n){this.initConnection_();const i=new e1,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:c=>{const h=c.d;"ok"===c.s?i.resolve(h):i.reject(h)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(n,i,r,s){this.initConnection_();const o=n._queryIdentifier,c=n._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),xn(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),xn(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const h={onComplete:s,hashFn:i,query:n,tag:r};this.listens.get(c).set(o,h),this.connected_&&this.sendListen_(h)}sendGet_(n){const i=this.outstandingGets_[n];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(n){const i=n.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r};n.tag&&(o.q=i._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,h=>{const p=h.d,m=h.s;t.warnOnListenWarnings_(p,i),(this.listens.get(r)&&this.listens.get(r).get(s))===n&&(this.log_("listen response",h),"ok"!==m&&this.removeListen_(r,s),n.onComplete&&n.onComplete(m,p))})}static warnOnListenWarnings_(n,i){if(n&&"object"==typeof n&&uh(n,"w")){const r=gy(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();ac(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=r1(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,i=function(t){const n=r1(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",r={cred:n};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const o=s.s,c=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const i=n.s,r=n.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(n,i){const r=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),xn(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,n._queryObject,i)}sendUnlisten_(n,i,r,s){this.log_("Unlisten on "+n+" for "+i);const o={p:n};s&&(o.q=r,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:r})}onDisconnectMerge(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:r})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,r,s){const o={p:i,d:r};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,c=>{s&&setTimeout(()=>{s(c.s,c.d)},Math.floor(0))})}put(n,i,r,s){this.putInternal("p",n,i,r,s)}merge(n,i,r,s){this.putInternal("m",n,i,r,s)}putInternal(n,i,r,s,o){this.initConnection_();const c={p:i,d:r};void 0!==o&&(c.h=o),this.outstandingPuts_.push({action:n,request:c,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(n){const i=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,r,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ma(n));const i=n.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),"d"===n?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===n?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===n?this.onListenRevoked_(i.p,i.q):"ac"===n?this.onAuthRevoked_(i.s,i.d):"apc"===n?this.onAppCheckRevoked_(i.s,i.d):"sd"===n?this.onSecurityDebugPacket_(i):jK("Unrecognized action received from server: "+Ma(n)+"\nAre you using the latest client?")}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){xn(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=HM,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=HM,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=HM),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,te.A)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const i=n.onDataMessage_.bind(n),r=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,c=n.lastSessionId;let h=!1,p=null;const m=function(){p?p.close():(h=!0,s())};n.realtime_={close:m,sendRequest:function(L){xn(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(L)}};const I=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[L,U]=yield Promise.all([n.authTokenProvider_.getToken(I),n.appCheckTokenProvider_.getToken(I)]);h?il("getToken() completed but was canceled"):(il("getToken() completed. Creating connection."),n.authToken_=L&&L.accessToken,n.appCheckToken_=U&&U.token,p=new Che(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,i,r,s,X=>{ac(X+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},c))}catch(L){n.log_("Failed to get token: "+L),h||(n.repoInfo_.nodeAdmin&&ac(L),m())}}})()}interrupt(n){il("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){il("Resuming connection for reason: "+n),delete this.interruptReasons_[n],NT(this.interruptReasons_)&&(this.reconnectDelay_=HM,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const i=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let r;r=i?i.map(o=>$K(o)).join("$"):"default";const s=this.removeListen_(n,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,i){const r=new is(n).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(i),o.delete(i),0===o.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(n,i){il("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){il("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let i="js";n["sdk."+i+"."+WK.replace(/\./g,"-")]=1,Nk()?n["framework.cordova"]=1:O6()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=k5.getInstance().currentlyOnline();return NT(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class ur{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ur(e,n)}}class L5{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new ur(Zy,e),r=new ur(Zy,n);return 0!==this.compare(i,r)}minPost(){return ur.MIN}}class xhe extends L5{static get __EMPTY_NODE(){return V5}static set __EMPTY_NODE(e){V5=e}compare(e,n){return YE(e.name,n.name)}isDefinedOn(e){throw fy("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ur.MIN}maxPost(){return new ur(Gv,V5)}makePost(e,n){return xn("string"==typeof e,"KeyIndex indexValue must always be a string."),new ur(e,V5)}toString(){return".key"}}const Tg=new xhe;class G5{constructor(e,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let rY,Vf=(()=>{class t{constructor(n,i,r,s,o){this.key=n,this.value=i,this.color=r??t.RED,this.left=s??Gu.EMPTY_NODE,this.right=o??Gu.EMPTY_NODE}copy(n,i,r,s,o){return new t(n??this.key,i??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,r){let s=this;const o=r(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,i,r),null):0===o?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(n,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Gu.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let r,s;if(r=this,i(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(n,r.key)){if(r.right.isEmpty())return Gu.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Gu{constructor(e,n=Gu.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Gu(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Vf.BLACK,null,null))}remove(e){return new Gu(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Vf.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),0===n)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),0===n){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}n<0?i=i.left:n>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new G5(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new G5(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new G5(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new G5(this.root_,null,this.comparator_,!0,e)}}function P2e(t,e){return YE(t.name,e.name)}function iY(t,e){return YE(t,e)}Gu.EMPTY_NODE=new class x2e{copy(e,n,i,r,s){return this}insert(e,n,i){return new Vf(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Phe=function(t){return"number"==typeof t?"number:"+Xde(t):"string:"+t},Mhe=function(t){if(t.isLeafNode()){const e=t.val();xn("string"==typeof e||"number"==typeof e||"object"==typeof e&&uh(e,".sv"),"Priority must be a string or number.")}else xn(t===rY||t.isEmpty(),"priority of unexpected type.");xn(t===rY||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Nhe,Ohe,Fhe,bA=(()=>{class t{constructor(n,i=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,xn(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Mhe(this.priorityNode_)}static set __childrenNodeConstructor(n){Nhe=n}static get __childrenNodeConstructor(){return Nhe}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return or(n)?this:".priority"===sr(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return".priority"===n?this.updatePriority(i):i.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){const r=sr(n);return null===r?i:i.isEmpty()&&".priority"!==r?this:(xn(".priority"!==r||1===tb(n),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ys(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Phe(this.priorityNode_.val())+":");const i=typeof this.value_;n+=i+":",n+="number"===i?Xde(this.value_):this.value_,this.lazyHash_=$de(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(xn(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const i=typeof n.value_,r=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(i),o=t.VALUE_TYPE_ORDER.indexOf(r);return xn(s>=0,"Unknown leaf type: "+i),xn(o>=0,"Unknown leaf type: "+r),s===o?"object"===r?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const Ds=new class F2e extends L5{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return 0===s?YE(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ur.MIN}maxPost(){return new ur(Gv,new bA("[PRIORITY-POST]",Fhe))}makePost(e,n){const i=Ohe(e);return new ur(n,new bA("[PRIORITY-POST]",i))}toString(){return".priority"}},k2e=Math.log(2);class L2e{constructor(e){this.count=parseInt(Math.log(e+1)/k2e,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const B5=function(t,e,n,i){t.sort(e);const r=function(h,p){const m=p-h;let y,I;if(0===m)return null;if(1===m)return y=t[h],I=n?n(y):y,new Vf(I,y.node,Vf.BLACK,null,null);{const L=parseInt(m/2,10)+h,U=r(h,L),X=r(L+1,p);return y=t[L],I=n?n(y):y,new Vf(I,y.node,Vf.BLACK,U,X)}},c=function(h){let p=null,m=null,y=t.length;const I=function(U,X){const Q=y-U,pe=y;y-=U;const Te=r(Q+1,pe),Le=t[Q],tt=n?n(Le):Le;L(new Vf(tt,Le.node,X,null,Te))},L=function(U){p?(p.left=U,p=U):(m=U,p=U)};for(let U=0;U<h.count;++U){const X=h.nextBitIsOne(),Q=Math.pow(2,h.count-(U+1));X?I(Q,Vf.BLACK):(I(Q,Vf.BLACK),I(Q,Vf.RED))}return m}(new L2e(t.length));return new Gu(i||e,c)};let sY;const CA={};class Bv{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return xn(CA&&Ds,"ChildrenNode.ts has not been loaded"),sY=sY||new Bv({".priority":CA},{".priority":Ds}),sY}get(e){const n=gy(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Gu?n:null}hasIndex(e){return uh(this.indexSet_,e.toString())}addIndex(e,n){xn(e!==Tg,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator(ur.Wrap);let c,o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();c=r?B5(i,e.getCompare()):CA;const h=e.toString(),p=Object.assign({},this.indexSet_);p[h]=e;const m=Object.assign({},this.indexes_);return m[h]=c,new Bv(m,p)}addToIndexes(e,n){const i=xw(this.indexes_,(r,s)=>{const o=gy(this.indexSet_,s);if(xn(o,"Missing index implementation for "+s),r===CA){if(o.isDefinedOn(e.node)){const c=[],h=n.getIterator(ur.Wrap);let p=h.getNext();for(;p;)p.name!==e.name&&c.push(p),p=h.getNext();return c.push(e),B5(c,o.getCompare())}return CA}{const c=n.get(e.name);let h=r;return c&&(h=h.remove(new ur(e.name,c))),h.insert(e,e.node)}});return new Bv(i,this.indexSet_)}removeFromIndexes(e,n){const i=xw(this.indexes_,r=>{if(r===CA)return r;{const s=n.get(e.name);return s?r.remove(new ur(e.name,s)):r}});return new Bv(i,this.indexSet_)}}let UM,Yi=(()=>{class t{constructor(n,i,r){this.children_=n,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Mhe(this.priorityNode_),this.children_.isEmpty()&&xn(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return UM||(UM=new t(new Gu(iY),null,Bv.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||UM}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const i=this.children_.get(n);return null===i?UM:i}}getChild(n){const i=sr(n);return null===i?this:this.getImmediateChild(i).getChild(ys(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,i){if(xn(i,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(i);{const r=new ur(n,i);let s,o;i.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(n,i),o=this.indexMap_.addToIndexes(r,this.children_));const c=s.isEmpty()?UM:this.priorityNode_;return new t(s,c,o)}}updateChild(n,i){const r=sr(n);if(null===r)return i;{xn(".priority"!==sr(n)||1===tb(n),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ys(n),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const i={};let r=0,s=0,o=!0;if(this.forEachChild(Ds,(c,h)=>{i[c]=h.val(n),r++,o&&t.INTEGER_REGEXP_.test(c)?s=Math.max(s,Number(c)):o=!1}),!n&&o&&s<2*r){const c=[];for(const h in i)c[h]=i[h];return c}return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+Phe(this.getPriority().val())+":"),this.forEachChild(Ds,(i,r)=>{const s=r.hash();""!==s&&(n+=":"+i+":"+s)}),this.lazyHash_=""===n?"":$de(n)}return this.lazyHash_}getPredecessorChildName(n,i,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new ur(n,i));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const i=this.resolveIndex_(n);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(n){const i=this.getFirstChildName(n);return i?new ur(i,this.children_.get(i)):null}getLastChildName(n){const i=this.resolveIndex_(n);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(n){const i=this.getLastChildName(n);return i?new ur(i,this.children_.get(i)):null}forEachChild(n,i){const r=this.resolveIndex_(n);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,ur.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,ur.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===WM?-1:0}withIndex(n){if(n===Tg||this.indexMap_.hasIndex(n))return this;{const i=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===Tg||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const i=n;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Ds),s=i.getIterator(Ds);let o=r.getNext(),c=s.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=r.getNext(),c=s.getNext()}return null===o&&null===c}return!1}return!1}}resolveIndex_(n){return n===Tg?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const WM=new class V2e extends Yi{constructor(){super(new Gu(iY),Yi.EMPTY_NODE,Bv.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Yi.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(ur,{MIN:{value:new ur(Zy,Yi.EMPTY_NODE)},MAX:{value:new ur(Gv,WM)}}),xhe.__EMPTY_NODE=Yi.EMPTY_NODE,bA.__childrenNodeConstructor=Yi,function M2e(t){rY=t}(WM),function O2e(t){Fhe=t}(WM);const G2e=!0;function No(t,e=null){if(null===t)return Yi.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),xn(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new bA(t,No(e));if(t instanceof Array||!G2e){let n=Yi.EMPTY_NODE;return rl(t,(i,r)=>{if(uh(t,i)&&"."!==i.substring(0,1)){const s=No(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(No(e))}{const n=[];let i=!1;if(rl(t,(o,c)=>{if("."!==o.substring(0,1)){const h=No(c);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),n.push(new ur(o,h)))}}),0===n.length)return Yi.EMPTY_NODE;const s=B5(n,P2e,o=>o.name,iY);if(i){const o=B5(n,Ds.getCompare());return new Yi(s,No(e),new Bv({".priority":o},{".priority":Ds}))}return new Yi(s,No(e),Bv.Default)}}!function N2e(t){Ohe=t}(No);class oY extends L5{constructor(e){super(),this.indexPath_=e,xn(!or(e)&&".priority"!==sr(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),s=i.compareTo(r);return 0===s?YE(e.name,n.name):s}makePost(e,n){const i=No(e),r=Yi.EMPTY_NODE.updateChild(this.indexPath_,i);return new ur(n,r)}maxPost(){const e=Yi.EMPTY_NODE.updateChild(this.indexPath_,WM);return new ur(Gv,e)}toString(){return BM(this.indexPath_,0).join("/")}}const aY=new class B2e extends L5{compare(e,n){const i=e.node.compareTo(n.node);return 0===i?YE(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ur.MIN}maxPost(){return ur.MAX}makePost(e,n){const i=No(e);return new ur(n,i)}toString(){return".value"}};function jM(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class cY{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ds}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return xn(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return xn(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zy}hasEnd(){return this.endSet_}getIndexEndValue(){return xn(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return xn(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gv}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return xn(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ds}copy(){const e=new cY;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Lhe(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ds?n="$priority":t.index_===aY?n="$value":t.index_===Tg?n="$key":(xn(t.index_ instanceof oY,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ma(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Ma(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Ma(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Ma(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Ma(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Vhe(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Ds&&(e.i=t.index_.toString()),e}class U5 extends whe{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=kM("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(xn(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=U5.getListenId_(e,i),c={};this.listens_[o]=c;const h=Lhe(e._queryParams);this.restRequest_(s+".json",h,(p,m)=>{let y=m;if(404===p&&(y=null,p=null),null===p&&this.onDataUpdate_(s,y,!1,i),gy(this.listens_,o)===c){let I;I=p?401===p?"permission_denied":"rest_error:"+p:"ok",r(I,null)}})}unlisten(e,n){const i=U5.getListenId_(e,n);delete this.listens_[i]}get(e){const n=Lhe(e._queryParams),i=e._path.toString(),r=new e1;return this.restRequest_(i+".json",n,(s,o)=>{let c=o;404===s&&(c=null,s=null),null===s?(this.onDataUpdate_(i,c,!1,null),r.resolve(c)):r.reject(new Error(c))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Pw(n);this.log_("Sending REST request for "+o);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&4===c.readyState){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let h=null;if(c.status>=200&&c.status<300){try{h=MT(c.responseText)}catch{ac("Failed to parse JSON response for "+o+": "+c.responseText)}i(null,h)}else 401!==c.status&&404!==c.status&&ac("Got unsuccessful REST response for "+o+" Status: "+c.status),i(c.status);i=null}},c.open("GET",o,!0),c.send()})}}class K2e{constructor(){this.rootNode_=Yi.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function W5(){return{value:null,children:new Map}}function EA(t,e,n){if(or(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const i=sr(e);t.children.has(i)||t.children.set(i,W5()),EA(t.children.get(i),e=ys(e),n)}}function fY(t,e,n){null!==t.value?n(e,t.value):function Y2e(t,e){t.children.forEach((n,i)=>{e(i,n)})}(t,(i,r)=>{fY(r,new is(e.toString()+"/"+i),n)})}class X2e{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&rl(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}class Z2e{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new X2e(e);const i=1e4+2e4*Math.random();VM(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;rl(e,(r,s)=>{s>0&&uh(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),VM(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ig=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Ig||{});function mY(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class z5{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Ig.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(or(this.path)){if(null!=this.affectedTree.value)return xn(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new is(e));return new z5(Ur(),n,this.revert)}}return xn(sr(this.path)===e,"operationForChild called for unrelated child."),new z5(ys(this.path),this.affectedTree,this.revert)}}class JE{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Ig.OVERWRITE}operationForChild(e){return or(this.path)?new JE(this.source,Ur(),this.snap.getImmediateChild(e)):new JE(this.source,ys(this.path),this.snap)}}class SA{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Ig.MERGE}operationForChild(e){if(or(this.path)){const n=this.children.subtree(new is(e));return n.isEmpty()?null:n.value?new JE(this.source,Ur(),n.value):new SA(this.source,Ur(),n)}return xn(sr(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new SA(this.source,ys(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class nb{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(or(e))return this.isFullyInitialized()&&!this.filtered_;const n=sr(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function KM(t,e,n,i,r,s){const o=i.filter(c=>c.type===n);o.sort((c,h)=>function ike(t,e,n){if(null==e.childName||null==n.childName)throw fy("Should only compare child_ events.");const i=new ur(e.childName,e.snapshotNode),r=new ur(n.childName,n.snapshotNode);return t.index_.compare(i,r)}(t,c,h)),o.forEach(c=>{const h=function nke(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,c,s);r.forEach(p=>{p.respondsTo(c.type)&&e.push(p.createEvent(h,t.query_))})})}function j5(t,e){return{eventCache:t,serverCache:e}}function YM(t,e,n,i){return j5(new nb(e,n,i),t.serverCache)}function Bhe(t,e,n,i){return j5(t.eventCache,new nb(e,n,i))}function $5(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ZE(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let vY;class Rs{constructor(e,n=(()=>(vY||(vY=new Gu(HFe)),vY))()){this.value=e,this.children=n}static fromObject(e){let n=new Rs(null);return rl(e,(i,r)=>{n=n.set(new is(i),r)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:Ur(),value:this.value};if(or(e))return null;{const i=sr(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(ys(e),n);return null!=s?{path:po(new is(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(or(e))return this;{const n=sr(e),i=this.children.get(n);return null!==i?i.subtree(ys(e)):new Rs(null)}}set(e,n){if(or(e))return new Rs(n,this.children);{const i=sr(e),s=(this.children.get(i)||new Rs(null)).set(ys(e),n),o=this.children.insert(i,s);return new Rs(this.value,o)}}remove(e){if(or(e))return this.children.isEmpty()?new Rs(null):new Rs(null,this.children);{const n=sr(e),i=this.children.get(n);if(i){const r=i.remove(ys(e));let s;return s=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),null===this.value&&s.isEmpty()?new Rs(null):new Rs(this.value,s)}return this}}get(e){if(or(e))return this.value;{const n=sr(e),i=this.children.get(n);return i?i.get(ys(e)):null}}setTree(e,n){if(or(e))return n;{const i=sr(e),s=(this.children.get(i)||new Rs(null)).setTree(ys(e),n);let o;return o=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Rs(this.value,o)}}fold(e){return this.fold_(Ur(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(po(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Ur(),n)}findOnPath_(e,n,i){const r=!!this.value&&i(n,this.value);if(r)return r;if(or(e))return null;{const s=sr(e),o=this.children.get(s);return o?o.findOnPath_(ys(e),po(n,s),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ur(),n)}foreachOnPath_(e,n,i){if(or(e))return this;{this.value&&i(n,this.value);const r=sr(e),s=this.children.get(r);return s?s.foreachOnPath_(ys(e),po(n,r),i):new Rs(null)}}foreach(e){this.foreach_(Ur(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(po(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}class Gf{constructor(e){this.writeTree_=e}static empty(){return new Gf(new Rs(null))}}function XM(t,e,n){if(or(e))return new Gf(new Rs(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const o=Xc(r,e);return s=s.updateChild(o,n),new Gf(t.writeTree_.set(r,s))}{const r=new Rs(n),s=t.writeTree_.setTree(e,r);return new Gf(s)}}}function _Y(t,e,n){let i=t;return rl(n,(r,s)=>{i=XM(i,po(e,r),s)}),i}function Hhe(t,e){if(or(e))return Gf.empty();{const n=t.writeTree_.setTree(e,new Rs(null));return new Gf(n)}}function yY(t,e){return null!=e0(t,e)}function e0(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Xc(n.path,e)):null}function Uhe(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ds,(i,r)=>{e.push(new ur(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new ur(i,r.value))}),e}function ib(t,e){if(or(e))return t;{const n=e0(t,e);return new Gf(null!=n?new Rs(n):t.writeTree_.subtree(e))}}function bY(t){return t.writeTree_.isEmpty()}function TA(t,e){return Whe(Ur(),t.writeTree_,e)}function Whe(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?(xn(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):n=Whe(po(t,r),s,n)}),!n.getChild(t).isEmpty()&&null!==i&&(n=n.updateChild(po(t,".priority"),i)),n}}function q5(t,e){return Khe(e,t)}function cke(t,e){if(t.snap)return Ih(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ih(po(t.path,n),e))return!0;return!1}function dke(t){return t.visible}function zhe(t,e,n){let i=Gf.empty();for(let r=0;r<t.length;++r){const s=t[r];if(e(s)){const o=s.path;let c;if(s.snap)Ih(n,o)?(c=Xc(n,o),i=XM(i,c,s.snap)):Ih(o,n)&&(c=Xc(o,n),i=XM(i,Ur(),s.snap.getChild(c)));else{if(!s.children)throw fy("WriteRecord should have .snap or .children");if(Ih(n,o))c=Xc(n,o),i=_Y(i,c,s.children);else if(Ih(o,n))if(c=Xc(o,n),or(c))i=_Y(i,Ur(),s.children);else{const h=gy(s.children,sr(c));if(h){const p=h.getChild(ys(c));i=XM(i,Ur(),p)}}}}}return i}function jhe(t,e,n,i,r){if(i||r){const s=ib(t.visibleWrites,e);return!r&&bY(s)?n:r||null!=n||yY(s,Ur())?TA(zhe(t.allWrites,function(p){return(p.visible||r)&&(!i||!~i.indexOf(p.writeId))&&(Ih(p.path,e)||Ih(e,p.path))},e),n||Yi.EMPTY_NODE):null}{const s=e0(t.visibleWrites,e);if(null!=s)return s;{const o=ib(t.visibleWrites,e);return bY(o)?n:null!=n||yY(o,Ur())?TA(o,n||Yi.EMPTY_NODE):null}}}function K5(t,e,n,i){return jhe(t.writeTree,t.treePath,e,n,i)}function CY(t,e){return function hke(t,e,n){let i=Yi.EMPTY_NODE;const r=e0(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Ds,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){const s=ib(t.visibleWrites,e);return n.forEachChild(Ds,(o,c)=>{const h=TA(ib(s,new is(o)),c);i=i.updateImmediateChild(o,h)}),Uhe(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}return Uhe(ib(t.visibleWrites,e)).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}(t.writeTree,t.treePath,e)}function $he(t,e,n,i){return function fke(t,e,n,i,r){xn(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=po(e,n);if(yY(t.visibleWrites,s))return null;{const o=ib(t.visibleWrites,s);return bY(o)?r.getChild(n):TA(o,r.getChild(n))}}(t.writeTree,t.treePath,e,n,i)}function Y5(t,e){return function gke(t,e){return e0(t.visibleWrites,e)}(t.writeTree,po(t.treePath,e))}function wY(t,e,n){return function pke(t,e,n,i){const r=po(e,n),s=e0(t.visibleWrites,r);return null!=s?s:i.isCompleteForChild(n)?TA(ib(t.visibleWrites,r),i.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function qhe(t,e){return Khe(po(t.treePath,e),t.writeTree)}function Khe(t,e){return{treePath:t,writeTree:e}}class yke{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;xn("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),xn(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(i,jM(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(i,function zM(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}(i,r.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(i,function wA(t,e){return{type:"child_added",snapshotNode:e,childName:t}}(i,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw fy("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,jM(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const Yhe=new class bke{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}};class EY{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new nb(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wY(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ZE(this.viewCache_),s=function _ke(t,e,n,i,r,s){return function mke(t,e,n,i,r,s,o){let c;const h=ib(t.visibleWrites,e),p=e0(h,Ur());if(null!=p)c=p;else{if(null==n)return[];c=TA(h,n)}if(c=c.withIndex(o),c.isEmpty()||c.isLeafNode())return[];{const m=[],y=o.getCompare(),I=s?c.getReverseIteratorFrom(i,o):c.getIteratorFrom(i,o);let L=I.getNext();for(;L&&m.length<r;)0!==y(L,i)&&m.push(L),L=I.getNext();return m}}(t.writeTree,t.treePath,e,n,i,r,s)}(this.writes_,r,n,1,i,e);return 0===s.length?null:s[0]}}function Xhe(t,e,n,i,r,s){const o=e.eventCache;if(null!=Y5(i,n))return e;{let c,h;if(or(n))if(xn(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=ZE(e),y=CY(i,p instanceof Yi?p:Yi.EMPTY_NODE);c=t.filter.updateFullNode(e.eventCache.getNode(),y,s)}else{const p=K5(i,ZE(e));c=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{const p=sr(n);if(".priority"===p){xn(1===tb(n),"Can't have a priority with additional path components");const m=o.getNode();h=e.serverCache.getNode();const y=$he(i,n,m,h);c=null!=y?t.filter.updatePriority(m,y):o.getNode()}else{const m=ys(n);let y;if(o.isCompleteForChild(p)){h=e.serverCache.getNode();const I=$he(i,n,o.getNode(),h);y=null!=I?o.getNode().getImmediateChild(p).updateChild(m,I):o.getNode().getImmediateChild(p)}else y=wY(i,p,e.serverCache);c=null!=y?t.filter.updateChild(o.getNode(),p,y,m,r,s):o.getNode()}}return YM(e,c,o.isFullyInitialized()||or(n),t.filter.filtersNodes())}}function X5(t,e,n,i,r,s,o,c){const h=e.serverCache;let p;const m=o?t.filter:t.filter.getIndexedFilter();if(or(n))p=m.updateFullNode(h.getNode(),i,null);else if(m.filtersNodes()&&!h.isFiltered()){const L=h.getNode().updateChild(n,i);p=m.updateFullNode(h.getNode(),L,null)}else{const L=sr(n);if(!h.isCompleteForPath(n)&&tb(n)>1)return e;const U=ys(n),Q=h.getNode().getImmediateChild(L).updateChild(U,i);p=".priority"===L?m.updatePriority(h.getNode(),Q):m.updateChild(h.getNode(),L,Q,U,Yhe,null)}const y=Bhe(e,p,h.isFullyInitialized()||or(n),m.filtersNodes());return Xhe(t,y,n,r,new EY(r,y,s),c)}function SY(t,e,n,i,r,s,o){const c=e.eventCache;let h,p;const m=new EY(r,e,s);if(or(n))p=t.filter.updateFullNode(e.eventCache.getNode(),i,o),h=YM(e,p,!0,t.filter.filtersNodes());else{const y=sr(n);if(".priority"===y)p=t.filter.updatePriority(e.eventCache.getNode(),i),h=YM(e,p,c.isFullyInitialized(),c.isFiltered());else{const I=ys(n),L=c.getNode().getImmediateChild(y);let U;if(or(I))U=i;else{const X=m.getCompleteChild(y);U=null!=X?".priority"===eY(I)&&X.getChild(Ihe(I)).isEmpty()?X:X.updateChild(I,i):Yi.EMPTY_NODE}h=L.equals(U)?e:YM(e,t.filter.updateChild(c.getNode(),y,U,I,m,o),c.isFullyInitialized(),t.filter.filtersNodes())}}return h}function Qhe(t,e){return t.eventCache.isCompleteForChild(e)}function Jhe(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function TY(t,e,n,i,r,s,o,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p,h=e;p=or(n)?i:new Rs(null).setTree(n,i);const m=e.serverCache.getNode();return p.children.inorderTraversal((y,I)=>{if(m.hasChild(y)){const U=Jhe(0,e.serverCache.getNode().getImmediateChild(y),I);h=X5(t,h,new is(y),U,r,s,o,c)}}),p.children.inorderTraversal((y,I)=>{const L=!e.serverCache.isCompleteForChild(y)&&null===I.value;if(!m.hasChild(y)&&!L){const X=Jhe(0,e.serverCache.getNode().getImmediateChild(y),I);h=X5(t,h,new is(y),X,r,s,o,c)}}),h}function Mke(t,e){const n=ZE(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!or(e)&&!n.getImmediateChild(sr(e)).isEmpty())?n.getChild(e):null}function tfe(t,e,n,i){e.type===Ig.MERGE&&null!==e.source.queryId&&(xn(ZE(t.viewCache_),"We should always have a full cache before handling merges"),xn($5(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,s=function Eke(t,e,n,i,r){const s=new yke;let o,c;if(n.type===Ig.OVERWRITE){const p=n;p.source.fromUser?o=SY(t,e,p.path,p.snap,i,r,s):(xn(p.source.fromServer,"Unknown source."),c=p.source.tagged||e.serverCache.isFiltered()&&!or(p.path),o=X5(t,e,p.path,p.snap,i,r,c,s))}else if(n.type===Ig.MERGE){const p=n;p.source.fromUser?o=function Tke(t,e,n,i,r,s,o){let c=e;return i.foreach((h,p)=>{const m=po(n,h);Qhe(e,sr(m))&&(c=SY(t,c,m,p,r,s,o))}),i.foreach((h,p)=>{const m=po(n,h);Qhe(e,sr(m))||(c=SY(t,c,m,p,r,s,o))}),c}(t,e,p.path,p.children,i,r,s):(xn(p.source.fromServer,"Unknown source."),c=p.source.tagged||e.serverCache.isFiltered(),o=TY(t,e,p.path,p.children,i,r,c,s))}else if(n.type===Ig.ACK_USER_WRITE){const p=n;o=p.revert?function Dke(t,e,n,i,r,s){let o;if(null!=Y5(i,n))return e;{const c=new EY(i,e,r),h=e.eventCache.getNode();let p;if(or(n)||".priority"===sr(n)){let m;if(e.serverCache.isFullyInitialized())m=K5(i,ZE(e));else{const y=e.serverCache.getNode();xn(y instanceof Yi,"serverChildren would be complete if leaf node"),m=CY(i,y)}p=t.filter.updateFullNode(h,m,s)}else{const m=sr(n);let y=wY(i,m,e.serverCache);null==y&&e.serverCache.isCompleteForChild(m)&&(y=h.getImmediateChild(m)),p=null!=y?t.filter.updateChild(h,m,y,ys(n),c,s):e.eventCache.getNode().hasChild(m)?t.filter.updateChild(h,m,Yi.EMPTY_NODE,ys(n),c,s):h,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=K5(i,ZE(e)),o.isLeafNode()&&(p=t.filter.updateFullNode(p,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=Y5(i,Ur()),YM(e,p,o,t.filter.filtersNodes())}}(t,e,p.path,i,r,s):function Ike(t,e,n,i,r,s,o){if(null!=Y5(r,n))return e;const c=e.serverCache.isFiltered(),h=e.serverCache;if(null!=i.value){if(or(n)&&h.isFullyInitialized()||h.isCompleteForPath(n))return X5(t,e,n,h.getNode().getChild(n),r,s,c,o);if(or(n)){let p=new Rs(null);return h.getNode().forEachChild(Tg,(m,y)=>{p=p.set(new is(m),y)}),TY(t,e,n,p,r,s,c,o)}return e}{let p=new Rs(null);return i.foreach((m,y)=>{const I=po(n,m);h.isCompleteForPath(I)&&(p=p.set(m,h.getNode().getChild(I)))}),TY(t,e,n,p,r,s,c,o)}}(t,e,p.path,p.affectedTree,i,r,s)}else{if(n.type!==Ig.LISTEN_COMPLETE)throw fy("Unknown operation type: "+n.type);o=function Ake(t,e,n,i,r){const s=e.serverCache;return Xhe(t,Bhe(e,s.getNode(),s.isFullyInitialized()||or(n),s.isFiltered()),n,i,Yhe,r)}(t,e,n.path,i,s)}const h=s.getChanges();return function Ske(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=$5(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(function khe(t){return{type:"value",snapshotNode:t}}($5(e)))}}(e,o,h),{viewCache:o,changes:h}}(t.processor_,r,e,n,i);return function wke(t,e){xn(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),xn(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),xn(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,function nfe(t,e,n,i){return function tke(t,e,n,i){const r=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function H2e(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),KM(t,r,"child_removed",e,i,n),KM(t,r,"child_added",e,i,n),KM(t,r,"child_moved",s,i,n),KM(t,r,"child_changed",e,i,n),KM(t,r,"value",e,i,n),r}(t.eventGenerator_,e,n,i?[i]:t.eventRegistrations_)}(t,s.changes,s.viewCache.eventCache.getNode(),null)}let Q5,Z5;function IY(t,e,n,i){const r=e.source.queryId;if(null!==r){const s=t.views.get(r);return xn(null!=s,"SyncTree gave us an op for an invalid query."),tfe(s,e,n,i)}{let s=[];for(const o of t.views.values())s=s.concat(tfe(o,e,n,i));return s}}function rb(t,e){let n=null;for(const i of t.views.values())n=n||Mke(i,e);return n}class lfe{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Rs(null),this.pendingWriteTree_=function vke(){return{visibleWrites:Gf.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function AY(t,e,n,i,r){return function ske(t,e,n,i,r){xn(i>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=XM(t.visibleWrites,e,n)),t.lastWriteId=i}(t.pendingWriteTree_,e,n,i,r),r?IA(t,new JE({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function ob(t,e,n=!1){const i=function ake(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}(t.pendingWriteTree_,e);if(function lke(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);xn(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const c=t.allWrites[o];c.visible&&(o>=n&&cke(c,i.path)?r=!1:Ih(i.path,c.path)&&(s=!0)),o--}return!!r&&(s?(function uke(t){t.visibleWrites=zhe(t.allWrites,dke,Ur()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(i.snap?t.visibleWrites=Hhe(t.visibleWrites,i.path):rl(i.children,h=>{t.visibleWrites=Hhe(t.visibleWrites,po(i.path,h))}),!0))}(t.pendingWriteTree_,e)){let s=new Rs(null);return null!=i.snap?s=s.set(Ur(),!0):rl(i.children,o=>{s=s.set(new is(o),!0)}),IA(t,new z5(i.path,s,n))}return[]}function QM(t,e,n){return IA(t,new JE({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function tG(t,e,n){const r=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,c)=>{const p=rb(c,Xc(o,e));if(p)return p});return jhe(r,e,s,n,!0)}function IA(t,e){return ufe(e,t.syncPointTree_,null,q5(t.pendingWriteTree_,Ur()))}function ufe(t,e,n,i){if(or(t.path))return dfe(t,e,n,i);{const r=e.get(Ur());null==n&&null!=r&&(n=rb(r,Ur()));let s=[];const o=sr(t.path),c=t.operationForChild(o),h=e.children.get(o);if(h&&c){const p=n?n.getImmediateChild(o):null,m=qhe(i,o);s=s.concat(ufe(c,h,p,m))}return r&&(s=s.concat(IY(r,t,i,n))),s}}function dfe(t,e,n,i){const r=e.get(Ur());null==n&&null!=r&&(n=rb(r,Ur()));let s=[];return e.children.inorderTraversal((o,c)=>{const h=n?n.getImmediateChild(o):null,p=qhe(i,o),m=t.operationForChild(o);m&&(s=s.concat(dfe(m,c,h,p)))}),r&&(s=s.concat(IY(r,t,i,n))),s}function RY(t,e){return t.tagToQueryMap.get(e)}function xY(t){const e=t.indexOf("$");return xn(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new is(t.substr(0,e))}}function PY(t,e,n){const i=t.syncPointTree_.get(e);return xn(i,"Missing sync point for query tag that we're tracking"),IY(i,n,q5(t.pendingWriteTree_,e),null)}class MY{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new MY(n)}node(){return this.node_}}class NY{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=po(this.path_,e);return new NY(this.syncTree_,n)}node(){return tG(this.syncTree_,this.path_)}}const Zke=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},ffe=function(t,e,n){return t&&"object"==typeof t?(xn(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?eLe(t[".sv"],e,n):"object"==typeof t[".sv"]?tLe(t[".sv"],e):void xn(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},eLe=function(t,e,n){if("timestamp"===t)return n.timestamp;xn(!1,"Unexpected server value: "+t)},tLe=function(t,e,n){t.hasOwnProperty("increment")||xn(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;"number"!=typeof i&&xn(!1,"Unexpected increment value: "+i);const r=e.node();if(xn(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return"number"!=typeof o?i:o+i},pfe=function(t,e,n,i){return FY(e,new NY(n,t),i)},OY=function(t,e,n){return FY(t,new MY(e),n)};function FY(t,e,n){const i=t.getPriority().val(),r=ffe(i,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,c=ffe(o.getValue(),e,n);return c!==o.getValue()||r!==o.getPriority().val()?new bA(c,No(r)):t}{const o=t;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new bA(r))),o.forEachChild(Ds,(c,h)=>{const p=FY(h,e.getImmediateChild(c),n);p!==h&&(s=s.updateImmediateChild(c,p))}),s}}class kY{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function iG(t,e){let n=e instanceof is?e:new is(e),i=t,r=sr(n);for(;null!==r;){const s=gy(i.node.children,r)||{children:{},childCount:0};i=new kY(r,i,s),n=ys(n),r=sr(n)}return i}function t0(t){return t.node.value}function LY(t,e){t.node.value=e,VY(t)}function gfe(t){return t.node.childCount>0}function rG(t,e){rl(t.node.children,(n,i)=>{e(new kY(n,t,i))})}function mfe(t,e,n,i){n&&!i&&e(t),rG(t,r=>{mfe(r,e,!0,i)}),n&&i&&e(t)}function eN(t){return new is(null===t.parent?t.name:eN(t.parent)+"/"+t.name)}function VY(t){null!==t.parent&&function rLe(t,e,n){const i=function nLe(t){return void 0===t0(t)&&!gfe(t)}(n),r=uh(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,VY(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,VY(t))}(t.parent,t.name,t)}const sLe=/[\[\].#$\/\u0000-\u001F\u007F]/,oLe=/[\[\].#$\u0000-\u001F\u007F]/,GY=10485760,sG=function(t){return"string"==typeof t&&0!==t.length&&!sLe.test(t)},nN=function(t,e,n){const i=n instanceof is?new E2e(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+XE(i));if("function"==typeof e)throw new Error(t+"contains a function "+XE(i)+" with contents = "+e.toString());if(N5(e))throw new Error(t+"contains "+e.toString()+" "+XE(i));if("string"==typeof e&&e.length>GY/3&&a1(e)>GY)throw new Error(t+"contains a string greater than "+GY+" utf8 bytes "+XE(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(rl(e,(o,c)=>{if(".value"===o)r=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!sG(o)))throw new Error(t+" contains an invalid key ("+o+") "+XE(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function S2e(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=a1(e),Ahe(t)})(i,o),nN(t,c,i),function T2e(t){const e=t.parts_.pop();t.byteLength_-=a1(e),t.parts_.length>0&&(t.byteLength_-=1)}(i)}),r&&s)throw new Error(t+' contains ".value" child '+XE(i)+" in addition to actual children.")}},yfe=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!sG(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),function(t){return"string"==typeof t&&0!==t.length&&!oLe.test(t)}(t)}(n))throw new Error(function Nw(t,e){return`${t} failed: ${e} argument `}(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class uLe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ed(t,e,n){(function oG(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==n&&!tY(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)})(t,n),function Cfe(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];r&&(e(r.path)?(dLe(t.eventLists_[i]),t.eventLists_[i]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,i=>Ih(i,e)||Ih(e,i))}function dLe(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const i=n.getEventRunner();KE&&il("event: "+n.toString()),_A(i)}}}const hLe=25;class fLe{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new uLe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=W5(),this.transactionQueueTree_=new kY,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Efe(t){const n=t.infoData_.getNode(new is(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function rN(t){return Zke({timestamp:Efe(t)})}function Sfe(t,e,n,i,r){t.dataUpdateCount++;const s=new is(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(i){const h=xw(n,p=>No(p));o=function qke(t,e,n,i){const r=RY(t,i);if(r){const s=xY(r),o=s.path,c=s.queryId,h=Xc(o,e),p=Rs.fromObject(n);return PY(t,o,new SA(mY(c),h,p))}return[]}(t.serverSyncTree_,s,h,r)}else{const h=No(n);o=function cfe(t,e,n,i){const r=RY(t,i);if(null!=r){const s=xY(r),o=s.path,c=s.queryId,h=Xc(o,e);return PY(t,o,new JE(mY(c),h,n))}return[]}(t.serverSyncTree_,s,h,r)}else if(i){const h=xw(n,p=>No(p));o=function zke(t,e,n){const i=Rs.fromObject(n);return IA(t,new SA({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,s,h)}else{const h=No(n);o=QM(t.serverSyncTree_,s,h)}let c=s;o.length>0&&(c=DA(t,s)),Ed(t.eventQueue_,c,o)}function Tfe(t,e){UY(t,"connected",e),!1===e&&function _Le(t){AA(t,"onDisconnectEvents");const e=rN(t),n=W5();fY(t.onDisconnect_,Ur(),(r,s)=>{const o=pfe(r,s,t.serverSyncTree_,e);EA(n,r,o)});let i=[];fY(n,Ur(),(r,s)=>{i=i.concat(QM(t.serverSyncTree_,r,s));const o=function $Y(t,e){const n=eN(Dfe(t,e)),i=iG(t.transactionQueueTree_,e);return function iLe(t,e,n){let i=n?t:t.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{qY(t,r)}),qY(t,i),mfe(i,r=>{qY(t,r)}),n}(t,r);DA(t,o)}),t.onDisconnect_=W5(),Ed(t.eventQueue_,Ur(),i)}(t)}function UY(t,e,n){const i=new is("/.info/"+e),r=No(n);t.infoData_.updateSnapshot(i,r);const s=QM(t.infoSyncTree_,i,r);Ed(t.eventQueue_,i,s)}function aG(t){return t.nextWriteId_++}function AA(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),il(n,...e)}function jY(t,e,n){return tG(t.serverSyncTree_,e,n)||Yi.EMPTY_NODE}function lG(t,e=t.transactionQueueTree_){if(e||cG(t,e),t0(e)){const n=Rfe(t,e);xn(n.length>0,"Sending zero length transaction queue"),n.every(r=>0===r.status)&&function TLe(t,e,n){const i=n.map(p=>p.currentWriteId),r=jY(t,e,i);let s=r;const o=r.hash();for(let p=0;p<n.length;p++){const m=n[p];xn(0===m.status,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const y=Xc(e,m.path);s=s.updateChild(y,m.currentOutputSnapshotRaw)}const c=s.val(!0),h=e;t.server_.put(h.toString(),c,p=>{AA(t,"transaction put response",{path:h.toString(),status:p});let m=[];if("ok"===p){const y=[];for(let I=0;I<n.length;I++)n[I].status=2,m=m.concat(ob(t.serverSyncTree_,n[I].currentWriteId)),n[I].onComplete&&y.push(()=>n[I].onComplete(null,!0,n[I].currentOutputSnapshotResolved)),n[I].unwatcher();cG(t,iG(t.transactionQueueTree_,e)),lG(t,t.transactionQueueTree_),Ed(t.eventQueue_,e,m);for(let I=0;I<y.length;I++)_A(y[I])}else{if("datastale"===p)for(let y=0;y<n.length;y++)n[y].status=3===n[y].status?4:0;else{ac("transaction at "+h.toString()+" failed: "+p);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=p}DA(t,e)}},o)}(t,eN(e),n)}else gfe(e)&&rG(e,n=>{lG(t,n)})}function DA(t,e){const n=Dfe(t,e),i=eN(n);return function ILe(t,e,n){if(0===e.length)return;const i=[];let r=[];const o=e.filter(c=>0===c.status).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const h=e[c],p=Xc(n,h.path);let y,m=!1;if(xn(null!==p,"rerunTransactionsUnderNode_: relativePath should not be null."),4===h.status)m=!0,y=h.abortReason,r=r.concat(ob(t.serverSyncTree_,h.currentWriteId,!0));else if(0===h.status)if(h.retryCount>=hLe)m=!0,y="maxretry",r=r.concat(ob(t.serverSyncTree_,h.currentWriteId,!0));else{const I=jY(t,h.path,o);h.currentInputSnapshot=I;const L=e[c].update(I.val());if(void 0!==L){nN("transaction failed: Data returned ",L,h.path);let U=No(L);"object"==typeof L&&null!=L&&uh(L,".priority")||(U=U.updatePriority(I.getPriority()));const Q=h.currentWriteId,pe=rN(t),Te=OY(U,I,pe);h.currentOutputSnapshotRaw=U,h.currentOutputSnapshotResolved=Te,h.currentWriteId=aG(t),o.splice(o.indexOf(Q),1),r=r.concat(AY(t.serverSyncTree_,h.path,Te,h.currentWriteId,h.applyLocally)),r=r.concat(ob(t.serverSyncTree_,Q,!0))}else m=!0,y="nodata",r=r.concat(ob(t.serverSyncTree_,h.currentWriteId,!0))}Ed(t.eventQueue_,n,r),r=[],m&&(e[c].status=2,setTimeout(e[c].unwatcher,Math.floor(0)),e[c].onComplete&&i.push("nodata"===y?()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot):()=>e[c].onComplete(new Error(y),!1,null)))}cG(t,t.transactionQueueTree_);for(let c=0;c<i.length;c++)_A(i[c]);lG(t,t.transactionQueueTree_)}(t,Rfe(t,n),i),i}function Dfe(t,e){let n,i=t.transactionQueueTree_;for(n=sr(e);null!==n&&void 0===t0(i);)i=iG(i,n),n=sr(e=ys(e));return i}function Rfe(t,e){const n=[];return xfe(t,e,n),n.sort((i,r)=>i.order-r.order),n}function xfe(t,e,n){const i=t0(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);rG(e,r=>{xfe(t,r,n)})}function cG(t,e){const n=t0(e);if(n){let i=0;for(let r=0;r<n.length;r++)2!==n[r].status&&(n[i]=n[r],i++);n.length=i,LY(e,n.length>0?n:void 0)}rG(e,i=>{cG(t,i)})}function qY(t,e){const n=t0(e);if(n){const i=[];let r=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(xn(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(xn(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(ob(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?LY(e,void 0):n.length=s+1,Ed(t.eventQueue_,eN(e),r);for(let o=0;o<i.length;o++)_A(i[o])}}const KY=function(t,e){const n=RLe(t),i=n.namespace;return"firebase.com"===n.domain&&Sg(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==n.domain&&Sg("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ac("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new KK(n.host,n.secure,i,"ws"===n.scheme||"wss"===n.scheme,e,"",i!==n.subdomain),path:new is(n.pathString)}},RLe=function(t){let e="",n="",i="",r="",s="",o=!0,c="https",h=443;if("string"==typeof t){let p=t.indexOf("//");p>=0&&(c=t.substring(0,p-1),t=t.substring(p+2));let m=t.indexOf("/");-1===m&&(m=t.length);let y=t.indexOf("?");-1===y&&(y=t.length),e=t.substring(0,Math.min(m,y)),m<y&&(r=function ALe(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(t.substring(m,y)));const I=function DLe(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const i=n.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ac(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,y)));p=e.indexOf(":"),p>=0?(o="https"===c||"wss"===c,h=parseInt(e.substring(p+1),10)):p=e.length;const L=e.slice(0,p);if("localhost"===L.toLowerCase())n="localhost";else if(L.split(".").length<=2)n=L;else{const U=e.indexOf(".");i=e.substring(0,U).toLowerCase(),n=e.substring(U+1),s=i}"ns"in I&&(s=I.ns)}return{host:e,port:h,domain:n,subdomain:i,secure:o,scheme:c,pathString:r,namespace:s}};class Sd{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return or(this._path)?null:eY(this._path)}get ref(){return new Bf(this._repo,this._path)}get _queryIdentifier(){const e=Vhe(this._queryParams),n=$K(e);return"{}"===n?"default":n}get _queryObject(){return Vhe(this._queryParams)}isEqual(e){if(!((e=Mr(e))instanceof Sd))return!1;const n=this._repo===e._repo,i=tY(this._path,e._path);return n&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function C2e(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class Bf extends Sd{constructor(e,n){super(e,n,new cY,!1)}get parent(){const e=Ihe(this._path);return null===e?null:new Bf(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function Fke(t){xn(!Q5,"__referenceConstructor has already been defined"),Q5=t})(Bf),function Bke(t){xn(!Z5,"__referenceConstructor has already been defined"),Z5=t}(Bf);const XY={};class KLe{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function pLe(t,e,n){if(t.stats_=QK(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new U5(t.repoInfo_,(i,r,s,o)=>{Sfe(t,i,r,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Tfe(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ma(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new QE(t.repoInfo_,e,(i,r,s,o)=>{Sfe(t,i,r,s,o)},i=>{Tfe(t,i)},i=>{!function gLe(t,e){rl(e,(n,i)=>{UY(t,n,i)})}(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=function ZFe(t,e){const n=t.toString();return XK[n]||(XK[n]=e()),XK[n]}(t.repoInfo_,()=>new Z2e(t.stats_,t.server_)),t.infoData_=new K2e,t.infoSyncTree_=new lfe({startListening:(i,r,s,o)=>{let c=[];const h=t.infoData_.getNode(i._path);return h.isEmpty()||(c=QM(t.infoSyncTree_,i._path,h),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),UY(t,"connected",!1),t.serverSyncTree_=new lfe({startListening:(i,r,s,o)=>(t.server_.listen(i,s,r,(c,h)=>{const p=o(c,h);Ed(t.eventQueue_,i._path,p)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Bf(this._repo,Ur())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function jLe(t,e){const n=XY[e];(!n||n[t.key]!==t)&&Sg(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function Afe(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Sg("Cannot call "+e+" on a deleted database.")}}function YLe(t=ng(),e){const n=Iu(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=Zx("database");i&&function XLe(t,e,n,i={}){(t=Mr(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Sg("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Sg('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new GM(GM.OWNER);else if(i.mockUserToken){const o="string"==typeof i.mockUserToken?i.mockUserToken:Mk(i.mockUserToken,t.app.options.projectId);s=new GM(o)}!function zLe(t,e,n,i){t.repoInfo_=new KK(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}(r,e,n,s)}(n,...i)}return n}QE.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},QE.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function QLe(t){(function Wde(t){WK=t})(sv),Cl(new fa("database",(e,{instanceIdentifier:n})=>function Vfe(t,e,n,i,r){let s=i||t.options.databaseURL;void 0===s&&(t.options.projectId||Sg("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),il("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let h,p,o=KY(s,r),c=o.repoInfo;typeof process<"u"&&process.env&&(p=process.env.FIREBASE_DATABASE_EMULATOR_HOST),p?(h=!0,s=`http://${p}?ns=${c.namespace}`,o=KY(s,r),c=o.repoInfo):h=!o.repoInfo.secure;const m=r&&h?new GM(GM.OWNER):new XFe(t.name,t.options,e);yfe("Invalid Firebase Database URL",o),or(o.path)||Sg("Database URL must point to the root of a Firebase Database (not including a child path).");const y=function $Le(t,e,n,i){let r=XY[e.name];r||(r={},XY[e.name]=r);let s=r[t.toURLString()];return s&&Sg("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new fLe(t,!1,n,i),r[t.toURLString()]=s,s}(c,t,m,new YFe(t.name,n));return new KLe(y,t)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),tr(Hde,"1.0.8",t),tr(Hde,"1.0.8","esm2017")}();class QY{constructor(e){return e}}const JY=new d.nKC("angularfire2.database-instances");function nVe(t){return(e,n)=>{const i=e.runOutsideAngular(()=>t(n));return new QY(i)}}const iVe={provide:class eVe{constructor(){return Tf("database")}},deps:[[new d.Xx1,JY]]},rVe={provide:QY,useFactory:function tVe(t,e){const n=ig("database",t,e);return n&&new QY(n)},deps:[[new d.Xx1,JY],fd]},oVe=Po(YLe,!0),eX="functions";class dVe{constructor(e,n,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||n.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i.get().then(r=>this.appCheck=r,()=>{})}getAuthToken(){var e=this;return(0,te.A)(function*(){if(e.auth)try{const n=yield e.auth.getToken();return n?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return(0,te.A)(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(e){var n=this;return(0,te.A)(function*(){if(n.appCheck){const i=e?yield n.appCheck.getLimitedUseToken():yield n.appCheck.getToken();return i.error?null:i.token}return null})()}getContext(e){var n=this;return(0,te.A)(function*(){return{authToken:yield n.getAuthToken(),messagingToken:yield n.getMessagingToken(),appCheckToken:yield n.getAppCheckToken(e)}})()}}const tX="us-central1";class fVe{constructor(e,n,i,r,s=tX,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new dVe(n,i,r),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(s);this.customDomain=c.origin+("/"===c.pathname?"":c.pathname),this.region=tX}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}const zfe="@firebase/functions";function EVe(t=ng(),e=tX){const i=Iu(Mr(t),eX).getImmediate({identifier:e}),r=Zx("functions");return r&&function SVe(t,e,n){!function pVe(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}(Mr(t),e,n)}(i,...r),i}!function wVe(t,e){Cl(new fa(eX,(i,{instanceIdentifier:r})=>{const s=i.getProvider("app").getImmediate(),o=i.getProvider("auth-internal"),c=i.getProvider("messaging-internal"),h=i.getProvider("app-check-internal");return new fVe(s,o,c,h,r,t)},"PUBLIC").setMultipleInstances(!0)),tr(zfe,"0.11.8",e),tr(zfe,"0.11.8","esm2017")}(fetch.bind(self));class rX{constructor(e){return e}}const sX=new d.nKC("angularfire2.functions-instances");function AVe(t){return(e,n)=>{const i=e.runOutsideAngular(()=>t(n));return new rX(i)}}const DVe={provide:class TVe{constructor(){return Tf("functions")}},deps:[[new d.Xx1,sX]]},RVe={provide:rX,useFactory:function IVe(t,e){const n=ig("functions",t,e);return n&&new rX(n)},deps:[[new d.Xx1,sX],fd]},PVe=Po(EVe,!0),MVe="/firebase-messaging-sw.js",NVe="/firebase-cloud-messaging-push-scope",qfe="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",OVe="https://fcmregistrations.googleapis.com/v1",Kfe="google.c.a.c_id",FVe="google.c.a.c_l",kVe="google.c.a.ts";var pG=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(pG||{});function Hv(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function GVe(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),r=new Uint8Array(i.length);for(let s=0;s<i.length;++s)r[s]=i.charCodeAt(s);return r}const oX="fcm_token_details_db",BVe=5,Yfe="fcm_token_object_Store";function aX(){return aX=(0,te.A)(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(oX))return null;let e=null;return(yield Ow(oX,BVe,{upgrade:(i=(0,te.A)(function*(r,s,o,c){var h;if(s<2||!r.objectStoreNames.contains(Yfe))return;const p=c.objectStore(Yfe),m=yield p.index("fcmSenderId").get(t);if(yield p.clear(),m)if(2===s){const y=m;if(!y.auth||!y.p256dh||!y.endpoint)return;e={token:y.fcmToken,createTime:null!==(h=y.createTime)&&void 0!==h?h:Date.now(),subscriptionOptions:{auth:y.auth,p256dh:y.p256dh,endpoint:y.endpoint,swScope:y.swScope,vapidKey:"string"==typeof y.vapidKey?y.vapidKey:Hv(y.vapidKey)}}}else if(3===s){const y=m;e={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:Hv(y.auth),p256dh:Hv(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:Hv(y.vapidKey)}}}else if(4===s){const y=m;e={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:Hv(y.auth),p256dh:Hv(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:Hv(y.vapidKey)}}}}),function(s,o,c,h){return i.apply(this,arguments)})})).close(),yield U6(oX),yield U6("fcm_vapid_details_db"),yield U6("undefined"),function UVe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var i}),aX.apply(this,arguments)}const WVe="firebase-messaging-database",zVe=1,r0="firebase-messaging-store";let lX=null;function cX(){return lX||(lX=Ow(WVe,zVe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(r0)}})),lX}function uX(){return uX=(0,te.A)(function*(t){const e=pX(t),i=yield(yield cX()).transaction(r0).objectStore(r0).get(e);if(i)return i;{const r=yield function HVe(t){return aX.apply(this,arguments)}(t.appConfig.senderId);if(r)return yield dX(t,r),r}}),uX.apply(this,arguments)}function dX(t,e){return hX.apply(this,arguments)}function hX(){return hX=(0,te.A)(function*(t,e){const n=pX(t),r=(yield cX()).transaction(r0,"readwrite");return yield r.objectStore(r0).put(e,n),yield r.done,e}),hX.apply(this,arguments)}function pX({appConfig:t}){return t.appId}const Tl=new hd("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function qVe(t,e){return gX.apply(this,arguments)}function gX(){return gX=(0,te.A)(function*(t,e){const n=yield yX(t),i=Jfe(e),r={method:"POST",headers:n,body:JSON.stringify(i)};let s;try{s=yield(yield fetch(_X(t.appConfig),r)).json()}catch(o){throw Tl.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Tl.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Tl.create("token-subscribe-no-token");return s.token}),gX.apply(this,arguments)}function mX(){return mX=(0,te.A)(function*(t,e){const n=yield yX(t),i=Jfe(e.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(i)};let s;try{s=yield(yield fetch(`${_X(t.appConfig)}/${e.token}`,r)).json()}catch(o){throw Tl.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Tl.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Tl.create("token-update-no-token");return s.token}),mX.apply(this,arguments)}function vX(){return vX=(0,te.A)(function*(t,e){const i={method:"DELETE",headers:yield yX(t)};try{const s=yield(yield fetch(`${_X(t.appConfig)}/${e}`,i)).json();if(s.error)throw Tl.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(r){throw Tl.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}}),vX.apply(this,arguments)}function _X({projectId:t}){return`${OVe}/projects/${t}/registrations`}function yX(t){return bX.apply(this,arguments)}function bX(){return bX=(0,te.A)(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}),bX.apply(this,arguments)}function Jfe({p256dh:t,auth:e,endpoint:n,vapidKey:i}){const r={web:{endpoint:n,auth:e,p256dh:t}};return i!==qfe&&(r.web.applicationPubKey=i),r}const YVe=6048e5;function CX(){return CX=(0,te.A)(function*(t){const e=yield function ZVe(t,e){return TX.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Hv(e.getKey("auth")),p256dh:Hv(e.getKey("p256dh"))},i=yield function Xfe(t){return uX.apply(this,arguments)}(t.firebaseDependencies);if(i){if(function e5e(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(i.subscriptionOptions,n))return Date.now()>=i.createTime+YVe?function JVe(t,e){return EX.apply(this,arguments)}(t,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{yield function Qfe(t,e){return vX.apply(this,arguments)}(t.firebaseDependencies,i.token)}catch(r){console.warn(r)}return Zfe(t.firebaseDependencies,n)}return Zfe(t.firebaseDependencies,n)}),CX.apply(this,arguments)}function EX(){return EX=(0,te.A)(function*(t,e){try{const n=yield function KVe(t,e){return mX.apply(this,arguments)}(t.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield dX(t.firebaseDependencies,i),n}catch(n){throw n}}),EX.apply(this,arguments)}function Zfe(t,e){return SX.apply(this,arguments)}function SX(){return SX=(0,te.A)(function*(t,e){const i={token:yield qVe(t,e),createTime:Date.now(),subscriptionOptions:e};return yield dX(t,i),i.token}),SX.apply(this,arguments)}function TX(){return TX=(0,te.A)(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:GVe(e)})}),TX.apply(this,arguments)}function epe(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function t5e(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const i=e.notification.body;i&&(t.notification.body=i);const r=e.notification.image;r&&(t.notification.image=r);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function n5e(t,e){e.data&&(t.data=e.data)}(e,t),function i5e(t,e){var n,i,r,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const c=null!==(r=null===(i=e.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(s=e.notification)||void 0===s?void 0:s.click_action;c&&(t.fcmOptions.link=c);const h=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;h&&(t.fcmOptions.analyticsLabel=h)}(e,t),e}function IX(t){return Tl.create("missing-app-config-values",{valueName:t})}!function s5e(t,e){const n=[];for(let i=0;i<t.length;i++)n.push(t.charAt(i)),i<e.length&&n.push(e.charAt(i));n.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class a5e{constructor(e,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function o5e(t){if(!t||!t.options)throw IX("App Configuration Object");if(!t.name)throw IX("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const i of e)if(!n[i])throw IX(i);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}}function AX(){return AX=(0,te.A)(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(MVe,{scope:NVe}),t.swRegistration.update().catch(()=>{})}catch(e){throw Tl.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}),AX.apply(this,arguments)}function DX(){return DX=(0,te.A)(function*(t,e){if(!e&&!t.swRegistration&&(yield function tpe(t){return AX.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Tl.create("invalid-sw-registration");t.swRegistration=e}}),DX.apply(this,arguments)}function RX(){return RX=(0,te.A)(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=qfe)}),RX.apply(this,arguments)}function xX(){return xX=(0,te.A)(function*(t,e){if(!navigator)throw Tl.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Tl.create("permission-blocked");return yield function c5e(t,e){return RX.apply(this,arguments)}(t,e?.vapidKey),yield function l5e(t,e){return DX.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function XVe(t){return CX.apply(this,arguments)}(t)}),xX.apply(this,arguments)}function PX(){return PX=(0,te.A)(function*(t,e,n){const i=function d5e(t){switch(t){case pG.NOTIFICATION_CLICKED:return"notification_open";case pG.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[Kfe],message_name:n[FVe],message_time:n[kVe],message_device_time:Math.floor(Date.now()/1e3)})}),PX.apply(this,arguments)}function MX(){return MX=(0,te.A)(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===pG.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(epe(n)):t.onMessageHandler.next(epe(n)));const i=n.data;(function r5e(t){return"object"==typeof t&&!!t&&Kfe in t})(i)&&"1"===i["google.c.a.e"]&&(yield function u5e(t,e,n){return PX.apply(this,arguments)}(t,n.messageType,i))}),MX.apply(this,arguments)}const ipe="@firebase/messaging",f5e=t=>{const e=new a5e(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function h5e(t,e){return MX.apply(this,arguments)}(e,n)),e},p5e=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:i=>function npe(t,e){return xX.apply(this,arguments)}(e,i)}};function spe(){return NX.apply(this,arguments)}function NX(){return(NX=(0,te.A)(function*(){try{yield py()}catch{return!1}return typeof window<"u"&&eg()&&n1()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function _5e(t=ng()){return spe().then(e=>{if(!e)throw Tl.create("unsupported-browser")},e=>{throw Tl.create("indexed-db-unsupported")}),Iu(Mr(t),"messaging").getImmediate()}!function g5e(){Cl(new fa("messaging",f5e,"PUBLIC")),Cl(new fa("messaging-internal",p5e,"PRIVATE")),tr(ipe,"0.12.12"),tr(ipe,"0.12.12","esm2017")}();class kX{constructor(e){return e}}const ape="__angularfire_symbol__messagingIsSupported",LX="__angularfire_symbol__messagingIsSupportedValue";globalThis[ape]||=spe().then(t=>globalThis[LX]=t).catch(()=>globalThis[LX]=!1);const gG={async:()=>globalThis[ape],sync:()=>{const t=globalThis[LX];if(void 0===t)throw new Error(Y6("Messaging"));return t}},VX=new d.nKC("angularfire2.messaging-instances");function C5e(t){return(e,n)=>{if(!gG.sync())return null;const i=e.runOutsideAngular(()=>t(n));return new kX(i)}}const w5e={provide:class y5e{constructor(){return Tf("messaging")}},deps:[[new d.Xx1,VX]]},E5e={provide:kX,useFactory:function b5e(t,e){if(!gG.sync())return null;const n=ig("messaging",t,e);return n&&new kX(n)},deps:[[new d.Xx1,VX],fd]},T5e=Po(_5e,!0),lpe="@firebase/performance",GX="0.6.9",cpe=GX,BX="FB-PERF-TRACE-MEASURE",ppe="@firebase/performance/config",gpe="@firebase/performance/configexpire",mpe="Performance",Il=new hd("performance",mpe,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),Rg=new v(mpe);let HX,vpe,_pe,WX;Rg.logLevel=a.INFO;class sl{constructor(e){if(this.window=e,!e)throw Il.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,n,i){!this.performance||!this.performance.measure||this.performance.measure(e,n,i)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&n1()?!!eg()||(Rg.info("IndexedDB is not supported by current browser"),!1):(Rg.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,n){this.PerformanceObserver&&new this.PerformanceObserver(r=>{for(const s of r.getEntries())n(s)}).observe({entryTypes:[e]})}static getInstance(){return void 0===HX&&(HX=new sl(vpe)),HX}}function UX(){return _pe}function ype(t,e){const n=t.length-e.length;if(n<0||n>1)throw Il.create("invalid String merger input");const i=[];for(let r=0;r<t.length;r++)i.push(t.charAt(r)),e.length>r&&i.push(e.charAt(r));return i.join("")}class Td{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=ype("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=ype("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===WX&&(WX=new Td),WX}}var aN=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}(aN||{});const N5e=["firebase_","google_","ga_"],O5e=new RegExp("^[a-zA-Z]\\w*$");function L5e(){const t=sl.getInstance().navigator;return t?.serviceWorker?t.serviceWorker.controller?2:3:1}function bpe(){switch(sl.getInstance().document.visibilityState){case"visible":return aN.VISIBLE;case"hidden":return aN.HIDDEN;default:return aN.UNKNOWN}}function V5e(){const e=sl.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Cpe(t){var e;const n=null===(e=t.options)||void 0===e?void 0:e.appId;if(!n)throw Il.create("no app id");return n}const W5e="0.0.1",Uf={loggingEnabled:!0},z5e="FIREBASE_INSTALLATIONS_AUTH";const K5e="Could not fetch config, will use default configs";function wpe(t){if(!t)return t;const e=Td.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0!==n.fpr_enabled?"true"===String(n.fpr_enabled):Uf.loggingEnabled,n.fpr_log_source?e.logSource=Number(n.fpr_log_source):Uf.logSource&&(e.logSource=Uf.logSource),n.fpr_log_endpoint_url?e.logEndPointUrl=n.fpr_log_endpoint_url:Uf.logEndPointUrl&&(e.logEndPointUrl=Uf.logEndPointUrl),n.fpr_log_transport_key?e.transportKey=n.fpr_log_transport_key:Uf.transportKey&&(e.transportKey=Uf.transportKey),void 0!==n.fpr_vc_network_request_sampling_rate?e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):void 0!==Uf.networkRequestsSamplingRate&&(e.networkRequestsSamplingRate=Uf.networkRequestsSamplingRate),void 0!==n.fpr_vc_trace_sampling_rate?e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):void 0!==Uf.tracesSamplingRate&&(e.tracesSamplingRate=Uf.tracesSamplingRate),e.logTraceAfterSampling=Epe(e.tracesSamplingRate),e.logNetworkAfterSampling=Epe(e.networkRequestsSamplingRate),t}function Epe(t){return Math.random()<=t}let jX,zX=1;function Spe(t){return zX=2,jX=jX||function J5e(t){return function Z5e(){const t=sl.getInstance().document;return new Promise(e=>{if(t&&"complete"!==t.readyState){const n=()=>{"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}().then(()=>function P5e(t){const e=t.getId();return e.then(n=>{_pe=n}),e}(t.installations)).then(e=>function j5e(t,e){const n=function $5e(){const t=sl.getInstance().localStorage;if(!t)return;const e=t.getItem(gpe);if(!e||!function X5e(t){return Number(t)>Date.now()}(e))return;const n=t.getItem(ppe);if(n)try{return JSON.parse(n)}catch{return}}();return n?(wpe(n),Promise.resolve()):function Y5e(t,e){return function M5e(t){const e=t.getToken();return e.then(n=>{}),e}(t.installations).then(n=>{const i=function H5e(t){var e;const n=null===(e=t.options)||void 0===e?void 0:e.projectId;if(!n)throw Il.create("no project id");return n}(t.app),r=function U5e(t){var e;const n=null===(e=t.options)||void 0===e?void 0:e.apiKey;if(!n)throw Il.create("no api key");return n}(t.app),o=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${i}/namespaces/fireperf:fetch?key=${r}`,{method:"POST",headers:{Authorization:`${z5e} ${n}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:n,app_id:Cpe(t.app),app_version:cpe,sdk_version:W5e})});return fetch(o).then(c=>{if(c.ok)return c.json();throw Il.create("RC response not ok")})}).catch(()=>{Rg.info(K5e)})}(t,e).then(wpe).then(i=>function q5e(t){const e=sl.getInstance().localStorage;!t||!e||(e.setItem(ppe,JSON.stringify(t)),e.setItem(gpe,String(Date.now()+60*Td.getInstance().configTimeToLive*60*1e3)))}(i),()=>{})}(t,e)).then(()=>Tpe(),()=>Tpe())}(t),jX}function Tpe(){zX=3}let qX,mG=3,cb=[],Ape=!1;function vG(t){setTimeout(()=>{if(0!==mG){if(!cb.length)return vG(1e4);!function iGe(){const t=cb.splice(0,1e3),e=t.map(i=>({source_extension_json_proto3:i.message,event_time_ms:String(i.eventTime)}));(function rGe(t,e){return function sGe(t){const e=Td.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then(n=>(n.ok||Rg.info("Call to Firebase backend failed."),n.json())).then(n=>{const i=Number(n.nextRequestWaitMillis);let r=1e4;isNaN(i)||(r=Math.max(i,r));const s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&"RETRY_REQUEST_LATER"===s[0].responseAction&&(cb=[...e,...cb],Rg.info("Retry transport request later.")),mG=3,vG(r)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Td.getInstance().logSource,log_event:e},t).catch(()=>{cb=[...t,...cb],mG--,Rg.info(`Tries left: ${mG}.`),vG(1e4)})}()}},t)}function Dpe(t,e){qX||(qX=function aGe(t){return(...e)=>{!function oGe(t){if(!t.eventTime||!t.message)throw Il.create("invalid cc log");cb=[...cb,t]}({message:t(...e),eventTime:Date.now()})}}(cGe)),qX(t,e)}function _G(t){const e=Td.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||sl.getInstance().requiredApisAvailable()&&(t.isAuto&&bpe()!==aN.VISIBLE||(function Q5e(){return 3===zX}()?KX(t):Spe(t.performanceController).then(()=>KX(t),()=>KX(t))))}function KX(t){if(!UX())return;const e=Td.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(()=>Dpe(t,1),0)}function cGe(t,e){return 0===e?function uGe(t){const e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:Rpe(t.performanceController.app),network_request_metric:e};return JSON.stringify(n)}(t):function dGe(t){const e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);const n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);const i={application_info:Rpe(t.performanceController.app),trace_metric:e};return JSON.stringify(i)}(t)}function Rpe(t){return{google_app_id:Cpe(t),app_instance_id:UX(),web_app_info:{sdk_version:cpe,page_url:sl.getInstance().getUrl(),service_worker_status:L5e(),visibility_state:bpe(),effective_connection_type:V5e()},application_process_state:0}}const pGe=["_fp","_fcp","_fid"];class ub{constructor(e,n,i=!1,r){this.performanceController=e,this.name=n,this.isAuto=i,this.state=1,this.customAttributes={},this.counters={},this.api=sl.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=r||`${BX}-${this.randomId}-${this.name}`,r&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw Il.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw Il.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),_G(this)}record(e,n,i){if(e<=0)throw Il.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw Il.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*n),this.startTimeUs=Math.floor(1e3*e),i&&i.attributes&&(this.customAttributes=Object.assign({},i.attributes)),i&&i.metrics)for(const r of Object.keys(i.metrics))isNaN(Number(i.metrics[r]))||(this.counters[r]=Math.floor(Number(i.metrics[r])));_G(this)}incrementMetric(e,n=1){this.putMetric(e,void 0===this.counters[e]?n:this.counters[e]+n)}putMetric(e,n){if(!function gGe(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith("_wt_")&&pGe.indexOf(t)>-1||!t.startsWith("_"))}(e,this.name))throw Il.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function mGe(t){const e=Math.floor(t);return e<t&&Rg.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}(n??0)}getMetric(e){return this.counters[e]||0}putAttribute(e,n){const i=function G5e(t){return!(0===t.length||t.length>40||N5e.some(n=>t.startsWith(n))||!t.match(O5e))}(e),r=function B5e(t){return 0!==t.length&&t.length<=100}(n);if(i&&r)this.customAttributes[e]=n;else{if(!i)throw Il.create("invalid attribute name",{attributeName:e});if(!r)throw Il.create("invalid attribute value",{attributeValue:n})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(1e3*n.duration),this.startTimeUs=Math.floor(1e3*(n.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,n,i,r){const s=sl.getInstance().getUrl();if(!s)return;const o=new ub(e,"_wt_"+s,!0),c=Math.floor(1e3*sl.getInstance().getTimeOrigin());if(o.setStartTime(c),n&&n[0]&&(o.setDuration(Math.floor(1e3*n[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*n[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*n[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*n[0].loadEventEnd))),i){const m=i.find(I=>"first-paint"===I.name);m&&m.startTime&&o.putMetric("_fp",Math.floor(1e3*m.startTime));const y=i.find(I=>"first-contentful-paint"===I.name);y&&y.startTime&&o.putMetric("_fcp",Math.floor(1e3*y.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}_G(o)}static createUserTimingTrace(e,n){_G(new ub(e,n,!1,n))}}function xpe(t,e){const n=e;if(!n||void 0===n.responseStart)return;const i=sl.getInstance().getTimeOrigin(),r=Math.floor(1e3*(n.startTime+i)),s=n.responseStart?Math.floor(1e3*(n.responseStart-n.startTime)):void 0,o=Math.floor(1e3*(n.responseEnd-n.startTime));!function lGe(t){const e=Td.getInstance();if(!e.instrumentationEnabled)return;const n=t.url,i=e.logEndPointUrl.split("?")[0],r=e.flTransportEndpointUrl.split("?")[0];n===i||n===r||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(()=>Dpe(t,0),0)}({performanceController:t,url:n.name&&n.name.split("?")[0],responsePayloadBytes:n.transferSize,startTimeUs:r,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:o})}function Ppe(t){UX()&&(setTimeout(()=>function yGe(t){const e=sl.getInstance(),n=e.getEntriesByType("navigation"),i=e.getEntriesByType("paint");if(e.onFirstInputDelay){let r=setTimeout(()=>{ub.createOobTrace(t,n,i),r=void 0},5e3);e.onFirstInputDelay(s=>{r&&(clearTimeout(r),ub.createOobTrace(t,n,i,s))})}else ub.createOobTrace(t,n,i)}(t),0),setTimeout(()=>function _Ge(t){const e=sl.getInstance(),n=e.getEntriesByType("resource");for(const i of n)xpe(t,i);e.setupObserver("resource",i=>xpe(t,i))}(t),0),setTimeout(()=>function bGe(t){const e=sl.getInstance(),n=e.getEntriesByType("measure");for(const i of n)Mpe(t,i);e.setupObserver("measure",i=>Mpe(t,i))}(t),0))}function Mpe(t,e){const n=e.name;n.substring(0,BX.length)!==BX&&ub.createUserTimingTrace(t,n)}class CGe{constructor(e,n){this.app=e,this.installations=n,this.initialized=!1}_init(e){this.initialized||(void 0!==e?.dataCollectionEnabled&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==e?.instrumentationEnabled&&(this.instrumentationEnabled=e.instrumentationEnabled),sl.getInstance().requiredApisAvailable()?py().then(n=>{n&&(function nGe(){Ape||(vG(5500),Ape=!0)}(),Spe(this).then(()=>Ppe(this),()=>Ppe(this)),this.initialized=!0)}).catch(n=>{Rg.info(`Environment doesn't support IndexedDB: ${n}`)}):Rg.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){Td.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return Td.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){Td.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return Td.getInstance().dataCollectionEnabled}}function EGe(t=ng()){return Iu(t=Mr(t),"performance").getImmediate()}const SGe=(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==n.name)throw Il.create("FB not default");if(typeof window>"u")throw Il.create("no window");!function x5e(t){vpe=t}(window);const r=new CGe(n,i);return r._init(e),r};!function TGe(){Cl(new fa("performance",SGe,"PUBLIC")),tr(lpe,GX),tr(lpe,GX,"esm2017")}();class YX{constructor(e){return e}}const Npe="performance",XX=new d.nKC("angularfire2.performance-instances");function DGe(t){return(e,n,i)=>{if(!ti(n))return null;const r=e.runOutsideAngular(()=>t(i));return new YX(r)}}const RGe={provide:class IGe{constructor(){return Tf(Npe)}},deps:[[new d.Xx1,XX]]},xGe={provide:YX,useFactory:function AGe(t,e,n){if(!ti(n))return null;const i=ig(Npe,t,e);return i&&new YX(i)},deps:[[new d.Xx1,XX],fd,d.Agw]},MGe=Po(EGe,!0),Ope="firebasestorage.googleapis.com";class Oo extends bl{constructor(e,n,i=0){super(QX(e),`Firebase Storage: ${n} (${QX(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Oo.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return QX(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var go=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(go||{});function QX(t){return"storage/"+t}function ZX(t){return new Oo(go.INVALID_ARGUMENT,t)}function Gpe(){return new Oo(go.APP_DELETED,"The Firebase app was deleted.")}class Qc{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Qc.makeFromUrl(e,n)}catch{return new Qc(e,"")}if(""===i.path)return i;throw function UGe(t){return new Oo(go.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)",c=new RegExp("^gs://"+r+"(/(.*))?$","i");function p(tt){tt.path_=decodeURIComponent(tt.path)}const y=n.replace(/[.]/g,"\\."),Le=[{regex:c,indices:{bucket:1,path:3},postModify:function s(tt){"/"===tt.path.charAt(tt.path.length-1)&&(tt.path_=tt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${y}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:p},{regex:new RegExp(`^https?://${n===Ope?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:p}];for(let tt=0;tt<Le.length;tt++){const zt=Le[tt],Ot=zt.regex.exec(e);if(Ot){let me=Ot[zt.indices.path];me||(me=""),i=new Qc(Ot[zt.indices.bucket],me),zt.postModify(i);break}}if(null==i)throw function HGe(t){return new Oo(go.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return i}}class KGe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function tQ(t,e,n,i){if(i<e)throw ZX(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw ZX(`Invalid value for '${t}'. Expected ${n} or less.`)}var PA=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(PA||{});class eBe{constructor(e,n,i,r,s,o,c,h,p,m,y,I=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=m,this.connectionFactory_=y,this.retry=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,U)=>{this.resolve_=L,this.reject_=U,this.start_()})}start_(){const n=(i,r)=>{const s=this.resolve_,o=this.reject_,c=r.connection;if(r.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());!function QGe(t){return void 0!==t}(h)?s():s(h)}catch(h){o(h)}else if(null!==c){const h=function JX(){return new Oo(go.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();h.serverResponse=c.getErrorText(),o(this.errorCallback_?this.errorCallback_(c,h):h)}else o(r.canceled?this.appDelete_?Gpe():function Lpe(){return new Oo(go.CANCELED,"User canceled the upload/download.")}():function kpe(){return new Oo(go.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new bG(!1,null,!0)):this.backoffId_=function YGe(t,e,n){let i=1,r=null,s=null,o=!1,c=0;function h(){return 2===c}let p=!1;function m(...Q){p||(p=!0,e.apply(null,Q))}function y(Q){r=setTimeout(()=>{r=null,t(L,h())},Q)}function I(){s&&clearTimeout(s)}function L(Q,...pe){if(p)return void I();if(Q)return I(),void m.call(null,Q,...pe);if(h()||o)return I(),void m.call(null,Q,...pe);let Le;i<64&&(i*=2),1===c?(c=2,Le=0):Le=1e3*(i+Math.random()),y(Le)}let U=!1;function X(Q){U||(U=!0,I(),!p&&(null!==r?(Q||(c=2),clearTimeout(r),y(0)):Q||(c=1)))}return y(0),s=setTimeout(()=>{o=!0,X(!0)},n),X}((i,r)=>{if(r)return void i(!1,new bG(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=c=>{null!==this.progressCallback_&&this.progressCallback_(c.loaded,c.lengthComputable?c.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const c=s.getErrorCode()===PA.NO_ERROR,h=s.getStatus();if(!c||function Upe(t,e){const n=t>=500&&t<600,r=-1!==[408,429].indexOf(t),s=-1!==e.indexOf(t);return n||r||s}(h,this.additionalRetryCodes_)&&this.retry){const m=s.getErrorCode()===PA.ABORT;return void i(!1,new bG(!1,null,m))}const p=-1!==this.successCodes_.indexOf(h);i(!0,new bG(p,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function XGe(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class bG{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}class s0{constructor(e,n){this._service=e,this._location=n instanceof Qc?n:Qc.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new s0(e,n)}get root(){const e=new Qc(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function qpe(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function pBe(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Qc(this._location.bucket,e);return new s0(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function qGe(t){return new Oo(go.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function lge(t,e){const n=e?.storageBucket;return null==n?null:Qc.makeFromBucketSpec(n,t)}class lQ{constructor(e,n,i,r,s){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=Ope,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Qc.makeFromBucketSpec(r,this._host):lge(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Qc.makeFromBucketSpec(this._url,e):lge(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tQ("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tQ("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,te.A)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const i=yield n.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,te.A)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new s0(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new KGe(Gpe());{const o=function sBe(t,e,n,i,r,s,o=!0){const c=function Hpe(t){const e=encodeURIComponent;let n="?";for(const i in t)t.hasOwnProperty(i)&&(n=n+(e(i)+"=")+e(t[i])+"&");return n=n.slice(0,-1),n}(t.urlParams),h=t.url+c,p=Object.assign({},t.headers);return function iBe(t,e){e&&(t["X-Firebase-GMPID"]=e)}(p,e),function tBe(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(p,n),function nBe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(p,s),function rBe(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(p,i),new eBe(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}(e,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){var i=this;return(0,te.A)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,n,r,s).getPromise()})()}}const cge="@firebase/storage";function ZBe(t=ng(),e){const i=Iu(t=Mr(t),"storage").getImmediate({identifier:e}),r=Zx("storage");return r&&function e4e(t,e,n,i={}){!function JBe(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken="string"==typeof r?r:Mk(r,t.app.options.projectId))}(t,e,n,i)}(i,...r),i}function t4e(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new lQ(n,i,r,e,sv)}!function n4e(){Cl(new fa("storage",t4e,"PUBLIC").setMultipleInstances(!0)),tr(cge,"0.13.2",""),tr(cge,"0.13.2","esm2017")}();class cQ{constructor(e){return e}}const uQ=new d.nKC("angularfire2.storage-instances");function s4e(t){return(e,n)=>{const i=e.runOutsideAngular(()=>t(n));return new cQ(i)}}const o4e={provide:class i4e{constructor(){return Tf("storage")}},deps:[[new d.Xx1,uQ]]},a4e={provide:cQ,useFactory:function r4e(t,e){const n=ig("storage",t,e);return n&&new cQ(n)},deps:[[new d.Xx1,uQ],fd]},c4e=Po(ZBe,!0),dQ="@firebase/remote-config",pge="remote-config",Hu=new hd("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function m4e(t=ng()){return Iu(t=Mr(t),pge).getImmediate()}class C4e{constructor(e,n,i,r){this.client=e,this.storage=n,this.storageCache=i,this.logger=r}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-n,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var n=this;return(0,te.A)(function*(){const[i,r]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(r&&n.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function w4e(t=navigator){return t.languages&&t.languages[0]||t.language}class E4e{constructor(e,n,i,r,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=i,this.projectId=r,this.apiKey=s,this.appId=o}fetch(e){var n=this;return(0,te.A)(function*(){const[i,r]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},h={sdk_version:n.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:n.appId,language_code:w4e()},p={method:"POST",headers:c,body:JSON.stringify(h)},m=fetch(o,p),y=new Promise((pe,Te)=>{e.signal.addEventListener(()=>{const Le=new Error("The operation was aborted.");Le.name="AbortError",Te(Le)})});let I;try{yield Promise.race([m,y]),I=yield m}catch(pe){let Te="fetch-client-network";throw"AbortError"===pe?.name&&(Te="fetch-timeout"),Hu.create(Te,{originalErrorMessage:pe?.message})}let L=I.status;const U=I.headers.get("ETag")||void 0;let X,Q;if(200===I.status){let pe;try{pe=yield I.json()}catch(Te){throw Hu.create("fetch-client-parse",{originalErrorMessage:Te?.message})}X=pe.entries,Q=pe.state}if("INSTANCE_STATE_UNSPECIFIED"===Q?L=500:"NO_CHANGE"===Q?L=304:("NO_TEMPLATE"===Q||"EMPTY_CONFIG"===Q)&&(X={}),304!==L&&200!==L)throw Hu.create("fetch-status",{httpStatus:L});return{status:L,eTag:U,config:X}})()}}class I4e{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return(0,te.A)(function*(){const i=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:i}){var r=this;return(0,te.A)(function*(){yield function S4e(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(s),i(Hu.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),s}catch(s){if(!function T4e(t){if(!(t instanceof bl&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Bk(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(o),r.attemptFetch(e,o)}})()}}class R4e{constructor(e,n,i,r,s){this.app=e,this._client=n,this._storageCache=i,this._storage=r,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function TG(t,e){const n=t.target.error||void 0;return Hu.create(e,{originalErrorMessage:n&&n?.message})}const o0="app_namespace_store";class N4e{constructor(e,n,i,r=function M4e(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=i=>{e(TG(i,"storage-open"))},n.onsuccess=i=>{t(i.target.result)},n.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(o0,{keyPath:"compositeKey"})}}catch(n){e(Hu.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return(0,te.A)(function*(){const i=yield n.openDbPromise;return new Promise((r,s)=>{const c=i.transaction([o0],"readonly").objectStore(o0),h=n.createCompositeKey(e);try{const p=c.get(h);p.onerror=m=>{s(TG(m,"storage-get"))},p.onsuccess=m=>{const y=m.target.result;r(y?y.value:void 0)}}catch(p){s(Hu.create("storage-get",{originalErrorMessage:p?.message}))}})})()}set(e,n){var i=this;return(0,te.A)(function*(){const r=yield i.openDbPromise;return new Promise((s,o)=>{const h=r.transaction([o0],"readwrite").objectStore(o0),p=i.createCompositeKey(e);try{const m=h.put({compositeKey:p,value:n});m.onerror=y=>{o(TG(y,"storage-set"))},m.onsuccess=()=>{s()}}catch(m){o(Hu.create("storage-set",{originalErrorMessage:m?.message}))}})})()}delete(e){var n=this;return(0,te.A)(function*(){const i=yield n.openDbPromise;return new Promise((r,s)=>{const c=i.transaction([o0],"readwrite").objectStore(o0),h=n.createCompositeKey(e);try{const p=c.delete(h);p.onerror=m=>{s(TG(m,"storage-delete"))},p.onsuccess=()=>{r()}}catch(p){s(Hu.create("storage-delete",{originalErrorMessage:p?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class O4e{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,te.A)(function*(){const n=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield i;o&&(e.lastSuccessfulFetchTimestampMillis=o);const c=yield r;c&&(e.activeConfig=c)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function k4e(){return mQ.apply(this,arguments)}function mQ(){return(mQ=(0,te.A)(function*(){if(!eg())return!1;try{return yield py()}catch{return!1}})).apply(this,arguments)}!function F4e(){Cl(new fa(pge,function t(e,{instanceIdentifier:n}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Hu.create("registration-window");if(!eg())throw Hu.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:c}=i.options;if(!s)throw Hu.create("registration-project-id");if(!o)throw Hu.create("registration-api-key");if(!c)throw Hu.create("registration-app-id");const h=new N4e(c,i.name,n=n||"firebase"),p=new O4e(h),m=new v(dQ);m.logLevel=a.ERROR;const y=new E4e(r,sv,n,s,o,c),I=new I4e(y,h),L=new C4e(I,h,p,m),U=new R4e(i,L,p,h,m);return function _4e(t){const e=Mr(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(U),U},"PUBLIC").setMultipleInstances(!0)),tr(dQ,"0.4.9"),tr(dQ,"0.4.9","esm2017")}();class vQ{constructor(e){return e}}const mge="remote-config",_Q="__angularfire_symbol__remoteConfigIsSupportedValue",vge="__angularfire_symbol__remoteConfigIsSupported";globalThis[vge]||=k4e().then(t=>globalThis[_Q]=t).catch(()=>globalThis[_Q]=!1);const IG={async:()=>globalThis[vge],sync:()=>{const t=globalThis[_Q];if(void 0===t)throw new Error(Y6("RemoteConfig"));return t}},yQ=new d.nKC("angularfire2.remote-config-instances");function G4e(t){return(e,n)=>{if(!IG.sync())return null;const i=e.runOutsideAngular(()=>t(n));return new vQ(i)}}const B4e={provide:class L4e{constructor(){return Tf(mge)}},deps:[[new d.Xx1,yQ]]},H4e={provide:vQ,useFactory:function V4e(t,e){if(!IG.sync())return null;const n=ig(mge,t,e);return n&&new vQ(n)},deps:[[new d.Xx1,yQ],fd]},W4e=Po(m4e,!0);Error;Error;class vHe{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}var Sge="@firebase/vertexai-preview";const SQ="vertexAI",Ige="us-central1";class SHe{constructor(e,n,i,r){var s;this.app=e,this.options=r;const o=i?.getImmediate({optional:!0}),c=n?.getImmediate({optional:!0});this.auth=c||null,this.appCheck=o||null,this.location=(null===(s=this.options)||void 0===s?void 0:s.location)||Ige}_delete(){return Promise.resolve()}}function QHe(t=function Obe(t=Yk){const e=Vw.get(t);if(!e&&t===Yk&&qte())return function Nbe(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:Yk,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!=typeof r||!r)throw hh.create("bad-app-name",{appName:String(r)});if(n||(n=qte()),!n)throw hh.create("no-options");const s=Vw.get(r);if(s){if(J6(n,s.options)&&J6(i,s.config))return s;throw hh.create("duplicate-app",{appName:r})}const o=new Xye(r);for(const h of p1.values())o.addComponent(h);const c=new tne(n,i,o);return Vw.set(r,c),c}();if(!e)throw hh.create("no-app",{appName:t});return e}(),e){return function ene(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}(t=function mHe(t){return t&&t._delegate?t._delegate:t}(t),SQ).getImmediate({identifier:e?.location||Ige})}!function JHe(){HT(new vHe(SQ,(t,{instanceIdentifier:e})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new SHe(n,i,r,{location:e})},"PUBLIC").setMultipleInstances(!0)),_y(Sge,"0.0.4"),_y(Sge,"0.0.4","esm2017")}();class VQ{constructor(e){return e}}const GQ=new d.nKC("angularfire2.vertexai-instances");function tUe(t){return(e,n)=>{const i=e.runOutsideAngular(()=>t(n));return new VQ(i)}}const nUe={provide:class ZHe{constructor(){return Tf("vertexai")}},deps:[[new d.Xx1,GQ]]},iUe={provide:VQ,useFactory:function eUe(t,e){const n=ig("vertexai",t,e);return n&&new VQ(n)},deps:[[new d.Xx1,GQ],fd]},sUe=Po(QHe,!0),aUe={providers:[function CD(t,...e){return(0,d.EmA)([{provide:lf,multi:!0,useValue:t},[],{provide:tf,useFactory:gB,deps:[Gc]},{provide:d.iLQ,multi:!0,useFactory:mB},e.map(n=>n.\u0275providers)])}(ONe),function VNe(t="animations"){return(0,d.ngT)("NgAsyncAnimations"),(0,d.EmA)([{provide:d._9s,useFactory:(e,n,i)=>new kNe(e,n,i,t),deps:[Be,kt,d.SKi]},{provide:d.bc$,useValue:"noop"===t?"NoopAnimations":"BrowserAnimations"}])}(),Cs,(0,d.Jn2)({eventCoalescing:!0}),function lU(...t){const e=[nw,sy,sw,{provide:nT,useExisting:sw},{provide:zm,useExisting:sy},{provide:rw,useValue:tx,multi:!0},{provide:ZR,useValue:!0},{provide:ex,useClass:aU}];for(const n of t)e.push(...n.\u0275providers);return(0,d.EmA)(e)}(),(0,d.oKB)([hy.forRoot({loader:{provide:Qm,useFactory:t=>new GNe(t,"./assets/i18n/",".json"),deps:[nw]}})]),function pye(t,...e){return(0,d.EmA)([dye,hye,{provide:X6,useFactory:fye(t),multi:!0,deps:[d.SKi,d.zZn,If,...e]}])}(()=>gye({projectId:"invoicegenerator-ce84e",appId:"1:407010071201:web:082960eec5aa95310c96e0",storageBucket:"invoicegenerator-ce84e.firebasestorage.app",apiKey:"AIzaSyAVwERNXW44fWraABlZTIKnMTghEOm0Ewc",authDomain:"invoicegenerator-ce84e.firebaseapp.com",messagingSenderId:"407010071201",measurementId:"G-J22B49Y3VJ"})),function STe(t,...e){return tr("angularfire",Au.full,"auth"),(0,d.EmA)([ETe,wTe,{provide:xj,useFactory:CTe(t),multi:!0,deps:[d.SKi,d.zZn,If,Af,[new d.Xx1,kT],...e]}])}(()=>ATe()),function kFe(t,...e){return tr("angularfire",Au.full,"analytics"),(0,d.EmA)([FFe,OFe,{provide:d.hnV,useValue:M5.async,multi:!0},{provide:UK,useFactory:NFe(t),multi:!0,deps:[d.SKi,d.zZn,If,Af,...e]}])}(()=>pFe()),PFe,Vde,function yRe(t,...e){return tr("angularfire",Au.full,"fst"),(0,d.EmA)([_Re,vRe,{provide:Q$,useFactory:mRe(t),multi:!0,deps:[d.SKi,d.zZn,If,Af,[new d.Xx1,q1],[new d.Xx1,kT],...e]}])}(()=>CRe()),function sVe(t,...e){return tr("angularfire",Au.full,"rtdb"),(0,d.EmA)([rVe,iVe,{provide:JY,useFactory:nVe(t),multi:!0,deps:[d.SKi,d.zZn,If,Af,[new d.Xx1,q1],[new d.Xx1,kT],...e]}])}(()=>oVe()),function xVe(t,...e){return tr("angularfire",Au.full,"fn"),(0,d.EmA)([RVe,DVe,{provide:sX,useFactory:AVe(t),multi:!0,deps:[d.SKi,d.zZn,If,Af,[new d.Xx1,q1],[new d.Xx1,kT],...e]}])}(()=>PVe()),function S5e(t,...e){return tr("angularfire",Au.full,"fcm"),(0,d.EmA)([E5e,w5e,{provide:d.hnV,useValue:gG.async,multi:!0},{provide:VX,useFactory:C5e(t),multi:!0,deps:[d.SKi,d.zZn,If,Af,...e]}])}(()=>T5e()),function PGe(t,...e){return tr("angularfire",Au.full,"perf"),(0,d.EmA)([xGe,RGe,{provide:XX,useFactory:DGe(t),multi:!0,deps:[d.SKi,d.Agw,d.zZn,If,Af,...e]}])}(()=>MGe()),function l4e(t,...e){return tr("angularfire",Au.full,"gcs"),(0,d.EmA)([a4e,o4e,{provide:uQ,useFactory:s4e(t),multi:!0,deps:[d.SKi,d.zZn,If,Af,[new d.Xx1,q1],[new d.Xx1,kT],...e]}])}(()=>c4e()),function U4e(t,...e){return tr("angularfire",Au.full,"rc"),(0,d.EmA)([H4e,B4e,{provide:d.hnV,useValue:IG.async,multi:!0},{provide:yQ,useFactory:G4e(t),multi:!0,deps:[d.SKi,d.zZn,If,Af,...e]}])}(()=>W4e()),function rUe(t,...e){return tr("angularfire",Au.full,"vertexai"),(0,d.EmA)([iUe,nUe,{provide:GQ,useFactory:tUe(t),multi:!0,deps:[d.SKi,d.zZn,If,Af,[new d.Xx1,kT],...e]}])}(()=>sUe())]};let BQ=(()=>{class t{constructor(){this.themeSignal=(0,d.vPA)("light")}get theme$(){return this.themeSignal.asReadonly()}get currentTheme(){return this.themeSignal()}toggleTheme(){const n="light"===this.currentTheme?"dark":"light";this.themeSignal.set(n),document.body.classList.remove("light-theme","dark-theme"),document.body.classList.add(`${n}-theme`)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function lUe(t,e){1&t&&d.nrm(0,"img",5)}function cUe(t,e){1&t&&d.nrm(0,"img",6)}let uUe=(()=>{class t{constructor(){this.themeService=(0,d.WQX)(BQ)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["app-logo"]],standalone:!0,features:[d.aNF],decls:7,vars:5,consts:[["id","logo-header"],[1,"flex","space-x-1","lg:space-x-4","items-center"],["class","object-contain h-8 w-12 lg:h-12 lg:w-12 rounded-full","src","assets/images/logo-dark.png","alt","MoSahar Logo",4,"ngIf"],["class","object-contain h-8 w-12 lg:h-12 lg:w-12 rounded-full","src","assets/images/logo.png","alt","MoSahar Logo",4,"ngIf"],[1,"m-0","p-0","text-lg","font-semibold","lg:text-2xl","inline-block"],["src","assets/images/logo-dark.png","alt","MoSahar Logo",1,"object-contain","h-8","w-12","lg:h-12","lg:w-12","rounded-full"],["src","assets/images/logo.png","alt","MoSahar Logo",1,"object-contain","h-8","w-12","lg:h-12","lg:w-12","rounded-full"]],template:function(i,r){1&i&&(d.j41(0,"section",0)(1,"div",1),d.DNE(2,lUe,1,0,"img",2)(3,cUe,1,0,"img",3),d.j41(4,"p",4),d.EFF(5),d.nI1(6,"translate"),d.k0s()()()),2&i&&(d.R7$(2),d.Y8G("ngIf","dark"===r.themeService.currentTheme),d.R7$(),d.Y8G("ngIf","light"===r.themeService.currentTheme),d.R7$(2),d.JRh(d.bMT(6,3,"CORE.COMPANY NAME")))},dependencies:[hy,Aw,Lg]})}}return t})();function dUe(t,e){1&t&&d.nrm(0,"i",12)}function hUe(t,e){1&t&&d.nrm(0,"i",13)}function fUe(t,e){1&t&&d.nrm(0,"i",14)}function pUe(t,e){1&t&&d.nrm(0,"i",15)}function gUe(t,e){if(1&t){const n=d.RV6();d.j41(0,"button",16),d.bIt("click",function(){d.eBV(n);const r=d.XpG();return d.Njj(r.login())}),d.nrm(1,"i",17),d.k0s()}}function mUe(t,e){if(1&t){const n=d.RV6();d.j41(0,"button",18),d.bIt("click",function(){d.eBV(n);const r=d.XpG();return d.Njj(r.logout())}),d.nrm(1,"i",19),d.k0s()}}let vUe=(()=>{class t{logout(){this.authService.logout(),localStorage.removeItem("user"),localStorage.removeItem("userToken"),this.router.navigate(["/"])}constructor(){this.authService=(0,d.WQX)(e9),this.router=(0,d.WQX)(Gc),this.translationService=(0,d.WQX)(RT),this.themeService=(0,d.WQX)(BQ),this.translationService.setDefaultLang("en"),this.translationService.use("en")}switchLanguage(n){this.translationService.use(n)}toggleLanguage(){this.translationService.use("en"===this.translationService.currentLang?"or":"en")}toggleTheme(){console.log("Toggling theme"),console.log(`before: ${this.themeService.currentTheme}`),this.themeService.toggleTheme(),console.log(`after: ${this.themeService.currentTheme}`)}login(){this.router.navigate(["/login"])}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["app-header"]],standalone:!0,features:[d.aNF],decls:13,vars:6,consts:[[1,"header","fixed","top-0","left-0","right-0","shadow-md","z-50","px-4","py-2","h-18"],[1,"flex","justify-between","items-center"],[1,"flex","items-center","justify-between"],[1,"lang-btn",3,"click"],["class","fas fa-globe","matTooltip","Change language to English",4,"ngIf"],["class","fas fa-globe","matTooltip","Change language to Oriya",4,"ngIf"],[1,"theme-toggle-btn",3,"click"],["class","fas fa-moon","matTooltip","Toggle dark mode",4,"ngIf"],["class","fas fa-sun","matTooltip","Toggle light mode",4,"ngIf"],[1,"login-logout-switch"],["matTooltip","Login","type","button",3,"click",4,"ngIf"],["matTooltip","Logout","type","button",3,"click",4,"ngIf"],["matTooltip","Change language to English",1,"fas","fa-globe"],["matTooltip","Change language to Oriya",1,"fas","fa-globe"],["matTooltip","Toggle dark mode",1,"fas","fa-moon"],["matTooltip","Toggle light mode",1,"fas","fa-sun"],["matTooltip","Login","type","button",3,"click"],[1,"fas","fa-sign-in-alt"],["matTooltip","Logout","type","button",3,"click"],[1,"fas","fa-sign-out-alt"]],template:function(i,r){1&i&&(d.j41(0,"header",0)(1,"div",1),d.nrm(2,"app-logo"),d.j41(3,"nav",2)(4,"button",3),d.bIt("click",function(){return r.toggleLanguage()}),d.DNE(5,dUe,1,0,"i",4)(6,hUe,1,0,"i",5),d.k0s(),d.j41(7,"button",6),d.bIt("click",function(){return r.toggleTheme()}),d.DNE(8,fUe,1,0,"i",7)(9,pUe,1,0,"i",8),d.k0s(),d.j41(10,"div",9),d.DNE(11,gUe,2,0,"button",10)(12,mUe,2,0,"button",11),d.k0s()()()()),2&i&&(d.R7$(5),d.Y8G("ngIf","or"===r.translationService.currentLang),d.R7$(),d.Y8G("ngIf","en"===r.translationService.currentLang),d.R7$(2),d.Y8G("ngIf","light"===r.themeService.theme$()),d.R7$(),d.Y8G("ngIf","dark"===r.themeService.theme$()),d.R7$(2),d.Y8G("ngIf",null===r.authService.currUserSig()),d.R7$(),d.Y8G("ngIf",null!==r.authService.currUserSig()))},dependencies:[uUe,YS,hy,Va,Lg,Tk,T6,b2]})}}return t})(),_Ue=(()=>{class t{constructor(){this.currentYear=(new Date).getFullYear()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["app-footer"]],standalone:!0,features:[d.aNF],decls:5,vars:4,consts:[[1,"footer","w-full","shadow-md","z-50","px-4","py-2"],[1,"flex","justify-center","gap-2"]],template:function(i,r){1&i&&(d.j41(0,"footer",0)(1,"div",1)(2,"p"),d.EFF(3),d.nI1(4,"translate"),d.k0s()()()),2&i&&(d.R7$(3),d.Lme("\xa9 ",r.currentYear," ",d.bMT(4,2,"CORE.COMPANY NAME"),". All rights reserved."))},dependencies:[hy,Aw]})}}return t})();(function we(t,e){return(0,d.TL3)({rootComponent:t,...Ge(e)})})((()=>{class t{constructor(){this.title="invoice-generator",this.themeService=(0,d.WQX)(BQ),this.authService=(0,d.WQX)(e9),this.router=(0,d.WQX)(Gc)}toggleTheme(){this.themeService.toggleTheme()}ngOnInit(){document.body.classList.add(`${this.themeService.currentTheme}-theme`),this.authService.user$.subscribe(n=>{this.authService.currUserSig.set(n?{email:n?.email,userName:n?.displayName}:null)}),null!=localStorage.getItem("user")&&this.router.navigate(["/home"])}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["app-root"]],standalone:!0,features:[d.aNF],decls:4,vars:0,consts:[["id","main-container",1,"main-container"]],template:function(i,r){1&i&&(d.nrm(0,"app-header"),d.j41(1,"section",0),d.nrm(2,"router-outlet"),d.k0s(),d.nrm(3,"app-footer"))},dependencies:[hm,Va,vUe,_Ue]})}}return t})(),aUe).catch(t=>console.error(t))},4941:function(rs,yi,Kt){var d;typeof globalThis<"u"?globalThis:typeof this<"u"||(typeof window<"u"?window:typeof self<"u"?self:global),rs.exports=(d=function(){try{return Kt(9107)}catch{}}(),function(){"use strict";var Jn={172:function(gn,Be){var ln=this&&this.__extends||function(){var He=function(bt,rt){return(He=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ft,Mt){Ft.__proto__=Mt}||function(Ft,Mt){for(var xt in Mt)Object.prototype.hasOwnProperty.call(Mt,xt)&&(Ft[xt]=Mt[xt])})(bt,rt)};return function(bt,rt){if("function"!=typeof rt&&null!==rt)throw new TypeError("Class extends value "+String(rt)+" is not a constructor or null");function Ft(){this.constructor=bt}He(bt,rt),bt.prototype=null===rt?Object.create(rt):(Ft.prototype=rt.prototype,new Ft)}}();Object.defineProperty(Be,"__esModule",{value:!0}),Be.CellHookData=Be.HookData=void 0;var mn=function(){return function He(bt,rt,Ft){this.table=rt,this.pageNumber=rt.pageNumber,this.pageCount=this.pageNumber,this.settings=rt.settings,this.cursor=Ft,this.doc=bt.getDocument()}}();Be.HookData=mn;var _t=function(He){function bt(rt,Ft,Mt,xt,st,Ae){var Xe=He.call(this,rt,Ft,Ae)||this;return Xe.cell=Mt,Xe.row=xt,Xe.column=st,Xe.section=xt.section,Xe}return ln(bt,He),bt}(mn);Be.CellHookData=_t},340:function(gn,Be,ln){Object.defineProperty(Be,"__esModule",{value:!0});var mn=ln(4),_t=ln(136),He=ln(744),bt=ln(776),rt=ln(664),Ft=ln(972);Be.default=function Mt(xt){xt.API.autoTable=function(){for(var st=[],Ae=0;Ae<arguments.length;Ae++)st[Ae]=arguments[Ae];var Xe;1===st.length?Xe=st[0]:(console.error("Use of deprecated autoTable initiation"),(Xe=st[2]||{}).columns=st[0],Xe.body=st[1]);var vt=(0,bt.parseInput)(this,Xe),ut=(0,Ft.createTable)(this,vt);return(0,rt.drawTable)(this,ut),this},xt.API.lastAutoTable=!1,xt.API.previousAutoTable=!1,xt.API.autoTable.previous=!1,xt.API.autoTableText=function(st,Ae,Xe,vt){(0,_t.default)(st,Ae,Xe,vt,this)},xt.API.autoTableSetDefaults=function(st){return He.DocHandler.setDefaults(st,this),this},xt.autoTableSetDefaults=function(st,Ae){He.DocHandler.setDefaults(st,Ae)},xt.API.autoTableHtmlToJson=function(st,Ae){var Xe;if(void 0===Ae&&(Ae=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var vt=new He.DocHandler(this),ut=(0,mn.parseHtml)(vt,st,window,Ae,!1),gt=ut.body;return{columns:(null===(Xe=ut.head[0])||void 0===Xe?void 0:Xe.map(function(Wt){return Wt.content}))||[],rows:gt,data:gt}},xt.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var st=this.lastAutoTable;return st&&st.finalY?st.finalY:0},xt.API.autoTableAddPageContent=function(st){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),xt.API.autoTable.globalDefaults||(xt.API.autoTable.globalDefaults={}),xt.API.autoTable.globalDefaults.addPageContent=st,this},xt.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}},136:function(gn,Be){Object.defineProperty(Be,"__esModule",{value:!0}),Be.default=function ln(mn,_t,He,bt,rt){bt=bt||{};var Mt=rt.internal.scaleFactor,xt=rt.internal.getFontSize()/Mt,Ae=xt*(rt.getLineHeightFactor?rt.getLineHeightFactor():1.15),vt="",ut=1;if(("middle"===bt.valign||"bottom"===bt.valign||"center"===bt.halign||"right"===bt.halign)&&(ut=(vt="string"==typeof mn?mn.split(/\r\n|\r|\n/g):mn).length||1),He+=xt*(2-1.15),"middle"===bt.valign?He-=ut/2*Ae:"bottom"===bt.valign&&(He-=ut*Ae),"center"===bt.halign||"right"===bt.halign){var Fe=xt;if("center"===bt.halign&&(Fe*=.5),vt&&ut>=1){for(var gt=0;gt<vt.length;gt++)rt.text(vt[gt],_t-rt.getStringUnitWidth(vt[gt])*Fe,He),He+=Ae;return rt}_t-=rt.getStringUnitWidth(mn)*Fe}return"justify"===bt.halign?rt.text(mn,_t,He,{maxWidth:bt.maxWidth||100,align:"justify"}):rt.text(mn,_t,He),rt}},420:function(gn,Be){function _t(rt,Ft){var Mt=rt>0,xt=Ft||0===Ft;return Mt&&xt?"DF":Mt?"S":xt?"F":null}function He(rt,Ft){var Mt,xt,st,Ae;if(rt=rt||Ft,Array.isArray(rt)){if(rt.length>=4)return{top:rt[0],right:rt[1],bottom:rt[2],left:rt[3]};if(3===rt.length)return{top:rt[0],right:rt[1],bottom:rt[2],left:rt[1]};if(2===rt.length)return{top:rt[0],right:rt[1],bottom:rt[0],left:rt[1]};rt=1===rt.length?rt[0]:Ft}return"object"==typeof rt?("number"==typeof rt.vertical&&(rt.top=rt.vertical,rt.bottom=rt.vertical),"number"==typeof rt.horizontal&&(rt.right=rt.horizontal,rt.left=rt.horizontal),{left:null!==(Mt=rt.left)&&void 0!==Mt?Mt:Ft,top:null!==(xt=rt.top)&&void 0!==xt?xt:Ft,right:null!==(st=rt.right)&&void 0!==st?st:Ft,bottom:null!==(Ae=rt.bottom)&&void 0!==Ae?Ae:Ft}):("number"!=typeof rt&&(rt=Ft),{top:rt,right:rt,bottom:rt,left:rt})}Object.defineProperty(Be,"__esModule",{value:!0}),Be.getPageAvailableWidth=Be.parseSpacing=Be.getFillStyle=Be.addTableBorder=Be.getStringWidth=void 0,Be.getStringWidth=function ln(rt,Ft,Mt){return Mt.applyStyles(Ft,!0),(Array.isArray(rt)?rt:[rt]).map(function(Ae){return Mt.getTextWidth(Ae)}).reduce(function(Ae,Xe){return Math.max(Ae,Xe)},0)},Be.addTableBorder=function mn(rt,Ft,Mt,xt){var st=Ft.settings.tableLineWidth;rt.applyStyles({lineWidth:st,lineColor:Ft.settings.tableLineColor});var Xe=_t(st,!1);Xe&&rt.rect(Mt.x,Mt.y,Ft.getWidth(rt.pageSize().width),xt.y-Mt.y,Xe)},Be.getFillStyle=_t,Be.parseSpacing=He,Be.getPageAvailableWidth=function bt(rt,Ft){var Mt=He(Ft.settings.margin,0);return rt.pageSize().width-(Mt.left+Mt.right)}},796:function(gn,Be){var ln=this&&this.__extends||function(){var bt=function(rt,Ft){return(bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Mt,xt){Mt.__proto__=xt}||function(Mt,xt){for(var st in xt)Object.prototype.hasOwnProperty.call(xt,st)&&(Mt[st]=xt[st])})(rt,Ft)};return function(rt,Ft){if("function"!=typeof Ft&&null!==Ft)throw new TypeError("Class extends value "+String(Ft)+" is not a constructor or null");function Mt(){this.constructor=rt}bt(rt,Ft),rt.prototype=null===Ft?Object.create(Ft):(Mt.prototype=Ft.prototype,new Mt)}}();Object.defineProperty(Be,"__esModule",{value:!0}),Be.getTheme=Be.defaultStyles=Be.HtmlRowInput=void 0;var mn=function(bt){function rt(Ft){var Mt=bt.call(this)||this;return Mt._element=Ft,Mt}return ln(rt,bt),rt}(Array);Be.HtmlRowInput=mn,Be.defaultStyles=function _t(bt){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/bt,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}},Be.getTheme=function He(bt){return{striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[bt]}},903:function(gn,Be,ln){Object.defineProperty(Be,"__esModule",{value:!0}),Be.parseCss=void 0;var mn=ln(420);function bt(Mt,xt){var st=rt(Mt,xt);if(!st)return null;var Ae=st.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!Ae||!Array.isArray(Ae))return null;var Xe=[parseInt(Ae[1]),parseInt(Ae[2]),parseInt(Ae[3])];return 0===parseInt(Ae[4])||isNaN(Xe[0])||isNaN(Xe[1])||isNaN(Xe[2])?null:Xe}function rt(Mt,xt){var st=xt(Mt);return"rgba(0, 0, 0, 0)"===st||"transparent"===st||"initial"===st||"inherit"===st?null==Mt.parentElement?null:rt(Mt.parentElement,xt):st}Be.parseCss=function _t(Mt,xt,st,Ae,Xe){var vt={},ut=1.3333333333333333,Fe=bt(xt,function(mt){return Xe.getComputedStyle(mt).backgroundColor});null!=Fe&&(vt.fillColor=Fe);var gt=bt(xt,function(mt){return Xe.getComputedStyle(mt).color});null!=gt&&(vt.textColor=gt);var Gt=function Ft(Mt,xt){var st=[Mt.paddingTop,Mt.paddingRight,Mt.paddingBottom,Mt.paddingLeft],Ae=96/(72/xt),Xe=(parseInt(Mt.lineHeight)-parseInt(Mt.fontSize))/xt/2,vt=st.map(function(Fe){return parseInt(Fe||"0")/Ae}),ut=(0,mn.parseSpacing)(vt,0);return Xe>ut.top&&(ut.top=Xe),Xe>ut.bottom&&(ut.bottom=Xe),ut}(Ae,st);Gt&&(vt.cellPadding=Gt);var Wt="borderTopColor",Rt=ut*st,xe=Ae.borderTopWidth;if(Ae.borderBottomWidth===xe&&Ae.borderRightWidth===xe&&Ae.borderLeftWidth===xe){var We=(parseFloat(xe)||0)/Rt;We&&(vt.lineWidth=We)}else vt.lineWidth={top:(parseFloat(Ae.borderTopWidth)||0)/Rt,right:(parseFloat(Ae.borderRightWidth)||0)/Rt,bottom:(parseFloat(Ae.borderBottomWidth)||0)/Rt,left:(parseFloat(Ae.borderLeftWidth)||0)/Rt},vt.lineWidth.top||(vt.lineWidth.right?Wt="borderRightColor":vt.lineWidth.bottom?Wt="borderBottomColor":vt.lineWidth.left&&(Wt="borderLeftColor"));var qt=bt(xt,function(mt){return Xe.getComputedStyle(mt)[Wt]});null!=qt&&(vt.lineColor=qt);var Wn=["left","right","center","justify"];-1!==Wn.indexOf(Ae.textAlign)&&(vt.halign=Ae.textAlign),-1!==(Wn=["middle","bottom","top"]).indexOf(Ae.verticalAlign)&&(vt.valign=Ae.verticalAlign);var Tt=parseInt(Ae.fontSize||"");isNaN(Tt)||(vt.fontSize=Tt/ut);var yt=function He(Mt){var xt="";return("bold"===Mt.fontWeight||"bolder"===Mt.fontWeight||parseInt(Mt.fontWeight)>=700)&&(xt="bold"),("italic"===Mt.fontStyle||"oblique"===Mt.fontStyle)&&(xt+="italic"),xt}(Ae);yt&&(vt.fontStyle=yt);var cn=(Ae.fontFamily||"").toLowerCase();return-1!==Mt.indexOf(cn)&&(vt.font=cn),vt}},744:function(gn,Be){Object.defineProperty(Be,"__esModule",{value:!0}),Be.DocHandler=void 0;var ln={},mn=function(){function _t(He){this.jsPDFDocument=He,this.userStyles={textColor:He.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:He.internal.getFontSize(),fontStyle:He.internal.getFont().fontStyle,font:He.internal.getFont().fontName,lineWidth:He.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:He.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return _t.setDefaults=function(He,bt){void 0===bt&&(bt=null),bt?bt.__autoTableDocumentDefaults=He:ln=He},_t.unifyColor=function(He){return Array.isArray(He)?He:"number"==typeof He?[He,He,He]:"string"==typeof He?[He]:null},_t.prototype.applyStyles=function(He,bt){var rt,Ft,Mt;void 0===bt&&(bt=!1),He.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(He.fontStyle);var xt=this.jsPDFDocument.internal.getFont(),st=xt.fontStyle,Ae=xt.fontName;if(He.font&&(Ae=He.font),He.fontStyle){st=He.fontStyle;var Xe=this.getFontList()[Ae];Xe&&-1===Xe.indexOf(st)&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(Xe[0]),st=Xe[0])}if(this.jsPDFDocument.setFont(Ae,st),He.fontSize&&this.jsPDFDocument.setFontSize(He.fontSize),!bt){var vt=_t.unifyColor(He.fillColor);vt&&(rt=this.jsPDFDocument).setFillColor.apply(rt,vt),(vt=_t.unifyColor(He.textColor))&&(Ft=this.jsPDFDocument).setTextColor.apply(Ft,vt),(vt=_t.unifyColor(He.lineColor))&&(Mt=this.jsPDFDocument).setDrawColor.apply(Mt,vt),"number"==typeof He.lineWidth&&this.jsPDFDocument.setLineWidth(He.lineWidth)}},_t.prototype.splitTextToSize=function(He,bt,rt){return this.jsPDFDocument.splitTextToSize(He,bt,rt)},_t.prototype.rect=function(He,bt,rt,Ft,Mt){return this.jsPDFDocument.rect(He,bt,rt,Ft,Mt)},_t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},_t.prototype.getTextWidth=function(He){return this.jsPDFDocument.getTextWidth(He)},_t.prototype.getDocument=function(){return this.jsPDFDocument},_t.prototype.setPage=function(He){this.jsPDFDocument.setPage(He)},_t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},_t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},_t.prototype.getGlobalOptions=function(){return ln||{}},_t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},_t.prototype.pageSize=function(){var He=this.jsPDFDocument.internal.pageSize;return null==He.width&&(He={width:He.getWidth(),height:He.getHeight()}),He},_t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},_t.prototype.getLineHeightFactor=function(){var He=this.jsPDFDocument;return He.getLineHeightFactor?He.getLineHeightFactor():1.15},_t.prototype.getLineHeight=function(He){return He/this.scaleFactor()*this.getLineHeightFactor()},_t.prototype.pageNumber=function(){var He=this.jsPDFDocument.internal.getCurrentPageInfo();return He?He.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},_t}();Be.DocHandler=mn},4:function(gn,Be,ln){Object.defineProperty(Be,"__esModule",{value:!0}),Be.parseHtml=void 0;var mn=ln(903),_t=ln(796);function bt(Ft,Mt,xt,st,Ae,Xe){for(var vt=new _t.HtmlRowInput(st),ut=0;ut<st.cells.length;ut++){var Fe=st.cells[ut],gt=xt.getComputedStyle(Fe);if(Ae||"none"!==gt.display){var Gt=void 0;Xe&&(Gt=(0,mn.parseCss)(Ft,Fe,Mt,gt,xt)),vt.push({rowSpan:Fe.rowSpan,colSpan:Fe.colSpan,styles:Gt,_element:Fe,content:rt(Fe)})}}var Wt=xt.getComputedStyle(st);if(vt.length>0&&(Ae||"none"!==Wt.display))return vt}function rt(Ft){var Mt=Ft.cloneNode(!0);return Mt.innerHTML=Mt.innerHTML.replace(/\n/g,"").replace(/ +/g," "),Mt.innerHTML=Mt.innerHTML.split(/<br.*?>/).map(function(xt){return xt.trim()}).join("\n"),Mt.innerText||Mt.textContent||""}Be.parseHtml=function He(Ft,Mt,xt,st,Ae){var Xe,vt,ut;void 0===st&&(st=!1),void 0===Ae&&(Ae=!1),ut="string"==typeof Mt?xt.document.querySelector(Mt):Mt;var Fe=Object.keys(Ft.getFontList()),gt=Ft.scaleFactor(),Gt=[],Wt=[],Rt=[];if(!ut)return console.error("Html table could not be found with input: ",Mt),{head:Gt,body:Wt,foot:Rt};for(var xe=0;xe<ut.rows.length;xe++){var We=ut.rows[xe],qt=null===(vt=null===(Xe=We?.parentElement)||void 0===Xe?void 0:Xe.tagName)||void 0===vt?void 0:vt.toLowerCase(),Wn=bt(Fe,gt,xt,We,st,Ae);Wn&&("thead"===qt?Gt.push(Wn):"tfoot"===qt?Rt.push(Wn):Wt.push(Wn))}return{head:Gt,body:Wt,foot:Rt}}},776:function(gn,Be,ln){Object.defineProperty(Be,"__esModule",{value:!0}),Be.parseInput=void 0;var mn=ln(4),_t=ln(356),He=ln(420),bt=ln(744),rt=ln(792);function vt(ut,Fe,gt){var Gt=ut[0]||Fe[0]||gt[0]||[],Wt=[];return Object.keys(Gt).filter(function(Rt){return"_element"!==Rt}).forEach(function(Rt){var We,xe=1;"object"==typeof(We=Array.isArray(Gt)?Gt[parseInt(Rt)]:Gt[Rt])&&!Array.isArray(We)&&(xe=We?.colSpan||1);for(var qt=0;qt<xe;qt++){var Wn;Wn=Array.isArray(Gt)?Wt.length:Rt+(qt>0?"_".concat(qt):""),Wt.push({dataKey:Wn})}}),Wt}Be.parseInput=function Ft(ut,Fe){var gt=new bt.DocHandler(ut),Gt=gt.getDocumentOptions(),Wt=gt.getGlobalOptions();(0,rt.default)(gt,Wt,Gt,Fe);var xe,Rt=(0,_t.assign)({},Wt,Gt,Fe);typeof window<"u"&&(xe=window);var We=function Mt(ut,Fe,gt){for(var Gt={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},Wt=function(qt){if("columnStyles"===qt)Gt.columnStyles=(0,_t.assign)({},ut[qt],Fe[qt],gt[qt]);else{var mt=[ut,Fe,gt].map(function(Hn){return Hn[qt]||{}});Gt[qt]=(0,_t.assign)({},mt[0],mt[1],mt[2])}},Rt=0,xe=Object.keys(Gt);Rt<xe.length;Rt++)Wt(xe[Rt]);return Gt}(Wt,Gt,Fe),qt=function xt(ut,Fe,gt){for(var Wt={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},Rt=0,xe=[ut,Fe,gt];Rt<xe.length;Rt++){var We=xe[Rt];We.didParseCell&&Wt.didParseCell.push(We.didParseCell),We.willDrawCell&&Wt.willDrawCell.push(We.willDrawCell),We.didDrawCell&&Wt.didDrawCell.push(We.didDrawCell),We.willDrawPage&&Wt.willDrawPage.push(We.willDrawPage),We.didDrawPage&&Wt.didDrawPage.push(We.didDrawPage)}return Wt}(Wt,Gt,Fe),Wn=function st(ut,Fe){var gt,Gt,Wt,Rt,xe,We,qt,Wn,Tt,yt,cn,mt,zn,Kn,Hn=(0,He.parseSpacing)(Fe.margin,40/ut.scaleFactor()),Sn=null!==(gt=function Ae(ut,Fe){var gt=ut.getLastAutoTable(),Gt=ut.scaleFactor(),Wt=ut.pageNumber(),Rt=!1;return gt&&gt.startPageNumber&&(Rt=gt.startPageNumber+gt.pageNumber-1===Wt),"number"==typeof Fe?Fe:null!=Fe&&!1!==Fe||!Rt||null==gt?.finalY?null:gt.finalY+20/Gt}(ut,Fe.startY))&&void 0!==gt?gt:Hn.top;zn=!0===Fe.showFoot?"everyPage":!1===Fe.showFoot?"never":null!==(Gt=Fe.showFoot)&&void 0!==Gt?Gt:"everyPage",Kn=!0===Fe.showHead?"everyPage":!1===Fe.showHead?"never":null!==(Wt=Fe.showHead)&&void 0!==Wt?Wt:"everyPage";var gi=null!==(Rt=Fe.useCss)&&void 0!==Rt&&Rt,cs=null!==(xe=Fe.horizontalPageBreakRepeat)&&void 0!==xe?xe:null;return{includeHiddenHtml:null!==(We=Fe.includeHiddenHtml)&&void 0!==We&&We,useCss:gi,theme:Fe.theme||(gi?"plain":"striped"),startY:Sn,margin:Hn,pageBreak:null!==(qt=Fe.pageBreak)&&void 0!==qt?qt:"auto",rowPageBreak:null!==(Wn=Fe.rowPageBreak)&&void 0!==Wn?Wn:"auto",tableWidth:null!==(Tt=Fe.tableWidth)&&void 0!==Tt?Tt:"auto",showHead:Kn,showFoot:zn,tableLineWidth:null!==(yt=Fe.tableLineWidth)&&void 0!==yt?yt:0,tableLineColor:null!==(cn=Fe.tableLineColor)&&void 0!==cn?cn:200,horizontalPageBreak:!!Fe.horizontalPageBreak,horizontalPageBreakRepeat:cs,horizontalPageBreakBehaviour:null!==(mt=Fe.horizontalPageBreakBehaviour)&&void 0!==mt?mt:"afterAllRows"}}(gt,Rt),Tt=function Xe(ut,Fe,gt){var Gt=Fe.head||[],Wt=Fe.body||[],Rt=Fe.foot||[];if(Fe.html)if(gt){var We=(0,mn.parseHtml)(ut,Fe.html,gt,Fe.includeHiddenHtml,Fe.useCss)||{};Gt=We.head||Gt,Wt=We.body||Gt,Rt=We.foot||Gt}else console.error("Cannot parse html in non browser environment");return{columns:Fe.columns||vt(Gt,Wt,Rt),head:Gt,body:Wt,foot:Rt}}(gt,Rt,xe);return{id:Fe.tableId,content:Tt,hooks:qt,styles:We,settings:Wn}}},792:function(gn,Be){function mn(_t){_t.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),_t.minCellHeight||(_t.minCellHeight=_t.rowHeight)):_t.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),_t.cellWidth||(_t.cellWidth=_t.columnWidth))}Object.defineProperty(Be,"__esModule",{value:!0}),Be.default=function ln(_t,He,bt,rt){for(var Ft=function(Ae){Ae&&"object"!=typeof Ae&&console.error("The options parameter should be of type object, is: "+typeof Ae),typeof Ae.extendWidth<"u"&&(Ae.tableWidth=Ae.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof Ae.margins<"u"&&(typeof Ae.margin>"u"&&(Ae.margin=Ae.margins),console.error("Use of deprecated option: margins, use margin instead.")),Ae.startY&&"number"!=typeof Ae.startY&&(console.error("Invalid value for startY option",Ae.startY),delete Ae.startY),!Ae.didDrawPage&&(Ae.afterPageContent||Ae.beforePageContent||Ae.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),Ae.didDrawPage=function(Rt){_t.applyStyles(_t.userStyles),Ae.beforePageContent&&Ae.beforePageContent(Rt),_t.applyStyles(_t.userStyles),Ae.afterPageContent&&Ae.afterPageContent(Rt),_t.applyStyles(_t.userStyles),Ae.afterPageAdd&&Rt.pageNumber>1&&Rt.afterPageAdd(Rt),_t.applyStyles(_t.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(Rt){Ae[Rt]&&console.error('The "'.concat(Rt,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(Rt){var xe=Rt[0],We=Rt[1];Ae[We]&&(console.error("Use of deprecated option ".concat(We,". Use ").concat(xe," instead")),Ae[xe]=Ae[We])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(Rt){var xe="string"==typeof Rt?Rt:Rt[0],We="string"==typeof Rt?Rt:Rt[1];typeof Ae[xe]<"u"&&(typeof Ae.styles[We]>"u"&&(Ae.styles[We]=Ae[xe]),console.error("Use of deprecated option: "+xe+", use the style "+We+" instead."))});for(var Xe=0,vt=["styles","bodyStyles","headStyles","footStyles"];Xe<vt.length;Xe++)mn(Ae[vt[Xe]]||{});for(var Fe=Ae.columnStyles||{},gt=0,Gt=Object.keys(Fe);gt<Gt.length;gt++)mn(Fe[Gt[gt]]||{})},Mt=0,xt=[He,bt,rt];Mt<xt.length;Mt++)Ft(xt[Mt])}},260:function(gn,Be,ln){Object.defineProperty(Be,"__esModule",{value:!0}),Be.Column=Be.Cell=Be.Row=Be.Table=void 0;var mn=ln(796),_t=ln(172),He=ln(420),bt=function(){function xt(st,Ae){this.pageNumber=1,this.pageCount=1,this.id=st.id,this.settings=st.settings,this.styles=st.styles,this.hooks=st.hooks,this.columns=Ae.columns,this.head=Ae.head,this.body=Ae.body,this.foot=Ae.foot}return xt.prototype.getHeadHeight=function(st){return this.head.reduce(function(Ae,Xe){return Ae+Xe.getMaxCellHeight(st)},0)},xt.prototype.getFootHeight=function(st){return this.foot.reduce(function(Ae,Xe){return Ae+Xe.getMaxCellHeight(st)},0)},xt.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},xt.prototype.callCellHooks=function(st,Ae,Xe,vt,ut,Fe){for(var gt=0,Gt=Ae;gt<Gt.length;gt++){var xe=!1===(0,Gt[gt])(new _t.CellHookData(st,this,Xe,vt,ut,Fe));if(Xe.text=Array.isArray(Xe.text)?Xe.text:[Xe.text],xe)return!1}return!0},xt.prototype.callEndPageHooks=function(st,Ae){st.applyStyles(st.userStyles);for(var Xe=0,vt=this.hooks.didDrawPage;Xe<vt.length;Xe++)(0,vt[Xe])(new _t.HookData(st,this,Ae))},xt.prototype.callWillDrawPageHooks=function(st,Ae){for(var Xe=0,vt=this.hooks.willDrawPage;Xe<vt.length;Xe++)(0,vt[Xe])(new _t.HookData(st,this,Ae))},xt.prototype.getWidth=function(st){if("number"==typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce(function(vt,ut){return vt+ut.wrappedWidth},0);var Xe=this.settings.margin;return st-Xe.left-Xe.right},xt}();Be.Table=bt;var rt=function(){function xt(st,Ae,Xe,vt,ut){void 0===ut&&(ut=!1),this.height=0,this.raw=st,st instanceof mn.HtmlRowInput&&(this.raw=st._element,this.element=st._element),this.index=Ae,this.section=Xe,this.cells=vt,this.spansMultiplePages=ut}return xt.prototype.getMaxCellHeight=function(st){var Ae=this;return st.reduce(function(Xe,vt){var ut;return Math.max(Xe,(null===(ut=Ae.cells[vt.index])||void 0===ut?void 0:ut.height)||0)},0)},xt.prototype.hasRowSpan=function(st){var Ae=this;return st.filter(function(Xe){var vt=Ae.cells[Xe.index];return!!vt&&vt.rowSpan>1}).length>0},xt.prototype.canEntireRowFit=function(st,Ae){return this.getMaxCellHeight(Ae)<=st},xt.prototype.getMinimumRowHeight=function(st,Ae){var Xe=this;return st.reduce(function(vt,ut){var Fe=Xe.cells[ut.index];if(!Fe)return 0;var gt=Ae.getLineHeight(Fe.styles.fontSize),Wt=Fe.padding("vertical")+gt;return Wt>vt?Wt:vt},0)},xt}();Be.Row=rt;var Ft=function(){function xt(st,Ae,Xe){var vt,ut;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=Ae,this.section=Xe,this.raw=st;var Fe=st;null==st||"object"!=typeof st||Array.isArray(st)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=st.rowSpan||1,this.colSpan=st.colSpan||1,Fe=null!==(ut=null!==(vt=st.content)&&void 0!==vt?vt:st.title)&&void 0!==ut?ut:st,st._element&&(this.raw=st._element)),this.text=(null!=Fe?""+Fe:"").split(/\r\n|\r|\n/g)}return xt.prototype.getTextPos=function(){var st,Xe;if("top"===this.styles.valign)st=this.y+this.padding("top");else if("bottom"===this.styles.valign)st=this.y+this.height-this.padding("bottom");else{var Ae=this.height-this.padding("vertical");st=this.y+Ae/2+this.padding("top")}if("right"===this.styles.halign)Xe=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var vt=this.width-this.padding("horizontal");Xe=this.x+vt/2+this.padding("left")}else Xe=this.x+this.padding("left");return{x:Xe,y:st}},xt.prototype.getContentHeight=function(st,Ae){void 0===Ae&&(Ae=1.15);var ut=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/st*Ae)+this.padding("vertical");return Math.max(ut,this.styles.minCellHeight)},xt.prototype.padding=function(st){var Ae=(0,He.parseSpacing)(this.styles.cellPadding,0);return"vertical"===st?Ae.top+Ae.bottom:"horizontal"===st?Ae.left+Ae.right:Ae[st]},xt}();Be.Cell=Ft;var Mt=function(){function xt(st,Ae,Xe){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=st,this.raw=Ae,this.index=Xe}return xt.prototype.getMaxCustomCellWidth=function(st){for(var Ae=0,Xe=0,vt=st.allRows();Xe<vt.length;Xe++){var Fe=vt[Xe].cells[this.index];Fe&&"number"==typeof Fe.styles.cellWidth&&(Ae=Math.max(Ae,Fe.styles.cellWidth))}return Ae},xt}();Be.Column=Mt},356:function(gn,Be){Object.defineProperty(Be,"__esModule",{value:!0}),Be.assign=void 0,Be.assign=function ln(mn,_t,He,bt,rt){if(null==mn)throw new TypeError("Cannot convert undefined or null to object");for(var Ft=Object(mn),Mt=1;Mt<arguments.length;Mt++){var xt=arguments[Mt];if(null!=xt)for(var st in xt)Object.prototype.hasOwnProperty.call(xt,st)&&(Ft[st]=xt[st])}return Ft}},972:function(gn,Be,ln){Object.defineProperty(Be,"__esModule",{value:!0}),Be.createTable=void 0;var mn=ln(744),_t=ln(260),He=ln(324),bt=ln(796),rt=ln(356);function xt(ut,Fe,gt,Gt,Wt,Rt){var xe={};return Fe.map(function(qt,Wn){for(var Tt=0,yt={},cn=0,mt=0,Hn=0,Sn=gt;Hn<Sn.length;Hn++){var zn=Sn[Hn];if(null==xe[zn.index]||0===xe[zn.index].left)if(0===mt){var Kn,gi={};"object"==typeof(Kn=Array.isArray(qt)?qt[zn.index-cn-Tt]:qt[zn.dataKey])&&!Array.isArray(Kn)&&(gi=Kn?.styles||{});var oi=vt(ut,zn,Wn,Wt,Gt,Rt,gi),Fn=new _t.Cell(Kn,oi,ut);yt[zn.dataKey]=Fn,yt[zn.index]=Fn,xe[zn.index]={left:Fn.rowSpan-1,times:mt=Fn.colSpan-1}}else mt--,cn++;else xe[zn.index].left--,mt=xe[zn.index].times,Tt++}return new _t.Row(qt,Wn,ut,yt)})}function st(ut,Fe){var gt={};return ut.forEach(function(Gt){if(null!=Gt.raw){var Wt=function Ae(ut,Fe){if("head"===ut){if("object"==typeof Fe)return Fe.header||Fe.title||null;if("string"==typeof Fe||"number"==typeof Fe)return Fe}else if("foot"===ut&&"object"==typeof Fe)return Fe.footer;return null}(Fe,Gt.raw);null!=Wt&&(gt[Gt.dataKey]=Wt)}}),Object.keys(gt).length>0?gt:null}function vt(ut,Fe,gt,Gt,Wt,Rt,xe){var qt,We=(0,bt.getTheme)(Gt);"head"===ut?qt=Wt.headStyles:"body"===ut?qt=Wt.bodyStyles:"foot"===ut&&(qt=Wt.footStyles);var Wn=(0,rt.assign)({},We.table,We[ut],Wt.styles,qt),yt="body"===ut&&(Wt.columnStyles[Fe.dataKey]||Wt.columnStyles[Fe.index])||{},cn="body"===ut&&gt%2==0?(0,rt.assign)({},We.alternateRow,Wt.alternateRowStyles):{},mt=(0,bt.defaultStyles)(Rt),Hn=(0,rt.assign)({},mt,Wn,cn,yt);return(0,rt.assign)(Hn,xe)}Be.createTable=function Ft(ut,Fe){var gt=new mn.DocHandler(ut),Gt=function Mt(ut,Fe){var Wt,gt=ut.content,Gt=function Xe(ut){return ut.map(function(Fe,gt){var Gt,Wt,Rt;return Rt="object"==typeof Fe&&null!==(Wt=null!==(Gt=Fe.dataKey)&&void 0!==Gt?Gt:Fe.key)&&void 0!==Wt?Wt:gt,new _t.Column(Rt,Fe,gt)})}(gt.columns);0===gt.head.length&&(Wt=st(Gt,"head"))&&gt.head.push(Wt),0===gt.foot.length&&(Wt=st(Gt,"foot"))&&gt.foot.push(Wt);var Rt=ut.settings.theme,xe=ut.styles;return{columns:Gt,head:xt("head",gt.head,Gt,xe,Rt,Fe),body:xt("body",gt.body,Gt,xe,Rt,Fe),foot:xt("foot",gt.foot,Gt,xe,Rt,Fe)}}(Fe,gt.scaleFactor()),Wt=new _t.Table(Fe,Gt);return(0,He.calculateWidths)(gt,Wt),gt.applyStyles(gt.userStyles),Wt}},664:function(gn,Be,ln){Object.defineProperty(Be,"__esModule",{value:!0}),Be.addPage=Be.drawTable=void 0;var mn=ln(420),_t=ln(260),He=ln(744),bt=ln(356),rt=ln(136),Ft=ln(224);function st(Tt,yt,cn,mt){var Hn=yt.settings;Tt.applyStyles(Tt.userStyles),("firstPage"===Hn.showHead||"everyPage"===Hn.showHead)&&yt.head.forEach(function(Sn){return Wt(Tt,yt,Sn,cn,mt)})}function Xe(Tt,yt,cn,mt,Hn,Sn){Tt.applyStyles(Tt.userStyles),Sn=Sn??yt.body.length;var zn=Math.min(cn+Sn,yt.body.length),Kn=-1;return yt.body.slice(cn,zn).forEach(function(gi,oi){var cs=We(Tt,yt,cn+oi===yt.body.length-1,mt);gi.canEntireRowFit(cs,Hn)&&(Wt(Tt,yt,gi,mt,Hn),Kn=cn+oi)}),Kn}function vt(Tt,yt,cn,mt){var Hn=yt.settings;Tt.applyStyles(Tt.userStyles),("lastPage"===Hn.showFoot||"everyPage"===Hn.showFoot)&&yt.foot.forEach(function(Sn){return Wt(Tt,yt,Sn,cn,mt)})}function ut(Tt,yt,cn){var mt=cn.getLineHeight(Tt.styles.fontSize),Hn=Tt.padding("vertical"),Sn=Math.floor((yt-Hn)/mt);return Math.max(0,Sn)}function Gt(Tt,yt,cn,mt,Hn,Sn,zn){var Kn=We(Tt,yt,mt,Sn);if(cn.canEntireRowFit(Kn,zn))Wt(Tt,yt,cn,Sn,zn);else if(function gt(Tt,yt,cn,mt){var Hn=Tt.pageSize().height,Sn=mt.settings.margin,Kn=Hn-(Sn.top+Sn.bottom);"body"===yt.section&&(Kn-=mt.getHeadHeight(mt.columns)+mt.getFootHeight(mt.columns));var gi=yt.getMinimumRowHeight(mt.columns,Tt),oi=gi<cn;if(gi>Kn)return console.error("Will not be able to print row ".concat(yt.index," correctly since it's minimum height is larger than page height")),!0;if(!oi)return!1;var Fn=yt.hasRowSpan(mt.columns);return yt.getMaxCellHeight(mt.columns)>Kn?(Fn&&console.error("The content of row ".concat(yt.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(Fn||"avoid"===mt.settings.rowPageBreak)}(Tt,cn,Kn,yt)){var gi=function Fe(Tt,yt,cn,mt){var Hn={};Tt.spansMultiplePages=!0,Tt.height=0;for(var Sn=0,zn=0,Kn=cn.columns;zn<Kn.length;zn++)if(oi=Tt.cells[(gi=Kn[zn]).index]){Array.isArray(oi.text)||(oi.text=[oi.text]);var Fn=new _t.Cell(oi.raw,oi.styles,oi.section);(Fn=(0,bt.assign)(Fn,oi)).text=[];var cs=ut(oi,yt,mt);oi.text.length>cs&&(Fn.text=oi.text.splice(cs,oi.text.length));var mo=mt.scaleFactor(),tu=mt.getLineHeightFactor();oi.contentHeight=oi.getContentHeight(mo,tu),oi.contentHeight>=yt&&(oi.contentHeight=yt,Fn.styles.minCellHeight-=yt),oi.contentHeight>Tt.height&&(Tt.height=oi.contentHeight),Fn.contentHeight=Fn.getContentHeight(mo,tu),Fn.contentHeight>Sn&&(Sn=Fn.contentHeight),Hn[gi.index]=Fn}var hc=new _t.Row(Tt.raw,-1,Tt.section,Hn,!0);hc.height=Sn;for(var $f=0,$v=cn.columns;$f<$v.length;$f++){var gi,oi;(Fn=hc.cells[(gi=$v[$f]).index])&&(Fn.height=hc.height),(oi=Tt.cells[gi.index])&&(oi.height=Tt.height)}return hc}(cn,Kn,yt,Tt);Wt(Tt,yt,cn,Sn,zn),qt(Tt,yt,Hn,Sn,zn),Gt(Tt,yt,gi,mt,Hn,Sn,zn)}else qt(Tt,yt,Hn,Sn,zn),Gt(Tt,yt,cn,mt,Hn,Sn,zn)}function Wt(Tt,yt,cn,mt,Hn){mt.x=yt.settings.margin.left;for(var Sn=0,zn=Hn;Sn<zn.length;Sn++){var Kn=zn[Sn],gi=cn.cells[Kn.index];if(gi)if(Tt.applyStyles(gi.styles),gi.x=mt.x,gi.y=mt.y,!1!==yt.callCellHooks(Tt,yt.hooks.willDrawCell,gi,cn,Kn,mt)){Rt(Tt,gi,mt);var Fn=gi.getTextPos();(0,rt.default)(gi.text,Fn.x,Fn.y,{halign:gi.styles.halign,valign:gi.styles.valign,maxWidth:Math.ceil(gi.width-gi.padding("left")-gi.padding("right"))},Tt.getDocument()),yt.callCellHooks(Tt,yt.hooks.didDrawCell,gi,cn,Kn,mt),mt.x+=Kn.width}else mt.x+=Kn.width;else mt.x+=Kn.width}mt.y+=cn.height}function Rt(Tt,yt,cn){var mt=yt.styles;if(Tt.getDocument().setFillColor(Tt.getDocument().getFillColor()),"number"==typeof mt.lineWidth){var Hn=(0,mn.getFillStyle)(mt.lineWidth,mt.fillColor);Hn&&Tt.rect(yt.x,cn.y,yt.width,yt.height,Hn)}else"object"==typeof mt.lineWidth&&(mt.fillColor&&Tt.rect(yt.x,cn.y,yt.width,yt.height,"F"),function xe(Tt,yt,cn,mt){var Hn,Sn,zn,Kn;function gi(oi,Fn,cs,mo,tu){Tt.getDocument().setLineWidth(oi),Tt.getDocument().line(Fn,cs,mo,tu,"S")}mt.top&&(Hn=cn.x,zn=cn.x+yt.width,mt.right&&(zn+=.5*mt.right),mt.left&&(Hn-=.5*mt.left),gi(mt.top,Hn,Sn=cn.y,zn,Kn=cn.y)),mt.bottom&&(Hn=cn.x,zn=cn.x+yt.width,mt.right&&(zn+=.5*mt.right),mt.left&&(Hn-=.5*mt.left),gi(mt.bottom,Hn,Sn=cn.y+yt.height,zn,Kn=cn.y+yt.height)),mt.left&&(Sn=cn.y,Kn=cn.y+yt.height,mt.top&&(Sn-=.5*mt.top),mt.bottom&&(Kn+=.5*mt.bottom),gi(mt.left,Hn=cn.x,Sn,zn=cn.x,Kn)),mt.right&&(Sn=cn.y,Kn=cn.y+yt.height,mt.top&&(Sn-=.5*mt.top),mt.bottom&&(Kn+=.5*mt.bottom),gi(mt.right,Hn=cn.x+yt.width,Sn,zn=cn.x+yt.width,Kn))}(Tt,yt,cn,mt.lineWidth))}function We(Tt,yt,cn,mt){var Hn=yt.settings.margin.bottom,Sn=yt.settings.showFoot;return("everyPage"===Sn||"lastPage"===Sn&&cn)&&(Hn+=yt.getFootHeight(yt.columns)),Tt.pageSize().height-mt.y-Hn}function qt(Tt,yt,cn,mt,Hn,Sn){void 0===Hn&&(Hn=[]),void 0===Sn&&(Sn=!1),Tt.applyStyles(Tt.userStyles),"everyPage"===yt.settings.showFoot&&!Sn&&yt.foot.forEach(function(Kn){return Wt(Tt,yt,Kn,mt,Hn)}),yt.callEndPageHooks(Tt,mt);var zn=yt.settings.margin;(0,mn.addTableBorder)(Tt,yt,cn,mt),Wn(Tt),yt.pageNumber++,yt.pageCount++,mt.x=zn.left,mt.y=zn.top,cn.y=zn.top,yt.callWillDrawPageHooks(Tt,mt),"everyPage"===yt.settings.showHead&&(yt.head.forEach(function(Kn){return Wt(Tt,yt,Kn,mt,Hn)}),Tt.applyStyles(Tt.userStyles))}function Wn(Tt){var yt=Tt.pageNumber();return Tt.setPage(yt+1),Tt.pageNumber()===yt&&(Tt.addPage(),!0)}Be.drawTable=function Mt(Tt,yt){var cn=yt.settings,mt=cn.startY,Hn=cn.margin,Sn={x:Hn.left,y:mt},zn=yt.getHeadHeight(yt.columns)+yt.getFootHeight(yt.columns),Kn=mt+Hn.bottom+zn;"avoid"===cn.pageBreak&&(Kn+=yt.body.reduce(function(mo,tu){return mo+tu.height},0));var Fn=new He.DocHandler(Tt);("always"===cn.pageBreak||null!=cn.startY&&Kn>Fn.pageSize().height)&&(Wn(Fn),Sn.y=Hn.top),yt.callWillDrawPageHooks(Fn,Sn);var cs=(0,bt.assign)({},Sn);yt.startPageNumber=Fn.pageNumber(),cn.horizontalPageBreak?function xt(Tt,yt,cn,mt){var Hn=(0,Ft.calculateAllColumnsCanFitInPage)(Tt,yt);if("afterAllRows"===yt.settings.horizontalPageBreakBehaviour)Hn.forEach(function(oi,Fn){Tt.applyStyles(Tt.userStyles),Fn>0?qt(Tt,yt,cn,mt,oi.columns,!0):st(Tt,yt,mt,oi.columns),function Ae(Tt,yt,cn,mt,Hn){Tt.applyStyles(Tt.userStyles),yt.body.forEach(function(Sn,zn){Gt(Tt,yt,Sn,zn===yt.body.length-1,cn,mt,Hn)})}(Tt,yt,cn,mt,oi.columns),vt(Tt,yt,mt,oi.columns)});else for(var zn=-1,Kn=Hn[0],gi=function(){var oi=zn;if(Kn){Tt.applyStyles(Tt.userStyles);var Fn=Kn.columns;zn>=0?qt(Tt,yt,cn,mt,Fn,!0):st(Tt,yt,mt,Fn),oi=Xe(Tt,yt,zn+1,mt,Fn),vt(Tt,yt,mt,Fn)}var cs=oi-zn;Hn.slice(1).forEach(function(mo){Tt.applyStyles(Tt.userStyles),qt(Tt,yt,cn,mt,mo.columns,!0),Xe(Tt,yt,zn+1,mt,mo.columns,cs),vt(Tt,yt,mt,mo.columns)}),zn=oi};zn<yt.body.length-1;)gi()}(Fn,yt,cs,Sn):(Fn.applyStyles(Fn.userStyles),("firstPage"===cn.showHead||"everyPage"===cn.showHead)&&yt.head.forEach(function(mo){return Wt(Fn,yt,mo,Sn,yt.columns)}),Fn.applyStyles(Fn.userStyles),yt.body.forEach(function(mo,tu){Gt(Fn,yt,mo,tu===yt.body.length-1,cs,Sn,yt.columns)}),Fn.applyStyles(Fn.userStyles),("lastPage"===cn.showFoot||"everyPage"===cn.showFoot)&&yt.foot.forEach(function(mo){return Wt(Fn,yt,mo,Sn,yt.columns)})),(0,mn.addTableBorder)(Fn,yt,cs,Sn),yt.callEndPageHooks(Fn,Sn),yt.finalY=Sn.y,Tt.lastAutoTable=yt,Tt.previousAutoTable=yt,Tt.autoTable&&(Tt.autoTable.previous=yt),Fn.applyStyles(Fn.userStyles)},Be.addPage=qt},224:function(gn,Be,ln){Object.defineProperty(Be,"__esModule",{value:!0}),Be.calculateAllColumnsCanFitInPage=void 0;var mn=ln(420);function _t(bt,rt,Ft){var Mt;void 0===Ft&&(Ft={});var xt=(0,mn.getPageAvailableWidth)(bt,rt),st=new Map,Ae=[],Xe=[],vt=[];Array.isArray(rt.settings.horizontalPageBreakRepeat)?vt=rt.settings.horizontalPageBreakRepeat:("string"==typeof rt.settings.horizontalPageBreakRepeat||"number"==typeof rt.settings.horizontalPageBreakRepeat)&&(vt=[rt.settings.horizontalPageBreakRepeat]),vt.forEach(function(Gt){var Wt=rt.columns.find(function(Rt){return Rt.dataKey===Gt||Rt.index===Gt});Wt&&!st.has(Wt.index)&&(st.set(Wt.index,!0),Ae.push(Wt.index),Xe.push(rt.columns[Wt.index]),xt-=Wt.wrappedWidth)});for(var ut=!0,Fe=null!==(Mt=Ft?.start)&&void 0!==Mt?Mt:0;Fe<rt.columns.length;)if(st.has(Fe))Fe++;else{var gt=rt.columns[Fe].wrappedWidth;if(!(ut||xt>=gt))break;ut=!1,Ae.push(Fe),Xe.push(rt.columns[Fe]),xt-=gt,Fe++}return{colIndexes:Ae,columns:Xe,lastIndex:Fe-1}}Be.calculateAllColumnsCanFitInPage=function He(bt,rt){for(var Ft=[],Mt=0;Mt<rt.columns.length;Mt++){var xt=_t(bt,rt,{start:Mt});xt.columns.length&&(Ft.push(xt),Mt=xt.lastIndex)}return Ft}},324:function(gn,Be,ln){Object.defineProperty(Be,"__esModule",{value:!0}),Be.ellipsize=Be.resizeColumns=Be.calculateWidths=void 0;var mn=ln(420);function bt(Ae,Xe,vt){for(var ut=Xe,Fe=Ae.reduce(function(Tt,yt){return Tt+yt.wrappedWidth},0),gt=0;gt<Ae.length;gt++){var Gt=Ae[gt],xe=Gt.width+ut*(Gt.wrappedWidth/Fe),We=vt(Gt),qt=xe<We?We:xe;Xe-=qt-Gt.width,Gt.width=qt}if(Xe=Math.round(1e10*Xe)/1e10){var Wn=Ae.filter(function(Tt){return!(Xe<0)||Tt.width>vt(Tt)});Wn.length&&(Xe=bt(Wn,Xe,vt))}return Xe}function xt(Ae,Xe,vt,ut,Fe){return Ae.map(function(gt){return function st(Ae,Xe,vt,ut,Fe){var gt=1e4*ut.scaleFactor();if((Xe=Math.ceil(Xe*gt)/gt)>=(0,mn.getStringWidth)(Ae,vt,ut))return Ae;for(;Xe<(0,mn.getStringWidth)(Ae+Fe,vt,ut)&&!(Ae.length<=1);)Ae=Ae.substring(0,Ae.length-1);return Ae.trim()+Fe}(gt,Xe,vt,ut,Fe)})}Be.calculateWidths=function _t(Ae,Xe){!function He(Ae,Xe){var vt=Ae.scaleFactor(),ut=Xe.settings.horizontalPageBreak,Fe=(0,mn.getPageAvailableWidth)(Ae,Xe);Xe.allRows().forEach(function(gt){for(var Gt=0,Wt=Xe.columns;Gt<Wt.length;Gt++){var Rt=Wt[Gt],xe=gt.cells[Rt.index];if(xe){Xe.callCellHooks(Ae,Xe.hooks.didParseCell,xe,gt,Rt,null);var qt=xe.padding("horizontal");xe.contentWidth=(0,mn.getStringWidth)(xe.text,xe.styles,Ae)+qt;var Wn=(0,mn.getStringWidth)(xe.text.join(" ").split(/[^\S\u00A0]+/),xe.styles,Ae);xe.minReadableWidth=Wn+xe.padding("horizontal"),"number"==typeof xe.styles.cellWidth?(xe.minWidth=xe.styles.cellWidth,xe.wrappedWidth=xe.styles.cellWidth):"wrap"===xe.styles.cellWidth||!0===ut?xe.contentWidth>Fe?(xe.minWidth=Fe,xe.wrappedWidth=Fe):(xe.minWidth=xe.contentWidth,xe.wrappedWidth=xe.contentWidth):(xe.minWidth=xe.styles.minCellWidth||10/vt,xe.wrappedWidth=xe.contentWidth,xe.minWidth>xe.wrappedWidth&&(xe.wrappedWidth=xe.minWidth))}}}),Xe.allRows().forEach(function(gt){for(var Gt=0,Wt=Xe.columns;Gt<Wt.length;Gt++){var Rt=Wt[Gt],xe=gt.cells[Rt.index];if(xe&&1===xe.colSpan)Rt.wrappedWidth=Math.max(Rt.wrappedWidth,xe.wrappedWidth),Rt.minWidth=Math.max(Rt.minWidth,xe.minWidth),Rt.minReadableWidth=Math.max(Rt.minReadableWidth,xe.minReadableWidth);else{var We=Xe.styles.columnStyles[Rt.dataKey]||Xe.styles.columnStyles[Rt.index]||{},qt=We.cellWidth||We.minCellWidth;qt&&"number"==typeof qt&&(Rt.minWidth=qt,Rt.wrappedWidth=qt)}xe&&(xe.colSpan>1&&!Rt.minWidth&&(Rt.minWidth=xe.minWidth),xe.colSpan>1&&!Rt.wrappedWidth&&(Rt.wrappedWidth=xe.minWidth))}})}(Ae,Xe);var vt=[],ut=0;Xe.columns.forEach(function(gt){var Gt=gt.getMaxCustomCellWidth(Xe);Gt?gt.width=Gt:(gt.width=gt.wrappedWidth,vt.push(gt)),ut+=gt.width});var Fe=Xe.getWidth(Ae.pageSize().width)-ut;Fe&&(Fe=bt(vt,Fe,function(gt){return Math.max(gt.minReadableWidth,gt.minWidth)})),Fe&&(Fe=bt(vt,Fe,function(gt){return gt.minWidth})),Fe=Math.abs(Fe),!Xe.settings.horizontalPageBreak&&Fe>.1/Ae.scaleFactor()&&(Fe=Fe<1?Fe:Math.round(Fe),console.warn("Of the table content, ".concat(Fe," units width could not fit page"))),function Ft(Ae){for(var Xe=Ae.allRows(),vt=0;vt<Xe.length;vt++)for(var ut=Xe[vt],Fe=null,gt=0,Gt=0,Wt=0;Wt<Ae.columns.length;Wt++){var Rt=Ae.columns[Wt];if((Gt-=1)>1&&Ae.columns[Wt+1])gt+=Rt.width,delete ut.cells[Rt.index];else if(Fe){var xe=Fe;delete ut.cells[Rt.index],Fe=null,xe.width=Rt.width+gt}else{if(!(xe=ut.cells[Rt.index]))continue;if(Gt=xe.colSpan,gt=0,xe.colSpan>1){Fe=xe,gt+=Rt.width;continue}xe.width=Rt.width+gt}}}(Xe),function Mt(Ae,Xe){for(var vt={count:0,height:0},ut=0,Fe=Ae.allRows();ut<Fe.length;ut++){for(var gt=Fe[ut],Gt=0,Wt=Ae.columns;Gt<Wt.length;Gt++){var xe=gt.cells[Wt[Gt].index];if(xe){Xe.applyStyles(xe.styles,!0);var We=xe.width-xe.padding("horizontal");if("linebreak"===xe.styles.overflow)xe.text=Xe.splitTextToSize(xe.text,We+1/Xe.scaleFactor(),{fontSize:xe.styles.fontSize});else if("ellipsize"===xe.styles.overflow)xe.text=xt(xe.text,We,xe.styles,Xe,"...");else if("hidden"===xe.styles.overflow)xe.text=xt(xe.text,We,xe.styles,Xe,"");else if("function"==typeof xe.styles.overflow){var qt=xe.styles.overflow(xe.text,We);xe.text="string"==typeof qt?[qt]:qt}xe.contentHeight=xe.getContentHeight(Xe.scaleFactor(),Xe.getLineHeightFactor());var Wn=xe.contentHeight/xe.rowSpan;xe.rowSpan>1&&vt.count*vt.height<Wn*xe.rowSpan?vt={height:Wn,count:xe.rowSpan}:vt&&vt.count>0&&vt.height>Wn&&(Wn=vt.height),Wn>gt.height&&(gt.height=Wn)}}vt.count--}}(Xe,Ae),function rt(Ae){for(var Xe={},vt=1,ut=Ae.allRows(),Fe=0;Fe<ut.length;Fe++)for(var gt=ut[Fe],Gt=0,Wt=Ae.columns;Gt<Wt.length;Gt++){var Rt=Wt[Gt],xe=Xe[Rt.index];if(vt>1)vt--,delete gt.cells[Rt.index];else if(xe)xe.cell.height+=gt.height,vt=xe.cell.colSpan,delete gt.cells[Rt.index],xe.left--,xe.left<=1&&delete Xe[Rt.index];else{var We=gt.cells[Rt.index];if(!We)continue;if(We.height=gt.height,We.rowSpan>1){var qt=ut.length-Fe;Xe[Rt.index]={cell:We,left:We.rowSpan>qt?qt:We.rowSpan,row:gt}}}}}(Xe)},Be.resizeColumns=bt,Be.ellipsize=xt},964:function(gn){if(typeof d>"u"){var Be=new Error("Cannot find module 'undefined'");throw Be.code="MODULE_NOT_FOUND",Be}gn.exports=d}},Cn={};function rn(gn){var Be=Cn[gn];if(void 0!==Be)return Be.exports;var ln=Cn[gn]={exports:{}};return Jn[gn].call(ln.exports,ln,ln.exports,rn),ln.exports}var wn={};return function(){var gn=wn;Object.defineProperty(gn,"__esModule",{value:!0}),gn.Cell=gn.Column=gn.Row=gn.Table=gn.CellHookData=gn.__drawTable=gn.__createTable=gn.applyPlugin=void 0;var Be=rn(340),ln=rn(776),mn=rn(664),_t=rn(972),He=rn(260);Object.defineProperty(gn,"Table",{enumerable:!0,get:function(){return He.Table}});var bt=rn(172);Object.defineProperty(gn,"CellHookData",{enumerable:!0,get:function(){return bt.CellHookData}});var rt=rn(260);function Ft(Xe){(0,Be.default)(Xe)}Object.defineProperty(gn,"Cell",{enumerable:!0,get:function(){return rt.Cell}}),Object.defineProperty(gn,"Column",{enumerable:!0,get:function(){return rt.Column}}),Object.defineProperty(gn,"Row",{enumerable:!0,get:function(){return rt.Row}}),gn.applyPlugin=Ft,gn.__createTable=function xt(Xe,vt){var ut=(0,ln.parseInput)(Xe,vt);return(0,_t.createTable)(Xe,ut)},gn.__drawTable=function st(Xe,vt){(0,mn.drawTable)(Xe,vt)};try{var Ae=rn(964);Ae.jsPDF&&(Ae=Ae.jsPDF),Ft(Ae)}catch{}gn.default=function Mt(Xe,vt){var ut=(0,ln.parseInput)(Xe,vt),Fe=(0,_t.createTable)(Xe,ut);(0,mn.drawTable)(Xe,Fe)}}(),wn}())},9107:(rs,yi,Kt)=>{"use strict";Kt.r(yi),Kt.d(yi,{AcroForm:()=>A0,AcroFormAppearance:()=>$n,AcroFormButton:()=>Xs,AcroFormCheckBox:()=>i_,AcroFormChoiceField:()=>Wu,AcroFormComboBox:()=>Fh,AcroFormEditBox:()=>Fd,AcroFormListBox:()=>Od,AcroFormPasswordField:()=>ba,AcroFormPushButton:()=>op,AcroFormRadioButton:()=>kh,AcroFormTextField:()=>kd,GState:()=>np,ShadingPattern:()=>Pd,TilingPattern:()=>Nh,default:()=>KN,jsPDF:()=>ti});var d=Kt(2284),rn=Uint8Array,wn=Uint16Array,gn=Int32Array,Be=new rn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ln=new rn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),mn=new rn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_t=function(w,_){for(var C=new wn(31),T=0;T<31;++T)C[T]=_+=1<<w[T-1];var x=new gn(C[30]);for(T=1;T<30;++T)for(var R=C[T];R<C[T+1];++R)x[R]=R-C[T]<<5|T;return{b:C,r:x}},He=_t(Be,2),bt=He.b,rt=He.r;bt[28]=258,rt[258]=28;for(var Ft=_t(ln,0),Mt=Ft.b,xt=Ft.r,st=new wn(32768),Ae=0;Ae<32768;++Ae){var Xe=(43690&Ae)>>1|(21845&Ae)<<1;st[Ae]=((65280&(Xe=(61680&(Xe=(52428&Xe)>>2|(13107&Xe)<<2))>>4|(3855&Xe)<<4))>>8|(255&Xe)<<8)>>1}var vt=function(w,_,C){for(var T=w.length,x=0,R=new wn(_);x<T;++x)w[x]&&++R[w[x]-1];var F,O=new wn(_);for(x=1;x<_;++x)O[x]=O[x-1]+R[x-1]<<1;if(C){F=new wn(1<<_);var V=15-_;for(x=0;x<T;++x)if(w[x])for(var j=x<<4|w[x],J=_-w[x],ee=O[w[x]-1]++<<J,se=ee|(1<<J)-1;ee<=se;++ee)F[st[ee]>>V]=j}else for(F=new wn(T),x=0;x<T;++x)w[x]&&(F[x]=st[O[w[x]-1]++]>>15-w[x]);return F},ut=new rn(288);for(Ae=0;Ae<144;++Ae)ut[Ae]=8;for(Ae=144;Ae<256;++Ae)ut[Ae]=9;for(Ae=256;Ae<280;++Ae)ut[Ae]=7;for(Ae=280;Ae<288;++Ae)ut[Ae]=8;var Fe=new rn(32);for(Ae=0;Ae<32;++Ae)Fe[Ae]=5;var gt=vt(ut,9,0),Gt=vt(ut,9,1),Wt=vt(Fe,5,0),Rt=vt(Fe,5,1),xe=function(w){for(var _=w[0],C=1;C<w.length;++C)w[C]>_&&(_=w[C]);return _},We=function(w,_,C){var T=_/8|0;return(w[T]|w[T+1]<<8)>>(7&_)&C},qt=function(w,_){var C=_/8|0;return(w[C]|w[C+1]<<8|w[C+2]<<16)>>(7&_)},Wn=function(w){return(w+7)/8|0},Tt=function(w,_,C){return(null==_||_<0)&&(_=0),(null==C||C>w.length)&&(C=w.length),new rn(w.subarray(_,C))},cn=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],mt=function(w,_,C){var T=new Error(_||cn[w]);if(T.code=w,Error.captureStackTrace&&Error.captureStackTrace(T,mt),!C)throw T;return T},Sn=function(w,_,C){var T=_/8|0;w[T]|=C<<=7&_,w[T+1]|=C>>8},zn=function(w,_,C){var T=_/8|0;w[T]|=C<<=7&_,w[T+1]|=C>>8,w[T+2]|=C>>16},Kn=function(w,_){for(var C=[],T=0;T<w.length;++T)w[T]&&C.push({s:T,f:w[T]});var x=C.length,R=C.slice();if(!x)return{t:hc,l:0};if(1==x){var O=new rn(C[0].s+1);return O[C[0].s]=1,{t:O,l:1}}C.sort(function(qe,Ht){return qe.f-Ht.f}),C.push({s:-1,f:25001});var F=C[0],V=C[1],j=0,J=1,ee=2;for(C[0]={s:-1,f:F.f+V.f,l:F,r:V};J!=x-1;)F=C[C[j].f<C[ee].f?j++:ee++],V=C[j!=J&&C[j].f<C[ee].f?j++:ee++],C[J++]={s:-1,f:F.f+V.f,l:F,r:V};var se=R[0].s;for(T=1;T<x;++T)R[T].s>se&&(se=R[T].s);var z=new wn(se+1),ye=gi(C[J-1],z,0);if(ye>_){T=0;var fe=0,Ce=ye-_,ae=1<<Ce;for(R.sort(function(Ht,at){return z[at.s]-z[Ht.s]||Ht.f-at.f});T<x;++T){var be=R[T].s;if(!(z[be]>_))break;fe+=ae-(1<<ye-z[be]),z[be]=_}for(fe>>=Ce;fe>0;){var ke=R[T].s;z[ke]<_?fe-=1<<_-z[ke]++-1:++T}for(;T>=0&&fe;--T){var Ee=R[T].s;z[Ee]==_&&(--z[Ee],++fe)}ye=_}return{t:new rn(z),l:ye}},gi=function(w,_,C){return-1==w.s?Math.max(gi(w.l,_,C+1),gi(w.r,_,C+1)):_[w.s]=C},oi=function(w){for(var _=w.length;_&&!w[--_];);for(var C=new wn(++_),T=0,x=w[0],R=1,O=function(V){C[T++]=V},F=1;F<=_;++F)if(w[F]==x&&F!=_)++R;else{if(!x&&R>2){for(;R>138;R-=138)O(32754);R>2&&(O(R>10?R-11<<5|28690:R-3<<5|12305),R=0)}else if(R>3){for(O(x),--R;R>6;R-=6)O(8304);R>2&&(O(R-3<<5|8208),R=0)}for(;R--;)O(x);R=1,x=w[F]}return{c:C.subarray(0,T),n:_}},Fn=function(w,_){for(var C=0,T=0;T<_.length;++T)C+=w[T]*_[T];return C},cs=function(w,_,C){var T=C.length,x=Wn(_+2);w[x]=255&T,w[x+1]=T>>8,w[x+2]=255^w[x],w[x+3]=255^w[x+1];for(var R=0;R<T;++R)w[x+R+4]=C[R];return 8*(x+4+T)},mo=function(w,_,C,T,x,R,O,F,V,j,J){Sn(_,J++,C),++x[256];for(var ee=Kn(x,15),se=ee.t,z=ee.l,ye=Kn(R,15),fe=ye.t,Ce=ye.l,ae=oi(se),be=ae.c,ke=ae.n,Ee=oi(fe),qe=Ee.c,Ht=Ee.n,at=new wn(19),Pe=0;Pe<be.length;++Pe)++at[31&be[Pe]];for(Pe=0;Pe<qe.length;++Pe)++at[31&qe[Pe]];for(var lt=Kn(at,7),kt=lt.t,ce=lt.l,he=19;he>4&&!kt[mn[he-1]];--he);var wt,Pt,nt,Vt,Ve=j+5<<3,_e=Fn(x,ut)+Fn(R,Fe)+O,It=Fn(x,se)+Fn(R,fe)+O+14+3*he+Fn(at,kt)+2*at[16]+3*at[17]+7*at[18];if(V>=0&&Ve<=_e&&Ve<=It)return cs(_,J,w.subarray(V,V+j));if(Sn(_,J,1+(It<_e)),J+=2,It<_e){wt=vt(se,z,0),Pt=se,nt=vt(fe,Ce,0),Vt=fe;var jt=vt(kt,ce,0);for(Sn(_,J,ke-257),Sn(_,J+5,Ht-1),Sn(_,J+10,he-4),J+=14,Pe=0;Pe<he;++Pe)Sn(_,J+3*Pe,kt[mn[Pe]]);J+=3*he;for(var En=[be,qe],ie=0;ie<2;++ie){var we=En[ie];for(Pe=0;Pe<we.length;++Pe)Sn(_,J,jt[De=31&we[Pe]]),J+=kt[De],De>15&&(Sn(_,J,we[Pe]>>5&127),J+=we[Pe]>>12)}}else wt=gt,Pt=ut,nt=Wt,Vt=Fe;for(Pe=0;Pe<F;++Pe){var Ge=T[Pe];if(Ge>255){var De;zn(_,J,wt[257+(De=Ge>>18&31)]),J+=Pt[De+257],De>7&&(Sn(_,J,Ge>>23&31),J+=Be[De]);var Je=31&Ge;zn(_,J,nt[Je]),J+=Vt[Je],Je>3&&(zn(_,J,Ge>>5&8191),J+=ln[Je])}else zn(_,J,wt[Ge]),J+=Pt[Ge]}return zn(_,J,wt[256]),J+Pt[256]},tu=new gn([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),hc=new rn(0),qv=function(){var w=1,_=0;return{p:function(C){for(var T=w,x=_,R=0|C.length,O=0;O!=R;){for(var F=Math.min(O+2655,R);O<F;++O)x+=T+=C[O];T=(65535&T)+15*(T>>16),x=(65535&x)+15*(x>>16)}w=T,_=x},d:function(){return(255&(w%=65521))<<24|(65280&w)<<8|(255&(_%=65521))<<8|_>>8}}},Kv=function(w,_,C,T,x){if(!x&&(x={l:1},_.dictionary)){var R=_.dictionary.subarray(-32768),O=new rn(R.length+w.length);O.set(R),O.set(w,R.length),w=O,x.w=R.length}return function(w,_,C,T,x,R){var O=R.z||w.length,F=new rn(T+O+5*(1+Math.ceil(O/7e3))+x),V=F.subarray(T,F.length-x),j=R.l,J=7&(R.r||0);if(_){J&&(V[0]=R.r>>3);for(var ee=tu[_-1],se=ee>>13,z=8191&ee,ye=(1<<C)-1,fe=R.p||new wn(32768),Ce=R.h||new wn(ye+1),ae=Math.ceil(C/3),be=2*ae,ke=function(hi){return(w[hi]^w[hi+1]<<ae^w[hi+2]<<be)&ye},Ee=new gn(25e3),qe=new wn(288),Ht=new wn(32),at=0,Pe=0,lt=R.i||0,kt=0,ce=R.w||0,he=0;lt+2<O;++lt){var Ve=ke(lt),_e=32767&lt,It=Ce[Ve];if(fe[_e]=It,Ce[Ve]=_e,ce<=lt){var wt=O-lt;if((at>7e3||kt>24576)&&(wt>423||!j)){J=mo(w,V,0,Ee,qe,Ht,Pe,kt,he,lt-he,J),kt=at=Pe=0,he=lt;for(var Pt=0;Pt<286;++Pt)qe[Pt]=0;for(Pt=0;Pt<30;++Pt)Ht[Pt]=0}var nt=2,Vt=0,jt=z,En=_e-It&32767;if(wt>2&&Ve==ke(lt-En))for(var ie=Math.min(se,wt)-1,we=Math.min(32767,lt),De=Math.min(258,wt);En<=we&&--jt&&_e!=It;){if(w[lt+nt]==w[lt+nt-En]){for(var Ge=0;Ge<De&&w[lt+Ge]==w[lt+Ge-En];++Ge);if(Ge>nt){if(nt=Ge,Vt=En,Ge>ie)break;var Je=Math.min(En,Ge-2),$e=0;for(Pt=0;Pt<Je;++Pt){var Et=lt-En+Pt&32767,dn=Et-fe[Et]&32767;dn>$e&&($e=dn,It=Et)}}}En+=(_e=It)-(It=fe[_e])&32767}if(Vt){Ee[kt++]=268435456|rt[nt]<<18|xt[Vt];var pn=31&rt[nt],An=31&xt[Vt];Pe+=Be[pn]+ln[An],++qe[257+pn],++Ht[An],ce=lt+nt,++at}else Ee[kt++]=w[lt],++qe[w[lt]]}}for(lt=Math.max(lt,ce);lt<O;++lt)Ee[kt++]=w[lt],++qe[w[lt]];J=mo(w,V,j,Ee,qe,Ht,Pe,kt,he,lt-he,J),j||(R.r=7&J|V[J/8|0]<<3,J-=7,R.h=Ce,R.p=fe,R.i=lt,R.w=ce)}else{for(lt=R.w||0;lt<O+j;lt+=65535){var hn=lt+65535;hn>=O&&(V[J/8|0]=j,hn=O),J=cs(V,J+1,w.subarray(lt,hn))}R.i=O}return Tt(F,0,T+Wn(J)+x)}(w,null==_.level?6:_.level,null==_.mem?x.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(w.length)))):20:12+_.mem,C,T,x)},us=function(w,_,C){for(;C;++_)w[_]=C,C>>>=8};function Yf(w,_){_||(_={});var C=qv();C.p(w);var T=Kv(w,_,_.dictionary?6:2,4);return function(w,_){var C=_.level,T=0==C?0:C<6?1:9==C?3:2;if(w[0]=120,w[1]=T<<6|(_.dictionary&&32),w[1]|=31-(w[0]<<8|w[1])%31,_.dictionary){var x=qv();x.p(_.dictionary),us(w,2,x.d())}}(T,_),us(T,T.length-4,C.d()),T}function wr(w,_){return function(w,_,C,T){var x=w.length,R=T?T.length:0;if(!x||_.f&&!_.l)return C||new rn(0);var O=!C,F=O||2!=_.i,V=_.i;O&&(C=new rn(3*x));var j=function(pn){var An=C.length;if(pn>An){var hn=new rn(Math.max(2*An,pn));hn.set(C),C=hn}},J=_.f||0,ee=_.p||0,se=_.b||0,z=_.l,ye=_.d,fe=_.m,Ce=_.n,ae=8*x;do{if(!z){J=We(w,ee,1);var be=We(w,ee+1,3);if(ee+=3,!be){var Ee=w[(ke=Wn(ee)+4)-4]|w[ke-3]<<8,qe=ke+Ee;if(qe>x){V&&mt(0);break}F&&j(se+Ee),C.set(w.subarray(ke,qe),se),_.b=se+=Ee,_.p=ee=8*qe,_.f=J;continue}if(1==be)z=Gt,ye=Rt,fe=9,Ce=5;else if(2==be){var Ht=We(w,ee,31)+257,at=We(w,ee+10,15)+4,Pe=Ht+We(w,ee+5,31)+1;ee+=14;for(var lt=new rn(Pe),kt=new rn(19),ce=0;ce<at;++ce)kt[mn[ce]]=We(w,ee+3*ce,7);ee+=3*at;var he=xe(kt),Ve=(1<<he)-1,_e=vt(kt,he,1);for(ce=0;ce<Pe;){var ke,It=_e[We(w,ee,Ve)];if(ee+=15&It,(ke=It>>4)<16)lt[ce++]=ke;else{var wt=0,Pt=0;for(16==ke?(Pt=3+We(w,ee,3),ee+=2,wt=lt[ce-1]):17==ke?(Pt=3+We(w,ee,7),ee+=3):18==ke&&(Pt=11+We(w,ee,127),ee+=7);Pt--;)lt[ce++]=wt}}var nt=lt.subarray(0,Ht),Vt=lt.subarray(Ht);fe=xe(nt),Ce=xe(Vt),z=vt(nt,fe,1),ye=vt(Vt,Ce,1)}else mt(1);if(ee>ae){V&&mt(0);break}}F&&j(se+131072);for(var jt=(1<<fe)-1,En=(1<<Ce)-1,ie=ee;;ie=ee){var we=(wt=z[qt(w,ee)&jt])>>4;if((ee+=15&wt)>ae){V&&mt(0);break}if(wt||mt(2),we<256)C[se++]=we;else{if(256==we){ie=ee,z=null;break}var De=we-254;we>264&&(De=We(w,ee,(1<<(Ge=Be[ce=we-257]))-1)+bt[ce],ee+=Ge);var Je=ye[qt(w,ee)&En],$e=Je>>4;if(Je||mt(3),ee+=15&Je,Vt=Mt[$e],$e>3){var Ge=ln[$e];Vt+=qt(w,ee)&(1<<Ge)-1,ee+=Ge}if(ee>ae){V&&mt(0);break}F&&j(se+131072);var Et=se+De;if(se<Vt){var Ct=R-Vt,dn=Math.min(Vt,Et);for(Ct+se<0&&mt(3);se<dn;++se)C[se]=T[Ct+se]}for(;se<Et;++se)C[se]=C[se-Vt]}}_.l=z,_.p=ie,_.b=se,_.f=J,z&&(J=1,_.m=fe,_.d=ye,_.n=Ce)}while(!J);return se!=C.length&&O?Tt(C,0,se):C.subarray(0,se)}(w.subarray(function(w,_){return(8!=(15&w[0])||w[0]>>4>7||(w[0]<<8|w[1])%31)&&mt(6,"invalid zlib data"),(w[1]>>5&1)==+!_&&mt(6,"invalid zlib data: "+(32&w[1]?"need":"unexpected")+" dictionary"),2+(w[1]>>3&4)}(w,_&&_.dictionary),-4),{i:2},_&&_.out,_&&_.dictionary)}var Qf=typeof TextDecoder<"u"&&new TextDecoder;try{Qf.decode(hc,{stream:!0})}catch{}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var Zn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ab(){Zn.console&&"function"==typeof Zn.console.log&&Zn.console.log.apply(Zn.console,arguments)}var Xr={log:Ab,warn:function(w){Zn.console&&("function"==typeof Zn.console.warn?Zn.console.warn.apply(Zn.console,arguments):Ab.call(null,arguments))},error:function(w){Zn.console&&("function"==typeof Zn.console.error?Zn.console.error.apply(Zn.console,arguments):Ab(w))}};function Db(w,_,C){var T=new XMLHttpRequest;T.open("GET",w),T.responseType="blob",T.onload=function(){qs(T.response,_,C)},T.onerror=function(){Xr.error("could not download file")},T.send()}function Zv(w){var _=new XMLHttpRequest;_.open("HEAD",w,!1);try{_.send()}catch{}return _.status>=200&&_.status<=299}function zi(w){try{w.dispatchEvent(new MouseEvent("click"))}catch{var _=document.createEvent("MouseEvents");_.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),w.dispatchEvent(_)}}var Ph,e_,qs=Zn.saveAs||("object"!==(typeof window>"u"?"undefined":(0,d.A)(window))||window!==Zn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(w,_,C){var T=Zn.URL||Zn.webkitURL,x=document.createElement("a");x.download=_=_||w.name||"download",x.rel="noopener","string"==typeof w?(x.href=w,x.origin!==location.origin?Zv(x.href)?Db(w,_,C):zi(x,x.target="_blank"):zi(x)):(x.href=T.createObjectURL(w),setTimeout(function(){T.revokeObjectURL(x.href)},4e4),setTimeout(function(){zi(x)},0))}:"msSaveOrOpenBlob"in navigator?function(w,_,C){if(_=_||w.name||"download","string"==typeof w)if(Zv(w))Db(w,_,C);else{var T=document.createElement("a");T.href=w,T.target="_blank",setTimeout(function(){zi(T)})}else navigator.msSaveOrOpenBlob((x=w,void 0===(R=C)?R={autoBom:!1}:"object"!==(0,d.A)(R)&&(Xr.warn("Deprecated: Expected third argument to be a object"),R={autoBom:!R}),R.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(x.type)?new Blob(["\ufeff",x],{type:x.type}):x),_);var x,R}:function(w,_,C,T){if((T=T||open("","_blank"))&&(T.document.title=T.document.body.innerText="downloading..."),"string"==typeof w)return Db(w,_,C);var x="application/octet-stream"===w.type,R=/constructor/i.test(Zn.HTMLElement)||Zn.safari,O=/CriOS\/[\d]+/.test(navigator.userAgent);if((O||x&&R)&&"object"===(typeof FileReader>"u"?"undefined":(0,d.A)(FileReader))){var F=new FileReader;F.onloadend=function(){var J=F.result;J=O?J:J.replace(/^data:[^;]*;/,"data:attachment/file;"),T?T.location.href=J:location=J,T=null},F.readAsDataURL(w)}else{var V=Zn.URL||Zn.webkitURL,j=V.createObjectURL(w);T?T.location=j:location.href=j,T=null,setTimeout(function(){V.revokeObjectURL(j)},4e4)}});function Rb(w){var _;w=w||"",this.ok=!1,"#"==w.charAt(0)&&(w=w.substr(1,6)),w={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[w=(w=w.replace(/ /g,"")).toLowerCase()]||w;for(var C=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(F){return[parseInt(F[1]),parseInt(F[2]),parseInt(F[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(F){return[parseInt(F[1],16),parseInt(F[2],16),parseInt(F[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(F){return[parseInt(F[1]+F[1],16),parseInt(F[2]+F[2],16),parseInt(F[3]+F[3],16)]}}],T=0;T<C.length;T++){var R=C[T].process,O=C[T].re.exec(w);O&&(_=R(O),this.r=_[0],this.g=_[1],this.b=_[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var F=this.r.toString(16),V=this.g.toString(16),j=this.b.toString(16);return 1==F.length&&(F="0"+F),1==V.length&&(V="0"+V),1==j.length&&(j="0"+j),"#"+F+V+j}}function C0(w,_){var C=w[0],T=w[1],x=w[2],R=w[3];C=Ks(C,T,x,R,_[0],7,-680876936),R=Ks(R,C,T,x,_[1],12,-389564586),x=Ks(x,R,C,T,_[2],17,606105819),T=Ks(T,x,R,C,_[3],22,-1044525330),C=Ks(C,T,x,R,_[4],7,-176418897),R=Ks(R,C,T,x,_[5],12,1200080426),x=Ks(x,R,C,T,_[6],17,-1473231341),T=Ks(T,x,R,C,_[7],22,-45705983),C=Ks(C,T,x,R,_[8],7,1770035416),R=Ks(R,C,T,x,_[9],12,-1958414417),x=Ks(x,R,C,T,_[10],17,-42063),T=Ks(T,x,R,C,_[11],22,-1990404162),C=Ks(C,T,x,R,_[12],7,1804603682),R=Ks(R,C,T,x,_[13],12,-40341101),x=Ks(x,R,C,T,_[14],17,-1502002290),C=Cs(C,T=Ks(T,x,R,C,_[15],22,1236535329),x,R,_[1],5,-165796510),R=Cs(R,C,T,x,_[6],9,-1069501632),x=Cs(x,R,C,T,_[11],14,643717713),T=Cs(T,x,R,C,_[0],20,-373897302),C=Cs(C,T,x,R,_[5],5,-701558691),R=Cs(R,C,T,x,_[10],9,38016083),x=Cs(x,R,C,T,_[15],14,-660478335),T=Cs(T,x,R,C,_[4],20,-405537848),C=Cs(C,T,x,R,_[9],5,568446438),R=Cs(R,C,T,x,_[14],9,-1019803690),x=Cs(x,R,C,T,_[3],14,-187363961),T=Cs(T,x,R,C,_[8],20,1163531501),C=Cs(C,T,x,R,_[13],5,-1444681467),R=Cs(R,C,T,x,_[2],9,-51403784),x=Cs(x,R,C,T,_[7],14,1735328473),C=vo(C,T=Cs(T,x,R,C,_[12],20,-1926607734),x,R,_[5],4,-378558),R=vo(R,C,T,x,_[8],11,-2022574463),x=vo(x,R,C,T,_[11],16,1839030562),T=vo(T,x,R,C,_[14],23,-35309556),C=vo(C,T,x,R,_[1],4,-1530992060),R=vo(R,C,T,x,_[4],11,1272893353),x=vo(x,R,C,T,_[7],16,-155497632),T=vo(T,x,R,C,_[10],23,-1094730640),C=vo(C,T,x,R,_[13],4,681279174),R=vo(R,C,T,x,_[0],11,-358537222),x=vo(x,R,C,T,_[3],16,-722521979),T=vo(T,x,R,C,_[6],23,76029189),C=vo(C,T,x,R,_[9],4,-640364487),R=vo(R,C,T,x,_[12],11,-421815835),x=vo(x,R,C,T,_[15],16,530742520),C=ua(C,T=vo(T,x,R,C,_[2],23,-995338651),x,R,_[0],6,-198630844),R=ua(R,C,T,x,_[7],10,1126891415),x=ua(x,R,C,T,_[14],15,-1416354905),T=ua(T,x,R,C,_[5],21,-57434055),C=ua(C,T,x,R,_[12],6,1700485571),R=ua(R,C,T,x,_[3],10,-1894986606),x=ua(x,R,C,T,_[10],15,-1051523),T=ua(T,x,R,C,_[1],21,-2054922799),C=ua(C,T,x,R,_[8],6,1873313359),R=ua(R,C,T,x,_[15],10,-30611744),x=ua(x,R,C,T,_[6],15,-1560198380),T=ua(T,x,R,C,_[13],21,1309151649),C=ua(C,T,x,R,_[4],6,-145523070),R=ua(R,C,T,x,_[11],10,-1120210379),x=ua(x,R,C,T,_[2],15,718787259),T=ua(T,x,R,C,_[9],21,-343485551),w[0]=ds(C,w[0]),w[1]=ds(T,w[1]),w[2]=ds(x,w[2]),w[3]=ds(R,w[3])}function xb(w,_,C,T,x,R){return _=ds(ds(_,w),ds(T,R)),ds(_<<x|_>>>32-x,C)}function Ks(w,_,C,T,x,R,O){return xb(_&C|~_&T,w,_,x,R,O)}function Cs(w,_,C,T,x,R,O){return xb(_&T|C&~T,w,_,x,R,O)}function vo(w,_,C,T,x,R,O){return xb(_^C^T,w,_,x,R,O)}function ua(w,_,C,T,x,R,O){return xb(C^(_|~T),w,_,x,R,O)}function w0(w){var _,C=w.length,T=[1732584193,-271733879,-1732584194,271733878];for(_=64;_<=w.length;_+=64)C0(T,XA(w.substring(_-64,_)));w=w.substring(_-64);var x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(_=0;_<w.length;_++)x[_>>2]|=w.charCodeAt(_)<<(_%4<<3);if(x[_>>2]|=128<<(_%4<<3),_>55)for(C0(T,x),_=0;_<16;_++)x[_]=0;return x[14]=8*C,C0(T,x),T}function XA(w){var _,C=[];for(_=0;_<64;_+=4)C[_>>2]=w.charCodeAt(_)+(w.charCodeAt(_+1)<<8)+(w.charCodeAt(_+2)<<16)+(w.charCodeAt(_+3)<<24);return C}Ph=Zn.atob.bind(Zn),e_=Zn.btoa.bind(Zn);var Pb="0123456789abcdef".split("");function ep(w){for(var _="",C=0;C<4;C++)_+=Pb[w>>8*C+4&15]+Pb[w>>8*C&15];return _}function E0(w){return String.fromCharCode(255&w,(65280&w)>>8,(16711680&w)>>16,(4278190080&w)>>24)}function iu(w){return w0(w).map(E0).join("")}var QA="5d41402abc4b2a76b9719d911017c592"!=function(w){for(var _=0;_<w.length;_++)w[_]=ep(w[_]);return w.join("")}(w0("hello"));function ds(w,_){if(QA){var C=(65535&w)+(65535&_);return(w>>16)+(_>>16)+(C>>16)<<16|65535&C}return w+_&4294967295}function tp(w,_){var C,T,x;if(w!==C){for(var O=(x=w,new Array(1+(256/w.length|0)+1).join(x)),F=[],V=0;V<256;V++)F[V]=V;var j=0;for(V=0;V<256;V++){var J=F[V];j=(j+J+O.charCodeAt(V))%256,F[V]=F[j],F[j]=J}C=w,T=F}else F=T;var ee=_.length,se=0,z=0,ye="";for(V=0;V<ee;V++)z=(z+(J=F[se=(se+1)%256]))%256,F[se]=F[z],F[z]=J,O=F[(F[se]+F[z])%256],ye+=String.fromCharCode(_.charCodeAt(V)^O);return ye}var wi={print:4,modify:8,copy:16,"annot-forms":32};function xd(w,_,C,T){this.v=1,this.r=2;var x=192;w.forEach(function(F){if(void 0!==wi.perm)throw new Error("Invalid permission: "+F);x+=wi[F]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var R=(_+this.padding).substr(0,32),O=(C+this.padding).substr(0,32);this.O=this.processOwnerPassword(R,O),this.P=-(1+(255^x)),this.encryptionKey=iu(R+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(T)).substr(0,5),this.U=tp(this.encryptionKey,this.padding)}function Mh(w){if(/[^\u0000-\u00ff]/.test(w))throw new Error("Invalid PDF Name Object: "+w+", Only accept ASCII characters.");for(var _="",C=w.length,T=0;T<C;T++){var x=w.charCodeAt(T);_+=x<33||35===x||37===x||40===x||41===x||47===x||60===x||62===x||91===x||93===x||123===x||125===x||x>126?"#"+("0"+x.toString(16)).slice(-2):w[T]}return _}function Va(w){if("object"!==(0,d.A)(w))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var _={};this.subscribe=function(C,T,x){if(x=x||!1,"string"!=typeof C||"function"!=typeof T||"boolean"!=typeof x)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");_.hasOwnProperty(C)||(_[C]={});var R=Math.random().toString(35);return _[C][R]=[T,!!x],R},this.unsubscribe=function(C){for(var T in _)if(_[T][C])return delete _[T][C],0===Object.keys(_[T]).length&&delete _[T],!0;return!1},this.publish=function(C){if(_.hasOwnProperty(C)){var T=Array.prototype.slice.call(arguments,1),x=[];for(var R in _[C]){var O=_[C][R];try{O[0].apply(w,T)}catch(F){Zn.console&&Xr.error("jsPDF PubSub Error",F.message,F)}O[1]&&x.push(R)}x.length&&x.forEach(this.unsubscribe)}},this.getTopics=function(){return _}}function np(w){if(!(this instanceof np))return new np(w);var _="opacity,stroke-opacity".split(",");for(var C in w)w.hasOwnProperty(C)&&_.indexOf(C)>=0&&(this[C]=w[C]);this.id="",this.objectNumber=-1}function S0(w,_){this.gState=w,this.matrix=_,this.id="",this.objectNumber=-1}function Pd(w,_,C,T,x){if(!(this instanceof Pd))return new Pd(w,_,C,T,x);this.type="axial"===w?2:3,this.coords=_,this.colors=C,S0.call(this,T,x)}function Nh(w,_,C,T,x){if(!(this instanceof Nh))return new Nh(w,_,C,T,x);this.boundingBox=w,this.xStep=_,this.yStep=C,this.stream="",this.cloneIndex=0,S0.call(this,T,x)}function ti(w){var _,C="string"==typeof arguments[0]?arguments[0]:"p",T=arguments[1],x=arguments[2],R=arguments[3],O=[],F=1,V=16,j="S",J=null;"object"===(0,d.A)(w=w||{})&&(C=w.orientation,T=w.unit||T,x=w.format||x,R=w.compress||w.compressPdf||R,null!==(J=w.encryption||null)&&(J.userPassword=J.userPassword||"",J.ownerPassword=J.ownerPassword||"",J.userPermissions=J.userPermissions||[]),F="number"==typeof w.userUnit?Math.abs(w.userUnit):1,void 0!==w.precision&&(_=w.precision),void 0!==w.floatPrecision&&(V=w.floatPrecision),j=w.defaultPathOperation||"S"),O=w.filters||(!0===R?["FlateEncode"]:O),T=T||"mm",C=(""+(C||"P")).toLowerCase();var ee=w.putOnlyUsedFonts||!1,se={},z={internal:{},__private__:{}};z.__private__.PubSub=Va;var ye="1.3",fe=z.__private__.getPdfVersion=function(){return ye};z.__private__.setPdfVersion=function(M){ye=M};var Ce={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};z.__private__.getPageFormats=function(){return Ce};var ae=z.__private__.getPageFormat=function(M){return Ce[M]};x=x||"a4";var ke="compat";function Ee(){this.saveGraphicsState(),Ie(new ni(Un,0,0,-Un,0,Pr()*Un).toString()+" cm"),this.setFontSize(this.getFontSize()/Un),j="n",ke="advanced"}function qe(){this.restoreGraphicsState(),j="S",ke="compat"}var Ht=z.__private__.combineFontStyleAndFontWeight=function(M,q){if("bold"==M&&"normal"==q||"bold"==M&&400==q||"normal"==M&&"italic"==q||"bold"==M&&"italic"==q)throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(M=400==q||"normal"===q?"italic"===M?"italic":"normal":700!=q&&"bold"!==q||"normal"!==M?(700==q?"bold":q)+""+M:"bold"),M};z.advancedAPI=function(M){var q="compat"===ke;return q&&Ee.call(this),"function"!=typeof M||(M(this),q&&qe.call(this)),this},z.compatAPI=function(M){var q="advanced"===ke;return q&&qe.call(this),"function"!=typeof M||(M(this),q&&Ee.call(this)),this},z.isAdvancedAPI=function(){return"advanced"===ke};var at,Pe=function(M){if("advanced"!==ke)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},lt=z.roundToPrecision=z.__private__.roundToPrecision=function(M,q){var ve=_||q;if(isNaN(M)||isNaN(ve))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(ve).replace(/0+$/,"")};at=z.hpf=z.__private__.hpf="number"==typeof V?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return lt(M,V)}:"smart"===V?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return lt(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return lt(M,16)};var kt=z.f2=z.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return lt(M,2)},ce=z.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return lt(M,3)},he=z.scale=z.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return"compat"===ke?M*Un:"advanced"===ke?M:void 0},_e=function(M){return he(function(M){return"compat"===ke?Pr()-M:"advanced"===ke?M:void 0}(M))};z.__private__.setPrecision=z.setPrecision=function(M){"number"==typeof parseInt(M,10)&&(_=parseInt(M,10))};var It,wt="00000000000000000000000000000000",Pt=z.__private__.getFileId=function(){return wt},nt=z.__private__.setFileId=function(M){return wt=void 0!==M&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():wt.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==J&&(Oi=new xd(J.userPermissions,J.userPassword,J.ownerPassword,wt)),wt};z.setFileId=function(M){return nt(M),this},z.getFileId=function(){return Pt()};var Vt=z.__private__.convertDateToPDFDate=function(M){var q=M.getTimezoneOffset(),ve=q<0?"+":"-",Me=Math.floor(Math.abs(q/60)),it=Math.abs(q%60),St=[ve,De(Me),"'",De(it),"'"].join("");return["D:",M.getFullYear(),De(M.getMonth()+1),De(M.getDate()),De(M.getHours()),De(M.getMinutes()),De(M.getSeconds()),St].join("")},jt=z.__private__.convertPDFDateToDate=function(M){var q=parseInt(M.substr(2,4),10),ve=parseInt(M.substr(6,2),10)-1,Me=parseInt(M.substr(8,2),10),it=parseInt(M.substr(10,2),10),St=parseInt(M.substr(12,2),10),nn=parseInt(M.substr(14,2),10);return new Date(q,ve,Me,it,St,nn,0)},En=z.__private__.setCreationDate=function(M){var q;if(void 0===M&&(M=new Date),M instanceof Date)q=Vt(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=M}return It=q},ie=z.__private__.getCreationDate=function(M){var q=It;return"jsDate"===M&&(q=jt(It)),q};z.setCreationDate=function(M){return En(M),this},z.getCreationDate=function(M){return ie(M)};var we,De=z.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},Ge=z.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},Je=0,$e=[],Et=[],Ct=0,dn=[],pn=[],An=!1,hn=Et;z.__private__.setCustomOutputDestination=function(M){An=!0,hn=M};var Dt=function(M){An||(hn=M)};z.__private__.resetCustomOutputDestination=function(){An=!1,hn=Et};var Ie=z.__private__.out=function(M){return M=M.toString(),Ct+=M.length+1,hn.push(M),hn},xi=z.__private__.write=function(M){return Ie(1===arguments.length?M.toString():Array.prototype.join.call(arguments," "))},jn=z.__private__.getArrayBuffer=function(M){for(var q=M.length,ve=new ArrayBuffer(q),Me=new Uint8Array(ve);q--;)Me[q]=M.charCodeAt(q);return ve},un=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];z.__private__.getStandardFonts=function(){return un};var vn=w.fontSize||16;z.__private__.setFontSize=z.setFontSize=function(M){return vn="advanced"===ke?M/Un:M,this};var kn,Mn=z.__private__.getFontSize=z.getFontSize=function(){return"compat"===ke?vn:vn*Un},ai=w.R2L||!1;z.__private__.setR2L=z.setR2L=function(M){return ai=M,this},z.__private__.getR2L=z.getR2L=function(){return ai};var Ai,Gi=z.__private__.setZoomMode=function(M){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))kn=M;else if(isNaN(M)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(M))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');kn=M}else kn=parseInt(M,10)};z.__private__.getZoomMode=function(){return kn};var Xi,ar=z.__private__.setPageMode=function(M){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');Ai=M};z.__private__.getPageMode=function(){return Ai};var Qr=z.__private__.setLayoutMode=function(M){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');Xi=M};z.__private__.getLayoutMode=function(){return Xi},z.__private__.setDisplayMode=z.setDisplayMode=function(M,q,ve){return Gi(M),Qr(q),ar(ve),this};var Di={title:"",subject:"",author:"",keywords:"",creator:""};z.__private__.getDocumentProperty=function(M){if(-1===Object.keys(Di).indexOf(M))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Di[M]},z.__private__.getDocumentProperties=function(){return Di},z.__private__.setDocumentProperties=z.setProperties=z.setDocumentProperties=function(M){for(var q in Di)Di.hasOwnProperty(q)&&M[q]&&(Di[q]=M[q]);return this},z.__private__.setDocumentProperty=function(M,q){if(-1===Object.keys(Di).indexOf(M))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Di[M]=q};var nr,Un,Ba,fr,au,Dr={},os={},Ld=[],kr={},zg={},Es={},mc={},Gh=null,Js=0,Ln=[],vi=new Va(z),Ha=w.hotfixes||[],Zs={},Pl={},cl=[],ni=function M(q,ve,Me,it,St,nn){if(!(this instanceof M))return new M(q,ve,Me,it,St,nn);isNaN(q)&&(q=1),isNaN(ve)&&(ve=0),isNaN(Me)&&(Me=0),isNaN(it)&&(it=1),isNaN(St)&&(St=0),isNaN(nn)&&(nn=0),this._matrix=[q,ve,Me,it,St,nn]};Object.defineProperty(ni.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(ni.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(ni.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(ni.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(ni.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(ni.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(ni.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(ni.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(ni.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(ni.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(ni.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(ni.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(ni.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ni.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ni.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ni.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),ni.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(at).join(M)},ni.prototype.multiply=function(M){return new ni(M.sx*this.sx+M.shy*this.shx,M.sx*this.shy+M.shy*this.sy,M.shx*this.sx+M.sy*this.shx,M.shx*this.shy+M.sy*this.sy,M.tx*this.sx+M.ty*this.shx+this.tx,M.tx*this.shy+M.ty*this.sy+this.ty)},ni.prototype.decompose=function(){var M=this.sx,q=this.shy,ve=this.shx,Me=this.sy,it=this.tx,St=this.ty,nn=Math.sqrt(M*M+q*q),Nn=(M/=nn)*ve+(q/=nn)*Me;ve-=M*Nn,Me-=q*Nn;var ri=Math.sqrt(ve*ve+Me*Me);return Nn/=ri,M*(Me/=ri)<q*(ve/=ri)&&(M=-M,q=-q,Nn=-Nn,nn=-nn),{scale:new ni(nn,0,0,ri,0,0),translate:new ni(1,0,0,1,it,St),rotate:new ni(M,q,-q,M,0,0),skew:new ni(1,0,Nn,1,0,0)}},ni.prototype.toString=function(M){return this.join(" ")},ni.prototype.inversed=function(){var M=this.sx,q=this.shy,ve=this.shx,Me=this.sy,it=this.tx,St=this.ty,nn=1/(M*Me-q*ve),Nn=Me*nn,ri=-q*nn,ui=-ve*nn,fi=M*nn;return new ni(Nn,ri,ui,fi,-Nn*it-ui*St,-ri*it-fi*St)},ni.prototype.applyToPoint=function(M){return new qu(M.x*this.sx+M.y*this.shx+this.tx,M.x*this.shy+M.y*this.sy+this.ty)},ni.prototype.applyToRectangle=function(M){var q=this.applyToPoint(M),ve=this.applyToPoint(new qu(M.x+M.w,M.y+M.h));return new fl(q.x,q.y,ve.x-q.x,ve.y-q.y)},ni.prototype.clone=function(){return new ni(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},z.Matrix=ni;var vc=z.matrixMult=function(M,q){return q.multiply(M)},_c=new ni(1,0,0,1,0,0);z.unitMatrix=z.identityMatrix=_c;var Ca=function(M,q){if(!zg[M]){var ve=(q instanceof Pd?"Sh":"P")+(Object.keys(kr).length+1).toString(10);q.id=ve,zg[M]=ve,kr[ve]=q,vi.publish("addPattern",q)}};z.ShadingPattern=Pd,z.TilingPattern=Nh,z.addShadingPattern=function(M,q){return Pe("addShadingPattern()"),Ca(M,q),this},z.beginTilingPattern=function(M){Pe("beginTilingPattern()"),vp(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},z.endTilingPattern=function(M,q){Pe("endTilingPattern()"),q.stream=pn[we].join("\n"),Ca(M,q),vi.publish("endTilingPattern",q),cl.pop().restore()};var M,yo=z.__private__.newObject=function(){var M=Ss();return ul(M,!0),M},Ss=z.__private__.newObjectDeferred=function(){return Je++,$e[Je]=function(){return Ct},Je},ul=function(M,q){return q="boolean"==typeof q&&q,$e[M]=Ct,q&&Ie(M+" 0 obj"),M},wa=z.__private__.newAdditionalObject=function(){var M={objId:Ss(),content:""};return dn.push(M),M},yc=Ss(),Ml=Ss(),Ua=z.__private__.decodeColorString=function(M){var q=M.split(" ");if(2!==q.length||"g"!==q[1]&&"G"!==q[1])5===q.length&&("k"===q[4]||"K"===q[4])&&(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var ve=parseFloat(q[0]);q=[ve,ve,ve,"r"]}for(var Me="#",it=0;it<3;it++)Me+=("0"+Math.floor(255*parseFloat(q[it])).toString(16)).slice(-2);return Me},bc=z.__private__.encodeColorString=function(M){var q;"string"==typeof M&&(M={ch1:M});var ve=M.ch1,Me=M.ch2,it=M.ch3,St=M.ch4,nn="draw"===M.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof ve&&"#"!==ve.charAt(0)){var Nn=new Rb(ve);if(Nn.ok)ve=Nn.toHex();else if(!/^\d*\.?\d*$/.test(ve))throw new Error('Invalid color "'+ve+'" passed to jsPDF.encodeColorString.')}if("string"==typeof ve&&/^#[0-9A-Fa-f]{3}$/.test(ve)&&(ve="#"+ve[1]+ve[1]+ve[2]+ve[2]+ve[3]+ve[3]),"string"==typeof ve&&/^#[0-9A-Fa-f]{6}$/.test(ve)){var ri=parseInt(ve.substr(1),16);ve=ri>>16&255,Me=ri>>8&255,it=255&ri}if(void 0===Me||void 0===St&&ve===Me&&Me===it)q="string"==typeof ve?ve+" "+nn[0]:2===M.precision?kt(ve/255)+" "+nn[0]:ce(ve/255)+" "+nn[0];else if(void 0===St||"object"===(0,d.A)(St)){if(St&&!isNaN(St.a)&&0===St.a)return["1.","1.","1.",nn[1]].join(" ");q="string"==typeof ve?[ve,Me,it,nn[1]].join(" "):2===M.precision?[kt(ve/255),kt(Me/255),kt(it/255),nn[1]].join(" "):[ce(ve/255),ce(Me/255),ce(it/255),nn[1]].join(" ")}else q="string"==typeof ve?[ve,Me,it,St,nn[2]].join(" "):2===M.precision?[kt(ve),kt(Me),kt(it),kt(St),nn[2]].join(" "):[ce(ve),ce(Me),ce(it),ce(St),nn[2]].join(" ");return q},Cc=z.__private__.getFilters=function(){return O},Ui=z.__private__.putStream=function(M){var q=(M=M||{}).data||"",ve=M.filters||Cc(),Me=M.alreadyAppliedFilters||[],it=M.addLength1||!1,St=q.length,nn=M.objectId,Nn=function(ko){return ko};if(null!==J&&void 0===nn)throw new Error("ObjectId must be passed to putStream for file encryption");null!==J&&(Nn=Oi.encryptor(nn,0));var ri={};!0===ve&&(ve=["FlateEncode"]);var ui=M.additionalKeyValues||[],fi=(ri=void 0!==ti.API.processDataByFilters?ti.API.processDataByFilters(q,ve):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(Me)?Me.join(" "):Me.toString());if(0!==ri.data.length&&(ui.push({key:"Length",value:ri.data.length}),!0===it&&ui.push({key:"Length1",value:St})),0!=fi.length)if(fi.split("/").length-1==1)ui.push({key:"Filter",value:fi});else{ui.push({key:"Filter",value:"["+fi+"]"});for(var ii=0;ii<ui.length;ii+=1)if("DecodeParms"===ui[ii].key){for(var Lr=[],gs=0;gs<ri.reverseChain.split("/").length-1;gs+=1)Lr.push("null");Lr.push(ui[ii].value),ui[ii].value="["+Lr.join(" ")+"]"}}Ie("<<");for(var Ms=0;Ms<ui.length;Ms++)Ie("/"+ui[Ms].key+" "+ui[Ms].value);Ie(">>"),0!==ri.data.length&&(Ie("stream"),Ie(Nn(ri.data)),Ie("endstream"))},Nl=z.__private__.putPage=function(M){var q=M.number,ve=M.data,Me=M.objId,it=M.contentsObjId;ul(Me,!0),Ie("<</Type /Page"),Ie("/Parent "+M.rootDictionaryObjId+" 0 R"),Ie("/Resources "+M.resourceDictionaryObjId+" 0 R"),Ie("/MediaBox ["+parseFloat(at(M.mediaBox.bottomLeftX))+" "+parseFloat(at(M.mediaBox.bottomLeftY))+" "+at(M.mediaBox.topRightX)+" "+at(M.mediaBox.topRightY)+"]"),null!==M.cropBox&&Ie("/CropBox ["+at(M.cropBox.bottomLeftX)+" "+at(M.cropBox.bottomLeftY)+" "+at(M.cropBox.topRightX)+" "+at(M.cropBox.topRightY)+"]"),null!==M.bleedBox&&Ie("/BleedBox ["+at(M.bleedBox.bottomLeftX)+" "+at(M.bleedBox.bottomLeftY)+" "+at(M.bleedBox.topRightX)+" "+at(M.bleedBox.topRightY)+"]"),null!==M.trimBox&&Ie("/TrimBox ["+at(M.trimBox.bottomLeftX)+" "+at(M.trimBox.bottomLeftY)+" "+at(M.trimBox.topRightX)+" "+at(M.trimBox.topRightY)+"]"),null!==M.artBox&&Ie("/ArtBox ["+at(M.artBox.bottomLeftX)+" "+at(M.artBox.bottomLeftY)+" "+at(M.artBox.topRightX)+" "+at(M.artBox.topRightY)+"]"),"number"==typeof M.userUnit&&1!==M.userUnit&&Ie("/UserUnit "+M.userUnit),vi.publish("putPage",{objId:Me,pageContext:Ln[q],pageNumber:q,page:ve}),Ie("/Contents "+it+" 0 R"),Ie(">>"),Ie("endobj");var St=ve.join("\n");return"advanced"===ke&&(St+="\nQ"),ul(it,!0),Ui({data:St,filters:Cc(),objectId:it}),Ie("endobj"),Me},wc=z.__private__.putPages=function(){var M,q,ve=[];for(M=1;M<=Js;M++)Ln[M].objId=Ss(),Ln[M].contentsObjId=Ss();for(M=1;M<=Js;M++)ve.push(Nl({number:M,data:pn[M],objId:Ln[M].objId,contentsObjId:Ln[M].contentsObjId,mediaBox:Ln[M].mediaBox,cropBox:Ln[M].cropBox,bleedBox:Ln[M].bleedBox,trimBox:Ln[M].trimBox,artBox:Ln[M].artBox,userUnit:Ln[M].userUnit,rootDictionaryObjId:yc,resourceDictionaryObjId:Ml}));ul(yc,!0),Ie("<</Type /Pages");var Me="/Kids [";for(q=0;q<Js;q++)Me+=ve[q]+" 0 R ";Ie(Me+"]"),Ie("/Count "+Js),Ie(">>"),Ie("endobj"),vi.publish("postPutPages")},eo=function(M){vi.publish("putFont",{font:M,out:Ie,newObject:yo,putStream:Ui}),!0!==M.isAlreadyPutted&&(M.objectNumber=yo(),Ie("<<"),Ie("/Type /Font"),Ie("/BaseFont /"+Mh(M.postScriptName)),Ie("/Subtype /Type1"),"string"==typeof M.encoding&&Ie("/Encoding /"+M.encoding),Ie("/FirstChar 32"),Ie("/LastChar 255"),Ie(">>"),Ie("endobj"))},Ec=function(M){M.objectNumber=yo();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[at(M.x),at(M.y),at(M.x+M.width),at(M.y+M.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var ve=M.pages[1].join("\n");Ui({data:ve,additionalKeyValues:q,objectId:M.objectNumber}),Ie("endobj")},Bb=function(M,q){q||(q=21);var ve=yo(),Me=function(M,q){var ve,Me=[],it=1/(q-1);for(ve=0;ve<1;ve+=it)Me.push(ve);Me.push(1),0!=M[0].offset&&M.unshift({offset:0,color:M[0].color}),1!=M[M.length-1].offset&&M.push({offset:1,color:M[M.length-1].color});for(var Nn="",ri=0,ui=0;ui<Me.length;ui++){for(ve=Me[ui];ve>M[ri+1].offset;)ri++;var fi=M[ri].offset,ii=(ve-fi)/(M[ri+1].offset-fi),Lr=M[ri].color,gs=M[ri+1].color;Nn+=Ge(Math.round((1-ii)*Lr[0]+ii*gs[0]).toString(16))+Ge(Math.round((1-ii)*Lr[1]+ii*gs[1]).toString(16))+Ge(Math.round((1-ii)*Lr[2]+ii*gs[2]).toString(16))}return Nn.trim()}(M.colors,q),it=[];it.push({key:"FunctionType",value:"0"}),it.push({key:"Domain",value:"[0.0 1.0]"}),it.push({key:"Size",value:"["+q+"]"}),it.push({key:"BitsPerSample",value:"8"}),it.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),it.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ui({data:Me,additionalKeyValues:it,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ve}),Ie("endobj"),M.objectNumber=yo(),Ie("<< /ShadingType "+M.type),Ie("/ColorSpace /DeviceRGB");var St="/Coords ["+at(parseFloat(M.coords[0]))+" "+at(parseFloat(M.coords[1]))+" ";St+=2===M.type?at(parseFloat(M.coords[2]))+" "+at(parseFloat(M.coords[3])):at(parseFloat(M.coords[2]))+" "+at(parseFloat(M.coords[3]))+" "+at(parseFloat(M.coords[4]))+" "+at(parseFloat(M.coords[5])),Ie(St+="]"),M.matrix&&Ie("/Matrix ["+M.matrix.toString()+"]"),Ie("/Function "+ve+" 0 R"),Ie("/Extend [true true]"),Ie(">>"),Ie("endobj")},jg=function(M,q){var ve=Ss(),Me=yo();q.push({resourcesOid:ve,objectOid:Me}),M.objectNumber=Me;var it=[];it.push({key:"Type",value:"/Pattern"}),it.push({key:"PatternType",value:"1"}),it.push({key:"PaintType",value:"1"}),it.push({key:"TilingType",value:"1"}),it.push({key:"BBox",value:"["+M.boundingBox.map(at).join(" ")+"]"}),it.push({key:"XStep",value:at(M.xStep)}),it.push({key:"YStep",value:at(M.yStep)}),it.push({key:"Resources",value:ve+" 0 R"}),M.matrix&&it.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),Ui({data:M.stream,additionalKeyValues:it,objectId:M.objectNumber}),Ie("endobj")},hl=function(M){for(var q in M.objectNumber=yo(),Ie("<<"),M)switch(q){case"opacity":Ie("/ca "+kt(M[q]));break;case"stroke-opacity":Ie("/CA "+kt(M[q]))}Ie(">>"),Ie("endobj")},fs=function(M){ul(M.resourcesOid,!0),Ie("<<"),Ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var M in Ie("/Font <<"),Dr)Dr.hasOwnProperty(M)&&(!1===ee||!0===ee&&se.hasOwnProperty(M))&&Ie("/"+M+" "+Dr[M].objectNumber+" 0 R");Ie(">>")}(),function(){if(Object.keys(kr).length>0){for(var M in Ie("/Shading <<"),kr)kr.hasOwnProperty(M)&&kr[M]instanceof Pd&&kr[M].objectNumber>=0&&Ie("/"+M+" "+kr[M].objectNumber+" 0 R");vi.publish("putShadingPatternDict"),Ie(">>")}}(),function(M){if(Object.keys(kr).length>0){for(var q in Ie("/Pattern <<"),kr)kr.hasOwnProperty(q)&&kr[q]instanceof z.TilingPattern&&kr[q].objectNumber>=0&&kr[q].objectNumber<M&&Ie("/"+q+" "+kr[q].objectNumber+" 0 R");vi.publish("putTilingPatternDict"),Ie(">>")}}(M.objectOid),function(){if(Object.keys(Es).length>0){var M;for(M in Ie("/ExtGState <<"),Es)Es.hasOwnProperty(M)&&Es[M].objectNumber>=0&&Ie("/"+M+" "+Es[M].objectNumber+" 0 R");vi.publish("putGStateDict"),Ie(">>")}}(),function(){for(var M in Ie("/XObject <<"),Zs)Zs.hasOwnProperty(M)&&Zs[M].objectNumber>=0&&Ie("/"+M+" "+Zs[M].objectNumber+" 0 R");vi.publish("putXobjectDict"),Ie(">>")}(),Ie(">>"),Ie("endobj")},hp=function(M){os[M.fontName]=os[M.fontName]||{},os[M.fontName][M.fontStyle]=M.id},Kg=function(M,q,ve,Me,it){var St={id:"F"+(Object.keys(Dr).length+1).toString(10),postScriptName:M,fontName:q,fontStyle:ve,encoding:Me,isStandardFont:it||!1,metadata:{}};return vi.publish("addFont",{font:St,instance:this}),Dr[St.id]=St,hp(St),St.id},Ea=z.__private__.pdfEscape=z.pdfEscape=function(M,q){return function(M,q){var ve,Me,it,St,nn,Nn,ri,ui,fi;if(it=(q=q||{}).sourceEncoding||"Unicode",nn=q.outputEncoding,(q.autoencode||nn)&&Dr[nr].metadata&&Dr[nr].metadata[it]&&Dr[nr].metadata[it].encoding&&(St=Dr[nr].metadata[it].encoding,!nn&&Dr[nr].encoding&&(nn=Dr[nr].encoding),!nn&&St.codePages&&(nn=St.codePages[0]),"string"==typeof nn&&(nn=St[nn]),nn)){for(ri=!1,Nn=[],ve=0,Me=M.length;ve<Me;ve++)(ui=nn[M.charCodeAt(ve)])?Nn.push(String.fromCharCode(ui)):Nn.push(M[ve]),Nn[ve].charCodeAt(0)>>8&&(ri=!0);M=Nn.join("")}for(ve=M.length;void 0===ri&&0!==ve;)M.charCodeAt(ve-1)>>8&&(ri=!0),ve--;if(!ri)return M;for(Nn=q.noBOM?[]:[254,255],ve=0,Me=M.length;ve<Me;ve++){if((fi=(ui=M.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+M+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Nn.push(fi),Nn.push(ui-(fi<<8))}return String.fromCharCode.apply(void 0,Nn)}(M,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tc=z.__private__.beginPage=function(M){pn[++Js]=[],Ln[Js]={objId:0,contentsObjId:0,userUnit:Number(F),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},Xg(Js),Dt(pn[we])},Yg=function(M,q){var ve,Me,it;switch(C=q||C,"string"==typeof M&&(ve=ae(M.toLowerCase()),Array.isArray(ve)&&(Me=ve[0],it=ve[1])),Array.isArray(M)&&(Me=M[0]*Un,it=M[1]*Un),isNaN(Me)&&(Me=x[0],it=x[1]),(Me>14400||it>14400)&&(Xr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Me=Math.min(14400,Me),it=Math.min(14400,it)),x=[Me,it],C.substr(0,1)){case"l":it>Me&&(x=[it,Me]);break;case"p":Me>it&&(x=[it,Me])}Tc(x),Jg(du),Ie(kl),0!==$u&&Ie($u+" J"),0!==xr&&Ie(xr+" j"),vi.publish("addPage",{pageNumber:Js})},d_=function(M){M>0&&M<=Js&&(pn.splice(M,1),Ln.splice(M,1),Js--,we>Js&&(we=Js),this.setPage(we))},Xg=function(M){M>0&&M<=Js&&(we=M)},Hb=z.__private__.getNumberOfPages=z.getNumberOfPages=function(){return pn.length-1},bo=function(M,q,ve){var Me,it=void 0;return ve=ve||{},q=void 0!==q?q:Dr[nr].fontStyle,Me=(M=void 0!==M?M:Dr[nr].fontName).toLowerCase(),void 0!==os[Me]&&void 0!==os[Me][q]?it=os[Me][q]:void 0!==os[M]&&void 0!==os[M][q]?it=os[M][q]:!1===ve.disableWarning&&Xr.warn("Unable to look up font label for font '"+M+"', '"+q+"'. Refer to getFontList() for available fonts."),it||ve.noFallback||null==(it=os.times[q])&&(it=os.times.normal),it},Bt=z.__private__.putInfo=function(){var M=yo(),q=function(Me){return Me};for(var ve in null!==J&&(q=Oi.encryptor(M,0)),Ie("<<"),Ie("/Producer ("+Ea(q("jsPDF "+ti.version))+")"),Di)Di.hasOwnProperty(ve)&&Di[ve]&&Ie("/"+ve.substr(0,1).toUpperCase()+ve.substr(1)+" ("+Ea(q(Di[ve]))+")");Ie("/CreationDate ("+Ea(q(It))+")"),Ie(">>"),Ie("endobj")},Bi=z.__private__.putCatalog=function(M){var q=(M=M||{}).rootDictionaryObjId||yc;switch(yo(),Ie("<<"),Ie("/Type /Catalog"),Ie("/Pages "+q+" 0 R"),kn||(kn="fullwidth"),kn){case"fullwidth":Ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ie("/OpenAction [3 0 R /Fit]");break;case"original":Ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ve=""+kn;"%"===ve.substr(ve.length-1)&&(kn=parseInt(kn)/100),"number"==typeof kn&&Ie("/OpenAction [3 0 R /XYZ null null "+kt(kn)+"]")}switch(Xi||(Xi="continuous"),Xi){case"continuous":Ie("/PageLayout /OneColumn");break;case"single":Ie("/PageLayout /SinglePage");break;case"two":case"twoleft":Ie("/PageLayout /TwoColumnLeft");break;case"tworight":Ie("/PageLayout /TwoColumnRight")}Ai&&Ie("/PageMode /"+Ai),vi.publish("putCatalog"),Ie(">>"),Ie("endobj")},h_=z.__private__.putTrailer=function(){Ie("trailer"),Ie("<<"),Ie("/Size "+(Je+1)),Ie("/Root "+Je+" 0 R"),Ie("/Info "+(Je-1)+" 0 R"),null!==J&&Ie("/Encrypt "+Oi.oid+" 0 R"),Ie("/ID [ <"+wt+"> <"+wt+"> ]"),Ie(">>")},f_=z.__private__.putHeader=function(){Ie("%PDF-"+ye),Ie("%\xba\xdf\xac\xe0")},vr=z.__private__.putXRef=function(){var M="0000000000";Ie("xref"),Ie("0 "+(Je+1)),Ie("0000000000 65535 f ");for(var q=1;q<=Je;q++)Ie("function"==typeof $e[q]?(M+$e[q]()).slice(-10)+" 00000 n ":void 0!==$e[q]?(M+$e[q]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},cu=z.__private__.buildDocument=function(){Je=0,Ct=0,Et=[],$e=[],dn=[],yc=Ss(),Ml=Ss(),Dt(Et),vi.publish("buildDocument"),f_(),wc(),function(){vi.publish("putAdditionalObjects");for(var M=0;M<dn.length;M++){var q=dn[M];ul(q.objId,!0),Ie(q.content),Ie("endobj")}vi.publish("postPutAdditionalObjects")}(),function(){var M=[];(function(){for(var M in Dr)Dr.hasOwnProperty(M)&&(!1===ee||!0===ee&&se.hasOwnProperty(M))&&eo(Dr[M])})(),function(){var M;for(M in Es)Es.hasOwnProperty(M)&&hl(Es[M])}(),function(){for(var M in Zs)Zs.hasOwnProperty(M)&&Ec(Zs[M])}(),function(M){var q;for(q in kr)kr.hasOwnProperty(q)&&(kr[q]instanceof Pd?Bb(kr[q]):kr[q]instanceof Nh&&jg(kr[q],M))}(M),vi.publish("putResources"),M.forEach(fs),fs({resourcesOid:Ml,objectOid:Number.MAX_SAFE_INTEGER}),vi.publish("postPutResources")}(),null!==J&&(Oi.oid=yo(),Ie("<<"),Ie("/Filter /Standard"),Ie("/V "+Oi.v),Ie("/R "+Oi.r),Ie("/U <"+Oi.toHexString(Oi.U)+">"),Ie("/O <"+Oi.toHexString(Oi.O)+">"),Ie("/P "+Oi.P),Ie(">>"),Ie("endobj")),Bt(),Bi();var M=Ct;return vr(),h_(),Ie("startxref"),Ie(""+M),Ie("%%EOF"),Dt(pn[we]),Et.join("\n")},uu=z.__private__.getBlob=function(M){return new Blob([jn(M)],{type:"application/pdf"})},ps=z.output=z.__private__.output=((M=function(M,q){switch("string"==typeof(q=q||{})?q={filename:q}:q.filename=q.filename||"generated.pdf",M){case void 0:return cu();case"save":z.save(q.filename);break;case"arraybuffer":return jn(cu());case"blob":return uu(cu());case"bloburi":case"bloburl":if(void 0!==Zn.URL&&"function"==typeof Zn.URL.createObjectURL)return Zn.URL&&Zn.URL.createObjectURL(uu(cu()))||void 0;Xr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ve="",Me=cu();try{ve=e_(Me)}catch{ve=e_(unescape(encodeURIComponent(Me)))}return"data:application/pdf;filename="+q.filename+";base64,"+ve;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Zn)){var it="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",St=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(it=q.pdfObjectUrl,St="");var nn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+it+'"'+St+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",Nn=Zn.open();return null!==Nn&&Nn.document.write(nn),Nn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Zn)){var ri='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',ui=Zn.open();if(null!==ui){ui.document.write(ri);var fi=this;ui.document.documentElement.querySelector("#pdfViewer").onload=function(){ui.document.title=q.filename,ui.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(fi.output("bloburl"))}}return ui}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Zn))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ii='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',Lr=Zn.open();if(null!==Lr&&(Lr.document.write(ii),Lr.document.title=q.filename),Lr||typeof safari>"u")return Lr;break;case"datauri":case"dataurl":return Zn.document.location.href=this.output("datauristring",q);default:return null}}).foo=function(){try{return M.apply(this,arguments)}catch(Me){var q=Me.stack||"";~q.indexOf(" at ")&&(q=q.split(" at ")[1]);var ve="Error in function "+q.split("\n")[0].split("<")[0]+": "+Me.message;if(!Zn.console)throw new Error(ve);Zn.console.error(ve,Me),Zn.alert&&alert(ve)}},M.foo.bar=M,M.foo),Or=function(M){return!0===Array.isArray(Ha)&&Ha.indexOf(M)>-1};switch(T){case"pt":Un=1;break;case"mm":Un=72/25.4;break;case"cm":Un=72/2.54;break;case"in":Un=72;break;case"px":Un=1==Or("px_scaling")?.75:96/72;break;case"pc":case"em":Un=12;break;case"ex":Un=6;break;default:if("number"!=typeof T)throw new Error("Invalid unit: "+T);Un=T}var Oi=null;En(),nt();var pp=z.__private__.getPageInfo=z.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ln[M].objId,pageNumber:M,pageContext:Ln[M]}},Si=z.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in Ln)if(Ln[q].objId===M)break;return pp(q)},Yo=z.__private__.getCurrentPageInfo=z.getCurrentPageInfo=function(){return{objId:Ln[we].objId,pageNumber:we,pageContext:Ln[we]}};z.addPage=function(){return Yg.apply(this,arguments),this},z.setPage=function(){return Xg.apply(this,arguments),Dt.call(this,pn[we]),this},z.insertPage=function(M){return this.addPage(),this.movePage(we,M),this},z.movePage=function(M,q){var ve,Me;if(M>q){ve=pn[M],Me=Ln[M];for(var it=M;it>q;it--)pn[it]=pn[it-1],Ln[it]=Ln[it-1];pn[q]=ve,Ln[q]=Me,this.setPage(q)}else if(M<q){ve=pn[M],Me=Ln[M];for(var St=M;St<q;St++)pn[St]=pn[St+1],Ln[St]=Ln[St+1];pn[q]=ve,Ln[q]=Me,this.setPage(q)}return this},z.deletePage=function(){return d_.apply(this,arguments),this},z.__private__.text=z.text=function(M,q,ve,Me,it){var St,nn,Nn,ri,ui,fi,ii,Lr,gs,Ms=(Me=Me||{}).scope||this;if("number"==typeof M&&"number"==typeof q&&("string"==typeof ve||Array.isArray(ve))){var ko=ve;ve=q,q=M,M=ko}if(arguments[3]instanceof ni?(Pe("The transform parameter of text() with a Matrix value"),gs=it):(Nn=arguments[4],ri=arguments[5],"object"===(0,d.A)(ii=arguments[3])&&null!==ii||("string"==typeof Nn&&(ri=Nn,Nn=null),"string"==typeof ii&&(ri=ii,ii=null),"number"==typeof ii&&(Nn=ii,ii=null),Me={flags:ii,angle:Nn,align:ri})),isNaN(q)||isNaN(ve)||null==M)throw new Error("Invalid arguments passed to jsPDF.text");if(0===M.length)return Ms;var Rc,jr="",to="number"==typeof Me.lineHeightFactor?Me.lineHeightFactor:Gd,Vl=Ms.internal.scaleFactor;function Qi(_r){return _r=_r.split("\t").join(Array(Me.TabLen||9).join(" ")),Ea(_r,ii)}function Ci(_r){for(var Zr,Os=_r.concat(),ro=[],Zu=Os.length;Zu--;)"string"==typeof(Zr=Os.shift())?ro.push(Zr):Array.isArray(_r)&&(1===Zr.length||void 0===Zr[1]&&void 0===Zr[2])?ro.push(Zr[0]):ro.push([Zr[0],Zr[1],Zr[2]]);return ro}function xc(_r,Zr){var Os;if("string"==typeof _r)Os=Zr(_r)[0];else if(Array.isArray(_r)){for(var ro,Zu,rm=_r.concat(),Qh=[],ed=rm.length;ed--;)"string"==typeof(ro=rm.shift())?Qh.push(Zr(ro)[0]):Array.isArray(ro)&&"string"==typeof ro[0]&&(Zu=Zr(ro[0],ro[1],ro[2]),Qh.push([Zu[0],Zu[1],Zu[2]]));Os=Qh}return Os}var yp=!1,Pc=!0;if("string"==typeof M)yp=!0;else if(Array.isArray(M)){var bp=M.concat();nn=[];for(var qh,$r=bp.length;$r--;)("string"!=typeof(qh=bp.shift())||Array.isArray(qh)&&"string"!=typeof qh[0])&&(Pc=!1);yp=Pc}if(!1===yp)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');"string"==typeof M&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var Wd=vn/Ms.internal.scaleFactor,pu=Wd*(to-1);switch(Me.baseline){case"bottom":ve-=pu;break;case"top":ve+=Wd-pu;break;case"hanging":ve+=Wd-2*pu;break;case"middle":ve+=Wd/2-pu}if((fi=Me.maxWidth||0)>0&&("string"==typeof M?M=Ms.splitTextToSize(M,fi):"[object Array]"===Object.prototype.toString.call(M)&&(M=M.reduce(function(_r,Zr){return _r.concat(Ms.splitTextToSize(Zr,fi))},[]))),vi.publish("preProcessText",St={text:M,x:q,y:ve,options:Me,mutex:{pdfEscape:Ea,activeFontKey:nr,fonts:Dr,activeFontSize:vn}}),M=St.text,Nn=(Me=St.options).angle,gs instanceof ni||!Nn||"number"!=typeof Nn)Nn&&Nn instanceof ni&&(gs=Nn);else{Nn*=Math.PI/180,0===Me.rotationDirection&&(Nn=-Nn),"advanced"===ke&&(Nn=-Nn);var pl=Math.cos(Nn),Gl=Math.sin(Nn);gs=new ni(pl,Gl,-Gl,pl,0,0)}"advanced"!==ke||gs||(gs=_c),void 0!==(ui=Me.charSpace||zh)&&(jr+=at(he(ui))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(Lr=Me.horizontalScale)&&(jr+=at(100*Lr)+" Tz\n");var Ta=-1,nm=void 0!==Me.renderingMode?Me.renderingMode:Me.stroke,Mc=Ms.internal.getCurrentPageInfo().pageContext;switch(nm){case 0:case!1:case"fill":Ta=0;break;case 1:case!0:case"stroke":Ta=1;break;case 2:case"fillThenStroke":Ta=2;break;case 3:case"invisible":Ta=3;break;case 4:case"fillAndAddForClipping":Ta=4;break;case 5:case"strokeAndAddPathForClipping":Ta=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ta=6;break;case 7:case"addToPathForClipping":Ta=7}-1!==Ta?jr+=Ta+" Tr\n":-1!==(void 0!==Mc.usedRenderingMode?Mc.usedRenderingMode:-1)&&(jr+="0 Tr\n"),-1!==Ta&&(Mc.usedRenderingMode=Ta),ri=Me.align||"left";var Sr,Cp=vn*to,wp=Ms.internal.pageSize.getWidth(),Kh=Dr[nr];ui=Me.charSpace||zh,fi=Me.maxWidth||0,ii=Object.assign({autoencode:!0,noBOM:!0},Me.flags);var Nc=[],gl=function(_r){return Ms.getStringUnitWidth(_r,{font:Kh,charSpace:ui,fontSize:vn,doKerning:!1})*vn/Vl};if("[object Array]"===Object.prototype.toString.call(M)){var Pi;nn=Ci(M),"left"!==ri&&(Sr=nn.map(gl));var wo,Yu=0;if("right"===ri){q-=Sr[0],M=[],$r=nn.length;for(var Xo=0;Xo<$r;Xo++)0===Xo?(wo=hu(q),Pi=Rr(ve)):(wo=he(Yu-Sr[Xo]),Pi=-Cp),M.push([nn[Xo],wo,Pi]),Yu=Sr[Xo]}else if("center"===ri){q-=Sr[0]/2,M=[],$r=nn.length;for(var Bl=0;Bl<$r;Bl++)0===Bl?(wo=hu(q),Pi=Rr(ve)):(wo=he((Yu-Sr[Bl])/2),Pi=-Cp),M.push([nn[Bl],wo,Pi]),Yu=Sr[Bl]}else if("left"===ri){M=[],$r=nn.length;for(var Hl=0;Hl<$r;Hl++)M.push(nn[Hl])}else if("justify"===ri&&"Identity-H"===Kh.encoding){M=[],$r=nn.length,fi=0!==fi?fi:wp;for(var Oc=0,Ns=0;Ns<$r;Ns++)if(Pi=0===Ns?Rr(ve):-Cp,wo=0===Ns?hu(q):Oc,Ns<$r-1){var zd=he((fi-Sr[Ns])/(nn[Ns].split(" ").length-1)),no=nn[Ns].split(" ");M.push([no[0]+" ",wo,Pi]),Oc=0;for(var ml=1;ml<no.length;ml++){var gu=(gl(no[ml-1]+" "+no[ml])-gl(no[ml]))*Vl+zd;M.push(ml==no.length-1?[no[ml],gu,0]:[no[ml]+" ",gu,0]),Oc-=gu}}else M.push([nn[Ns],wo,Pi]);M.push(["",Oc,0])}else{if("justify"!==ri)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(M=[],$r=nn.length,fi=0!==fi?fi:wp,Ns=0;Ns<$r;Ns++)Pi=0===Ns?Rr(ve):-Cp,wo=0===Ns?hu(q):0,Nc.push(Ns<$r-1?at(he((fi-Sr[Ns])/(nn[Ns].split(" ").length-1))):0),M.push([nn[Ns],wo,Pi])}}!0===("boolean"==typeof Me.R2L?Me.R2L:ai)&&(M=xc(M,function(_r,Zr,Os){return[_r.split("").reverse().join(""),Zr,Os]})),vi.publish("postProcessText",St={text:M,x:q,y:ve,options:Me,mutex:{pdfEscape:Ea,activeFontKey:nr,fonts:Dr,activeFontSize:vn}}),M=St.text,Rc=St.mutex.isHex||!1;var Yh=Dr[nr].encoding;"WinAnsiEncoding"!==Yh&&"StandardEncoding"!==Yh||(M=xc(M,function(_r,Zr,Os){return[Qi(_r),Zr,Os]})),nn=Ci(M),M=[];for(var Xu,Qu,mu,jd=Array.isArray(nn[0])?1:0,Ju="",Xh=function(_r,Zr,Os){var ro="";return Os instanceof ni?(Os="number"==typeof Me.angle?vc(Os,new ni(1,0,0,1,_r,Zr)):vc(new ni(1,0,0,1,_r,Zr),Os),"advanced"===ke&&(Os=vc(new ni(1,0,0,-1,0,0),Os)),ro=Os.join(" ")+" Tm\n"):ro=at(_r)+" "+at(Zr)+" Td\n",ro},io=0;io<nn.length;io++){switch(Ju="",jd){case 1:mu=(Rc?"<":"(")+nn[io][0]+(Rc?">":")"),Xu=parseFloat(nn[io][1]),Qu=parseFloat(nn[io][2]);break;case 0:mu=(Rc?"<":"(")+nn[io]+(Rc?">":")"),Xu=hu(q),Qu=Rr(ve)}void 0!==Nc&&void 0!==Nc[io]&&(Ju=Nc[io]+" Tw\n"),0===io?M.push(Ju+Xh(Xu,Qu,gs)+mu):0===jd?M.push(Ju+mu):1===jd&&M.push(Ju+Xh(Xu,Qu,gs)+mu)}M=M.join(0===jd?" Tj\nT* ":" Tj\n"),M+=" Tj\n";var vl="BT\n/";return vl+=nr+" "+vn+" Tf\n",vl+=at(vn*to)+" TL\n",vl+=Bd+"\n",vl+=jr,vl+=M,Ie(vl+="ET"),se[nr]=!0,Ms};var Ic=z.__private__.clip=z.clip=function(M){return Ie("evenodd"===M?"W*":"W"),this};z.clipEvenOdd=function(){return Ic("evenodd")},z.__private__.discardPath=z.discardPath=function(){return Ie("n"),this};var Ac=z.__private__.isValidStyle=function(M){var q=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)&&(q=!0),q};z.__private__.setDefaultPathOperation=z.setDefaultPathOperation=function(M){return Ac(M)&&(j=M),this};var Sa=z.__private__.getStyle=z.getStyle=function(M){var q=j;switch(M){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=M}return q},Fl=z.close=function(){return Ie("h"),this};z.stroke=function(){return Ie("S"),this},z.fill=function(M){return gp("f",M),this},z.fillEvenOdd=function(M){return gp("f*",M),this},z.fillStroke=function(M){return gp("B",M),this},z.fillStrokeEvenOdd=function(M){return gp("B*",M),this};var gp=function(M,q){"object"===(0,d.A)(q)?Qg(q,M):Ie(M)},Jr=function(M){null===M||"advanced"===ke&&void 0===M||(M=Sa(M),Ie(M))};function p_(M,q,ve,Me,it){var St=new Nh(q||this.boundingBox,ve||this.xStep,Me||this.yStep,this.gState,it||this.matrix);St.stream=this.stream;var nn=M+"$$"+this.cloneIndex+++"$$";return Ca(nn,St),St}var Qg=function(M,q){var ve=zg[M.key],Me=kr[ve];if(Me instanceof Pd)Ie("q"),Ie(mp(q)),Me.gState&&z.setGState(Me.gState),Ie(M.matrix.toString()+" cm"),Ie("/"+ve+" sh"),Ie("Q");else if(Me instanceof Nh){var it=new ni(1,0,0,-1,0,Pr());M.matrix&&(it=it.multiply(M.matrix||_c),ve=p_.call(Me,M.key,M.boundingBox,M.xStep,M.yStep,it).id),Ie("q"),Ie("/Pattern cs"),Ie("/"+ve+" scn"),Me.gState&&z.setGState(Me.gState),Ie(q),Ie("Q")}},mp=function(M){switch(M){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Dc=z.moveTo=function(M,q){return Ie(at(he(M))+" "+at(_e(q))+" m"),this},ju=z.lineTo=function(M,q){return Ie(at(he(M))+" "+at(_e(q))+" l"),this},On=z.curveTo=function(M,q,ve,Me,it,St){return Ie([at(he(M)),at(_e(q)),at(he(ve)),at(_e(Me)),at(he(it)),at(_e(St)),"c"].join(" ")),this};z.__private__.line=z.line=function(M,q,ve,Me,it){if(isNaN(M)||isNaN(q)||isNaN(ve)||isNaN(Me)||!Ac(it))throw new Error("Invalid arguments passed to jsPDF.line");return"compat"===ke?this.lines([[ve-M,Me-q]],M,q,[1,1],it||"S"):this.lines([[ve-M,Me-q]],M,q,[1,1]).stroke()},z.__private__.lines=z.lines=function(M,q,ve,Me,it,St){var nn,Nn,ri,ui,fi,ko,jr,Rc;if("number"==typeof M&&(Rc=ve,ve=q,q=M,M=Rc),Me=Me||[1,1],St=St||!1,isNaN(q)||isNaN(ve)||!Array.isArray(M)||!Array.isArray(Me)||!Ac(it)||"boolean"!=typeof St)throw new Error("Invalid arguments passed to jsPDF.lines");for(Dc(q,ve),nn=Me[0],Nn=Me[1],ui=M.length,ko=q,jr=ve,ri=0;ri<ui;ri++)2===(fi=M[ri]).length?ju(ko=fi[0]*nn+ko,jr=fi[1]*Nn+jr):On(fi[0]*nn+ko,fi[1]*Nn+jr,fi[2]*nn+ko,fi[3]*Nn+jr,ko=fi[4]*nn+ko,jr=fi[5]*Nn+jr);return St&&Fl(),Jr(it),this},z.path=function(M){for(var q=0;q<M.length;q++){var ve=M[q],Me=ve.c;switch(ve.op){case"m":Dc(Me[0],Me[1]);break;case"l":ju(Me[0],Me[1]);break;case"c":On.apply(this,Me);break;case"h":Fl()}}return this},z.__private__.rect=z.rect=function(M,q,ve,Me,it){if(isNaN(M)||isNaN(q)||isNaN(ve)||isNaN(Me)||!Ac(it))throw new Error("Invalid arguments passed to jsPDF.rect");return"compat"===ke&&(Me=-Me),Ie([at(he(M)),at(_e(q)),at(he(ve)),at(he(Me)),"re"].join(" ")),Jr(it),this},z.__private__.triangle=z.triangle=function(M,q,ve,Me,it,St,nn){if(isNaN(M)||isNaN(q)||isNaN(ve)||isNaN(Me)||isNaN(it)||isNaN(St)||!Ac(nn))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ve-M,Me-q],[it-ve,St-Me],[M-it,q-St]],M,q,[1,1],nn,!0),this},z.__private__.roundedRect=z.roundedRect=function(M,q,ve,Me,it,St,nn){if(isNaN(M)||isNaN(q)||isNaN(ve)||isNaN(Me)||isNaN(it)||isNaN(St)||!Ac(nn))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Nn=4/3*(Math.SQRT2-1);return it=Math.min(it,.5*ve),St=Math.min(St,.5*Me),this.lines([[ve-2*it,0],[it*Nn,0,it,St-St*Nn,it,St],[0,Me-2*St],[0,St*Nn,-it*Nn,St,-it,St],[2*it-ve,0],[-it*Nn,0,-it,-St*Nn,-it,-St],[0,2*St-Me],[0,-St*Nn,it*Nn,-St,it,-St]],M+it,q,[1,1],nn,!0),this},z.__private__.ellipse=z.ellipse=function(M,q,ve,Me,it){if(isNaN(M)||isNaN(q)||isNaN(ve)||isNaN(Me)||!Ac(it))throw new Error("Invalid arguments passed to jsPDF.ellipse");var St=4/3*(Math.SQRT2-1)*ve,nn=4/3*(Math.SQRT2-1)*Me;return Dc(M+ve,q),On(M+ve,q-nn,M+St,q-Me,M,q-Me),On(M-St,q-Me,M-ve,q-nn,M-ve,q),On(M-ve,q+nn,M-St,q+Me,M,q+Me),On(M+St,q+Me,M+ve,q+nn,M+ve,q),Jr(it),this},z.__private__.circle=z.circle=function(M,q,ve,Me){if(isNaN(M)||isNaN(q)||isNaN(ve)||!Ac(Me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,q,ve,ve,Me)},z.setFont=function(M,q,ve){return ve&&(q=Ht(q,ve)),nr=bo(M,q,{disableWarning:!1}),this};var Fo=z.__private__.getFont=z.getFont=function(){return Dr[bo.apply(z,arguments)]};z.__private__.getFontList=z.getFontList=function(){var M,q,ve={};for(M in os)if(os.hasOwnProperty(M))for(q in ve[M]=[],os[M])os[M].hasOwnProperty(q)&&ve[M].push(q);return ve},z.addFont=function(M,q,ve,Me,it){var St=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==St.indexOf(arguments[3])?it=arguments[3]:arguments[3]&&-1==St.indexOf(arguments[3])&&(ve=Ht(ve,Me)),Kg.call(this,M,q,ve,it=it||"Identity-H")};var Gd,du=w.lineWidth||.200025,Hh=z.__private__.getLineWidth=z.getLineWidth=function(){return du},Jg=z.__private__.setLineWidth=z.setLineWidth=function(M){return du=M,Ie(at(he(M))+" w"),this};z.__private__.setLineDash=ti.API.setLineDash=ti.API.setLineDashPattern=function(M,q){if(M=M||[],q=q||0,isNaN(q)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map(function(ve){return at(he(ve))}).join(" "),q=at(he(q)),Ie("["+M+"] "+q+" d"),this};var Zg=z.__private__.getLineHeight=z.getLineHeight=function(){return vn*Gd};z.__private__.getLineHeight=z.getLineHeight=function(){return vn*Gd};var em=z.__private__.setLineHeightFactor=z.setLineHeightFactor=function(M){return"number"==typeof(M=M||1.15)&&(Gd=M),this},Uh=z.__private__.getLineHeightFactor=z.getLineHeightFactor=function(){return Gd};em(w.lineHeight);var hu=z.__private__.getHorizontalCoordinate=function(M){return he(M)},Rr=z.__private__.getVerticalCoordinate=function(M){return"advanced"===ke?M:Ln[we].mediaBox.topRightY-Ln[we].mediaBox.bottomLeftY-he(M)},ei=z.__private__.getHorizontalCoordinateString=z.getHorizontalCoordinateString=function(M){return at(hu(M))},pr=z.__private__.getVerticalCoordinateString=z.getVerticalCoordinateString=function(M){return at(Rr(M))},kl=w.strokeColor||"0 G";z.__private__.getStrokeColor=z.getDrawColor=function(){return Ua(kl)},z.__private__.setStrokeColor=z.setDrawColor=function(M,q,ve,Me){return kl=bc({ch1:M,ch2:q,ch3:ve,ch4:Me,pdfColorType:"draw",precision:2}),Ie(kl),this};var Wh=w.fillColor||"0 g";z.__private__.getFillColor=z.getFillColor=function(){return Ua(Wh)},z.__private__.setFillColor=z.setFillColor=function(M,q,ve,Me){return Wh=bc({ch1:M,ch2:q,ch3:ve,ch4:Me,pdfColorType:"fill",precision:2}),Ie(Wh),this};var Bd=w.textColor||"0 g",Hd=z.__private__.getTextColor=z.getTextColor=function(){return Ua(Bd)};z.__private__.setTextColor=z.setTextColor=function(M,q,ve,Me){return Bd=bc({ch1:M,ch2:q,ch3:ve,ch4:Me,pdfColorType:"text",precision:3}),this};var zh=w.charSpace,tm=z.__private__.getCharSpace=z.getCharSpace=function(){return parseFloat(zh||0)};z.__private__.setCharSpace=z.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return zh=M,this};var $u=0;z.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},z.__private__.setLineCap=z.setLineCap=function(M){var q=z.CapJoinStyles[M];if(void 0===q)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $u=q,Ie(q+" J"),this};var xr=0;z.__private__.setLineJoin=z.setLineJoin=function(M){var q=z.CapJoinStyles[M];if(void 0===q)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xr=q,Ie(q+" j"),this},z.__private__.setLineMiterLimit=z.__private__.setMiterLimit=z.setLineMiterLimit=z.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ie(at(he(M))+" M"),this},z.GState=np,z.setGState=function(M){(M="string"==typeof M?Es[mc[M]]:jh(null,M)).equals(Gh)||(Ie("/"+M.id+" gs"),Gh=M)};var jh=function(M,q){if(!M||!mc[M]){var ve=!1;for(var Me in Es)if(Es.hasOwnProperty(Me)&&Es[Me].equals(q)){ve=!0;break}if(ve)q=Es[Me];else{var it="GS"+(Object.keys(Es).length+1).toString(10);Es[it]=q,q.id=it}return M&&(mc[M]=q.id),vi.publish("addGState",q),q}};z.addGState=function(M,q){return jh(M,q),this},z.saveGraphicsState=function(){return Ie("q"),Ld.push({key:nr,size:vn,color:Bd}),this},z.restoreGraphicsState=function(){Ie("Q");var M=Ld.pop();return nr=M.key,vn=M.size,Bd=M.color,Gh=null,this},z.setCurrentTransformationMatrix=function(M){return Ie(M.toString()+" cm"),this},z.comment=function(M){return Ie("#"+M),this};var qu=function(M,q){var ve=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ve},set:function(St){isNaN(St)||(ve=parseFloat(St))}});var Me=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Me},set:function(St){isNaN(St)||(Me=parseFloat(St))}});var it="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return it},set:function(St){it=St.toString()}}),this},fl=function(M,q,ve,Me){qu.call(this,M,q),this.type="rect";var it=ve||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return it},set:function(nn){isNaN(nn)||(it=parseFloat(nn))}});var St=Me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return St},set:function(nn){isNaN(nn)||(St=parseFloat(nn))}}),this},Ll=function(){this.page=Js,this.currentPage=we,this.pages=pn.slice(0),this.pagesContext=Ln.slice(0),this.x=Ba,this.y=fr,this.matrix=au,this.width=_p(we),this.height=Pr(we),this.outputDestination=hn,this.id="",this.objectNumber=-1};Ll.prototype.restore=function(){Js=this.page,Ln=this.pagesContext,pn=this.pages,Ba=this.x,fr=this.y,au=this.matrix,fu(we=this.currentPage,this.width),$h(we,this.height),hn=this.outputDestination};var vp=function(M,q,ve,Me,it){cl.push(new Ll),Js=we=0,pn=[],Ba=M,fr=q,au=it,Tc([ve,Me])};for(var Co in z.beginFormObject=function(M,q,ve,Me,it){return vp(M,q,ve,Me,it),this},z.endFormObject=function(M){return function(M){if(Pl[M])cl.pop().restore();else{var q=new Ll,ve="Xo"+(Object.keys(Zs).length+1).toString(10);q.id=ve,Pl[M]=ve,Zs[ve]=q,vi.publish("addFormObject",q),cl.pop().restore()}}(M),this},z.doFormObject=function(M,q){var ve=Zs[Pl[M]];return Ie("q"),Ie(q.toString()+" cm"),Ie("/"+ve.id+" Do"),Ie("Q"),this},z.getFormObject=function(M){var q=Zs[Pl[M]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},z.save=function(M,q){return M=M||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,!1===q.returnPromise?(qs(uu(cu()),M),"function"==typeof qs.unload&&Zn.setTimeout&&setTimeout(qs.unload,911),this):new Promise(function(ve,Me){try{var it=qs(uu(cu()),M);"function"==typeof qs.unload&&Zn.setTimeout&&setTimeout(qs.unload,911),ve(it)}catch(St){Me(St.message)}})},ti.API)ti.API.hasOwnProperty(Co)&&("events"===Co&&ti.API.events.length?function(M,q){var Me,it;for(it=q.length-1;-1!==it;it--)M.subscribe.apply(M,[q[it][0]].concat("function"==typeof(Me=q[it][1])?[Me]:Me))}(vi,ti.API.events):z[Co]=ti.API[Co]);var _p=z.getPageWidth=function(M){return(Ln[M=M||we].mediaBox.topRightX-Ln[M].mediaBox.bottomLeftX)/Un},fu=z.setPageWidth=function(M,q){Ln[M].mediaBox.topRightX=q*Un+Ln[M].mediaBox.bottomLeftX},Pr=z.getPageHeight=function(M){return(Ln[M=M||we].mediaBox.topRightY-Ln[M].mediaBox.bottomLeftY)/Un},$h=z.setPageHeight=function(M,q){Ln[M].mediaBox.topRightY=q*Un+Ln[M].mediaBox.bottomLeftY};return z.internal={pdfEscape:Ea,getStyle:Sa,getFont:Fo,getFontSize:Mn,getCharSpace:tm,getTextColor:Hd,getLineHeight:Zg,getLineHeightFactor:Uh,getLineWidth:Hh,write:xi,getHorizontalCoordinate:hu,getVerticalCoordinate:Rr,getCoordinateString:ei,getVerticalCoordinateString:pr,collections:{},newObject:yo,newAdditionalObject:wa,newObjectDeferred:Ss,newObjectDeferredBegin:ul,getFilters:Cc,putStream:Ui,events:vi,scaleFactor:Un,pageSize:{getWidth:function(){return _p(we)},setWidth:function(M){fu(we,M)},getHeight:function(){return Pr(we)},setHeight:function(M){$h(we,M)}},encryptionOptions:J,encryption:Oi,getEncryptor:function(M){return null!==J?Oi.encryptor(M,0):function(q){return q}},output:ps,getNumberOfPages:Hb,pages:pn,out:Ie,f2:kt,f3:ce,getPageInfo:pp,getPageInfoByObjId:Si,getCurrentPageInfo:Yo,getPDFVersion:fe,Point:qu,Rectangle:fl,Matrix:ni,hasHotfix:Or},Object.defineProperty(z.internal.pageSize,"width",{get:function(){return _p(we)},set:function(M){fu(we,M)},enumerable:!0,configurable:!0}),Object.defineProperty(z.internal.pageSize,"height",{get:function(){return Pr(we)},set:function(M){$h(we,M)},enumerable:!0,configurable:!0}),function(M){for(var q=0,ve=un.length;q<ve;q++){var Me=Kg.call(this,M[q][0],M[q][1],M[q][2],un[q][3],!0);!1===ee&&(se[Me]=!0);var it=M[q][0].split("-");hp({id:Me,fontName:it[0],fontStyle:it[1]||""})}vi.publish("addFonts",{fonts:Dr,dictionary:os})}.call(z,un),nr="F1",Yg(x,C),vi.publish("initialized"),z}xd.prototype.lsbFirstWord=function(w){return String.fromCharCode(255&w,w>>8&255,w>>16&255,w>>24&255)},xd.prototype.toHexString=function(w){return w.split("").map(function(_){return("0"+(255&_.charCodeAt(0)).toString(16)).slice(-2)}).join("")},xd.prototype.hexToBytes=function(w){for(var _=[],C=0;C<w.length;C+=2)_.push(String.fromCharCode(parseInt(w.substr(C,2),16)));return _.join("")},xd.prototype.processOwnerPassword=function(w,_){return tp(iu(_).substr(0,5),w)},xd.prototype.encryptor=function(w,_){var C=iu(this.encryptionKey+String.fromCharCode(255&w,w>>8&255,w>>16&255,255&_,_>>8&255)).substr(0,10);return function(T){return tp(C,T)}},np.prototype.equals=function(w){var _,C="id,objectNumber,equals";if(!w||(0,d.A)(w)!==(0,d.A)(this))return!1;var T=0;for(_ in this)if(!(C.indexOf(_)>=0)){if(this.hasOwnProperty(_)&&!w.hasOwnProperty(_)||this[_]!==w[_])return!1;T++}for(_ in w)w.hasOwnProperty(_)&&C.indexOf(_)<0&&T--;return 0===T},ti.API={events:[]},ti.version="2.5.2";var hs=ti.API,Gg=1,ip=function(w){return w.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fc=function(w){return w.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ni=function(w){return w.toFixed(2)},Ys=function(w){return w.toFixed(5)};hs.__acroform__={};var _o=function(w,_){w.prototype=Object.create(_.prototype),w.prototype.constructor=w},T0=function(w){return w*Gg},Ga=function(w){var _=new Md,C=$n.internal.getHeight(w)||0,T=$n.internal.getWidth(w)||0;return _.BBox=[0,0,Number(Ni(T)),Number(Ni(C))],_},Oh=hs.__acroform__.setBit=function(w,_){if(w=w||0,_=_||0,isNaN(w)||isNaN(_))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return w|1<<_},I0=hs.__acroform__.clearBit=function(w,_){if(w=w||0,_=_||0,isNaN(w)||isNaN(_))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return w&~(1<<_)},Mb=hs.__acroform__.getBit=function(w,_){if(isNaN(w)||isNaN(_))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return w&1<<_?1:0},xs=hs.__acroform__.getBitForPdf=function(w,_){if(isNaN(w)||isNaN(_))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Mb(w,_-1)},Ps=hs.__acroform__.setBitForPdf=function(w,_){if(isNaN(w)||isNaN(_))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Oh(w,_-1)},dr=hs.__acroform__.clearBitForPdf=function(w,_){if(isNaN(w)||isNaN(_))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return I0(w,_-1)},Nb=hs.__acroform__.calculateCoordinates=function(w,_){var C=_.internal.getHorizontalCoordinate,T=_.internal.getVerticalCoordinate,x=w[0],R=w[1],O=w[2],F=w[3],V={};return V.lowerLeft_X=C(x)||0,V.lowerLeft_Y=T(R+F)||0,V.upperRight_X=C(x+O)||0,V.upperRight_Y=T(R)||0,[Number(Ni(V.lowerLeft_X)),Number(Ni(V.lowerLeft_Y)),Number(Ni(V.upperRight_X)),Number(Ni(V.upperRight_Y))]},ru=function(w){if(w.appearanceStreamContent)return w.appearanceStreamContent;if(w.V||w.DV){var _=[],T=Ob(w,w._V||w.DV),x=w.scope.internal.getFont(w.fontName,w.fontStyle).id;_.push("/Tx BMC"),_.push("q"),_.push("BT"),_.push(w.scope.__private__.encodeColorString(w.color)),_.push("/"+x+" "+Ni(T.fontSize)+" Tf"),_.push("1 0 0 1 0 0 Tm"),_.push(T.text),_.push("ET"),_.push("Q"),_.push("EMC");var R=Ga(w);return R.scope=w.scope,R.stream=_.join("\n"),R}},Ob=function(w,_){var C=0===w.fontSize?w.maxFontSize:w.fontSize,T={text:"",fontSize:""},x=(_=")"==(_="("==_.substr(0,1)?_.substr(1):_).substr(_.length-1)?_.substr(0,_.length-1):_).split(" ");x=x.map(w.multiline?function(ce){return ce.split("\n")}:function(ce){return[ce]});var R=C,O=$n.internal.getHeight(w)||0;O=O<0?-O:O;var ce,F=$n.internal.getWidth(w)||0;F=F<0?-F:F,R++;e:for(;R>0;){_="",R--;var j,J,ee=t_("3",w,R).height,se=w.multiline?O-R:(O-ee)/2,z=se+=2,ye=0,fe=0,Ce=0;if(R<=0){_="(...) Tj\n",_+="% Width of Text: "+t_(_,w,R=12).width+", FieldWidth:"+F+"\n";break}for(var ae="",be=0,ke=0;ke<x.length;ke++)if(x.hasOwnProperty(ke)){var Ee=!1;if(1!==x[ke].length&&Ce!==x[ke].length-1){if((ee+2)*(be+2)+2>O)continue e;ae+=x[ke][Ce],Ee=!0,fe=ke,ke--}else{ae=" "==(ae+=x[ke][Ce]+" ").substr(ae.length-1)?ae.substr(0,ae.length-1):ae;var qe=parseInt(ke),Ht=(ce=qe)+1<x.length&&t_(ae+" "+x[ce+1][0],w,R).width<=F-4,at=ke>=x.length-1;if(Ht&&!at){ae+=" ",Ce=0;continue}if(Ht||at){if(at)fe=qe;else if(w.multiline&&(ee+2)*(be+2)+2>O)continue e}else{if(!w.multiline||(ee+2)*(be+2)+2>O)continue e;fe=qe}}for(var Pe="",lt=ye;lt<=fe;lt++){var kt=x[lt];if(w.multiline){if(lt===fe){Pe+=kt[Ce]+" ",Ce=(Ce+1)%kt.length;continue}if(lt===ye){Pe+=kt[kt.length-1]+" ";continue}}Pe+=kt[0]+" "}switch(Pe=" "==Pe.substr(Pe.length-1)?Pe.substr(0,Pe.length-1):Pe,J=t_(Pe,w,R).width,w.textAlign){case"right":j=F-J-2;break;case"center":j=(F-J)/2;break;default:j=2}_+=Ni(j)+" "+Ni(z)+" Td\n",_+="("+ip(Pe)+") Tj\n",_+=-Ni(j)+" 0 Td\n",z=-(R+2),J=0,ye=Ee?fe:fe+1,be++,ae=""}break}return T.text=_,T.fontSize=R,T},t_=function(w,_,C){var T=_.scope.internal.getFont(_.fontName,_.fontStyle),x=_.scope.getStringUnitWidth(w,{font:T,fontSize:parseFloat(C),charSpace:0})*parseFloat(C);return{height:_.scope.getStringUnitWidth("3",{font:T,fontSize:parseFloat(C),charSpace:0})*parseFloat(C)*1.5,width:x}},su={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},hr=function(w,_){var C={type:"reference",object:w};void 0===_.internal.getPageInfo(w.page).pageContext.annotations.find(function(T){return T.type===C.type&&T.object===C.object})&&_.internal.getPageInfo(w.page).pageContext.annotations.push(C)},n_=hs.__acroform__.arrayToPdfArray=function(w,_,C){var T=function(O){return O};if(Array.isArray(w)){for(var x="[",R=0;R<w.length;R++)switch(0!==R&&(x+=" "),(0,d.A)(w[R])){case"boolean":case"number":case"object":x+=w[R].toString();break;case"string":"/"!==w[R].substr(0,1)?(void 0!==_&&C&&(T=C.internal.getEncryptor(_)),x+="("+ip(T(w[R].toString()))+")"):x+=w[R].toString()}return x+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},sp=function(w,_,C){var T=function(x){return x};return void 0!==_&&C&&(T=C.internal.getEncryptor(_)),(w=w||"").toString(),"("+ip(T(w))+")"},ol=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(w){this._objId=w}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ol.prototype.toString=function(){return this.objId+" 0 R"},ol.prototype.putStream=function(){var w=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:w,objectId:this.objId}),this.scope.internal.out("endobj")},ol.prototype.getKeyValueListForStream=function(){var w=[],_=Object.getOwnPropertyNames(this).filter(function(R){return"content"!=R&&"appearanceStreamContent"!=R&&"scope"!=R&&"objId"!=R&&"_"!=R.substring(0,1)});for(var C in _)if(!1===Object.getOwnPropertyDescriptor(this,_[C]).configurable){var T=_[C],x=this[T];x&&(Array.isArray(x)?w.push({key:T,value:n_(x,this.objId,this.scope)}):x instanceof ol?(x.scope=this.scope,w.push({key:T,value:x.objId+" 0 R"})):"function"!=typeof x&&w.push({key:T,value:x}))}return w};var Md=function(){ol.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var w,_=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return _},set:function(C){_=C}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(C){w=C.trim()},get:function(){return w||null}})};_o(Md,ol);var Nd=function(){ol.call(this);var w,_=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return _.length>0?_:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return _}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(w){var C=function(T){return T};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+ip(C(w))+")"}},set:function(C){w=C}})};_o(Nd,ol);var pc=function w(){ol.call(this);var _=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return _},set:function(ae){if(isNaN(ae))throw new Error('Invalid value "'+ae+'" for attribute F supplied.');_=ae}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!xs(_,3)},set:function(ae){this.F=ae?Ps(_,3):dr(_,3)}});var C=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return C},set:function(ae){if(isNaN(ae))throw new Error('Invalid value "'+ae+'" for attribute Ff supplied.');C=ae}});var T=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==T.length)return T},set:function(ae){T=void 0!==ae?ae:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!T||isNaN(T[0])?0:T[0]},set:function(ae){T[0]=ae}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!T||isNaN(T[1])?0:T[1]},set:function(ae){T[1]=ae}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!T||isNaN(T[2])?0:T[2]},set:function(ae){T[2]=ae}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!T||isNaN(T[3])?0:T[3]},set:function(ae){T[3]=ae}});var x="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return x},set:function(ae){switch(ae){case"/Btn":case"/Tx":case"/Ch":case"/Sig":x=ae;break;default:throw new Error('Invalid value "'+ae+'" for attribute FT supplied.')}}});var R=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!R||R.length<1){if(this instanceof Bg)return;R="FieldObject"+w.FieldNum++}var ae=function(be){return be};return this.scope&&(ae=this.scope.internal.getEncryptor(this.objId)),"("+ip(ae(R))+")"},set:function(ae){R=ae.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return R},set:function(ae){R=ae}});var O="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return O},set:function(ae){O=ae}});var F="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return F},set:function(ae){F=ae}});var V=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return V},set:function(ae){V=ae}});var j=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===j?50/Gg:j},set:function(ae){j=ae}});var J="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return J},set:function(ae){J=ae}});var ee="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!ee||this instanceof Bg||this instanceof kd))return sp(ee,this.objId,this.scope)},set:function(ae){ae=ae.toString(),ee=ae}});var se=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(se)return this instanceof Xs?se:sp(se,this.objId,this.scope)},set:function(ae){ae=ae.toString(),se=this instanceof Xs?ae:"("===ae.substr(0,1)?fc(ae.substr(1,ae.length-2)):fc(ae)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xs?fc(se.substr(1,se.length-1)):se},set:function(ae){ae=ae.toString(),se=this instanceof Xs?"/"+ae:ae}});var z=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(z)return z},set:function(ae){this.V=ae}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(z)return this instanceof Xs?z:sp(z,this.objId,this.scope)},set:function(ae){ae=ae.toString(),z=this instanceof Xs?ae:"("===ae.substr(0,1)?fc(ae.substr(1,ae.length-2)):fc(ae)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xs?fc(z.substr(1,z.length-1)):z},set:function(ae){ae=ae.toString(),z=this instanceof Xs?"/"+ae:ae}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var ye,fe=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return fe},set:function(ae){fe=ae=!!ae}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(ye)return ye},set:function(ae){ye=ae}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,1)},set:function(ae){this.Ff=ae?Ps(this.Ff,1):dr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,2)},set:function(ae){this.Ff=ae?Ps(this.Ff,2):dr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,3)},set:function(ae){this.Ff=ae?Ps(this.Ff,3):dr(this.Ff,3)}});var Ce=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==Ce)return Ce},set:function(ae){if(-1===[0,1,2].indexOf(ae))throw new Error('Invalid value "'+ae+'" for attribute Q supplied.');Ce=ae}}),Object.defineProperty(this,"textAlign",{get:function(){var ae;switch(Ce){case 0:default:ae="left";break;case 1:ae="center";break;case 2:ae="right"}return ae},configurable:!0,enumerable:!0,set:function(ae){switch(ae){case"right":case 2:Ce=2;break;case"center":case 1:Ce=1;break;default:Ce=0}}})};_o(pc,ol);var Wu=function(){pc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var w=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return w},set:function(C){w=C}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return w},set:function(C){w=C}});var _=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return n_(_,this.objId,this.scope)},set:function(C){var T,x;x=[],"string"==typeof(T=C)&&(x=function(R,O,F){F||(F=1);for(var V,j=[];V=O.exec(R);)j.push(V[F]);return j}(T,/\((.*?)\)/g)),_=x}}),this.getOptions=function(){return _},this.setOptions=function(C){_=C,this.sort&&_.sort()},this.addOption=function(C){C=(C=C||"").toString(),_.push(C),this.sort&&_.sort()},this.removeOption=function(C,T){for(T=T||!1,C=(C=C||"").toString();-1!==_.indexOf(C)&&(_.splice(_.indexOf(C),1),!1!==T););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,18)},set:function(C){this.Ff=C?Ps(this.Ff,18):dr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,19)},set:function(C){!0===this.combo&&(this.Ff=C?Ps(this.Ff,19):dr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,20)},set:function(C){C?(this.Ff=Ps(this.Ff,20),_.sort()):this.Ff=dr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,22)},set:function(C){this.Ff=C?Ps(this.Ff,22):dr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,23)},set:function(C){this.Ff=C?Ps(this.Ff,23):dr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,27)},set:function(C){this.Ff=C?Ps(this.Ff,27):dr(this.Ff,27)}}),this.hasAppearanceStream=!1};_o(Wu,pc);var Od=function(){Wu.call(this),this.fontName="helvetica",this.combo=!1};_o(Od,Wu);var Fh=function(){Od.call(this),this.combo=!0};_o(Fh,Od);var Fd=function(){Fh.call(this),this.edit=!0};_o(Fd,Fh);var Xs=function(){pc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,15)},set:function(C){this.Ff=C?Ps(this.Ff,15):dr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,16)},set:function(C){this.Ff=C?Ps(this.Ff,16):dr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,17)},set:function(C){this.Ff=C?Ps(this.Ff,17):dr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,26)},set:function(C){this.Ff=C?Ps(this.Ff,26):dr(this.Ff,26)}});var w,_={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var C=function(R){return R};if(this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(_).length){var T,x=[];for(T in x.push("<<"),_)x.push("/"+T+" ("+ip(C(_[T]))+")");return x.push(">>"),x.join("\n")}},set:function(C){"object"===(0,d.A)(C)&&(_=C)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return _.CA||""},set:function(C){"string"==typeof C&&(_.CA=C)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return w},set:function(C){w=C}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return w.substr(1,w.length-1)},set:function(C){w="/"+C}})};_o(Xs,pc);var op=function(){Xs.call(this),this.pushButton=!0};_o(op,Xs);var kh=function(){Xs.call(this),this.radio=!0,this.pushButton=!1;var w=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return w},set:function(_){w=void 0!==_?_:[]}})};_o(kh,Xs);var Bg=function(){var w,_;pc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return w},set:function(x){w=x}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return _},set:function(x){_=x}});var C,T={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var x=function(F){return F};this.scope&&(x=this.scope.internal.getEncryptor(this.objId));var R,O=[];for(R in O.push("<<"),T)O.push("/"+R+" ("+ip(x(T[R]))+")");return O.push(">>"),O.join("\n")},set:function(x){"object"===(0,d.A)(x)&&(T=x)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return T.CA||""},set:function(x){"string"==typeof x&&(T.CA=x)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return C},set:function(x){C=x}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return C.substr(1,C.length-1)},set:function(x){C="/"+x}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$n.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};_o(Bg,pc),kh.prototype.setAppearance=function(w){if(!("createAppearanceStream"in w)||!("getCA"in w))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var _ in this.Kids)if(this.Kids.hasOwnProperty(_)){var C=this.Kids[_];C.appearanceStreamContent=w.createAppearanceStream(C.optionName),C.caption=w.getCA()}},kh.prototype.createOption=function(w){var _=new Bg;return _.Parent=this,_.optionName=w,this.Kids.push(_),ZA.call(this.scope,_),_};var i_=function(){Xs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$n.CheckBox.createAppearanceStream()};_o(i_,Xs);var kd=function(){pc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,13)},set:function(_){this.Ff=_?Ps(this.Ff,13):dr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,21)},set:function(_){this.Ff=_?Ps(this.Ff,21):dr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,23)},set:function(_){this.Ff=_?Ps(this.Ff,23):dr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,24)},set:function(_){this.Ff=_?Ps(this.Ff,24):dr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,25)},set:function(_){this.Ff=_?Ps(this.Ff,25):dr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,26)},set:function(_){this.Ff=_?Ps(this.Ff,26):dr(this.Ff,26)}});var w=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return w},set:function(_){w=_}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return w},set:function(_){Number.isInteger(_)&&(w=_)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};_o(kd,pc);var ba=function(){kd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,14)},set:function(w){this.Ff=w?Ps(this.Ff,14):dr(this.Ff,14)}}),this.password=!0};_o(ba,kd);var $n={CheckBox:{createAppearanceStream:function(){return{N:{On:$n.CheckBox.YesNormal},D:{On:$n.CheckBox.YesPushDown,Off:$n.CheckBox.OffPushDown}}},YesPushDown:function(w){var _=Ga(w);_.scope=w.scope;var C=[],T=w.scope.internal.getFont(w.fontName,w.fontStyle).id,x=w.scope.__private__.encodeColorString(w.color),R=Ob(w,w.caption);return C.push("0.749023 g"),C.push("0 0 "+Ni($n.internal.getWidth(w))+" "+Ni($n.internal.getHeight(w))+" re"),C.push("f"),C.push("BMC"),C.push("q"),C.push("0 0 1 rg"),C.push("/"+T+" "+Ni(R.fontSize)+" Tf "+x),C.push("BT"),C.push(R.text),C.push("ET"),C.push("Q"),C.push("EMC"),_.stream=C.join("\n"),_},YesNormal:function(w){var _=Ga(w);_.scope=w.scope;var C=w.scope.internal.getFont(w.fontName,w.fontStyle).id,T=w.scope.__private__.encodeColorString(w.color),x=[],R=$n.internal.getHeight(w),O=$n.internal.getWidth(w),F=Ob(w,w.caption);return x.push("1 g"),x.push("0 0 "+Ni(O)+" "+Ni(R)+" re"),x.push("f"),x.push("q"),x.push("0 0 1 rg"),x.push("0 0 "+Ni(O-1)+" "+Ni(R-1)+" re"),x.push("W"),x.push("n"),x.push("0 g"),x.push("BT"),x.push("/"+C+" "+Ni(F.fontSize)+" Tf "+T),x.push(F.text),x.push("ET"),x.push("Q"),_.stream=x.join("\n"),_},OffPushDown:function(w){var _=Ga(w);_.scope=w.scope;var C=[];return C.push("0.749023 g"),C.push("0 0 "+Ni($n.internal.getWidth(w))+" "+Ni($n.internal.getHeight(w))+" re"),C.push("f"),_.stream=C.join("\n"),_}},RadioButton:{Circle:{createAppearanceStream:function(w){var _={D:{Off:$n.RadioButton.Circle.OffPushDown},N:{}};return _.N[w]=$n.RadioButton.Circle.YesNormal,_.D[w]=$n.RadioButton.Circle.YesPushDown,_},getCA:function(){return"l"},YesNormal:function(w){var _=Ga(w);_.scope=w.scope;var C=[],T=$n.internal.getWidth(w)<=$n.internal.getHeight(w)?$n.internal.getWidth(w)/4:$n.internal.getHeight(w)/4;T=Number((.9*T).toFixed(5));var R=Number((T*$n.internal.Bezier_C).toFixed(5));return C.push("q"),C.push("1 0 0 1 "+Ys($n.internal.getWidth(w)/2)+" "+Ys($n.internal.getHeight(w)/2)+" cm"),C.push(T+" 0 m"),C.push(T+" "+R+" "+R+" "+T+" 0 "+T+" c"),C.push("-"+R+" "+T+" -"+T+" "+R+" -"+T+" 0 c"),C.push("-"+T+" -"+R+" -"+R+" -"+T+" 0 -"+T+" c"),C.push(R+" -"+T+" "+T+" -"+R+" "+T+" 0 c"),C.push("f"),C.push("Q"),_.stream=C.join("\n"),_},YesPushDown:function(w){var _=Ga(w);_.scope=w.scope;var C=[],T=$n.internal.getWidth(w)<=$n.internal.getHeight(w)?$n.internal.getWidth(w)/4:$n.internal.getHeight(w)/4;T=Number((.9*T).toFixed(5));var x=Number((2*T).toFixed(5)),R=Number((x*$n.internal.Bezier_C).toFixed(5)),O=Number((T*$n.internal.Bezier_C).toFixed(5));return C.push("0.749023 g"),C.push("q"),C.push("1 0 0 1 "+Ys($n.internal.getWidth(w)/2)+" "+Ys($n.internal.getHeight(w)/2)+" cm"),C.push(x+" 0 m"),C.push(x+" "+R+" "+R+" "+x+" 0 "+x+" c"),C.push("-"+R+" "+x+" -"+x+" "+R+" -"+x+" 0 c"),C.push("-"+x+" -"+R+" -"+R+" -"+x+" 0 -"+x+" c"),C.push(R+" -"+x+" "+x+" -"+R+" "+x+" 0 c"),C.push("f"),C.push("Q"),C.push("0 g"),C.push("q"),C.push("1 0 0 1 "+Ys($n.internal.getWidth(w)/2)+" "+Ys($n.internal.getHeight(w)/2)+" cm"),C.push(T+" 0 m"),C.push(T+" "+O+" "+O+" "+T+" 0 "+T+" c"),C.push("-"+O+" "+T+" -"+T+" "+O+" -"+T+" 0 c"),C.push("-"+T+" -"+O+" -"+O+" -"+T+" 0 -"+T+" c"),C.push(O+" -"+T+" "+T+" -"+O+" "+T+" 0 c"),C.push("f"),C.push("Q"),_.stream=C.join("\n"),_},OffPushDown:function(w){var _=Ga(w);_.scope=w.scope;var C=[],T=$n.internal.getWidth(w)<=$n.internal.getHeight(w)?$n.internal.getWidth(w)/4:$n.internal.getHeight(w)/4;T=Number((.9*T).toFixed(5));var x=Number((2*T).toFixed(5)),R=Number((x*$n.internal.Bezier_C).toFixed(5));return C.push("0.749023 g"),C.push("q"),C.push("1 0 0 1 "+Ys($n.internal.getWidth(w)/2)+" "+Ys($n.internal.getHeight(w)/2)+" cm"),C.push(x+" 0 m"),C.push(x+" "+R+" "+R+" "+x+" 0 "+x+" c"),C.push("-"+R+" "+x+" -"+x+" "+R+" -"+x+" 0 c"),C.push("-"+x+" -"+R+" -"+R+" -"+x+" 0 -"+x+" c"),C.push(R+" -"+x+" "+x+" -"+R+" "+x+" 0 c"),C.push("f"),C.push("Q"),_.stream=C.join("\n"),_}},Cross:{createAppearanceStream:function(w){var _={D:{Off:$n.RadioButton.Cross.OffPushDown},N:{}};return _.N[w]=$n.RadioButton.Cross.YesNormal,_.D[w]=$n.RadioButton.Cross.YesPushDown,_},getCA:function(){return"8"},YesNormal:function(w){var _=Ga(w);_.scope=w.scope;var C=[],T=$n.internal.calculateCross(w);return C.push("q"),C.push("1 1 "+Ni($n.internal.getWidth(w)-2)+" "+Ni($n.internal.getHeight(w)-2)+" re"),C.push("W"),C.push("n"),C.push(Ni(T.x1.x)+" "+Ni(T.x1.y)+" m"),C.push(Ni(T.x2.x)+" "+Ni(T.x2.y)+" l"),C.push(Ni(T.x4.x)+" "+Ni(T.x4.y)+" m"),C.push(Ni(T.x3.x)+" "+Ni(T.x3.y)+" l"),C.push("s"),C.push("Q"),_.stream=C.join("\n"),_},YesPushDown:function(w){var _=Ga(w);_.scope=w.scope;var C=$n.internal.calculateCross(w),T=[];return T.push("0.749023 g"),T.push("0 0 "+Ni($n.internal.getWidth(w))+" "+Ni($n.internal.getHeight(w))+" re"),T.push("f"),T.push("q"),T.push("1 1 "+Ni($n.internal.getWidth(w)-2)+" "+Ni($n.internal.getHeight(w)-2)+" re"),T.push("W"),T.push("n"),T.push(Ni(C.x1.x)+" "+Ni(C.x1.y)+" m"),T.push(Ni(C.x2.x)+" "+Ni(C.x2.y)+" l"),T.push(Ni(C.x4.x)+" "+Ni(C.x4.y)+" m"),T.push(Ni(C.x3.x)+" "+Ni(C.x3.y)+" l"),T.push("s"),T.push("Q"),_.stream=T.join("\n"),_},OffPushDown:function(w){var _=Ga(w);_.scope=w.scope;var C=[];return C.push("0.749023 g"),C.push("0 0 "+Ni($n.internal.getWidth(w))+" "+Ni($n.internal.getHeight(w))+" re"),C.push("f"),_.stream=C.join("\n"),_}}},createDefaultAppearanceStream:function(w){var _=w.scope.internal.getFont(w.fontName,w.fontStyle).id,C=w.scope.__private__.encodeColorString(w.color);return"/"+_+" "+w.fontSize+" Tf "+C}};$n.internal={Bezier_C:.551915024494,calculateCross:function(w){var _=$n.internal.getWidth(w),C=$n.internal.getHeight(w),T=Math.min(_,C);return{x1:{x:(_-T)/2,y:(C-T)/2+T},x2:{x:(_-T)/2+T,y:(C-T)/2},x3:{x:(_-T)/2,y:(C-T)/2},x4:{x:(_-T)/2+T,y:(C-T)/2+T}}}},$n.internal.getWidth=function(w){var _=0;return"object"===(0,d.A)(w)&&(_=T0(w.Rect[2])),_},$n.internal.getHeight=function(w){var _=0;return"object"===(0,d.A)(w)&&(_=T0(w.Rect[3])),_};var ZA=hs.addField=function(w){if(function(w,_){if(_.scope=w,void 0!==w.internal&&(void 0===w.internal.acroformPlugin||!1===w.internal.acroformPlugin.isInitialized)){if(pc.FieldNum=0,w.internal.acroformPlugin=JSON.parse(JSON.stringify(su)),w.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Gg=w.internal.scaleFactor,w.internal.acroformPlugin.acroFormDictionaryRoot=new Nd,w.internal.acroformPlugin.acroFormDictionaryRoot.scope=w,w.internal.acroformPlugin.acroFormDictionaryRoot._eventID=w.internal.events.subscribe("postPutResources",function(){var C;(C=w).internal.events.unsubscribe(C.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete C.internal.acroformPlugin.acroFormDictionaryRoot._eventID,C.internal.acroformPlugin.printedOut=!0}),w.internal.events.subscribe("buildDocument",function(){!function(C){C.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var T=C.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var x in T)if(T.hasOwnProperty(x)){var R=T[x];R.objId=void 0,R.hasAnnotation&&hr(R,C)}}(w)}),w.internal.events.subscribe("putCatalog",function(){!function(C){if(void 0===C.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");C.internal.write("/AcroForm "+C.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(w)}),w.internal.events.subscribe("postPutPages",function(C){!function(T,x){var R=!T;for(var O in T||(x.internal.newObjectDeferredBegin(x.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),x.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),T=T||x.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(T.hasOwnProperty(O)){var F=T[O],V=[],j=F.Rect;if(F.Rect&&(F.Rect=Nb(F.Rect,x)),x.internal.newObjectDeferredBegin(F.objId,!0),F.DA=$n.createDefaultAppearanceStream(F),"object"===(0,d.A)(F)&&"function"==typeof F.getKeyValueListForStream&&(V=F.getKeyValueListForStream()),F.Rect=j,F.hasAppearanceStream&&!F.appearanceStreamContent){var J=ru(F);V.push({key:"AP",value:"<</N "+J+">>"}),x.internal.acroformPlugin.xForms.push(J)}if(F.appearanceStreamContent){var ee="";for(var se in F.appearanceStreamContent)if(F.appearanceStreamContent.hasOwnProperty(se)){var z=F.appearanceStreamContent[se];if(ee+="/"+se+" ",ee+="<<",Object.keys(z).length>=1||Array.isArray(z)){for(var O in z)if(z.hasOwnProperty(O)){var ye=z[O];"function"==typeof ye&&(ye=ye.call(x,F)),ee+="/"+O+" "+ye+" ",x.internal.acroformPlugin.xForms.indexOf(ye)>=0||x.internal.acroformPlugin.xForms.push(ye)}}else"function"==typeof(ye=z)&&(ye=ye.call(x,F)),ee+="/"+O+" "+ye,x.internal.acroformPlugin.xForms.indexOf(ye)>=0||x.internal.acroformPlugin.xForms.push(ye);ee+=">>"}V.push({key:"AP",value:"<<\n"+ee+">>"})}x.internal.putStream({additionalKeyValues:V,objectId:F.objId}),x.internal.out("endobj")}R&&function(w,_){for(var C in w)if(w.hasOwnProperty(C)){var T=C,x=w[C];_.internal.newObjectDeferredBegin(x.objId,!0),"object"===(0,d.A)(x)&&"function"==typeof x.putStream&&x.putStream(),delete w[T]}}(x.internal.acroformPlugin.xForms,x)}(C,w)}),w.internal.acroformPlugin.isInitialized=!0}}(this,w),!(w instanceof pc))throw new Error("Invalid argument passed to jsPDF.addField.");var _;return(_=w).scope.internal.acroformPlugin.printedOut&&(_.scope.internal.acroformPlugin.printedOut=!1,_.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),_.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(_),w.page=w.scope.internal.getCurrentPageInfo().pageNumber,this};hs.AcroFormChoiceField=Wu,hs.AcroFormListBox=Od,hs.AcroFormComboBox=Fh,hs.AcroFormEditBox=Fd,hs.AcroFormButton=Xs,hs.AcroFormPushButton=op,hs.AcroFormRadioButton=kh,hs.AcroFormCheckBox=i_,hs.AcroFormTextField=kd,hs.AcroFormPasswordField=ba,hs.AcroFormAppearance=$n,hs.AcroForm={ChoiceField:Wu,ListBox:Od,ComboBox:Fh,EditBox:Fd,Button:Xs,PushButton:op,RadioButton:kh,CheckBox:i_,TextField:kd,PasswordField:ba,Appearance:$n};var w,_,A0=ti.AcroForm={ChoiceField:Wu,ListBox:Od,ComboBox:Fh,EditBox:Fd,Button:Xs,PushButton:op,RadioButton:kh,CheckBox:i_,TextField:kd,PasswordField:ba,Appearance:$n};function D0(w){return w.reduce(function(_,C,T){return _[C]=T,_},{})}(function(w){w.__addimage__={};var _="UNKNOWN",C={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},T=w.__addimage__.getImageFileTypeByImageData=function(ce,he){var Ve,_e,It,wt,Pt,nt=_;if("RGBA"===(he=he||_)||void 0!==ce.data&&ce.data instanceof Uint8ClampedArray&&"height"in ce&&"width"in ce)return"RGBA";if(Ht(ce))for(Pt in C)for(It=C[Pt],Ve=0;Ve<It.length;Ve+=1){for(wt=!0,_e=0;_e<It[Ve].length;_e+=1)if(void 0!==It[Ve][_e]&&It[Ve][_e]!==ce[_e]){wt=!1;break}if(!0===wt){nt=Pt;break}}else for(Pt in C)for(It=C[Pt],Ve=0;Ve<It.length;Ve+=1){for(wt=!0,_e=0;_e<It[Ve].length;_e+=1)if(void 0!==It[Ve][_e]&&It[Ve][_e]!==ce.charCodeAt(_e)){wt=!1;break}if(!0===wt){nt=Pt;break}}return nt===_&&he!==_&&(nt=he),nt},x=function ce(he){for(var Ve=this.internal.write,_e=this.internal.putStream,It=(0,this.internal.getFilters)();-1!==It.indexOf("FlateEncode");)It.splice(It.indexOf("FlateEncode"),1);he.objectId=this.internal.newObject();var wt=[];if(wt.push({key:"Type",value:"/XObject"}),wt.push({key:"Subtype",value:"/Image"}),wt.push({key:"Width",value:he.width}),wt.push({key:"Height",value:he.height}),he.colorSpace===Ce.INDEXED?wt.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(he.palette.length/3-1)+" "+("sMask"in he&&void 0!==he.sMask?he.objectId+2:he.objectId+1)+" 0 R]"}):(wt.push({key:"ColorSpace",value:"/"+he.colorSpace}),he.colorSpace===Ce.DEVICE_CMYK&&wt.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),wt.push({key:"BitsPerComponent",value:he.bitsPerComponent}),"decodeParameters"in he&&void 0!==he.decodeParameters&&wt.push({key:"DecodeParms",value:"<<"+he.decodeParameters+">>"}),"transparency"in he&&Array.isArray(he.transparency)){for(var Pt="",nt=0,Vt=he.transparency.length;nt<Vt;nt++)Pt+=he.transparency[nt]+" "+he.transparency[nt]+" ";wt.push({key:"Mask",value:"["+Pt+"]"})}if(void 0!==he.sMask&&wt.push({key:"SMask",value:he.objectId+1+" 0 R"}),_e({data:he.data,additionalKeyValues:wt,alreadyAppliedFilters:void 0!==he.filter?["/"+he.filter]:void 0,objectId:he.objectId}),Ve("endobj"),"sMask"in he&&void 0!==he.sMask){var ie={width:he.width,height:he.height,colorSpace:"DeviceGray",bitsPerComponent:he.bitsPerComponent,decodeParameters:"/Predictor "+he.predictor+" /Colors 1 /BitsPerComponent "+he.bitsPerComponent+" /Columns "+he.width,data:he.sMask};"filter"in he&&(ie.filter=he.filter),ce.call(this,ie)}if(he.colorSpace===Ce.INDEXED){var we=this.internal.newObject();_e({data:Pe(new Uint8Array(he.palette)),objectId:we}),Ve("endobj")}},R=function(){var ce=this.internal.collections.addImage_images;for(var he in ce)x.call(this,ce[he])},O=function(){var ce,he=this.internal.collections.addImage_images,Ve=this.internal.write;for(var _e in he)Ve("/I"+(ce=he[_e]).index,ce.objectId,"0","R")},F=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",R),this.internal.events.subscribe("putXobjectDict",O))},V=function(){var ce=this.internal.collections.addImage_images;return F.call(this),ce},j=function(){return Object.keys(this.internal.collections.addImage_images).length},J=function(ce){return"function"==typeof w["process"+ce.toUpperCase()]},ee=function(ce){return"object"===(0,d.A)(ce)&&1===ce.nodeType},se=function(ce,he){if("IMG"===ce.nodeName&&ce.hasAttribute("src")){var Ve=""+ce.getAttribute("src");if(0===Ve.indexOf("data:image/"))return Ph(unescape(Ve).split("base64,").pop());var _e=w.loadFile(Ve,!0);if(void 0!==_e)return _e}if("CANVAS"===ce.nodeName){if(0===ce.width||0===ce.height)throw new Error("Given canvas must have data. Canvas width: "+ce.width+", height: "+ce.height);var It;switch(he){case"PNG":It="image/png";break;case"WEBP":It="image/webp";break;default:It="image/jpeg"}return Ph(ce.toDataURL(It,1).split("base64,").pop())}},z=function(ce){var he=this.internal.collections.addImage_images;if(he)for(var Ve in he)if(ce===he[Ve].alias)return he[Ve]},ye=function(ce,he,Ve){return ce||he||(ce=-96,he=-96),ce<0&&(ce=-1*Ve.width*72/ce/this.internal.scaleFactor),he<0&&(he=-1*Ve.height*72/he/this.internal.scaleFactor),0===ce&&(ce=he*Ve.width/Ve.height),0===he&&(he=ce*Ve.height/Ve.width),[ce,he]},fe=function(ce,he,Ve,_e,It,wt){var Pt=ye.call(this,Ve,_e,It),nt=this.internal.getCoordinateString,Vt=this.internal.getVerticalCoordinateString,jt=V.call(this);if(Ve=Pt[0],_e=Pt[1],jt[It.index]=It,wt){wt*=Math.PI/180;var En=Math.cos(wt),ie=Math.sin(wt),we=function(Ge){return Ge.toFixed(4)},De=[we(En),we(ie),we(-1*ie),we(En),0,0,"cm"]}this.internal.write("q"),wt?(this.internal.write([1,"0","0",1,nt(ce),Vt(he+_e),"cm"].join(" ")),this.internal.write(De.join(" ")),this.internal.write([nt(Ve),"0","0",nt(_e),"0","0","cm"].join(" "))):this.internal.write([nt(Ve),"0","0",nt(_e),nt(ce),Vt(he+_e),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+It.index+" Do"),this.internal.write("Q")},Ce=w.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};w.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var ae=w.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},be=w.__addimage__.sHashCode=function(ce){var he,Ve,_e=0;if("string"==typeof ce)for(Ve=ce.length,he=0;he<Ve;he++)_e=(_e<<5)-_e+ce.charCodeAt(he),_e|=0;else if(Ht(ce))for(Ve=ce.byteLength/2,he=0;he<Ve;he++)_e=(_e<<5)-_e+ce[he],_e|=0;return _e},ke=w.__addimage__.validateStringAsBase64=function(ce){(ce=ce||"").toString().trim();var he=!0;return 0===ce.length&&(he=!1),ce.length%4!=0&&(he=!1),!1===/^[A-Za-z0-9+/]+$/.test(ce.substr(0,ce.length-2))&&(he=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(ce.substr(-2))&&(he=!1),he},Ee=w.__addimage__.extractImageFromDataUrl=function(ce){var he=(ce=ce||"").split("base64,"),Ve=null;if(2===he.length){var _e=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(he[0]);Array.isArray(_e)&&(Ve={mimeType:_e[1],charset:_e[2],data:he[1]})}return Ve},qe=w.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};w.__addimage__.isArrayBuffer=function(ce){return qe()&&ce instanceof ArrayBuffer};var Ht=w.__addimage__.isArrayBufferView=function(ce){return qe()&&typeof Uint32Array<"u"&&(ce instanceof Int8Array||ce instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&ce instanceof Uint8ClampedArray||ce instanceof Int16Array||ce instanceof Uint16Array||ce instanceof Int32Array||ce instanceof Uint32Array||ce instanceof Float32Array||ce instanceof Float64Array)},at=w.__addimage__.binaryStringToUint8Array=function(ce){for(var he=ce.length,Ve=new Uint8Array(he),_e=0;_e<he;_e++)Ve[_e]=ce.charCodeAt(_e);return Ve},Pe=w.__addimage__.arrayBufferToBinaryString=function(ce){for(var he="",Ve=Ht(ce)?ce:new Uint8Array(ce),_e=0;_e<Ve.length;_e+=8192)he+=String.fromCharCode.apply(null,Ve.subarray(_e,_e+8192));return he};w.addImage=function(){var ce,he,Ve,_e,It,wt,Pt,nt,Vt;if("number"==typeof arguments[1]?(he=_,Ve=arguments[1],_e=arguments[2],It=arguments[3],wt=arguments[4],Pt=arguments[5],nt=arguments[6],Vt=arguments[7]):(he=arguments[1],Ve=arguments[2],_e=arguments[3],It=arguments[4],wt=arguments[5],Pt=arguments[6],nt=arguments[7],Vt=arguments[8]),"object"===(0,d.A)(ce=arguments[0])&&!ee(ce)&&"imageData"in ce){var jt=ce;ce=jt.imageData,he=jt.format||he||_,Ve=jt.x||Ve||0,_e=jt.y||_e||0,It=jt.w||jt.width||It,wt=jt.h||jt.height||wt,Pt=jt.alias||Pt,nt=jt.compression||nt,Vt=jt.rotation||jt.angle||Vt}var En=this.internal.getFilters();if(void 0===nt&&-1!==En.indexOf("FlateEncode")&&(nt="SLOW"),isNaN(Ve)||isNaN(_e))throw new Error("Invalid coordinates passed to jsPDF.addImage");F.call(this);var ie=lt.call(this,ce,he,Pt,nt);return fe.call(this,Ve,_e,It,wt,ie,Vt),this};var lt=function(ce,he,Ve,_e){var It,wt,Pt,Vt;if("string"==typeof ce&&T(ce)===_){ce=unescape(ce);var nt=kt(ce,!1);(""!==nt||void 0!==(nt=w.loadFile(ce,!0)))&&(ce=nt)}if(ee(ce)&&(ce=se(ce,he)),he=T(ce,he),!J(he))throw new Error("addImage does not support files of type '"+he+"', please ensure that a plugin for '"+he+"' support is added.");if((null==(Pt=Ve)||0===Pt.length)&&(Ve="string"==typeof(Vt=ce)||Ht(Vt)?be(Vt):Ht(Vt.data)?be(Vt.data):null),(It=z.call(this,Ve))||(qe()&&(ce instanceof Uint8Array||"RGBA"===he||(wt=ce,ce=at(ce))),It=this["process"+he.toUpperCase()](ce,j.call(this),Ve,function(Vt){return Vt&&"string"==typeof Vt&&(Vt=Vt.toUpperCase()),Vt in w.image_compression?Vt:ae.NONE}(_e),wt)),!It)throw new Error("An unknown error occurred whilst processing the image.");return It},kt=w.__addimage__.convertBase64ToBinaryString=function(ce,he){var Ve;he="boolean"!=typeof he||he;var _e,It="";if("string"==typeof ce){_e=null!==(Ve=Ee(ce))?Ve.data:ce;try{It=Ph(_e)}catch(wt){if(he)throw ke(_e)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+wt.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return It};w.getImageProperties=function(ce){var he,Ve,_e="";if(ee(ce)&&(ce=se(ce)),"string"==typeof ce&&T(ce)===_&&(""===(_e=kt(ce,!1))&&(_e=w.loadFile(ce)||""),ce=_e),Ve=T(ce),!J(Ve))throw new Error("addImage does not support files of type '"+Ve+"', please ensure that a plugin for '"+Ve+"' support is added.");if(!qe()||ce instanceof Uint8Array||(ce=at(ce)),!(he=this["process"+Ve.toUpperCase()](ce)))throw new Error("An unknown error occurred whilst processing the image");return he.fileType=Ve,he}})(ti.API),
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
w=ti.API,_=function(C){if(void 0!==C&&""!=C)return!0},ti.API.events.push(["addPage",function(C){this.internal.getPageInfo(C.pageNumber).pageContext.annotations=[]}]),w.events.push(["putPage",function(C){for(var T,x,R,O=this.internal.getCoordinateString,F=this.internal.getVerticalCoordinateString,V=this.internal.getPageInfoByObjId(C.objId),j=C.pageContext.annotations,J=!1,ee=0;ee<j.length&&!J;ee++)switch((T=j[ee]).type){case"link":(_(T.options.url)||_(T.options.pageNumber))&&(J=!0);break;case"reference":case"text":case"freetext":J=!0}if(0!=J){this.internal.write("/Annots [");for(var se=0;se<j.length;se++){T=j[se];var z=this.internal.pdfEscape,ye=this.internal.getEncryptor(C.objId);switch(T.type){case"reference":this.internal.write(" "+T.object.objId+" 0 R ");break;case"text":var fe=this.internal.newAdditionalObject(),Ce=this.internal.newAdditionalObject(),ae=this.internal.getEncryptor(fe.objId),be=T.title||"Note";R="<</Type /Annot /Subtype /Text "+(x="/Rect ["+O(T.bounds.x)+" "+F(T.bounds.y+T.bounds.h)+" "+O(T.bounds.x+T.bounds.w)+" "+F(T.bounds.y)+"] ")+"/Contents ("+z(ae(T.contents))+")",R+=" /Popup "+Ce.objId+" 0 R",R+=" /P "+V.objId+" 0 R",R+=" /T ("+z(ae(be))+") >>",fe.content=R;var ke=fe.objId+" 0 R";R="<</Type /Annot /Subtype /Popup "+(x="/Rect ["+O(T.bounds.x+30)+" "+F(T.bounds.y+T.bounds.h)+" "+O(T.bounds.x+T.bounds.w+30)+" "+F(T.bounds.y)+"] ")+" /Parent "+ke,T.open&&(R+=" /Open true"),Ce.content=R+=" >>",this.internal.write(fe.objId,"0 R",Ce.objId,"0 R");break;case"freetext":x="/Rect ["+O(T.bounds.x)+" "+F(T.bounds.y)+" "+O(T.bounds.x+T.bounds.w)+" "+F(T.bounds.y+T.bounds.h)+"] ";var Ee=T.color||"#000000";R="<</Type /Annot /Subtype /FreeText "+x+"/Contents ("+z(ye(T.contents))+")",R+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Ee+")",R+=" /Border [0 0 0]",this.internal.write(R+=" >>");break;case"link":if(T.options.name){var qe=this.annotations._nameMap[T.options.name];T.options.pageNumber=qe.page,T.options.top=qe.y}else T.options.top||(T.options.top=0);if(x="/Rect ["+T.finalBounds.x+" "+T.finalBounds.y+" "+T.finalBounds.w+" "+T.finalBounds.h+"] ",R="",T.options.url)R="<</Type /Annot /Subtype /Link "+x+"/Border [0 0 0] /A <</S /URI /URI ("+z(ye(T.options.url))+") >>";else if(T.options.pageNumber)switch(R="<</Type /Annot /Subtype /Link "+x+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(T.options.pageNumber).objId+" 0 R",T.options.magFactor=T.options.magFactor||"XYZ",T.options.magFactor){case"Fit":R+=" /Fit]";break;case"FitH":R+=" /FitH "+T.options.top+"]";break;case"FitV":T.options.left=T.options.left||0,R+=" /FitV "+T.options.left+"]";break;default:var Ht=F(T.options.top);T.options.left=T.options.left||0,void 0===T.options.zoom&&(T.options.zoom=0),R+=" /XYZ "+T.options.left+" "+Ht+" "+T.options.zoom+"]"}""!=R&&this.internal.write(R+=" >>")}}this.internal.write("]")}}]),w.createAnnotation=function(C){var T=this.internal.getCurrentPageInfo();switch(C.type){case"link":this.link(C.bounds.x,C.bounds.y,C.bounds.w,C.bounds.h,C);break;case"text":case"freetext":T.pageContext.annotations.push(C)}},w.link=function(C,T,x,R,O){var F=this.internal.getCurrentPageInfo(),V=this.internal.getCoordinateString,j=this.internal.getVerticalCoordinateString;F.pageContext.annotations.push({finalBounds:{x:V(C),y:j(T),w:V(C+x),h:j(T+R)},options:O,type:"link"})},w.textWithLink=function(C,T,x,R){var O,F,V=this.getTextWidth(C),j=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==R.maxWidth){var J=this.splitTextToSize(C,F=R.maxWidth).length;O=Math.ceil(j*J)}else F=V,O=j;return this.text(C,T,x,R),"center"===R.align&&(T-=V/2),"right"===R.align&&(T-=V),this.link(T,(x+=.2*j)-j,F,O,R),V},w.getTextWidth=function(C){var T=this.internal.getFontSize();return this.getStringUnitWidth(C)*T/this.internal.scaleFactor},
/**
         * @license
         * Copyright (c) 2017 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(w){var _={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},C={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},T={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},x=[1570,1571,1573,1575];w.__arabicParser__={};var R=w.__arabicParser__.isInArabicSubstitutionA=function(fe){return void 0!==_[fe.charCodeAt(0)]},O=w.__arabicParser__.isArabicLetter=function(fe){return"string"==typeof fe&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(fe)},F=w.__arabicParser__.isArabicEndLetter=function(fe){return O(fe)&&R(fe)&&_[fe.charCodeAt(0)].length<=2},V=w.__arabicParser__.isArabicAlfLetter=function(fe){return O(fe)&&x.indexOf(fe.charCodeAt(0))>=0};w.__arabicParser__.arabicLetterHasIsolatedForm=function(fe){return O(fe)&&R(fe)&&_[fe.charCodeAt(0)].length>=1};var j=w.__arabicParser__.arabicLetterHasFinalForm=function(fe){return O(fe)&&R(fe)&&_[fe.charCodeAt(0)].length>=2};w.__arabicParser__.arabicLetterHasInitialForm=function(fe){return O(fe)&&R(fe)&&_[fe.charCodeAt(0)].length>=3};var J=w.__arabicParser__.arabicLetterHasMedialForm=function(fe){return O(fe)&&R(fe)&&4==_[fe.charCodeAt(0)].length},ee=w.__arabicParser__.resolveLigatures=function(fe){var Ce=0,ae=C,be="",ke=0;for(Ce=0;Ce<fe.length;Ce+=1)void 0!==ae[fe.charCodeAt(Ce)]?(ke++,"number"==typeof(ae=ae[fe.charCodeAt(Ce)])&&(be+=String.fromCharCode(ae),ae=C,ke=0),Ce===fe.length-1&&(ae=C,be+=fe.charAt(Ce-(ke-1)),Ce-=ke-1,ke=0)):(ae=C,be+=fe.charAt(Ce-ke),Ce-=ke,ke=0);return be};w.__arabicParser__.isArabicDiacritic=function(fe){return void 0!==fe&&void 0!==T[fe.charCodeAt(0)]};var se=w.__arabicParser__.getCorrectForm=function(fe,Ce,ae){return O(fe)?!1===R(fe)?-1:!j(fe)||!O(Ce)&&!O(ae)||!O(ae)&&F(Ce)||F(fe)&&!O(Ce)||F(fe)&&V(Ce)||F(fe)&&F(Ce)?0:J(fe)&&O(Ce)&&!F(Ce)&&O(ae)&&j(ae)?3:F(fe)||!O(ae)?1:2:-1},z=function(fe){var Ce=0,ae=0,be=0,ke="",Ee="",qe="",Ht=(fe=fe||"").split("\\s+"),at=[];for(Ce=0;Ce<Ht.length;Ce+=1){for(at.push(""),ae=0;ae<Ht[Ce].length;ae+=1)Ee=Ht[Ce][ae-1],qe=Ht[Ce][ae+1],O(ke=Ht[Ce][ae])?(be=se(ke,Ee,qe),at[Ce]+=-1!==be?String.fromCharCode(_[ke.charCodeAt(0)][be]):ke):at[Ce]+=ke;at[Ce]=ee(at[Ce])}return at.join(" ")},ye=w.__arabicParser__.processArabic=w.processArabic=function(){var fe,Ce="string"==typeof arguments[0]?arguments[0]:arguments[0].text,ae=[];if(Array.isArray(Ce)){var be=0;for(ae=[],be=0;be<Ce.length;be+=1)Array.isArray(Ce[be])?ae.push([z(Ce[be][0]),Ce[be][1],Ce[be][2]]):ae.push([z(Ce[be])]);fe=ae}else fe=z(Ce);return"string"==typeof arguments[0]?fe:(arguments[0].text=fe,arguments[0])};w.events.push(["preProcessText",ye])}(ti.API),ti.API.autoPrint=function(w){var _;return"javascript"===((w=w||{}).variant=w.variant||"non-conform",w.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+_+" 0 R")})),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(w){var _=function(){var C=void 0;Object.defineProperty(this,"pdf",{get:function(){return C},set:function(F){C=F}});var T=150;Object.defineProperty(this,"width",{get:function(){return T},set:function(F){T=isNaN(F)||!1===Number.isInteger(F)||F<0?150:F,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=T+1)}});var x=300;Object.defineProperty(this,"height",{get:function(){return x},set:function(F){x=isNaN(F)||!1===Number.isInteger(F)||F<0?300:F,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=x+1)}});var R=[];Object.defineProperty(this,"childNodes",{get:function(){return R},set:function(F){R=F}});var O={};Object.defineProperty(this,"style",{get:function(){return O},set:function(F){O=F}}),Object.defineProperty(this,"parentNode",{})};_.prototype.getContext=function(C,T){var x;if("2d"!==(C=C||"2d"))return null;for(x in T)this.pdf.context2d.hasOwnProperty(x)&&(this.pdf.context2d[x]=T[x]);return this.pdf.context2d._canvas=this,this.pdf.context2d},_.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},w.events.push(["initialized",function(){this.canvas=new _,this.canvas.pdf=this}])}(ti.API),function(w){var _={left:0,top:0,bottom:0,right:0},C=!1,T=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},_),this.internal.__cell__.margins.width=this.getPageWidth(),x.call(this))},x=function(){this.internal.__cell__.lastCell=new R,this.internal.__cell__.pages=1},R=function(){var V=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return V},set:function(fe){V=fe}});var j=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return j},set:function(fe){j=fe}});var J=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return J},set:function(fe){J=fe}});var ee=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return ee},set:function(fe){ee=fe}});var se=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return se},set:function(fe){se=fe}});var z=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return z},set:function(fe){z=fe}});var ye=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return ye},set:function(fe){ye=fe}}),this};R.prototype.clone=function(){return new R(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},R.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},w.setHeaderFunction=function(V){return T.call(this),this.internal.__cell__.headerFunction="function"==typeof V?V:void 0,this},w.getTextDimensions=function(V,j){T.call(this);var J=(j=j||{}).fontSize||this.getFontSize(),ee=j.font||this.getFont(),se=j.scaleFactor||this.internal.scaleFactor,z=0,ye=0,fe=0,Ce=this;if(!Array.isArray(V)&&"string"!=typeof V){if("number"!=typeof V)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");V=String(V)}var ae=j.maxWidth;ae>0?"string"==typeof V?V=this.splitTextToSize(V,ae):"[object Array]"===Object.prototype.toString.call(V)&&(V=V.reduce(function(ke,Ee){return ke.concat(Ce.splitTextToSize(Ee,ae))},[])):V=Array.isArray(V)?V:[V];for(var be=0;be<V.length;be++)z<(fe=this.getStringUnitWidth(V[be],{font:ee})*J)&&(z=fe);return 0!==z&&(ye=V.length),{w:z/=se,h:Math.max((ye*J*this.getLineHeightFactor()-J*(this.getLineHeightFactor()-1))/se,0)}},w.cellAddPage=function(){T.call(this),this.addPage();var V=this.internal.__cell__.margins||_;return this.internal.__cell__.lastCell=new R(V.left,V.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var O=w.cell=function(){var V;V=arguments[0]instanceof R?arguments[0]:new R(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),T.call(this);var j=this.internal.__cell__.lastCell,J=this.internal.__cell__.padding,ee=this.internal.__cell__.margins||_,se=this.internal.__cell__.tableHeaderRow,z=this.internal.__cell__.printHeaders;return void 0!==j.lineNumber&&(j.lineNumber===V.lineNumber?(V.x=(j.x||0)+(j.width||0),V.y=j.y||0):j.y+j.height+V.height+ee.bottom>this.getPageHeight()?(this.cellAddPage(),V.y=ee.top,z&&se&&(this.printHeaderRow(V.lineNumber,!0),V.y+=se[0].height)):V.y=j.y+j.height||V.y),void 0!==V.text[0]&&(this.rect(V.x,V.y,V.width,V.height,!0===C?"FD":void 0),"right"===V.align?this.text(V.text,V.x+V.width-J,V.y+J,{align:"right",baseline:"top"}):"center"===V.align?this.text(V.text,V.x+V.width/2,V.y+J,{align:"center",baseline:"top",maxWidth:V.width-J-J}):this.text(V.text,V.x+J,V.y+J,{align:"left",baseline:"top",maxWidth:V.width-J-J})),this.internal.__cell__.lastCell=V,this};w.table=function(V,j,J,ee,se){if(T.call(this),!J)throw new Error("No data for PDF table.");var z,ye,fe,Ce,ae=[],be=[],ke=[],Ee={},qe={},Ht=[],at=[],Pe=(se=se||{}).autoSize||!1,lt=!1!==se.printHeaders,kt=se.css&&void 0!==se.css["font-size"]?16*se.css["font-size"]:se.fontSize||12,ce=se.margins||Object.assign({width:this.getPageWidth()},_),he="number"==typeof se.padding?se.padding:3,Ve=se.headerBackgroundColor||"#c8c8c8",_e=se.headerTextColor||"#000";if(x.call(this),this.internal.__cell__.printHeaders=lt,this.internal.__cell__.margins=ce,this.internal.__cell__.table_font_size=kt,this.internal.__cell__.padding=he,this.internal.__cell__.headerBackgroundColor=Ve,this.internal.__cell__.headerTextColor=_e,this.setFontSize(kt),null==ee)be=ae=Object.keys(J[0]),ke=ae.map(function(){return"left"});else if(Array.isArray(ee)&&"object"===(0,d.A)(ee[0]))for(ae=ee.map(function(jt){return jt.name}),be=ee.map(function(jt){return jt.prompt||jt.name||""}),ke=ee.map(function(jt){return jt.align||"left"}),z=0;z<ee.length;z+=1)qe[ee[z].name]=ee[z].width*(19.049976/25.4);else Array.isArray(ee)&&"string"==typeof ee[0]&&(be=ae=ee,ke=ae.map(function(){return"left"}));if(Pe||Array.isArray(ee)&&"string"==typeof ee[0])for(z=0;z<ae.length;z+=1){for(Ee[Ce=ae[z]]=J.map(function(jt){return jt[Ce]}),this.setFont(void 0,"bold"),Ht.push(this.getTextDimensions(be[z],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),ye=Ee[Ce],this.setFont(void 0,"normal"),fe=0;fe<ye.length;fe+=1)Ht.push(this.getTextDimensions(ye[fe],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);qe[Ce]=Math.max.apply(null,Ht)+he+he,Ht=[]}if(lt){var It={};for(z=0;z<ae.length;z+=1)It[ae[z]]={},It[ae[z]].text=be[z],It[ae[z]].align=ke[z];var wt=F.call(this,It,qe);at=ae.map(function(jt){return new R(V,j,qe[jt],wt,It[jt].text,void 0,It[jt].align)}),this.setTableHeaderRow(at),this.printHeaderRow(1,!1)}var Pt=ee.reduce(function(jt,En){return jt[En.name]=En.align,jt},{});for(z=0;z<J.length;z+=1){"rowStart"in se&&se.rowStart instanceof Function&&se.rowStart({row:z,data:J[z]},this);var nt=F.call(this,J[z],qe);for(fe=0;fe<ae.length;fe+=1){var Vt=J[z][ae[fe]];"cellStart"in se&&se.cellStart instanceof Function&&se.cellStart({row:z,col:fe,data:Vt},this),O.call(this,new R(V,j,qe[ae[fe]],nt,Vt,z+2,Pt[ae[fe]]))}}return this.internal.__cell__.table_x=V,this.internal.__cell__.table_y=j,this};var F=function(V,j){var J=this.internal.__cell__.padding,ee=this.internal.__cell__.table_font_size,se=this.internal.scaleFactor;return Object.keys(V).map(function(z){var ye=V[z];return this.splitTextToSize(ye.hasOwnProperty("text")?ye.text:ye,j[z]-J-J)},this).map(function(z){return this.getLineHeightFactor()*z.length*ee/se+J+J},this).reduce(function(z,ye){return Math.max(z,ye)},0)};w.setTableHeaderRow=function(V){T.call(this),this.internal.__cell__.tableHeaderRow=V},w.printHeaderRow=function(V,j){if(T.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var J;if(C=!0,"function"==typeof this.internal.__cell__.headerFunction){var ee=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new R(ee[0],ee[1],ee[2],ee[3],void 0,-1)}this.setFont(void 0,"bold");for(var se=[],z=0;z<this.internal.__cell__.tableHeaderRow.length;z+=1){J=this.internal.__cell__.tableHeaderRow[z].clone(),j&&(J.y=this.internal.__cell__.margins.top||0,se.push(J)),J.lineNumber=V;var ye=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),O.call(this,J),this.setTextColor(ye)}se.length>0&&this.setTableHeaderRow(se),this.setFont(void 0,"normal"),C=!1}}(ti.API);var zr={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},eD=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Fb=D0(eD),tD=[100,200,300,400,500,600,700,800,900],UN=D0(tD);function R0(w){var R,_=w.family.replace(/"|'/g,"").toLowerCase(),C=zr[R=(R=w.style)||"normal"]?R:"normal",T=function(R){return R?"number"==typeof R?R>=100&&R<=900&&R%100==0?R:400:/^\d00$/.test(R)?parseInt(R):"bold"===R?700:400:400}(w.weight),x=function(R){return"number"==typeof Fb[R=R||"normal"]?R:"normal"}(w.stretch);return{family:_,style:C,weight:T,stretch:x,src:w.src||[],ref:w.ref||{name:_,style:[x,C,T].join(" ")}}}function x0(w,_,C,T){var x;for(x=C;x>=0&&x<_.length;x+=T)if(w[_[x]])return w[_[x]];for(x=C;x>=0&&x<_.length;x-=T)if(w[_[x]])return w[_[x]]}var WN={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},P0={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function kb(w){return[w.stretch,w.style,w.weight,w.family].join(" ")}function M0(w){return w.trimLeft()}function Lb(w,_){for(var C=0;C<w.length;){if(w.charAt(C)===_)return[w.substring(0,C),w.substring(C+1)];C+=1}return null}function ji(w){var _=w.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===_?null:[_[0],w.substring(_[0].length)]}var ws,Qs,al,qo=["times"];(function(w){var _,C,T,x,R,O,F,V,j,J=function(ie){return this.isStrokeTransparent=(ie=ie||{}).isStrokeTransparent||!1,this.strokeOpacity=ie.strokeOpacity||1,this.strokeStyle=ie.strokeStyle||"#000000",this.fillStyle=ie.fillStyle||"#000000",this.isFillTransparent=ie.isFillTransparent||!1,this.fillOpacity=ie.fillOpacity||1,this.font=ie.font||"10px sans-serif",this.textBaseline=ie.textBaseline||"alphabetic",this.textAlign=ie.textAlign||"left",this.lineWidth=ie.lineWidth||1,this.lineJoin=ie.lineJoin||"miter",this.lineCap=ie.lineCap||"butt",this.path=ie.path||[],this.transform=void 0!==ie.transform?ie.transform.clone():new V,this.globalCompositeOperation=ie.globalCompositeOperation||"normal",this.globalAlpha=ie.globalAlpha||1,this.clip_path=ie.clip_path||[],this.currentPoint=ie.currentPoint||new O,this.miterLimit=ie.miterLimit||10,this.lastPoint=ie.lastPoint||new O,this.lineDashOffset=ie.lineDashOffset||0,this.lineDash=ie.lineDash||[],this.margin=ie.margin||[0,0,0,0],this.prevPageLastElemOffset=ie.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof ie.ignoreClearRect||ie.ignoreClearRect,this};w.events.push(["initialized",function(){this.context2d=new ee(this),_=this.internal.f2,C=this.internal.getCoordinateString,T=this.internal.getVerticalCoordinateString,x=this.internal.getHorizontalCoordinate,R=this.internal.getVerticalCoordinate,O=this.internal.Point,F=this.internal.Rectangle,V=this.internal.Matrix,j=new J}]);var ee=function(ie){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var we=ie;Object.defineProperty(this,"pdf",{get:function(){return we}});var De=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return De},set:function(Dt){De=!!Dt}});var Ge=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ge},set:function(Dt){Ge=!!Dt}});var Je=0;Object.defineProperty(this,"posX",{get:function(){return Je},set:function(Dt){isNaN(Dt)||(Je=Dt)}});var $e=0;Object.defineProperty(this,"posY",{get:function(){return $e},set:function(Dt){isNaN(Dt)||($e=Dt)}}),Object.defineProperty(this,"margin",{get:function(){return j.margin},set:function(Dt){var Ie;"number"==typeof Dt?Ie=[Dt,Dt,Dt,Dt]:((Ie=new Array(4))[0]=Dt[0],Ie[1]=Dt.length>=2?Dt[1]:Ie[0],Ie[2]=Dt.length>=3?Dt[2]:Ie[0],Ie[3]=Dt.length>=4?Dt[3]:Ie[1]),j.margin=Ie}});var Et=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Et},set:function(Dt){Et=Dt}});var Ct=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ct},set:function(Dt){Ct=Dt}});var dn=[];Object.defineProperty(this,"pageBreaks",{get:function(){return dn},set:function(Dt){dn=Dt}}),Object.defineProperty(this,"ctx",{get:function(){return j},set:function(Dt){Dt instanceof J&&(j=Dt)}}),Object.defineProperty(this,"path",{get:function(){return j.path},set:function(Dt){j.path=Dt}});var pn=[];Object.defineProperty(this,"ctxStack",{get:function(){return pn},set:function(Dt){pn=Dt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Dt){var Ie;Ie=se(Dt),this.ctx.fillStyle=Ie.style,this.ctx.isFillTransparent=0===Ie.a,this.ctx.fillOpacity=Ie.a,this.pdf.setFillColor(Ie.r,Ie.g,Ie.b,{a:Ie.a}),this.pdf.setTextColor(Ie.r,Ie.g,Ie.b,{a:Ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Dt){var Ie=se(Dt);this.ctx.strokeStyle=Ie.style,this.ctx.isStrokeTransparent=0===Ie.a,this.ctx.strokeOpacity=Ie.a,0===Ie.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(Ie.r,Ie.g,Ie.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Dt){-1!==["butt","round","square"].indexOf(Dt)&&(this.ctx.lineCap=Dt,this.pdf.setLineCap(Dt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Dt){isNaN(Dt)||(this.ctx.lineWidth=Dt,this.pdf.setLineWidth(Dt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Dt){-1!==["bevel","round","miter"].indexOf(Dt)&&(this.ctx.lineJoin=Dt,this.pdf.setLineJoin(Dt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Dt){isNaN(Dt)||(this.ctx.miterLimit=Dt,this.pdf.setMiterLimit(Dt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Dt){this.ctx.textBaseline=Dt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Dt){-1!==["right","end","center","left","start"].indexOf(Dt)&&(this.ctx.textAlign=Dt)}});var An=null,hi=null;Object.defineProperty(this,"fontFaces",{get:function(){return hi},set:function(Dt){An=null,hi=Dt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Dt){var Ie;if(this.ctx.font=Dt,null!==(Ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Dt))){var xi=Ie[1],jn=Ie[3],un=Ie[4],vn=Ie[6],kn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(un)[2];un=Math.floor("px"===kn?parseFloat(un)*this.pdf.internal.scaleFactor:"em"===kn?parseFloat(un)*this.pdf.getFontSize():parseFloat(un)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(un);var Mn=function(Di){var nr,Un,Ba=[],fr=Di.trim();if(""===fr)return qo;if(fr in P0)return[P0[fr]];for(;""!==fr;){switch(Un=null,nr=(fr=M0(fr)).charAt(0)){case'"':case"'":Un=Lb(fr.substring(1),nr);break;default:Un=ji(fr)}if(null===Un||(Ba.push(Un[0]),""!==(fr=M0(Un[1]))&&","!==fr.charAt(0)))return qo;fr=fr.replace(/^,/,"")}return Ba}(vn);if(this.fontFaces){var ai=function nD(w,_,C){for(var T=(C=C||{}).defaultFontFamily||"times",x=Object.assign({},WN,C.genericFontFamilies||{}),R=null,O=null,F=0;F<_.length;++F)if(x[(R=R0(_[F])).family]&&(R.family=x[R.family]),w.hasOwnProperty(R.family)){O=w[R.family];break}if(!(O=O||w[T]))throw new Error("Could not find a font-family for the rule '"+kb(R)+"' and default family '"+T+"'.");if(O=function(V,j){if(j[V])return j[V];var J=Fb[V],se=x0(j,eD,J,J<=Fb.normal?-1:1);if(!se)throw new Error("Could not find a matching font-stretch value for "+V);return se}(R.stretch,O),O=function(V,j){if(j[V])return j[V];for(var J=zr[V],ee=0;ee<J.length;++ee)if(j[J[ee]])return j[J[ee]];throw new Error("Could not find a matching font-style for "+V)}(R.style,O),!(O=function(V,j){if(j[V])return j[V];if(400===V&&j[500])return j[500];if(500===V&&j[400])return j[400];var ee=x0(j,tD,UN[V],V<400?-1:1);if(!ee)throw new Error("Could not find a matching font-weight for value "+V);return ee}(R.weight,O)))throw new Error("Failed to resolve a font for the rule '"+kb(R)+"'.");return O}(function hn(Dt,Ie){if(null===An){var xi=(jn=Dt.getFontList(),un=[],Object.keys(jn).forEach(function(vn){jn[vn].forEach(function(kn){var Mn=null;switch(kn){case"bold":Mn={family:vn,weight:"bold"};break;case"italic":Mn={family:vn,style:"italic"};break;case"bolditalic":Mn={family:vn,weight:"bold",style:"italic"};break;case"":case"normal":Mn={family:vn}}null!==Mn&&(Mn.ref={name:vn,style:kn},un.push(Mn))})}),un);An=function(jn){for(var un={},vn=0;vn<jn.length;++vn){var kn=R0(jn[vn]),Mn=kn.family,ai=kn.stretch,Ai=kn.style,Gi=kn.weight;un[Mn]=un[Mn]||{},un[Mn][ai]=un[Mn][ai]||{},un[Mn][ai][Ai]=un[Mn][ai][Ai]||{},un[Mn][ai][Ai][Gi]=kn}return un}(xi.concat(Ie))}var jn,un;return An}(this.pdf,this.fontFaces),Mn.map(function(Di){return{family:Di,stretch:"normal",weight:jn,style:xi}}));this.pdf.setFont(ai.ref.name,ai.ref.style)}else{var Ai="";("bold"===jn||parseInt(jn,10)>=700||"bold"===xi)&&(Ai="bold"),"italic"===xi&&(Ai+="italic"),0===Ai.length&&(Ai="normal");for(var Gi="",Xi={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ar=0;ar<Mn.length;ar++){if(void 0!==this.pdf.internal.getFont(Mn[ar],Ai,{noFallback:!0,disableWarning:!0})){Gi=Mn[ar];break}if("bolditalic"===Ai&&void 0!==this.pdf.internal.getFont(Mn[ar],"bold",{noFallback:!0,disableWarning:!0}))Gi=Mn[ar],Ai="bold";else if(void 0!==this.pdf.internal.getFont(Mn[ar],"normal",{noFallback:!0,disableWarning:!0})){Gi=Mn[ar],Ai="normal";break}}if(""===Gi)for(var Qr=0;Qr<Mn.length;Qr++)if(Xi[Mn[Qr]]){Gi=Xi[Mn[Qr]];break}this.pdf.setFont(Gi=""===Gi?"Times":Gi,Ai)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Dt){this.ctx.globalCompositeOperation=Dt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Dt){this.ctx.globalAlpha=Dt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Dt){this.ctx.lineDashOffset=Dt,En.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Dt){this.ctx.lineDash=Dt,En.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Dt){this.ctx.ignoreClearRect=!!Dt}})};ee.prototype.setLineDash=function(ie){this.lineDash=ie},ee.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},ee.prototype.fill=function(){Ee.call(this,"fill",!1)},ee.prototype.stroke=function(){Ee.call(this,"stroke",!1)},ee.prototype.beginPath=function(){this.path=[{type:"begin"}]},ee.prototype.moveTo=function(ie,we){if(isNaN(ie)||isNaN(we))throw Xr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var De=this.ctx.transform.applyToPoint(new O(ie,we));this.path.push({type:"mt",x:De.x,y:De.y}),this.ctx.lastPoint=new O(ie,we)},ee.prototype.closePath=function(){var ie=new O(0,0),we=0;for(we=this.path.length-1;-1!==we;we--)if("begin"===this.path[we].type&&"object"===(0,d.A)(this.path[we+1])&&"number"==typeof this.path[we+1].x){ie=new O(this.path[we+1].x,this.path[we+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new O(ie.x,ie.y)},ee.prototype.lineTo=function(ie,we){if(isNaN(ie)||isNaN(we))throw Xr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var De=this.ctx.transform.applyToPoint(new O(ie,we));this.path.push({type:"lt",x:De.x,y:De.y}),this.ctx.lastPoint=new O(De.x,De.y)},ee.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Ee.call(this,null,!0)},ee.prototype.quadraticCurveTo=function(ie,we,De,Ge){if(isNaN(De)||isNaN(Ge)||isNaN(ie)||isNaN(we))throw Xr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Je=this.ctx.transform.applyToPoint(new O(De,Ge)),$e=this.ctx.transform.applyToPoint(new O(ie,we));this.path.push({type:"qct",x1:$e.x,y1:$e.y,x:Je.x,y:Je.y}),this.ctx.lastPoint=new O(Je.x,Je.y)},ee.prototype.bezierCurveTo=function(ie,we,De,Ge,Je,$e){if(isNaN(Je)||isNaN($e)||isNaN(ie)||isNaN(we)||isNaN(De)||isNaN(Ge))throw Xr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Et=this.ctx.transform.applyToPoint(new O(Je,$e)),Ct=this.ctx.transform.applyToPoint(new O(ie,we)),dn=this.ctx.transform.applyToPoint(new O(De,Ge));this.path.push({type:"bct",x1:Ct.x,y1:Ct.y,x2:dn.x,y2:dn.y,x:Et.x,y:Et.y}),this.ctx.lastPoint=new O(Et.x,Et.y)},ee.prototype.arc=function(ie,we,De,Ge,Je,$e){if(isNaN(ie)||isNaN(we)||isNaN(De)||isNaN(Ge)||isNaN(Je))throw Xr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if($e=!!$e,!this.ctx.transform.isIdentity){var Et=this.ctx.transform.applyToPoint(new O(ie,we));ie=Et.x,we=Et.y;var Ct=this.ctx.transform.applyToPoint(new O(0,De)),dn=this.ctx.transform.applyToPoint(new O(0,0));De=Math.sqrt(Math.pow(Ct.x-dn.x,2)+Math.pow(Ct.y-dn.y,2))}Math.abs(Je-Ge)>=2*Math.PI&&(Ge=0,Je=2*Math.PI),this.path.push({type:"arc",x:ie,y:we,radius:De,startAngle:Ge,endAngle:Je,counterclockwise:$e})},ee.prototype.arcTo=function(ie,we,De,Ge,Je){throw new Error("arcTo not implemented.")},ee.prototype.rect=function(ie,we,De,Ge){if(isNaN(ie)||isNaN(we)||isNaN(De)||isNaN(Ge))throw Xr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(ie,we),this.lineTo(ie+De,we),this.lineTo(ie+De,we+Ge),this.lineTo(ie,we+Ge),this.lineTo(ie,we),this.lineTo(ie+De,we),this.lineTo(ie,we)},ee.prototype.fillRect=function(ie,we,De,Ge){if(isNaN(ie)||isNaN(we)||isNaN(De)||isNaN(Ge))throw Xr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!z.call(this)){var Je={};"butt"!==this.lineCap&&(Je.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(Je.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(ie,we,De,Ge),this.fill(),Je.hasOwnProperty("lineCap")&&(this.lineCap=Je.lineCap),Je.hasOwnProperty("lineJoin")&&(this.lineJoin=Je.lineJoin)}},ee.prototype.strokeRect=function(ie,we,De,Ge){if(isNaN(ie)||isNaN(we)||isNaN(De)||isNaN(Ge))throw Xr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");ye.call(this)||(this.beginPath(),this.rect(ie,we,De,Ge),this.stroke())},ee.prototype.clearRect=function(ie,we,De,Ge){if(isNaN(ie)||isNaN(we)||isNaN(De)||isNaN(Ge))throw Xr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(ie,we,De,Ge))},ee.prototype.save=function(ie){ie="boolean"!=typeof ie||ie;for(var we=this.pdf.internal.getCurrentPageInfo().pageNumber,De=0;De<this.pdf.internal.getNumberOfPages();De++)this.pdf.setPage(De+1),this.pdf.internal.out("q");if(this.pdf.setPage(we),ie){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ge=new J(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ge}},ee.prototype.restore=function(ie){ie="boolean"!=typeof ie||ie;for(var we=this.pdf.internal.getCurrentPageInfo().pageNumber,De=0;De<this.pdf.internal.getNumberOfPages();De++)this.pdf.setPage(De+1),this.pdf.internal.out("Q");this.pdf.setPage(we),ie&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},ee.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var se=function(ie){var we,De,Ge,Je;if(!0===ie.isCanvasGradient&&(ie=ie.getColor()),!ie)return{r:0,g:0,b:0,a:0,style:ie};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(ie))we=0,De=0,Ge=0,Je=0;else{var $e=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(ie);if(null!==$e)we=parseInt($e[1]),De=parseInt($e[2]),Ge=parseInt($e[3]),Je=1;else if(null!==($e=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(ie)))we=parseInt($e[1]),De=parseInt($e[2]),Ge=parseInt($e[3]),Je=parseFloat($e[4]);else{if(Je=1,"string"==typeof ie&&"#"!==ie.charAt(0)){var Et=new Rb(ie);ie=Et.ok?Et.toHex():"#000000"}4===ie.length?(we=ie.substring(1,2),we+=we,De=ie.substring(2,3),De+=De,Ge=ie.substring(3,4),Ge+=Ge):(we=ie.substring(1,3),De=ie.substring(3,5),Ge=ie.substring(5,7)),we=parseInt(we,16),De=parseInt(De,16),Ge=parseInt(Ge,16)}}return{r:we,g:De,b:Ge,a:Je,style:ie}},z=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},ye=function(){return!(!this.ctx.isStrokeTransparent&&0!=this.globalAlpha)};ee.prototype.fillText=function(ie,we,De,Ge){if(isNaN(we)||isNaN(De)||"string"!=typeof ie)throw Xr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ge=isNaN(Ge)?void 0:Ge,!z.call(this)){var Je=nt(this.ctx.transform.rotation);he.call(this,{text:ie,x:we,y:De,scale:this.ctx.transform.scaleX,angle:Je,align:this.textAlign,maxWidth:Ge})}},ee.prototype.strokeText=function(ie,we,De,Ge){if(isNaN(we)||isNaN(De)||"string"!=typeof ie)throw Xr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!ye.call(this)){Ge=isNaN(Ge)?void 0:Ge;var Je=nt(this.ctx.transform.rotation);he.call(this,{text:ie,x:we,y:De,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:Je,align:this.textAlign,maxWidth:Ge})}},ee.prototype.measureText=function(ie){if("string"!=typeof ie)throw Xr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var we=this.pdf,De=this.pdf.internal.scaleFactor,Ge=we.internal.getFontSize(),Je=we.getStringUnitWidth(ie)*Ge/we.internal.scaleFactor;return new function(Et){var Ct=(Et=Et||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ct}}),this}({width:Je*=Math.round(96*De/72*1e4)/1e4})},ee.prototype.scale=function(ie,we){if(isNaN(ie)||isNaN(we))throw Xr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var De=new V(ie,0,0,we,0,0);this.ctx.transform=this.ctx.transform.multiply(De)},ee.prototype.rotate=function(ie){if(isNaN(ie))throw Xr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var we=new V(Math.cos(ie),Math.sin(ie),-Math.sin(ie),Math.cos(ie),0,0);this.ctx.transform=this.ctx.transform.multiply(we)},ee.prototype.translate=function(ie,we){if(isNaN(ie)||isNaN(we))throw Xr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var De=new V(1,0,0,1,ie,we);this.ctx.transform=this.ctx.transform.multiply(De)},ee.prototype.transform=function(ie,we,De,Ge,Je,$e){if(isNaN(ie)||isNaN(we)||isNaN(De)||isNaN(Ge)||isNaN(Je)||isNaN($e))throw Xr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Et=new V(ie,we,De,Ge,Je,$e);this.ctx.transform=this.ctx.transform.multiply(Et)},ee.prototype.setTransform=function(ie,we,De,Ge,Je,$e){ie=isNaN(ie)?1:ie,we=isNaN(we)?0:we,De=isNaN(De)?0:De,Ge=isNaN(Ge)?1:Ge,Je=isNaN(Je)?0:Je,$e=isNaN($e)?0:$e,this.ctx.transform=new V(ie,we,De,Ge,Je,$e)};var fe=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};ee.prototype.drawImage=function(ie,we,De,Ge,Je,$e,Et,Ct,dn){var pn=this.pdf.getImageProperties(ie),An=1,hn=1,hi=1,Dt=1;void 0!==Ge&&void 0!==Ct&&(hi=Ct/Ge,Dt=dn/Je,An=pn.width/Ge*Ct/Ge,hn=pn.height/Je*dn/Je),void 0===$e&&($e=we,Et=De,we=0,De=0),void 0!==Ge&&void 0===Ct&&(Ct=Ge,dn=Je),void 0===Ge&&void 0===Ct&&(Ct=pn.width,dn=pn.height);for(var Ie,xi=this.ctx.transform.decompose(),jn=nt(xi.rotate.shx),un=new V,vn=(un=(un=(un=un.multiply(xi.translate)).multiply(xi.skew)).multiply(xi.scale)).applyToRectangle(new F($e-we*hi,Et-De*Dt,Ge*An,Je*hn)),kn=Ce.call(this,vn),Mn=[],ai=0;ai<kn.length;ai+=1)-1===Mn.indexOf(kn[ai])&&Mn.push(kn[ai]);if(ke(Mn),this.autoPaging)for(var Ai=Mn[0],Gi=Mn[Mn.length-1],Xi=Ai;Xi<Gi+1;Xi++){this.pdf.setPage(Xi);var ar=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qr=1===Xi?this.posY+this.margin[0]:this.margin[0],nr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Un=1===Xi?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Xi-2)*nr;if(0!==this.ctx.clip_path.length){var Ba=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=be(Ie,this.posX+this.margin[3],-Un+Qr+this.ctx.prevPageLastElemOffset),qe.call(this,"fill",!0),this.path=Ba}var fr=JSON.parse(JSON.stringify(vn));fr=be([fr],this.posX+this.margin[3],-Un+Qr+this.ctx.prevPageLastElemOffset)[0];var au=(Xi>Ai||Xi<Gi)&&fe.call(this);au&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ar,nr,null).clip().discardPath()),this.pdf.addImage(ie,"JPEG",fr.x,fr.y,fr.w,fr.h,null,null,jn),au&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(ie,"JPEG",vn.x,vn.y,vn.w,vn.h,null,null,jn)};var Ce=function(ie,we,De){var Ge=[];we=we||this.pdf.internal.pageSize.width,De=De||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Je=this.posY+this.ctx.prevPageLastElemOffset;switch(ie.type){default:case"mt":case"lt":Ge.push(Math.floor((ie.y+Je)/De)+1);break;case"arc":Ge.push(Math.floor((ie.y+Je-ie.radius)/De)+1),Ge.push(Math.floor((ie.y+Je+ie.radius)/De)+1);break;case"qct":var $e=Vt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ie.x1,ie.y1,ie.x,ie.y);Ge.push(Math.floor(($e.y+Je)/De)+1),Ge.push(Math.floor(($e.y+$e.h+Je)/De)+1);break;case"bct":var Et=jt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ie.x1,ie.y1,ie.x2,ie.y2,ie.x,ie.y);Ge.push(Math.floor((Et.y+Je)/De)+1),Ge.push(Math.floor((Et.y+Et.h+Je)/De)+1);break;case"rect":Ge.push(Math.floor((ie.y+Je)/De)+1),Ge.push(Math.floor((ie.y+ie.h+Je)/De)+1)}for(var Ct=0;Ct<Ge.length;Ct+=1)for(;this.pdf.internal.getNumberOfPages()<Ge[Ct];)ae.call(this);return Ge},ae=function(){var ie=this.fillStyle,we=this.strokeStyle,De=this.font,Ge=this.lineCap,Je=this.lineWidth,$e=this.lineJoin;this.pdf.addPage(),this.fillStyle=ie,this.strokeStyle=we,this.font=De,this.lineCap=Ge,this.lineWidth=Je,this.lineJoin=$e},be=function(ie,we,De){for(var Ge=0;Ge<ie.length;Ge++)switch(ie[Ge].type){case"bct":ie[Ge].x2+=we,ie[Ge].y2+=De;case"qct":ie[Ge].x1+=we,ie[Ge].y1+=De;default:ie[Ge].x+=we,ie[Ge].y+=De}return ie},ke=function(ie){return ie.sort(function(we,De){return we-De})},Ee=function(ie,we){for(var De,Ge,Je=this.fillStyle,$e=this.strokeStyle,Et=this.lineCap,Ct=this.lineWidth,dn=Math.abs(Ct*this.ctx.transform.scaleX),pn=this.lineJoin,An=JSON.parse(JSON.stringify(this.path)),hn=JSON.parse(JSON.stringify(this.path)),hi=[],Dt=0;Dt<hn.length;Dt++)if(void 0!==hn[Dt].x)for(var Ie=Ce.call(this,hn[Dt]),xi=0;xi<Ie.length;xi+=1)-1===hi.indexOf(Ie[xi])&&hi.push(Ie[xi]);for(var jn=0;jn<hi.length;jn++)for(;this.pdf.internal.getNumberOfPages()<hi[jn];)ae.call(this);if(ke(hi),this.autoPaging)for(var un=hi[0],vn=hi[hi.length-1],kn=un;kn<vn+1;kn++){this.pdf.setPage(kn),this.fillStyle=Je,this.strokeStyle=$e,this.lineCap=Et,this.lineWidth=dn,this.lineJoin=pn;var Mn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ai=1===kn?this.posY+this.margin[0]:this.margin[0],Gi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xi=1===kn?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(kn-2)*Gi;if(0!==this.ctx.clip_path.length){var ar=this.path;De=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=be(De,this.posX+this.margin[3],-Xi+ai+this.ctx.prevPageLastElemOffset),qe.call(this,ie,!0),this.path=ar}if(Ge=JSON.parse(JSON.stringify(An)),this.path=be(Ge,this.posX+this.margin[3],-Xi+ai+this.ctx.prevPageLastElemOffset),!1===we||0===kn){var Qr=(kn>un||kn<vn)&&fe.call(this);Qr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mn,Gi,null).clip().discardPath()),qe.call(this,ie,we),Qr&&this.pdf.restoreGraphicsState()}this.lineWidth=Ct}else this.lineWidth=dn,qe.call(this,ie,we),this.lineWidth=Ct;this.path=An},qe=function(ie,we){if(("stroke"!==ie||we||!ye.call(this))&&("stroke"===ie||we||!z.call(this))){for(var De,Ge,Je=[],$e=this.path,Et=0;Et<$e.length;Et++){var Ct=$e[Et];switch(Ct.type){case"begin":Je.push({begin:!0});break;case"close":Je.push({close:!0});break;case"mt":Je.push({start:Ct,deltas:[],abs:[]});break;case"lt":var dn=Je.length;if($e[Et-1]&&!isNaN($e[Et-1].x)&&(De=[Ct.x-$e[Et-1].x,Ct.y-$e[Et-1].y],dn>0))for(;dn>=0;dn--)if(!0!==Je[dn-1].close&&!0!==Je[dn-1].begin){Je[dn-1].deltas.push(De),Je[dn-1].abs.push(Ct);break}break;case"bct":Je[Je.length-1].deltas.push(De=[Ct.x1-$e[Et-1].x,Ct.y1-$e[Et-1].y,Ct.x2-$e[Et-1].x,Ct.y2-$e[Et-1].y,Ct.x-$e[Et-1].x,Ct.y-$e[Et-1].y]);break;case"qct":Je[Je.length-1].deltas.push(De=[$e[Et-1].x+2/3*(Ct.x1-$e[Et-1].x)-$e[Et-1].x,$e[Et-1].y+2/3*(Ct.y1-$e[Et-1].y)-$e[Et-1].y,Ct.x+2/3*(Ct.x1-Ct.x)-$e[Et-1].x,Ct.y+2/3*(Ct.y1-Ct.y)-$e[Et-1].y,Ct.x-$e[Et-1].x,Ct.y-$e[Et-1].y]);break;case"arc":Je.push({deltas:[],abs:[],arc:!0}),Array.isArray(Je[Je.length-1].abs)&&Je[Je.length-1].abs.push(Ct)}}Ge=we?null:"stroke"===ie?"stroke":"fill";for(var xi=!1,jn=0;jn<Je.length;jn++)if(Je[jn].arc)for(var un=Je[jn].abs,vn=0;vn<un.length;vn++){var kn=un[vn];"arc"===kn.type?Pe.call(this,kn.x,kn.y,kn.radius,kn.startAngle,kn.endAngle,kn.counterclockwise,void 0,we,!xi):Ve.call(this,kn.x,kn.y),xi=!0}else!0===Je[jn].close?(this.pdf.internal.out("h"),xi=!1):!0!==Je[jn].begin&&(_e.call(this,Je[jn].deltas,Je[jn].start.x,Je[jn].start.y),xi=!0);Ge&&lt.call(this,Ge),we&&kt.call(this)}},Ht=function(ie){var we=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,De=we*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return ie-De;case"top":return ie+we-De;case"hanging":return ie+we-2*De;case"middle":return ie+we/2-De;default:return ie}},at=function(ie){return ie+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};ee.prototype.createLinearGradient=function(){var ie=function(){};return ie.colorStops=[],ie.addColorStop=function(we,De){this.colorStops.push([we,De])},ie.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},ie.isCanvasGradient=!0,ie},ee.prototype.createPattern=function(){return this.createLinearGradient()},ee.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Pe=function(ie,we,De,Ge,Je,$e,Et,Ct,dn){for(var pn=wt.call(this,De,Ge,Je,$e),An=0;An<pn.length;An++){var hn=pn[An];0===An&&(dn?ce.call(this,hn.x1+ie,hn.y1+we):Ve.call(this,hn.x1+ie,hn.y1+we)),It.call(this,ie,we,hn.x2,hn.y2,hn.x3,hn.y3,hn.x4,hn.y4)}Ct?kt.call(this):lt.call(this,Et)},lt=function(ie){switch(ie){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},kt=function(){this.pdf.clip(),this.pdf.discardPath()},ce=function(ie,we){this.pdf.internal.out(C(ie)+" "+T(we)+" m")},he=function(ie){var we;switch(ie.align){case"right":case"end":we="right";break;case"center":we="center";break;default:we="left"}var De=this.pdf.getTextDimensions(ie.text),Ge=Ht.call(this,ie.y),Je=at.call(this,Ge)-De.h,$e=this.ctx.transform.applyToPoint(new O(ie.x,Ge)),Et=this.ctx.transform.decompose(),Ct=new V;Ct=(Ct=(Ct=Ct.multiply(Et.translate)).multiply(Et.skew)).multiply(Et.scale);for(var dn,pn,An,hn=this.ctx.transform.applyToRectangle(new F(ie.x,Ge,De.w,De.h)),hi=Ct.applyToRectangle(new F(ie.x,Je,De.w,De.h)),Dt=Ce.call(this,hi),Ie=[],xi=0;xi<Dt.length;xi+=1)-1===Ie.indexOf(Dt[xi])&&Ie.push(Dt[xi]);if(ke(Ie),this.autoPaging)for(var jn=Ie[0],un=Ie[Ie.length-1],vn=jn;vn<un+1;vn++){this.pdf.setPage(vn);var kn=1===vn?this.posY+this.margin[0]:this.margin[0],ai=this.pdf.internal.pageSize.height-this.margin[2],Ai=ai-this.margin[0],Gi=this.pdf.internal.pageSize.width-this.margin[1],Xi=Gi-this.margin[3],ar=1===vn?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(vn-2)*Ai;if(0!==this.ctx.clip_path.length){var Qr=this.path;dn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=be(dn,this.posX+this.margin[3],-1*ar+kn),qe.call(this,"fill",!0),this.path=Qr}var Di=be([JSON.parse(JSON.stringify(hi))],this.posX+this.margin[3],-ar+kn+this.ctx.prevPageLastElemOffset)[0];ie.scale>=.01&&(pn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pn*ie.scale),this.lineWidth=(An=this.lineWidth)*ie.scale);var nr="text"!==this.autoPaging;if(nr||Di.y+Di.h<=ai){if(nr||Di.y>=kn&&Di.x<=Gi){var Un=nr?ie.text:this.pdf.splitTextToSize(ie.text,ie.maxWidth||Gi-Di.x)[0],Ba=be([JSON.parse(JSON.stringify(hn))],this.posX+this.margin[3],-ar+kn+this.ctx.prevPageLastElemOffset)[0],fr=nr&&(vn>jn||vn<un)&&fe.call(this);fr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xi,Ai,null).clip().discardPath()),this.pdf.text(Un,Ba.x,Ba.y,{angle:ie.angle,align:we,renderingMode:ie.renderingMode}),fr&&this.pdf.restoreGraphicsState()}}else Di.y<ai&&(this.ctx.prevPageLastElemOffset+=ai-Di.y);ie.scale>=.01&&(this.pdf.setFontSize(pn),this.lineWidth=An)}else ie.scale>=.01&&(pn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pn*ie.scale),this.lineWidth=(An=this.lineWidth)*ie.scale),this.pdf.text(ie.text,$e.x+this.posX,$e.y+this.posY,{angle:ie.angle,align:we,renderingMode:ie.renderingMode,maxWidth:ie.maxWidth}),ie.scale>=.01&&(this.pdf.setFontSize(pn),this.lineWidth=An)},Ve=function(ie,we,De,Ge){Ge=Ge||0,this.pdf.internal.out(C(ie+(De=De||0))+" "+T(we+Ge)+" l")},_e=function(ie,we,De){return this.pdf.lines(ie,we,De,null,null)},It=function(ie,we,De,Ge,Je,$e,Et,Ct){this.pdf.internal.out([_(x(De+ie)),_(R(Ge+we)),_(x(Je+ie)),_(R($e+we)),_(x(Et+ie)),_(R(Ct+we)),"c"].join(" "))},wt=function(ie,we,De,Ge){for(var Je=2*Math.PI,$e=Math.PI/2;we>De;)we-=Je;var Et=Math.abs(De-we);Et<Je&&Ge&&(Et=Je-Et);for(var Ct=[],dn=Ge?-1:1,pn=we;Et>1e-5;){var An=pn+dn*Math.min(Et,$e);Ct.push(Pt.call(this,ie,pn,An)),Et-=Math.abs(An-pn),pn=An}return Ct},Pt=function(ie,we,De){var Ge=(De-we)/2,Je=ie*Math.cos(Ge),$e=ie*Math.sin(Ge),Et=Je,Ct=-$e,dn=Et*Et+Ct*Ct,pn=dn+Et*Je+Ct*$e,An=4/3*(Math.sqrt(2*dn*pn)-pn)/(Et*$e-Ct*Je),hn=Et-An*Ct,hi=Ct+An*Et,Dt=hn,Ie=-hi,xi=Ge+we,jn=Math.cos(xi),un=Math.sin(xi);return{x1:ie*Math.cos(we),y1:ie*Math.sin(we),x2:hn*jn-hi*un,y2:hn*un+hi*jn,x3:Dt*jn-Ie*un,y3:Dt*un+Ie*jn,x4:ie*Math.cos(De),y4:ie*Math.sin(De)}},nt=function(ie){return 180*ie/Math.PI},Vt=function(ie,we,De,Ge,Je,$e){var Et=ie+.5*(De-ie),Ct=we+.5*(Ge-we),dn=Je+.5*(De-Je),pn=$e+.5*(Ge-$e),An=Math.min(ie,Je,Et,dn),hn=Math.max(ie,Je,Et,dn),hi=Math.min(we,$e,Ct,pn),Dt=Math.max(we,$e,Ct,pn);return new F(An,hi,hn-An,Dt-hi)},jt=function(ie,we,De,Ge,Je,$e,Et,Ct){var dn,pn,An,hn,hi,Dt,Ie,xi,jn,un,vn,kn,Mn,ai,Ai=De-ie,Gi=Ge-we,Xi=Je-De,ar=$e-Ge,Qr=Et-Je,Di=Ct-$e;for(pn=0;pn<41;pn++)jn=(Ie=(An=ie+(dn=pn/40)*Ai)+dn*((hi=De+dn*Xi)-An))+dn*(hi+dn*(Je+dn*Qr-hi)-Ie),un=(xi=(hn=we+dn*Gi)+dn*((Dt=Ge+dn*ar)-hn))+dn*(Dt+dn*($e+dn*Di-Dt)-xi),0==pn?(vn=jn,kn=un,Mn=jn,ai=un):(vn=Math.min(vn,jn),kn=Math.min(kn,un),Mn=Math.max(Mn,jn),ai=Math.max(ai,un));return new F(Math.round(vn),Math.round(kn),Math.round(Mn-vn),Math.round(ai-kn))},En=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var De=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==De&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=De)}}})(ti.API),
/**
         * @license
         * jsPDF filters PlugIn
         * Copyright (c) 2014 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(w){var _=function(R){var O,F,V,j,J,ee,se,z,ye,fe;for(/[^\x00-\xFF]/.test(R),F=[],V=0,j=(R+=O="\0\0\0\0".slice(R.length%4||4)).length;j>V;V+=4)0!==(J=(R.charCodeAt(V)<<24)+(R.charCodeAt(V+1)<<16)+(R.charCodeAt(V+2)<<8)+R.charCodeAt(V+3))?(ee=(J=((J=((J=((J=(J-(fe=J%85))/85)-(ye=J%85))/85)-(z=J%85))/85)-(se=J%85))/85)%85,F.push(ee+33,se+33,z+33,ye+33,fe+33)):F.push(122);return function(Ce,ae){for(var be=ae;be>0;be--)Ce.pop()}(F,O.length),String.fromCharCode.apply(String,F)+"~>"},C=function(R){var O,F,V,j,J,ee=String,se="length",z=255,ye="charCodeAt",fe="slice",Ce="replace";for(R[fe](-2),R=R[fe](0,-2)[Ce](/\s/g,"")[Ce]("z","!!!!!"),V=[],j=0,J=(R+=O="uuuuu"[fe](R[se]%5||5))[se];J>j;j+=5)F=52200625*(R[ye](j)-33)+614125*(R[ye](j+1)-33)+7225*(R[ye](j+2)-33)+85*(R[ye](j+3)-33)+(R[ye](j+4)-33),V.push(z&F>>24,z&F>>16,z&F>>8,z&F);return function(ae,be){for(var ke=be;ke>0;ke--)ae.pop()}(V,O[se]),ee.fromCharCode.apply(ee,V)},T=function(R){var O=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(R=R.replace(/\s/g,"")).indexOf(">")&&(R=R.substr(0,R.indexOf(">"))),R.length%2&&(R+="0"),!1===O.test(R))return"";for(var F="",V=0;V<R.length;V+=2)F+=String.fromCharCode("0x"+(R[V]+R[V+1]));return F},x=function(R){for(var O=new Uint8Array(R.length),F=R.length;F--;)O[F]=R.charCodeAt(F);return(O=Yf(O)).reduce(function(V,j){return V+String.fromCharCode(j)},"")};w.processDataByFilters=function(R,O){var F=0,V=R||"",j=[];for("string"==typeof(O=O||[])&&(O=[O]),F=0;F<O.length;F+=1)switch(O[F]){case"ASCII85Decode":case"/ASCII85Decode":V=C(V),j.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":V=_(V),j.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":V=T(V),j.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":V=V.split("").map(function(J){return("0"+J.charCodeAt().toString(16)).slice(-2)}).join("")+">",j.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":V=x(V),j.push("/FlateDecode");break;default:throw new Error('The filter: "'+O[F]+'" is not implemented')}return{data:V,reverseChain:j.reverse().join(" ")}}}(ti.API),
/**
         * @license
         * jsPDF fileloading PlugIn
         * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(w){w.loadFile=function(_,C,T){return function(x,R,O){R=!1!==R,O="function"==typeof O?O:function(){};var F=void 0;try{F=function(V,j,J){var ee=new XMLHttpRequest,se=0,z=function(ye){var fe=ye.length,Ce=[],ae=String.fromCharCode;for(se=0;se<fe;se+=1)Ce.push(ae(255&ye.charCodeAt(se)));return Ce.join("")};if(ee.open("GET",V,!j),ee.overrideMimeType("text/plain; charset=x-user-defined"),!1===j&&(ee.onload=function(){J(200===ee.status?z(this.responseText):void 0)}),ee.send(null),j&&200===ee.status)return z(ee.responseText)}(x,R,O)}catch{}return F}(_,C,T)},w.loadImageFile=w.loadFile}(ti.API),function(w){function _(){return(Zn.html2canvas?Promise.resolve(Zn.html2canvas):Kt.e(239).then(Kt.t.bind(Kt,7239,23))).catch(function(O){return Promise.reject(new Error("Could not load html2canvas: "+O))}).then(function(O){return O.default?O.default:O})}function C(){return(Zn.DOMPurify?Promise.resolve(Zn.DOMPurify):Kt.e(973).then(Kt.t.bind(Kt,1973,23))).catch(function(O){return Promise.reject(new Error("Could not load dompurify: "+O))}).then(function(O){return O.default?O.default:O})}var T=function(O){var F=(0,d.A)(O);return"undefined"===F?"undefined":"string"===F||O instanceof String?"string":"number"===F||O instanceof Number?"number":"function"===F||O instanceof Function?"function":O&&O.constructor===Array?"array":O&&1===O.nodeType?"element":"object"===F?"object":"unknown"},x=function(O,F){var V=document.createElement(O);for(var j in F.className&&(V.className=F.className),F.innerHTML&&F.dompurify&&(V.innerHTML=F.dompurify.sanitize(F.innerHTML)),F.style)V.style[j]=F.style[j];return V},R=function O(F){var V=Object.assign(O.convert(Promise.resolve()),JSON.parse(JSON.stringify(O.template))),j=O.convert(Promise.resolve(),V);return(j=j.setProgress(1,O,1,[O])).set(F)};(R.prototype=Object.create(Promise.prototype)).constructor=R,R.convert=function(O,F){return O.__proto__=F||R.prototype,O},R.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},R.prototype.from=function(O,F){return this.then(function(){switch(F=F||function(V){switch(T(V)){case"string":return"string";case"element":return"canvas"===V.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(O)){case"string":return this.then(C).then(function(V){return this.set({src:x("div",{innerHTML:O,dompurify:V})})});case"element":return this.set({src:O});case"canvas":return this.set({canvas:O});case"img":return this.set({img:O});default:return this.error("Unknown source type.")}})},R.prototype.to=function(O){switch(O){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},R.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var O={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},F=function V(j,J){for(var ee=3===j.nodeType?document.createTextNode(j.nodeValue):j.cloneNode(!1),se=j.firstChild;se;se=se.nextSibling)!0!==J&&1===se.nodeType&&"SCRIPT"===se.nodeName||ee.appendChild(V(se,J));return 1===j.nodeType&&("CANVAS"===j.nodeName?(ee.width=j.width,ee.height=j.height,ee.getContext("2d").drawImage(j,0,0)):"TEXTAREA"!==j.nodeName&&"SELECT"!==j.nodeName||(ee.value=j.value),ee.addEventListener("load",function(){ee.scrollTop=j.scrollTop,ee.scrollLeft=j.scrollLeft},!0)),ee}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===F.tagName&&(O.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=x("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=x("div",{className:"html2pdf__container",style:O}),this.prop.container.appendChild(F),this.prop.container.firstChild.appendChild(x("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},R.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(_).then(function(F){var V=Object.assign({},this.opt.html2canvas);return delete V.onrendered,F(this.prop.container,V)}).then(function(F){(this.opt.html2canvas.onrendered||function(){})(F),this.prop.canvas=F,document.body.removeChild(this.prop.overlay)})},R.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(_).then(function(F){var V=this.opt.jsPDF,j=this.opt.fontFaces,J="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,ee=Object.assign({async:!0,allowTaint:!0,scale:J,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete ee.onrendered,V.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,V.context2d.posX=this.opt.x,V.context2d.posY=this.opt.y,V.context2d.margin=this.opt.margin,V.context2d.fontFaces=j,j)for(var se=0;se<j.length;++se){var z=j[se],ye=z.src.find(function(fe){return"truetype"===fe.format});ye&&V.addFont(ye.url,z.ref.name,z.ref.style)}return ee.windowHeight=ee.windowHeight||0,ee.windowHeight=0==ee.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):ee.windowHeight,V.context2d.save(!0),F(this.prop.container,ee)}).then(function(F){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(F),this.prop.canvas=F,document.body.removeChild(this.prop.overlay)})},R.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var O=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=O})},R.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},R.prototype.output=function(O,F,V){return"img"===(V=V||"pdf").toLowerCase()||"image"===V.toLowerCase()?this.outputImg(O,F):this.outputPdf(O,F)},R.prototype.outputPdf=function(O,F){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(O,F)})},R.prototype.outputImg=function(O){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(O){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+O+'" is not supported.'}})},R.prototype.save=function(O){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(O?{filename:O}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},R.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},R.prototype.set=function(O){if("object"!==T(O))return this;var F=Object.keys(O||{}).map(function(V){if(V in R.template.prop)return function(){this.prop[V]=O[V]};switch(V){case"margin":return this.setMargin.bind(this,O.margin);case"jsPDF":return function(){return this.opt.jsPDF=O.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,O.pageSize);default:return function(){this.opt[V]=O[V]}}},this);return this.then(function(){return this.thenList(F)})},R.prototype.get=function(O,F){return this.then(function(){var V=O in R.template.prop?this.prop[O]:this.opt[O];return F?F(V):V})},R.prototype.setMargin=function(O){return this.then(function(){switch(T(O)){case"number":O=[O,O,O,O];case"array":if(2===O.length&&(O=[O[0],O[1],O[0],O[1]]),4===O.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=O}).then(this.setPageSize)},R.prototype.setPageSize=function(O){function F(V,j){return Math.floor(V*j/72*96)}return this.then(function(){(O=O||ti.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(O.inner={width:O.width-this.opt.margin[1]-this.opt.margin[3],height:O.height-this.opt.margin[0]-this.opt.margin[2]},O.inner.px={width:F(O.inner.width,O.k),height:F(O.inner.height,O.k)},O.inner.ratio=O.inner.height/O.inner.width),this.prop.pageSize=O})},R.prototype.setProgress=function(O,F,V,j){return null!=O&&(this.progress.val=O),null!=F&&(this.progress.state=F),null!=V&&(this.progress.n=V),null!=j&&(this.progress.stack=j),this.progress.ratio=this.progress.val/this.progress.state,this},R.prototype.updateProgress=function(O,F,V,j){return this.setProgress(O?this.progress.val+O:null,F||null,V?this.progress.n+V:null,j?this.progress.stack.concat(j):null)},R.prototype.then=function(O,F){var V=this;return this.thenCore(O,F,function(j,J){return V.updateProgress(null,null,1,[j]),Promise.prototype.then.call(this,function(ee){return V.updateProgress(null,j),ee}).then(j,J).then(function(ee){return V.updateProgress(1),ee})})},R.prototype.thenCore=function(O,F,V){V=V||Promise.prototype.then,O&&(O=O.bind(this)),F&&(F=F.bind(this));var j=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:R.convert(Object.assign({},this),Promise.prototype),J=V.call(j,O,F);return R.convert(J,this.__proto__)},R.prototype.thenExternal=function(O,F){return Promise.prototype.then.call(this,O,F)},R.prototype.thenList=function(O){var F=this;return O.forEach(function(V){F=F.thenCore(V)}),F},R.prototype.catch=function(O){O&&(O=O.bind(this));var F=Promise.prototype.catch.call(this,O);return R.convert(F,this)},R.prototype.catchExternal=function(O){return Promise.prototype.catch.call(this,O)},R.prototype.error=function(O){return this.then(function(){throw new Error(O)})},R.prototype.using=R.prototype.set,R.prototype.saveAs=R.prototype.save,R.prototype.export=R.prototype.output,R.prototype.run=R.prototype.then,ti.getPageSize=function(O,F,V){if("object"===(0,d.A)(O)){var j=O;O=j.orientation,F=j.unit||F,V=j.format||V}F=F||"mm",V=V||"a4",O=(""+(O||"P")).toLowerCase();var J,ee=(""+V).toLowerCase(),se={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(F){case"pt":J=1;break;case"mm":J=72/25.4;break;case"cm":J=72/2.54;break;case"in":J=72;break;case"px":J=.75;break;case"pc":case"em":J=12;break;case"ex":J=6;break;default:throw"Invalid unit: "+F}var z,ye=0,fe=0;if(se.hasOwnProperty(ee))ye=se[ee][1]/J,fe=se[ee][0]/J;else try{ye=V[1],fe=V[0]}catch{throw new Error("Invalid format: "+V)}if("p"===O||"portrait"===O)O="p",fe>ye&&(z=fe,fe=ye,ye=z);else{if("l"!==O&&"landscape"!==O)throw"Invalid orientation: "+O;O="l",ye>fe&&(z=fe,fe=ye,ye=z)}return{width:fe,height:ye,unit:F,k:J,orientation:O}},w.html=function(O,F){(F=F||{}).callback=F.callback||function(){},F.html2canvas=F.html2canvas||{},F.html2canvas.canvas=F.html2canvas.canvas||this.canvas,F.jsPDF=F.jsPDF||this,F.fontFaces=F.fontFaces?F.fontFaces.map(R0):null;var V=new R(F);return F.worker?V:V.from(O).doCallback()}}(ti.API),ti.API.addJS=function(w){return al=w,this.internal.events.subscribe("postPutResources",function(){ws=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ws+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Qs=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+al+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==ws&&void 0!==Qs&&this.internal.out("/Names <</JavaScript "+ws+" 0 R>>")}),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(w){var _;w.events.push(["postPutResources",function(){var C=this,T=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var x=C.outline.render().split(/\r\n/),R=0;R<x.length;R++){var O=x[R],F=T.exec(O);null!=F&&C.internal.newObjectDeferredBegin(F[1],!1),C.internal.write(O)}if(this.outline.createNamedDestinations){var j=this.internal.pages.length,J=[];for(R=0;R<j;R++){var ee=C.internal.newObject();J.push(ee);var se=C.internal.getPageInfo(R+1);C.internal.write("<< /D["+se.objId+" 0 R /XYZ null null null]>> endobj")}var z=C.internal.newObject();for(C.internal.write("<< /Names [ "),R=0;R<J.length;R++)C.internal.write("(page_"+(R+1)+")"+J[R]+" 0 R");C.internal.write(" ] >>","endobj"),_=C.internal.newObject(),C.internal.write("<< /Dests "+z+" 0 R"),C.internal.write(">>","endobj")}}]),w.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+_+" 0 R"))}]),w.events.push(["initialized",function(){var C=this;C.outline={createNamedDestinations:!1,root:{children:[]}},C.outline.add=function(T,x,R){var O={title:x,options:R,children:[]};return null==T&&(T=this.root),T.children.push(O),O},C.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=C,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},C.outline.genIds_r=function(T){T.id=C.internal.newObjectDeferred();for(var x=0;x<T.children.length;x++)this.genIds_r(T.children[x])},C.outline.renderRoot=function(T){this.objStart(T),this.line("/Type /Outlines"),T.children.length>0&&(this.line("/First "+this.makeRef(T.children[0])),this.line("/Last "+this.makeRef(T.children[T.children.length-1]))),this.line("/Count "+this.count_r({count:0},T)),this.objEnd()},C.outline.renderItems=function(T){for(var x=this.ctx.pdf.internal.getVerticalCoordinateString,R=0;R<T.children.length;R++){var O=T.children[R];this.objStart(O),this.line("/Title "+this.makeString(O.title)),this.line("/Parent "+this.makeRef(T)),R>0&&this.line("/Prev "+this.makeRef(T.children[R-1])),R<T.children.length-1&&this.line("/Next "+this.makeRef(T.children[R+1])),O.children.length>0&&(this.line("/First "+this.makeRef(O.children[0])),this.line("/Last "+this.makeRef(O.children[O.children.length-1])));var F=this.count=this.count_r({count:0},O);if(F>0&&this.line("/Count "+F),O.options&&O.options.pageNumber){var V=C.internal.getPageInfo(O.options.pageNumber);this.line("/Dest ["+V.objId+" 0 R /XYZ 0 "+x(0)+" 0]")}this.objEnd()}for(var j=0;j<T.children.length;j++)this.renderItems(T.children[j])},C.outline.line=function(T){this.ctx.val+=T+"\r\n"},C.outline.makeRef=function(T){return T.id+" 0 R"},C.outline.makeString=function(T){return"("+C.internal.pdfEscape(T)+")"},C.outline.objStart=function(T){this.ctx.val+="\r\n"+T.id+" 0 obj\r\n<<\r\n"},C.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},C.outline.count_r=function(T,x){for(var R=0;R<x.children.length;R++)T.count++,this.count_r(T,x.children[R]);return T.count}}])}(ti.API),
/**
         * @license
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(w){var _=[192,193,194,195,196,197,198,199];w.processJPEG=function(C,T,x,R,O,F){var V,j=this.decode.DCT_DECODE,J=null;if("string"==typeof C||this.__addimage__.isArrayBuffer(C)||this.__addimage__.isArrayBufferView(C)){switch(C=this.__addimage__.isArrayBuffer(C=O||C)?new Uint8Array(C):C,(V=function(ee){for(var se,z=256*ee.charCodeAt(4)+ee.charCodeAt(5),ye=ee.length,fe={width:0,height:0,numcomponents:1},Ce=4;Ce<ye;Ce+=2){if(-1!==_.indexOf(ee.charCodeAt((Ce+=z)+1))){se=256*ee.charCodeAt(Ce+5)+ee.charCodeAt(Ce+6),fe={width:256*ee.charCodeAt(Ce+7)+ee.charCodeAt(Ce+8),height:se,numcomponents:ee.charCodeAt(Ce+9)};break}z=256*ee.charCodeAt(Ce+2)+ee.charCodeAt(Ce+3)}return fe}(C=this.__addimage__.isArrayBufferView(C)?this.__addimage__.arrayBufferToBinaryString(C):C)).numcomponents){case 1:F=this.color_spaces.DEVICE_GRAY;break;case 4:F=this.color_spaces.DEVICE_CMYK;break;case 3:F=this.color_spaces.DEVICE_RGB}J={data:C,width:V.width,height:V.height,colorSpace:F,bitsPerComponent:8,filter:j,index:T,alias:x}}return J}}(ti.API);var ap,lp,cp,iD,rD,r_=function(){var w,_,C;function T(R){var O,V,j,J,ee,se,z,ye,fe,Ce,ae,be,ke;for(this.data=R,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},ee=null;;){switch(O=this.readUInt32(),ye=function(){var Ee,qe;for(qe=[],Ee=0;Ee<4;++Ee)qe.push(String.fromCharCode(this.data[this.pos++]));return qe}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(O);break;case"fcTL":ee&&this.animation.frames.push(ee),this.pos+=4,ee={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},J=this.readUInt16(),j=this.readUInt16()||100,ee.delay=1e3*J/j,ee.disposeOp=this.data[this.pos++],ee.blendOp=this.data[this.pos++],ee.data=[];break;case"IDAT":case"fdAT":for("fdAT"===ye&&(this.pos+=4,O-=4),R=ee?.data||this.imgData,ae=0;0<=O?ae<O:ae>O;0<=O?++ae:--ae)R.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(V=this.palette.length/3,this.transparency.indexed=this.read(O),this.transparency.indexed.length>V)throw new Error("More transparent colors than palette size");if((fe=V-this.transparency.indexed.length)>0)for(be=0;0<=fe?be<fe:be>fe;0<=fe?++be:--be)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(O)[0];break;case 2:this.transparency.rgb=this.read(O)}break;case"tEXt":se=(Ce=this.read(O)).indexOf(0),z=String.fromCharCode.apply(String,Ce.slice(0,se)),this.text[z]=String.fromCharCode.apply(String,Ce.slice(se+1));break;case"IEND":return ee&&this.animation.frames.push(ee),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(ke=this.colorType)||6===ke,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=O}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}T.prototype.read=function(R){var O,F;for(F=[],O=0;0<=R?O<R:O>R;0<=R?++O:--O)F.push(this.data[this.pos++]);return F},T.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},T.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},T.prototype.decodePixels=function(R){var O=this.pixelBitlength/8,F=new Uint8Array(this.width*this.height*O),V=0,j=this;if(null==R&&(R=this.imgData),0===R.length)return new Uint8Array(0);function J(ee,se,z,ye){var fe,Ce,ae,be,ke,Ee,qe,Ht,Pe,lt,kt,ce,he,Ve,_e,It,wt,Pt,nt,Vt,jt=Math.ceil((j.width-ee)/z),En=Math.ceil((j.height-se)/ye),ie=j.width==jt&&j.height==En;for(he=O*jt,kt=ie?F:new Uint8Array(he*En),Ee=R.length,ce=0,Ce=0;ce<En&&V<Ee;){switch(R[V++]){case 0:for(be=It=0;It<he;be=It+=1)kt[Ce++]=R[V++];break;case 1:for(be=wt=0;wt<he;be=wt+=1)fe=R[V++],ke=be<O?0:kt[Ce-O],kt[Ce++]=(fe+ke)%256;break;case 2:for(be=Pt=0;Pt<he;be=Pt+=1)fe=R[V++],ae=(be-be%O)/O,kt[Ce++]=((Ve=ce&&kt[(ce-1)*he+ae*O+be%O])+fe)%256;break;case 3:for(be=nt=0;nt<he;be=nt+=1)fe=R[V++],ae=(be-be%O)/O,ke=be<O?0:kt[Ce-O],Ve=ce&&kt[(ce-1)*he+ae*O+be%O],kt[Ce++]=(fe+Math.floor((ke+Ve)/2))%256;break;case 4:for(be=Vt=0;Vt<he;be=Vt+=1)fe=R[V++],ae=(be-be%O)/O,0===ce?Ve=_e=0:(Ve=kt[(ce-1)*he+ae*O+be%O],_e=ae&&kt[(ce-1)*he+(ae-1)*O+be%O]),qe=(ke=be<O?0:kt[Ce-O])+Ve-_e,Ht=Math.abs(qe-ke),Pe=Math.abs(qe-Ve),lt=Math.abs(qe-_e),kt[Ce++]=(fe+(Ht<=Pe&&Ht<=lt?ke:Pe<=lt?Ve:_e))%256;break;default:throw new Error("Invalid filter algorithm: "+R[V-1])}if(!ie){var we=((se+ce*ye)*j.width+ee)*O,De=ce*he;for(be=0;be<jt;be+=1){for(var Ge=0;Ge<O;Ge+=1)F[we++]=kt[De++];we+=(z-1)*O}}ce++}}return R=wr(R),1==j.interlaceMethod?(J(0,0,8,8),J(4,0,8,8),J(0,4,4,8),J(2,0,4,4),J(0,2,2,4),J(1,0,2,2),J(0,1,1,2)):J(0,0,1,1),F},T.prototype.decodePalette=function(){var R,O,F,V,j,J,ee,se,z;for(F=this.palette,J=this.transparency.indexed||[],j=new Uint8Array((J.length||0)+F.length),V=0,R=0,O=ee=0,se=F.length;ee<se;O=ee+=3)j[V++]=F[O],j[V++]=F[O+1],j[V++]=F[O+2],j[V++]=null!=(z=J[R++])?z:255;return j},T.prototype.copyToImageData=function(R,O){var F,V,j,J,ee,se,z,ye,fe,Ce,ae;if(V=this.colors,fe=null,F=this.hasAlphaChannel,this.palette.length&&(fe=null!=(ae=this._decodedPalette)?ae:this._decodedPalette=this.decodePalette(),V=4,F=!0),ye=(j=R.data||R).length,ee=fe||O,J=se=0,1===V)for(;J<ye;)z=fe?4*O[J/4]:se,Ce=ee[z++],j[J++]=Ce,j[J++]=Ce,j[J++]=Ce,j[J++]=F?ee[z++]:255,se=z;else for(;J<ye;)z=fe?4*O[J/4]:se,j[J++]=ee[z++],j[J++]=ee[z++],j[J++]=ee[z++],j[J++]=F?ee[z++]:255,se=z},T.prototype.decode=function(){var R;return R=new Uint8Array(this.width*this.height*4),this.copyToImageData(R,this.decodePixels()),R};var x=function(){if("[object Window]"===Object.prototype.toString.call(Zn)){try{_=Zn.document.createElement("canvas"),C=_.getContext("2d")}catch{return!1}return!0}return!1};return x(),w=function(R){var O;if(!0===x())return C.width=R.width,C.height=R.height,C.clearRect(0,0,R.width,R.height),C.putImageData(R,0,0),(O=new Image).src=_.toDataURL(),O;throw new Error("This method requires a Browser with Canvas-capability.")},T.prototype.decodeFrames=function(R){var O,F,V,j,J,ee,se,z;if(this.animation){for(z=[],F=J=0,ee=(se=this.animation.frames).length;J<ee;F=++J)V=R.createImageData((O=se[F]).width,O.height),j=this.decodePixels(new Uint8Array(O.data)),this.copyToImageData(V,j),O.imageData=V,z.push(O.image=w(V));return z}},T.prototype.renderFrame=function(R,O){var F,V,j;return F=(V=this.animation.frames)[O],j=V[O-1],0===O&&R.clearRect(0,0,this.width,this.height),1===j?.disposeOp?R.clearRect(j.xOffset,j.yOffset,j.width,j.height):2===j?.disposeOp&&R.putImageData(j.imageData,j.xOffset,j.yOffset),0===F.blendOp&&R.clearRect(F.xOffset,F.yOffset,F.width,F.height),R.drawImage(F.image,F.xOffset,F.yOffset)},T.prototype.animate=function(R){var O,F,V,j,J,ee,se=this;return F=0,j=(ee=this.animation).numFrames,V=ee.frames,J=ee.numPlays,(O=function(){var z,ye;if(z=F++%j,ye=V[z],se.renderFrame(R,z),j>1&&F/j<J)return se.animation._timeout=setTimeout(O,ye.delay)})()},T.prototype.stopAnimation=function(){var R;return clearTimeout(null!=(R=this.animation)?R._timeout:void 0)},T.prototype.render=function(R){var O,F;return R._png&&R._png.stopAnimation(),R._png=this,R.width=this.width,R.height=this.height,O=R.getContext("2d"),this.animation?(this.decodeFrames(O),this.animate(O)):(F=O.createImageData(this.width,this.height),this.copyToImageData(F,this.decodePixels()),O.putImageData(F,0,0))},T}();function Vb(w){var _=0;if(71!==w[_++]||73!==w[_++]||70!==w[_++]||56!==w[_++]||56!=(w[_++]+1&253)||97!==w[_++])throw new Error("Invalid GIF 87a/89a header.");var C=w[_++]|w[_++]<<8,T=w[_++]|w[_++]<<8,x=w[_++],O=1<<1+(7&x);_++,_++;var F=null,V=null;x>>7&&(F=_,V=O,_+=3*O);var j=!0,J=[],ee=0,se=null,z=0,ye=null;for(this.width=C,this.height=T;j&&_<w.length;)switch(w[_++]){case 33:switch(w[_++]){case 255:if(11!==w[_]||78==w[_+1]&&69==w[_+2]&&84==w[_+3]&&83==w[_+4]&&67==w[_+5]&&65==w[_+6]&&80==w[_+7]&&69==w[_+8]&&50==w[_+9]&&46==w[_+10]&&48==w[_+11]&&3==w[_+12]&&1==w[_+13]&&0==w[_+16])_+=14,ye=w[_++]|w[_++]<<8,_++;else for(_+=12;;){if(!((ce=w[_++])>=0))throw Error("Invalid block size");if(0===ce)break;_+=ce}break;case 249:if(4!==w[_++]||0!==w[_+4])throw new Error("Invalid graphics extension block.");var fe=w[_++];ee=w[_++]|w[_++]<<8,se=w[_++],!(1&fe)&&(se=null),z=fe>>2&7,_++;break;case 254:for(;;){if(!((ce=w[_++])>=0))throw Error("Invalid block size");if(0===ce)break;_+=ce}break;default:throw new Error("Unknown graphic control label: 0x"+w[_-1].toString(16))}break;case 44:var Ce=w[_++]|w[_++]<<8,ae=w[_++]|w[_++]<<8,be=w[_++]|w[_++]<<8,ke=w[_++]|w[_++]<<8,Ee=w[_++],qe=Ee>>6&1,Ht=1<<1+(7&Ee),at=F,Pe=V,lt=!1;Ee>>7&&(lt=!0,at=_,Pe=Ht,_+=3*Ht);var kt=_;for(_++;;){var ce;if(!((ce=w[_++])>=0))throw Error("Invalid block size");if(0===ce)break;_+=ce}J.push({x:Ce,y:ae,width:be,height:ke,has_local_palette:lt,palette_offset:at,palette_size:Pe,data_offset:kt,data_length:_-kt,transparent_index:se,interlaced:!!qe,delay:ee,disposal:z});break;case 59:j=!1;break;default:throw new Error("Unknown gif block: 0x"+w[_-1].toString(16))}this.numFrames=function(){return J.length},this.loopCount=function(){return ye},this.frameInfo=function(he){if(he<0||he>=J.length)throw new Error("Frame index out of range.");return J[he]},this.decodeAndBlitFrameBGRA=function(he,Ve){var _e=this.frameInfo(he),It=_e.width*_e.height,wt=new Uint8Array(It);Hg(w,_e.data_offset,wt,It);var Pt=_e.palette_offset,nt=_e.transparent_index;null===nt&&(nt=256);var Vt=_e.width,jt=C-Vt,En=Vt,ie=4*(_e.y*C+_e.x),we=4*((_e.y+_e.height)*C+_e.x),De=ie,Ge=4*jt;!0===_e.interlaced&&(Ge+=4*C*7);for(var Je=8,$e=0,Et=wt.length;$e<Et;++$e){var Ct=wt[$e];if(0===En&&(En=Vt,(De+=Ge)>=we&&(Ge=4*jt+4*C*(Je-1),De=ie+(Vt+jt)*(Je<<1),Je>>=1)),Ct===nt)De+=4;else{var dn=w[Pt+3*Ct],pn=w[Pt+3*Ct+1];Ve[De++]=w[Pt+3*Ct+2],Ve[De++]=pn,Ve[De++]=dn,Ve[De++]=255}--En}},this.decodeAndBlitFrameRGBA=function(he,Ve){var _e=this.frameInfo(he),It=_e.width*_e.height,wt=new Uint8Array(It);Hg(w,_e.data_offset,wt,It);var Pt=_e.palette_offset,nt=_e.transparent_index;null===nt&&(nt=256);var Vt=_e.width,jt=C-Vt,En=Vt,ie=4*(_e.y*C+_e.x),we=4*((_e.y+_e.height)*C+_e.x),De=ie,Ge=4*jt;!0===_e.interlaced&&(Ge+=4*C*7);for(var Je=8,$e=0,Et=wt.length;$e<Et;++$e){var Ct=wt[$e];if(0===En&&(En=Vt,(De+=Ge)>=we&&(Ge=4*jt+4*C*(Je-1),De=ie+(Vt+jt)*(Je<<1),Je>>=1)),Ct===nt)De+=4;else{var pn=w[Pt+3*Ct+1],An=w[Pt+3*Ct+2];Ve[De++]=w[Pt+3*Ct],Ve[De++]=pn,Ve[De++]=An,Ve[De++]=255}--En}}}function Hg(w,_,C,T){for(var x=w[_++],R=1<<x,O=R+1,F=O+1,V=x+1,j=(1<<V)-1,J=0,ee=0,se=0,z=w[_++],ye=new Int32Array(4096),fe=null;;){for(;J<16&&0!==z;)ee|=w[_++]<<J,J+=8,1===z?z=w[_++]:--z;if(J<V)break;var Ce=ee&j;if(ee>>=V,J-=V,Ce!==R){if(Ce===O)break;for(var ae=Ce<F?Ce:fe,be=0,ke=ae;ke>R;)ke=ye[ke]>>8,++be;var Ee=ke;if(se+be+(ae!==Ce?1:0)>T)return void Xr.log("Warning, gif stream longer than expected.");C[se++]=Ee;var qe=se+=be;for(ae!==Ce&&(C[se++]=Ee),ke=ae;be--;)C[--qe]=255&(ke=ye[ke]),ke>>=8;null!==fe&&F<4096&&(ye[F++]=fe<<8|Ee,F>=j+1&&V<12&&(++V,j=j<<1|1)),fe=Ce}else F=O+1,j=(1<<(V=x+1))-1,fe=null}return se!==T&&Xr.log("Warning, gif stream shorter than expected."),C}function s_(w){var _,C,T,x,R,O=Math.floor,F=new Array(64),V=new Array(64),j=new Array(64),J=new Array(64),ee=new Array(65535),se=new Array(65535),z=new Array(64),ye=new Array(64),fe=[],Ce=0,ae=7,be=new Array(64),ke=new Array(64),Ee=new Array(64),qe=new Array(256),Ht=new Array(2048),at=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Pe=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],lt=[0,1,2,3,4,5,6,7,8,9,10,11],kt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],ce=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],he=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Ve=[0,1,2,3,4,5,6,7,8,9,10,11],_e=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],It=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function wt(ie,we){for(var De=0,Ge=0,Je=new Array,$e=1;$e<=16;$e++){for(var Et=1;Et<=ie[$e];Et++)Je[we[Ge]]=[],Je[we[Ge]][0]=De,Je[we[Ge]][1]=$e,Ge++,De++;De*=2}return Je}function Pt(ie){for(var we=ie[0],De=ie[1]-1;De>=0;)we&1<<De&&(Ce|=1<<ae),De--,--ae<0&&(255==Ce?(nt(255),nt(0)):nt(Ce),ae=7,Ce=0)}function nt(ie){fe.push(ie)}function Vt(ie){nt(ie>>8&255),nt(255&ie)}function jt(ie,we,De,Ge,Je){for(var $e,Et=Je[0],Ct=Je[240],dn=function(un,vn){var kn,Mn,ai,Ai,Gi,Xi,ar,Qr,Di,nr,Un=0;for(Di=0;Di<8;++Di){var Ba=(kn=un[Un])+(Qr=un[Un+7]),fr=kn-Qr,au=(Mn=un[Un+1])+(ar=un[Un+6]),Dr=Mn-ar,os=(ai=un[Un+2])+(Xi=un[Un+5]),Ld=ai-Xi,kr=(Ai=un[Un+3])+(Gi=un[Un+4]),zg=Ai-Gi,Es=Ba+kr,mc=Ba-kr,Gh=au+os,Js=au-os;un[Un]=Es+Gh,un[Un+4]=Es-Gh;var Ln=.707106781*(Js+mc);un[Un+2]=mc+Ln,un[Un+6]=mc-Ln;var vi=.382683433*((Es=zg+Ld)-(Js=Dr+fr)),Ha=.5411961*Es+vi,Zs=1.306562965*Js+vi,Pl=.707106781*(Gh=Ld+Dr),cl=fr+Pl,ni=fr-Pl;un[Un+5]=ni+Ha,un[Un+3]=ni-Ha,un[Un+1]=cl+Zs,un[Un+7]=cl-Zs,Un+=8}for(Un=0,Di=0;Di<8;++Di){var vc=(kn=un[Un])+(Qr=un[Un+56]),_c=kn-Qr,Ca=(Mn=un[Un+8])+(ar=un[Un+48]),yo=Mn-ar,Ss=(ai=un[Un+16])+(Xi=un[Un+40]),ul=ai-Xi,wa=(Ai=un[Un+24])+(Gi=un[Un+32]),yc=Ai-Gi,Ml=vc+wa,Ua=vc-wa,bc=Ca+Ss,Cc=Ca-Ss;un[Un]=Ml+bc,un[Un+32]=Ml-bc;var Ui=.707106781*(Cc+Ua);un[Un+16]=Ua+Ui,un[Un+48]=Ua-Ui;var Nl=.382683433*((Ml=yc+ul)-(Cc=yo+_c)),wc=.5411961*Ml+Nl,eo=1.306562965*Cc+Nl,dl=.707106781*(bc=ul+yo),Ec=_c+dl,Sc=_c-dl;un[Un+40]=Sc+wc,un[Un+24]=Sc-wc,un[Un+8]=Ec+eo,un[Un+56]=Ec-eo,Un++}for(Di=0;Di<64;++Di)z[Di]=(nr=un[Di]*vn[Di])>0?nr+.5|0:nr-.5|0;return z}(ie,we),pn=0;pn<64;++pn)ye[at[pn]]=dn[pn];var An=ye[0]-De;De=ye[0],0==An?Pt(Ge[0]):(Pt(Ge[se[$e=32767+An]]),Pt(ee[$e]));for(var hn=63;hn>0&&0==ye[hn];)hn--;if(0==hn)return Pt(Et),De;for(var hi,Dt=1;Dt<=hn;){for(var Ie=Dt;0==ye[Dt]&&Dt<=hn;)++Dt;var xi=Dt-Ie;if(xi>=16){hi=xi>>4;for(var jn=1;jn<=hi;++jn)Pt(Ct);xi&=15}Pt(Je[(xi<<4)+se[$e=32767+ye[Dt]]]),Pt(ee[$e]),Dt++}return 63!=hn&&Pt(Et),De}function En(ie){ie=Math.min(Math.max(ie,1),100),R!=ie&&(function(we){for(var De=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ge=0;Ge<64;Ge++){var Je=O((De[Ge]*we+50)/100);Je=Math.min(Math.max(Je,1),255),F[at[Ge]]=Je}for(var $e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Et=0;Et<64;Et++){var Ct=O(($e[Et]*we+50)/100);Ct=Math.min(Math.max(Ct,1),255),V[at[Et]]=Ct}for(var dn=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],pn=0,An=0;An<8;An++)for(var hn=0;hn<8;hn++)j[pn]=1/(F[at[pn]]*dn[An]*dn[hn]*8),J[pn]=1/(V[at[pn]]*dn[An]*dn[hn]*8),pn++}(ie<50?Math.floor(5e3/ie):Math.floor(200-2*ie)),R=ie)}this.encode=function(ie,we){var Mn,ai;we&&En(we),fe=new Array,Ce=0,ae=7,Vt(65496),Vt(65504),Vt(16),nt(74),nt(70),nt(73),nt(70),nt(0),nt(1),nt(1),nt(0),Vt(1),Vt(1),nt(0),nt(0),function(){Vt(65499),Vt(132),nt(0);for(var Mn=0;Mn<64;Mn++)nt(F[Mn]);nt(1);for(var ai=0;ai<64;ai++)nt(V[ai])}(),Mn=ie.width,ai=ie.height,Vt(65472),Vt(17),nt(8),Vt(ai),Vt(Mn),nt(3),nt(1),nt(17),nt(0),nt(2),nt(17),nt(1),nt(3),nt(17),nt(1),function(){Vt(65476),Vt(418),nt(0);for(var Mn=0;Mn<16;Mn++)nt(Pe[Mn+1]);for(var ai=0;ai<=11;ai++)nt(lt[ai]);nt(16);for(var Ai=0;Ai<16;Ai++)nt(kt[Ai+1]);for(var Gi=0;Gi<=161;Gi++)nt(ce[Gi]);nt(1);for(var Xi=0;Xi<16;Xi++)nt(he[Xi+1]);for(var ar=0;ar<=11;ar++)nt(Ve[ar]);nt(17);for(var Qr=0;Qr<16;Qr++)nt(_e[Qr+1]);for(var Di=0;Di<=161;Di++)nt(It[Di])}(),Vt(65498),Vt(12),nt(3),nt(1),nt(0),nt(2),nt(17),nt(3),nt(17),nt(0),nt(63),nt(0);var De=0,Ge=0,Je=0;Ce=0,ae=7,this.encode.displayName="_encode_";for(var $e,Et,Ct,dn,pn,An,hn,hi,Dt,Ie=ie.data,jn=ie.height,un=4*ie.width,vn=0;vn<jn;){for($e=0;$e<un;){for(pn=un*vn+$e,hn=-1,hi=0,Dt=0;Dt<64;Dt++)An=pn+(hi=Dt>>3)*un+(hn=4*(7&Dt)),vn+hi>=jn&&(An-=un*(vn+1+hi-jn)),$e+hn>=un&&(An-=$e+hn-un+4),Et=Ie[An++],Ct=Ie[An++],dn=Ie[An++],be[Dt]=(Ht[Et]+Ht[Ct+256|0]+Ht[dn+512|0]>>16)-128,ke[Dt]=(Ht[Et+768|0]+Ht[Ct+1024|0]+Ht[dn+1280|0]>>16)-128,Ee[Dt]=(Ht[Et+1280|0]+Ht[Ct+1536|0]+Ht[dn+1792|0]>>16)-128;De=jt(be,j,De,_,T),Ge=jt(ke,J,Ge,C,x),Je=jt(Ee,J,Je,C,x),$e+=32}vn+=8}if(ae>=0){var kn=[];kn[1]=ae+1,kn[0]=(1<<ae+1)-1,Pt(kn)}return Vt(65497),new Uint8Array(fe)},w=w||50,function(){for(var ie=String.fromCharCode,we=0;we<256;we++)qe[we]=ie(we)}(),_=wt(Pe,lt),C=wt(he,Ve),T=wt(kt,ce),x=wt(_e,It),function(){for(var ie=1,we=2,De=1;De<=15;De++){for(var Ge=ie;Ge<we;Ge++)se[32767+Ge]=De,ee[32767+Ge]=[],ee[32767+Ge][1]=De,ee[32767+Ge][0]=Ge;for(var Je=-(we-1);Je<=-ie;Je++)se[32767+Je]=De,ee[32767+Je]=[],ee[32767+Je][1]=De,ee[32767+Je][0]=we-1+Je;ie<<=1,we<<=1}}(),function(){for(var ie=0;ie<256;ie++)Ht[ie]=19595*ie,Ht[ie+256|0]=38470*ie,Ht[ie+512|0]=7471*ie+32768,Ht[ie+768|0]=-11059*ie,Ht[ie+1024|0]=-21709*ie,Ht[ie+1280|0]=32768*ie+8421375,Ht[ie+1536|0]=-27439*ie,Ht[ie+1792|0]=-5329*ie}(),En(w)}function ll(w,_){if(this.pos=0,this.buffer=w,this.datav=new DataView(w.buffer),this.is_with_alpha=!!_,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function zN(w){function _(Pe){if(!Pe)throw Error("assert :P")}function C(Pe,lt,kt){for(var ce=0;4>ce;ce++)if(Pe[lt+ce]!=kt.charCodeAt(ce))return!0;return!1}function T(Pe,lt,kt,ce,he){for(var Ve=0;Ve<he;Ve++)Pe[lt+Ve]=kt[ce+Ve]}function x(Pe,lt,kt,ce){for(var he=0;he<ce;he++)Pe[lt+he]=kt}function R(Pe){return new Int32Array(Pe)}function O(Pe,lt){for(var kt=[],ce=0;ce<Pe;ce++)kt.push(new lt);return kt}function F(Pe,lt){var kt=[];return function ce(he,Ve,_e){for(var It=_e[Ve],wt=0;wt<It&&(he.push(_e.length>Ve+1?[]:new lt),!(_e.length<Ve+1));wt++)ce(he[wt],Ve+1,_e)}(kt,0,Pe),kt}var V=function(){var Pe=this;function lt(b,A){for(var k=1<<A-1>>>0;b&k;)k>>>=1;return k?(b&k-1)+k:b}function kt(b,A,k,H,Z){_(!(H%k));do{b[A+(H-=k)]=Z}while(0<H)}function ce(b,A,k,H,Z){if(_(2328>=Z),512>=Z)var ne=R(512);else if(null==(ne=R(Z)))return 0;return function(re,oe,ue,ge,Ue,ft){var dt,Ze,Xt=oe,Nt=1<<ue,ze=R(16),Ye=R(16);for(_(0!=Ue),_(null!=ge),_(null!=re),_(0<ue),Ze=0;Ze<Ue;++Ze){if(15<ge[Ze])return 0;++ze[ge[Ze]]}if(ze[0]==Ue)return 0;for(Ye[1]=0,dt=1;15>dt;++dt){if(ze[dt]>1<<dt)return 0;Ye[dt+1]=Ye[dt]+ze[dt]}for(Ze=0;Ze<Ue;++Ze)dt=ge[Ze],0<ge[Ze]&&(ft[Ye[dt]++]=Ze);if(1==Ye[15])return(ge=new he).g=0,ge.value=ft[0],kt(re,Xt,1,Nt,ge),Nt;var Yt,en=-1,Qt=Nt-1,Bn=0,yn=1,Yn=1,Dn=1<<ue;for(Ze=0,dt=1,Ue=2;dt<=ue;++dt,Ue<<=1){if(yn+=Yn<<=1,0>(Yn-=ze[dt]))return 0;for(;0<ze[dt];--ze[dt])(ge=new he).g=dt,ge.value=ft[Ze++],kt(re,Xt+Bn,Ue,Dn,ge),Bn=lt(Bn,dt)}for(dt=ue+1,Ue=2;15>=dt;++dt,Ue<<=1){if(yn+=Yn<<=1,0>(Yn-=ze[dt]))return 0;for(;0<ze[dt];--ze[dt]){if(ge=new he,(Bn&Qt)!=en){for(Xt+=Dn,Yt=1<<(en=dt)-ue;15>en&&!(0>=(Yt-=ze[en]));)++en,Yt<<=1;Nt+=Dn=1<<(Yt=en-ue),re[oe+(en=Bn&Qt)].g=Yt+ue,re[oe+en].value=Xt-oe-en}ge.g=dt-ue,ge.value=ft[Ze++],kt(re,Xt+(Bn>>ue),Ue,Dn,ge),Bn=lt(Bn,dt)}}return yn!=2*Ye[15]-1?0:Nt}(b,A,k,H,Z,ne)}function he(){this.value=this.g=0}function Ve(){this.value=this.g=0}function _e(){this.G=O(5,he),this.H=R(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=O($r,Ve)}function It(b,A,k,H){_(null!=b),_(null!=A),_(2147483648>H),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=A,b.pa=k,b.Jd=A,b.Yc=k+H,b.Zc=4<=H?k+H-4+1:k,$e(b)}function wt(b,A){for(var k=0;0<A--;)k|=Ct(b,128)<<A;return k}function Pt(b,A){var k=wt(b,A);return Et(b)?-k:k}function nt(b,A,k,H){var Z,ne=0;for(_(null!=b),_(null!=A),_(4294967288>H),b.Sb=H,b.Ra=0,b.u=0,b.h=0,4<H&&(H=4),Z=0;Z<H;++Z)ne+=A[k+Z]<<8*Z;b.Ra=ne,b.bb=H,b.oa=A,b.pa=k}function Vt(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<pl-8>>>0,++b.bb,b.u-=8;De(b)&&(b.h=1,b.u=0)}function jt(b,A){if(_(0<=A),!b.h&&A<=pu){var k=we(b)&Wd[A];return b.u+=A,Vt(b),k}return b.h=1,b.u=0}function En(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ie(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function we(b){return b.Ra>>>(b.u&pl-1)>>>0}function De(b){return _(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>pl}function Ge(b,A){b.u=A,b.h=De(b)}function Je(b){b.u>=Gl&&(_(b.u>=Gl),Vt(b))}function $e(b){_(null!=b&&null!=b.oa),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(_(null!=b&&null!=b.oa),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function Et(b){return wt(b,1)}function Ct(b,A){var k=b.Ca;0>b.b&&$e(b);var H=b.b,Z=k*A>>>8,ne=(b.I>>>H>Z)+0;for(ne?(k-=Z,b.I-=Z+1<<H>>>0):k=Z+1,H=k,Z=0;256<=H;)Z+=8,H>>=8;return b.b-=H=7^Z+Ta[H],b.Ca=(k<<H)-1,ne}function dn(b,A,k){b[A+0]=k>>24&255,b[A+1]=k>>16&255,b[A+2]=k>>8&255,b[A+3]=255&k}function pn(b,A){return b[A+0]|b[A+1]<<8}function An(b,A){return pn(b,A)|b[A+2]<<16}function hn(b,A){return pn(b,A)|pn(b,A+2)<<16}function hi(b,A){var k=1<<A;return _(null!=b),_(0<A),b.X=R(k),null==b.X?0:(b.Mb=32-A,b.Xa=A,1)}function Dt(b,A){_(null!=b),_(null!=A),_(b.Xa==A.Xa),T(A.X,0,b.X,0,1<<A.Xa)}function Ie(){this.X=[],this.Xa=this.Mb=0}function xi(b,A,k,H){_(null!=k),_(null!=H);var Z=k[0],ne=H[0];return 0==Z&&(Z=(b*ne+A/2)/A),0==ne&&(ne=(A*Z+b/2)/b),0>=Z||0>=ne?0:(k[0]=Z,H[0]=ne,1)}function jn(b,A){return b+(1<<A)-1>>>A}function un(b,A){return((4278255360&b)+(4278255360&A)>>>0&4278255360)+((16711935&b)+(16711935&A)>>>0&16711935)>>>0}function vn(b,A){Pe[A]=function(k,H,Z,ne,re,oe,ue){var ge;for(ge=0;ge<re;++ge){var Ue=Pe[b](oe[ue+ge-1],Z,ne+ge);oe[ue+ge]=un(k[H+ge],Ue)}}}function kn(){this.ud=this.hd=this.jd=0}function Mn(b,A){return((4278124286&(b^A))>>>1)+(b&A)>>>0}function ai(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Ai(b,A){return ai(b+(b-A+.5>>1))}function Gi(b,A,k){return Math.abs(A-k)-Math.abs(b-k)}function Xi(b,A,k,H,Z,ne,re){for(H=ne[re-1],k=0;k<Z;++k)ne[re+k]=H=un(b[A+k],H)}function ar(b,A,k,H,Z){var ne;for(ne=0;ne<k;++ne){var re=b[A+ne],oe=re>>8&255,ue=16711935&(ue=(ue=16711935&re)+((oe<<16)+oe));H[Z+ne]=(4278255360&re)+ue>>>0}}function Qr(b,A){A.jd=255&b,A.hd=b>>8&255,A.ud=b>>16&255}function Di(b,A,k,H,Z,ne){var re;for(re=0;re<H;++re){var oe=A[k+re],ue=oe>>>8,ge=oe,Ue=255&(Ue=(Ue=oe>>>16)+((b.jd<<24>>24)*(ue<<24>>24)>>>5));ge=255&(ge=(ge+=(b.hd<<24>>24)*(ue<<24>>24)>>>5)+((b.ud<<24>>24)*(Ue<<24>>24)>>>5)),Z[ne+re]=(4278255360&oe)+(Ue<<16)+ge}}function nr(b,A,k,H,Z){Pe[A]=function(ne,re,oe,ue,ge,Ue,ft,dt,Ze){for(ue=ft;ue<dt;++ue)for(ft=0;ft<Ze;++ft)ge[Ue++]=Z(oe[H(ne[re++])])},Pe[b]=function(ne,re,oe,ue,ge,Ue,ft){var dt=8>>ne.b,Ze=ne.Ea,Xt=ne.K[0],Nt=ne.w;if(8>dt)for(ne=(1<<ne.b)-1,Nt=(1<<dt)-1;re<oe;++re){var ze,Ye=0;for(ze=0;ze<Ze;++ze)ze&ne||(Ye=H(ue[ge++])),Ue[ft++]=Z(Xt[Ye&Nt]),Ye>>=dt}else Pe["VP8LMapColor"+k](ue,ge,Xt,Nt,Ue,ft,re,oe,Ze)}}function Un(b,A,k,H,Z){for(k=A+k;A<k;){var ne=b[A++];H[Z++]=ne>>16&255,H[Z++]=ne>>8&255,H[Z++]=255&ne}}function Ba(b,A,k,H,Z){for(k=A+k;A<k;){var ne=b[A++];H[Z++]=ne>>16&255,H[Z++]=ne>>8&255,H[Z++]=255&ne,H[Z++]=ne>>24&255}}function fr(b,A,k,H,Z){for(k=A+k;A<k;){var ne=(re=b[A++])>>16&240|re>>12&15,re=240&re|re>>28&15;H[Z++]=ne,H[Z++]=re}}function au(b,A,k,H,Z){for(k=A+k;A<k;){var ne=(re=b[A++])>>16&248|re>>13&7,re=re>>5&224|re>>3&31;H[Z++]=ne,H[Z++]=re}}function Dr(b,A,k,H,Z){for(k=A+k;A<k;){var ne=b[A++];H[Z++]=255&ne,H[Z++]=ne>>8&255,H[Z++]=ne>>16&255}}function os(b,A,k,H,Z,ne){if(0==ne)for(k=A+k;A<k;)dn(H,((ne=b[A++])[0]>>24|ne[1]>>8&65280|ne[2]<<8&16711680|ne[3]<<24)>>>0),Z+=32;else T(H,Z,b,A,k)}function Ld(b,A){Pe[A][0]=Pe[b+"0"],Pe[A][1]=Pe[b+"1"],Pe[A][2]=Pe[b+"2"],Pe[A][3]=Pe[b+"3"],Pe[A][4]=Pe[b+"4"],Pe[A][5]=Pe[b+"5"],Pe[A][6]=Pe[b+"6"],Pe[A][7]=Pe[b+"7"],Pe[A][8]=Pe[b+"8"],Pe[A][9]=Pe[b+"9"],Pe[A][10]=Pe[b+"10"],Pe[A][11]=Pe[b+"11"],Pe[A][12]=Pe[b+"12"],Pe[A][13]=Pe[b+"13"],Pe[A][14]=Pe[b+"0"],Pe[A][15]=Pe[b+"0"]}function kr(b){return b==Wb||b==v_||b==Tp||b==vu}function zg(){this.eb=[],this.size=this.A=this.fb=0}function Es(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function mc(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new zg,this.f.kb=new Es,this.sd=null}function Gh(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Js(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ln(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function vi(b,A){var k=b.T,H=A.ba.f.RGBA,Z=H.eb,ne=H.fb+b.ka*H.A,re=Wl[A.ba.S],oe=b.y,ue=b.O,ge=b.f,Ue=b.N,ft=b.ea,dt=b.W,Ze=A.cc,Xt=A.dc,Nt=A.Mc,ze=A.Nc,Ye=b.ka,Yt=b.ka+b.T,en=b.U,Qt=en+1>>1;for(0==Ye?re(oe,ue,null,null,ge,Ue,ft,dt,ge,Ue,ft,dt,Z,ne,null,null,en):(re(A.ec,A.fc,oe,ue,Ze,Xt,Nt,ze,ge,Ue,ft,dt,Z,ne-H.A,Z,ne,en),++k);Ye+2<Yt;Ye+=2)re(oe,(ue+=2*b.fa)-b.fa,oe,ue,Ze=ge,Xt=Ue,Nt=ft,ze=dt,ge,Ue+=b.Rc,ft,dt+=b.Rc,Z,(ne+=2*H.A)-H.A,Z,ne,en);return ue+=b.fa,b.j+Yt<b.o?(T(A.ec,A.fc,oe,ue,en),T(A.cc,A.dc,ge,Ue,Qt),T(A.Mc,A.Nc,ft,dt,Qt),k--):1&Yt||re(oe,ue,null,null,ge,Ue,ft,dt,ge,Ue,ft,dt,Z,ne+H.A,null,null,en),k}function Ha(b,A,k){var H=b.F,Z=[b.J];if(null!=H){var ne=b.U,re=A.ba.S,oe=re==m_||re==Tp;A=A.ba.f.RGBA;var ue=[0],ge=b.ka;ue[0]=b.T,b.Kb&&(0==ge?--ue[0]:(--ge,Z[0]-=b.width),b.j+b.ka+b.T==b.o&&(ue[0]=b.o-b.j-ge));var Ue=A.eb;b=Zr(H,Z[0],b.width,ne,ue,Ue,(ge=A.fb+ge*A.A)+(oe?0:3),A.A),_(k==ue),b&&kr(re)&&vl(Ue,ge,oe,ne,ue,A.A)}return 0}function Zs(b){var A=b.ma,k=A.ba.S,H=11>k,Z=k==Ep||k==Wa||k==m_||k==nd||12==k||kr(k);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!Pc(A.Oa,b,Z?11:12))return 0;if(Z&&kr(k)&&nn(),b.da)alert("todo:use_scaling");else{if(H){if(A.Ib=Ln,b.Kb){if(A.memory=R(b.U+2*(k=b.U+1>>1)),null==A.memory)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+b.U,A.Mc=A.cc,A.Nc=A.dc+k,A.Ib=vi,nn()}}else alert("todo:EmitYUV");Z&&(A.Jb=Ha,H&&it())}if(H&&!b_){for(b=0;256>b;++b)YN[b]=89858*(b-128)+Jh>>Dp,qb[b]=-22014*(b-128)+Jh,$b[b]=-45773*(b-128),tf[b]=113618*(b-128)+Jh>>Dp;for(b=Zh;b<_l;++b)dD[b-Zh]=to(A=76283*(b-16)+Jh>>Dp,255),Kb[b-Zh]=to(A+8>>4,15);b_=1}return 1}function Pl(b){var A=b.ma,k=b.U,H=b.T;return _(!(1&b.ka)),0>=k||0>=H?0:(k=A.Ib(b,A),null!=A.Jb&&A.Jb(b,A,k),A.Dc+=k,1)}function cl(b){b.ma.memory=null}function ni(b,A,k,H){return 47!=jt(b,8)?0:(A[0]=jt(b,14)+1,k[0]=jt(b,14)+1,H[0]=jt(b,1),0!=jt(b,3)?0:!b.h)}function vc(b,A){if(4>b)return b+1;var k=b-2>>1;return(2+(1&b)<<k)+jt(A,k)+1}function _c(b,A){return 120<A?A-120:1<=(k=((k=Ip[A-1])>>4)*b+(8-(15&k)))?k:1;var k}function Ca(b,A,k){var H=we(k),Z=b[A+=255&H].g-8;return 0<Z&&(Ge(k,k.u+8),H=we(k),A+=b[A].value,A+=H&(1<<Z)-1),Ge(k,k.u+b[A].g),b[A].value}function yo(b,A,k){return k.g+=b.g,k.value+=b.value<<A>>>0,_(8>=k.g),b.g}function Ss(b,A,k){var H=b.xc;return _((A=0==H?0:b.vc[b.md*(k>>H)+(A>>H)])<b.Wb),b.Ya[A]}function ul(b,A,k,H){var Z=b.ab,ne=b.c*A,re=b.C;A=re+A;var oe=k,ue=H;for(H=b.Ta,k=b.Ua;0<Z--;){var ge=b.gc[Z],Ue=re,ft=A,dt=oe,Ze=ue,Xt=(ue=H,oe=k,ge.Ea);switch(_(Ue<ft),_(ft<=ge.nc),ge.hc){case 2:Ku(dt,Ze,(ft-Ue)*Xt,ue,oe);break;case 0:var Nt=Ue,ze=ft,Ye=ue,Yt=oe,en=(Dn=ge).Ea;0==Nt&&(nm(dt,Ze,null,null,1,Ye,Yt),Xi(dt,Ze+1,0,0,en-1,Ye,Yt+1),Ze+=en,Yt+=en,++Nt);for(var Qt=1<<Dn.b,Bn=Qt-1,yn=jn(en,Dn.b),Yn=Dn.K,Dn=Dn.w+(Nt>>Dn.b)*yn;Nt<ze;){var $i=Yn,Vr=Dn,lr=1;for(Mc(dt,Ze,Ye,Yt-en,1,Ye,Yt);lr<en;){var er=(lr&~Bn)+Qt;er>en&&(er=en),(0,Nc[$i[Vr++]>>8&15])(dt,Ze+ +lr,Ye,Yt+lr-en,er-lr,Ye,Yt+lr),lr=er}Ze+=en,Yt+=en,++Nt&Bn||(Dn+=yn)}ft!=ge.nc&&T(ue,oe-Xt,ue,oe+(ft-Ue-1)*Xt,Xt);break;case 1:for(Xt=dt,ze=Ze,en=(dt=ge.Ea)-(Yt=dt&~(Ye=(Ze=1<<ge.b)-1)),Nt=jn(dt,ge.b),Qt=ge.K,ge=ge.w+(Ue>>ge.b)*Nt;Ue<ft;){for(Bn=Qt,yn=ge,Yn=new kn,Dn=ze+Yt,$i=ze+dt;ze<Dn;)Qr(Bn[yn++],Yn),gl(Yn,Xt,ze,Ze,ue,oe),ze+=Ze,oe+=Ze;ze<$i&&(Qr(Bn[yn++],Yn),gl(Yn,Xt,ze,en,ue,oe),ze+=en,oe+=en),++Ue&Ye||(ge+=Nt)}break;case 3:if(dt==ue&&Ze==oe&&0<ge.b){for(ze=ue,dt=Xt=oe+(ft-Ue)*Xt-(Yt=(ft-Ue)*jn(ge.Ea,ge.b)),Ze=ue,Ye=oe,Nt=[],Yt=(en=Yt)-1;0<=Yt;--Yt)Nt[Yt]=Ze[Ye+Yt];for(Yt=en-1;0<=Yt;--Yt)ze[dt+Yt]=Nt[Yt];Sr(ge,Ue,ft,ue,Xt,ue,oe)}else Sr(ge,Ue,ft,dt,Ze,ue,oe)}oe=H,ue=k}ue!=k&&T(H,k,oe,ue,ne)}function wa(b,A){var k=b.V,H=b.Ba+b.c*b.C,Z=A-b.C;if(_(A<=b.l.o),_(16>=Z),0<Z){var ne=b.l,re=b.Ta,oe=b.Ua,ue=ne.width;if(ul(b,Z,k,H),Z=oe=[oe],_((k=b.C)<(H=A)),_(ne.v<ne.va),H>ne.o&&(H=ne.o),k<ne.j){var ge=ne.j-k;k=ne.j,Z[0]+=ge*ue}if(k>=H?k=0:(Z[0]+=4*ne.v,ne.ka=k-ne.j,ne.U=ne.va-ne.v,ne.T=H-k,k=1),k){if(oe=oe[0],11>(k=b.ca).S){var Ue=k.f.RGBA,ft=(H=k.S,Z=ne.U,ne=ne.T,ge=Ue.eb,Ue.A),dt=ne;for(Ue=Ue.fb+b.Ma*Ue.A;0<dt--;){var Ze=re,Xt=oe,Nt=Z,ze=ge,Ye=Ue;switch(H){case td:Pi(Ze,Xt,Nt,ze,Ye);break;case Ep:wo(Ze,Xt,Nt,ze,Ye);break;case Wb:wo(Ze,Xt,Nt,ze,Ye),vl(ze,Ye,0,Nt,1,0);break;case om:Bl(Ze,Xt,Nt,ze,Ye);break;case Wa:os(Ze,Xt,Nt,ze,Ye,1);break;case v_:os(Ze,Xt,Nt,ze,Ye,1),vl(ze,Ye,0,Nt,1,0);break;case m_:os(Ze,Xt,Nt,ze,Ye,0);break;case Tp:os(Ze,Xt,Nt,ze,Ye,0),vl(ze,Ye,1,Nt,1,0);break;case nd:Yu(Ze,Xt,Nt,ze,Ye);break;case vu:Yu(Ze,Xt,Nt,ze,Ye),_r(ze,Ye,Nt,1,0);break;case Sp:Xo(Ze,Xt,Nt,ze,Ye);break;default:_(0)}oe+=ue,Ue+=ft}b.Ma+=ne}else alert("todo:EmitRescaledRowsYUVA");_(b.Ma<=k.height)}}b.C=A,_(b.C<=b.i)}function yc(b){var A;if(0<b.ua)return 0;for(A=0;A<b.Wb;++A){var k=b.Ya[A].G,H=b.Ya[A].H;if(0<k[1][H[1]+0].g||0<k[2][H[2]+0].g||0<k[3][H[3]+0].g)return 0}return 1}function Ml(b,A,k,H,Z,ne){if(0!=b.Z){var re=b.qd,oe=b.rd;for(_(null!=qd[b.Z]);A<k;++A)qd[b.Z](re,oe,H,Z,H,Z,ne),re=H,oe=Z,Z+=ne;b.qd=re,b.rd=oe}}function Ua(b,A){var k=b.l.ma,H=0==k.Z||1==k.Z?b.l.j:b.C;if(H=b.C<H?H:b.C,_(A<=b.l.o),A>H){var Z=b.l.width,ne=k.ca,re=k.tb+Z*H,oe=b.V,ue=b.Ba+b.c*H,ge=b.gc;_(1==b.ab),_(3==ge[0].hc),wp(ge[0],H,A,oe,ue,ne,re),Ml(k,H,A,ne,re,Z)}b.C=b.Ma=A}function bc(b,A,k,H,Z,ne,re){var oe=b.$/H,ue=b.$%H,ge=b.m,Ue=b.s,ft=k+b.$,dt=ft;Z=k+H*Z;var Ze=k+H*ne,Xt=280+Ue.ua,Nt=b.Pb?oe:16777216,ze=0<Ue.ua?Ue.Wa:null,Ye=Ue.wc,Yt=ft<Ze?Ss(Ue,ue,oe):null;_(b.C<ne),_(Ze<=Z);var en=!1;e:for(;;){for(;en||ft<Ze;){var Qt=0;if(oe>=Nt){var Bn=ft-k;_((Nt=b).Pb),Nt.wd=Nt.m,Nt.xd=Bn,0<Nt.s.ua&&Dt(Nt.s.Wa,Nt.s.vb),Nt=oe+_u}if(ue&Ye||(Yt=Ss(Ue,ue,oe)),_(null!=Yt),Yt.Qb&&(A[ft]=Yt.qb,en=!0),!en)if(Je(ge),Yt.jc){Bn=A;var yn=ft,Yn=Yt.pd[we(Qt=ge)&$r-1];_(Yt.jc),256>Yn.g?(Ge(Qt,Qt.u+Yn.g),Bn[yn]=Yn.value,Qt=0):(Ge(Qt,Qt.u+Yn.g-256),_(256<=Yn.value),Qt=Yn.value),0==Qt&&(en=!0)}else Qt=Ca(Yt.G[0],Yt.H[0],ge);if(ge.h)break;if(en||256>Qt){if(!en)if(Yt.nd)A[ft]=(Yt.qb|Qt<<8)>>>0;else{if(Je(ge),en=Ca(Yt.G[1],Yt.H[1],ge),Je(ge),Bn=Ca(Yt.G[2],Yt.H[2],ge),yn=Ca(Yt.G[3],Yt.H[3],ge),ge.h)break;A[ft]=(yn<<24|en<<16|Qt<<8|Bn)>>>0}if(en=!1,++ft,++ue>=H&&(ue=0,++oe,null!=re&&oe<=ne&&!(oe%16)&&re(b,oe),null!=ze))for(;dt<ft;)Qt=A[dt++],ze.X[(506832829*Qt&4294967295)>>>ze.Mb]=Qt}else if(280>Qt){if(Qt=vc(Qt-256,ge),Bn=Ca(Yt.G[4],Yt.H[4],ge),Je(ge),Bn=_c(H,Bn=vc(Bn,ge)),ge.h)break;if(ft-k<Bn||Z-ft<Qt)break e;for(yn=0;yn<Qt;++yn)A[ft+yn]=A[ft+yn-Bn];for(ft+=Qt,ue+=Qt;ue>=H;)ue-=H,++oe,null!=re&&oe<=ne&&!(oe%16)&&re(b,oe);if(_(ft<=Z),ue&Ye&&(Yt=Ss(Ue,ue,oe)),null!=ze)for(;dt<ft;)Qt=A[dt++],ze.X[(506832829*Qt&4294967295)>>>ze.Mb]=Qt}else{if(!(Qt<Xt))break e;for(en=Qt-280,_(null!=ze);dt<ft;)Qt=A[dt++],ze.X[(506832829*Qt&4294967295)>>>ze.Mb]=Qt;Qt=ft,_(!(en>>>(Bn=ze).Xa)),A[Qt]=Bn.X[en],en=!0}en||_(ge.h==De(ge))}if(b.Pb&&ge.h&&ft<Z)_(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&Dt(b.s.vb,b.s.Wa);else{if(ge.h)break e;re?.(b,oe>ne?ne:oe),b.a=0,b.$=ft-k}return 1}return b.a=3,0}function Cc(b){_(null!=b),b.vc=null,b.yc=null,b.Ya=null;var A=b.Wa;null!=A&&(A.X=null),b.vb=null,_(null!=b)}function Ui(){var b=new Ud;return null==b?null:(b.a=0,b.xb=U0,Ld("Predictor","VP8LPredictors"),Ld("Predictor","VP8LPredictors_C"),Ld("PredictorAdd","VP8LPredictorsAdd"),Ld("PredictorAdd","VP8LPredictorsAdd_C"),Ku=ar,gl=Di,Pi=Un,wo=Ba,Yu=fr,Xo=au,Bl=Dr,Pe.VP8LMapColor32b=Cp,Pe.VP8LMapColor8b=Kh,b)}function Nl(b,A,k,H,Z){var ne=1,re=[b],oe=[A],ue=H.m,ge=H.s,Ue=null,ft=0;e:for(;;){if(k)for(;ne&&jt(ue,1);){var dt=re,Ze=oe,Xt=H,Nt=1,ze=Xt.m,Ye=Xt.gc[Xt.ab],Yt=jt(ze,2);if(Xt.Oc&1<<Yt)ne=0;else{switch(Xt.Oc|=1<<Yt,Ye.hc=Yt,Ye.Ea=dt[0],Ye.nc=Ze[0],Ye.K=[null],++Xt.ab,_(4>=Xt.ab),Yt){case 0:case 1:Ye.b=jt(ze,3)+2,Nt=Nl(jn(Ye.Ea,Ye.b),jn(Ye.nc,Ye.b),0,Xt,Ye.K),Ye.K=Ye.K[0];break;case 3:var en,Qt=jt(ze,8)+1,Bn=16<Qt?0:4<Qt?1:2<Qt?2:3;if(dt[0]=jn(Ye.Ea,Bn),Ye.b=Bn,en=Nt=Nl(Qt,1,0,Xt,Ye.K)){var yn,Yn=Qt,Dn=Ye,$i=1<<(8>>Dn.b),Vr=R($i);if(null==Vr)en=0;else{var lr=Dn.K[0],er=Dn.w;for(Vr[0]=Dn.K[0][0],yn=1;yn<1*Yn;++yn)Vr[yn]=un(lr[er+yn],Vr[yn-1]);for(;yn<4*$i;++yn)Vr[yn]=0;Dn.K[0]=null,Dn.K[0]=Vr,en=1}}Nt=en;break;case 2:break;default:_(0)}ne=Nt}}if(re=re[0],oe=oe[0],ne&&jt(ue,1)&&!(ne=1<=(ft=jt(ue,4))&&11>=ft)){H.a=3;break e}var Gr;if(Gr=ne)t:{var gr,Fi,so,Io=H,Br=re,Ia=oe,Tr=ft,Qo=k,da=Io.m,Jo=Io.s,ks=[null],Aa=1,Da=0,zl=ir[Tr];n:for(;;){if(Qo&&jt(da,1)){var Go=jt(da,3)+2,kc=jn(Br,Go),jl=jn(Ia,Go),za=kc*jl;if(!Nl(kc,jl,0,Io,ks))break n;for(ks=ks[0],Jo.xc=Go,gr=0;gr<za;++gr){var Lc=ks[gr]>>8&65535;ks[gr]=Lc,Lc>=Aa&&(Aa=Lc+1)}}if(da.h)break n;for(Fi=0;5>Fi;++Fi){var ms=L0[Fi];!Fi&&0<Tr&&(ms+=1<<Tr),Da<ms&&(Da=ms)}var w_=O(Aa*zl,he),Xb=Aa,fm=O(Xb,_e);if(null==fm)var Rp=null;else _(65536>=Xb),Rp=fm;var bu=R(Da);if(null==Rp||null==bu||null==w_){Io.a=1;break n}var E_=w_;for(gr=so=0;gr<Aa;++gr){var Vc=Rp[gr],xp=Vc.G,sd=Vc.H,Pp=0,nf=1,Yd=0;for(Fi=0;5>Fi;++Fi){ms=L0[Fi],xp[Fi]=E_,sd[Fi]=so,!Fi&&0<Tr&&(ms+=1<<Tr);r:{var S_,od=ms,T_=Io,pm=bu,Qb=E_,hD=so,gm=0,ha=T_.m,rf=jt(ha,1);if(x(pm,0,0,od),rf){var fD=jt(ha,1)+1,pD=jt(ha,1),j0=jt(ha,0==pD?1:8);pm[j0]=1,2==fD&&(pm[j0=jt(ha,8)]=1);var I_=1}else{var mm=R(19),$0=jt(ha,4)+4;if(19<$0){T_.a=3;var vm=0;break r}for(S_=0;S_<$0;++S_)mm[G0[S_]]=jt(ha,3);var Jb=void 0,_m=void 0,q0=T_,gD=mm,sf=od,Cu=pm,Xd=0,Qd=q0.m,Zb=8,eC=O(128,he);i:for(;ce(eC,0,7,gD,19);){if(jt(Qd,1)){var XN=2+2*jt(Qd,3);if((Jb=2+jt(Qd,XN))>sf)break i}else Jb=sf;for(_m=0;_m<sf&&Jb--;){Je(Qd);var mD=eC[0+(127&we(Qd))];Ge(Qd,Qd.u+mD.g);var Mp=mD.value;if(16>Mp)Cu[_m++]=Mp,0!=Mp&&(Zb=Mp);else{var tC=16==Mp,A_=Mp-16,QN=am[A_],nC=jt(Qd,__[A_])+QN;if(_m+nC>sf)break i;for(var iC=tC?Zb:0;0<nC--;)Cu[_m++]=iC}}Xd=1;break i}Xd||(q0.a=3),I_=Xd}(I_=I_&&!ha.h)&&(gm=ce(Qb,hD,8,pm,od)),I_&&0!=gm?vm=gm:(T_.a=3,vm=0)}if(0==vm)break n;if(nf&&1==V0[Fi]&&(nf=0==E_[so].g),Pp+=E_[so].g,so+=vm,3>=Fi){var ym,af=bu[0];for(ym=1;ym<ms;++ym)bu[ym]>af&&(af=bu[ym]);Yd+=af}}if(Vc.nd=nf,Vc.Qb=0,nf&&(Vc.qb=(xp[3][sd[3]+0].value<<24|xp[1][sd[1]+0].value<<16|xp[2][sd[2]+0].value)>>>0,0==Pp&&256>xp[0][sd[0]+0].value&&(Vc.Qb=1,Vc.qb+=xp[0][sd[0]+0].value<<8)),Vc.jc=!Vc.Qb&&6>Yd,Vc.jc){var lf,wu=Vc;for(lf=0;lf<$r;++lf){var Jd=lf,ad=wu.pd[Jd],Np=wu.G[0][wu.H[0]+Jd];256<=Np.value?(ad.g=Np.g+256,ad.value=Np.value):(ad.g=0,ad.value=0,Jd>>=yo(Np,8,ad),Jd>>=yo(wu.G[1][wu.H[1]+Jd],16,ad),Jd>>=yo(wu.G[2][wu.H[2]+Jd],0,ad),yo(wu.G[3][wu.H[3]+Jd],24,ad))}}}Jo.vc=ks,Jo.Wb=Aa,Jo.Ya=Rp,Jo.yc=w_,Gr=1;break t}Gr=0}if(!(ne=Gr)){H.a=3;break e}if(0<ft){if(ge.ua=1<<ft,!hi(ge.Wa,ft)){H.a=1,ne=0;break e}}else ge.ua=0;var bm=H,K0=re,rC=oe,cf=bm.s,D_=cf.xc;if(bm.c=K0,bm.i=rC,cf.md=jn(K0,D_),cf.wc=0==D_?-1:(1<<D_)-1,k){H.xb=H0;break e}if(null==(Ue=R(re*oe))){H.a=1,ne=0;break e}ne=(ne=bc(H,Ue,0,re,oe,oe,null))&&!ue.h;break e}return ne?(null!=Z?Z[0]=Ue:(_(null==Ue),_(k)),H.$=0,k||Cc(ge)):Cc(ge),ne}function wc(b,A){var k=b.c*b.i,H=k+A+16*A;return _(b.c<=A),b.V=R(H),null==b.V?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+k+A,1)}function eo(b,A){var k=b.C,H=A-k,Z=b.V,ne=b.Ba+b.c*k;for(_(A<=b.l.o);0<H;){var re=16<H?16:H,oe=b.l.ma,ue=b.l.width,ge=ue*re,Ue=oe.ca,ft=oe.tb+ue*k,dt=b.Ta,Ze=b.Ua;ul(b,re,Z,ne),Os(dt,Ze,Ue,ft,ge),Ml(oe,k,k+re,Ue,ft,ue),H-=re,Z+=re*b.c,k+=re}_(k==A),b.C=b.Ma=A}function dl(){this.ub=this.yd=this.td=this.Rb=0}function Ec(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Sc(){this.Fb=this.Bb=this.Cb=0,this.Zb=R(4),this.Lb=R(4)}function Ko(){var b;this.Yb=(function A(k,H,Z){for(var ne=Z[H],re=0;re<ne&&(k.push(Z.length>H+1?[]:0),!(Z.length<H+1));re++)A(k[re],H+1,Z)}(b=[],0,[3,11]),b)}function Bb(){this.jb=R(3),this.Wc=F([4,8],Ko),this.Xc=F([4,17],Ko)}function jg(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new R(4),this.od=new R(4)}function Vd(){this.ld=this.La=this.dd=this.tc=0}function hl(){this.Na=this.la=0}function l_(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function $g(){this.ad=R(384),this.Za=0,this.Ob=R(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function c_(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vd),this.Y=0,this.ya=Array(new $g),this.aa=0,this.l=new lu}function up(){this.y=R(16),this.f=R(8),this.ea=R(8)}function qg(){this.cb=this.a=0,this.sc="",this.m=new En,this.Od=new dl,this.Kc=new Ec,this.ed=new jg,this.Qa=new Sc,this.Ic=this.$c=this.Aa=0,this.D=new c_,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=O(8,En),this.ia=0,this.pb=O(4,l_),this.Pa=new Bb,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new up),this.Hd=0,this.rb=Array(new hl),this.sb=0,this.wa=Array(new Vd),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new $g),this.L=this.aa=0,this.gd=F([4,2],Vd),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function lu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function dp(){var b=new qg;return null!=b&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,Vo||(Vo=hp)),b}function fs(b,A,k){return 0==b.a&&(b.a=A,b.sc=k,b.cb=0),0}function zu(b,A,k){return 3<=k&&157==b[A+0]&&1==b[A+1]&&42==b[A+2]}function ci(b,A){if(null==b)return 0;if(b.a=0,b.sc="OK",null==A)return fs(b,2,"null VP8Io passed to VP8GetHeaders()");var k=A.data,H=A.w,Z=A.ha;if(4>Z)return fs(b,7,"Truncated header.");var ne=k[H+0]|k[H+1]<<8|k[H+2]<<16,re=b.Od;if(re.Rb=!(1&ne),re.td=ne>>1&7,re.yd=ne>>4&1,re.ub=ne>>5,3<re.td)return fs(b,3,"Incorrect keyframe parameters.");if(!re.yd)return fs(b,4,"Frame not displayable.");H+=3,Z-=3;var oe=b.Kc;if(re.Rb){if(7>Z)return fs(b,7,"cannot parse picture header");if(!zu(k,H,Z))return fs(b,3,"Bad code word");oe.c=16383&(k[H+4]<<8|k[H+3]),oe.Td=k[H+4]>>6,oe.i=16383&(k[H+6]<<8|k[H+5]),oe.Ud=k[H+6]>>6,H+=7,Z-=7,b.za=oe.c+15>>4,b.Ub=oe.i+15>>4,A.width=oe.c,A.height=oe.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,x((ne=b.Pa).jb,0,255,ne.jb.length),_(null!=(ne=b.Qa)),ne.Cb=0,ne.Bb=0,ne.Fb=1,x(ne.Zb,0,0,ne.Zb.length),x(ne.Lb,0,0,ne.Lb)}if(re.ub>Z)return fs(b,7,"bad partition length");It(ne=b.m,k,H,re.ub),H+=re.ub,Z-=re.ub,re.Rb&&(oe.Ld=Et(ne),oe.Kd=Et(ne)),oe=b.Qa;var ue,ge=b.Pa;if(_(null!=ne),_(null!=oe),oe.Cb=Et(ne),oe.Cb){if(oe.Bb=Et(ne),Et(ne)){for(oe.Fb=Et(ne),ue=0;4>ue;++ue)oe.Zb[ue]=Et(ne)?Pt(ne,7):0;for(ue=0;4>ue;++ue)oe.Lb[ue]=Et(ne)?Pt(ne,6):0}if(oe.Bb)for(ue=0;3>ue;++ue)ge.jb[ue]=Et(ne)?wt(ne,8):255}else oe.Bb=0;if(ne.Ka)return fs(b,3,"cannot parse segment header");if((oe=b.ed).zd=Et(ne),oe.Tb=wt(ne,6),oe.wb=wt(ne,3),oe.Pc=Et(ne),oe.Pc&&Et(ne)){for(ge=0;4>ge;++ge)Et(ne)&&(oe.vd[ge]=Pt(ne,6));for(ge=0;4>ge;++ge)Et(ne)&&(oe.od[ge]=Pt(ne,6))}if(b.L=0==oe.Tb?0:oe.zd?1:2,ne.Ka)return fs(b,3,"cannot parse filter header");var Ue=Z;if(Z=ue=H,H=ue+Ue,oe=Ue,b.Xb=(1<<wt(b.m,2))-1,Ue<3*(ge=b.Xb))k=7;else{for(ue+=3*ge,oe-=3*ge,Ue=0;Ue<ge;++Ue){var ft=k[Z+0]|k[Z+1]<<8|k[Z+2]<<16;ft>oe&&(ft=oe),It(b.Jc[+Ue],k,ue,ft),ue+=ft,oe-=ft,Z+=3}It(b.Jc[+ge],k,ue,oe),k=ue<H?0:5}if(0!=k)return fs(b,k,"cannot parse partitions");for(k=wt(ue=b.m,7),Z=Et(ue)?Pt(ue,4):0,H=Et(ue)?Pt(ue,4):0,oe=Et(ue)?Pt(ue,4):0,ge=Et(ue)?Pt(ue,4):0,ue=Et(ue)?Pt(ue,4):0,Ue=b.Qa,ft=0;4>ft;++ft){if(Ue.Cb){var dt=Ue.Zb[ft];Ue.Fb||(dt+=k)}else{if(0<ft){b.pb[ft]=b.pb[0];continue}dt=k}var Ze=b.pb[ft];Ze.Sc[0]=Lo[to(dt+Z,127)],Ze.Sc[1]=Fc[to(dt+0,127)],Ze.Eb[0]=2*Lo[to(dt+H,127)],Ze.Eb[1]=101581*Fc[to(dt+oe,127)]>>16,8>Ze.Eb[1]&&(Ze.Eb[1]=8),Ze.Qc[0]=Lo[to(dt+ge,117)],Ze.Qc[1]=Fc[to(dt+ue,127)],Ze.lc=dt+ue}if(!re.Rb)return fs(b,4,"Not a key frame.");for(Et(ne),re=b.Pa,k=0;4>k;++k){for(Z=0;8>Z;++Z)for(H=0;3>H;++H)for(oe=0;11>oe;++oe)ge=Ct(ne,cD[k][Z][H][oe])?wt(ne,8):cm[k][Z][H][oe],re.Wc[k][Z].Yb[H][oe]=ge;for(Z=0;17>Z;++Z)re.Xc[k][Z]=re.Wc[k][B0[Z]]}return b.kc=Et(ne),b.kc&&(b.Bd=wt(ne,8)),b.cb=1}function hp(b,A,k,H,Z,ne,re){var oe=A[Z].Yb[k];for(k=0;16>Z;++Z){if(!Ct(b,oe[k+0]))return Z;for(;!Ct(b,oe[k+1]);)if(oe=A[++Z].Yb[0],k=0,16==Z)return 16;var ue=A[Z+1].Yb;if(Ct(b,oe[k+2])){var ge=b,Ue=0;if(Ct(ge,(dt=oe)[(ft=k)+3]))if(Ct(ge,dt[ft+6])){for(oe=0,ft=2*(Ue=Ct(ge,dt[ft+8]))+(dt=Ct(ge,dt[ft+9+Ue])),Ue=0,dt=lm[ft];dt[oe];++oe)Ue+=Ue+Ct(ge,dt[oe]);Ue+=3+(8<<ft)}else Ct(ge,dt[ft+7])?(Ue=7+2*Ct(ge,165),Ue+=Ct(ge,145)):Ue=5+Ct(ge,159);else Ue=Ct(ge,dt[ft+4])?3+Ct(ge,dt[ft+5]):2;oe=ue[2]}else Ue=1,oe=ue[1];ue=re+Fs[Z],0>(ge=b).b&&$e(ge);var ft,dt=ge.b,Ze=(ft=ge.Ca>>1)-(ge.I>>dt)>>31;--ge.b,ge.Ca+=Ze,ge.Ca|=1,ge.I-=(ft+1&Ze)<<dt,ne[ue]=((Ue^Ze)-Ze)*H[(0<Z)+0]}return 16}function Kg(b){var A=b.rb[b.sb-1];A.la=0,A.Na=0,x(b.zc,0,0,b.zc.length),b.ja=0}function Ol(b,A,k,H,Z){b[A+k+32*H]=-256&(Z=b[A+k+32*H]+(Z>>3))?0>Z?0:255:Z}function Bh(b,A,k,H,Z,ne){Ol(b,A,0,k,H+Z),Ol(b,A,1,k,H+ne),Ol(b,A,2,k,H-ne),Ol(b,A,3,k,H-Z)}function Ea(b){return(20091*b>>16)+b}function Tc(b,A,k,H){var Z,ne=0,re=R(16);for(Z=0;4>Z;++Z){var oe=b[A+0]+b[A+8],ue=b[A+0]-b[A+8],ge=(35468*b[A+4]>>16)-Ea(b[A+12]),Ue=Ea(b[A+4])+(35468*b[A+12]>>16);re[ne+0]=oe+Ue,re[ne+1]=ue+ge,re[ne+2]=ue-ge,re[ne+3]=oe-Ue,ne+=4,A++}for(Z=ne=0;4>Z;++Z)oe=(b=re[ne+0]+4)+re[ne+8],ue=b-re[ne+8],ge=(35468*re[ne+4]>>16)-Ea(re[ne+12]),Ol(k,H,0,0,oe+(Ue=Ea(re[ne+4])+(35468*re[ne+12]>>16))),Ol(k,H,1,0,ue+ge),Ol(k,H,2,0,ue-ge),Ol(k,H,3,0,oe-Ue),ne++,H+=32}function Yg(b,A,k,H){var Z=b[A+0]+4,ne=35468*b[A+4]>>16,re=Ea(b[A+4]),oe=35468*b[A+1]>>16;Bh(k,H,0,Z+re,b=Ea(b[A+1]),oe),Bh(k,H,1,Z+ne,b,oe),Bh(k,H,2,Z-ne,b,oe),Bh(k,H,3,Z-re,b,oe)}function d_(b,A,k,H,Z){Tc(b,A,k,H),Z&&Tc(b,A+16,k,H+4)}function Xg(b,A,k,H){Oc(b,A+0,k,H,1),Oc(b,A+32,k,H+128,1)}function Hb(b,A,k,H){var Z;for(b=b[A+0]+4,Z=0;4>Z;++Z)for(A=0;4>A;++A)Ol(k,H,A,Z,b)}function bo(b,A,k,H){b[A+0]&&no(b,A+0,k,H),b[A+16]&&no(b,A+16,k,H+4),b[A+32]&&no(b,A+32,k,H+128),b[A+48]&&no(b,A+48,k,H+128+4)}function Bt(b,A,k,H){var Z,ne=R(16);for(Z=0;4>Z;++Z){var re=b[A+0+Z]+b[A+12+Z],oe=b[A+4+Z]+b[A+8+Z],ue=b[A+4+Z]-b[A+8+Z],ge=b[A+0+Z]-b[A+12+Z];ne[0+Z]=re+oe,ne[8+Z]=re-oe,ne[4+Z]=ge+ue,ne[12+Z]=ge-ue}for(Z=0;4>Z;++Z)re=(b=ne[0+4*Z]+3)+ne[3+4*Z],ue=ne[1+4*Z]-ne[2+4*Z],ge=b-ne[3+4*Z],k[H+0]=re+(oe=ne[1+4*Z]+ne[2+4*Z])>>3,k[H+16]=ge+ue>>3,k[H+32]=re-oe>>3,k[H+48]=ge-ue>>3,H+=64}function Bi(b,A,k){var H,Z=A-32,ne=So,re=255-b[Z-1];for(H=0;H<k;++H){var oe,ue=ne,ge=re+b[A-1];for(oe=0;oe<k;++oe)b[A+oe]=ue[ge+b[Z+oe]];A+=32}}function h_(b,A){Bi(b,A,4)}function f_(b,A){Bi(b,A,8)}function vr(b,A){Bi(b,A,16)}function cu(b,A){var k;for(k=0;16>k;++k)T(b,A+32*k,b,A-32,16)}function uu(b,A){var k;for(k=16;0<k;--k)x(b,A,b[A-1],16),A+=32}function ps(b,A,k){var H;for(H=0;16>H;++H)x(A,k+32*H,b,16)}function Or(b,A){var k,H=16;for(k=0;16>k;++k)H+=b[A-1+32*k]+b[A+k-32];ps(H>>5,b,A)}function Oi(b,A){var k,H=8;for(k=0;16>k;++k)H+=b[A-1+32*k];ps(H>>4,b,A)}function fp(b,A){var k,H=8;for(k=0;16>k;++k)H+=b[A+k-32];ps(H>>4,b,A)}function pp(b,A){ps(128,b,A)}function Si(b,A,k){return b+2*A+k+2>>2}function Yo(b,A){var k,H=A-32;for(H=new Uint8Array([Si(b[H-1],b[H+0],b[H+1]),Si(b[H+0],b[H+1],b[H+2]),Si(b[H+1],b[H+2],b[H+3]),Si(b[H+2],b[H+3],b[H+4])]),k=0;4>k;++k)T(b,A+32*k,H,0,H.length)}function Ic(b,A){var k=b[A-1],H=b[A-1+32],Z=b[A-1+64],ne=b[A-1+96];dn(b,A+0,16843009*Si(b[A-1-32],k,H)),dn(b,A+32,16843009*Si(k,H,Z)),dn(b,A+64,16843009*Si(H,Z,ne)),dn(b,A+96,16843009*Si(Z,ne,ne))}function Ac(b,A){var k,H=4;for(k=0;4>k;++k)H+=b[A+k-32]+b[A-1+32*k];for(H>>=3,k=0;4>k;++k)x(b,A+32*k,H,4)}function Sa(b,A){var k=b[A-1+0],H=b[A-1+32],Z=b[A-1+64],ne=b[A-1-32],re=b[A+0-32],oe=b[A+1-32],ue=b[A+2-32],ge=b[A+3-32];b[A+0+96]=Si(H,Z,b[A-1+96]),b[A+1+96]=b[A+0+64]=Si(k,H,Z),b[A+2+96]=b[A+1+64]=b[A+0+32]=Si(ne,k,H),b[A+3+96]=b[A+2+64]=b[A+1+32]=b[A+0+0]=Si(re,ne,k),b[A+3+64]=b[A+2+32]=b[A+1+0]=Si(oe,re,ne),b[A+3+32]=b[A+2+0]=Si(ue,oe,re),b[A+3+0]=Si(ge,ue,oe)}function Fl(b,A){var k=b[A+1-32],H=b[A+2-32],Z=b[A+3-32],ne=b[A+4-32],re=b[A+5-32],oe=b[A+6-32],ue=b[A+7-32];b[A+0+0]=Si(b[A+0-32],k,H),b[A+1+0]=b[A+0+32]=Si(k,H,Z),b[A+2+0]=b[A+1+32]=b[A+0+64]=Si(H,Z,ne),b[A+3+0]=b[A+2+32]=b[A+1+64]=b[A+0+96]=Si(Z,ne,re),b[A+3+32]=b[A+2+64]=b[A+1+96]=Si(ne,re,oe),b[A+3+64]=b[A+2+96]=Si(re,oe,ue),b[A+3+96]=Si(oe,ue,ue)}function gp(b,A){var k=b[A-1+0],H=b[A-1+32],Z=b[A-1+64],ne=b[A-1-32],re=b[A+0-32],oe=b[A+1-32],ue=b[A+2-32],ge=b[A+3-32];b[A+0+0]=b[A+1+64]=ne+re+1>>1,b[A+1+0]=b[A+2+64]=re+oe+1>>1,b[A+2+0]=b[A+3+64]=oe+ue+1>>1,b[A+3+0]=ue+ge+1>>1,b[A+0+96]=Si(Z,H,k),b[A+0+64]=Si(H,k,ne),b[A+0+32]=b[A+1+96]=Si(k,ne,re),b[A+1+32]=b[A+2+96]=Si(ne,re,oe),b[A+2+32]=b[A+3+96]=Si(re,oe,ue),b[A+3+32]=Si(oe,ue,ge)}function Jr(b,A){var k=b[A+0-32],H=b[A+1-32],Z=b[A+2-32],ne=b[A+3-32],re=b[A+4-32],oe=b[A+5-32],ue=b[A+6-32],ge=b[A+7-32];b[A+0+0]=k+H+1>>1,b[A+1+0]=b[A+0+64]=H+Z+1>>1,b[A+2+0]=b[A+1+64]=Z+ne+1>>1,b[A+3+0]=b[A+2+64]=ne+re+1>>1,b[A+0+32]=Si(k,H,Z),b[A+1+32]=b[A+0+96]=Si(H,Z,ne),b[A+2+32]=b[A+1+96]=Si(Z,ne,re),b[A+3+32]=b[A+2+96]=Si(ne,re,oe),b[A+3+64]=Si(re,oe,ue),b[A+3+96]=Si(oe,ue,ge)}function p_(b,A){var k=b[A-1+0],H=b[A-1+32],Z=b[A-1+64],ne=b[A-1+96];b[A+0+0]=k+H+1>>1,b[A+2+0]=b[A+0+32]=H+Z+1>>1,b[A+2+32]=b[A+0+64]=Z+ne+1>>1,b[A+1+0]=Si(k,H,Z),b[A+3+0]=b[A+1+32]=Si(H,Z,ne),b[A+3+32]=b[A+1+64]=Si(Z,ne,ne),b[A+3+64]=b[A+2+64]=b[A+0+96]=b[A+1+96]=b[A+2+96]=b[A+3+96]=ne}function Qg(b,A){var k=b[A-1+0],H=b[A-1+32],Z=b[A-1+64],ne=b[A-1+96],re=b[A-1-32],oe=b[A+0-32],ue=b[A+1-32],ge=b[A+2-32];b[A+0+0]=b[A+2+32]=k+re+1>>1,b[A+0+32]=b[A+2+64]=H+k+1>>1,b[A+0+64]=b[A+2+96]=Z+H+1>>1,b[A+0+96]=ne+Z+1>>1,b[A+3+0]=Si(oe,ue,ge),b[A+2+0]=Si(re,oe,ue),b[A+1+0]=b[A+3+32]=Si(k,re,oe),b[A+1+32]=b[A+3+64]=Si(H,k,re),b[A+1+64]=b[A+3+96]=Si(Z,H,k),b[A+1+96]=Si(ne,Z,H)}function mp(b,A){var k;for(k=0;8>k;++k)T(b,A+32*k,b,A-32,8)}function Dc(b,A){var k;for(k=0;8>k;++k)x(b,A,b[A-1],8),A+=32}function ju(b,A,k){var H;for(H=0;8>H;++H)x(A,k+32*H,b,8)}function On(b,A){var k,H=8;for(k=0;8>k;++k)H+=b[A+k-32]+b[A-1+32*k];ju(H>>4,b,A)}function Fo(b,A){var k,H=4;for(k=0;8>k;++k)H+=b[A+k-32];ju(H>>3,b,A)}function Gd(b,A){var k,H=4;for(k=0;8>k;++k)H+=b[A-1+32*k];ju(H>>3,b,A)}function du(b,A){ju(128,b,A)}function Hh(b,A,k){var H=b[A-k],Z=b[A+0],ne=3*(Z-H)+Ub[1020+b[A-2*k]-b[A+k]],re=sm[112+(ne+4>>3)];b[A-k]=So[255+H+sm[112+(ne+3>>3)]],b[A+0]=So[255+Z-re]}function Jg(b,A,k,H){return To[255+b[A-2*k]-b[A-k]]>H||To[255+b[A+k]-b[A+0]]>H}function Zg(b,A,k,H){return 4*To[255+b[A-k]-b[A+0]]+To[255+b[A-2*k]-b[A+k]]<=H}function em(b,A,k,H,Z){var ne=b[A-3*k],re=b[A-2*k],oe=b[A-k],ue=b[A+0],ge=b[A+k],Ue=b[A+2*k];return 4*To[255+oe-ue]+To[255+re-ge]>H?0:To[255+b[A-4*k]-ne]<=Z&&To[255+ne-re]<=Z&&To[255+re-oe]<=Z&&To[255+b[A+3*k]-Ue]<=Z&&To[255+Ue-ge]<=Z&&To[255+ge-ue]<=Z}function Uh(b,A,k,H){var Z=2*H+1;for(H=0;16>H;++H)Zg(b,A+H,k,Z)&&Hh(b,A+H,k)}function hu(b,A,k,H){var Z=2*H+1;for(H=0;16>H;++H)Zg(b,A+H*k,1,Z)&&Hh(b,A+H*k,1)}function Rr(b,A,k,H){var Z;for(Z=3;0<Z;--Z)Uh(b,A+=4*k,k,H)}function ei(b,A,k,H){var Z;for(Z=3;0<Z;--Z)hu(b,A+=4,k,H)}function pr(b,A,k,H,Z,ne,re,oe){for(ne=2*ne+1;0<Z--;){if(em(b,A,k,ne,re))if(Jg(b,A,k,oe))Hh(b,A,k);else{var ue=b,ge=A,Ue=k,ft=ue[ge-2*Ue],dt=ue[ge-Ue],Ze=ue[ge+0],Xt=ue[ge+Ue],Nt=ue[ge+2*Ue],ze=27*(Yt=Ub[1020+3*(Ze-dt)+Ub[1020+ft-Xt]])+63>>7,Ye=18*Yt+63>>7,Yt=9*Yt+63>>7;ue[ge-3*Ue]=So[255+ue[ge-3*Ue]+Yt],ue[ge-2*Ue]=So[255+ft+Ye],ue[ge-Ue]=So[255+dt+ze],ue[ge+0]=So[255+Ze-ze],ue[ge+Ue]=So[255+Xt-Ye],ue[ge+2*Ue]=So[255+Nt-Yt]}A+=H}}function kl(b,A,k,H,Z,ne,re,oe){for(ne=2*ne+1;0<Z--;){if(em(b,A,k,ne,re))if(Jg(b,A,k,oe))Hh(b,A,k);else{var ue=b,ge=A,Ue=k,ft=ue[ge-Ue],dt=ue[ge+0],Ze=ue[ge+Ue],Xt=sm[112+(4+(Nt=3*(dt-ft))>>3)],Nt=sm[112+(Nt+3>>3)],ze=Xt+1>>1;ue[ge-2*Ue]=So[255+ue[ge-2*Ue]+ze],ue[ge-Ue]=So[255+ft+Nt],ue[ge+0]=So[255+dt-Xt],ue[ge+Ue]=So[255+Ze-ze]}A+=H}}function Wh(b,A,k,H,Z,ne){pr(b,A,k,1,16,H,Z,ne)}function Bd(b,A,k,H,Z,ne){pr(b,A,1,k,16,H,Z,ne)}function Hd(b,A,k,H,Z,ne){var re;for(re=3;0<re;--re)kl(b,A+=4*k,k,1,16,H,Z,ne)}function zh(b,A,k,H,Z,ne){var re;for(re=3;0<re;--re)kl(b,A+=4,1,k,16,H,Z,ne)}function tm(b,A,k,H,Z,ne,re,oe){pr(b,A,Z,1,8,ne,re,oe),pr(k,H,Z,1,8,ne,re,oe)}function $u(b,A,k,H,Z,ne,re,oe){pr(b,A,1,Z,8,ne,re,oe),pr(k,H,1,Z,8,ne,re,oe)}function xr(b,A,k,H,Z,ne,re,oe){kl(b,A+4*Z,Z,1,8,ne,re,oe),kl(k,H+4*Z,Z,1,8,ne,re,oe)}function jh(b,A,k,H,Z,ne,re,oe){kl(b,A+4,1,Z,8,ne,re,oe),kl(k,H+4,1,Z,8,ne,re,oe)}function qu(){this.ba=new mc,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Js,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function fl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ll(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function vp(){this.ua=0,this.Wa=new Ie,this.vb=new Ie,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new _e,this.yc=new he}function Ud(){this.xb=this.a=0,this.l=new lu,this.ca=new mc,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ie,this.Pb=0,this.wd=new ie,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new vp,this.ab=0,this.gc=O(4,Ll),this.Oc=0}function Co(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new lu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function _p(b,A,k,H,Z,ne,re){for(b=null==b?0:b[A+0],A=0;A<re;++A)Z[ne+A]=b+k[H+A]&255,b=Z[ne+A]}function fu(b,A,k,H,Z,ne,re){var oe;if(null==b)_p(null,null,k,H,Z,ne,re);else for(oe=0;oe<re;++oe)Z[ne+oe]=b[A+oe]+k[H+oe]&255}function Pr(b,A,k,H,Z,ne,re){if(null==b)_p(null,null,k,H,Z,ne,re);else{var oe,ue=b[A+0],ge=ue,Ue=ue;for(oe=0;oe<re;++oe)ge=Ue+(ue=b[A+oe])-ge,Ue=k[H+oe]+(-256&ge?0>ge?0:255:ge)&255,ge=ue,Z[ne+oe]=Ue}}function $h(b,A,k,H){var Z=A.width,ne=A.o;if(_(null!=b&&null!=A),0>k||0>=H||k+H>ne)return null;if(!b.Cc){if(null==b.ga){var re;if(b.ga=new Co,(re=null==b.ga)||(re=A.width*A.o,_(0==b.Gb.length),b.Gb=R(re),b.Uc=0,null==b.Gb?re=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,re=1),re=!re),!re){var oe=b.Fa,ue=b.P,ge=b.qc,Ue=b.mb,ft=b.nb,dt=ue+1,Ze=ge-1,Xt=(re=b.ga).l;if(_(null!=oe&&null!=Ue&&null!=A),qd[0]=null,qd[1]=_p,qd[2]=fu,qd[3]=Pr,re.ca=Ue,re.tb=ft,re.c=A.width,re.i=A.height,_(0<re.c&&0<re.i),1>=ge)A=0;else if(re.$a=3&oe[ue+0],re.Z=oe[ue+0]>>2&3,re.Lc=oe[ue+0]>>4&3,ue=oe[ue+0]>>6&3,0>re.$a||1<re.$a||4<=re.Z||1<re.Lc||ue)A=0;else if(Xt.put=Pl,Xt.ac=Zs,Xt.bc=cl,Xt.ma=re,Xt.width=A.width,Xt.height=A.height,Xt.Da=A.Da,Xt.v=A.v,Xt.va=A.va,Xt.j=A.j,Xt.o=A.o,re.$a)e:{_(1==re.$a),A=Ui();t:for(;;){if(null==A){A=0;break e}if(_(null!=re),re.mc=A,A.c=re.c,A.i=re.i,A.l=re.l,A.l.ma=re,A.l.width=re.c,A.l.height=re.i,A.a=0,nt(A.m,oe,dt,Ze),!Nl(re.c,re.i,1,A,null)||(1==A.ab&&3==A.gc[0].hc&&yc(A.s)?(re.ic=1,oe=A.c*A.i,A.Ta=null,A.Ua=0,A.V=R(oe),A.Ba=0,null==A.V?(A.a=1,A=0):A=1):(re.ic=0,A=wc(A,re.c)),!A))break t;A=1;break e}re.mc=null,A=0}else A=Ze>=re.c*re.i;re=!A}if(re)return null;1!=b.ga.Lc?b.Ga=0:H=ne-k}_(null!=b.ga),_(k+H<=ne);e:{if(A=(oe=b.ga).c,ne=oe.l.o,0==oe.$a){if(dt=b.rc,Ze=b.Vc,Xt=b.Fa,ge=b.mb,Ue=b.nb+k*A,_((ue=b.P+1+k*A)<=b.P+b.qc),0!=oe.Z)for(_(null!=qd[oe.Z]),re=0;re<H;++re)qd[oe.Z](dt,Ze,Xt,ue,ge,Ue,A),dt=ge,Ze=Ue,Ue+=A,ue+=A;else for(re=0;re<H;++re)T(ge,Ue,Xt,ue,A),dt=ge,Ze=Ue,Ue+=A,ue+=A;b.rc=dt,b.Vc=Ze}else{if(_(null!=oe.mc),A=k+H,_(null!=(re=oe.mc)),_(A<=re.i),re.C>=A)A=1;else if(oe.ic||it(),oe.ic){oe=re.V,dt=re.Ba;var Nt=re.i,ze=(Xt=1,ue=re.$/(Ze=re.c),ge=re.$%Ze,Ue=re.m,ft=re.s,re.$),Ye=Ze*Nt,Yt=Ze*A,en=ft.wc,Qt=ze<Yt?Ss(ft,ge,ue):null;_(ze<=Ye),_(A<=Nt),_(yc(ft));t:for(;;){for(;!Ue.h&&ze<Yt;){if(ge&en||(Qt=Ss(ft,ge,ue)),_(null!=Qt),Je(Ue),256>(Nt=Ca(Qt.G[0],Qt.H[0],Ue)))oe[dt+ze]=Nt,++ze,++ge>=Ze&&(ge=0,++ue<=A&&!(ue%16)&&Ua(re,ue));else{if(!(280>Nt)){Xt=0;break t}Nt=vc(Nt-256,Ue);var Bn,yn=Ca(Qt.G[4],Qt.H[4],Ue);if(Je(Ue),!(ze>=(yn=_c(Ze,yn=vc(yn,Ue)))&&Ye-ze>=Nt)){Xt=0;break t}for(Bn=0;Bn<Nt;++Bn)oe[dt+ze+Bn]=oe[dt+ze+Bn-yn];for(ze+=Nt,ge+=Nt;ge>=Ze;)ge-=Ze,++ue<=A&&!(ue%16)&&Ua(re,ue);ze<Yt&&ge&en&&(Qt=Ss(ft,ge,ue))}_(Ue.h==De(Ue))}Ua(re,ue>A?A:ue);break t}!Xt||Ue.h&&ze<Ye?(Xt=0,re.a=Ue.h?5:3):re.$=ze,A=Xt}else A=bc(re,re.V,re.Ba,re.c,re.i,A,eo);if(!A){H=0;break e}}k+H>=ne&&(b.Cc=1),H=1}if(!H)return null;if(b.Cc&&(null!=(H=b.ga)&&(H.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+k*Z}function M(b,A,k,H,Z,ne){for(;0<Z--;){var re,oe=b,ue=A+(k?1:0),ge=b,Ue=A+(k?0:3);for(re=0;re<H;++re){var ft=ge[Ue+4*re];255!=ft&&(oe[ue+4*re+0]=oe[ue+4*re+0]*(ft*=32897)>>23,oe[ue+4*re+1]=oe[ue+4*re+1]*ft>>23,oe[ue+4*re+2]=oe[ue+4*re+2]*ft>>23)}A+=ne}}function q(b,A,k,H,Z){for(;0<H--;){var ne;for(ne=0;ne<k;++ne){var re=b[A+2*ne+0],oe=15&(ge=b[A+2*ne+1]),ue=4369*oe,ge=(240&ge|ge>>4)*ue>>16;b[A+2*ne+0]=(240&re|re>>4)*ue>>16&240|(15&re|re<<4)*ue>>16>>4&15,b[A+2*ne+1]=240&ge|oe}A+=Z}}function ve(b,A,k,H,Z,ne,re,oe){var ue,ge,Ue=255;for(ge=0;ge<Z;++ge){for(ue=0;ue<H;++ue){var ft=b[A+ue];ne[re+4*ue]=ft,Ue&=ft}A+=k,re+=oe}return 255!=Ue}function Me(b,A,k,H,Z){var ne;for(ne=0;ne<Z;++ne)k[H+ne]=b[A+ne]>>8}function it(){vl=M,_r=q,Zr=ve,Os=Me}function St(b,A,k){Pe[b]=function(H,Z,ne,re,oe,ue,ge,Ue,ft,dt,Ze,Xt,Nt,ze,Ye,Yt,en){var Qt,Bn=en-1>>1,yn=oe[ue+0]|ge[Ue+0]<<16,Yn=ft[dt+0]|Ze[Xt+0]<<16;_(null!=H);var Dn=3*yn+Yn+131074>>2;for(A(H[Z+0],255&Dn,Dn>>16,Nt,ze),null!=ne&&A(ne[re+0],255&(Dn=3*Yn+yn+131074>>2),Dn>>16,Ye,Yt),Qt=1;Qt<=Bn;++Qt){var $i=oe[ue+Qt]|ge[Ue+Qt]<<16,Vr=ft[dt+Qt]|Ze[Xt+Qt]<<16,lr=yn+$i+Yn+Vr+524296,er=lr+2*($i+Yn)>>3;Dn=er+yn>>1,yn=(lr=lr+2*(yn+Vr)>>3)+$i>>1,A(H[Z+2*Qt-1],255&Dn,Dn>>16,Nt,ze+(2*Qt-1)*k),A(H[Z+2*Qt-0],255&yn,yn>>16,Nt,ze+(2*Qt-0)*k),null!=ne&&(yn=er+Vr>>1,A(ne[re+2*Qt-1],255&(Dn=lr+Yn>>1),Dn>>16,Ye,Yt+(2*Qt-1)*k),A(ne[re+2*Qt+0],255&yn,yn>>16,Ye,Yt+(2*Qt+0)*k)),yn=$i,Yn=Vr}1&en||(A(H[Z+en-1],255&(Dn=3*yn+Yn+131074>>2),Dn>>16,Nt,ze+(en-1)*k),null!=ne&&A(ne[re+en-1],255&(Dn=3*Yn+yn+131074>>2),Dn>>16,Ye,Yt+(en-1)*k))}}function nn(){Wl[td]=W0,Wl[Ep]=um,Wl[om]=uD,Wl[Wa]=dm,Wl[m_]=y_,Wl[nd]=jb,Wl[Sp]=Ap,Wl[Wb]=um,Wl[v_]=dm,Wl[Tp]=y_,Wl[vu]=jb}function Nn(b){return b&~z0?0>b?0:255:b>>ef}function ri(b,A){return Nn((19077*b>>8)+(26149*A>>8)-14234)}function ui(b,A,k){return Nn((19077*b>>8)-(6419*A>>8)-(13320*k>>8)+8708)}function fi(b,A){return Nn((19077*b>>8)+(33050*A>>8)-17685)}function ii(b,A,k,H,Z){H[Z+0]=ri(b,k),H[Z+1]=ui(b,A,k),H[Z+2]=fi(b,A)}function Lr(b,A,k,H,Z){H[Z+0]=fi(b,A),H[Z+1]=ui(b,A,k),H[Z+2]=ri(b,k)}function gs(b,A,k,H,Z){var ne=ui(b,A,k);A=ne<<3&224|fi(b,A)>>3,H[Z+0]=248&ri(b,k)|ne>>5,H[Z+1]=A}function Ms(b,A,k,H,Z){var ne=240&fi(b,A)|15;H[Z+0]=240&ri(b,k)|ui(b,A,k)>>4,H[Z+1]=ne}function ko(b,A,k,H,Z){H[Z+0]=255,ii(b,A,k,H,Z+1)}function jr(b,A,k,H,Z){Lr(b,A,k,H,Z),H[Z+3]=255}function Rc(b,A,k,H,Z){ii(b,A,k,H,Z),H[Z+3]=255}function to(b,A){return 0>b?0:b>A?A:b}function Vl(b,A,k){Pe[b]=function(H,Z,ne,re,oe,ue,ge,Ue,ft){for(var dt=Ue+(-2&ft)*k;Ue!=dt;)A(H[Z+0],ne[re+0],oe[ue+0],ge,Ue),A(H[Z+1],ne[re+0],oe[ue+0],ge,Ue+k),Z+=2,++re,++ue,Ue+=2*k;1&ft&&A(H[Z+0],ne[re+0],oe[ue+0],ge,Ue)}}function Qi(b,A,k){return 0==k?0==b?0==A?6:5:0==A?4:0:k}function Ci(b,A,k,H,Z){switch(b>>>30){case 3:Oc(A,k,H,Z,0);break;case 2:Ns(A,k,H,Z);break;case 1:no(A,k,H,Z)}}function xc(b,A){var k,H,Z=A.M,ne=A.Nb,re=b.oc,oe=b.pc+40,ue=b.oc,ge=b.pc+584,Ue=b.oc,ft=b.pc+600;for(k=0;16>k;++k)re[oe+32*k-1]=129;for(k=0;8>k;++k)ue[ge+32*k-1]=129,Ue[ft+32*k-1]=129;for(0<Z?re[oe-1-32]=ue[ge-1-32]=Ue[ft-1-32]=129:(x(re,oe-32-1,127,21),x(ue,ge-32-1,127,9),x(Ue,ft-32-1,127,9)),H=0;H<b.za;++H){var dt=A.ya[A.aa+H];if(0<H){for(k=-1;16>k;++k)T(re,oe+32*k-4,re,oe+32*k+12,4);for(k=-1;8>k;++k)T(ue,ge+32*k-4,ue,ge+32*k+4,4),T(Ue,ft+32*k-4,Ue,ft+32*k+4,4)}var Ze=b.Gd,Xt=b.Hd+H,Nt=dt.ad,ze=dt.Hc;if(0<Z&&(T(re,oe-32,Ze[Xt].y,0,16),T(ue,ge-32,Ze[Xt].f,0,8),T(Ue,ft-32,Ze[Xt].ea,0,8)),dt.Za){var Ye=re,Yt=oe-32+16;for(0<Z&&(H>=b.za-1?x(Ye,Yt,Ze[Xt].y[15],4):T(Ye,Yt,Ze[Xt+1].y,0,4)),k=0;4>k;k++)Ye[Yt+128+k]=Ye[Yt+256+k]=Ye[Yt+384+k]=Ye[Yt+0+k];for(k=0;16>k;++k,ze<<=2)Ul[dt.Ob[k]](Ye=re,Yt=oe+C_[k]),Ci(ze,Nt,16*+k,Ye,Yt)}else if(Ye=Qi(H,Z,dt.Ob[0]),$d[Ye](re,oe),0!=ze)for(k=0;16>k;++k,ze<<=2)Ci(ze,Nt,16*+k,re,oe+C_[k]);for(k=dt.Gc,Ye=Qi(H,Z,dt.Dd),id[Ye](ue,ge),id[Ye](Ue,ft),ze=Nt,Ye=ue,Yt=ge,255&(dt=0|k)&&(170&dt?zd(ze,256,Ye,Yt):ml(ze,256,Ye,Yt)),dt=Ue,ze=ft,255&(k>>=8)&&(170&k?zd(Nt,320,dt,ze):ml(Nt,320,dt,ze)),Z<b.Ub-1&&(T(Ze[Xt].y,0,re,oe+480,16),T(Ze[Xt].f,0,ue,ge+224,8),T(Ze[Xt].ea,0,Ue,ft+224,8)),Ze=b.sa,Xt=b.ta+16*H+16*ne*b.R,Nt=b.qa,dt=b.ra+8*H+(k=8*ne*b.B),ze=b.Ha,Ye=b.Ia+8*H+k,k=0;16>k;++k)T(Ze,Xt+k*b.R,re,oe+32*k,16);for(k=0;8>k;++k)T(Nt,dt+k*b.B,ue,ge+32*k,8),T(ze,Ye+k*b.B,Ue,ft+32*k,8)}}function yp(b,A,k,H,Z,ne,re,oe,ue){var ge=[0],Ue=[0],ft=0,dt=null!=ue?ue.kd:0,Ze=ue??new fl;if(null==b||12>k)return 7;Ze.data=b,Ze.w=A,Ze.ha=k,A=[A],k=[k],Ze.gb=[Ze.gb];e:{var Xt=A,Nt=k,ze=Ze.gb;if(_(null!=b),_(null!=Nt),_(null!=ze),ze[0]=0,12<=Nt[0]&&!C(b,Xt[0],"RIFF")){if(C(b,Xt[0]+8,"WEBP")){ze=3;break e}var Ye=hn(b,Xt[0]+4);if(12>Ye||4294967286<Ye){ze=3;break e}if(dt&&Ye>Nt[0]-8){ze=7;break e}ze[0]=Ye,Xt[0]+=12,Nt[0]-=12}ze=0}if(0!=ze)return ze;for(Ye=0<Ze.gb[0],k=k[0];;){e:{var Yt=b;Nt=A,ze=k;var en=ge,Qt=Ue,Bn=Xt=[0];if((Dn=ft=[ft])[0]=0,8>ze[0])ze=7;else{if(!C(Yt,Nt[0],"VP8X")){if(10!=hn(Yt,Nt[0]+4)){ze=3;break e}if(18>ze[0]){ze=7;break e}var yn=hn(Yt,Nt[0]+8),Yn=1+An(Yt,Nt[0]+12);if(2147483648<=Yn*(Yt=1+An(Yt,Nt[0]+15))){ze=3;break e}null!=Bn&&(Bn[0]=yn),null!=en&&(en[0]=Yn),null!=Qt&&(Qt[0]=Yt),Nt[0]+=18,ze[0]-=18,Dn[0]=1}ze=0}}if(ft=ft[0],0!=ze)return ze;if(Nt=!!(2&(Xt=Xt[0])),!Ye&&ft)return 3;if(null!=ne&&(ne[0]=!!(16&Xt)),null!=re&&(re[0]=Nt),null!=oe&&(oe[0]=0),re=ge[0],Xt=Ue[0],ft&&Nt&&null==ue){ze=0;break}if(4>k){ze=7;break}if(Ye&&ft||!Ye&&!ft&&!C(b,A[0],"ALPH")){k=[k],Ze.na=[Ze.na],Ze.P=[Ze.P],Ze.Sa=[Ze.Sa];e:{ze=A,Ye=k;var Dn=Ze.gb;en=Ze.na,Qt=Ze.P,Bn=Ze.Sa,Yn=22,_(null!=(yn=b)),_(null!=Ye),Yt=ze[0];var $i=Ye[0];for(_(null!=en),_(null!=Bn),en[0]=null,Qt[0]=null,Bn[0]=0;;){if(ze[0]=Yt,Ye[0]=$i,8>$i){ze=7;break e}var Vr=hn(yn,Yt+4);if(4294967286<Vr){ze=3;break e}var lr=8+Vr+1&-2;if(Yn+=lr,0<Dn&&Yn>Dn){ze=3;break e}if(!C(yn,Yt,"VP8 ")||!C(yn,Yt,"VP8L")){ze=0;break e}if($i[0]<lr){ze=7;break e}C(yn,Yt,"ALPH")||(en[0]=yn,Qt[0]=Yt+8,Bn[0]=Vr),Yt+=lr,$i-=lr}}if(k=k[0],Ze.na=Ze.na[0],Ze.P=Ze.P[0],Ze.Sa=Ze.Sa[0],0!=ze)break}k=[k],Ze.Ja=[Ze.Ja],Ze.xa=[Ze.xa];e:if(Dn=b,ze=A,Ye=k,en=Ze.gb[0],Qt=Ze.Ja,Bn=Ze.xa,yn=ze[0],Yt=!C(Dn,yn,"VP8 "),Yn=!C(Dn,yn,"VP8L"),_(null!=Dn),_(null!=Ye),_(null!=Qt),_(null!=Bn),8>Ye[0])ze=7;else{if(Yt||Yn){if(Dn=hn(Dn,yn+4),12<=en&&Dn>en-12){ze=3;break e}if(dt&&Dn>Ye[0]-8){ze=7;break e}Qt[0]=Dn,ze[0]+=8,Ye[0]-=8,Bn[0]=Yn}else Bn[0]=5<=Ye[0]&&47==Dn[yn+0]&&!(Dn[yn+4]>>5),Qt[0]=Ye[0];ze=0}if(k=k[0],Ze.Ja=Ze.Ja[0],Ze.xa=Ze.xa[0],A=A[0],0!=ze)break;if(4294967286<Ze.Ja)return 3;if(null==oe||Nt||(oe[0]=Ze.xa?2:1),re=[re],Xt=[Xt],Ze.xa){if(5>k){ze=7;break}oe=re,dt=Xt,Nt=ne,null==b||5>k?b=0:5<=k&&47==b[A+0]&&!(b[A+4]>>5)?(Ye=[0],Dn=[0],en=[0],nt(Qt=new ie,b,A,k),ni(Qt,Ye,Dn,en)?(null!=oe&&(oe[0]=Ye[0]),null!=dt&&(dt[0]=Dn[0]),null!=Nt&&(Nt[0]=en[0]),b=1):b=0):b=0}else{if(10>k){ze=7;break}oe=Xt,null==b||10>k||!zu(b,A+3,k-3)?b=0:(dt=b[A+0]|b[A+1]<<8|b[A+2]<<16,Nt=16383&(b[A+7]<<8|b[A+6]),b=16383&(b[A+9]<<8|b[A+8]),1&dt||3<(dt>>1&7)||!(dt>>4&1)||dt>>5>=Ze.Ja||!Nt||!b?b=0:(re&&(re[0]=Nt),oe&&(oe[0]=b),b=1))}if(!b||(re=re[0],Xt=Xt[0],ft&&(ge[0]!=re||Ue[0]!=Xt)))return 3;null!=ue&&(ue[0]=Ze,ue.offset=A-ue.w,_(4294967286>A-ue.w),_(ue.offset==ue.ha-k));break}return 0==ze||7==ze&&ft&&null==ue?(null!=ne&&(ne[0]|=null!=Ze.na&&0<Ze.na.length),null!=H&&(H[0]=re),null!=Z&&(Z[0]=Xt),0):ze}function Pc(b,A,k){var H=A.width,Z=A.height,ne=0,re=0,oe=H,ue=Z;if(A.Da=null!=b&&0<b.Da,A.Da&&(oe=b.cd,ue=b.bd,ne=b.v,re=b.j,11>k||(ne&=-2,re&=-2),0>ne||0>re||0>=oe||0>=ue||ne+oe>H||re+ue>Z))return 0;if(A.v=ne,A.j=re,A.va=ne+oe,A.o=re+ue,A.U=oe,A.T=ue,A.da=null!=b&&0<b.da,A.da){if(!xi(oe,ue,k=[b.ib],ne=[b.hb]))return 0;A.ib=k[0],A.hb=ne[0]}return A.ob=null!=b&&b.ob,A.Kb=null==b||!b.Sd,A.da&&(A.ob=A.ib<3*H/4&&A.hb<3*Z/4,A.Kb=0),1}function bp(b){if(null==b)return 2;if(11>b.S){var A=b.f.RGBA;A.fb+=(b.height-1)*A.A,A.A=-A.A}else(A=b.f.kb).O+=((b=b.height)-1)*A.fa,A.fa=-A.fa,A.N+=(b-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(b-1>>1)*A.Db,A.Db=-A.Db,null!=A.F&&(A.J+=(b-1)*A.lb,A.lb=-A.lb);return 0}function qh(b,A,k,H){if(null==H||0>=b||0>=A)return 2;if(null!=k){if(k.Da){var Z=k.cd,ne=k.bd,re=-2&k.v,oe=-2&k.j;if(0>re||0>oe||0>=Z||0>=ne||re+Z>b||oe+ne>A)return 2;b=Z,A=ne}if(k.da){if(!xi(b,A,Z=[k.ib],ne=[k.hb]))return 2;b=Z[0],A=ne[0]}}H.width=b,H.height=A;e:{var ue=H.width,ge=H.height;if(b=H.S,0>=ue||0>=ge||!(b>=td&&13>b))b=2;else{if(0>=H.Rd&&null==H.sd){re=ne=Z=A=0;var Ue=(oe=ue*hm[b])*ge;if(11>b||(ne=(ge+1)/2*(A=(ue+1)/2),12==b&&(re=(Z=ue)*ge)),null==(ge=R(Ue+2*ne+re))){b=1;break e}H.sd=ge,11>b?((ue=H.f.RGBA).eb=ge,ue.fb=0,ue.A=oe,ue.size=Ue):((ue=H.f.kb).y=ge,ue.O=0,ue.fa=oe,ue.Fd=Ue,ue.f=ge,ue.N=0+Ue,ue.Ab=A,ue.Cd=ne,ue.ea=ge,ue.W=0+Ue+ne,ue.Db=A,ue.Ed=ne,12==b&&(ue.F=ge,ue.J=0+Ue+2*ne),ue.Tc=re,ue.lb=Z)}if(A=1,ne=H.width,re=H.height,(Z=H.S)>=td&&13>Z)if(11>Z)b=H.f.RGBA,A&=(oe=Math.abs(b.A))*(re-1)+ne<=b.size,A&=oe>=ne*hm[Z],A&=null!=b.eb;else{b=H.f.kb,oe=(ne+1)/2,Ue=(re+1)/2,ue=Math.abs(b.fa),ge=Math.abs(b.Ab);var ft=Math.abs(b.Db),dt=Math.abs(b.lb);A&=ue*(re-1)+ne<=b.Fd,A&=ge*(Ue-1)+oe<=b.Cd,A=(A&=ft*(Ue-1)+oe<=b.Ed)&ue>=ne&ge>=oe&ft>=oe,A&=null!=b.y,A&=null!=b.f,A&=null!=b.ea,12==Z&&(A&=dt>=ne,A&=dt*(re-1)+ne<=b.Tc,A&=null!=b.F)}else A=0;b=A?0:2}}return 0!=b||null!=k&&k.fd&&(b=bp(H)),b}var $r=64,Wd=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],pu=24,pl=32,Gl=8,Ta=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];vn("Predictor0","PredictorAdd0"),Pe.Predictor0=function(){return 4278190080},Pe.Predictor1=function(b){return b},Pe.Predictor2=function(b,A,k){return A[k+0]},Pe.Predictor3=function(b,A,k){return A[k+1]},Pe.Predictor4=function(b,A,k){return A[k-1]},Pe.Predictor5=function(b,A,k){return Mn(Mn(b,A[k+1]),A[k+0])},Pe.Predictor6=function(b,A,k){return Mn(b,A[k-1])},Pe.Predictor7=function(b,A,k){return Mn(b,A[k+0])},Pe.Predictor8=function(b,A,k){return Mn(A[k-1],A[k+0])},Pe.Predictor9=function(b,A,k){return Mn(A[k+0],A[k+1])},Pe.Predictor10=function(b,A,k){return Mn(Mn(b,A[k-1]),Mn(A[k+0],A[k+1]))},Pe.Predictor11=function(b,A,k){var H=A[k+0];return 0>=Gi(H>>24&255,b>>24&255,(A=A[k-1])>>24&255)+Gi(H>>16&255,b>>16&255,A>>16&255)+Gi(H>>8&255,b>>8&255,A>>8&255)+Gi(255&H,255&b,255&A)?H:b},Pe.Predictor12=function(b,A,k){var H=A[k+0];return(ai((b>>24&255)+(H>>24&255)-((A=A[k-1])>>24&255))<<24|ai((b>>16&255)+(H>>16&255)-(A>>16&255))<<16|ai((b>>8&255)+(H>>8&255)-(A>>8&255))<<8|ai((255&b)+(255&H)-(255&A)))>>>0},Pe.Predictor13=function(b,A,k){var H=A[k-1];return(Ai((b=Mn(b,A[k+0]))>>24&255,H>>24&255)<<24|Ai(b>>16&255,H>>16&255)<<16|Ai(b>>8&255,H>>8&255)<<8|Ai(255&b,255&H))>>>0};var nm=Pe.PredictorAdd0;Pe.PredictorAdd1=Xi,vn("Predictor2","PredictorAdd2"),vn("Predictor3","PredictorAdd3"),vn("Predictor4","PredictorAdd4"),vn("Predictor5","PredictorAdd5"),vn("Predictor6","PredictorAdd6"),vn("Predictor7","PredictorAdd7"),vn("Predictor8","PredictorAdd8"),vn("Predictor9","PredictorAdd9"),vn("Predictor10","PredictorAdd10"),vn("Predictor11","PredictorAdd11"),vn("Predictor12","PredictorAdd12"),vn("Predictor13","PredictorAdd13");var Mc=Pe.PredictorAdd2;nr("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),nr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var Ku,Sr=Pe.ColorIndexInverseTransform,Cp=Pe.MapARGB,wp=Pe.VP8LColorIndexInverseTransformAlpha,Kh=Pe.MapAlpha,Nc=Pe.VP8LPredictorsAdd=[];Nc.length=16,(Pe.VP8LPredictors=[]).length=16,(Pe.VP8LPredictorsAdd_C=[]).length=16,(Pe.VP8LPredictors_C=[]).length=16;var gl,Pi,wo,Yu,Xo,Bl,Hl,Oc,Ns,zd,no,ml,gu,g_,Yh,Xu,Qu,mu,Eo,im,jd,Ju,Xh,io,vl,_r,Zr,Os,ro=R(511),Zu=R(2041),rm=R(225),Qh=R(767),ed=0,Ub=Zu,sm=rm,So=Qh,To=ro,td=0,Ep=1,om=2,Wa=3,m_=4,nd=5,Sp=6,Wb=7,v_=8,Tp=9,vu=10,__=[2,3,7],am=[3,3,11],L0=[280,256,256,256,40],V0=[0,1,1,1,0],G0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ip=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ir=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],_u=8,Lo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Fc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Vo=null,lm=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Fs=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],yu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],cm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],zb=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],cD=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],B0=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],$d=[],Ul=[],id=[],H0=1,U0=2,qd=[],Wl=[];St("UpsampleRgbLinePair",ii,3),St("UpsampleBgrLinePair",Lr,3),St("UpsampleRgbaLinePair",Rc,4),St("UpsampleBgraLinePair",jr,4),St("UpsampleArgbLinePair",ko,4),St("UpsampleRgba4444LinePair",Ms,2),St("UpsampleRgb565LinePair",gs,2);var W0=Pe.UpsampleRgbLinePair,uD=Pe.UpsampleBgrLinePair,um=Pe.UpsampleRgbaLinePair,dm=Pe.UpsampleBgraLinePair,y_=Pe.UpsampleArgbLinePair,jb=Pe.UpsampleRgba4444LinePair,Ap=Pe.UpsampleRgb565LinePair,Dp=16,Jh=1<<Dp-1,Zh=-227,_l=482,ef=6,z0=(256<<ef)-1,b_=0,YN=R(256),tf=R(256),$b=R(256),qb=R(256),dD=R(_l-Zh),Kb=R(_l-Zh);Vl("YuvToRgbRow",ii,3),Vl("YuvToBgrRow",Lr,3),Vl("YuvToRgbaRow",Rc,4),Vl("YuvToBgraRow",jr,4),Vl("YuvToArgbRow",ko,4),Vl("YuvToRgba4444Row",Ms,2),Vl("YuvToRgb565Row",gs,2);var C_=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Kd=[0,2,8],Yb=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(b,A,k,H,Z){var ne=Ep,re=new qu,oe=new mc;re.ba=oe,oe.S=ne,oe.width=[oe.width],oe.height=[oe.height];var ue=oe.width,ge=oe.height,Ue=new Gh;if(null==Ue||null==b)var ft=2;else _(null!=Ue),ft=yp(b,A,k,Ue.width,Ue.height,Ue.Pd,Ue.Qd,Ue.format,null);if(0!=ft?ue=0:(null!=ue&&(ue[0]=Ue.width[0]),null!=ge&&(ge[0]=Ue.height[0]),ue=1),ue){oe.width=oe.width[0],oe.height=oe.height[0],null!=H&&(H[0]=oe.width),null!=Z&&(Z[0]=oe.height);e:{if(H=new lu,(Z=new fl).data=b,Z.w=A,Z.ha=k,Z.kd=1,A=[0],_(null!=Z),(0==(b=yp(Z.data,Z.w,Z.ha,null,null,null,A,null,Z))||7==b)&&A[0]&&(b=4),0==(A=b)){if(_(null!=re),H.data=Z.data,H.w=Z.w+Z.offset,H.ha=Z.ha-Z.offset,H.put=Pl,H.ac=Zs,H.bc=cl,H.ma=re,Z.xa){if(null==(b=Ui())){re=1;break e}if(function(dt,Ze){var Xt=[0],Nt=[0],ze=[0];t:for(;;){if(null==dt)return 0;if(null==Ze)return dt.a=2,0;if(dt.l=Ze,dt.a=0,nt(dt.m,Ze.data,Ze.w,Ze.ha),!ni(dt.m,Xt,Nt,ze)){dt.a=3;break t}if(dt.xb=U0,Ze.width=Xt[0],Ze.height=Nt[0],!Nl(Xt[0],Nt[0],1,dt,null))break t;return 1}return _(0!=dt.a),0}(b,H)){if(H=0==(A=qh(H.width,H.height,re.Oa,re.ba))){t:{H=b;n:for(;;){if(null==H){H=0;break t}if(_(null!=H.s.yc),_(null!=H.s.Ya),_(0<H.s.Wb),_(null!=(k=H.l)),_(null!=(Z=k.ma)),0!=H.xb){if(H.ca=Z.ba,H.tb=Z.tb,_(null!=H.ca),!Pc(Z.Oa,k,Wa)){H.a=2;break n}if(!wc(H,k.width)||k.da)break n;if((k.da||kr(H.ca.S))&&it(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=H.ca.f.kb.F&&it()),H.Pb&&0<H.s.ua&&null==H.s.vb.X&&!hi(H.s.vb,H.s.Wa.Xa)){H.a=1;break n}H.xb=0}if(!bc(H,H.V,H.Ba,H.c,H.i,k.o,wa))break n;Z.Dc=H.Ma,H=1;break t}_(0!=H.a),H=0}H=!H}H&&(A=b.a)}else A=b.a}else{if(null==(b=new dp)){re=1;break e}if(b.Fa=Z.na,b.P=Z.P,b.qc=Z.Sa,ci(b,H)){if(0==(A=qh(H.width,H.height,re.Oa,re.ba))){if(b.Aa=0,k=re.Oa,_(null!=(Z=b)),null!=k){if(0<(ue=0>(ue=k.Md)?0:100<ue?255:255*ue/100)){for(ge=Ue=0;4>ge;++ge)12>(ft=Z.pb[ge]).lc&&(ft.ia=ue*Yb[0>ft.lc?0:ft.lc]>>3),Ue|=ft.ia;Ue&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=k.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}(function u_(b,A){if(null==b)return 0;if(null==A)return fs(b,2,"NULL VP8Io parameter in VP8Decode().");if(!b.cb&&!ci(b,A))return 0;if(_(b.cb),null==A.ac||A.ac(A)){A.ob&&(b.L=0);var k=Kd[b.L];if(2==b.L?(b.yb=0,b.zb=0):(b.yb=A.v-k>>4,b.zb=A.j-k>>4,0>b.yb&&(b.yb=0),0>b.zb&&(b.zb=0)),b.Va=A.o+15+k>>4,b.Hb=A.va+15+k>>4,b.Hb>b.za&&(b.Hb=b.za),b.Va>b.Ub&&(b.Va=b.Ub),0<b.L){var H=b.ed;for(k=0;4>k;++k){var Z;if(b.Qa.Cb){var ne=b.Qa.Lb[k];b.Qa.Fb||(ne+=H.Tb)}else ne=H.Tb;for(Z=0;1>=Z;++Z){var re=b.gd[k][Z],oe=ne;if(H.Pc&&(oe+=H.vd[0],Z&&(oe+=H.od[0])),0<(oe=0>oe?0:63<oe?63:oe)){var ue=oe;0<H.wb&&(ue=4<H.wb?ue>>2:ue>>1)>9-H.wb&&(ue=9-H.wb),1>ue&&(ue=1),re.dd=ue,re.tc=2*oe+ue,re.ld=40<=oe?2:15<=oe?1:0}else re.tc=0;re.La=Z}}}k=0}else fs(b,6,"Frame setup failed"),k=b.a;if(k=0==k){if(k){b.$c=0,0<b.Aa||(b.Ic=1);e:{H=4*(ue=b.za);var ge=32*ue,Ue=ue+1,ft=0<b.L?ue*(0<b.Aa?2:1):0,dt=(2==b.Aa?2:1)*ue;if((re=H+832+(Z=3*(16*(k=b.Ic)+Kd[b.L])/2*ge)+(ne=null!=b.Fa&&0<b.Fa.length?b.Kc.c*b.Kc.i:0))!=re)k=0;else{if(re>b.Vb){if(b.Vb=0,b.Ec=R(re),b.Fc=0,null==b.Ec){k=fs(b,1,"no memory during frame initialization.");break e}b.Vb=re}oe=b.Fc,b.Ac=re=b.Ec,b.Bc=oe,oe+=H,b.Gd=O(ge,up),b.Hd=0,b.rb=O(Ue+1,hl),b.sb=1,b.wa=ft?O(ft,Vd):null,b.Y=0,b.D.Nb=0,b.D.wa=b.wa,b.D.Y=b.Y,0<b.Aa&&(b.D.Y+=ue),_(!0),b.oc=re,b.pc=oe,oe+=832,b.ya=O(dt,$g),b.aa=0,b.D.ya=b.ya,b.D.aa=b.aa,2==b.Aa&&(b.D.aa+=ue),b.R=16*ue,b.B=8*ue,ue=(ge=Kd[b.L])*b.R,ge=ge/2*b.B,b.sa=re,b.ta=oe+ue,b.qa=b.sa,b.ra=b.ta+16*k*b.R+ge,b.Ha=b.qa,b.Ia=b.ra+8*k*b.B+ge,b.$c=0,oe+=Z,b.mb=ne?re:null,b.nb=ne?oe:null,_(oe+ne<=b.Fc+b.Vb),Kg(b),x(b.Ac,b.Bc,0,H),k=1}}if(k){if(A.ka=0,A.y=b.sa,A.O=b.ta,A.f=b.qa,A.N=b.ra,A.ea=b.Ha,A.Vd=b.Ia,A.fa=b.R,A.Rc=b.B,A.F=null,A.J=0,!ed){for(k=-255;255>=k;++k)ro[255+k]=0>k?-k:k;for(k=-1020;1020>=k;++k)Zu[1020+k]=-128>k?-128:127<k?127:k;for(k=-112;112>=k;++k)rm[112+k]=-16>k?-16:15<k?15:k;for(k=-255;510>=k;++k)Qh[255+k]=0>k?0:255<k?255:k;ed=1}Hl=Bt,Oc=d_,zd=Xg,no=Hb,ml=bo,Ns=Yg,gu=Wh,g_=Bd,Yh=tm,Xu=$u,Qu=Hd,mu=zh,Eo=xr,im=jh,jd=Uh,Ju=hu,Xh=Rr,io=ei,Ul[0]=Ac,Ul[1]=h_,Ul[2]=Yo,Ul[3]=Ic,Ul[4]=Sa,Ul[5]=gp,Ul[6]=Fl,Ul[7]=Jr,Ul[8]=Qg,Ul[9]=p_,$d[0]=Or,$d[1]=vr,$d[2]=cu,$d[3]=uu,$d[4]=Oi,$d[5]=fp,$d[6]=pp,id[0]=On,id[1]=f_,id[2]=mp,id[3]=Dc,id[4]=Gd,id[5]=Fo,id[6]=du,k=1}else k=0}k&&(k=function(Ze,Xt){for(Ze.M=0;Ze.M<Ze.Va;++Ze.M){var Nt,ze=Ze.Jc[Ze.M&Ze.Xb],Ye=Ze.m,Yt=Ze;for(Nt=0;Nt<Yt.za;++Nt){var en=Ye,Qt=Yt,Bn=Qt.Ac,yn=Qt.Bc+4*Nt,Yn=Qt.zc,Dn=Qt.ya[Qt.aa+Nt];if(Dn.$b=Qt.Qa.Bb?Ct(en,Qt.Pa.jb[0])?2+Ct(en,Qt.Pa.jb[2]):Ct(en,Qt.Pa.jb[1]):0,Qt.kc&&(Dn.Ad=Ct(en,Qt.Bd)),Dn.Za=!Ct(en,145)+0,Dn.Za){var $i=Dn.Ob,Vr=0;for(Qt=0;4>Qt;++Qt){var lr,er=Yn[0+Qt];for(lr=0;4>lr;++lr){for(var Gr=yu[Ct(en,(er=zb[Bn[yn+lr]][er])[0])];0<Gr;)Gr=yu[2*Gr+Ct(en,er[Gr])];Bn[yn+lr]=er=-Gr}T($i,Vr,Bn,yn,4),Vr+=4,Yn[0+Qt]=er}}else er=Ct(en,156)?Ct(en,128)?1:3:Ct(en,163)?2:0,Dn.Ob[0]=er,x(Bn,yn,er,4),x(Yn,0,er,4);Dn.Dd=Ct(en,142)?Ct(en,114)?Ct(en,183)?1:3:2:0}if(Yt.m.Ka)return fs(Ze,7,"Premature end-of-partition0 encountered.");for(;Ze.ja<Ze.za;++Ze.ja){if(Yt=ze,en=(Ye=Ze).rb[Ye.sb-1],Bn=Ye.rb[Ye.sb+Ye.ja],Nt=Ye.ya[Ye.aa+Ye.ja],yn=Ye.kc?Nt.Ad:0)en.la=Bn.la=0,Nt.Za||(en.Na=Bn.Na=0),Nt.Hc=0,Nt.Gc=0,Nt.ia=0;else{var gr,Fi;if(en=Bn,Bn=Yt,yn=Ye.Pa.Xc,Dn=Ye.pb[(Yn=Ye.ya[Ye.aa+Ye.ja]).$b],Vr=Ye.rb[Ye.sb-1],er=lr=0,x(Qt=Yn.ad,$i=0,0,384),Yn.Za)var so=0,Io=yn[3];else{Gr=R(16);var Br=en.Na+Vr.Na;if(Br=Vo(Bn,yn[1],Br,Dn.Eb,0,Gr,0),en.Na=Vr.Na=(0<Br)+0,1<Br)Hl(Gr,0,Qt,$i);else{var Ia=Gr[0]+3>>3;for(Gr=0;256>Gr;Gr+=16)Qt[$i+Gr]=Ia}so=1,Io=yn[0]}var Tr=15&en.la,Qo=15&Vr.la;for(Gr=0;4>Gr;++Gr){var da=1&Qo;for(Ia=Fi=0;4>Ia;++Ia)Tr=Tr>>1|(da=(Br=Vo(Bn,Io,Br=da+(1&Tr),Dn.Sc,so,Qt,$i))>so)<<7,Fi=Fi<<2|(3<Br?3:1<Br?2:0!=Qt[$i+0]),$i+=16;Tr>>=4,Qo=Qo>>1|da<<7,lr=(lr<<8|Fi)>>>0}for(Io=Tr,so=Qo>>4,gr=0;4>gr;gr+=2){for(Fi=0,Tr=en.la>>4+gr,Qo=Vr.la>>4+gr,Gr=0;2>Gr;++Gr){for(da=1&Qo,Ia=0;2>Ia;++Ia)Tr=Tr>>1|(da=0<(Br=Vo(Bn,yn[2],Br=da+(1&Tr),Dn.Qc,0,Qt,$i)))<<3,Fi=Fi<<2|(3<Br?3:1<Br?2:0!=Qt[$i+0]),$i+=16;Tr>>=2,Qo=Qo>>1|da<<5}er|=Fi<<4*gr,Io|=Tr<<4<<gr,so|=(240&Qo)<<gr}en.la=Io,Vr.la=so,Yn.Hc=lr,Yn.Gc=er,Yn.ia=43690&er?0:Dn.ia,yn=!(lr|er)}if(0<Ye.L&&(Ye.wa[Ye.Y+Ye.ja]=Ye.gd[Nt.$b][Nt.Za],Ye.wa[Ye.Y+Ye.ja].La|=!yn),Yt.Ka)return fs(Ze,7,"Premature end-of-file encountered.")}if(Kg(Ze),Ye=Xt,Yt=1,Nt=(ze=Ze).D,en=0<ze.L&&ze.M>=ze.zb&&ze.M<=ze.Va,0==ze.Aa)e:{if(Nt.M=ze.M,Nt.uc=en,xc(ze,Nt),Yt=1,Nt=(Fi=ze.D).Nb,en=(er=Kd[ze.L])*ze.R,yn=ze.sa,Yn=ze.ta-en+(Gr=16*Nt*ze.R),Dn=ze.qa,Qt=ze.ra-(Bn=er/2*ze.B)+(Ia=8*Nt*ze.B),$i=ze.Ha,Vr=ze.Ia-Bn+Ia,Qo=0==(Tr=Fi.M),lr=Tr>=ze.Va-1,2==ze.Aa&&xc(ze,Fi),Fi.uc)for(da=(Br=ze).D.M,_(Br.D.uc),Fi=Br.yb;Fi<Br.Hb;++Fi){Io=da;var Jo=(ks=(ms=Br).D).Nb,ks=ks.wa[ks.Y+(so=Fi)],Aa=ms.sa,Da=ms.ta+16*Jo*(gr=ms.R)+16*so,zl=ks.dd,Go=ks.tc;if(0!=Go)if(_(3<=Go),1==ms.L)0<so&&Ju(Aa,Da,gr,Go+4),ks.La&&io(Aa,Da,gr,Go),0<Io&&jd(Aa,Da,gr,Go+4),ks.La&&Xh(Aa,Da,gr,Go);else{var kc=ms.B,jl=ms.qa,za=ms.ra+8*Jo*kc+8*so,Lc=ms.Ha,ms=ms.Ia+8*Jo*kc+8*so;Jo=ks.ld,0<so&&(g_(Aa,Da,gr,Go+4,zl,Jo),Xu(jl,za,Lc,ms,kc,Go+4,zl,Jo)),ks.La&&(mu(Aa,Da,gr,Go,zl,Jo),im(jl,za,Lc,ms,kc,Go,zl,Jo)),0<Io&&(gu(Aa,Da,gr,Go+4,zl,Jo),Yh(jl,za,Lc,ms,kc,Go+4,zl,Jo)),ks.La&&(Qu(Aa,Da,gr,Go,zl,Jo),Eo(jl,za,Lc,ms,kc,Go,zl,Jo))}}if(ze.ia&&alert("todo:DitherRow"),null!=Ye.put){if(Fi=16*Tr,Tr=16*(Tr+1),Qo?(Ye.y=ze.sa,Ye.O=ze.ta+Gr,Ye.f=ze.qa,Ye.N=ze.ra+Ia,Ye.ea=ze.Ha,Ye.W=ze.Ia+Ia):(Fi-=er,Ye.y=yn,Ye.O=Yn,Ye.f=Dn,Ye.N=Qt,Ye.ea=$i,Ye.W=Vr),lr||(Tr-=er),Tr>Ye.o&&(Tr=Ye.o),Ye.F=null,Ye.J=null,null!=ze.Fa&&0<ze.Fa.length&&Fi<Tr&&(Ye.J=$h(ze,Ye,Fi,Tr-Fi),Ye.F=ze.mb,null==Ye.F&&0==Ye.F.length)){Yt=fs(ze,3,"Could not decode alpha data.");break e}Fi<Ye.j&&(er=Ye.j-Fi,Fi=Ye.j,_(!(1&er)),Ye.O+=ze.R*er,Ye.N+=ze.B*(er>>1),Ye.W+=ze.B*(er>>1),null!=Ye.F&&(Ye.J+=Ye.width*er)),Fi<Tr&&(Ye.O+=Ye.v,Ye.N+=Ye.v>>1,Ye.W+=Ye.v>>1,null!=Ye.F&&(Ye.J+=Ye.v),Ye.ka=Fi-Ye.j,Ye.U=Ye.va-Ye.v,Ye.T=Tr-Fi,Yt=Ye.put(Ye))}Nt+1!=ze.Ic||lr||(T(ze.sa,ze.ta-en,yn,Yn+16*ze.R,en),T(ze.qa,ze.ra-Bn,Dn,Qt+8*ze.B,Bn),T(ze.Ha,ze.Ia-Bn,$i,Vr+8*ze.B,Bn))}if(!Yt)return fs(Ze,6,"Output aborted.")}return 1}(b,A)),null!=A.bc&&A.bc(A),k&=1}return k?(b.cb=0,k):0})(b,H)||(A=b.a)}}else A=b.a}0==A&&null!=re.Oa&&re.Oa.fd&&(A=bp(re.ba))}re=A}ne=0!=re?null:11>ne?oe.f.RGBA.eb:oe.f.kb.y}else ne=null;return ne};var hm=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function j(Pe,lt){for(var kt="",ce=0;ce<4;ce++)kt+=String.fromCharCode(Pe[lt++]);return kt}function J(Pe,lt){return(Pe[lt+0]|Pe[lt+1]<<8|Pe[lt+2]<<16)>>>0}function ee(Pe,lt){return(Pe[lt+0]|Pe[lt+1]<<8|Pe[lt+2]<<16|Pe[lt+3]<<24)>>>0}new V;var se=[0],z=[0],ye=[],fe=new V,Ce=w,ae=function(Pe,lt){var kt={},ce=0,he=!1,Ve=0,_e=0;if(kt.frames=[],!
/** @license
               * Copyright (c) 2017 Dominik Homberger
              Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
              The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
              THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
              https://webpjs.appspot.com
              WebPRiffParser dominikhlbg@gmail.com
              */
function(we,De,Ge,Je){for(var $e=0;$e<4;$e++)if(we[De+$e]!="RIFF".charCodeAt($e))return!0;return!1}(Pe,lt)){var It,wt;for(ee(Pe,lt+=4),lt+=8;lt<Pe.length;){var Pt=j(Pe,lt),nt=ee(Pe,lt+=4);lt+=4;var Vt=nt+(1&nt);switch(Pt){case"VP8 ":case"VP8L":void 0===kt.frames[ce]&&(kt.frames[ce]={}),(ie=kt.frames[ce]).src_off=he?_e:lt-8,ie.src_size=Ve+nt+8,ce++,he&&(he=!1,Ve=0,_e=0);break;case"VP8X":(ie=kt.header={}).feature_flags=Pe[lt];var jt=lt+4;ie.canvas_width=1+J(Pe,jt),ie.canvas_height=1+J(Pe,jt+=3),jt+=3;break;case"ALPH":he=!0,Ve=Vt+8,_e=lt-8;break;case"ANIM":(ie=kt.header).bgcolor=ee(Pe,lt),ie.loop_count=(It=Pe)[(wt=jt=lt+4)+0]|It[wt+1]<<8,jt+=2;break;case"ANMF":var En,ie;(ie=kt.frames[ce]={}).offset_x=2*J(Pe,lt),ie.offset_y=2*J(Pe,lt+=3),ie.width=1+J(Pe,lt+=3),ie.height=1+J(Pe,lt+=3),ie.duration=J(Pe,lt+=3),lt+=3,En=Pe[lt++],ie.dispose=1&En,ie.blend=En>>1&1}"ANMF"!=Pt&&(lt+=Vt)}return kt}}(Ce,0);ae.response=Ce,ae.rgbaoutput=!0,ae.dataurl=!1;var be=ae.header?ae.header:null,ke=ae.frames?ae.frames:null;if(be){be.loop_counter=be.loop_count,se=[be.canvas_height],z=[be.canvas_width];for(var Ee=0;Ee<ke.length&&0!=ke[Ee].blend;Ee++);}var qe=ke[0],Ht=fe.WebPDecodeRGBA(Ce,qe.src_off,qe.src_size,z,se);qe.rgba=Ht,qe.imgwidth=z[0],qe.imgheight=se[0];for(var at=0;at<z[0]*se[0]*4;at++)ye[at]=Ht[at];return this.width=z,this.height=se,this.data=ye,this}(function(w){var C=function(se,z,ye,fe){var Ce=4,ae=O;switch(fe){case w.image_compression.FAST:Ce=1,ae=R;break;case w.image_compression.MEDIUM:Ce=6,ae=F;break;case w.image_compression.SLOW:Ce=9,ae=V}var be=Yf(se=T(se,z,ye,ae),{level:Ce});return w.__addimage__.arrayBufferToBinaryString(be)},T=function(se,z,ye,fe){for(var Ce,ae,be,ke=se.length/z,Ee=new Uint8Array(se.length+ke),qe=J(),Ht=0;Ht<ke;Ht+=1){if(Ce=se.subarray(be=Ht*z,be+z),fe)Ee.set(fe(Ce,ye,ae),be+Ht);else{for(var at,Pe=qe.length,lt=[];at<Pe;at+=1)lt[at]=qe[at](Ce,ye,ae);var kt=ee(lt.concat());Ee.set(lt[kt],be+Ht)}ae=Ce}return Ee},x=function(se){var z=Array.apply([],se);return z.unshift(0),z},R=function(se,z){var fe=[],Ce=se.length;fe[0]=1;for(var ae=0;ae<Ce;ae+=1)fe[ae+1]=se[ae]-(se[ae-z]||0)+256&255;return fe},O=function(se,z,ye){var Ce=[],ae=se.length;Ce[0]=2;for(var be=0;be<ae;be+=1)Ce[be+1]=se[be]-(ye&&ye[be]||0)+256&255;return Ce},F=function(se,z,ye){var ae=[],be=se.length;ae[0]=3;for(var ke=0;ke<be;ke+=1)ae[ke+1]=se[ke]+256-((se[ke-z]||0)+(ye&&ye[ke]||0)>>>1)&255;return ae},V=function(se,z,ye){var be,ke=[],Ee=se.length;ke[0]=4;for(var qe=0;qe<Ee;qe+=1)be=j(se[qe-z]||0,ye&&ye[qe]||0,ye&&ye[qe-z]||0),ke[qe+1]=se[qe]-be+256&255;return ke},j=function(se,z,ye){if(se===z&&z===ye)return se;var fe=Math.abs(z-ye),Ce=Math.abs(se-ye),ae=Math.abs(se+z-ye-ye);return fe<=Ce&&fe<=ae?se:Ce<=ae?z:ye},J=function(){return[x,R,O,F,V]},ee=function(se){var z=se.map(function(ye){return ye.reduce(function(fe,Ce){return fe+Math.abs(Ce)},0)});return z.indexOf(Math.min.apply(null,z))};w.processPNG=function(se,z,ye,fe){var Ce,ae,be,ke,Ee,qe,Ht,at,Pe,lt,kt,ce,he,Ve,_e,It=this.decode.FLATE_DECODE,wt="";if(this.__addimage__.isArrayBuffer(se)&&(se=new Uint8Array(se)),this.__addimage__.isArrayBufferView(se)){if(se=(be=new r_(se)).imgData,ae=be.bits,Ce=be.colorSpace,Ee=be.colors,-1!==[4,6].indexOf(be.colorType)){if(8===be.bits){Pe=(at=32==be.pixelBitlength?new Uint32Array(be.decodePixels().buffer):16==be.pixelBitlength?new Uint16Array(be.decodePixels().buffer):new Uint8Array(be.decodePixels().buffer)).length,kt=new Uint8Array(Pe*be.colors),lt=new Uint8Array(Pe);var Pt,nt=be.pixelBitlength-be.bits;for(Ve=0,_e=0;Ve<Pe;Ve++){for(he=at[Ve],Pt=0;Pt<nt;)kt[_e++]=he>>>Pt&255,Pt+=be.bits;lt[Ve]=he>>>Pt&255}}if(16===be.bits){Pe=(at=new Uint32Array(be.decodePixels().buffer)).length,kt=new Uint8Array(Pe*(32/be.pixelBitlength)*be.colors),lt=new Uint8Array(Pe*(32/be.pixelBitlength)),ce=be.colors>1,Ve=0,_e=0;for(var Vt=0;Ve<Pe;)he=at[Ve++],kt[_e++]=he>>>0&255,ce&&(kt[_e++]=he>>>16&255,he=at[Ve++],kt[_e++]=he>>>0&255),lt[Vt++]=he>>>16&255;ae=8}fe!==w.image_compression.NONE?(se=C(kt,be.width*be.colors,be.colors,fe),Ht=C(lt,be.width,1,fe)):(se=kt,Ht=lt,It=void 0)}if(3===be.colorType&&(Ce=this.color_spaces.INDEXED,qe=be.palette,be.transparency.indexed)){var jt=be.transparency.indexed,En=0;for(Ve=0,Pe=jt.length;Ve<Pe;++Ve)En+=jt[Ve];if((En/=255)==Pe-1&&-1!==jt.indexOf(0))ke=[jt.indexOf(0)];else if(En!==Pe){for(at=be.decodePixels(),lt=new Uint8Array(at.length),Ve=0,Pe=at.length;Ve<Pe;Ve++)lt[Ve]=jt[at[Ve]];Ht=C(lt,be.width,1)}}var ie=function(we){var De;switch(we){case w.image_compression.FAST:De=11;break;case w.image_compression.MEDIUM:De=13;break;case w.image_compression.SLOW:De=14;break;default:De=12}return De}(fe);return It===this.decode.FLATE_DECODE&&(wt="/Predictor "+ie+" "),wt+="/Colors "+Ee+" /BitsPerComponent "+ae+" /Columns "+be.width,(this.__addimage__.isArrayBuffer(se)||this.__addimage__.isArrayBufferView(se))&&(se=this.__addimage__.arrayBufferToBinaryString(se)),(Ht&&this.__addimage__.isArrayBuffer(Ht)||this.__addimage__.isArrayBufferView(Ht))&&(Ht=this.__addimage__.arrayBufferToBinaryString(Ht)),{alias:ye,data:se,index:z,filter:It,decodeParameters:wt,transparency:ke,palette:qe,sMask:Ht,predictor:ie,width:be.width,height:be.height,bitsPerComponent:ae,colorSpace:Ce}}}})(ti.API),function(w){w.processGIF89A=function(_,C,T,x){var R=new Vb(_),O=R.width,F=R.height,V=[];R.decodeAndBlitFrameRGBA(0,V);var j={data:V,width:O,height:F},J=new s_(100).encode(j,100);return w.processJPEG.call(this,J,C,T,x)},w.processGIF87A=w.processGIF89A}(ti.API),ll.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var w=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(w);for(var _=0;_<w;_++){var C=this.datav.getUint8(this.pos++,!0),T=this.datav.getUint8(this.pos++,!0),x=this.datav.getUint8(this.pos++,!0),R=this.datav.getUint8(this.pos++,!0);this.palette[_]={red:x,green:T,blue:C,quad:R}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ll.prototype.parseBGR=function(){this.pos=this.offset;try{var w="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[w]()}catch(C){Xr.log("bit decode error:"+C)}},ll.prototype.bit1=function(){var w,_=Math.ceil(this.width/8),C=_%4;for(w=this.height-1;w>=0;w--){for(var T=this.bottom_up?w:this.height-1-w,x=0;x<_;x++)for(var R=this.datav.getUint8(this.pos++,!0),O=T*this.width*4+8*x*4,F=0;F<8&&8*x+F<this.width;F++){var V=this.palette[R>>7-F&1];this.data[O+4*F]=V.blue,this.data[O+4*F+1]=V.green,this.data[O+4*F+2]=V.red,this.data[O+4*F+3]=255}0!==C&&(this.pos+=4-C)}},ll.prototype.bit4=function(){for(var w=Math.ceil(this.width/2),_=w%4,C=this.height-1;C>=0;C--){for(var T=this.bottom_up?C:this.height-1-C,x=0;x<w;x++){var R=this.datav.getUint8(this.pos++,!0),O=T*this.width*4+2*x*4,V=15&R,j=this.palette[R>>4];if(this.data[O]=j.blue,this.data[O+1]=j.green,this.data[O+2]=j.red,this.data[O+3]=255,2*x+1>=this.width)break;this.data[O+4]=(j=this.palette[V]).blue,this.data[O+4+1]=j.green,this.data[O+4+2]=j.red,this.data[O+4+3]=255}0!==_&&(this.pos+=4-_)}},ll.prototype.bit8=function(){for(var w=this.width%4,_=this.height-1;_>=0;_--){for(var C=this.bottom_up?_:this.height-1-_,T=0;T<this.width;T++){var x=this.datav.getUint8(this.pos++,!0),R=C*this.width*4+4*T;if(x<this.palette.length){var O=this.palette[x];this.data[R]=O.red,this.data[R+1]=O.green,this.data[R+2]=O.blue,this.data[R+3]=255}else this.data[R]=255,this.data[R+1]=255,this.data[R+2]=255,this.data[R+3]=255}0!==w&&(this.pos+=4-w)}},ll.prototype.bit15=function(){for(var w=this.width%3,_=parseInt("11111",2),C=this.height-1;C>=0;C--){for(var T=this.bottom_up?C:this.height-1-C,x=0;x<this.width;x++){var R=this.datav.getUint16(this.pos,!0);this.pos+=2;var O=(R&_)/_*255|0,F=(R>>5&_)/_*255|0,j=R>>15?255:0,J=T*this.width*4+4*x;this.data[J]=(R>>10&_)/_*255|0,this.data[J+1]=F,this.data[J+2]=O,this.data[J+3]=j}this.pos+=w}},ll.prototype.bit16=function(){for(var w=this.width%3,_=parseInt("11111",2),C=parseInt("111111",2),T=this.height-1;T>=0;T--){for(var x=this.bottom_up?T:this.height-1-T,R=0;R<this.width;R++){var O=this.datav.getUint16(this.pos,!0);this.pos+=2;var F=(O&_)/_*255|0,V=(O>>5&C)/C*255|0,J=x*this.width*4+4*R;this.data[J]=(O>>11)/_*255|0,this.data[J+1]=V,this.data[J+2]=F,this.data[J+3]=255}this.pos+=w}},ll.prototype.bit24=function(){for(var w=this.height-1;w>=0;w--){for(var _=this.bottom_up?w:this.height-1-w,C=0;C<this.width;C++){var T=this.datav.getUint8(this.pos++,!0),x=this.datav.getUint8(this.pos++,!0),R=this.datav.getUint8(this.pos++,!0),O=_*this.width*4+4*C;this.data[O]=R,this.data[O+1]=x,this.data[O+2]=T,this.data[O+3]=255}this.pos+=this.width%4}},ll.prototype.bit32=function(){for(var w=this.height-1;w>=0;w--)for(var _=this.bottom_up?w:this.height-1-w,C=0;C<this.width;C++){var T=this.datav.getUint8(this.pos++,!0),x=this.datav.getUint8(this.pos++,!0),R=this.datav.getUint8(this.pos++,!0),O=this.datav.getUint8(this.pos++,!0),F=_*this.width*4+4*C;this.data[F]=R,this.data[F+1]=x,this.data[F+2]=T,this.data[F+3]=O}},ll.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2018 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(w){w.processBMP=function(_,C,T,x){var R=new ll(_,!1),O=R.width,F=R.height,V={data:R.getData(),width:O,height:F},j=new s_(100).encode(V,100);return w.processJPEG.call(this,j,C,T,x)}}(ti.API),zN.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2019 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(w){w.processWEBP=function(_,C,T,x){var R=new zN(_,!1),O=R.width,F=R.height,V={data:R.getData(),width:O,height:F},j=new s_(100).encode(V,100);return w.processJPEG.call(this,j,C,T,x)}}(ti.API),ti.API.processRGBA=function(w,_,C){for(var T=w.data,x=T.length,R=new Uint8Array(x/4*3),O=new Uint8Array(x/4),F=0,V=0,j=0;j<x;j+=4){var ee=T[j+1],se=T[j+2],z=T[j+3];R[F++]=T[j],R[F++]=ee,R[F++]=se,O[V++]=z}var ye=this.__addimage__.arrayBufferToBinaryString(R);return{alpha:this.__addimage__.arrayBufferToBinaryString(O),data:ye,index:_,alias:C,colorSpace:"DeviceRGB",bitsPerComponent:8,width:w.width,height:w.height}},ti.API.setLanguage=function(w){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[w]&&(this.internal.languageSettings.languageCode=w,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},lp=(ap=ti.API).getCharWidthsArray=function(w,_){var C,T,x=(_=_||{}).font||this.internal.getFont(),R=_.fontSize||this.internal.getFontSize(),O=_.charSpace||this.internal.getCharSpace(),F=_.widths?_.widths:x.metadata.Unicode.widths,V=F.fof?F.fof:1,j=_.kerning?_.kerning:x.metadata.Unicode.kerning,J=j.fof?j.fof:1,ee=!1!==_.doKerning,se=0,z=w.length,ye=0,fe=F[0]||V,Ce=[];for(C=0;C<z;C++)T=w.charCodeAt(C),"function"==typeof x.metadata.widthOfString?Ce.push((x.metadata.widthOfGlyph(x.metadata.characterToGlyph(T))+O*(1e3/R)||0)/1e3):(se=ee&&"object"===(0,d.A)(j[T])&&!isNaN(parseInt(j[T][ye],10))?j[T][ye]/J:0,Ce.push((F[T]||fe)/V+se)),ye=T;return Ce},cp=ap.getStringUnitWidth=function(w,_){var C=(_=_||{}).fontSize||this.internal.getFontSize(),T=_.font||this.internal.getFont(),x=_.charSpace||this.internal.getCharSpace();return ap.processArabic&&(w=ap.processArabic(w)),"function"==typeof T.metadata.widthOfString?T.metadata.widthOfString(w,C,x)/C:lp.apply(this,arguments).reduce(function(R,O){return R+O},0)},iD=function(w,_,C,T){for(var x=[],R=0,O=w.length,F=0;R!==O&&F+_[R]<C;)F+=_[R],R++;x.push(w.slice(0,R));var V=R;for(F=0;R!==O;)F+_[R]>T&&(x.push(w.slice(V,R)),F=0,V=R),F+=_[R],R++;return V!==R&&x.push(w.slice(V,R)),x},rD=function(w,_,C){C||(C={});var T,x,R,O,F,V,J=[],ee=[J],se=C.textIndent||0,z=0,ye=0,fe=w.split(" "),Ce=lp.apply(this,[" ",C])[0];if(V=-1===C.lineIndent?fe[0].length+2:C.lineIndent||0){var ae=Array(V).join(" "),be=[];fe.map(function(Ee){(Ee=Ee.split(/\s*\n/)).length>1?be=be.concat(Ee.map(function(qe,Ht){return(Ht&&qe.length?"\n":"")+qe})):be.push(Ee[0])}),fe=be,V=cp.apply(this,[ae,C])}for(R=0,O=fe.length;R<O;R++){var ke=0;if(T=fe[R],V&&"\n"==T[0]&&(T=T.substr(1),ke=1),se+z+(ye=(x=lp.apply(this,[T,C])).reduce(function(Ee,qe){return Ee+qe},0))>_||ke){if(ye>_){for(F=iD.apply(this,[T,x,_-(se+z),_]),J.push(F.shift()),J=[F.pop()];F.length;)ee.push([F.shift()]);ye=x.slice(T.length-(J[0]?J[0].length:0)).reduce(function(Ee,qe){return Ee+qe},0)}else J=[T];ee.push(J),se=ye+V,z=Ce}else J.push(T),se+=z+ye,z=Ce}return ee.map(V?function(Ee,qe){return(qe?ae:"")+Ee.join(" ")}:function(Ee){return Ee.join(" ")})},ap.splitTextToSize=function(w,_,C){var T,x=(C=C||{}).fontSize||this.internal.getFontSize(),R=function(J){if(J.widths&&J.kerning)return{widths:J.widths,kerning:J.kerning};var ee=this.internal.getFont(J.fontName,J.fontStyle);return ee.metadata.Unicode?{widths:ee.metadata.Unicode.widths||{0:1},kerning:ee.metadata.Unicode.kerning||{}}:{font:ee.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,C);T=Array.isArray(w)?w:String(w).split(/\r?\n/);var O=1*this.internal.scaleFactor*_/x;R.textIndent=C.textIndent?1*C.textIndent*this.internal.scaleFactor/x:0,R.lineIndent=C.lineIndent;var F,V,j=[];for(F=0,V=T.length;F<V;F++)j=j.concat(rD.apply(this,[T[F],O,R]));return j},function(w){w.__fontmetrics__=w.__fontmetrics__||{};for(var _="klmnopqrstuvwxyz",C={},T={},x=0;x<16;x++)C[_[x]]="0123456789abcdef"[x],T["0123456789abcdef"[x]]=_[x];var R=function(ee){return"0x"+parseInt(ee,10).toString(16)},O=w.__fontmetrics__.compress=function(ee){var se,z,ye,fe,Ce=["{"];for(var ae in ee){if(se=ee[ae],isNaN(parseInt(ae,10))?z="'"+ae+"'":(ae=parseInt(ae,10),z=(z=R(ae).slice(2)).slice(0,-1)+T[z.slice(-1)]),"number"==typeof se)se<0?(ye=R(se).slice(3),fe="-"):(ye=R(se).slice(2),fe=""),ye=fe+ye.slice(0,-1)+T[ye.slice(-1)];else{if("object"!==(0,d.A)(se))throw new Error("Don't know what to do with value type "+(0,d.A)(se)+".");ye=O(se)}Ce.push(z+ye)}return Ce.push("}"),Ce.join("")},F=w.__fontmetrics__.uncompress=function(ee){if("string"!=typeof ee)throw new Error("Invalid argument passed to uncompress.");for(var se,z,ye,fe,Ce={},ae=1,be=Ce,ke=[],Ee="",qe="",Ht=ee.length-1,at=1;at<Ht;at+=1)"'"==(fe=ee[at])?se?(ye=se.join(""),se=void 0):se=[]:se?se.push(fe):"{"==fe?(ke.push([be,ye]),be={},ye=void 0):"}"==fe?((z=ke.pop())[0][z[1]]=be,ye=void 0,be=z[0]):"-"==fe?ae=-1:void 0===ye?C.hasOwnProperty(fe)?(Ee+=C[fe],ye=parseInt(Ee,16)*ae,ae=1,Ee=""):Ee+=fe:C.hasOwnProperty(fe)?(qe+=C[fe],be[ye]=parseInt(qe,16)*ae,ae=1,ye=void 0,qe=""):qe+=fe;return Ce},V={codePages:["WinAnsiEncoding"],WinAnsiEncoding:F("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},j={Unicode:{Courier:V,"Courier-Bold":V,"Courier-BoldOblique":V,"Courier-Oblique":V,Helvetica:V,"Helvetica-Bold":V,"Helvetica-BoldOblique":V,"Helvetica-Oblique":V,"Times-Roman":V,"Times-Bold":V,"Times-BoldItalic":V,"Times-Italic":V}},J={Unicode:{"Courier-Oblique":F("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":F("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":F("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:F("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":F("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":F("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:F("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:F("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":F("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:F("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":F("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":F("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":F("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":F("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};w.events.push(["addFont",function(ee){var se=ee.font,z=J.Unicode[se.postScriptName];z&&(se.metadata.Unicode={},se.metadata.Unicode.widths=z.widths,se.metadata.Unicode.kerning=z.kerning);var ye=j.Unicode[se.postScriptName];ye&&(se.metadata.Unicode.encoding=ye,se.encoding=ye.codePages[0])}])}(ti.API),
/**
         * @license
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(w){var _=function(C){for(var T=C.length,x=new Uint8Array(T),R=0;R<T;R++)x[R]=C.charCodeAt(R);return x};w.API.events.push(["addFont",function(C){var O,F,T=void 0,x=C.font,R=C.instance;if(!x.isStandardFont){if(void 0===R)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+x.postScriptName+"').");if("string"!=typeof(T=!1===R.existsFileInVFS(x.postScriptName)?R.loadFile(x.postScriptName):R.getFileFromVFS(x.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+x.postScriptName+"').");O=x,F=/^\x00\x01\x00\x00/.test(F=T)?_(F):_(Ph(F)),O.metadata=w.API.TTFFont.open(F),O.metadata.Unicode=O.metadata.Unicode||{encoding:{},kerning:{},widths:[]},O.metadata.glyIdsUsed=[0]}}])}(ti),ti.API.addSvgAsImage=function(C,T,x,R,O,F,V,j){if(isNaN(T)||isNaN(x))throw Xr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(R)||isNaN(O))throw Xr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var J=document.createElement("canvas");J.width=R,J.height=O;var ee=J.getContext("2d");ee.fillStyle="#fff",ee.fillRect(0,0,J.width,J.height);var se={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},z=this;return function _(){return(Zn.canvg?Promise.resolve(Zn.canvg):Kt.e(147).then(Kt.bind(Kt,147))).catch(function(C){return Promise.reject(new Error("Could not load canvg: "+C))}).then(function(C){return C.default?C.default:C})}().then(function(ye){return ye.fromString(ee,C,se)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(ye){return ye.render(se)}).then(function(){z.addImage(J.toDataURL("image/jpeg",1),T,x,R,O,V,j)})},ti.API.putTotalPages=function(w){var _,C=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(_=new RegExp(w,"g"),C=this.internal.getNumberOfPages()):(_=new RegExp(this.pdfEscape16(w,this.internal.getFont()),"g"),C=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var T=1;T<=this.internal.getNumberOfPages();T++)for(var x=0;x<this.internal.pages[T].length;x++)this.internal.pages[T][x]=this.internal.pages[T][x].replace(_,C);return this},ti.API.viewerPreferences=function(w,_){var C;w=w||{},_=_||!1;var T,x,R,O={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},F=Object.keys(O),V=[],j=0,J=0,ee=0;function se(ye,fe){var Ce,ae=!1;for(Ce=0;Ce<ye.length;Ce+=1)ye[Ce]===fe&&(ae=!0);return ae}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(O)),this.internal.viewerpreferences.isSubscribed=!1),C=this.internal.viewerpreferences.configuration,"reset"===w||!0===_){var z=F.length;for(ee=0;ee<z;ee+=1)C[F[ee]].value=C[F[ee]].defaultValue,C[F[ee]].explicitSet=!1}if("object"===(0,d.A)(w))for(x in w)if(R=w[x],se(F,x)&&void 0!==R){if("boolean"===C[x].type&&"boolean"==typeof R)C[x].value=R;else if("name"===C[x].type&&se(C[x].valueSet,R))C[x].value=R;else if("integer"===C[x].type&&Number.isInteger(R))C[x].value=R;else if("array"===C[x].type){for(j=0;j<R.length;j+=1)if(T=!0,1===R[j].length&&"number"==typeof R[j][0])V.push(String(R[j]-1));else if(R[j].length>1){for(J=0;J<R[j].length;J+=1)"number"!=typeof R[j][J]&&(T=!1);!0===T&&V.push([R[j][0]-1,R[j][1]-1].join(" "))}C[x].value="["+V.join(" ")+"]"}else C[x].value=C[x].defaultValue;C[x].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var ye,fe=[];for(ye in C)!0===C[ye].explicitSet&&fe.push("name"===C[ye].type?"/"+ye+" /"+C[ye].value:"/"+ye+" "+C[ye].value);0!==fe.length&&this.internal.write("/ViewerPreferences\n<<\n"+fe.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=C,this},
/** ====================================================================
         * @license
         * jsPDF XMP metadata plugin
         * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
         *
         * Permission is hereby granted, free of charge, to any person obtaining
         * a copy of this software and associated documentation files (the
         * "Software"), to deal in the Software without restriction, including
         * without limitation the rights to use, copy, modify, merge, publish,
         * distribute, sublicense, and/or sell copies of the Software, and to
         * permit persons to whom the Software is furnished to do so, subject to
         * the following conditions:
         *
         * The above copyright notice and this permission notice shall be
         * included in all copies or substantial portions of the Software.
         *
         * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
         * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
         * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
         * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
         * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
         * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
         * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
         * ====================================================================
         */
function(w){var _=function(){var T='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',x=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),R=unescape(encodeURIComponent(T)),O=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),F=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),V=unescape(encodeURIComponent("</x:xmpmeta>")),j=R.length+O.length+F.length+x.length+V.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+j+" >>"),this.internal.write("stream"),this.internal.write(x+R+O+F+V),this.internal.write("endstream"),this.internal.write("endobj")},C=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};w.addMetadata=function(T,x){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:T,namespaceuri:x||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",C),this.internal.events.subscribe("postPutResources",_)),this}}(ti.API),function(w){var _=w.API,C=_.pdfEscape16=function(R,O){for(var F,V=O.metadata.Unicode.widths,j=["","0","00","000","0000"],J=[""],ee=0,se=R.length;ee<se;++ee){if(F=O.metadata.characterToGlyph(R.charCodeAt(ee)),O.metadata.glyIdsUsed.push(F),O.metadata.toUnicode[F]=R.charCodeAt(ee),-1==V.indexOf(F)&&(V.push(F),V.push([parseInt(O.metadata.widthOfGlyph(F),10)])),"0"==F)return J.join("");F=F.toString(16),J.push(j[4-F.length],F)}return J.join("")},T=function(R){var O,F,V,j,J,ee,se;for(J="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",V=[],ee=0,se=(F=Object.keys(R).sort(function(z,ye){return z-ye})).length;ee<se;ee++)O=F[ee],V.length>=100&&(J+="\n"+V.length+" beginbfchar\n"+V.join("\n")+"\nendbfchar",V=[]),null!=R[O]&&"function"==typeof R[O].toString&&(j=("0000"+R[O].toString(16)).slice(-4),O=("0000"+(+O).toString(16)).slice(-4),V.push("<"+O+"><"+j+">"));return V.length&&(J+="\n"+V.length+" beginbfchar\n"+V.join("\n")+"\nendbfchar\n"),J+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};_.events.push(["putFont",function(R){!function(O){var F=O.font,V=O.out,j=O.newObject,J=O.putStream;if(F.metadata instanceof w.API.TTFFont&&"Identity-H"===F.encoding){for(var ee=F.metadata.Unicode.widths,se=F.metadata.subset.encode(F.metadata.glyIdsUsed,1),z="",ye=0;ye<se.length;ye++)z+=String.fromCharCode(se[ye]);var fe=j();J({data:z,addLength1:!0,objectId:fe}),V("endobj");var Ce=j();J({data:T(F.metadata.toUnicode),addLength1:!0,objectId:Ce}),V("endobj");var ae=j();V("<<"),V("/Type /FontDescriptor"),V("/FontName /"+Mh(F.fontName)),V("/FontFile2 "+fe+" 0 R"),V("/FontBBox "+w.API.PDFObject.convert(F.metadata.bbox)),V("/Flags "+F.metadata.flags),V("/StemV "+F.metadata.stemV),V("/ItalicAngle "+F.metadata.italicAngle),V("/Ascent "+F.metadata.ascender),V("/Descent "+F.metadata.decender),V("/CapHeight "+F.metadata.capHeight),V(">>"),V("endobj");var be=j();V("<<"),V("/Type /Font"),V("/BaseFont /"+Mh(F.fontName)),V("/FontDescriptor "+ae+" 0 R"),V("/W "+w.API.PDFObject.convert(ee)),V("/CIDToGIDMap /Identity"),V("/DW 1000"),V("/Subtype /CIDFontType2"),V("/CIDSystemInfo"),V("<<"),V("/Supplement 0"),V("/Registry (Adobe)"),V("/Ordering ("+F.encoding+")"),V(">>"),V(">>"),V("endobj"),F.objectNumber=j(),V("<<"),V("/Type /Font"),V("/Subtype /Type0"),V("/ToUnicode "+Ce+" 0 R"),V("/BaseFont /"+Mh(F.fontName)),V("/Encoding /"+F.encoding),V("/DescendantFonts ["+be+" 0 R]"),V(">>"),V("endobj"),F.isAlreadyPutted=!0}}(R)}]),_.events.push(["putFont",function(R){!function(O){var F=O.font,V=O.out,j=O.newObject,J=O.putStream;if(F.metadata instanceof w.API.TTFFont&&"WinAnsiEncoding"===F.encoding){for(var ee=F.metadata.rawData,se="",z=0;z<ee.length;z++)se+=String.fromCharCode(ee[z]);var ye=j();J({data:se,addLength1:!0,objectId:ye}),V("endobj");var fe=j();J({data:T(F.metadata.toUnicode),addLength1:!0,objectId:fe}),V("endobj");var Ce=j();V("<<"),V("/Descent "+F.metadata.decender),V("/CapHeight "+F.metadata.capHeight),V("/StemV "+F.metadata.stemV),V("/Type /FontDescriptor"),V("/FontFile2 "+ye+" 0 R"),V("/Flags 96"),V("/FontBBox "+w.API.PDFObject.convert(F.metadata.bbox)),V("/FontName /"+Mh(F.fontName)),V("/ItalicAngle "+F.metadata.italicAngle),V("/Ascent "+F.metadata.ascender),V(">>"),V("endobj"),F.objectNumber=j();for(var ae=0;ae<F.metadata.hmtx.widths.length;ae++)F.metadata.hmtx.widths[ae]=parseInt(F.metadata.hmtx.widths[ae]*(1e3/F.metadata.head.unitsPerEm));V("<</Subtype/TrueType/Type/Font/ToUnicode "+fe+" 0 R/BaseFont/"+Mh(F.fontName)+"/FontDescriptor "+Ce+" 0 R/Encoding/"+F.encoding+" /FirstChar 29 /LastChar 255 /Widths "+w.API.PDFObject.convert(F.metadata.hmtx.widths)+">>"),V("endobj"),F.isAlreadyPutted=!0}}(R)}]);var x=function(R){var O,F=R.text||"",V=R.x,j=R.y,J=R.options||{},ee=R.mutex||{},se=ee.pdfEscape,z=ee.activeFontKey,ye=ee.fonts,fe=z,Ce="",ae=0,be="",ke=ye[fe].encoding;if("Identity-H"!==ye[fe].encoding)return{text:F,x:V,y:j,options:J,mutex:ee};for(be=F,fe=z,Array.isArray(F)&&(be=F[0]),ae=0;ae<be.length;ae+=1)ye[fe].metadata.hasOwnProperty("cmap")&&(O=ye[fe].metadata.cmap.unicode.codeMap[be[ae].charCodeAt(0)]),O||be[ae].charCodeAt(0)<256&&ye[fe].metadata.hasOwnProperty("Unicode")?Ce+=be[ae]:Ce+="";var Ee="";return parseInt(fe.slice(1))<14||"WinAnsiEncoding"===ke?Ee=se(Ce,fe).split("").map(function(qe){return qe.charCodeAt(0).toString(16)}).join(""):"Identity-H"===ke&&(Ee=C(Ce,ye[fe])),ee.isHex=!0,{text:Ee,x:V,y:j,options:J,mutex:ee}};_.events.push(["postProcessText",function(R){var O=R.text||"",F=[],V={text:O,x:R.x,y:R.y,options:R.options,mutex:R.mutex};if(Array.isArray(O)){var j=0;for(j=0;j<O.length;j+=1)Array.isArray(O[j])&&3===O[j].length?F.push([x(Object.assign({},V,{text:O[j][0]})).text,O[j][1],O[j][2]]):F.push(x(Object.assign({},V,{text:O[j]})).text);R.text=F}else R.text=x(Object.assign({},V,{text:O})).text}])}(ti),
/**
         * @license
         * jsPDF virtual FileSystem functionality
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(w){var _=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};w.existsFileInVFS=function(C){return _.call(this),void 0!==this.internal.vFS[C]},w.addFileToVFS=function(C,T){return _.call(this),this.internal.vFS[C]=T,this},w.getFileFromVFS=function(C){return _.call(this),void 0!==this.internal.vFS[C]?this.internal.vFS[C]:null}}(ti.API),
/**
         * @license
         * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
         * MIT License
         */
function(w){w.__bidiEngine__=w.prototype.__bidiEngine__=function(T){var x,R,O,F,V,j,J,ee=_,se=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],z=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ye={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},fe={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Ce=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],ae=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),be=!1,ke=0;this.__bidiEngine__={};var Ee=function(ce){var he=ce.charCodeAt(),Ve=he>>8,_e=fe[Ve];return void 0!==_e?ee[256*_e+(255&he)]:252===Ve||253===Ve?"AL":ae.test(Ve)?"L":8===Ve?"R":"N"},qe=function(ce){for(var he,Ve=0;Ve<ce.length;Ve++){if("L"===(he=Ee(ce.charAt(Ve))))return!1;if("R"===he)return!0}return!1},Ht=function(ce,he,Ve,_e){var It,wt,Pt,nt,Vt=he[_e];switch(Vt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":be=!1;break;case"N":case"AN":break;case"EN":be&&(Vt="AN");break;case"AL":be=!0,Vt="R";break;case"WS":case"BN":Vt="N";break;case"CS":_e<1||_e+1>=he.length||"EN"!==(It=Ve[_e-1])&&"AN"!==It||"EN"!==(wt=he[_e+1])&&"AN"!==wt?Vt="N":be&&(wt="AN"),Vt=wt===It?wt:"N";break;case"ES":Vt="EN"===(It=_e>0?Ve[_e-1]:"B")&&_e+1<he.length&&"EN"===he[_e+1]?"EN":"N";break;case"ET":if(_e>0&&"EN"===Ve[_e-1]){Vt="EN";break}if(be){Vt="N";break}for(Pt=_e+1,nt=he.length;Pt<nt&&"ET"===he[Pt];)Pt++;Vt=Pt<nt&&"EN"===he[Pt]?"EN":"N";break;case"NSM":if(O&&!F){for(nt=he.length,Pt=_e+1;Pt<nt&&"NSM"===he[Pt];)Pt++;if(Pt<nt){var jt=ce[_e];if(It=he[Pt],(jt>=1425&&jt<=2303||64286===jt)&&("R"===It||"AL"===It)){Vt="R";break}}}Vt=_e<1||"B"===(It=he[_e-1])?"N":Ve[_e-1];break;case"B":be=!1,x=!0,Vt=ke;break;case"S":R=!0,Vt="N"}return Vt},at=function(ce,he,Ve){var _e=ce.split("");return Ve&&Pe(_e,Ve,{hiLevel:ke}),_e.reverse(),he&&he.reverse(),_e.join("")},Pe=function(ce,he,Ve){var _e,It,wt,Pt,nt,Vt=-1,jt=ce.length,En=0,ie=[],we=ke?z:se,De=[];for(be=!1,x=!1,R=!1,It=0;It<jt;It++)De[It]=Ee(ce[It]);for(wt=0;wt<jt;wt++){if(nt=En,ie[wt]=Ht(ce,De,ie,wt),_e=240&(En=we[nt][ye[ie[wt]]]),he[wt]=Pt=we[En&=15][5],_e>0)if(16===_e){for(It=Vt;It<wt;It++)he[It]=1;Vt=-1}else Vt=-1;if(we[En][6])-1===Vt&&(Vt=wt);else if(Vt>-1){for(It=Vt;It<wt;It++)he[It]=Pt;Vt=-1}"B"===De[wt]&&(he[wt]=0),Ve.hiLevel|=Pt}R&&function(Ge,Je,$e){for(var Et=0;Et<$e;Et++)if("S"===Ge[Et]){Je[Et]=ke;for(var Ct=Et-1;Ct>=0&&"WS"===Ge[Ct];Ct--)Je[Ct]=ke}}(De,he,jt)},lt=function(ce,he,Ve,_e,It){if(!(It.hiLevel<ce)){if(1===ce&&1===ke&&!x)return he.reverse(),void(Ve&&Ve.reverse());for(var wt,Pt,nt,Vt,jt=he.length,En=0;En<jt;){if(_e[En]>=ce){for(nt=En+1;nt<jt&&_e[nt]>=ce;)nt++;for(Vt=En,Pt=nt-1;Vt<Pt;Vt++,Pt--)wt=he[Vt],he[Vt]=he[Pt],he[Pt]=wt,Ve&&(wt=Ve[Vt],Ve[Vt]=Ve[Pt],Ve[Pt]=wt);En=nt}En++}}},kt=function(ce,he,Ve){var _e=ce.split(""),It={hiLevel:ke};return Ve||(Ve=[]),Pe(_e,Ve,It),function(wt,Pt,nt){if(0!==nt.hiLevel&&J)for(var Vt,jt=0;jt<wt.length;jt++)1===Pt[jt]&&(Vt=Ce.indexOf(wt[jt]))>=0&&(wt[jt]=Ce[Vt+1])}(_e,Ve,It),lt(2,_e,he,Ve,It),lt(1,_e,he,Ve,It),_e.join("")};return this.__bidiEngine__.doBidiReorder=function(ce,he,Ve){if(function(It,wt){if(wt)for(var Pt=0;Pt<It.length;Pt++)wt[Pt]=Pt;void 0===F&&(F=qe(It)),void 0===j&&(j=qe(It))}(ce,he),O||!V||j)if(O&&V&&F^j)ke=F?1:0,ce=at(ce,he,Ve);else if(!O&&V&&j)ke=F?1:0,ce=kt(ce,he,Ve),ce=at(ce,he);else if(!O||F||V||j){if(O&&!V&&F^j)ce=at(ce,he),F?(ke=0,ce=kt(ce,he,Ve)):(ke=1,ce=kt(ce,he,Ve),ce=at(ce,he));else if(O&&F&&!V&&j)ke=1,ce=kt(ce,he,Ve),ce=at(ce,he);else if(!O&&!V&&F^j){var _e=J;F?(ke=1,ce=kt(ce,he,Ve),ke=0,J=!1,ce=kt(ce,he,Ve),J=_e):(ke=0,ce=kt(ce,he,Ve),ce=at(ce,he),ke=1,J=!1,ce=kt(ce,he,Ve),J=_e,ce=at(ce,he))}}else ke=0,ce=kt(ce,he,Ve);else ke=F?1:0,ce=kt(ce,he,Ve);return ce},this.__bidiEngine__.setOptions=function(ce){ce&&(O=ce.isInputVisual,V=ce.isOutputVisual,F=ce.isInputRtl,j=ce.isOutputRtl,J=ce.isSymmetricSwapping)},this.__bidiEngine__.setOptions(T),this.__bidiEngine__};var _=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],C=new w.__bidiEngine__({isInputVisual:!0});w.API.events.push(["postProcessText",function(T){var x=T.text,R=T.options||{},O=[];if(R.isInputVisual="boolean"!=typeof R.isInputVisual||R.isInputVisual,C.setOptions(R),"[object Array]"===Object.prototype.toString.call(x)){var F=0;for(O=[],F=0;F<x.length;F+=1)"[object Array]"===Object.prototype.toString.call(x[F])?O.push([C.doBidiReorder(x[F][0]),x[F][1],x[F][2]]):O.push([C.doBidiReorder(x[F])]);T.text=O}else T.text=C.doBidiReorder(x);C.setOptions({isInputVisual:!0})}])}(ti),ti.API.TTFFont=function(){function w(_){var C;if(this.rawData=_,C=this.contents=new Lh(_),this.contents.pos=4,"ttcf"===C.readString(4))throw new Error("TTCF not supported.");C.pos=0,this.parse(),this.subset=new qN(this),this.registerTTF()}return w.open=function(_){return new w(_)},w.prototype.parse=function(){return this.directory=new N0(this.contents),this.head=new Vh(this),this.name=new gc(this),this.cmap=new o_(this),this.toUnicode={},this.hhea=new Gb(this),this.maxp=new Ug(this),this.hmtx=new k0(this),this.post=new F0(this),this.os2=new oD(this),this.loca=new $N(this),this.glyf=new jN(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},w.prototype.registerTTF=function(){var C,T,x,R;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var O,F,V,j;for(j=[],O=0,F=(V=this.bbox).length;O<F;O++)j.push(Math.round(V[O]*this.scaleFactor));return j}.call(this),this.stemV=0,this.post.exists?(T=255&(x=this.post.italic_angle),32768&(C=x>>16)&&(C=-(1+(65535^C))),this.italicAngle=+(C+"."+T)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(R=this.familyClass)||2===R||3===R||4===R||5===R||7===R,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},w.prototype.characterToGlyph=function(_){var C;return(null!=(C=this.cmap.unicode)?C.codeMap[_]:void 0)||0},w.prototype.widthOfGlyph=function(_){var C;return C=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(_).advance*C},w.prototype.widthOfString=function(_,C,T){var x,R,O,F;for(O=0,R=0,F=(_=""+_).length;0<=F?R<F:R>F;R=0<=F?++R:--R)x=_.charCodeAt(R),O+=this.widthOfGlyph(this.characterToGlyph(x))+T*(1e3/C)||0;return O*(C/1e3)},w.prototype.lineHeight=function(_,C){return null==C&&(C=!1),(this.ascender+(C?this.lineGap:0)-this.decender)/1e3*_},w}();var xl,Lh=function(){function w(_){this.data=_??[],this.pos=0,this.length=this.data.length}return w.prototype.readByte=function(){return this.data[this.pos++]},w.prototype.writeByte=function(_){return this.data[this.pos++]=_},w.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},w.prototype.writeUInt32=function(_){return this.writeByte(_>>>24&255),this.writeByte(_>>16&255),this.writeByte(_>>8&255),this.writeByte(255&_)},w.prototype.readInt32=function(){var _;return(_=this.readUInt32())>=2147483648?_-4294967296:_},w.prototype.writeInt32=function(_){return _<0&&(_+=4294967296),this.writeUInt32(_)},w.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},w.prototype.writeUInt16=function(_){return this.writeByte(_>>8&255),this.writeByte(255&_)},w.prototype.readInt16=function(){var _;return(_=this.readUInt16())>=32768?_-65536:_},w.prototype.writeInt16=function(_){return _<0&&(_+=65536),this.writeUInt16(_)},w.prototype.readString=function(_){var C,T;for(T=[],C=0;0<=_?C<_:C>_;C=0<=_?++C:--C)T[C]=String.fromCharCode(this.readByte());return T.join("")},w.prototype.writeString=function(_){var C,T,x;for(x=[],C=0,T=_.length;0<=T?C<T:C>T;C=0<=T?++C:--C)x.push(this.writeByte(_.charCodeAt(C)));return x},w.prototype.readShort=function(){return this.readInt16()},w.prototype.writeShort=function(_){return this.writeInt16(_)},w.prototype.readLongLong=function(){var _,C,T,x,R,O,F,V;return _=this.readByte(),C=this.readByte(),T=this.readByte(),x=this.readByte(),R=this.readByte(),O=this.readByte(),F=this.readByte(),V=this.readByte(),128&_?-1*(72057594037927940*(255^_)+281474976710656*(255^C)+1099511627776*(255^T)+4294967296*(255^x)+16777216*(255^R)+65536*(255^O)+256*(255^F)+(255^V)+1):72057594037927940*_+281474976710656*C+1099511627776*T+4294967296*x+16777216*R+65536*O+256*F+V},w.prototype.writeLongLong=function(_){var C,T;return C=Math.floor(_/4294967296),T=4294967295&_,this.writeByte(C>>24&255),this.writeByte(C>>16&255),this.writeByte(C>>8&255),this.writeByte(255&C),this.writeByte(T>>24&255),this.writeByte(T>>16&255),this.writeByte(T>>8&255),this.writeByte(255&T)},w.prototype.readInt=function(){return this.readInt32()},w.prototype.writeInt=function(_){return this.writeInt32(_)},w.prototype.read=function(_){var C,T;for(C=[],T=0;0<=_?T<_:T>_;T=0<=_?++T:--T)C.push(this.readByte());return C},w.prototype.write=function(_){var T,x,R;for(R=[],T=0,x=_.length;T<x;T++)R.push(this.writeByte(_[T]));return R},w}(),N0=function(){var w;function _(C){var T,x,R;for(this.scalarType=C.readInt(),this.tableCount=C.readShort(),this.searchRange=C.readShort(),this.entrySelector=C.readShort(),this.rangeShift=C.readShort(),this.tables={},x=0,R=this.tableCount;0<=R?x<R:x>R;x=0<=R?++x:--x)T={tag:C.readString(4),checksum:C.readInt(),offset:C.readInt(),length:C.readInt()},this.tables[T.tag]=T}return _.prototype.encode=function(C){var T,x,O,F,V,j,J,ee,se,z,ye,fe;for(fe in z=Object.keys(C).length,V=Math.log(2),ee=16*Math.floor(Math.log(z)/V),O=Math.floor(ee/V),J=16*z-ee,(x=new Lh).writeInt(this.scalarType),x.writeShort(z),x.writeShort(ee),x.writeShort(O),x.writeShort(J),j=x.pos+16*z,F=null,ye=[],C)for(se=C[fe],x.writeString(fe),x.writeInt(w(se)),x.writeInt(j),x.writeInt(se.length),ye=ye.concat(se),"head"===fe&&(F=j),j+=se.length;j%4;)ye.push(0),j++;return x.write(ye),T=2981146554-w(x.data),x.pos=F+8,x.writeUInt32(T),x.data},w=function(C){var T,x,R,O;for(C=aD.call(C);C.length%4;)C.push(0);for(R=new Lh(C),x=0,T=0,O=C.length;T<O;T=T+=4)x+=R.readUInt32();return 4294967295&x},_}(),sD={}.hasOwnProperty,ou=function(w,_){for(var C in _)sD.call(_,C)&&(w[C]=_[C]);function T(){this.constructor=w}return T.prototype=_.prototype,w.prototype=new T,w.__super__=_.prototype,w};xl=function(){function w(_){var C;this.file=_,this.exists=!!(C=this.file.directory.tables[this.tag]),C&&(this.offset=C.offset,this.length=C.length,this.parse(this.file.contents))}return w.prototype.parse=function(){},w.prototype.encode=function(){},w.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},w}();var Vh=function(w){function _(){return _.__super__.constructor.apply(this,arguments)}return ou(_,xl),_.prototype.tag="head",_.prototype.parse=function(C){return C.pos=this.offset,this.version=C.readInt(),this.revision=C.readInt(),this.checkSumAdjustment=C.readInt(),this.magicNumber=C.readInt(),this.flags=C.readShort(),this.unitsPerEm=C.readShort(),this.created=C.readLongLong(),this.modified=C.readLongLong(),this.xMin=C.readShort(),this.yMin=C.readShort(),this.xMax=C.readShort(),this.yMax=C.readShort(),this.macStyle=C.readShort(),this.lowestRecPPEM=C.readShort(),this.fontDirectionHint=C.readShort(),this.indexToLocFormat=C.readShort(),this.glyphDataFormat=C.readShort()},_.prototype.encode=function(C){var T;return(T=new Lh).writeInt(this.version),T.writeInt(this.revision),T.writeInt(this.checkSumAdjustment),T.writeInt(this.magicNumber),T.writeShort(this.flags),T.writeShort(this.unitsPerEm),T.writeLongLong(this.created),T.writeLongLong(this.modified),T.writeShort(this.xMin),T.writeShort(this.yMin),T.writeShort(this.xMax),T.writeShort(this.yMax),T.writeShort(this.macStyle),T.writeShort(this.lowestRecPPEM),T.writeShort(this.fontDirectionHint),T.writeShort(C),T.writeShort(this.glyphDataFormat),T.data},_}(),O0=function(){function w(_,C){var T,x,R,O,F,V,j,J,ee,se,z,ye,fe,Ce,ae,be,ke;switch(this.platformID=_.readUInt16(),this.encodingID=_.readShort(),this.offset=C+_.readInt(),ee=_.pos,_.pos=this.offset,this.format=_.readUInt16(),this.length=_.readUInt16(),this.language=_.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(V=0;V<256;++V)this.codeMap[V]=_.readByte();break;case 4:for(z=_.readUInt16(),se=z/2,_.pos+=6,R=function(){var Ee,qe;for(qe=[],V=Ee=0;0<=se?Ee<se:Ee>se;V=0<=se?++Ee:--Ee)qe.push(_.readUInt16());return qe}(),_.pos+=2,fe=function(){var Ee,qe;for(qe=[],V=Ee=0;0<=se?Ee<se:Ee>se;V=0<=se?++Ee:--Ee)qe.push(_.readUInt16());return qe}(),j=function(){var Ee,qe;for(qe=[],V=Ee=0;0<=se?Ee<se:Ee>se;V=0<=se?++Ee:--Ee)qe.push(_.readUInt16());return qe}(),J=function(){var Ee,qe;for(qe=[],V=Ee=0;0<=se?Ee<se:Ee>se;V=0<=se?++Ee:--Ee)qe.push(_.readUInt16());return qe}(),x=(this.length-_.pos+this.offset)/2,F=function(){var Ee,qe;for(qe=[],V=Ee=0;0<=x?Ee<x:Ee>x;V=0<=x?++Ee:--Ee)qe.push(_.readUInt16());return qe}(),V=ae=0,ke=R.length;ae<ke;V=++ae)for(Ce=R[V],T=be=ye=fe[V];ye<=Ce?be<=Ce:be>=Ce;T=ye<=Ce?++be:--be)0===J[V]?O=T+j[V]:0!==(O=F[J[V]/2+(T-ye)-(se-V)]||0)&&(O+=j[V]),this.codeMap[T]=65535&O}_.pos=ee}return w.encode=function(_,C){var T,x,R,O,F,V,j,J,ee,se,z,ye,fe,Ce,ae,be,ke,qe,Ht,at,Pe,lt,kt,ce,he,Ve,_e,It,wt,Pt,nt,Vt,jt,En,ie,we,De,Ge,Je,$e,Et,Ct,dn,pn,An;switch(_e=new Lh,O=Object.keys(_).sort(function(hn,hi){return hn-hi}),C){case"macroman":for(fe=0,Ce=function(){var hn=[];for(ye=0;ye<256;++ye)hn.push(0);return hn}(),be={0:0},R={},It=0,Vt=O.length;It<Vt;It++)null==be[Ct=_[x=O[It]]]&&(be[Ct]=++fe),R[x]={old:_[x],new:be[_[x]]},Ce[x]=be[_[x]];return _e.writeUInt16(1),_e.writeUInt16(0),_e.writeUInt32(12),_e.writeUInt16(0),_e.writeUInt16(262),_e.writeUInt16(0),_e.write(Ce),{charMap:R,subtable:_e.data,maxGlyphID:fe+1};case"unicode":for(he=[],ee=[],ke=0,be={},T={},ae=j=null,wt=0,jt=O.length;wt<jt;wt++)null==be[qe=_[x=O[wt]]]&&(be[qe]=++ke),T[x]={old:qe,new:be[qe]},F=be[qe]-x,null!=ae&&F===j||(ae&&ee.push(ae),he.push(x),j=F),ae=x;for(ae&&ee.push(ae),ee.push(65535),he.push(65535),kt=2*(lt=he.length),Pe=2*Math.pow(Math.log(lt)/Math.LN2,2),se=Math.log(Pe/2)/Math.LN2,at=2*lt-Pe,V=[],Ht=[],z=[],ye=Pt=0,En=he.length;Pt<En;ye=++Pt){if(J=ee[ye],65535===(ce=he[ye])){V.push(0),Ht.push(0);break}if(ce-(Ve=T[ce].new)>=32768)for(V.push(0),Ht.push(2*(z.length+lt-ye)),x=nt=ce;ce<=J?nt<=J:nt>=J;x=ce<=J?++nt:--nt)z.push(T[x].new);else V.push(Ve-ce),Ht.push(0)}for(_e.writeUInt16(3),_e.writeUInt16(1),_e.writeUInt32(12),_e.writeUInt16(4),_e.writeUInt16(16+8*lt+2*z.length),_e.writeUInt16(0),_e.writeUInt16(kt),_e.writeUInt16(Pe),_e.writeUInt16(se),_e.writeUInt16(at),$e=0,ie=ee.length;$e<ie;$e++)_e.writeUInt16(x=ee[$e]);for(_e.writeUInt16(0),Et=0,we=he.length;Et<we;Et++)_e.writeUInt16(x=he[Et]);for(dn=0,De=V.length;dn<De;dn++)_e.writeUInt16(F=V[dn]);for(pn=0,Ge=Ht.length;pn<Ge;pn++)_e.writeUInt16(Ht[pn]);for(An=0,Je=z.length;An<Je;An++)_e.writeUInt16(fe=z[An]);return{charMap:T,subtable:_e.data,maxGlyphID:ke+1}}},w}(),o_=function(w){function _(){return _.__super__.constructor.apply(this,arguments)}return ou(_,xl),_.prototype.tag="cmap",_.prototype.parse=function(C){var T,x,R;for(C.pos=this.offset,this.version=C.readUInt16(),R=C.readUInt16(),this.tables=[],this.unicode=null,x=0;0<=R?x<R:x>R;x=0<=R?++x:--x)T=new O0(C,this.offset),this.tables.push(T),T.isUnicode&&null==this.unicode&&(this.unicode=T);return!0},_.encode=function(C,T){var x,R;return null==T&&(T="macroman"),x=O0.encode(C,T),(R=new Lh).writeUInt16(0),R.writeUInt16(1),x.table=R.data.concat(x.subtable),x},_}(),Gb=function(w){function _(){return _.__super__.constructor.apply(this,arguments)}return ou(_,xl),_.prototype.tag="hhea",_.prototype.parse=function(C){return C.pos=this.offset,this.version=C.readInt(),this.ascender=C.readShort(),this.decender=C.readShort(),this.lineGap=C.readShort(),this.advanceWidthMax=C.readShort(),this.minLeftSideBearing=C.readShort(),this.minRightSideBearing=C.readShort(),this.xMaxExtent=C.readShort(),this.caretSlopeRise=C.readShort(),this.caretSlopeRun=C.readShort(),this.caretOffset=C.readShort(),C.pos+=8,this.metricDataFormat=C.readShort(),this.numberOfMetrics=C.readUInt16()},_}(),oD=function(w){function _(){return _.__super__.constructor.apply(this,arguments)}return ou(_,xl),_.prototype.tag="OS/2",_.prototype.parse=function(C){if(C.pos=this.offset,this.version=C.readUInt16(),this.averageCharWidth=C.readShort(),this.weightClass=C.readUInt16(),this.widthClass=C.readUInt16(),this.type=C.readShort(),this.ySubscriptXSize=C.readShort(),this.ySubscriptYSize=C.readShort(),this.ySubscriptXOffset=C.readShort(),this.ySubscriptYOffset=C.readShort(),this.ySuperscriptXSize=C.readShort(),this.ySuperscriptYSize=C.readShort(),this.ySuperscriptXOffset=C.readShort(),this.ySuperscriptYOffset=C.readShort(),this.yStrikeoutSize=C.readShort(),this.yStrikeoutPosition=C.readShort(),this.familyClass=C.readShort(),this.panose=function(){var T,x;for(x=[],T=0;T<10;++T)x.push(C.readByte());return x}(),this.charRange=function(){var T,x;for(x=[],T=0;T<4;++T)x.push(C.readInt());return x}(),this.vendorID=C.readString(4),this.selection=C.readShort(),this.firstCharIndex=C.readShort(),this.lastCharIndex=C.readShort(),this.version>0&&(this.ascent=C.readShort(),this.descent=C.readShort(),this.lineGap=C.readShort(),this.winAscent=C.readShort(),this.winDescent=C.readShort(),this.codePageRange=function(){var T,x;for(x=[],T=0;T<2;T=++T)x.push(C.readInt());return x}(),this.version>1))return this.xHeight=C.readShort(),this.capHeight=C.readShort(),this.defaultChar=C.readShort(),this.breakChar=C.readShort(),this.maxContext=C.readShort()},_}(),F0=function(w){function _(){return _.__super__.constructor.apply(this,arguments)}return ou(_,xl),_.prototype.tag="post",_.prototype.parse=function(C){var T,x,R;switch(C.pos=this.offset,this.format=C.readInt(),this.italicAngle=C.readInt(),this.underlinePosition=C.readShort(),this.underlineThickness=C.readShort(),this.isFixedPitch=C.readInt(),this.minMemType42=C.readInt(),this.maxMemType42=C.readInt(),this.minMemType1=C.readInt(),this.maxMemType1=C.readInt(),this.format){case 65536:case 196608:break;case 131072:var O;for(x=C.readUInt16(),this.glyphNameIndex=[],O=0;0<=x?O<x:O>x;O=0<=x?++O:--O)this.glyphNameIndex.push(C.readUInt16());for(this.names=[],R=[];C.pos<this.offset+this.length;)T=C.readByte(),R.push(this.names.push(C.readString(T)));return R;case 151552:return x=C.readUInt16(),this.offsets=C.read(x);case 262144:return this.map=function(){var F,V,j;for(j=[],O=F=0,V=this.file.maxp.numGlyphs;0<=V?F<V:F>V;O=0<=V?++F:--F)j.push(C.readUInt32());return j}.call(this)}},_}(),a_=function(w,_){this.raw=w,this.length=w.length,this.platformID=_.platformID,this.encodingID=_.encodingID,this.languageID=_.languageID},gc=function(w){function _(){return _.__super__.constructor.apply(this,arguments)}return ou(_,xl),_.prototype.tag="name",_.prototype.parse=function(C){var T,x,R,O,F,V,j,J,ee,se,z;for(C.pos=this.offset,C.readShort(),T=C.readShort(),V=C.readShort(),x=[],O=0;0<=T?O<T:O>T;O=0<=T?++O:--O)x.push({platformID:C.readShort(),encodingID:C.readShort(),languageID:C.readShort(),nameID:C.readShort(),length:C.readShort(),offset:this.offset+V+C.readShort()});for(j={},O=ee=0,se=x.length;ee<se;O=++ee)C.pos=(R=x[O]).offset,J=C.readString(R.length),F=new a_(J,R),null==j[z=R.nameID]&&(j[z]=[]),j[R.nameID].push(F);this.strings=j,this.copyright=j[0],this.fontFamily=j[1],this.fontSubfamily=j[2],this.uniqueSubfamily=j[3],this.fontName=j[4],this.version=j[5];try{this.postscriptName=j[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=j[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=j[7],this.manufacturer=j[8],this.designer=j[9],this.description=j[10],this.vendorUrl=j[11],this.designerUrl=j[12],this.license=j[13],this.licenseUrl=j[14],this.preferredFamily=j[15],this.preferredSubfamily=j[17],this.compatibleFull=j[18],this.sampleText=j[19]},_}(),Ug=function(w){function _(){return _.__super__.constructor.apply(this,arguments)}return ou(_,xl),_.prototype.tag="maxp",_.prototype.parse=function(C){return C.pos=this.offset,this.version=C.readInt(),this.numGlyphs=C.readUInt16(),this.maxPoints=C.readUInt16(),this.maxContours=C.readUInt16(),this.maxCompositePoints=C.readUInt16(),this.maxComponentContours=C.readUInt16(),this.maxZones=C.readUInt16(),this.maxTwilightPoints=C.readUInt16(),this.maxStorage=C.readUInt16(),this.maxFunctionDefs=C.readUInt16(),this.maxInstructionDefs=C.readUInt16(),this.maxStackElements=C.readUInt16(),this.maxSizeOfInstructions=C.readUInt16(),this.maxComponentElements=C.readUInt16(),this.maxComponentDepth=C.readUInt16()},_}(),k0=function(w){function _(){return _.__super__.constructor.apply(this,arguments)}return ou(_,xl),_.prototype.tag="hmtx",_.prototype.parse=function(C){var T,x,R,F,V,j;for(C.pos=this.offset,this.metrics=[],T=0,V=this.file.hhea.numberOfMetrics;0<=V?T<V:T>V;T=0<=V?++T:--T)this.metrics.push({advance:C.readUInt16(),lsb:C.readInt16()});for(R=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var J,ee;for(ee=[],T=J=0;0<=R?J<R:J>R;T=0<=R?++J:--J)ee.push(C.readInt16());return ee}(),this.widths=function(){var J,ee,se,z;for(z=[],J=0,ee=(se=this.metrics).length;J<ee;J++)z.push(se[J].advance);return z}.call(this),x=this.widths[this.widths.length-1],j=[],T=F=0;0<=R?F<R:F>R;T=0<=R?++F:--F)j.push(this.widths.push(x));return j},_.prototype.forGlyph=function(C){return C in this.metrics?this.metrics[C]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[C-this.metrics.length]}},_}(),aD=[].slice,jN=function(w){function _(){return _.__super__.constructor.apply(this,arguments)}return ou(_,xl),_.prototype.tag="glyf",_.prototype.parse=function(){return this.cache={}},_.prototype.glyphFor=function(C){var T,x,R,O,F,V,j,J,ee,se;return C in this.cache?this.cache[C]:(T=this.file.contents,x=(O=this.file.loca).indexOf(C),0===(R=O.lengthOf(C))?this.cache[C]=null:(T.pos=this.offset+x,F=(V=new Lh(T.read(R))).readShort(),J=V.readShort(),se=V.readShort(),j=V.readShort(),ee=V.readShort(),this.cache[C]=-1===F?new Wg(V,J,se,j,ee):new lD(V,F,J,se,j,ee),this.cache[C]))},_.prototype.encode=function(C,T,x){var R,O,F,V,j;for(F=[],O=[],V=0,j=T.length;V<j;V++)R=C[T[V]],O.push(F.length),R&&(F=F.concat(R.encode(x)));return O.push(F.length),{table:F,offsets:O}},_}(),lD=function(){function w(_,C,T,x,R,O){this.raw=_,this.numberOfContours=C,this.xMin=T,this.yMin=x,this.xMax=R,this.yMax=O,this.compound=!1}return w.prototype.encode=function(){return this.raw.data},w}(),Wg=function(){function w(_,C,T,x,R){var O,F;for(this.raw=_,this.xMin=C,this.yMin=T,this.xMax=x,this.yMax=R,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],O=this.raw;F=O.readShort(),this.glyphOffsets.push(O.pos),this.glyphIDs.push(O.readUInt16()),32&F;)O.pos+=1&F?4:2,128&F?O.pos+=8:64&F?O.pos+=4:8&F&&(O.pos+=2)}return w.prototype.encode=function(){var _,C,T;for(C=new Lh(aD.call(this.raw.data)),_=0,T=this.glyphIDs.length;_<T;++_)C.pos=this.glyphOffsets[_];return C.data},w}(),$N=function(w){function _(){return _.__super__.constructor.apply(this,arguments)}return ou(_,xl),_.prototype.tag="loca",_.prototype.parse=function(C){var x;return C.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var R,O;for(O=[],x=0,R=this.length;x<R;x+=2)O.push(2*C.readUInt16());return O}.call(this):function(){var R,O;for(O=[],x=0,R=this.length;x<R;x+=4)O.push(C.readUInt32());return O}.call(this)},_.prototype.indexOf=function(C){return this.offsets[C]},_.prototype.lengthOf=function(C){return this.offsets[C+1]-this.offsets[C]},_.prototype.encode=function(C,T){for(var x=new Uint32Array(this.offsets.length),R=0,O=0,F=0;F<x.length;++F)if(x[F]=R,O<T.length&&T[O]==F){++O,x[F]=R;var j=this.offsets[F+1]-this.offsets[F];j>0&&(R+=j)}for(var J=new Array(4*x.length),ee=0;ee<x.length;++ee)J[4*ee+3]=255&x[ee],J[4*ee+2]=(65280&x[ee])>>8,J[4*ee+1]=(16711680&x[ee])>>16,J[4*ee]=(4278190080&x[ee])>>24;return J},_}(),qN=function(){function w(_){this.font=_,this.subset={},this.unicodes={},this.next=33}return w.prototype.generateCmap=function(){var _,C,x,R;for(C in x=this.font.cmap.tables[0].codeMap,_={},R=this.subset)_[C]=x[R[C]];return _},w.prototype.glyphsFor=function(_){var C,T,x,R,O,F,V;for(x={},O=0,F=_.length;O<F;O++)x[R=_[O]]=this.font.glyf.glyphFor(R);for(R in C=[],x)null!=(T=x[R])&&T.compound&&C.push.apply(C,T.glyphIDs);if(C.length>0)for(R in V=this.glyphsFor(C))x[R]=T=V[R];return x},w.prototype.encode=function(_,C){var T,x,R,O,V,j,J,ee,se,z,ye,fe,Ce,ae;for(x in T=o_.encode(this.generateCmap(),"unicode"),O=this.glyphsFor(_),z={0:0},ae=T.charMap)z[(V=ae[x]).old]=V.new;for(ye in se=T.maxGlyphID,O)ye in z||(z[ye]=se++);return J=function(be){var ke,Ee;for(ke in Ee={},be)Ee[be[ke]]=ke;return Ee}(z),ee=Object.keys(J).sort(function(be,ke){return be-ke}),fe=function(){var be,ke,Ee;for(Ee=[],be=0,ke=ee.length;be<ke;be++)Ee.push(J[ee[be]]);return Ee}(),R=this.font.glyf.encode(O,fe,z),j=this.font.loca.encode(R.offsets,fe),Ce={cmap:this.font.cmap.raw(),glyf:R.table,loca:j,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(C)},this.font.os2.exists&&(Ce["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Ce)},w}();ti.API.PDFObject=function(){var w;function _(){}return w=function(C,T){return(Array(T+1).join("0")+C).slice(-T)},_.convert=function(C){var x,R;if(Array.isArray(C))return"["+function(){var F,V,j;for(j=[],F=0,V=C.length;F<V;F++)j.push(_.convert(C[F]));return j}().join(" ")+"]";if("string"==typeof C)return"/"+C;if(C?.isString)return"("+C+")";if(C instanceof Date)return"(D:"+w(C.getUTCFullYear(),4)+w(C.getUTCMonth(),2)+w(C.getUTCDate(),2)+w(C.getUTCHours(),2)+w(C.getUTCMinutes(),2)+w(C.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(C)){for(x in R=["<<"],C)R.push("/"+x+" "+_.convert(C[x]));return R.push(">>"),R.join("\n")}return""+C},_}();const KN=ti},4412:(rs,yi,Kt)=>{"use strict";Kt.d(yi,{t:()=>Jn});var d=Kt(1413);class Jn extends d.B{constructor(rn){super(),this._value=rn}get value(){return this.getValue()}_subscribe(rn){const wn=super._subscribe(rn);return!wn.closed&&rn.next(this._value),wn}getValue(){const{hasError:rn,thrownError:wn,_value:gn}=this;if(rn)throw wn;return this._throwIfClosed(),gn}next(rn){super.next(this._value=rn)}}},1985:(rs,yi,Kt)=>{"use strict";Kt.d(yi,{c:()=>ln});var d=Kt(7707),Jn=Kt(8359),Cn=Kt(3494),rn=Kt(1203),wn=Kt(1026),gn=Kt(8071),Be=Kt(9786);let ln=(()=>{class bt{constructor(Ft){Ft&&(this._subscribe=Ft)}lift(Ft){const Mt=new bt;return Mt.source=this,Mt.operator=Ft,Mt}subscribe(Ft,Mt,xt){const st=function He(bt){return bt&&bt instanceof d.vU||function _t(bt){return bt&&(0,gn.T)(bt.next)&&(0,gn.T)(bt.error)&&(0,gn.T)(bt.complete)}(bt)&&(0,Jn.Uv)(bt)}(Ft)?Ft:new d.Ms(Ft,Mt,xt);return(0,Be.Y)(()=>{const{operator:Ae,source:Xe}=this;st.add(Ae?Ae.call(st,Xe):Xe?this._subscribe(st):this._trySubscribe(st))}),st}_trySubscribe(Ft){try{return this._subscribe(Ft)}catch(Mt){Ft.error(Mt)}}forEach(Ft,Mt){return new(Mt=mn(Mt))((xt,st)=>{const Ae=new d.Ms({next:Xe=>{try{Ft(Xe)}catch(vt){st(vt),Ae.unsubscribe()}},error:st,complete:xt});this.subscribe(Ae)})}_subscribe(Ft){var Mt;return null===(Mt=this.source)||void 0===Mt?void 0:Mt.subscribe(Ft)}[Cn.s](){return this}pipe(...Ft){return(0,rn.m)(Ft)(this)}toPromise(Ft){return new(Ft=mn(Ft))((Mt,xt)=>{let st;this.subscribe(Ae=>st=Ae,Ae=>xt(Ae),()=>Mt(st))})}}return bt.create=rt=>new bt(rt),bt})();function mn(bt){var rt;return null!==(rt=bt??wn.$.Promise)&&void 0!==rt?rt:Promise}},1413:(rs,yi,Kt)=>{"use strict";Kt.d(yi,{B:()=>Be});var d=Kt(1985),Jn=Kt(8359);const rn=(0,Kt(1853).L)(mn=>function(){mn(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var wn=Kt(7908),gn=Kt(9786);let Be=(()=>{class mn extends d.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(He){const bt=new ln(this,this);return bt.operator=He,bt}_throwIfClosed(){if(this.closed)throw new rn}next(He){(0,gn.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const bt of this.currentObservers)bt.next(He)}})}error(He){(0,gn.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=He;const{observers:bt}=this;for(;bt.length;)bt.shift().error(He)}})}complete(){(0,gn.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:He}=this;for(;He.length;)He.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var He;return(null===(He=this.observers)||void 0===He?void 0:He.length)>0}_trySubscribe(He){return this._throwIfClosed(),super._trySubscribe(He)}_subscribe(He){return this._throwIfClosed(),this._checkFinalizedStatuses(He),this._innerSubscribe(He)}_innerSubscribe(He){const{hasError:bt,isStopped:rt,observers:Ft}=this;return bt||rt?Jn.Kn:(this.currentObservers=null,Ft.push(He),new Jn.yU(()=>{this.currentObservers=null,(0,wn.o)(Ft,He)}))}_checkFinalizedStatuses(He){const{hasError:bt,thrownError:rt,isStopped:Ft}=this;bt?He.error(rt):Ft&&He.complete()}asObservable(){const He=new d.c;return He.source=this,He}}return mn.create=(_t,He)=>new ln(_t,He),mn})();class ln extends Be{constructor(_t,He){super(),this.destination=_t,this.source=He}next(_t){var He,bt;null===(bt=null===(He=this.destination)||void 0===He?void 0:He.next)||void 0===bt||bt.call(He,_t)}error(_t){var He,bt;null===(bt=null===(He=this.destination)||void 0===He?void 0:He.error)||void 0===bt||bt.call(He,_t)}complete(){var _t,He;null===(He=null===(_t=this.destination)||void 0===_t?void 0:_t.complete)||void 0===He||He.call(_t)}_subscribe(_t){var He,bt;return null!==(bt=null===(He=this.source)||void 0===He?void 0:He.subscribe(_t))&&void 0!==bt?bt:Jn.Kn}}},7707:(rs,yi,Kt)=>{"use strict";Kt.d(yi,{Ms:()=>xt,vU:()=>bt});var d=Kt(8071),Jn=Kt(8359),Cn=Kt(1026),rn=Kt(5334),wn=Kt(5343);const gn=mn("C",void 0,void 0);function mn(ut,Fe,gt){return{kind:ut,value:Fe,error:gt}}var _t=Kt(9270),He=Kt(9786);class bt extends Jn.yU{constructor(Fe){super(),this.isStopped=!1,Fe?(this.destination=Fe,(0,Jn.Uv)(Fe)&&Fe.add(this)):this.destination=vt}static create(Fe,gt,Gt){return new xt(Fe,gt,Gt)}next(Fe){this.isStopped?Xe(function ln(ut){return mn("N",ut,void 0)}(Fe),this):this._next(Fe)}error(Fe){this.isStopped?Xe(function Be(ut){return mn("E",void 0,ut)}(Fe),this):(this.isStopped=!0,this._error(Fe))}complete(){this.isStopped?Xe(gn,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Fe){this.destination.next(Fe)}_error(Fe){try{this.destination.error(Fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const rt=Function.prototype.bind;function Ft(ut,Fe){return rt.call(ut,Fe)}class Mt{constructor(Fe){this.partialObserver=Fe}next(Fe){const{partialObserver:gt}=this;if(gt.next)try{gt.next(Fe)}catch(Gt){st(Gt)}}error(Fe){const{partialObserver:gt}=this;if(gt.error)try{gt.error(Fe)}catch(Gt){st(Gt)}else st(Fe)}complete(){const{partialObserver:Fe}=this;if(Fe.complete)try{Fe.complete()}catch(gt){st(gt)}}}class xt extends bt{constructor(Fe,gt,Gt){let Wt;if(super(),(0,d.T)(Fe)||!Fe)Wt={next:Fe??void 0,error:gt??void 0,complete:Gt??void 0};else{let Rt;this&&Cn.$.useDeprecatedNextContext?(Rt=Object.create(Fe),Rt.unsubscribe=()=>this.unsubscribe(),Wt={next:Fe.next&&Ft(Fe.next,Rt),error:Fe.error&&Ft(Fe.error,Rt),complete:Fe.complete&&Ft(Fe.complete,Rt)}):Wt=Fe}this.destination=new Mt(Wt)}}function st(ut){Cn.$.useDeprecatedSynchronousErrorHandling?(0,He.l)(ut):(0,rn.m)(ut)}function Xe(ut,Fe){const{onStoppedNotification:gt}=Cn.$;gt&&_t.f.setTimeout(()=>gt(ut,Fe))}const vt={closed:!0,next:wn.l,error:function Ae(ut){throw ut},complete:wn.l}},8359:(rs,yi,Kt)=>{"use strict";Kt.d(yi,{Kn:()=>gn,yU:()=>wn,Uv:()=>Be});var d=Kt(8071);const Cn=(0,Kt(1853).L)(mn=>function(He){mn(this),this.message=He?`${He.length} errors occurred during unsubscription:\n${He.map((bt,rt)=>`${rt+1}) ${bt.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=He});var rn=Kt(7908);class wn{constructor(_t){this.initialTeardown=_t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let _t;if(!this.closed){this.closed=!0;const{_parentage:He}=this;if(He)if(this._parentage=null,Array.isArray(He))for(const Ft of He)Ft.remove(this);else He.remove(this);const{initialTeardown:bt}=this;if((0,d.T)(bt))try{bt()}catch(Ft){_t=Ft instanceof Cn?Ft.errors:[Ft]}const{_finalizers:rt}=this;if(rt){this._finalizers=null;for(const Ft of rt)try{ln(Ft)}catch(Mt){_t=_t??[],Mt instanceof Cn?_t=[..._t,...Mt.errors]:_t.push(Mt)}}if(_t)throw new Cn(_t)}}add(_t){var He;if(_t&&_t!==this)if(this.closed)ln(_t);else{if(_t instanceof wn){if(_t.closed||_t._hasParent(this))return;_t._addParent(this)}(this._finalizers=null!==(He=this._finalizers)&&void 0!==He?He:[]).push(_t)}}_hasParent(_t){const{_parentage:He}=this;return He===_t||Array.isArray(He)&&He.includes(_t)}_addParent(_t){const{_parentage:He}=this;this._parentage=Array.isArray(He)?(He.push(_t),He):He?[He,_t]:_t}_removeParent(_t){const{_parentage:He}=this;He===_t?this._parentage=null:Array.isArray(He)&&(0,rn.o)(He,_t)}remove(_t){const{_finalizers:He}=this;He&&(0,rn.o)(He,_t),_t instanceof wn&&_t._removeParent(this)}}wn.EMPTY=(()=>{const mn=new wn;return mn.closed=!0,mn})();const gn=wn.EMPTY;function Be(mn){return mn instanceof wn||mn&&"closed"in mn&&(0,d.T)(mn.remove)&&(0,d.T)(mn.add)&&(0,d.T)(mn.unsubscribe)}function ln(mn){(0,d.T)(mn)?mn():mn.unsubscribe()}},1026:(rs,yi,Kt)=>{"use strict";Kt.d(yi,{$:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4360:(rs,yi,Kt)=>{"use strict";Kt.d(yi,{H:()=>Cn,_:()=>Jn});var d=Kt(7707);function Jn(rn,wn,gn,Be,ln){return new Cn(rn,wn,gn,Be,ln)}class Cn extends d.vU{constructor(wn,gn,Be,ln,mn,_t){super(wn),this.onFinalize=mn,this.shouldUnsubscribe=_t,this._next=gn?function(He){try{gn(He)}catch(bt){wn.error(bt)}}:super._next,this._error=ln?function(He){try{ln(He)}catch(bt){wn.error(bt)}finally{this.unsubscribe()}}:super._error,this._complete=Be?function(){try{Be()}catch(He){wn.error(He)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var wn;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:gn}=this;super.unsubscribe(),!gn&&(null===(wn=this.onFinalize)||void 0===wn||wn.call(this))}}}},6354:(rs,yi,Kt)=>{"use strict";Kt.d(yi,{T:()=>Cn});var d=Kt(9974),Jn=Kt(4360);function Cn(rn,wn){return(0,d.N)((gn,Be)=>{let ln=0;gn.subscribe((0,Jn._)(Be,mn=>{Be.next(rn.call(wn,mn,ln++))}))})}},9270:(rs,yi,Kt)=>{"use strict";Kt.d(yi,{f:()=>d});const d={setTimeout(Jn,Cn,...rn){const{delegate:wn}=d;return wn?.setTimeout?wn.setTimeout(Jn,Cn,...rn):setTimeout(Jn,Cn,...rn)},clearTimeout(Jn){const{delegate:Cn}=d;return(Cn?.clearTimeout||clearTimeout)(Jn)},delegate:void 0}},3494:(rs,yi,Kt)=>{"use strict";Kt.d(yi,{s:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7908:(rs,yi,Kt)=>{"use strict";function d(Jn,Cn){if(Jn){const rn=Jn.indexOf(Cn);0<=rn&&Jn.splice(rn,1)}}Kt.d(yi,{o:()=>d})},1853:(rs,yi,Kt)=>{"use strict";function d(Jn){const rn=Jn(wn=>{Error.call(wn),wn.stack=(new Error).stack});return rn.prototype=Object.create(Error.prototype),rn.prototype.constructor=rn,rn}Kt.d(yi,{L:()=>d})},9786:(rs,yi,Kt)=>{"use strict";Kt.d(yi,{Y:()=>Cn,l:()=>rn});var d=Kt(1026);let Jn=null;function Cn(wn){if(d.$.useDeprecatedSynchronousErrorHandling){const gn=!Jn;if(gn&&(Jn={errorThrown:!1,error:null}),wn(),gn){const{errorThrown:Be,error:ln}=Jn;if(Jn=null,Be)throw ln}}else wn()}function rn(wn){d.$.useDeprecatedSynchronousErrorHandling&&Jn&&(Jn.errorThrown=!0,Jn.error=wn)}},3669:(rs,yi,Kt)=>{"use strict";function d(Jn){return Jn}Kt.d(yi,{D:()=>d})},8071:(rs,yi,Kt)=>{"use strict";function d(Jn){return"function"==typeof Jn}Kt.d(yi,{T:()=>d})},9974:(rs,yi,Kt)=>{"use strict";Kt.d(yi,{N:()=>Cn,S:()=>Jn});var d=Kt(8071);function Jn(rn){return(0,d.T)(rn?.lift)}function Cn(rn){return wn=>{if(Jn(wn))return wn.lift(function(gn){try{return rn(gn,this)}catch(Be){this.error(Be)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(rs,yi,Kt)=>{"use strict";function d(){}Kt.d(yi,{l:()=>d})},1203:(rs,yi,Kt)=>{"use strict";Kt.d(yi,{F:()=>Jn,m:()=>Cn});var d=Kt(3669);function Jn(...rn){return Cn(rn)}function Cn(rn){return 0===rn.length?d.D:1===rn.length?rn[0]:function(gn){return rn.reduce((Be,ln)=>ln(Be),gn)}}},5334:(rs,yi,Kt)=>{"use strict";Kt.d(yi,{m:()=>Cn});var d=Kt(1026),Jn=Kt(9270);function Cn(rn){Jn.f.setTimeout(()=>{const{onUnhandledError:wn}=d.$;if(!wn)throw rn;wn(rn)})}},9969:(rs,yi,Kt)=>{"use strict";Kt.d(yi,{FX:()=>Rt,If:()=>d,K2:()=>gn,MA:()=>bt,P:()=>Ft,hZ:()=>Cn,i0:()=>rn,iF:()=>Be,kY:()=>_t,kp:()=>Jn,sf:()=>Gt,ui:()=>Wt,wk:()=>ln});var d=function(xe){return xe[xe.State=0]="State",xe[xe.Transition=1]="Transition",xe[xe.Sequence=2]="Sequence",xe[xe.Group=3]="Group",xe[xe.Animate=4]="Animate",xe[xe.Keyframes=5]="Keyframes",xe[xe.Style=6]="Style",xe[xe.Trigger=7]="Trigger",xe[xe.Reference=8]="Reference",xe[xe.AnimateChild=9]="AnimateChild",xe[xe.AnimateRef=10]="AnimateRef",xe[xe.Query=11]="Query",xe[xe.Stagger=12]="Stagger",xe}(d||{});const Jn="*";function Cn(xe,We){return{type:d.Trigger,name:xe,definitions:We,options:{}}}function rn(xe,We=null){return{type:d.Animate,styles:We,timings:xe}}function gn(xe,We=null){return{type:d.Sequence,steps:xe,options:We}}function Be(xe){return{type:d.Style,styles:xe,offset:null}}function ln(xe,We,qt){return{type:d.State,name:xe,styles:We,options:qt}}function _t(xe,We,qt=null){return{type:d.Transition,expr:xe,animation:We,options:qt}}function bt(xe=null){return{type:d.AnimateChild,options:xe}}function Ft(xe,We,qt=null){return{type:d.Query,selector:xe,animation:We,options:qt}}class Gt{constructor(We=0,qt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=We+qt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(We=>We()),this._onDoneFns=[])}onStart(We){this._originalOnStartFns.push(We),this._onStartFns.push(We)}onDone(We){this._originalOnDoneFns.push(We),this._onDoneFns.push(We)}onDestroy(We){this._onDestroyFns.push(We)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(We=>We()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(We=>We()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(We){this._position=this.totalTime?We*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(We){const qt="start"==We?this._onStartFns:this._onDoneFns;qt.forEach(Wn=>Wn()),qt.length=0}}class Wt{constructor(We){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=We;let qt=0,Wn=0,Tt=0;const yt=this.players.length;0==yt?queueMicrotask(()=>this._onFinish()):this.players.forEach(cn=>{cn.onDone(()=>{++qt==yt&&this._onFinish()}),cn.onDestroy(()=>{++Wn==yt&&this._onDestroy()}),cn.onStart(()=>{++Tt==yt&&this._onStart()})}),this.totalTime=this.players.reduce((cn,mt)=>Math.max(cn,mt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(We=>We()),this._onDoneFns=[])}init(){this.players.forEach(We=>We.init())}onStart(We){this._onStartFns.push(We)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(We=>We()),this._onStartFns=[])}onDone(We){this._onDoneFns.push(We)}onDestroy(We){this._onDestroyFns.push(We)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(We=>We.play())}pause(){this.players.forEach(We=>We.pause())}restart(){this.players.forEach(We=>We.restart())}finish(){this._onFinish(),this.players.forEach(We=>We.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(We=>We.destroy()),this._onDestroyFns.forEach(We=>We()),this._onDestroyFns=[])}reset(){this.players.forEach(We=>We.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(We){const qt=We*this.totalTime;this.players.forEach(Wn=>{const Tt=Wn.totalTime?Math.min(1,qt/Wn.totalTime):1;Wn.setPosition(Tt)})}getPosition(){const We=this.players.reduce((qt,Wn)=>null===qt||Wn.totalTime>qt.totalTime?Wn:qt,null);return null!=We?We.getPosition():0}beforeDestroy(){this.players.forEach(We=>{We.beforeDestroy&&We.beforeDestroy()})}triggerCallback(We){const qt="start"==We?this._onStartFns:this._onDoneFns;qt.forEach(Wn=>Wn()),qt.length=0}}const Rt="!"},4438:(rs,yi,Kt)=>{"use strict";Kt.d(yi,{bc$:()=>Z,iLQ:()=>dy,sZ2:()=>hm,hnV:()=>uy,o8S:()=>Yp,BIS:()=>ne,gRc:()=>zx,Ql9:()=>ete,OM3:()=>Pm,Ocv:()=>m6,abz:()=>_r,Z63:()=>rp,aKT:()=>To,uvJ:()=>gc,zcH:()=>io,bkB:()=>Wa,$GK:()=>zi,nKC:()=>Vi,zZn:()=>Eo,_q3:()=>Jm,MKu:()=>Sw,xe9:()=>Gx,Co$:()=>uR,Vns:()=>Om,SKi:()=>Ao,Xx1:()=>ti,Agw:()=>k,PLl:()=>A,rOR:()=>nd,sFG:()=>qJ,_9s:()=>Ls,czy:()=>lC,WPN:()=>Cm,kdw:()=>Gg,C4Q:()=>SC,NYb:()=>Rx,giA:()=>xx,xvI:()=>QU,RxE:()=>sk,c1b:()=>iR,gXe:()=>Md,Af3:()=>T,L39:()=>Tte,Ol2:()=>dR,w6W:()=>k4,QZP:()=>Hk,Rfq:()=>kg,oKB:()=>Vb,WQX:()=>wi,hFB:()=>Ub,Hps:()=>oF,QuC:()=>al,EmA:()=>r_,Udg:()=>Ite,Jn2:()=>yw,N4e:()=>_,vPA:()=>C4,O8t:()=>B6,An2:()=>RC,H3F:()=>ok,H8p:()=>o_,KH2:()=>Wm,TgB:()=>Fm,wOt:()=>Gn,WHO:()=>mT,e01:()=>Dx,lNU:()=>Ad,h9k:()=>D_,$MX:()=>sf,ZF7:()=>rf,Kcf:()=>pD,e5t:()=>$0,UyX:()=>I_,cWb:()=>j0,osQ:()=>mm,H5H:()=>JC,Zy3:()=>Dd,mq5:()=>qR,JZv:()=>Ii,TL3:()=>eg,LfX:()=>v0,plB:()=>Lp,jNT:()=>ck,zjR:()=>_T,ngT:()=>xa,TL$:()=>Yb,Tbb:()=>$s,rcV:()=>ha,Vt3:()=>K_,Mj6:()=>Nd,GFd:()=>F4,OA$:()=>Pl,Jv_:()=>RU,aNF:()=>k2,R7$:()=>$a,BMQ:()=>IF,HbH:()=>FR,ZvI:()=>EH,AVh:()=>OR,vxM:()=>BF,wni:()=>v2,VBU:()=>x0,FsC:()=>M0,jDH:()=>wr,G2t:()=>yb,$C:()=>kb,EJ8:()=>Lb,rXU:()=>Em,nrm:()=>UR,eu8:()=>eT,bVm:()=>WR,qex:()=>ZS,k0s:()=>YC,j41:()=>JS,RV6:()=>XC,xGo:()=>wp,Mr5:()=>tT,KVO:()=>ds,kS0:()=>Pi,QTQ:()=>AB,bIt:()=>rx,lsd:()=>ux,qSk:()=>kl,XpG:()=>aw,nI1:()=>LU,bMT:()=>fw,SdG:()=>ax,NAR:()=>oy,Y8G:()=>MR,eq3:()=>PU,l_i:()=>MU,mGM:()=>y2,sdS:()=>dx,Dyx:()=>WF,Z7z:()=>UF,fX1:()=>HF,Njj:()=>f_,eBV:()=>h_,n$t:()=>eO,xc7:()=>OF,DNE:()=>kC,C5r:()=>B2,EFF:()=>ay,JRh:()=>R2,SpI:()=>aT,Lme:()=>uw,GBs:()=>_2}),Kt(467);let Cn=null,rn=!1,wn=1;const gn=Symbol("SIGNAL");function Be(a){const l=Cn;return Cn=a,l}const He={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function bt(a){if(rn)throw new Error("");if(null===Cn)return;Cn.consumerOnSignalRead(a);const l=Cn.nextProducerIndex++;Wt(Cn),l<Cn.producerNode.length&&Cn.producerNode[l]!==a&&Gt(Cn)&&gt(Cn.producerNode[l],Cn.producerIndexOfThis[l]),Cn.producerNode[l]!==a&&(Cn.producerNode[l]=a,Cn.producerIndexOfThis[l]=Gt(Cn)?Fe(a,Cn,l):0),Cn.producerLastReadVersion[l]=a.version}function Ft(a){if((!Gt(a)||a.dirty)&&(a.dirty||a.lastCleanEpoch!==wn)){if(!a.producerMustRecompute(a)&&!vt(a))return a.dirty=!1,void(a.lastCleanEpoch=wn);a.producerRecomputeValue(a),a.dirty=!1,a.lastCleanEpoch=wn}}function Mt(a){if(void 0===a.liveConsumerNode)return;const l=rn;rn=!0;try{for(const u of a.liveConsumerNode)u.dirty||st(u)}finally{rn=l}}function xt(){return!1!==Cn?.consumerAllowSignalWrites}function st(a){a.dirty=!0,Mt(a),a.consumerMarkedDirty?.(a)}function Ae(a){return a&&(a.nextProducerIndex=0),Be(a)}function Xe(a,l){if(Be(l),a&&void 0!==a.producerNode&&void 0!==a.producerIndexOfThis&&void 0!==a.producerLastReadVersion){if(Gt(a))for(let u=a.nextProducerIndex;u<a.producerNode.length;u++)gt(a.producerNode[u],a.producerIndexOfThis[u]);for(;a.producerNode.length>a.nextProducerIndex;)a.producerNode.pop(),a.producerLastReadVersion.pop(),a.producerIndexOfThis.pop()}}function vt(a){Wt(a);for(let l=0;l<a.producerNode.length;l++){const u=a.producerNode[l],f=a.producerLastReadVersion[l];if(f!==u.version||(Ft(u),f!==u.version))return!0}return!1}function ut(a){if(Wt(a),Gt(a))for(let l=0;l<a.producerNode.length;l++)gt(a.producerNode[l],a.producerIndexOfThis[l]);a.producerNode.length=a.producerLastReadVersion.length=a.producerIndexOfThis.length=0,a.liveConsumerNode&&(a.liveConsumerNode.length=a.liveConsumerIndexOfThis.length=0)}function Fe(a,l,u){if(Rt(a),Wt(a),0===a.liveConsumerNode.length)for(let f=0;f<a.producerNode.length;f++)a.producerIndexOfThis[f]=Fe(a.producerNode[f],a,f);return a.liveConsumerIndexOfThis.push(u),a.liveConsumerNode.push(l)-1}function gt(a,l){if(Rt(a),Wt(a),1===a.liveConsumerNode.length)for(let f=0;f<a.producerNode.length;f++)gt(a.producerNode[f],a.producerIndexOfThis[f]);const u=a.liveConsumerNode.length-1;if(a.liveConsumerNode[l]=a.liveConsumerNode[u],a.liveConsumerIndexOfThis[l]=a.liveConsumerIndexOfThis[u],a.liveConsumerNode.length--,a.liveConsumerIndexOfThis.length--,l<a.liveConsumerNode.length){const f=a.liveConsumerIndexOfThis[l],g=a.liveConsumerNode[l];Wt(g),g.producerIndexOfThis[f]=l}}function Gt(a){return a.consumerIsAlwaysLive||(a?.liveConsumerNode?.length??0)>0}function Wt(a){a.producerNode??=[],a.producerIndexOfThis??=[],a.producerLastReadVersion??=[]}function Rt(a){a.liveConsumerNode??=[],a.liveConsumerIndexOfThis??=[]}let cn=function yt(){throw new Error};function mt(){cn()}let Sn=null;function oi(a,l){xt()||mt(),a.equal(a.value,l)||(a.value=l,function mo(a){a.version++,function rt(){wn++}(),Mt(a),Sn?.()}(a))}const cs={...He,equal:function Jn(a,l){return Object.is(a,l)},value:void 0};const hc=()=>{},$f={...He,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:a=>{null!==a.schedule&&a.schedule(a.ref)},hasRun:!1,cleanupFn:hc};var Dh=Kt(1413),qv=Kt(8359),Kv=Kt(4412),gb=Kt(6354);const Ad="https://g.co/ng/security#xss";class Gn extends Error{constructor(l,u){super(Dd(l,u)),this.code=l}}function Dd(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}const qf=Symbol("InputSignalNode#UNSET"),Yv={...cs,transformFn:void 0,applyValueToInputSignal(a,l){oi(a,l)}};function nu(a,l){const u=Object.create(Yv);function f(){if(bt(u),u.value===qf)throw new Gn(-950,!1);return u.value}return u.value=a,u.transformFn=l?.transform,f[gn]=u,f}function Wi(a){return{toString:a}.toString()}const Rd="__parameters__";function Kr(a,l,u){return Wi(()=>{const f=function Og(a){return function(...u){if(a){const f=a(...u);for(const g in f)this[g]=f[g]}}}(l);function g(...v){if(this instanceof g)return f.apply(this,v),this;const E=new g(...v);return D.annotation=E,D;function D(P,B,Y){const le=P.hasOwnProperty(Rd)?P[Rd]:Object.defineProperty(P,Rd,{value:[]})[Rd];for(;le.length<=Y;)le.push(null);return(le[Y]=le[Y]||[]).push(E),P}}return u&&(g.prototype=Object.create(u.prototype)),g.prototype.ngMetadataName=a,g.annotationCls=g,g})}const Ii=globalThis;function Ar(a){for(let l in a)if(a[l]===Ar)return l;throw Error("Could not find renamed property on target object.")}function Fg(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function $s(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map($s).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function Rh(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const zA=Ar({__forward_ref__:Ar});function kg(a){return a.__forward_ref__=kg,a.toString=function(){return $s(this())},a}function di(a){return Kf(a)?a():a}function Kf(a){return"function"==typeof a&&a.hasOwnProperty(zA)&&a.__forward_ref__===kg}function wr(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function yb(a){return{providers:a.providers||[],imports:a.imports||[]}}function bb(a){return Xf(a,wb)||Xf(a,Eb)}function v0(a){return null!==bb(a)}function Xf(a,l){return a.hasOwnProperty(l)?a[l]:null}function Qf(a){return a&&(a.hasOwnProperty(Xv)||a.hasOwnProperty(qA))?a[Xv]:null}const wb=Ar({\u0275prov:Ar}),Xv=Ar({\u0275inj:Ar}),Eb=Ar({ngInjectableDef:Ar}),qA=Ar({ngInjectorDef:Ar});class Vi{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=wr({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Jv(a){return a&&!!a.\u0275providers}const Zf=Ar({\u0275cmp:Ar}),y0=Ar({\u0275dir:Ar}),b0=Ar({\u0275pipe:Ar}),HN=Ar({\u0275mod:Ar}),xh=Ar({\u0275fac:Ar}),Vg=Ar({__NG_ELEMENT_ID__:Ar}),YA=Ar({__NG_ENV_ID__:Ar});function bi(a){return"string"==typeof a?a:null==a?"":String(a)}function Zv(a,l){throw new Gn(-201,!1)}var zi=function(a){return a[a.Default=0]="Default",a[a.Host=1]="Host",a[a.Self=2]="Self",a[a.SkipSelf=4]="SkipSelf",a[a.Optional=8]="Optional",a}(zi||{});let Ph;function e_(){return Ph}function qs(a){const l=Ph;return Ph=a,l}function Rb(a,l,u){const f=bb(a);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:u&zi.Optional?null:void 0!==l?l:void Zv()}const Ks={},Cs="__NG_DI_FLAG__",vo="ngTempTokenPath",w0=/\n/gm,Pb="__source";let ep;function iu(a){const l=ep;return ep=a,l}function QA(a,l=zi.Default){if(void 0===ep)throw new Gn(-203,!1);return null===ep?Rb(a,void 0,l):ep.get(a,l&zi.Optional?null:void 0,l)}function ds(a,l=zi.Default){return(e_()||QA)(di(a),l)}function wi(a,l=zi.Default){return ds(a,xd(l))}function xd(a){return typeof a>"u"||"number"==typeof a?a:(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function Mh(a){const l=[];for(let u=0;u<a.length;u++){const f=di(a[u]);if(Array.isArray(f)){if(0===f.length)throw new Gn(900,!1);let g,v=zi.Default;for(let E=0;E<f.length;E++){const D=f[E],P=np(D);"number"==typeof P?-1===P?g=D.token:v|=P:g=D}l.push(ds(g,v))}else l.push(ds(f))}return l}function Va(a,l){return a[Cs]=l,a.prototype[Cs]=l,a}function np(a){return a[Cs]}const ti=Va(Kr("Optional"),8),Gg=Va(Kr("SkipSelf"),4);function fc(a,l){return a.hasOwnProperty(xh)?a[xh]:null}function _o(a,l){a.forEach(u=>Array.isArray(u)?_o(u,l):l(u))}function T0(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function Ga(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function dr(a,l,u){let f=ru(a,l);return f>=0?a[1|f]=u:(f=~f,function xs(a,l,u,f){let g=a.length;if(g==l)a.push(u,f);else if(1===g)a.push(f,a[0]),a[0]=u;else{for(g--,a.push(a[g-1],a[g]);g>l;)a[g]=a[g-2],g--;a[l]=u,a[l+1]=f}}(a,f,l,u)),f}function Nb(a,l){const u=ru(a,l);if(u>=0)return a[1|u]}function ru(a,l){return function t_(a,l,u){let f=0,g=a.length>>u;for(;g!==f;){const v=f+(g-f>>1),E=a[v<<u];if(l===E)return v<<u;E>l?g=v:f=v+1}return~(g<<u)}(a,l,1)}const su={},hr=[],rp=new Vi(""),JA=new Vi("",-1),n_=new Vi("");class sp{get(l,u=Ks){if(u===Ks){const f=new Error(`NullInjectorError: No provider for ${$s(l)}!`);throw f.name="NullInjectorError",f}return u}}var ol=function(a){return a[a.OnPush=0]="OnPush",a[a.Default=1]="Default",a}(ol||{}),Md=function(a){return a[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",a}(Md||{}),Nd=function(a){return a[a.None=0]="None",a[a.SignalBased=1]="SignalBased",a[a.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",a}(Nd||{});function pc(a,l,u){let f=a.length;for(;;){const g=a.indexOf(l,u);if(-1===g)return g;if(0===g||a.charCodeAt(g-1)<=32){const v=l.length;if(g+v===f||a.charCodeAt(g+v)<=32)return g}u=g+1}}function Wu(a,l,u){let f=0;for(;f<u.length;){const g=u[f];if("number"==typeof g){if(0!==g)break;f++;const v=u[f++],E=u[f++],D=u[f++];a.setAttribute(l,E,D,v)}else{const v=g,E=u[++f];Fh(v)?a.setProperty(l,v,E):a.setAttribute(l,v,E),f++}}return f}function Od(a){return 3===a||4===a||6===a}function Fh(a){return 64===a.charCodeAt(0)}function Fd(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let f=0;f<l.length;f++){const g=l[f];"number"==typeof g?u=g:0===u||Xs(a,u,g,null,-1===u||2===u?l[++f]:null)}}return a}function Xs(a,l,u,f,g){let v=0,E=a.length;if(-1===l)E=-1;else for(;v<a.length;){const D=a[v++];if("number"==typeof D){if(D===l){E=-1;break}if(D>l){E=v-1;break}}}for(;v<a.length;){const D=a[v];if("number"==typeof D)break;if(D===u){if(null===f)return void(null!==g&&(a[v+1]=g));if(f===a[v+1])return void(a[v+2]=g)}v++,null!==f&&v++,null!==g&&v++}-1!==E&&(a.splice(E,0,l),v=E+1),a.splice(v++,0,u),null!==f&&a.splice(v++,0,f),null!==g&&a.splice(v++,0,g)}const op="ng-template";function kh(a,l,u,f){let g=0;if(f){for(;g<l.length&&"string"==typeof l[g];g+=2)if("class"===l[g]&&-1!==pc(l[g+1].toLowerCase(),u,0))return!0}else if(Bg(a))return!1;if(g=l.indexOf(1,g),g>-1){let v;for(;++g<l.length&&"string"==typeof(v=l[g]);)if(v.toLowerCase()===u)return!0}return!1}function Bg(a){return 4===a.type&&a.value!==op}function i_(a,l,u){return l===(4!==a.type||u?a.value:op)}function kd(a,l,u){let f=4;const g=a.attrs,v=null!==g?function D0(a){for(let l=0;l<a.length;l++)if(Od(a[l]))return l;return a.length}(g):0;let E=!1;for(let D=0;D<l.length;D++){const P=l[D];if("number"!=typeof P){if(!E)if(4&f){if(f=2|1&f,""!==P&&!i_(a,P,u)||""===P&&1===l.length){if(ba(f))return!1;E=!0}}else if(8&f){if(null===g||!kh(a,g,P,u)){if(ba(f))return!1;E=!0}}else{const B=l[++D],Y=$n(P,g,Bg(a),u);if(-1===Y){if(ba(f))return!1;E=!0;continue}if(""!==B){let le;if(le=Y>v?"":g[Y+1].toLowerCase(),2&f&&B!==le){if(ba(f))return!1;E=!0}}}}else{if(!E&&!ba(f)&&!ba(P))return!1;if(E&&ba(P))continue;E=!1,f=P|1&f}}return ba(f)||E}function ba(a){return!(1&a)}function $n(a,l,u,f){if(null===l)return-1;let g=0;if(f||!u){let v=!1;for(;g<l.length;){const E=l[g];if(E===a)return g;if(3===E||6===E)v=!0;else{if(1===E||2===E){let D=l[++g];for(;"string"==typeof D;)D=l[++g];continue}if(4===E)break;if(0===E){g+=4;continue}}g+=v?1:2}return-1}return function zr(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const f=a[u];if("number"==typeof f)return-1;if(f===l)return u;u++}return-1}(l,a)}function ZA(a,l,u=!1){for(let f=0;f<l.length;f++)if(kd(a,l[f],u))return!0;return!1}function eD(a,l){e:for(let u=0;u<l.length;u++){const f=l[u];if(a.length===f.length){for(let g=0;g<a.length;g++)if(a[g]!==f[g])continue e;return!0}}return!1}function Fb(a,l){return a?":not("+l.trim()+")":l}function tD(a){let l=a[0],u=1,f=2,g="",v=!1;for(;u<a.length;){let E=a[u];if("string"==typeof E)if(2&f){const D=a[++u];g+="["+E+(D.length>0?'="'+D+'"':"")+"]"}else 8&f?g+="."+E:4&f&&(g+=" "+E);else""!==g&&!ba(E)&&(l+=Fb(v,g),g=""),f=E,v=v||!ba(f);u++}return""!==g&&(l+=Fb(v,g)),l}function x0(a){return Wi(()=>{const l=ap(a),u={...l,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===ol.OnPush,directiveDefs:null,pipeDefs:null,dependencies:l.standalone&&a.dependencies||null,getStandaloneInjector:null,signals:a.signals??!1,data:a.data||{},encapsulation:a.encapsulation||Md.Emulated,styles:a.styles||hr,_:null,schemas:a.schemas||null,tView:null,id:""};lp(u);const f=a.dependencies;return u.directiveDefs=cp(f,!1),u.pipeDefs=cp(f,!0),u.id=function rD(a){let l=0;const u=[a.selectors,a.ngContentSelectors,a.hostVars,a.hostAttrs,a.consts,a.vars,a.decls,a.encapsulation,a.standalone,a.signals,a.exportAs,JSON.stringify(a.inputs),JSON.stringify(a.outputs),Object.getOwnPropertyNames(a.type.prototype),!!a.contentQueries,!!a.viewQuery].join("|");for(const g of u)l=Math.imul(31,l)+g.charCodeAt(0)|0;return l+=2147483648,"c"+l}(u),u})}function WN(a){return ji(a)||ws(a)}function P0(a){return null!==a}function kb(a){return Wi(()=>({type:a.type,bootstrap:a.bootstrap||hr,declarations:a.declarations||hr,imports:a.imports||hr,exports:a.exports||hr,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function nD(a,l){if(null==a)return su;const u={};for(const f in a)if(a.hasOwnProperty(f)){const g=a[f];let v,E,D=Nd.None;Array.isArray(g)?(D=g[0],v=g[1],E=g[2]??v):(v=g,E=g),l?(u[v]=D!==Nd.None?[f,D]:f,l[v]=E):u[v]=f}return u}function M0(a){return Wi(()=>{const l=ap(a);return lp(l),l})}function Lb(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function ji(a){return a[Zf]||null}function ws(a){return a[y0]||null}function Qs(a){return a[b0]||null}function al(a){const l=ji(a)||ws(a)||Qs(a);return null!==l&&l.standalone}function qo(a,l){const u=a[HN]||null;if(!u&&!0===l)throw new Error(`Type ${$s(a)} does not have '\u0275mod' property.`);return u}function ap(a){const l={};return{type:a.type,providersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:l,inputTransforms:null,inputConfig:a.inputs||su,exportAs:a.exportAs||null,standalone:!0===a.standalone,signals:!0===a.signals,selectors:a.selectors||hr,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:nD(a.inputs,l),outputs:nD(a.outputs),debugInfo:null}}function lp(a){a.features?.forEach(l=>l(a))}function cp(a,l){if(!a)return null;const u=l?Qs:WN;return()=>("function"==typeof a?a():a).map(f=>u(f)).filter(P0)}function r_(a){return{\u0275providers:a}}function Vb(...a){return{\u0275providers:Hg(0,a),\u0275fromNgModule:!0}}function Hg(a,...l){const u=[],f=new Set;let g;const v=E=>{u.push(E)};return _o(l,E=>{const D=E;ll(D,v,[],f)&&(g||=[],g.push(D))}),void 0!==g&&s_(g,v),u}function s_(a,l){for(let u=0;u<a.length;u++){const{ngModule:f,providers:g}=a[u];xl(g,v=>{l(v,f)})}}function ll(a,l,u,f){if(!(a=di(a)))return!1;let g=null,v=Qf(a);const E=!v&&ji(a);if(v||E){if(E&&!E.standalone)return!1;g=a}else{const P=a.ngModule;if(v=Qf(P),!v)return!1;g=P}const D=f.has(g);if(E){if(D)return!1;if(f.add(g),E.dependencies){const P="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const B of P)ll(B,l,u,f)}}else{if(!v)return!1;{if(null!=v.imports&&!D){let B;f.add(g);try{_o(v.imports,Y=>{ll(Y,l,u,f)&&(B||=[],B.push(Y))})}finally{}void 0!==B&&s_(B,l)}if(!D){const B=fc(g)||(()=>new g);l({provide:g,useFactory:B,deps:hr},g),l({provide:n_,useValue:g,multi:!0},g),l({provide:rp,useValue:()=>ds(g),multi:!0},g)}const P=v.providers;if(null!=P&&!D){const B=a;xl(P,Y=>{l(Y,B)})}}}return g!==a&&void 0!==a.providers}function xl(a,l){for(let u of a)Jv(u)&&(u=u.\u0275providers),Array.isArray(u)?xl(u,l):l(u)}const Lh=Ar({provide:String,useValue:Ar});function N0(a){return null!==a&&"object"==typeof a&&Lh in a}function Vh(a){return"function"==typeof a}const o_=new Vi(""),Gb={},oD={};let F0;function a_(){return void 0===F0&&(F0=new sp),F0}class gc{}class Ug extends gc{get destroyed(){return this._destroyed}constructor(l,u,f,g){super(),this.parent=u,this.source=f,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,w(l,E=>this.processProvider(E)),this.records.set(JA,Wg(void 0,this)),g.has("environment")&&this.records.set(gc,Wg(void 0,this));const v=this.records.get(o_);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(n_,hr,zi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const l=Be(null);try{for(const f of this._ngOnDestroyHooks)f.ngOnDestroy();const u=this._onDestroyHooks;this._onDestroyHooks=[];for(const f of u)f()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Be(l)}}onDestroy(l){return this.assertNotDestroyed(),this._onDestroyHooks.push(l),()=>this.removeOnDestroy(l)}runInContext(l){this.assertNotDestroyed();const u=iu(this),f=qs(void 0);try{return l()}finally{iu(u),qs(f)}}get(l,u=Ks,f=zi.Default){if(this.assertNotDestroyed(),l.hasOwnProperty(YA))return l[YA](this);f=xd(f);const v=iu(this),E=qs(void 0);try{if(!(f&zi.SkipSelf)){let P=this.records.get(l);if(void 0===P){const B=function KN(a){return"function"==typeof a||"object"==typeof a&&a instanceof Vi}(l)&&bb(l);P=B&&this.injectableDefInScope(B)?Wg(k0(l),Gb):null,this.records.set(l,P)}if(null!=P)return this.hydrate(l,P)}return(f&zi.Self?a_():this.parent).get(l,u=f&zi.Optional&&u===Ks?null:u)}catch(D){if("NullInjectorError"===D.name){if((D[vo]=D[vo]||[]).unshift($s(l)),v)throw D;return function S0(a,l,u,f){const g=a[vo];throw l[Pb]&&g.unshift(l[Pb]),a.message=function Pd(a,l,u,f=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let g=$s(l);if(Array.isArray(l))g=l.map($s).join(" -> ");else if("object"==typeof l){let v=[];for(let E in l)if(l.hasOwnProperty(E)){let D=l[E];v.push(E+":"+("string"==typeof D?JSON.stringify(D):$s(D)))}g=`{${v.join(", ")}}`}return`${u}${f?"("+f+")":""}[${g}]: ${a.replace(w0,"\n  ")}`}("\n"+a.message,g,u,f),a.ngTokenPath=g,a[vo]=null,a}(D,l,"R3InjectorError",this.source)}throw D}finally{qs(E),iu(v)}}resolveInjectorInitializers(){const l=Be(null),u=iu(this),f=qs(void 0);try{const v=this.get(rp,hr,zi.Self);for(const E of v)E()}finally{iu(u),qs(f),Be(l)}}toString(){const l=[],u=this.records;for(const f of u.keys())l.push($s(f));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Gn(205,!1)}processProvider(l){let u=Vh(l=di(l))?l:di(l&&l.provide);const f=function jN(a){return N0(a)?Wg(void 0,a.useValue):Wg(lD(a),Gb)}(l);if(!Vh(l)&&!0===l.multi){let g=this.records.get(u);g||(g=Wg(void 0,Gb,!0),g.factory=()=>Mh(g.multi),this.records.set(u,g)),u=l,g.multi.push(l)}this.records.set(u,f)}hydrate(l,u){const f=Be(null);try{return u.value===Gb&&(u.value=oD,u.value=u.factory()),"object"==typeof u.value&&u.value&&function qN(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}finally{Be(f)}}injectableDefInScope(l){if(!l.providedIn)return!1;const u=di(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(l){const u=this._onDestroyHooks.indexOf(l);-1!==u&&this._onDestroyHooks.splice(u,1)}}function k0(a){const l=bb(a),u=null!==l?l.factory:fc(a);if(null!==u)return u;if(a instanceof Vi)throw new Gn(204,!1);if(a instanceof Function)return function aD(a){if(a.length>0)throw new Gn(204,!1);const u=function Cb(a){return a&&(a[wb]||a[Eb])||null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Gn(204,!1)}function lD(a,l,u){let f;if(Vh(a)){const g=di(a);return fc(g)||k0(g)}if(N0(a))f=()=>di(a.useValue);else if(function ou(a){return!(!a||!a.useFactory)}(a))f=()=>a.useFactory(...Mh(a.deps||[]));else if(function sD(a){return!(!a||!a.useExisting)}(a))f=()=>ds(di(a.useExisting));else{const g=di(a&&(a.useClass||a.provide));if(!function $N(a){return!!a.deps}(a))return fc(g)||k0(g);f=()=>new g(...Mh(a.deps))}return f}function Wg(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function w(a,l){for(const u of a)Array.isArray(u)?w(u,l):u&&Jv(u)?w(u.\u0275providers,l):l(u)}function _(a,l){a instanceof Ug&&a.assertNotDestroyed();const f=iu(a),g=qs(void 0);try{return l()}finally{iu(f),qs(g)}}function C(){return void 0!==e_()||null!=function E0(){return ep}()}function T(a){if(!C())throw new Gn(-203,!1)}const ke=0,Ee=1,qe=2,Ht=3,at=4,Pe=5,lt=6,kt=7,ce=8,he=9,Ve=10,_e=11,It=12,wt=13,Pt=14,nt=15,Vt=16,jt=17,En=18,ie=19,we=20,De=21,Ge=22,Je=23,$e=25,Et=1,dn=7,An=9,hn=10;var hi=function(a){return a[a.None=0]="None",a[a.HasTransplantedViews=2]="HasTransplantedViews",a}(hi||{});function Dt(a){return Array.isArray(a)&&"object"==typeof a[Et]}function Ie(a){return Array.isArray(a)&&!0===a[Et]}function xi(a){return!!(4&a.flags)}function jn(a){return a.componentOffset>-1}function un(a){return!(1&~a.flags)}function vn(a){return!!a.template}function kn(a){return!!(512&a[qe])}class Ha{constructor(l,u,f){this.previousValue=l,this.currentValue=u,this.firstChange=f}isFirstChange(){return this.firstChange}}function Zs(a,l,u,f){null!==l?l.applyValueToInputSignal(l,f):a[u]=f}function Pl(){return cl}function cl(a){return a.type.prototype.ngOnChanges&&(a.setInput=vc),ni}function ni(){const a=Ca(this),l=a?.current;if(l){const u=a.previous;if(u===su)a.previous=l;else for(let f in l)u[f]=l[f];a.current=null,this.ngOnChanges(l)}}function vc(a,l,u,f,g){const v=this.declaredInputs[f],E=Ca(a)||function yo(a,l){return a[_c]=l}(a,{previous:su,current:null}),D=E.current||(E.current={}),P=E.previous,B=P[v];D[v]=new Ha(B&&B.currentValue,u,P===su),Zs(a,l,g,u)}Pl.ngInherit=!0;const _c="__ngSimpleChanges__";function Ca(a){return a[_c]||null}const wa=function(a,l,u){},yc="svg";let Ua=!1;function Ui(a){for(;Array.isArray(a);)a=a[ke];return a}function wc(a,l){return Ui(l[a])}function eo(a,l){return Ui(l[a.index])}function Ec(a,l){return a.data[l]}function Sc(a,l){return a[l]}function Ko(a,l){const u=l[a];return Dt(u)?u:u[ke]}function jg(a){return!(128&~a[qe])}function hl(a,l){return null==l?null:a[l]}function l_(a){a[jt]=0}function $g(a){1024&a[qe]||(a[qe]|=1024,jg(a)&&lu(a))}function up(a){return!!(9216&a[qe]||a[Je]?.dirty)}function qg(a){a[Ve].changeDetectionScheduler?.notify(1),up(a)?lu(a):64&a[qe]&&(function bc(){return Ua}()?(a[qe]|=1024,lu(a)):a[Ve].changeDetectionScheduler?.notify())}function lu(a){a[Ve].changeDetectionScheduler?.notify();let l=zu(a);for(;null!==l&&!(8192&l[qe])&&(l[qe]|=8192,jg(l));)l=zu(l)}function dp(a,l){if(!(256&~a[qe]))throw new Gn(911,!1);null===a[De]&&(a[De]=[]),a[De].push(l)}function zu(a){const l=a[Ht];return Ie(l)?l[Ht]:l}const ci={lFrame:Jg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ea(){return ci.bindingsEnabled}function Tc(){return null!==ci.skipHydrationRootTNode}function Bt(){return ci.lFrame.lView}function Bi(){return ci.lFrame.tView}function h_(a){return ci.lFrame.contextLView=a,a[ce]}function f_(a){return ci.lFrame.contextLView=null,a}function vr(){let a=cu();for(;null!==a&&64===a.type;)a=a.parent;return a}function cu(){return ci.lFrame.currentTNode}function ps(a,l){const u=ci.lFrame;u.currentTNode=a,u.isParent=l}function Or(){return ci.lFrame.isParent}function Oi(){ci.lFrame.isParent=!1}function Yo(){const a=ci.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function Sa(){return ci.lFrame.bindingIndex++}function Fl(a){const l=ci.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function p_(a,l){const u=ci.lFrame;u.bindingIndex=u.bindingRootIndex=a,mp(l)}function mp(a){ci.lFrame.currentDirectiveIndex=a}function ju(){return ci.lFrame.currentQueryIndex}function On(a){ci.lFrame.currentQueryIndex=a}function Fo(a){const l=a[Ee];return 2===l.type?l.declTNode:1===l.type?a[Pe]:null}function Gd(a,l,u){if(u&zi.SkipSelf){let g=l,v=a;for(;!(g=g.parent,null!==g||u&zi.Host||(g=Fo(v),null===g||(v=v[Pt],10&g.type))););if(null===g)return!1;l=g,a=v}const f=ci.lFrame=Hh();return f.currentTNode=l,f.lView=a,!0}function du(a){const l=Hh(),u=a[Ee];ci.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function Hh(){const a=ci.lFrame,l=null===a?null:a.child;return null===l?Jg(a):l}function Jg(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Zg(){const a=ci.lFrame;return ci.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const em=Zg;function Uh(){const a=Zg();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Rr(){return ci.lFrame.selectedIndex}function ei(a){ci.lFrame.selectedIndex=a}function pr(){const a=ci.lFrame;return Ec(a.tView,a.selectedIndex)}function kl(){ci.lFrame.currentNamespace=yc}let tm=!0;function $u(){return tm}function xr(a){tm=a}function qu(a,l){for(let u=l.directiveStart,f=l.directiveEnd;u<f;u++){const v=a.data[u].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:D,ngAfterViewInit:P,ngAfterViewChecked:B,ngOnDestroy:Y}=v;E&&(a.contentHooks??=[]).push(-u,E),D&&((a.contentHooks??=[]).push(u,D),(a.contentCheckHooks??=[]).push(u,D)),P&&(a.viewHooks??=[]).push(-u,P),B&&((a.viewHooks??=[]).push(u,B),(a.viewCheckHooks??=[]).push(u,B)),null!=Y&&(a.destroyHooks??=[]).push(u,Y)}}function fl(a,l,u){Ud(a,l,3,u)}function Ll(a,l,u,f){(3&a[qe])===u&&Ud(a,l,u,f)}function vp(a,l){let u=a[qe];(3&u)===l&&(u&=16383,u+=1,a[qe]=u)}function Ud(a,l,u,f){const v=f??-1,E=l.length-1;let D=0;for(let P=void 0!==f?65535&a[jt]:0;P<E;P++)if("number"==typeof l[P+1]){if(D=l[P],null!=f&&D>=f)break}else l[P]<0&&(a[jt]+=65536),(D<v||-1==v)&&(_p(a,u,l,P),a[jt]=(4294901760&a[jt])+P+2),P++}function Co(a,l){wa(4,a,l);const u=Be(null);try{l.call(a)}finally{Be(u),wa(5,a,l)}}function _p(a,l,u,f){const g=u[f]<0,v=u[f+1],D=a[g?-u[f]:u[f]];g?a[qe]>>14<a[jt]>>16&&(3&a[qe])===l&&(a[qe]+=16384,Co(D,v)):Co(D,v)}const fu=-1;class Pr{constructor(l,u,f){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=f}}function nn(a){return a!==fu}function Nn(a){return 32767&a}function ui(a,l){let u=function ri(a){return a>>16}(a),f=l;for(;u>0;)f=f[Pt],u--;return f}let fi=!0;function ii(a){const l=fi;return fi=a,l}const gs=255,Ms=5;let ko=0;const jr={};function to(a,l){const u=Qi(a,l);if(-1!==u)return u;const f=l[Ee];f.firstCreatePass&&(a.injectorIndex=l.length,Vl(f.data,a),Vl(l,null),Vl(f.blueprint,null));const g=Ci(a,l),v=a.injectorIndex;if(nn(g)){const E=Nn(g),D=ui(g,l),P=D[Ee].data;for(let B=0;B<8;B++)l[v+B]=D[E+B]|P[E+B]}return l[v+8]=g,v}function Vl(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Qi(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Ci(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,f=null,g=l;for(;null!==g;){if(f=gl(g),null===f)return fu;if(u++,g=g[Pt],-1!==f.injectorIndex)return f.injectorIndex|u<<16}return fu}function xc(a,l,u){!function Rc(a,l,u){let f;"string"==typeof u?f=u.charCodeAt(0)||0:u.hasOwnProperty(Vg)&&(f=u[Vg]),null==f&&(f=u[Vg]=ko++);const g=f&gs;l.data[a+(g>>Ms)]|=1<<g}(a,l,u)}function Pc(a,l,u){if(u&zi.Optional||void 0!==a)return a;Zv()}function bp(a,l,u,f){if(u&zi.Optional&&void 0===f&&(f=null),!(u&(zi.Self|zi.Host))){const g=a[he],v=qs(void 0);try{return g?g.get(l,f,u&zi.Optional):Rb(l,f,u&zi.Optional)}finally{qs(v)}}return Pc(f,0,u)}function qh(a,l,u,f=zi.Default,g){if(null!==a){if(2048&l[qe]&&!(f&zi.Self)){const E=function Nc(a,l,u,f,g){let v=a,E=l;for(;null!==v&&null!==E&&2048&E[qe]&&!(512&E[qe]);){const D=$r(v,E,u,f|zi.Self,jr);if(D!==jr)return D;let P=v.parent;if(!P){const B=E[we];if(B){const Y=B.get(u,jr,f);if(Y!==jr)return Y}P=gl(E),E=E[Pt]}v=P}return g}(a,l,u,f,jr);if(E!==jr)return E}const v=$r(a,l,u,f,jr);if(v!==jr)return v}return bp(l,u,f,g)}function $r(a,l,u,f,g){const v=function Gl(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Vg)?a[Vg]:void 0;return"number"==typeof l?l>=0?l&gs:Cp:l}(u);if("function"==typeof v){if(!Gd(l,a,f))return f&zi.Host?Pc(g,0,f):bp(l,u,f,g);try{let E;if(E=v(f),null!=E||f&zi.Optional)return E;Zv()}finally{em()}}else if("number"==typeof v){let E=null,D=Qi(a,l),P=fu,B=f&zi.Host?l[nt][Pe]:null;for((-1===D||f&zi.SkipSelf)&&(P=-1===D?Ci(a,l):l[D+8],P!==fu&&nm(f,!1)?(E=l[Ee],D=Nn(P),l=ui(P,l)):D=-1);-1!==D;){const Y=l[Ee];if(Ta(v,D,Y.data)){const le=Wd(D,l,u,E,f,B);if(le!==jr)return le}P=l[D+8],P!==fu&&nm(f,l[Ee].data[D+8]===B)&&Ta(v,D,l)?(E=Y,D=Nn(P),l=ui(P,l)):D=-1}}return g}function Wd(a,l,u,f,g,v){const E=l[Ee],D=E.data[a+8],Y=pu(D,E,u,null==f?jn(D)&&fi:f!=E&&!!(3&D.type),g&zi.Host&&v===D);return null!==Y?pl(l,E,Y,D):jr}function pu(a,l,u,f,g){const v=a.providerIndexes,E=l.data,D=1048575&v,P=a.directiveStart,Y=v>>20,Ne=g?D+Y:a.directiveEnd;for(let je=f?D:D+Y;je<Ne;je++){const ot=E[je];if(je<P&&u===ot||je>=P&&ot.type===u)return je}if(g){const je=E[P];if(je&&vn(je)&&je.type===u)return P}return null}function pl(a,l,u,f){let g=a[u];const v=l.data;if(function $h(a){return a instanceof Pr}(g)){const E=g;E.resolving&&function Ab(a,l){throw l&&l.join(" > "),new Gn(-200,a)}(function Er(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():bi(a)}(v[u]));const D=ii(E.canSeeViewProviders);E.resolving=!0;const B=E.injectImpl?qs(E.injectImpl):null;Gd(a,f,zi.Default);try{g=a[u]=E.factory(void 0,v,a,f),l.firstCreatePass&&u>=f.directiveStart&&function jh(a,l,u){const{ngOnChanges:f,ngOnInit:g,ngDoCheck:v}=l.type.prototype;if(f){const E=cl(l);(u.preOrderHooks??=[]).push(a,E),(u.preOrderCheckHooks??=[]).push(a,E)}g&&(u.preOrderHooks??=[]).push(0-a,g),v&&((u.preOrderHooks??=[]).push(a,v),(u.preOrderCheckHooks??=[]).push(a,v))}(u,v[u],l)}finally{null!==B&&qs(B),ii(D),E.resolving=!1,em()}}return g}function Ta(a,l,u){return!!(u[l+(a>>Ms)]&1<<a)}function nm(a,l){return!(a&zi.Self||a&zi.Host&&l)}class Sr{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,f){return qh(this._tNode,this._lView,l,xd(f),u)}}function Cp(){return new Sr(vr(),Bt())}function wp(a){return Wi(()=>{const l=a.prototype.constructor,u=l[xh]||Kh(l),f=Object.prototype;let g=Object.getPrototypeOf(a.prototype).constructor;for(;g&&g!==f;){const v=g[xh]||Kh(g);if(v&&v!==u)return v;g=Object.getPrototypeOf(g)}return v=>new v})}function Kh(a){return Kf(a)?()=>{const l=Kh(di(a));return l&&l()}:fc(a)}function gl(a){const l=a[Ee],u=l.type;return 2===u?l.declTNode:1===u?a[Pe]:null}function Pi(a){return function yp(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const f=u.length;let g=0;for(;g<f;){const v=u[g];if(Od(v))break;if(0===v)g+=2;else if("number"==typeof v)for(g++;g<f&&"string"==typeof u[g];)g++;else{if(v===l)return u[g+1];g+=2}}}return null}(vr(),a)}function Qu(a,l=null,u=null,f){const g=mu(a,l,u,f);return g.resolveInjectorInitializers(),g}function mu(a,l=null,u=null,f,g=new Set){const v=[u||hr,Vb(a)];return f=f||("object"==typeof a?void 0:$s(a)),new Ug(v,l||a_(),f||null,g)}let Eo=(()=>{class a{static{this.THROW_IF_NOT_FOUND=Ks}static{this.NULL=new sp}static create(u,f){if(Array.isArray(u))return Qu({name:""},f,u,"");{const g=u.name??"";return Qu({name:g},u.parent,u.providers,g)}}static{this.\u0275prov=wr({token:a,providedIn:"any",factory:()=>ds(JA)})}static{this.__NG_ELEMENT_ID__=-1}}return a})();function Xh(a){return a.ngOriginalError}class io{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&Xh(l);for(;u&&Xh(u);)u=Xh(u);return u||null}}const vl=new Vi("",{providedIn:"root",factory:()=>wi(io).handleError.bind(void 0)});let _r=(()=>{class a{static{this.__NG_ELEMENT_ID__=Os}static{this.__NG_ENV_ID__=u=>u}}return a})();class Zr extends _r{constructor(l){super(),this._lView=l}onDestroy(l){return dp(this._lView,l),()=>function fs(a,l){if(null===a[De])return;const u=a[De].indexOf(l);-1!==u&&a[De].splice(u,1)}(this._lView,l)}}function Os(){return new Zr(Bt())}function Qh(a,l){return nu(a,l)}const Ub=(Qh.required=function ed(a){return nu(qf,a)},Qh);function sm(){return So(vr(),Bt())}function So(a,l){return new To(eo(a,l))}let To=(()=>{class a{constructor(u){this.nativeElement=u}static{this.__NG_ELEMENT_ID__=sm}}return a})();function td(a){return a instanceof To?a.nativeElement:a}function om(a){return l=>{setTimeout(a,void 0,l)}}const Wa=class Ep extends Dh.B{constructor(l=!1){super(),this.destroyRef=void 0,this.__isAsync=l,C()&&(this.destroyRef=wi(_r,{optional:!0})??void 0)}emit(l){const u=Be(null);try{super.next(l)}finally{Be(u)}}subscribe(l,u,f){let g=l,v=u||(()=>null),E=f;if(l&&"object"==typeof l){const P=l;g=P.next?.bind(P),v=P.error?.bind(P),E=P.complete?.bind(P)}this.__isAsync&&(v=om(v),g&&(g=om(g)),E&&(E=om(E)));const D=super.subscribe({next:g,error:v,complete:E});return l instanceof qv.yU&&l.add(D),D}};function m_(){return this._results[Symbol.iterator]()}class nd{get changes(){return this._changes??=new Wa}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const u=nd.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=m_)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){this.dirty=!1;const f=function Ys(a){return a.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function Ni(a,l,u){if(a.length!==l.length)return!1;for(let f=0;f<a.length;f++){let g=a[f],v=l[f];if(u&&(g=u(g),v=u(v)),v!==g)return!1}return!0}(this._results,f,u))&&(this._results=f,this.length=f.length,this.last=f[this.length-1],this.first=f[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(l){this._onDirty=l}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function vu(a){return!(128&~a.flags)}const am=new Map;let L0=0;const lm="__ngContext__";function Fs(a,l){Dt(l)?(a[lm]=l[ie],function G0(a){am.set(a[ie],a)}(l)):a[lm]=l}function uD(a){return dm(a[It])}function um(a){return dm(a[at])}function dm(a){for(;null!==a&&!Ie(a);)a=a[at];return a}let Kd;function Yb(a){Kd=a}const hm=new Vi("",{providedIn:"root",factory:()=>b}),b="ng",A=new Vi(""),k=new Vi("",{providedIn:"platform",factory:()=>"unknown"}),Z=new Vi(""),ne=new Vi("",{providedIn:"root",factory:()=>function rd(){if(void 0!==Kd)return Kd;if(typeof document<"u")return document;throw new Gn(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let lr=()=>null;function gr(a,l,u=!1){return lr(a,l,u)}const w_=new Vi("",{providedIn:"root",factory:()=>!1});let fm,sd;function bu(a){return function Rp(){if(void 0===fm&&(fm=null,Ii.trustedTypes))try{fm=Ii.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return fm}()?.createHTML(a)||a}function S_(a){return function Pp(){if(void 0===sd&&(sd=null,Ii.trustedTypes))try{sd=Ii.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return sd}()?.createScriptURL(a)||a}class od{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ad})`}}class T_ extends od{getTypeName(){return"HTML"}}class pm extends od{getTypeName(){return"Style"}}class Qb extends od{getTypeName(){return"Script"}}class hD extends od{getTypeName(){return"URL"}}class gm extends od{getTypeName(){return"ResourceURL"}}function ha(a){return a instanceof od?a.changingThisBreaksApplicationSecurity:a}function rf(a,l){const u=function fD(a){return a instanceof od&&a.getTypeName()||null}(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see ${Ad})`)}return u===l}function pD(a){return new T_(a)}function j0(a){return new pm(a)}function I_(a){return new Qb(a)}function mm(a){return new hD(a)}function $0(a){return new gm(a)}class Jb{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(bu(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch{return null}}}class _m{constructor(l){this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(l){const u=this.inertDocument.createElement("template");return u.innerHTML=bu(l),u}}const gD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function sf(a){return(a=String(a)).match(gD)?a:"unsafe:"+a}function Cu(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function Xd(...a){const l={};for(const u of a)for(const f in u)u.hasOwnProperty(f)&&(l[f]=!0);return l}const Qd=Cu("area,br,col,hr,img,wbr"),Zb=Cu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),eC=Cu("rp,rt"),tC=Xd(Qd,Xd(Zb,Cu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xd(eC,Cu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xd(eC,Zb)),A_=Cu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),iC=Xd(A_,Cu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Cu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ym=Cu("script,style,template");class af{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,f=!0,g=[];for(;u;)if(u.nodeType===Node.ELEMENT_NODE?f=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,f&&u.firstChild)g.push(u),u=Jd(u);else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let v=wu(u);if(v){u=v;break}u=g.pop()}return this.buf.join("")}startElement(l){const u=ad(l).toLowerCase();if(!tC.hasOwnProperty(u))return this.sanitizedSomething=!0,!ym.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const f=l.attributes;for(let g=0;g<f.length;g++){const v=f.item(g),E=v.name,D=E.toLowerCase();if(!iC.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let P=v.value;A_[D]&&(P=sf(P)),this.buf.push(" ",E,'="',rC(P),'"')}return this.buf.push(">"),!0}endElement(l){const u=ad(l).toLowerCase();tC.hasOwnProperty(u)&&!Qd.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(rC(l))}}function wu(a){const l=a.nextSibling;if(l&&a!==l.previousSibling)throw Np(l);return l}function Jd(a){const l=a.firstChild;if(l&&function lf(a,l){return(a.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(a,l))throw Np(l);return l}function ad(a){const l=a.nodeName;return"string"==typeof l?l:"FORM"}function Np(a){return new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`)}const bm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,K0=/([^\#-~ |!])/g;function rC(a){return a.replace(/&/g,"&amp;").replace(bm,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(K0,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cf;function D_(a,l){let u=null;try{cf=cf||function vm(a){const l=new _m(a);return function q0(){try{return!!(new window.DOMParser).parseFromString(bu(""),"text/html")}catch{return!1}}()?new Jb(l):l}(a);let f=l?String(l):"";u=cf.getInertBodyElement(f);let g=5,v=f;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,f=v,v=u.innerHTML,u=cf.getInertBodyElement(f)}while(f!==v);return bu((new af).sanitizeChildren(vD(u)||u))}finally{if(u){const f=vD(u)||u;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function vD(a){return"content"in a&&function Y0(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Cm=function(a){return a[a.NONE=0]="NONE",a[a.HTML=1]="HTML",a[a.STYLE=2]="STYLE",a[a.SCRIPT=3]="SCRIPT",a[a.URL=4]="URL",a[a.RESOURCE_URL=5]="RESOURCE_URL",a}(Cm||{});function JN(a){const l=oC();return l?l.sanitize(Cm.URL,a)||"":rf(a,"URL")?ha(a):sf(bi(a))}function _D(a){const l=oC();if(l)return S_(l.sanitize(Cm.RESOURCE_URL,a)||"");if(rf(a,"ResourceURL"))return S_(ha(a));throw new Gn(904,!1)}function eO(a,l,u){return function uB(a,l){return"src"===l&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===l&&("base"===a||"link"===a)?_D:JN}(l,u)(a)}function oC(){const a=Bt();return a&&a[Ve].sanitizer}const dB=/^>|^->|<!--|-->|--!>|<!-$/g,yD=/(<|>)/g,hB="\u200b$1\u200b";function Eu(a){return a instanceof Function?a():a}var lC=function(a){return a[a.Important=1]="Important",a[a.DashCase=2]="DashCase",a}(lC||{});let rO;function sO(a,l){return rO(a,l)}function cC(a,l,u,f,g){if(null!=f){let v,E=!1;Ie(f)?v=f:Dt(f)&&(E=!0,f=f[ke]);const D=Ui(f);0===a&&null!==u?null==g?TD(l,u,D):Ra(l,u,D,g||null,!0):1===a&&null!==u?Ra(l,u,D,g||null,!0):2===a?function P_(a,l,u){const f=dC(a,l);f&&function fO(a,l,u,f){a.removeChild(l,u,f)}(a,f,l,u)}(l,D,E):3===a&&l.destroyNode(D),null!=v&&function vO(a,l,u,f,g){const v=u[dn];v!==Ui(u)&&cC(l,a,f,v,g);for(let D=hn;D<u.length;D++){const P=u[D];M_(P[Ee],P,a,l,f,v)}}(l,a,v,u,g)}}function aO(a,l){return a.createComment(function tO(a){return a.replace(dB,l=>l.replace(yD,hB))}(l))}function R_(a,l,u){return a.createElement(l,u)}function ld(a,l){l[Ve].changeDetectionScheduler?.notify(1),M_(a,l,l[_e],2,null,null)}function uO(a,l){const u=a[An],f=u.indexOf(l);u.splice(f,1)}function uC(a,l){if(a.length<=hn)return;const u=hn+l,f=a[u];if(f){const g=f[Vt];null!==g&&g!==a&&uO(g,f),l>0&&(a[u-1][at]=f[at]);const v=Ga(a,hn+l);!function lO(a,l){ld(a,l),l[ke]=null,l[Pe]=null}(f[Ee],f);const E=v[En];null!==E&&E.detachView(v[Ee]),f[Ht]=null,f[at]=null,f[qe]&=-129}return f}function Op(a,l){if(!(256&l[qe])){const u=l[_e];u.destroyNode&&M_(a,l,u,3,null,null),function SB(a){let l=a[It];if(!l)return eh(a[Ee],a);for(;l;){let u=null;if(Dt(l))u=l[It];else{const f=l[hn];f&&(u=f)}if(!u){for(;l&&!l[at]&&l!==a;)Dt(l)&&eh(l[Ee],l),l=l[Ht];null===l&&(l=a),Dt(l)&&eh(l[Ee],l),u=l&&l[at]}l=u}}(l)}}function eh(a,l){if(256&l[qe])return;const u=Be(null);try{l[qe]&=-129,l[qe]|=256,l[Je]&&ut(l[Je]),function ja(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let f=0;f<u.length;f+=2){const g=l[u[f]];if(!(g instanceof Pr)){const v=u[f+1];if(Array.isArray(v))for(let E=0;E<v.length;E+=2){const D=g[v[E]],P=v[E+1];wa(4,D,P);try{P.call(D)}finally{wa(5,D,P)}}else{wa(4,g,v);try{v.call(g)}finally{wa(5,g,v)}}}}}(a,l),function dO(a,l){const u=a.cleanup,f=l[kt];if(null!==u)for(let v=0;v<u.length-1;v+=2)if("string"==typeof u[v]){const E=u[v+3];E>=0?f[E]():f[-E].unsubscribe(),v+=2}else u[v].call(f[u[v+1]]);null!==f&&(l[kt]=null);const g=l[De];if(null!==g){l[De]=null;for(let v=0;v<g.length;v++)(0,g[v])()}}(a,l),1===l[Ee].type&&l[_e].destroy();const f=l[Vt];if(null!==f&&Ie(l[Ht])){f!==l[Ht]&&uO(f,l);const g=l[En];null!==g&&g.detachView(a)}!function ir(a){am.delete(a[ie])}(l)}finally{Be(u)}}function th(a,l,u){return function hO(a,l,u){let f=l;for(;null!==f&&40&f.type;)f=(l=f).parent;if(null===f)return u[ke];{const{componentOffset:g}=f;if(g>-1){const{encapsulation:v}=a.data[f.directiveStart+g];if(v===Md.None||v===Md.Emulated)return null}return eo(f,u)}}(a,l.parent,u)}function Ra(a,l,u,f,g){a.insertBefore(l,u,f,g)}function TD(a,l,u){a.appendChild(l,u)}function ID(a,l,u,f,g){null!==f?Ra(a,l,u,f,g):TD(a,l,u)}function dC(a,l){return a.parentNode(l)}function AD(a,l,u){return hC(a,l,u)}let J0,hC=function DD(a,l,u){return 40&a.type?eo(a,u):null};function fC(a,l,u,f){const g=th(a,f,l),v=l[_e],D=AD(f.parent||l[Pe],f,l);if(null!=g)if(Array.isArray(u))for(let P=0;P<u.length;P++)ID(v,g,u[P],D,!1);else ID(v,g,u,D,!1);void 0!==J0&&J0(v,f,l,u,g)}function x_(a,l){if(null!==l){const u=l.type;if(3&u)return eo(l,a);if(4&u)return Z0(-1,a[l.index]);if(8&u){const f=l.child;if(null!==f)return x_(a,f);{const g=a[l.index];return Ie(g)?Z0(-1,g):Ui(g)}}if(32&u)return sO(l,a)()||Ui(a[l.index]);{const f=gO(a,l);return null!==f?Array.isArray(f)?f[0]:x_(zu(a[nt]),f):x_(a,l.next)}}return null}function gO(a,l){return null!==l?a[nt][Pe].projection[l.projection]:null}function Z0(a,l){const u=hn+a+1;if(u<l.length){const f=l[u],g=f[Ee].firstChild;if(null!==g)return x_(f,g)}return l[dn]}function tS(a,l,u,f,g,v,E){for(;null!=u;){const D=f[u.index],P=u.type;if(E&&0===l&&(D&&Fs(Ui(D),f),u.flags|=2),32&~u.flags)if(8&P)tS(a,l,u.child,f,g,v,!1),cC(l,a,g,D,v);else if(32&P){const B=sO(u,f);let Y;for(;Y=B();)cC(l,a,g,Y,v);cC(l,a,g,D,v)}else 16&P?xD(a,l,f,u,g,v):cC(l,a,g,D,v);u=E?u.projectionNext:u.next}}function M_(a,l,u,f,g,v){tS(u,f,a.firstChild,l,g,v,!1)}function xD(a,l,u,f,g,v){const E=u[nt],P=E[Pe].projection[f.projection];if(Array.isArray(P))for(let B=0;B<P.length;B++)cC(l,a,g,P[B],v);else{let B=P;const Y=E[Ht];vu(f)&&(B.flags|=128),tS(a,l,B,Y,g,v,!0)}}function MD(a,l,u){""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u)}function ND(a,l,u){const{mergedAttrs:f,classes:g,styles:v}=u;null!==f&&Wu(a,l,f),null!==g&&MD(a,l,g),null!==v&&function nS(a,l,u){a.setAttribute(l,"style",u)}(a,l,v)}const ki={};function $a(a=1){cd(Bi(),Bt(),Rr()+a,!1)}function cd(a,l,u,f){if(!f)if(3&~l[qe]){const v=a.preOrderHooks;null!==v&&Ll(l,v,0,u)}else{const v=a.preOrderCheckHooks;null!==v&&fl(l,v,u)}ei(u)}function Em(a,l=zi.Default){const u=Bt();return null===u?ds(a,l):qh(vr(),u,di(a),l)}function AB(){throw new Error("invalid")}function DB(a,l,u,f,g,v){const E=Be(null);try{let D=null;g&Nd.SignalBased&&(D=l[f][gn]),null!==D&&void 0!==D.transformFn&&(v=D.transformFn(v)),g&Nd.HasDecoratorInputTransform&&(v=a.inputTransforms[f].call(l,v)),null!==a.setInput?a.setInput(l,D,v,u,f):Zs(l,D,f,v)}finally{Be(E)}}function N_(a,l,u,f,g,v,E,D,P,B,Y){const le=l.blueprint.slice();return le[ke]=g,le[qe]=204|f,(null!==B||a&&2048&a[qe])&&(le[qe]|=2048),l_(le),le[Ht]=le[Pt]=a,le[ce]=u,le[Ve]=E||a&&a[Ve],le[_e]=D||a&&a[_e],le[he]=P||a&&a[he]||null,le[Pe]=v,le[ie]=function V0(){return L0++}(),le[lt]=Y,le[we]=B,le[nt]=2==l.type?a[nt]:le,le}function Fp(a,l,u,f,g){let v=a.data[l];if(null===v)v=function O_(a,l,u,f,g){const v=cu(),E=Or(),P=a.data[l]=function xJ(a,l,u,f,g,v){let E=l?l.injectorIndex:-1,D=0;return Tc()&&(D|=128),{type:u,index:f,insertBeforeIndex:null,injectorIndex:E,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:g,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?v:v&&v.parent,u,l,f,g);return null===a.firstChild&&(a.firstChild=P),null!==v&&(E?null==v.child&&null!==P.parent&&(v.child=P):null===v.next&&(v.next=P,P.prev=v)),P}(a,l,u,f,g),function gp(){return ci.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=u,v.value=f,v.attrs=g;const E=function uu(){const a=ci.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();v.injectorIndex=null===E?-1:E.injectorIndex}return ps(v,!0),v}function pC(a,l,u,f){if(0===u)return-1;const g=l.length;for(let v=0;v<u;v++)l.push(f),a.blueprint.push(f),a.data.push(null);return g}function iS(a,l,u,f,g){const v=Rr(),E=2&f;try{ei(-1),E&&l.length>$e&&cd(a,l,$e,!1),wa(E?2:0,g),u(f,g)}finally{ei(v),wa(E?3:1,g)}}function FD(a,l,u){if(xi(l)){const f=Be(null);try{const v=l.directiveEnd;for(let E=l.directiveStart;E<v;E++){const D=a.data[E];D.contentQueries&&D.contentQueries(1,u[E],E)}}finally{Be(f)}}}function _O(a,l,u){Ea()&&(function Sm(a,l,u,f){const g=u.directiveStart,v=u.directiveEnd;jn(u)&&function _C(a,l,u){const f=eo(l,a),g=RB(u);let E=16;u.signals?E=4096:u.onPush&&(E=64);const D=aS(a,N_(a,g,null,E,f,l,null,a[Ve].rendererFactory.createRenderer(f,u),null,null,null));a[l.index]=D}(l,u,a.data[g+u.componentOffset]),a.firstCreatePass||to(u,l),Fs(f,l);const E=u.initialInputs;for(let D=g;D<v;D++){const P=a.data[D],B=pl(l,a,D,u);Fs(B,l),null!==E&&MB(0,D-g,B,P,0,E),vn(P)&&(Ko(u.index,l)[ce]=pl(l,a,D,u))}}(a,l,u,eo(u,l)),!(64&~u.flags)&&PB(a,l,u))}function yO(a,l,u=eo){const f=l.localNames;if(null!==f){let g=l.index+1;for(let v=0;v<f.length;v+=2){const E=f[v+1],D=-1===E?u(l,a):a[E];a[g++]=D}}}function RB(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=bO(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts,a.id):l}function bO(a,l,u,f,g,v,E,D,P,B,Y){const le=$e+f,Ne=le+g,je=function TJ(a,l){const u=[];for(let f=0;f<l;f++)u.push(f<a?null:ki);return u}(le,Ne),ot="function"==typeof B?B():B;return je[Ee]={type:a,blueprint:je,template:u,queries:null,viewQuery:D,declTNode:l,data:je.slice().fill(null,le),bindingStartIndex:le,expandoStartIndex:Ne,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:P,consts:ot,incompleteFirstPass:!1,ssrId:Y}}let CO=()=>null;function F_(a,l,u,f,g){for(let v in l){if(!l.hasOwnProperty(v))continue;const E=l[v];if(void 0===E)continue;f??={};let D,P=Nd.None;Array.isArray(E)?(D=E[0],P=E[1]):D=E;let B=v;if(null!==g){if(!g.hasOwnProperty(v))continue;B=g[v]}0===a?gC(f,u,B,D,P):gC(f,u,B,D)}return f}function gC(a,l,u,f,g){let v;a.hasOwnProperty(u)?(v=a[u]).push(l,f):v=a[u]=[l,f],void 0!==g&&v.push(g)}function qa(a,l,u,f,g,v,E,D){const P=eo(l,u);let Y,B=l.inputs;!D&&null!=B&&(Y=B[f])?(bC(a,u,Y,f,g),jn(l)&&function xB(a,l){const u=Ko(l,a);16&u[qe]||(u[qe]|=64)}(u,l.index)):3&l.type&&(f=function mC(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(f),g=null!=E?E(g,l.value||"",f):g,v.setProperty(P,f,g))}function L_(a,l,u,f){if(Ea()){const g=null===f?null:{"":-1},v=function NJ(a,l){const u=a.directiveRegistry;let f=null,g=null;if(u)for(let v=0;v<u.length;v++){const E=u[v];if(ZA(l,E.selectors,!1))if(f||(f=[]),vn(E))if(null!==E.findHostDirectiveDefs){const D=[];g=g||new Map,E.findHostDirectiveDefs(E,D,g),f.unshift(...D,E),sS(a,l,D.length)}else f.unshift(E),sS(a,l,0);else g=g||new Map,E.findHostDirectiveDefs?.(E,f,g),f.push(E)}return null===f?null:[f,g]}(a,u);let E,D;null===v?E=D=null:[E,D]=v,null!==E&&LD(a,l,u,E,g,D),g&&function OJ(a,l,u){if(l){const f=a.localNames=[];for(let g=0;g<l.length;g+=2){const v=u[l[g+1]];if(null==v)throw new Gn(-301,!1);f.push(l[g],v)}}}(u,f,g)}u.mergedAttrs=Fd(u.mergedAttrs,u.attrs)}function LD(a,l,u,f,g,v){for(let B=0;B<f.length;B++)xc(to(u,l),a,f[B].type);!function vC(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}(u,a.data.length,f.length);for(let B=0;B<f.length;B++){const Y=f[B];Y.providersResolver&&Y.providersResolver(Y)}let E=!1,D=!1,P=pC(a,l,f.length,null);for(let B=0;B<f.length;B++){const Y=f[B];u.mergedAttrs=Fd(u.mergedAttrs,Y.hostAttrs),oS(a,u,l,P,Y),Tm(P,Y,g),null!==Y.contentQueries&&(u.flags|=4),(null!==Y.hostBindings||null!==Y.hostAttrs||0!==Y.hostVars)&&(u.flags|=64);const le=Y.type.prototype;!E&&(le.ngOnChanges||le.ngOnInit||le.ngDoCheck)&&((a.preOrderHooks??=[]).push(u.index),E=!0),!D&&(le.ngOnChanges||le.ngDoCheck)&&((a.preOrderCheckHooks??=[]).push(u.index),D=!0),P++}!function k_(a,l,u){const g=l.directiveEnd,v=a.data,E=l.attrs,D=[];let P=null,B=null;for(let Y=l.directiveStart;Y<g;Y++){const le=v[Y],Ne=u?u.get(le):null,ot=Ne?Ne.outputs:null;P=F_(0,le.inputs,Y,P,Ne?Ne.inputs:null),B=F_(1,le.outputs,Y,B,ot);const Ut=null===P||null===E||Bg(l)?null:VD(P,Y,E);D.push(Ut)}null!==P&&(P.hasOwnProperty("class")&&(l.flags|=8),P.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=D,l.inputs=P,l.outputs=B}(a,u,v)}function PB(a,l,u){const f=u.directiveStart,g=u.directiveEnd,v=u.index,E=function Qg(){return ci.lFrame.currentDirectiveIndex}();try{ei(v);for(let D=f;D<g;D++){const P=a.data[D],B=l[D];mp(D),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&MJ(P,B)}}finally{ei(-1),mp(E)}}function MJ(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function sS(a,l,u){l.componentOffset=u,(a.components??=[]).push(l.index)}function Tm(a,l,u){if(u){if(l.exportAs)for(let f=0;f<l.exportAs.length;f++)u[l.exportAs[f]]=a;vn(l)&&(u[""]=a)}}function oS(a,l,u,f,g){a.data[f]=g;const v=g.factory||(g.factory=fc(g.type)),E=new Pr(v,vn(g),Em);a.blueprint[f]=E,u[f]=E,function EO(a,l,u,f,g){const v=g.hostBindings;if(v){let E=a.hostBindingOpCodes;null===E&&(E=a.hostBindingOpCodes=[]);const D=~l.index;(function rS(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(E)!=D&&E.push(D),E.push(u,f,v)}}(a,l,f,pC(a,u,g.hostVars,ki),g)}function Bc(a,l,u,f,g,v){const E=eo(a,l);!function V_(a,l,u,f,g,v,E){if(null==v)a.removeAttribute(l,g,u);else{const D=null==E?bi(v):E(v,f||"",g);a.setAttribute(l,g,D,u)}}(l[_e],E,v,a.value,u,f,g)}function MB(a,l,u,f,g,v){const E=v[l];if(null!==E)for(let D=0;D<E.length;)DB(f,u,E[D++],E[D++],E[D++],E[D++])}function VD(a,l,u){let f=null,g=0;for(;g<u.length;){const v=u[g];if(0!==v)if(5!==v){if("number"==typeof v)break;if(a.hasOwnProperty(v)){null===f&&(f=[]);const E=a[v];for(let D=0;D<E.length;D+=3)if(E[D]===l){f.push(v,E[D+1],E[D+2],u[g+1]);break}}g+=2}else g+=2;else g+=4}return f}function yC(a,l,u,f){return[a,!0,0,l,null,f,null,u,null,null]}function SO(a,l){const u=a.contentQueries;if(null!==u){const f=Be(null);try{for(let g=0;g<u.length;g+=2){const E=u[g+1];if(-1!==E){const D=a.data[E];On(u[g]),D.contentQueries(2,l[E],E)}}}finally{Be(f)}}}function aS(a,l){return a[It]?a[wt][at]=l:a[It]=l,a[wt]=l,l}function lS(a,l,u){On(0);const f=Be(null);try{l(a,u)}finally{Be(f)}}function GD(a){return a[kt]||(a[kt]=[])}function TO(a){return a.cleanup||(a.cleanup=[])}function cS(a,l){const u=a[he],f=u?u.get(io,null):null;f&&f.handleError(l)}function bC(a,l,u,f,g){for(let v=0;v<u.length;){const E=u[v++],D=u[v++],P=u[v++];DB(a.data[E],l[E],f,D,P,g)}}function kp(a,l,u){const f=wc(l,a);!function EB(a,l,u){a.setValue(l,u)}(a[_e],f,u)}function kJ(a,l){const u=Ko(l,a),f=u[Ee];!function BD(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])}(f,u);const g=u[ke];null!==g&&null===u[lt]&&(u[lt]=gr(g,u[he])),HD(f,u,u[ce])}function HD(a,l,u){du(l);try{const f=a.viewQuery;null!==f&&lS(1,f,u);const g=a.template;null!==g&&iS(a,l,g,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),l[En]?.finishViewCreation(a),a.staticContentQueries&&SO(a,l),a.staticViewQueries&&lS(2,a.viewQuery,u);const v=a.components;null!==v&&function IO(a,l){for(let u=0;u<l.length;u++)kJ(a,l[u])}(l,v)}catch(f){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),f}finally{l[qe]&=-5,Uh()}}function Im(a,l,u,f){const g=Be(null);try{const v=l.tView,P=N_(a,v,u,4096&a[qe]?4096:16,null,l,null,null,f?.injector??null,f?.embeddedViewInjector??null,f?.dehydratedView??null);P[Vt]=a[l.index];const Y=a[En];return null!==Y&&(P[En]=Y.createEmbeddedView(v)),HD(v,P,u),P}finally{Be(g)}}function AO(a,l){const u=hn+l;if(u<a.length)return a[u]}function CC(a,l){return!l||null===l.firstChild||vu(a)}function wC(a,l,u,f=!0){const g=l[Ee];if(function cO(a,l,u,f){const g=hn+f,v=u.length;f>0&&(u[g-1][at]=l),f<v-hn?(l[at]=u[g],T0(u,hn+f,l)):(u.push(l),l[at]=null),l[Ht]=u;const E=l[Vt];null!==E&&u!==E&&function TB(a,l){const u=a[An];l[nt]!==l[Ht][Ht][nt]&&(a[qe]|=hi.HasTransplantedViews),null===u?a[An]=[l]:u.push(l)}(E,l);const D=l[En];null!==D&&D.insertView(a),qg(l),l[qe]|=128}(g,l,a,u),f){const E=Z0(u,a),D=l[_e],P=dC(D,a[dn]);null!==P&&function wm(a,l,u,f,g,v){f[ke]=g,f[Pe]=l,M_(a,f,u,1,g,v)}(g,a[Pe],D,l,P,E)}const v=l[lt];null!==v&&null!==v.firstChild&&(v.firstChild=null)}function Am(a,l){const u=uC(a,l);return void 0!==u&&Op(u[Ee],u),u}function df(a,l,u,f,g=!1){for(;null!==u;){const v=l[u.index];null!==v&&f.push(Ui(v)),Ie(v)&&UD(v,f);const E=u.type;if(8&E)df(a,l,u.child,f);else if(32&E){const D=sO(u,l);let P;for(;P=D();)f.push(P)}else if(16&E){const D=gO(l,u);if(Array.isArray(D))f.push(...D);else{const P=zu(l[nt]);df(P[Ee],P,D,f,!0)}}u=g?u.projectionNext:u.next}return f}function UD(a,l){for(let u=hn;u<a.length;u++){const f=a[u],g=f[Ee].firstChild;null!==g&&df(f[Ee],f,g,l)}a[dn]!==a[ke]&&l.push(a[dn])}let WD=[];const DO={...He,consumerIsAlwaysLive:!0,consumerMarkedDirty:a=>{lu(a.lView)},consumerOnSignalRead(){this.lView[Je]=this}},FB=100;function zD(a,l=!0,u=0){const f=a[Ve],g=f.rendererFactory;g.begin?.();try{!function VJ(a,l){jD(a,l);let u=0;for(;up(a);){if(u===FB)throw new Gn(103,!1);u++,jD(a,1)}}(a,u)}catch(E){throw l&&cS(a,E),E}finally{g.end?.(),f.inlineEffectRunner?.flush()}}function kB(a,l,u,f){const g=l[qe];if(!(256&~g))return;l[Ve].inlineEffectRunner?.flush(),du(l);let E=null,D=null;(function RO(a){return 2!==a.type})(a)&&(D=function $l(a){return a[Je]??function LJ(a){const l=WD.pop()??Object.create(DO);return l.lView=a,l}(a)}(l),E=Ae(D));try{l_(l),function Ac(a){return ci.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&iS(a,l,u,2,f);const P=!(3&~g);if(P){const le=a.preOrderCheckHooks;null!==le&&fl(l,le,null)}else{const le=a.preOrderHooks;null!==le&&Ll(l,le,0,null),vp(l,0)}if(function PO(a){for(let l=uD(a);null!==l;l=um(l)){if(!(l[qe]&hi.HasTransplantedViews))continue;const u=l[An];for(let f=0;f<u.length;f++){$g(u[f])}}}(l),xO(l,0),null!==a.contentQueries&&SO(a,l),P){const le=a.contentCheckHooks;null!==le&&fl(l,le)}else{const le=a.contentHooks;null!==le&&Ll(l,le,1),vp(l,1)}!function OD(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let f=0;f<u.length;f++){const g=u[f];if(g<0)ei(~g);else{const v=g,E=u[++f],D=u[++f];p_(E,v),D(2,l[v])}}}finally{ei(-1)}}(a,l);const B=a.components;null!==B&&dS(l,B,0);const Y=a.viewQuery;if(null!==Y&&lS(2,Y,f),P){const le=a.viewCheckHooks;null!==le&&fl(l,le)}else{const le=a.viewHooks;null!==le&&Ll(l,le,2),vp(l,2)}if(!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[Ge]){for(const le of l[Ge])le();l[Ge]=null}l[qe]&=-73}catch(P){throw lu(l),P}finally{null!==D&&(Xe(D,E),function OB(a){a.lView[Je]!==a&&(a.lView=null,WD.push(a))}(D)),Uh()}}function xO(a,l){for(let u=uD(a);null!==u;u=um(u))for(let f=hn;f<u.length;f++)uS(u[f],l)}function MO(a,l,u){uS(Ko(l,a),u)}function uS(a,l){jg(a)&&jD(a,l)}function jD(a,l){const f=a[Ee],g=a[qe],v=a[Je];let E=!!(0===l&&16&g);if(E||=!!(64&g&&0===l),E||=!!(1024&g),E||=!(!v?.dirty||!vt(v)),v&&(v.dirty=!1),a[qe]&=-9217,E)kB(f,a,f.template,a[ce]);else if(8192&g){xO(a,1);const D=f.components;null!==D&&dS(a,D,1)}}function dS(a,l,u){for(let f=0;f<l.length;f++)MO(a,l[f],u)}function EC(a){for(a[Ve].changeDetectionScheduler?.notify();a;){a[qe]|=64;const l=zu(a);if(kn(a)&&!l)return a;a=l}return null}class hS{get rootNodes(){const l=this._lView,u=l[Ee];return df(u,l,u.firstChild,[])}constructor(l,u,f=!0){this._lView=l,this._cdRefInjectingView=u,this.notifyErrorHandler=f,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ce]}set context(l){this._lView[ce]=l}get destroyed(){return!(256&~this._lView[qe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[Ht];if(Ie(l)){const u=l[8],f=u?u.indexOf(this):-1;f>-1&&(uC(l,f),Ga(u,f))}this._attachedToViewContainer=!1}Op(this._lView[Ee],this._lView)}onDestroy(l){dp(this._lView,l)}markForCheck(){EC(this._cdRefInjectingView||this._lView)}detach(){this._lView[qe]&=-129}reattach(){qg(this._lView),this._lView[qe]|=128}detectChanges(){this._lView[qe]|=1024,zD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Gn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,ld(this._lView[Ee],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Gn(902,!1);this._appRef=l,qg(this._lView)}}let SC=(()=>{class a{static{this.__NG_ELEMENT_ID__=OO}}return a})();const NO=SC,LB=class extends NO{constructor(l,u,f){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=f}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(l,u){return this.createEmbeddedViewImpl(l,u)}createEmbeddedViewImpl(l,u,f){const g=Im(this._declarationLView,this._declarationTContainer,l,{embeddedViewInjector:u,dehydratedView:f});return new hS(g)}};function OO(){return G_(vr(),Bt())}function G_(a,l){return 4&a.type?new LB(l,a,So(a,l)):null}let QD=()=>null;function DC(a,l){return QD(a,l)}class RC{}class YB{}class XB{}class WO{resolveComponentFactory(l){throw function jJ(a){const l=Error(`No component factory found for ${$s(a)}.`);return l.ngComponent=a,l}(l)}}let Pm=(()=>{class a{static{this.NULL=new WO}}return a})();class Ls{}let qJ=(()=>{class a{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function W_(){const a=Bt(),u=Ko(vr().index,a);return(Dt(u)?u:a)[_e]}()}}return a})(),zO=(()=>{class a{static{this.\u0275prov=wr({token:a,providedIn:"root",factory:()=>null})}}return a})();const yS={},jO=new Set;function xa(a){jO.has(a)||(jO.add(a),performance?.mark?.("mark_feature_usage",{detail:{feature:a}}))}function ud(...a){}class Ao{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wa(!1),this.onMicrotaskEmpty=new Wa(!1),this.onStable=new Wa(!1),this.onError=new Wa(!1),typeof Zone>"u")throw new Gn(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!f&&u,g.shouldCoalesceRunChangeDetection=f,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function CS(){const a="function"==typeof Ii.requestAnimationFrame;let l=Ii[a?"requestAnimationFrame":"setTimeout"],u=Ii[a?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&l&&u){const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f);const g=u[Zone.__symbol__("OriginalDelegate")];g&&(u=g)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function ZB(a){const l=()=>{!function JB(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Ii,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,$O(a),a.isCheckStableRunning=!0,PC(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),$O(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,f,g,v,E,D)=>{if(function KJ(a){return!(!Array.isArray(a)||1!==a.length)&&!0===a[0].data?.__ignore_ng_zone__}(D))return u.invokeTask(g,v,E,D);try{return nh(a),u.invokeTask(g,v,E,D)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||a.shouldCoalesceRunChangeDetection)&&l(),wS(a)}},onInvoke:(u,f,g,v,E,D,P)=>{try{return nh(a),u.invoke(g,v,E,D,P)}finally{a.shouldCoalesceRunChangeDetection&&l(),wS(a)}},onHasTask:(u,f,g,v)=>{u.hasTask(g,v),f===g&&("microTask"==v.change?(a._hasPendingMicrotasks=v.microTask,$O(a),PC(a)):"macroTask"==v.change&&(a.hasPendingMacrotasks=v.macroTask))},onHandleError:(u,f,g,v)=>(u.handleError(g,v),a.runOutsideAngular(()=>a.onError.emit(v)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ao.isInAngularZone())throw new Gn(909,!1)}static assertNotInAngularZone(){if(Ao.isInAngularZone())throw new Gn(909,!1)}run(l,u,f){return this._inner.run(l,u,f)}runTask(l,u,f,g){const v=this._inner,E=v.scheduleEventTask("NgZoneEvent: "+g,l,xC,ud,ud);try{return v.runTask(E,u,f)}finally{v.cancelTask(E)}}runGuarded(l,u,f){return this._inner.runGuarded(l,u,f)}runOutsideAngular(l){return this._outer.run(l)}}const xC={};function PC(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function $O(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function nh(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function wS(a){a._nesting--,PC(a)}let $_=(()=>{class a{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const u=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const f of u)f()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=wr({token:a,providedIn:"root",factory:()=>new a})}}return a})();function Lp(a){return!!qo(a)}function tR(a,l,u){let f=u?a.styles:null,g=u?a.classes:null,v=0;if(null!==l)for(let E=0;E<l.length;E++){const D=l[E];"number"==typeof D?v=D:1==v?g=Rh(g,D):2==v&&(f=Rh(f,D+": "+l[++E]+";"))}u?a.styles=f:a.stylesWithoutHost=f,u?a.classes=g:a.classesWithoutHost=g}class YO extends Pm{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=ji(l);return new AS(u,this.ngModule)}}function a4(a){const l=[];for(const u in a){if(!a.hasOwnProperty(u))continue;const f=a[u];void 0!==f&&l.push({propName:Array.isArray(f)?f[0]:f,templateName:u})}return l}class nR{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,f){f=xd(f);const g=this.injector.get(l,yS,f);return g!==yS||u===yS?g:this.parentInjector.get(l,u,f)}}class AS extends XB{get inputs(){const l=this.componentDef,u=l.inputTransforms,f=a4(l.inputs);if(null!==u)for(const g of f)u.hasOwnProperty(g.propName)&&(g.transform=u[g.propName]);return f}get outputs(){return a4(this.componentDef.outputs)}constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function UN(a){return a.map(tD).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}create(l,u,f,g){const v=Be(null);try{let E=(g=g||this.ngModule)instanceof gc?g:g?.injector;E&&null!==this.componentDef.getStandaloneInjector&&(E=this.componentDef.getStandaloneInjector(E)||E);const D=E?new nR(l,E):l,P=D.get(Ls,null);if(null===P)throw new Gn(407,!1);const B=D.get(zO,null),Ne={rendererFactory:P,sanitizer:B,inlineEffectRunner:null,afterRenderEventManager:D.get($_,null),changeDetectionScheduler:D.get(RC,null)},je=P.createRenderer(null,this.componentDef),ot=this.componentDef.selectors[0][0]||"div",Ut=f?function IJ(a,l,u,f){const v=f.get(w_,!1)||u===Md.ShadowDom,E=a.selectRootElement(l,v);return function AJ(a){CO(a)}(E),E}(je,f,this.componentDef.encapsulation,D):R_(je,ot,function YJ(a){const l=a.toLowerCase();return"svg"===l?yc:"math"===l?"math":null}(ot));let an=512;this.componentDef.signals?an|=4096:this.componentDef.onPush||(an|=16);let _n=null;null!==Ut&&(_n=gr(Ut,D,!0));const Zt=bO(0,null,null,1,0,null,null,null,null,null,null),_i=N_(null,Zt,null,an,null,null,Ne,je,D,null,_n);let cr,es;du(_i);try{const ea=this.componentDef;let Yl,Xl=null;ea.findHostDirectiveDefs?(Yl=[],Xl=new Map,ea.findHostDirectiveDefs(ea,Yl,Xl),Yl.push(ea)):Yl=[ea];const FT=function QJ(a,l){const u=a[Ee],f=$e;return a[f]=l,Fp(u,f,2,"#host",null)}(_i,Ut),Ow=function JJ(a,l,u,f,g,v,E){const D=g[Ee];!function ZJ(a,l,u,f){for(const g of a)l.mergedAttrs=Fd(l.mergedAttrs,g.hostAttrs);null!==l.mergedAttrs&&(tR(l,l.mergedAttrs,!0),null!==u&&ND(f,u,l))}(f,a,l,E);let P=null;null!==l&&(P=gr(l,g[he]));const B=v.rendererFactory.createRenderer(l,u);let Y=16;u.signals?Y=4096:u.onPush&&(Y=64);const le=N_(g,RB(u),null,Y,g[a.index],a,v,B,null,null,P);return D.firstCreatePass&&sS(D,a,f.length-1),aS(g,le),g[a.index]=le}(FT,Ut,ea,Yl,_i,Ne,je);es=Ec(Zt,$e),Ut&&function eZ(a,l,u,f){if(f)Wu(a,u,["ng-version","17.3.12"]);else{const{attrs:g,classes:v}=function R0(a){const l=[],u=[];let f=1,g=2;for(;f<a.length;){let v=a[f];if("string"==typeof v)2===g?""!==v&&l.push(v,a[++f]):8===g&&u.push(v);else{if(!ba(g))break;g=v}f++}return{attrs:l,classes:u}}(l.selectors[0]);g&&Wu(a,u,g),v&&v.length>0&&MD(a,u,v.join(" "))}}(je,ea,Ut,f),void 0!==u&&function tZ(a,l,u){const f=a.projection=[];for(let g=0;g<l.length;g++){const v=u[g];f.push(null!=v?Array.from(v):null)}}(es,this.ngContentSelectors,u),cr=function l4(a,l,u,f,g,v){const E=vr(),D=g[Ee],P=eo(E,g);LD(D,g,E,u,null,f);for(let Y=0;Y<u.length;Y++)Fs(pl(g,D,E.directiveStart+Y,E),g);PB(D,g,E),P&&Fs(P,g);const B=pl(g,D,E.directiveStart+E.componentOffset,E);if(a[ce]=g[ce]=B,null!==v)for(const Y of v)Y(B,l);return FD(D,E,g),B}(Ow,ea,Yl,Xl,_i,[nZ]),HD(Zt,_i,null)}finally{Uh()}return new XJ(this.componentType,cr,So(es,_i),_i,es)}finally{Be(v)}}}class XJ extends YB{constructor(l,u,f,g,v){super(),this.location=f,this._rootLView=g,this._tNode=v,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new hS(g,void 0,!1),this.componentType=l}setInput(l,u){const f=this._tNode.inputs;let g;if(null!==f&&(g=f[l])){if(this.previousInputValues??=new Map,this.previousInputValues.has(l)&&Object.is(this.previousInputValues.get(l),u))return;const v=this._rootLView;bC(v[Ee],v,g,l,u),this.previousInputValues.set(l,u),EC(Ko(this._tNode.index,v))}}get injector(){return new Sr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function nZ(){const a=vr();qu(Bt()[Ee],a)}let iR=(()=>{class a{static{this.__NG_ELEMENT_ID__=XO}}return a})();function XO(){return d4(vr(),Bt())}const iZ=iR,c4=class extends iZ{constructor(l,u,f){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=f}get element(){return So(this._hostTNode,this._hostLView)}get injector(){return new Sr(this._hostTNode,this._hostLView)}get parentInjector(){const l=Ci(this._hostTNode,this._hostLView);if(nn(l)){const u=ui(l,this._hostLView),f=Nn(l);return new Sr(u[Ee].data[f+8],u)}return new Sr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=u4(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-hn}createEmbeddedView(l,u,f){let g,v;"number"==typeof f?g=f:null!=f&&(g=f.index,v=f.injector);const E=DC(this._lContainer,l.ssrId),D=l.createEmbeddedViewImpl(u||{},v,E);return this.insertImpl(D,g,CC(this._hostTNode,E)),D}createComponent(l,u,f,g,v){const E=l&&!function J(a){return"function"==typeof a}(l);let D;if(E)D=u;else{const ot=u||{};D=ot.index,f=ot.injector,g=ot.projectableNodes,v=ot.environmentInjector||ot.ngModuleRef}const P=E?l:new AS(ji(l)),B=f||this.parentInjector;if(!v&&null==P.ngModule){const Ut=(E?B:this.parentInjector).get(gc,null);Ut&&(v=Ut)}const Y=ji(P.componentType??{}),le=DC(this._lContainer,Y?.id??null),je=P.create(B,g,le?.firstChild??null,v);return this.insertImpl(je.hostView,D,CC(this._hostTNode,le)),je}insert(l,u){return this.insertImpl(l,u,!0)}insertImpl(l,u,f){const g=l._lView;if(function Vd(a){return Ie(a[Ht])}(g)){const D=this.indexOf(l);if(-1!==D)this.detach(D);else{const P=g[Ht],B=new c4(P,P[Pe],P[Ht]);B.detach(B.indexOf(l))}}const v=this._adjustIndex(u),E=this._lContainer;return wC(E,g,v,f),l.attachToViewContainerRef(),T0(QO(E),v,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=u4(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),f=uC(this._lContainer,u);f&&(Ga(QO(this._lContainer),u),Op(f[Ee],f))}detach(l){const u=this._adjustIndex(l,-1),f=uC(this._lContainer,u);return f&&null!=Ga(QO(this._lContainer),u)?new hS(f):null}_adjustIndex(l,u=0){return l??this.length+u}};function u4(a){return a[8]}function QO(a){return a[8]||(a[8]=[])}function d4(a,l){let u;const f=l[a.index];return Ie(f)?u=f:(u=yC(f,l,null,a),l[a.index]=u,aS(l,u)),h4(u,l,a,f),new c4(u,a,l)}let h4=function p4(a,l,u,f){if(a[dn])return;let g;g=8&u.type?Ui(f):function rZ(a,l){const u=a[_e],f=u.createComment(""),g=eo(l,a);return Ra(u,dC(u,g),f,function pO(a,l){return a.nextSibling(l)}(u,g),!1),f}(l,u),a[dn]=g},JO=()=>!1;class ZO{constructor(l){this.queryList=l,this.matches=null}clone(){return new ZO(this.queryList)}setDirty(){this.queryList.setDirty()}}class eF{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const f=null!==l.contentQueries?l.contentQueries[0]:u.length,g=[];for(let v=0;v<f;v++){const E=u.getByIndex(v);g.push(this.queries[E.indexInDeclarationView].clone())}return new eF(g)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}finishViewCreation(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==sF(l,u).matches&&this.queries[u].setDirty()}}class g4{constructor(l,u,f=null){this.flags=u,this.read=f,this.predicate="string"==typeof l?function hZ(a){return a.split(",").map(l=>l.trim())}(l):l}}class tF{constructor(l=[]){this.queries=l}elementStart(l,u){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let f=0;f<this.length;f++){const g=null!==u?u.length:0,v=this.getByIndex(f).embeddedTView(l,g);v&&(v.indexInDeclarationView=f,null!==u?u.push(v):u=[v])}return null!==u?new tF(u):null}template(l,u){for(let f=0;f<this.queries.length;f++)this.queries[f].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class nF{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new nF(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1&~this.metadata.flags){const u=this._declarationNodeIndex;let f=l.parent;for(;null!==f&&8&f.type&&f.index!==u;)f=f.parent;return u===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const f=this.metadata.predicate;if(Array.isArray(f))for(let g=0;g<f.length;g++){const v=f[g];this.matchTNodeWithReadOption(l,u,lZ(u,v)),this.matchTNodeWithReadOption(l,u,pu(u,l,v,!1,!1))}else f===SC?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,pu(u,l,f,!1,!1))}matchTNodeWithReadOption(l,u,f){if(null!==f){const g=this.metadata.read;if(null!==g)if(g===To||g===iR||g===SC&&4&u.type)this.addMatch(u.index,-2);else{const v=pu(u,l,g,!1,!1);null!==v&&this.addMatch(u.index,v)}else this.addMatch(u.index,f)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function lZ(a,l){const u=a.localNames;if(null!==u)for(let f=0;f<u.length;f+=2)if(u[f]===l)return u[f+1];return null}function uZ(a,l,u,f){return-1===u?function cZ(a,l){return 11&a.type?So(a,l):4&a.type?G_(a,l):null}(l,a):-2===u?function dZ(a,l,u){return u===To?So(l,a):u===SC?G_(l,a):u===iR?d4(l,a):void 0}(a,l,f):pl(a,a[Ee],u,l)}function m4(a,l,u,f){const g=l[En].queries[f];if(null===g.matches){const v=a.data,E=u.matches,D=[];for(let P=0;null!==E&&P<E.length;P+=2){const B=E[P];D.push(B<0?null:uZ(l,v[B],E[P+1],u.metadata.read))}g.matches=D}return g.matches}function iF(a,l,u,f){const g=a.queries.getByIndex(u),v=g.matches;if(null!==v){const E=m4(a,l,g,u);for(let D=0;D<v.length;D+=2){const P=v[D];if(P>0)f.push(E[D/2]);else{const B=v[D+1],Y=l[-P];for(let le=hn;le<Y.length;le++){const Ne=Y[le];Ne[Vt]===Ne[Ht]&&iF(Ne[Ee],Ne,B,f)}if(null!==Y[An]){const le=Y[An];for(let Ne=0;Ne<le.length;Ne++){const je=le[Ne];iF(je[Ee],je,B,f)}}}}}return f}function rF(a,l,u){const f=new nd(!(4&~u));return function RJ(a,l,u,f){const g=GD(l);g.push(u),a.firstCreatePass&&TO(a).push(f,g.length-1)}(a,l,f,f.destroy),(l[En]??=new eF).queries.push(new ZO(f))-1}function y4(a,l,u){null===a.queries&&(a.queries=new tF),a.queries.track(new nF(l,u))}function sF(a,l){return a.queries.getByIndex(l)}function b4(a,l){const u=a[Ee],f=sF(u,l);return f.crossesNgTemplate?iF(u,a,l,[]):m4(u,a,f,l)}function oF(a){return"function"==typeof a&&void 0!==a[gn]}function C4(a,l){xa("NgSignals");const u=function zn(a){const l=Object.create(cs);l.value=a;const u=()=>(bt(l),l.value);return u[gn]=l,u}(a),f=u[gn];return l?.equal&&(f.equal=l.equal),u.set=g=>oi(f,g),u.update=g=>function Fn(a,l){xt()||mt(),oi(a,l(a.value))}(f,g),u.asReadonly=w4.bind(u),u}function w4(){const a=this[gn];if(void 0===a.readonlyFn){const l=()=>this();l[gn]=a,a.readonlyFn=l}return a.readonlyFn}function K_(a){let l=function lF(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const f=[a];for(;l;){let g;if(vn(a))g=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Gn(903,!1);g=l.\u0275dir}if(g){if(u){f.push(g);const E=a;E.inputs=Nm(a.inputs),E.inputTransforms=Nm(a.inputTransforms),E.declaredInputs=Nm(a.declaredInputs),E.outputs=Nm(a.outputs);const D=g.hostBindings;D&&aR(a,D);const P=g.viewQuery,B=g.contentQueries;if(P&&xS(a,P),B&&N4(a,B),oR(a,g),Fg(a.outputs,g.outputs),vn(g)&&g.data.animation){const Y=a.data;Y.animation=(Y.animation||[]).concat(g.data.animation)}}const v=g.features;if(v)for(let E=0;E<v.length;E++){const D=v[E];D&&D.ngInherit&&D(a),D===K_&&(u=!1)}}l=Object.getPrototypeOf(l)}!function FC(a){let l=0,u=null;for(let f=a.length-1;f>=0;f--){const g=a[f];g.hostVars=l+=g.hostVars,g.hostAttrs=Fd(g.hostAttrs,u=Fd(u,g.hostAttrs))}}(f)}function oR(a,l){for(const u in l.inputs){if(!l.inputs.hasOwnProperty(u)||a.inputs.hasOwnProperty(u))continue;const f=l.inputs[u];if(void 0!==f&&(a.inputs[u]=f,a.declaredInputs[u]=l.declaredInputs[u],null!==l.inputTransforms)){const g=Array.isArray(f)?f[0]:f;if(!l.inputTransforms.hasOwnProperty(g))continue;a.inputTransforms??={},a.inputTransforms[g]=l.inputTransforms[g]}}}function Nm(a){return a===su?{}:a===hr?[]:a}function xS(a,l){const u=a.viewQuery;a.viewQuery=u?(f,g)=>{l(f,g),u(f,g)}:l}function N4(a,l){const u=a.contentQueries;a.contentQueries=u?(f,g,v)=>{l(f,g,v),u(f,g,v)}:l}function aR(a,l){const u=a.hostBindings;a.hostBindings=u?(f,g)=>{l(f,g),u(f,g)}:l}function F4(a){const l=a.inputConfig,u={};for(const f in l)if(l.hasOwnProperty(f)){const g=l[f];Array.isArray(g)&&g[3]&&(u[f]=g[3])}a.inputTransforms=u}class Om{}class uR{}function k4(a,l){return new OS(a,l??null,[])}class OS extends Om{constructor(l,u,f){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new YO(this);const g=qo(l);this._bootstrapComponents=Eu(g.bootstrap),this._r3Injector=mu(l,u,[{provide:Om,useValue:this},{provide:Pm,useValue:this.componentFactoryResolver},...f],$s(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class cF extends uR{constructor(l){super(),this.moduleType=l}create(l){return new OS(this.moduleType,l,[])}}class Gp extends Om{constructor(l){super(),this.componentFactoryResolver=new YO(this),this.instance=null;const u=new Ug([...l.providers,{provide:Om,useValue:this},{provide:Pm,useValue:this.componentFactoryResolver}],l.parent||a_(),l.debugName,new Set(["environment"]));this.injector=u,l.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function dR(a,l,u=null){return new Gp({providers:a,parent:l,debugName:u,runEnvironmentInitializers:!0}).injector}let Fm=(()=>{class a{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Kv.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(f){return new(f||a)}}static{this.\u0275prov=wr({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function km(a){return!!X_(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function X_(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function rh(a,l,u){return a[l]=u}function oo(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function Bp(a,l,u,f){const g=oo(a,l,u);return oo(a,l+1,f)||g}function kC(a,l,u,f,g,v,E,D){const P=Bt(),B=Bi(),Y=a+$e,le=B.firstCreatePass?function DZ(a,l,u,f,g,v,E,D,P){const B=l.consts,Y=Fp(l,a,4,E||null,hl(B,D));L_(l,u,Y,hl(B,P)),qu(l,Y);const le=Y.tView=bO(2,Y,f,g,v,l.directiveRegistry,l.pipeRegistry,null,l.schemas,B,null);return null!==l.queries&&(l.queries.template(l,Y),le.queries=l.queries.embeddedTView(Y)),Y}(Y,B,P,l,u,f,g,v,E):B.data[Y];ps(le,!1);const Ne=B4(B,P,le,a);$u()&&fC(B,P,Ne,le),Fs(Ne,P);const je=yC(Ne,P,Ne,le);return P[Y]=je,aS(P,je),function f4(a,l,u){return JO(a,l,u)}(je,le,P),un(le)&&_O(B,P,le),null!=E&&yO(P,le,D),kC}let B4=function fF(a,l,u,f){return xr(!0),l[_e].createComment("")};function IF(a,l,u,f){const g=Bt();return oo(g,Sa(),l)&&(Bi(),Bc(pr(),g,a,l,u,f)),IF}function Gm(a,l,u,f){return oo(a,Sa(),u)?l+bi(u)+f:ki}function WC(a,l,u,f,g,v){const D=Bp(a,function Ic(){return ci.lFrame.bindingIndex}(),u,g);return Fl(2),D?l+bi(u)+f+bi(g)+v:ki}function Hm(a,l){return a<<17|l<<2}function ff(a){return a>>17&32767}function jS(a){return 2|a}function ny(a){return(131068&a)>>2}function $S(a,l){return-131069&a|l<<2}function RR(a){return 1|a}function xR(a,l,u,f){const g=a[u+1],v=null===l;let E=f?ff(g):ny(g),D=!1;for(;0!==E&&(!1===D||v);){const B=a[E+1];xF(a[E],l)&&(D=!0,a[E+1]=f?RR(B):jS(B)),E=f?ff(B):ny(B)}D&&(a[u+1]=f?jS(g):RR(g))}function xF(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&ru(a,l)>=0}const Ho={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qS(a){return a.substring(Ho.key,Ho.keyEnd)}function qC(a,l){const u=Ho.textEnd;return u===l?-1:(l=Ho.keyEnd=function gH(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,Ho.key=l,u),iy(a,l,u))}function iy(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function MR(a,l,u){const f=Bt();return oo(f,Sa(),l)&&qa(Bi(),pr(),f,a,l,f[_e],u,!1),MR}function NR(a,l,u,f,g){const E=g?"class":"style";bC(a,u,l.inputs[E],E,f)}function OF(a,l,u){return ah(a,l,u,!1),OF}function OR(a,l){return ah(a,l,null,!0),OR}function FR(a){ql(YS,gf,a,!0)}function gf(a,l){for(let u=function PF(a){return function MF(a){Ho.key=0,Ho.keyEnd=0,Ho.value=0,Ho.valueEnd=0,Ho.textEnd=a.length}(a),qC(a,iy(a,0,Ho.textEnd))}(l);u>=0;u=qC(l,u))dr(a,qS(l),!0)}function ah(a,l,u,f){const g=Bt(),v=Bi(),E=Fl(2);v.firstUpdatePass&&yH(v,a,E,f),l!==ki&&oo(g,E,l)&&kF(v,v.data[Rr()],g,g[_e],a,g[E+1]=function LR(a,l){return null==a||""===a||("string"==typeof l?a+=l:"object"==typeof a&&(a=$s(ha(a)))),a}(l,u),f,E)}function ql(a,l,u,f){const g=Bi(),v=Fl(2);g.firstUpdatePass&&yH(g,null,v,f);const E=Bt();if(u!==ki&&oo(E,v,u)){const D=g.data[Rr()];if(XS(D,f)&&!_H(g,v)){let P=f?D.classesWithoutHost:D.stylesWithoutHost;null!==P&&(u=Rh(P,u||"")),NR(g,D,E,u,f)}else!function dd(a,l,u,f,g,v,E,D){g===ki&&(g=hr);let P=0,B=0,Y=0<g.length?g[0]:null,le=0<v.length?v[0]:null;for(;null!==Y||null!==le;){const Ne=P<g.length?g[P+1]:void 0,je=B<v.length?v[B+1]:void 0;let Ut,ot=null;Y===le?(P+=2,B+=2,Ne!==je&&(ot=le,Ut=je)):null===le||null!==Y&&Y<le?(P+=2,ot=Y):(B+=2,ot=le,Ut=je),null!==ot&&kF(a,l,u,f,ot,Ut,E,D),Y=P<g.length?g[P]:null,le=B<v.length?v[B]:null}}(g,D,E,E[_e],E[v+1],E[v+1]=function CH(a,l,u){if(null==u||""===u)return hr;const f=[],g=ha(u);if(Array.isArray(g))for(let v=0;v<g.length;v++)a(f,g[v],!0);else if("object"==typeof g)for(const v in g)g.hasOwnProperty(v)&&a(f,v,g[v]);else"string"==typeof g&&l(f,g);return f}(a,l,u),f,v)}}function _H(a,l){return l>=a.expandoStartIndex}function yH(a,l,u,f){const g=a.data;if(null===g[u+1]){const v=g[Rr()],E=_H(a,u);XS(v,f)&&null===l&&!E&&(l=!1),l=function bH(a,l,u,f){const g=function Dc(a){const l=ci.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let v=f?l.residualClasses:l.residualStyles;if(null===g)0===(f?l.classBindings:l.styleBindings)&&(u=KS(u=FF(null,a,l,u,f),l.attrs,f),v=null);else{const E=l.directiveStylingLast;if(-1===E||a[E]!==g)if(u=FF(g,a,l,u,f),null===v){let P=function YZ(a,l,u){const f=u?l.classBindings:l.styleBindings;if(0!==ny(f))return a[ff(f)]}(a,l,f);void 0!==P&&Array.isArray(P)&&(P=FF(null,a,l,P[1],f),P=KS(P,l.attrs,f),function XZ(a,l,u,f){a[ff(u?l.classBindings:l.styleBindings)]=f}(a,l,f,P))}else v=function QZ(a,l,u){let f;const g=l.directiveEnd;for(let v=1+l.directiveStylingLast;v<g;v++)f=KS(f,a[v].hostAttrs,u);return KS(f,l.attrs,u)}(a,l,f)}return void 0!==v&&(f?l.residualClasses=v:l.residualStyles=v),u}(g,v,l,f),function dH(a,l,u,f,g,v){let E=v?l.classBindings:l.styleBindings,D=ff(E),P=ny(E);a[f]=u;let Y,B=!1;if(Array.isArray(u)?(Y=u[1],(null===Y||ru(u,Y)>0)&&(B=!0)):Y=u,g)if(0!==P){const Ne=ff(a[D+1]);a[f+1]=Hm(Ne,D),0!==Ne&&(a[Ne+1]=$S(a[Ne+1],f)),a[D+1]=function cH(a,l){return 131071&a|l<<17}(a[D+1],f)}else a[f+1]=Hm(D,0),0!==D&&(a[D+1]=$S(a[D+1],f)),D=f;else a[f+1]=Hm(P,0),0===D?D=f:a[P+1]=$S(a[P+1],f),P=f;B&&(a[f+1]=jS(a[f+1])),xR(a,Y,f,!0),xR(a,Y,f,!1),function hH(a,l,u,f,g){const v=g?a.residualClasses:a.residualStyles;null!=v&&"string"==typeof l&&ru(v,l)>=0&&(u[f+1]=RR(u[f+1]))}(l,Y,a,f,v),E=Hm(D,P),v?l.classBindings=E:l.styleBindings=E}(g,v,l,u,E,f)}}function FF(a,l,u,f,g){let v=null;const E=u.directiveEnd;let D=u.directiveStylingLast;for(-1===D?D=u.directiveStart:D++;D<E&&(v=l[D],f=KS(f,v.hostAttrs,g),v!==a);)D++;return null!==a&&(u.directiveStylingLast=D),f}function KS(a,l,u){const f=u?1:2;let g=-1;if(null!==l)for(let v=0;v<l.length;v++){const E=l[v];"number"==typeof E?g=E:g===f&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),dr(a,E,!!u||l[++v]))}return void 0===a?null:a}function YS(a,l,u){const f=String(l);""!==f&&!f.includes(" ")&&dr(a,f,u)}function kF(a,l,u,f,g,v,E,D){if(!(3&l.type))return;const P=a.data,B=P[D+1],Y=function jZ(a){return!(1&~a)}(B)?kR(P,l,u,g,ny(B),E):void 0;KC(Y)||(KC(v)||function lH(a){return!(2&~a)}(B)&&(v=kR(P,null,u,g,D,E)),function PD(a,l,u,f,g){if(l)g?a.addClass(u,f):a.removeClass(u,f);else{let v=-1===f.indexOf("-")?void 0:lC.DashCase;null==g?a.removeStyle(u,f,v):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),v|=lC.Important),a.setStyle(u,f,g,v))}}(f,E,wc(Rr(),u),g,v))}function kR(a,l,u,f,g,v){const E=null===l;let D;for(;g>0;){const P=a[g],B=Array.isArray(P),Y=B?P[1]:P,le=null===Y;let Ne=u[g+1];Ne===ki&&(Ne=le?hr:void 0);let je=le?Nb(Ne,f):Y===f?Ne:void 0;if(B&&!KC(je)&&(je=Nb(P,f)),KC(je)&&(D=je,E))return D;const ot=a[g+1];g=E?ff(ot):ny(ot)}if(null!==l){let P=v?l.residualClasses:l.residualStyles;null!=P&&(D=Nb(P,f))}return D}function KC(a){return void 0!==a}function XS(a,l){return!!(a.flags&(l?8:16))}function EH(a,l,u){ql(dr,gf,Gm(Bt(),a,l,u),!0)}class MH{destroy(l){}updateValue(l,u){}swap(l,u){const f=Math.min(l,u),g=Math.max(l,u),v=this.detach(g);if(g-f>1){const E=this.detach(f);this.attach(f,v),this.attach(g,E)}else this.attach(f,v)}move(l,u){this.attach(u,this.detach(l))}}function VR(a,l,u,f,g){return a===u&&Object.is(l,f)?1:Object.is(g(a,l),g(u,f))?-1:0}function GR(a,l,u,f){return!(void 0===l||!l.has(f)||(a.attach(u,l.get(f)),l.delete(f),0))}function LF(a,l,u,f,g){if(GR(a,l,f,u(f,g)))a.updateValue(f,g);else{const v=a.create(f,g);a.attach(f,v)}}function VF(a,l,u,f){const g=new Set;for(let v=l;v<=u;v++)g.add(f(v,a.at(v)));return g}class GF{constructor(){this.kvMap=new Map,this._vMap=void 0}has(l){return this.kvMap.has(l)}delete(l){if(!this.has(l))return!1;const u=this.kvMap.get(l);return void 0!==this._vMap&&this._vMap.has(u)?(this.kvMap.set(l,this._vMap.get(u)),this._vMap.delete(u)):this.kvMap.delete(l),!0}get(l){return this.kvMap.get(l)}set(l,u){if(this.kvMap.has(l)){let f=this.kvMap.get(l);void 0===this._vMap&&(this._vMap=new Map);const g=this._vMap;for(;g.has(f);)f=g.get(f);g.set(f,u)}else this.kvMap.set(l,u)}forEach(l){for(let[u,f]of this.kvMap)if(l(f,u),void 0!==this._vMap){const g=this._vMap;for(;g.has(f);)f=g.get(f),l(f,u)}}}function BF(a,l,u){xa("NgControlFlow");const f=Bt(),g=Sa(),v=BR(f,$e+a);if(oo(f,g,l)){const D=Be(null);try{if(Am(v,0),-1!==l){const P=HR(f[Ee],$e+l),B=DC(v,P.tView.ssrId);wC(v,Im(f,P,u,{dehydratedView:B}),0,CC(P,B))}}finally{Be(D)}}else{const D=AO(v,0);void 0!==D&&(D[ce]=u)}}class OH{constructor(l,u,f){this.lContainer=l,this.$implicit=u,this.$index=f}get $count(){return this.lContainer.length-hn}}function HF(a,l){return l}class kH{constructor(l,u,f){this.hasEmptyBlock=l,this.trackByFn=u,this.liveCollection=f}}function UF(a,l,u,f,g,v,E,D,P,B,Y,le,Ne){xa("NgControlFlow");const je=void 0!==P,ot=Bt(),Ut=D?E.bind(ot[nt][ce]):E,an=new kH(je,Ut);ot[$e+a]=an,kC(a+1,l,u,f,g,v),je&&kC(a+2,P,B,Y,le,Ne)}class LH extends MH{constructor(l,u,f){super(),this.lContainer=l,this.hostLView=u,this.templateTNode=f,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-hn}at(l){return this.getLView(l)[ce].$implicit}attach(l,u){const f=u[lt];this.needsIndexUpdate||=l!==this.length,wC(this.lContainer,u,l,CC(this.templateTNode,f))}detach(l){return this.needsIndexUpdate||=l!==this.length-1,function VH(a,l){return uC(a,l)}(this.lContainer,l)}create(l,u){const f=DC(this.lContainer,this.templateTNode.tView.ssrId);return Im(this.hostLView,this.templateTNode,new OH(this.lContainer,u,l),{dehydratedView:f})}destroy(l){Op(l[Ee],l)}updateValue(l,u){this.getLView(l)[ce].$implicit=u}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let l=0;l<this.length;l++)this.getLView(l)[ce].$index=l}getLView(l){return function GH(a,l){return AO(a,l)}(this.lContainer,l)}}function WF(a){const l=Be(null),u=Rr();try{const f=Bt(),g=f[Ee],v=f[u];if(void 0===v.liveCollection){const D=u+1,P=BR(f,D),B=HR(g,D);v.liveCollection=new LH(P,f,B)}else v.liveCollection.reset();const E=v.liveCollection;if(function NH(a,l,u){let f,g,v=0,E=a.length-1;if(Array.isArray(l)){let D=l.length-1;for(;v<=E&&v<=D;){const P=a.at(v),B=l[v],Y=VR(v,P,v,B,u);if(0!==Y){Y<0&&a.updateValue(v,B),v++;continue}const le=a.at(E),Ne=l[D],je=VR(E,le,D,Ne,u);if(0!==je){je<0&&a.updateValue(E,Ne),E--,D--;continue}const ot=u(v,P),Ut=u(E,le),an=u(v,B);if(Object.is(an,Ut)){const _n=u(D,Ne);Object.is(_n,ot)?(a.swap(v,E),a.updateValue(E,Ne),D--,E--):a.move(E,v),a.updateValue(v,B),v++}else if(f??=new GF,g??=VF(a,v,E,u),GR(a,f,v,an))a.updateValue(v,B),v++,E++;else if(g.has(an))f.set(ot,a.detach(v)),E--;else{const _n=a.create(v,l[v]);a.attach(v,_n),v++,E++}}for(;v<=D;)LF(a,f,u,v,l[v]),v++}else if(null!=l){const D=l[Symbol.iterator]();let P=D.next();for(;!P.done&&v<=E;){const B=a.at(v),Y=P.value,le=VR(v,B,v,Y,u);if(0!==le)le<0&&a.updateValue(v,Y),v++,P=D.next();else{f??=new GF,g??=VF(a,v,E,u);const Ne=u(v,Y);if(GR(a,f,v,Ne))a.updateValue(v,Y),v++,E++,P=D.next();else if(g.has(Ne)){const je=u(v,B);f.set(je,a.detach(v)),E--}else a.attach(v,a.create(v,Y)),v++,E++,P=D.next()}}for(;!P.done;)LF(a,f,u,a.length,P.value),P=D.next()}for(;v<=E;)a.destroy(a.detach(E--));f?.forEach(D=>{a.destroy(D)})}(E,a,v.trackByFn),E.updateIndexes(),v.hasEmptyBlock){const D=Sa(),P=0===E.length;if(oo(f,D,P)){const B=u+2,Y=BR(f,B);if(P){const le=HR(g,B),Ne=DC(Y,le.tView.ssrId);wC(Y,Im(f,le,void 0,{dehydratedView:Ne}),0,CC(le,Ne))}else Am(Y,0)}}}finally{Be(l)}}function BR(a,l){return a[l]}function HR(a,l){return Ec(a,l)}function JS(a,l,u,f){const g=Bt(),v=Bi(),E=$e+a,D=g[_e],P=v.firstCreatePass?function QS(a,l,u,f,g,v){const E=l.consts,P=Fp(l,a,2,f,hl(E,g));return L_(l,u,P,hl(E,v)),null!==P.attrs&&tR(P,P.attrs,!1),null!==P.mergedAttrs&&tR(P,P.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,P),P}(E,v,g,l,u,f):v.data[E],B=zF(v,g,P,D,l,a);g[E]=B;const Y=un(P);return ps(P,!0),ND(D,B,P),!function LS(a){return!(32&~a.flags)}(P)&&$u()&&fC(v,g,B,P),0===function u_(){return ci.lFrame.elementDepthCount}()&&Fs(B,g),function Ol(){ci.lFrame.elementDepthCount++}(),Y&&(_O(v,g,P),FD(v,P,g)),null!==f&&yO(g,P),JS}function YC(){let a=vr();Or()?Oi():(a=a.parent,ps(a,!1));const l=a;(function Yg(a){return ci.skipHydrationRootTNode===a})(l)&&function bo(){ci.skipHydrationRootTNode=null}(),function Bh(){ci.lFrame.elementDepthCount--}();const u=Bi();return u.firstCreatePass&&(qu(u,a),xi(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function ve(a){return!!(8&a.flags)}(l)&&NR(u,l,Bt(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Me(a){return!!(16&a.flags)}(l)&&NR(u,l,Bt(),l.stylesWithoutHost,!1),YC}function UR(a,l,u,f){return JS(a,l,u,f),YC(),UR}let zF=(a,l,u,f,g,v)=>(xr(!0),R_(f,g,function zh(){return ci.lFrame.currentNamespace}()));function ZS(a,l,u){const f=Bt(),g=Bi(),v=a+$e,E=g.firstCreatePass?function JZ(a,l,u,f,g){const v=l.consts,E=hl(v,f),D=Fp(l,a,8,"ng-container",E);return null!==E&&tR(D,E,!0),L_(l,u,D,hl(v,g)),null!==l.queries&&l.queries.elementStart(l,D),D}(v,g,f,l,u):g.data[v];ps(E,!0);const D=zR(g,f,E,a);return f[v]=D,$u()&&fC(g,f,D,E),Fs(D,f),un(E)&&(_O(g,f,E),FD(g,E,f)),null!=u&&yO(f,E),ZS}function WR(){let a=vr();const l=Bi();return Or()?Oi():(a=a.parent,ps(a,!1)),l.firstCreatePass&&(qu(l,a),xi(a)&&l.queries.elementEnd(a)),WR}function eT(a,l,u){return ZS(a,l,u),WR(),eT}let zR=(a,l,u,f)=>(xr(!0),aO(l[_e],""));function XC(){return Bt()}function tT(a,l,u){const f=Bt();return oo(f,Sa(),l)&&qa(Bi(),pr(),f,a,l,f[_e],u,!0),tT}const Um=void 0;var ZZ=["en",[["a","p"],["AM","PM"],Um],[["AM","PM"],Um,Um],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Um,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Um,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Um,"{1} 'at' {0}",Um],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $R(a){const u=Math.floor(Math.abs(a)),f=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===f?1:5}];let QC={};function JC(a){const l=function UH(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=KR(l);if(u)return u;const f=l.split("-")[0];if(u=KR(f),u)return u;if("en"===f)return ZZ;throw new Gn(701,!1)}function qR(a){return JC(a)[Wm.PluralCase]}function KR(a){return a in QC||(QC[a]=Ii.ng&&Ii.ng.common&&Ii.ng.common.locales&&Ii.ng.common.locales[a]),QC[a]}var Wm=function(a){return a[a.LocaleId=0]="LocaleId",a[a.DayPeriodsFormat=1]="DayPeriodsFormat",a[a.DayPeriodsStandalone=2]="DayPeriodsStandalone",a[a.DaysFormat=3]="DaysFormat",a[a.DaysStandalone=4]="DaysStandalone",a[a.MonthsFormat=5]="MonthsFormat",a[a.MonthsStandalone=6]="MonthsStandalone",a[a.Eras=7]="Eras",a[a.FirstDayOfWeek=8]="FirstDayOfWeek",a[a.WeekendRange=9]="WeekendRange",a[a.DateFormat=10]="DateFormat",a[a.TimeFormat=11]="TimeFormat",a[a.DateTimeFormat=12]="DateTimeFormat",a[a.NumberSymbols=13]="NumberSymbols",a[a.NumberFormats=14]="NumberFormats",a[a.CurrencyCode=15]="CurrencyCode",a[a.CurrencySymbol=16]="CurrencySymbol",a[a.CurrencyName=17]="CurrencyName",a[a.Currencies=18]="Currencies",a[a.Directionality=19]="Directionality",a[a.PluralCase=20]="PluralCase",a[a.ExtraData=21]="ExtraData",a}(Wm||{});const te="en-US";let KF=te;function rx(a,l,u,f){const g=Bt(),v=Bi(),E=vr();return function ox(a,l,u,f,g,v,E){const D=un(f),B=a.firstCreatePass&&TO(a),Y=l[ce],le=GD(l);let Ne=!0;if(3&f.type||E){const Ut=eo(f,l),an=E?E(Ut):Ut,_n=le.length,Zt=E?cr=>E(Ui(cr[f.index])):f.index;let _i=null;if(!E&&D&&(_i=function hU(a,l,u,f){const g=a.cleanup;if(null!=g)for(let v=0;v<g.length-1;v+=2){const E=g[v];if(E===u&&g[v+1]===f){const D=l[kt],P=g[v+2];return D.length>P?D[P]:null}"string"==typeof E&&(v+=2)}return null}(a,l,g,f.index)),null!==_i)(_i.__ngLastListenerFn__||_i).__ngNextListenerFn__=v,_i.__ngLastListenerFn__=v,Ne=!1;else{v=pU(f,l,Y,v,!1);const cr=u.listen(an,g,v);le.push(v,cr),B&&B.push(g,Zt,_n,_n+1)}}else v=pU(f,l,Y,v,!1);const je=f.outputs;let ot;if(Ne&&null!==je&&(ot=je[g])){const Ut=ot.length;if(Ut)for(let an=0;an<Ut;an+=2){const es=l[ot[an]][ot[an+1]].subscribe(v),ea=le.length;le.push(v,es),B&&B.push(g,f.index,ea,-(ea+1))}}}(v,g,g[_e],E,a,l,f),rx}function fU(a,l,u,f){const g=Be(null);try{return wa(6,l,u),!1!==u(f)}catch(v){return cS(a,v),!1}finally{wa(7,l,u),Be(g)}}function pU(a,l,u,f,g){return function v(E){if(E===Function)return f;EC(a.componentOffset>-1?Ko(a.index,l):l);let P=fU(l,u,f,E),B=v.__ngNextListenerFn__;for(;B;)P=fU(l,u,B,E)&&P,B=B.__ngNextListenerFn__;return g&&!1===P&&E.preventDefault(),P}}function aw(a=1){return function hu(a){return(ci.lFrame.contextLView=function c_(a,l){for(;a>0;)l=l[Pt],a--;return l}(a,ci.lFrame.contextLView))[ce]}(a)}function gU(a,l){let u=null;const f=function A0(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(!(1&u))return l[u+1]}return null}(a);for(let g=0;g<l.length;g++){const v=l[g];if("*"!==v){if(null===f?ZA(a,v,!0):eD(f,v))return g}else u=g}return u}function oy(a){const l=Bt()[nt][Pe];if(!l.projection){const f=l.projection=function Oh(a,l){const u=[];for(let f=0;f<a;f++)u.push(l);return u}(a?a.length:1,null),g=f.slice();let v=l.child;for(;null!==v;){const E=a?gU(v,a):0;null!==E&&(g[E]?g[E].projectionNext=v:f[E]=v,g[E]=v),v=v.next}}}function ax(a,l=0,u){const f=Bt(),g=Bi(),v=Fp(g,$e+a,16,null,u||null);null===v.projection&&(v.projection=l),Oi(),(!f[lt]||Tc())&&32&~v.flags&&function mO(a,l,u){xD(l[_e],0,l,u,th(a,u,l),AD(u.parent||l[Pe],u,l))}(g,f,v)}function v2(a,l,u,f){!function _4(a,l,u,f){const g=Bi();if(g.firstCreatePass){const v=vr();y4(g,new g4(l,u,f),v.index),function fZ(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(g,a),!(2&~u)&&(g.staticContentQueries=!0)}return rF(g,Bt(),u)}(a,l,u,f)}function _2(a,l,u){!function v4(a,l,u){const f=Bi();return f.firstCreatePass&&(y4(f,new g4(a,l,u),-1),!(2&~l)&&(f.staticViewQueries=!0)),rF(f,Bt(),l)}(a,l,u)}function y2(a){const l=Bt(),u=Bi(),f=ju();On(f+1);const g=sF(u,f);if(a.dirty&&function Bb(a){return!(4&~a[qe])}(l)===!(2&~g.metadata.flags)){if(null===g.matches)a.reset([]);else{const v=b4(l,f);a.reset(v,td),a.notifyOnChanges()}return!0}return!1}function ux(){return function rR(a,l){return a[En].queries[l].queryList}(Bt(),ju())}function dx(a){return Sc(function fp(){return ci.lFrame.contextLView}(),$e+a)}function ay(a,l=""){const u=Bt(),f=Bi(),g=a+$e,v=f.firstCreatePass?Fp(f,g,1,l,null):f.data[g],E=D2(f,u,v,l,a);u[g]=E,$u()&&fC(f,u,E,v),ps(v,!1)}let D2=(a,l,u,f,g)=>(xr(!0),function oO(a,l){return a.createText(l)}(l[_e],f));function R2(a){return aT("",a,""),R2}function aT(a,l,u){const f=Bt(),g=Gm(f,a,l,u);return g!==ki&&kp(f,Rr(),g),aT}function uw(a,l,u,f,g){const v=Bt(),E=WC(v,a,l,u,f,g);return E!==ki&&kp(v,Rr(),E),uw}function gx(a,l,u,f,g){if(a=di(a),Array.isArray(a))for(let v=0;v<a.length;v++)gx(a[v],l,u,f,g);else{const v=Bi(),E=Bt(),D=vr();let P=Vh(a)?a:di(a.provide);const B=lD(a),Y=1048575&D.providerIndexes,le=D.directiveStart,Ne=D.providerIndexes>>20;if(Vh(a)||!a.multi){const je=new Pr(B,g,Em),ot=lT(P,l,g?Y:Y+Ne,le);-1===ot?(xc(to(D,E),v,P),mx(v,a,l.length),l.push(P),D.directiveStart++,D.directiveEnd++,g&&(D.providerIndexes+=1048576),u.push(je),E.push(je)):(u[ot]=je,E[ot]=je)}else{const je=lT(P,l,Y+Ne,le),ot=lT(P,l,Y,Y+Ne),an=ot>=0&&u[ot];if(g&&!an||!g&&!(je>=0&&u[je])){xc(to(D,E),v,P);const _n=function Tee(a,l,u,f,g){const v=new Pr(a,u,Em);return v.multi=[],v.index=l,v.componentProviders=0,vx(v,g,f&&!u),v}(g?See:Eee,u.length,g,f,B);!g&&an&&(u[ot].providerFactory=_n),mx(v,a,l.length,0),l.push(P),D.directiveStart++,D.directiveEnd++,g&&(D.providerIndexes+=1048576),u.push(_n),E.push(_n)}else mx(v,a,je>-1?je:ot,vx(u[g?ot:je],B,!g&&f));!g&&f&&an&&u[ot].componentProviders++}}}function mx(a,l,u,f){const g=Vh(l),v=function O0(a){return!!a.useClass}(l);if(g||v){const P=(v?di(l.useClass):l).prototype.ngOnDestroy;if(P){const B=a.destroyHooks||(a.destroyHooks=[]);if(!g&&l.multi){const Y=B.indexOf(u);-1===Y?B.push(u,[f,P]):B[Y+1].push(f,P)}else B.push(u,P)}}}function vx(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function lT(a,l,u,f){for(let g=u;g<f;g++)if(l[g]===a)return g;return-1}function Eee(a,l,u,f){return F2(this.multi,[])}function See(a,l,u,f){const g=this.multi;let v;if(this.providerFactory){const E=this.providerFactory.componentProviders,D=pl(u,u[Ee],this.providerFactory.index,f);v=D.slice(0,E),F2(g,v);for(let P=E;P<D.length;P++)v.push(D[P])}else v=[],F2(g,v);return v}function F2(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function RU(a,l=[]){return u=>{u.providersResolver=(f,g)=>function wee(a,l,u){const f=Bi();if(f.firstCreatePass){const g=vn(a);gx(u,f.data,f.blueprint,g,!0),gx(l,f.data,f.blueprint,g,!1)}}(f,g?g(a):a,l)}}let Iee=(()=>{class a{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u)){const f=Hg(0,u.type),g=f.length>0?dR([f],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u,g)}return this.cachedInjectors.get(u)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=wr({token:a,providedIn:"environment",factory:()=>new a(ds(gc))})}}return a})();function k2(a){xa("NgStandalone"),a.getStandaloneInjector=l=>l.get(Iee).getOrCreateStandaloneInjector(a)}function PU(a,l,u,f){return L2(Bt(),Yo(),a,l,u,f)}function MU(a,l,u,f,g){return function NU(a,l,u,f,g,v,E){const D=l+u;return Bp(a,D,g,v)?rh(a,D+2,E?f.call(E,g,v):f(g,v)):qm(a,D+2)}(Bt(),Yo(),a,l,u,f,g)}function qm(a,l){const u=a[l];return u===ki?void 0:u}function L2(a,l,u,f,g,v){const E=l+u;return oo(a,E,g)?rh(a,E+1,v?f.call(v,g):f(g)):qm(a,E+1)}function LU(a,l){const u=Bi();let f;const g=a+$e;u.firstCreatePass?(f=function Oee(a,l){if(l)for(let u=l.length-1;u>=0;u--){const f=l[u];if(a===f.name)return f}}(l,u.pipeRegistry),u.data[g]=f,f.onDestroy&&(u.destroyHooks??=[]).push(g,f.onDestroy)):f=u.data[g];const v=f.factory||(f.factory=fc(f.type)),D=qs(Em);try{const P=ii(!1),B=v();return ii(P),function b2(a,l,u,f){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=f}(u,Bt(),g,B),B}finally{qs(D)}}function fw(a,l,u){const f=a+$e,g=Bt(),v=Sc(g,f);return function dT(a,l){return a[Ee].data[l].pure}(g,f)?L2(g,Yo(),l,v.transform,u,v):v.transform(u)}function B2(a,l){return G_(a,l)}class sk{constructor(l){this.full=l;const u=l.split(".");this.major=u[0],this.minor=u[1],this.patch=u.slice(2).join(".")}}const QU=new sk("17.3.12");let ok=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}static{this.\u0275fac=function(f){return new(f||a)}}static{this.\u0275prov=wr({token:a,factory:a.\u0275fac,providedIn:"platform"})}}return a})();const mT=new Vi(""),Dx=new Vi("");let vT,Rx=(()=>{class a{constructor(u,f,g){this._ngZone=u,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,vT||(function Px(a){vT=a}(g),g.addToWindow(f)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ao.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb()}});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(u)||(clearTimeout(f.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,f,g){let v=-1;f&&f>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==v),u()},f)),this._callbacks.push({doneCb:u,timeoutId:v,updateCb:g})}whenStable(u,f,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,f,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,f,g){return[]}static{this.\u0275fac=function(f){return new(f||a)(ds(Ao),ds(xx),ds(Dx))}}static{this.\u0275prov=wr({token:a,factory:a.\u0275fac})}}return a})(),xx=(()=>{class a{constructor(){this._applications=new Map}registerApplication(u,f){this._applications.set(u,f)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,f=!0){return vT?.findTestabilityInTree(this,u,f)??null}static{this.\u0275fac=function(f){return new(f||a)}}static{this.\u0275prov=wr({token:a,factory:a.\u0275fac,providedIn:"platform"})}}return a})();function ck(a){return!!a&&"function"==typeof a.then}function _T(a){return!!a&&"function"==typeof a.subscribe}const uy=new Vi("");let Xm=(()=>{class a{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,f)=>{this.resolve=u,this.reject=f}),this.appInits=wi(uy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const g of this.appInits){const v=g();if(ck(v))u.push(v);else if(_T(v)){const E=new Promise((D,P)=>{v.subscribe({complete:D,error:P})});u.push(E)}}const f=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{f()}).catch(g=>{this.reject(g)}),0===u.length&&f(),this.initialized=!0}static{this.\u0275fac=function(f){return new(f||a)}}static{this.\u0275prov=wr({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const dy=new Vi("");let Yp=(()=>{class a{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=wi(vl),this.afterRenderEffectManager=wi($_),this.externalTestViews=new Set,this.beforeRender=new Dh.B,this.afterTick=new Dh.B,this.componentTypes=[],this.components=[],this.isStable=wi(Fm).hasPendingTasks.pipe((0,gb.T)(u=>!u)),this._injector=wi(gc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,f){const g=u instanceof XB;if(!this._injector.get(Xm).done)throw!g&&al(u),new Gn(405,!1);let E;E=g?u:this._injector.get(Pm).resolveComponentFactory(u),this.componentTypes.push(E.componentType);const D=function Mx(a){return a.isBoundToModule}(E)?void 0:this._injector.get(Om),B=E.create(Eo.NULL,[],f||E.selector,D),Y=B.location.nativeElement,le=B.injector.get(mT,null);return le?.registerApplication(Y),B.onDestroy(()=>{this.detachView(B.hostView),Ox(this.components,B),le?.unregisterApplication(Y)}),this._loadComponent(B),B}tick(){this._tick(!0)}_tick(u){if(this._runningTick)throw new Gn(101,!1);const f=Be(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(u)}catch(g){this.internalErrorHandler(g)}finally{this.afterTick.next(),this._runningTick=!1,Be(f)}}detectChangesInAttachedViews(u){let f=0;const g=this.afterRenderEffectManager;for(;;){if(f===FB)throw new Gn(103,!1);if(u){const v=0===f;this.beforeRender.next(v);for(let{_lView:E,notifyErrorHandler:D}of this._views)Qee(E,v,D)}if(f++,g.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:v})=>dk(v))&&(g.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:v})=>dk(v))))break}}attachView(u){const f=u;this._views.push(f),f.attachToAppRef(this)}detachView(u){const f=u;Ox(this._views,f),f.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const f=this._injector.get(dy,[]);[...this._bootstrapListeners,...f].forEach(g=>g(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Ox(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Gn(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(f){return new(f||a)}}static{this.\u0275prov=wr({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function Ox(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}function Qee(a,l,u){!l&&!dk(a)||function Jee(a,l,u){let f;u?(f=0,a[qe]|=1024):f=64&a[qe]?0:1,zD(a,l,f)}(a,u,l)}function dk(a){return up(a)}class Zee{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let ete=(()=>{class a{compileModuleSync(u){return new cF(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const f=this.compileModuleSync(u),v=Eu(qo(u).declarations).reduce((E,D)=>{const P=ji(D);return P&&E.push(new AS(P)),E},[]);return new Zee(f,v)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}static{this.\u0275fac=function(f){return new(f||a)}}static{this.\u0275prov=wr({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),Vx=(()=>{class a{constructor(){this.zone=wi(Ao),this.applicationRef=wi(Yp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(f){return new(f||a)}}static{this.\u0275prov=wr({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function g6(a){return[{provide:Ao,useFactory:a},{provide:rp,multi:!0,useFactory:()=>{const l=wi(Vx,{optional:!0});return()=>l.initialize()}},{provide:rp,multi:!0,useFactory:()=>{const l=wi(fk);return()=>{l.initialize()}}},{provide:vl,useFactory:nte}]}function nte(){const a=wi(Ao),l=wi(io);return u=>a.runOutsideAngular(()=>l.handleError(u))}function yw(a){return r_([[],g6(()=>new Ao(function bw(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:a?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:a?.runCoalescing??!1}}(a)))])}let fk=(()=>{class a{constructor(){this.subscription=new qv.yU,this.initialized=!1,this.zone=wi(Ao),this.pendingTasks=wi(Fm)}initialize(){if(this.initialized)return;this.initialized=!0;let u=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(u=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ao.assertNotInAngularZone(),queueMicrotask(()=>{null!==u&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(u),u=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ao.assertInAngularZone(),u??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(f){return new(f||a)}}static{this.\u0275prov=wr({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Gx=new Vi("",{providedIn:"root",factory:()=>wi(Gx,zi.Optional|zi.SkipSelf)||function pk(){return typeof $localize<"u"&&$localize.locale||te}()}),m6=new Vi("",{providedIn:"root",factory:()=>"USD"}),Bx=new Vi("");let Xp=null;let zx=(()=>{class a{static{this.__NG_ELEMENT_ID__=yk}}return a})();function yk(a){return function b6(a,l,u){if(jn(a)&&!u){const f=Ko(a.index,l);return new hS(f,f)}return 47&a.type?new hS(l[nt],l):null}(vr(),Bt(),!(16&~a))}class Sk{constructor(){}supports(l){return km(l)}create(l){return new I6(l)}}const T6=(a,l)=>l;class I6{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||T6}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,f=this._removalsHead,g=0,v=null;for(;u||f;){const E=!f||u&&u.currentIndex<ST(f,g,v)?u:f,D=ST(E,g,v),P=E.currentIndex;if(E===f)g--,f=f._nextRemoved;else if(u=u._next,null==E.previousIndex)g++;else{v||(v=[]);const B=D-g,Y=P-g;if(B!=Y){for(let Ne=0;Ne<B;Ne++){const je=Ne<v.length?v[Ne]:v[Ne]=0,ot=je+Ne;Y<=ot&&ot<B&&(v[Ne]=je+1)}v[E.previousIndex]=Y-B}}D!==P&&l(E,D,P)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!km(l))throw new Gn(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let g,v,E,u=this._itHead,f=!1;if(Array.isArray(l)){this.length=l.length;for(let D=0;D<this.length;D++)v=l[D],E=this._trackByFn(D,v),null!==u&&Object.is(u.trackById,E)?(f&&(u=this._verifyReinsertion(u,v,E,D)),Object.is(u.item,v)||this._addIdentityChange(u,v)):(u=this._mismatch(u,v,E,D),f=!0),u=u._next}else g=0,function hF(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[Symbol.iterator]();let f;for(;!(f=u.next()).done;)l(f.value)}}(l,D=>{E=this._trackByFn(g,D),null!==u&&Object.is(u.trackById,E)?(f&&(u=this._verifyReinsertion(u,D,E,g)),Object.is(u.item,D)||this._addIdentityChange(u,D)):(u=this._mismatch(u,D,E,g),f=!0),u=u._next,g++}),this.length=g;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,f,g){let v;return null===l?v=this._itTail:(v=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,v,g)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(f,g))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,v,g)):l=this._addAfter(new dte(u,f),v,g),l}_verifyReinsertion(l,u,f,g){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==v?l=this._reinsertAfter(v,l._prev,g):l.currentIndex!=g&&(l.currentIndex=g,this._addToMoves(l,g)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const g=l._prevRemoved,v=l._nextRemoved;return null===g?this._removalsHead=v:g._nextRemoved=v,null===v?this._removalsTail=g:v._prevRemoved=g,this._insertAfter(l,u,f),this._addToMoves(l,f),l}_moveAfter(l,u,f){return this._unlink(l),this._insertAfter(l,u,f),this._addToMoves(l,f),l}_addAfter(l,u,f){return this._insertAfter(l,u,f),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,f){const g=null===u?this._itHead:u._next;return l._next=g,l._prev=u,null===g?this._itTail=l:g._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new Qm),this._linkedRecords.put(l),l.currentIndex=f,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,f=l._next;return null===u?this._itHead=f:u._next=f,null===f?this._itTail=u:f._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qm),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class dte{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Tk{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===u||u<=f.currentIndex)&&Object.is(f.trackById,l))return f;return null}remove(l){const u=l._prevDup,f=l._nextDup;return null===u?this._head=f:u._nextDup=f,null===f?this._tail=u:f._prevDup=u,null===this._head}}class Qm{constructor(){this.map=new Map}put(l){const u=l.trackById;let f=this.map.get(u);f||(f=new Tk,this.map.set(u,f)),f.add(l)}get(l,u){const g=this.map.get(l);return g?g.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ST(a,l,u){const f=a.previousIndex;if(null===f)return f;let g=0;return u&&f<u.length&&(g=u[f]),f+l+g}class Ew{constructor(){}supports(l){return l instanceof Map||X_(l)}create(){return new qx}}class qx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||X_(l)))throw new Gn(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(f,g)=>{if(u&&u.key===g)this._maybeAddToChanges(u,f),this._appendAfter=u,u=u._next;else{const v=this._getOrCreateRecordForKey(g,f);u=this._insertBeforeOrAppend(u,v)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let f=u;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const f=l._prev;return u._next=l,u._prev=f,l._prev=u,f&&(f._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const g=this._records.get(l);this._maybeAddToChanges(g,u);const v=g._prev,E=g._next;return v&&(v._next=E),E&&(E._prev=v),g._next=null,g._prev=null,g}const f=new TT(l);return this._records.set(l,f),f.currentValue=u,this._addToAdditions(f),f}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(f=>u(l[f],f))}}class TT{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function wf(){return new Jm([new Sk])}let Jm=(()=>{class a{static{this.\u0275prov=wr({token:a,providedIn:"root",factory:wf})}constructor(u){this.factories=u}static create(u,f){if(null!=f){const g=f.factories.slice();u=u.concat(g)}return new a(u)}static extend(u){return{provide:a,useFactory:f=>a.create(u,f||wf()),deps:[[a,new Gg,new ti]]}}find(u){const f=this.factories.find(g=>g.supports(u));if(null!=f)return f;throw new Gn(901,!1)}}return a})();function IT(){return new Sw([new Ew])}let Sw=(()=>{class a{static{this.\u0275prov=wr({token:a,providedIn:"root",factory:IT})}constructor(u){this.factories=u}static create(u,f){if(f){const g=f.factories.slice();u=u.concat(g)}return new a(u)}static extend(u){return{provide:a,useFactory:f=>a.create(u,f||IT()),deps:[[a,new Gg,new ti]]}}find(u){const f=this.factories.find(g=>g.supports(u));if(f)return f;throw new Gn(901,!1)}}return a})();function eg(a){try{const{rootComponent:l,appProviders:u,platformProviders:f}=a,g=function Wx(a=[]){if(Xp)return Xp;const l=function Hx(a=[],l){return Eo.create({name:l,providers:[{provide:o_,useValue:"platform"},{provide:Bx,useValue:new Set([()=>Xp=null])},...a]})}(a);return Xp=l,function yT(){!function Hn(a){cn=a}(()=>{throw new Gn(600,!1)})}(),function CT(a){a.get(A,null)?.forEach(u=>u())}(l),l}(f),v=[yw(),...u||[]],D=new Gp({providers:v,parent:g,debugName:"",runEnvironmentInitializers:!1}).injector,P=D.get(Ao);return P.run(()=>{D.resolveInjectorInitializers();const B=D.get(io,null);let Y;P.runOutsideAngular(()=>{Y=P.onError.subscribe({next:je=>{B.handleError(je)}})});const le=()=>D.destroy(),Ne=g.get(Bx);return Ne.add(le),D.onDestroy(()=>{Y.unsubscribe(),Ne.delete(le)}),function _w(a,l,u){try{const f=u();return ck(f)?f.catch(g=>{throw l.runOutsideAngular(()=>a.handleError(g)),g}):f}catch(f){throw l.runOutsideAngular(()=>a.handleError(f)),f}}(B,P,()=>{const je=D.get(Xm);return je.runInitializers(),je.donePromise.then(()=>{!function YF(a){"string"==typeof a&&(KF=a.toLowerCase().replace(/_/g,"-"))}(D.get(Gx,te)||te);const Ut=D.get(Yp);return void 0!==l&&Ut.bootstrap(l),Ut})})})}catch(l){return Promise.reject(l)}}function Tte(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}function Ite(a,l=NaN){return isNaN(parseFloat(a))||isNaN(Number(a))?l:Number(a)}function B6(a){const l=Be(null);try{return a()}finally{Be(l)}}const Mr=new Vi("",{providedIn:"root",factory:()=>wi(fa)});let fa=(()=>{class a{static{this.\u0275prov=wr({token:a,providedIn:"root",factory:()=>new nv})}}return a})();class nv{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=wi(Fm),this.taskId=null}scheduleEffect(l){if(this.enqueue(l),null===this.taskId){const u=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(u),this.taskId=null})}}enqueue(l){const u=l.creationZone;this.queues.has(u)||this.queues.set(u,new Set);const f=this.queues.get(u);f.has(l)||(this.queuedEffectCount++,f.add(l))}flush(){for(;this.queuedEffectCount>0;)for(const[l,u]of this.queues)null===l?this.flushQueue(u):l.run(()=>this.flushQueue(u))}flushQueue(l){for(const u of l)l.delete(u),this.queuedEffectCount--,u.run()}}class H6{constructor(l,u,f,g,v,E){this.scheduler=l,this.effectFn=u,this.creationZone=f,this.injector=v,this.watcher=function tu(a,l,u){const f=Object.create($f);u&&(f.consumerAllowSignalWrites=!0),f.fn=a,f.schedule=l;const g=P=>{f.cleanupFn=P};return f.ref={notify:()=>st(f),run:()=>{if(null===f.fn)return;if(function mn(){return rn}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(f.dirty=!1,f.hasRun&&!vt(f))return;f.hasRun=!0;const P=Ae(f);try{f.cleanupFn(),f.cleanupFn=hc,f.fn(g)}finally{Xe(f,P)}},cleanup:()=>f.cleanupFn(),destroy:()=>function E(P){(function v(P){return null===P.fn&&null===P.schedule})(P)||(ut(P),P.cleanupFn(),P.fn=null,P.schedule=null,P.cleanupFn=hc)}(f),[gn]:f},f.ref}(D=>this.runEffect(D),()=>this.schedule(),E),this.unregisterOnDestroy=g?.onDestroy(()=>this.destroy())}runEffect(l){try{this.effectFn(l)}catch(u){this.injector.get(io,null,{optional:!0})?.handleError(u)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function Hk(a,l){xa("NgSignals"),!l?.injector&&T();const u=l?.injector??wi(Eo),f=!0!==l?.manualCleanup?u.get(_r):null,g=new H6(u.get(Mr),a,typeof Zone>"u"?null:Zone.current,f,u,l?.allowSignalWrites??!1),v=u.get(zx,null,{optional:!0});return v&&8&v._lView[qe]?(v._lView[Ge]??=[]).push(g.watcher.notify):g.watcher.notify(),g}},467:(rs,yi,Kt)=>{"use strict";function d(Cn,rn,wn,gn,Be,ln,mn){try{var _t=Cn[ln](mn),He=_t.value}catch(bt){return void wn(bt)}_t.done?rn(He):Promise.resolve(He).then(gn,Be)}function Jn(Cn){return function(){var rn=this,wn=arguments;return new Promise(function(gn,Be){var ln=Cn.apply(rn,wn);function mn(He){d(ln,gn,Be,mn,_t,"next",He)}function _t(He){d(ln,gn,Be,mn,_t,"throw",He)}mn(void 0)})}}Kt.d(yi,{A:()=>Jn})},2284:(rs,yi,Kt)=>{"use strict";function d(Jn){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Cn){return typeof Cn}:function(Cn){return Cn&&"function"==typeof Symbol&&Cn.constructor===Symbol&&Cn!==Symbol.prototype?"symbol":typeof Cn})(Jn)}Kt.d(yi,{A:()=>d})}},rs=>{rs(rs.s=2390)}]);