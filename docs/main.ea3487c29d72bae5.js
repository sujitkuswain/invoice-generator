(self.webpackChunkinvoice_generator=self.webpackChunkinvoice_generator||[]).push([[792],{3646:(is,yi,Kt)=>{"use strict";var h=Kt(4438);let Jn=null;function wn(){return Jn}class En{}const He=new h.nKC("");let ln=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=h.jDH({token:t,factory:()=>(0,h.WQX)(_t),providedIn:"platform"})}}return t})(),_t=(()=>{class t extends ln{constructor(){super(),this._doc=(0,h.WQX)(He),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wn().getBaseHref(this._doc)}onPopState(n){const i=wn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=wn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=h.jDH({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Be(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Ct(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function it(t){return t&&"?"!==t[0]?"?"+t:t}let Ft=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=h.jDH({token:t,factory:()=>(0,h.WQX)(xt),providedIn:"root"})}}return t})();const Mt=new h.nKC("");let xt=(()=>{class t extends Ft{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,h.WQX)(He).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Be(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+it(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,s){const o=this.prepareExternalUrl(r+it(s));this._platformLocation.pushState(n,i,o)}replaceState(n,i,r,s){const o=this.prepareExternalUrl(r+it(s));this._platformLocation.replaceState(n,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(ln),h.KVO(Mt,8))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ae=(()=>{class t{constructor(n){this._subject=new h.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const i=this._locationStrategy.getBaseHref();this._basePath=function Fe(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(Ct(ut(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+it(i))}normalize(n){return t.stripTrailingSlash(function vt(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,ut(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+it(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+it(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}static{this.normalizeQueryParams=it}static{this.joinWithSlash=Be}static{this.stripTrailingSlash=Ct}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(Ft))}}static{this.\u0275prov=h.jDH({token:t,factory:()=>function Xe(){return new Ae((0,h.KVO)(Ft))}(),providedIn:"root"})}}return t})();function ut(t){return t.replace(/\/index.html$/,"")}var Dt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Dt||{}),xe=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(xe||{}),We=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(We||{});const qt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Kn(t,e){return Al((0,h.H5H)(t)[h.KH2.DateFormat],e)}function mi(t,e){return Al((0,h.H5H)(t)[h.KH2.TimeFormat],e)}function li(t,e){return Al((0,h.H5H)(t)[h.KH2.DateTimeFormat],e)}function Nn(t,e){const n=(0,h.H5H)(t),i=n[h.KH2.NumberSymbols][e];if(typeof i>"u"){if(e===qt.CurrencyDecimal)return n[h.KH2.NumberSymbols][qt.Decimal];if(e===qt.CurrencyGroup)return n[h.KH2.NumberSymbols][qt.Group]}return i}function Ch(t){if(!t[h.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[h.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Al(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Cd(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const Gv=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,oC={},pN=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Zc=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Zc||{}),Ui=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ui||{}),Mi=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Mi||{});function wd(t,e,n,i){let r=function Rl(t){if(vN(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[r,s=1,o=1]=t.split("-").map(c=>+c);return Pa(r,s-1,o)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let i;if(i=t.match(Gv))return function GG(t){const e=new Date(0);let n=0,i=0;const r=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,c=Number(t[5]||0)-i,d=Number(t[6]||0),p=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,c,d,p),e}(i)}const e=new Date(t);if(!vN(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=Bu(n,e)||e;let c,o=[];for(;e;){if(c=pN.exec(e),!c){o.push(e);break}{o=o.concat(c.slice(1));const m=o.pop();if(!m)break;e=m}}let d=r.getTimezoneOffset();i&&(d=gN(i,d),r=function xA(t,e,n){const i=n?-1:1,r=t.getTimezoneOffset();return function mN(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,i*(gN(e,r)-r))}(r,i,!0));let p="";return o.forEach(m=>{const y=function aa(t){if(Ff[t])return Ff[t];let e;switch(t){case"G":case"GG":case"GGG":e=Yr(Mi.Eras,xe.Abbreviated);break;case"GGGG":e=Yr(Mi.Eras,xe.Wide);break;case"GGGGG":e=Yr(Mi.Eras,xe.Narrow);break;case"y":e=Ti(Ui.FullYear,1,0,!1,!0);break;case"yy":e=Ti(Ui.FullYear,2,0,!0,!0);break;case"yyy":e=Ti(Ui.FullYear,3,0,!1,!0);break;case"yyyy":e=Ti(Ui.FullYear,4,0,!1,!0);break;case"Y":e=fi(1);break;case"YY":e=fi(2,!0);break;case"YYY":e=fi(3);break;case"YYYY":e=fi(4);break;case"M":case"L":e=Ti(Ui.Month,1,1);break;case"MM":case"LL":e=Ti(Ui.Month,2,1);break;case"MMM":e=Yr(Mi.Months,xe.Abbreviated);break;case"MMMM":e=Yr(Mi.Months,xe.Wide);break;case"MMMMM":e=Yr(Mi.Months,xe.Narrow);break;case"LLL":e=Yr(Mi.Months,xe.Abbreviated,Dt.Standalone);break;case"LLLL":e=Yr(Mi.Months,xe.Wide,Dt.Standalone);break;case"LLLLL":e=Yr(Mi.Months,xe.Narrow,Dt.Standalone);break;case"w":e=Sg(1);break;case"ww":e=Sg(2);break;case"W":e=Sg(1,!0);break;case"d":e=Ti(Ui.Date,1);break;case"dd":e=Ti(Ui.Date,2);break;case"c":case"cc":e=Ti(Ui.Day,1);break;case"ccc":e=Yr(Mi.Days,xe.Abbreviated,Dt.Standalone);break;case"cccc":e=Yr(Mi.Days,xe.Wide,Dt.Standalone);break;case"ccccc":e=Yr(Mi.Days,xe.Narrow,Dt.Standalone);break;case"cccccc":e=Yr(Mi.Days,xe.Short,Dt.Standalone);break;case"E":case"EE":case"EEE":e=Yr(Mi.Days,xe.Abbreviated);break;case"EEEE":e=Yr(Mi.Days,xe.Wide);break;case"EEEEE":e=Yr(Mi.Days,xe.Narrow);break;case"EEEEEE":e=Yr(Mi.Days,xe.Short);break;case"a":case"aa":case"aaa":e=Yr(Mi.DayPeriods,xe.Abbreviated);break;case"aaaa":e=Yr(Mi.DayPeriods,xe.Wide);break;case"aaaaa":e=Yr(Mi.DayPeriods,xe.Narrow);break;case"b":case"bb":case"bbb":e=Yr(Mi.DayPeriods,xe.Abbreviated,Dt.Standalone,!0);break;case"bbbb":e=Yr(Mi.DayPeriods,xe.Wide,Dt.Standalone,!0);break;case"bbbbb":e=Yr(Mi.DayPeriods,xe.Narrow,Dt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Yr(Mi.DayPeriods,xe.Abbreviated,Dt.Format,!0);break;case"BBBB":e=Yr(Mi.DayPeriods,xe.Wide,Dt.Format,!0);break;case"BBBBB":e=Yr(Mi.DayPeriods,xe.Narrow,Dt.Format,!0);break;case"h":e=Ti(Ui.Hours,1,-12);break;case"hh":e=Ti(Ui.Hours,2,-12);break;case"H":e=Ti(Ui.Hours,1);break;case"HH":e=Ti(Ui.Hours,2);break;case"m":e=Ti(Ui.Minutes,1);break;case"mm":e=Ti(Ui.Minutes,2);break;case"s":e=Ti(Ui.Seconds,1);break;case"ss":e=Ti(Ui.Seconds,2);break;case"S":e=Ti(Ui.FractionalSeconds,1);break;case"SS":e=Ti(Ui.FractionalSeconds,2);break;case"SSS":e=Ti(Ui.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Eg(Zc.Short);break;case"ZZZZZ":e=Eg(Zc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Eg(Zc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Eg(Zc.Long);break;default:return null}return Ff[t]=e,e}(m);p+=y?y(r,n,d):"''"===m?"'":m.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),p}function Pa(t,e,n){const i=new Date(0);return i.setFullYear(t,e,n),i.setHours(0,0,0),i}function Bu(t,e){const n=function St(t){return(0,h.H5H)(t)[h.KH2.LocaleId]}(t);if(oC[n]??={},oC[n][e])return oC[n][e];let i="";switch(e){case"shortDate":i=Kn(t,We.Short);break;case"mediumDate":i=Kn(t,We.Medium);break;case"longDate":i=Kn(t,We.Long);break;case"fullDate":i=Kn(t,We.Full);break;case"shortTime":i=mi(t,We.Short);break;case"mediumTime":i=mi(t,We.Medium);break;case"longTime":i=mi(t,We.Long);break;case"fullTime":i=mi(t,We.Full);break;case"short":const r=Bu(t,"shortTime"),s=Bu(t,"shortDate");i=wg(li(t,We.Short),[r,s]);break;case"medium":const o=Bu(t,"mediumTime"),c=Bu(t,"mediumDate");i=wg(li(t,We.Medium),[o,c]);break;case"long":const d=Bu(t,"longTime"),p=Bu(t,"longDate");i=wg(li(t,We.Long),[d,p]);break;case"full":const m=Bu(t,"fullTime"),y=Bu(t,"fullDate");i=wg(li(t,We.Full),[m,y])}return i&&(oC[n][e]=i),i}function wg(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,i){return null!=e&&i in e?e[i]:n})),t}function Kr(t,e,n="-",i,r){let s="";(t<0||r&&t<=0)&&(r?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return i&&(o=o.slice(o.length-e)),s+o}function Ti(t,e,n=0,i=!1,r=!1){return function(s,o){let c=function cs(t,e){switch(t){case Ui.FullYear:return e.getFullYear();case Ui.Month:return e.getMonth();case Ui.Date:return e.getDate();case Ui.Hours:return e.getHours();case Ui.Minutes:return e.getMinutes();case Ui.Seconds:return e.getSeconds();case Ui.FractionalSeconds:return e.getMilliseconds();case Ui.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||c>-n)&&(c+=n),t===Ui.Hours)0===c&&-12===n&&(c=12);else if(t===Ui.FractionalSeconds)return function oa(t,e){return Kr(t,3).substring(0,e)}(c,e);const d=Nn(o,qt.MinusSign);return Kr(c,e,d,i,r)}}function Yr(t,e,n=Dt.Format,i=!1){return function(r,s){return function Tr(t,e,n,i,r,s){switch(n){case Mi.Months:return function mt(t,e,n){const i=(0,h.H5H)(t),s=Al([i[h.KH2.MonthsFormat],i[h.KH2.MonthsStandalone]],e);return Al(s,n)}(e,r,i)[t.getMonth()];case Mi.Days:return function cn(t,e,n){const i=(0,h.H5H)(t),s=Al([i[h.KH2.DaysFormat],i[h.KH2.DaysStandalone]],e);return Al(s,n)}(e,r,i)[t.getDay()];case Mi.DayPeriods:const o=t.getHours(),c=t.getMinutes();if(s){const p=function kv(t){const e=(0,h.H5H)(t);return Ch(e),(e[h.KH2.ExtraData][2]||[]).map(i=>"string"==typeof i?Cd(i):[Cd(i[0]),Cd(i[1])])}(e),m=function Vv(t,e,n){const i=(0,h.H5H)(t);Ch(i);const s=Al([i[h.KH2.ExtraData][0],i[h.KH2.ExtraData][1]],e)||[];return Al(s,n)||[]}(e,r,i),y=p.findIndex(A=>{if(Array.isArray(A)){const[k,U]=A,X=o>=k.hours&&c>=k.minutes,Q=o<U.hours||o===U.hours&&c<U.minutes;if(k.hours<U.hours){if(X&&Q)return!0}else if(X||Q)return!0}else if(A.hours===o&&A.minutes===c)return!0;return!1});if(-1!==y)return m[y]}return function yt(t,e,n){const i=(0,h.H5H)(t),s=Al([i[h.KH2.DayPeriodsFormat],i[h.KH2.DayPeriodsStandalone]],e);return Al(s,n)}(e,r,i)[o<12?0:1];case Mi.Eras:return function Hn(t,e){return Al((0,h.H5H)(t)[h.KH2.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(r,s,t,e,n,i)}}function Eg(t){return function(e,n,i){const r=-1*i,s=Nn(n,qt.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case Zc.Short:return(r>=0?"+":"")+Kr(o,2,s)+Kr(Math.abs(r%60),2,s);case Zc.ShortGMT:return"GMT"+(r>=0?"+":"")+Kr(o,1,s);case Zc.Long:return"GMT"+(r>=0?"+":"")+Kr(o,2,s)+":"+Kr(Math.abs(r%60),2,s);case Zc.Extended:return 0===i?"Z":(r>=0?"+":"")+Kr(o,2,s)+":"+Kr(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}const zs=0,bh=4;function DA(t){const e=t.getDay(),n=0===e?-3:bh-e;return Pa(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Sg(t,e=!1){return function(n,i){let r;if(e){const s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();r=1+Math.floor((o+s)/7)}else{const s=DA(n),o=function RA(t){const e=Pa(t,zs,1).getDay();return Pa(t,0,1+(e<=bh?bh:bh+7)-e)}(s.getFullYear()),c=s.getTime()-o.getTime();r=1+Math.round(c/6048e5)}return Kr(r,t,Nn(i,qt.MinusSign))}}function fi(t,e=!1){return function(n,i){return Kr(DA(n).getFullYear(),t,Nn(i,qt.MinusSign),e)}}const Ff={};function gN(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function vN(t){return t instanceof Date&&!isNaN(t.valueOf())}function Bv(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const i=n.indexOf("="),[r,s]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}const fC=/\s+/,MA=[];let Vi=(()=>{class t{constructor(n,i){this._ngEl=n,this._renderer=i,this.initialClasses=MA,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(fC):MA}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(fC):n}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const i of n)this._updateState(i,!0);else if(null!=n)for(const i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){const r=this.stateMap.get(n);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const i=n[0],r=n[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(n,i){(n=n.trim()).length>0&&n.split(fC).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.aKT),h.rXU(h.sFG))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","ngClass",""]],inputs:{klass:[h.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})(),Ig=(()=>{class t{constructor(n,i){this._viewContainer=n,this._context=new NA,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){yN("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){yN("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.c1b),h.rXU(h.C4Q))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})();class NA{constructor(){this.$implicit=null,this.ngIf=null}}function yN(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,h.Tbb)(e)}'.`)}let Er=(()=>{class t{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,i,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,r),get:(n,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.c1b))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[h.OA$]})}}return t})();const CC=new h.nKC(""),$s=new h.nKC("");let ws=(()=>{class t{constructor(n,i,r){this.locale=n,this.defaultTimezone=i,this.defaultOptions=r}transform(n,i,r,s){if(null==n||""===n||n!=n)return null;try{return wd(n,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw function Zn(t,e){return new h.wOt(2100,!1)}()}}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.xe9,16),h.rXU(CC,24),h.rXU($s,24))}}static{this.\u0275pipe=h.EJ8({name:"date",type:t,pure:!0,standalone:!0})}}return t})(),tl=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h.$C({type:t})}static{this.\u0275inj=h.G2t({})}}return t})();const Wf="browser";function ni(t){return t===Wf}function ds(t){return"server"===t}class Na{}class x extends En{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class D extends x{static makeCurrent(){!function sn(t){Jn??=t}(new D)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function F(){return O=O||document.querySelector("base"),O?O.getAttribute("href"):null}();return null==n?null:function V(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){O=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Bv(document.cookie,e)}}let O=null,J=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac})}}return t})();const ee=new h.nKC("");let se=(()=>{class t{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(s=>s.supports(n)),!i)throw new h.wOt(5101,!1);return this._eventNameToPlugin.set(n,i),i}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(ee),h.KVO(h.SKi))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac})}}return t})();class z{constructor(e){this._doc=e}}const ye="ng-app-id";let fe=(()=>{class t{constructor(n,i,r,s={}){this.doc=n,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ds(s),this.resetHostNodes()}addStyles(n){for(const i of n)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(n){for(const i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){const i=this.styleRef;i.get(n)?.elements?.forEach(r=>r.remove()),i.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${ye}="${this.appId}"]`);if(n?.length){const i=new Map;return n.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(n,i){const r=this.styleRef;if(r.has(n)){const s=r.get(n);return s.usage+=i,s.usage}return r.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===n)return r.delete(i),s.removeAttribute(ye),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(ye,this.appId),n.appendChild(o),o}}addStyleToHost(n,i){const r=this.getStyleElement(n,i),s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(He),h.KVO(h.sZ2),h.KVO(h.BIS,8),h.KVO(h.Agw))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac})}}return t})();const be={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},le=/%COMP%/g,Ut=new h.nKC("",{providedIn:"root",factory:()=>!0});function lt(t,e){return e.map(n=>n.replace(le,t))}let Lt=(()=>{class t{constructor(n,i,r,s,o,c,d,p=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=d,this.nonce=p,this.rendererByCompId=new Map,this.platformIsServer=ds(c),this.defaultRenderer=new ce(n,o,d,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===h.gXe.ShadowDom&&(i={...i,encapsulation:h.gXe.Emulated});const r=this.getOrCreateRenderer(n,i);return r instanceof Pt?r.applyToHost(n):r instanceof wt&&r.applyStyles(),r}getOrCreateRenderer(n,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,c=this.ngZone,d=this.eventManager,p=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(i.encapsulation){case h.gXe.Emulated:s=new Pt(d,p,i,this.appId,m,o,c,y);break;case h.gXe.ShadowDom:return new Tt(d,p,n,i,o,c,this.nonce,y);default:s=new wt(d,p,i,m,o,c,y)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(se),h.KVO(fe),h.KVO(h.sZ2),h.KVO(Ut),h.KVO(He),h.KVO(h.Agw),h.KVO(h.SKi),h.KVO(h.BIS))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac})}}return t})();class ce{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(be[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(_e(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(_e(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new h.wOt(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;const s=be[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){const r=be[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(h.czy.DashCase|h.czy.Important)?e.style.setProperty(n,i,r&h.czy.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&h.czy.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){null!=e&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if("string"==typeof e&&!(e=wn().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function _e(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Tt extends ce{constructor(e,n,i,r,s,o,c,d){super(e,s,o,d),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const p=lt(r.id,r.styles);for(const m of p){const y=document.createElement("style");c&&y.setAttribute("nonce",c),y.textContent=m,this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class wt extends ce{constructor(e,n,i,r,s,o,c,d){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=d?lt(d,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Pt extends wt{constructor(e,n,i,r,s,o,c,d){const p=r+"-"+i.id;super(e,n,i,s,o,c,d,p),this.contentAttr=function ot(t){return"_ngcontent-%COMP%".replace(le,t)}(p),this.hostAttr=function Pe(t){return"_nghost-%COMP%".replace(le,t)}(p)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}}let nt=(()=>{class t extends z{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(He))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac})}}return t})();const Vt=["alt","control","meta","shift"],jt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sn={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ie=(()=>{class t extends z{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,i,r){const s=t.parseEventName(i),o=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wn().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const i=n.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=t._normalizeKey(i.pop());let o="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),o="code."),Vt.forEach(p=>{const m=i.indexOf(p);m>-1&&(i.splice(m,1),o+=p+".")}),o+=s,0!=i.length||0===s.length)return null;const d={};return d.domEventName=r,d.fullKey=o,d}static matchEventFullKeyCode(n,i){let r=jt[n.key]||n.key,s="";return i.indexOf("code.")>-1&&(r=n.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Vt.forEach(o=>{o!==r&&(0,Sn[o])(n)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(n,i,r){return s=>{t.matchEventFullKeyCode(s,n)&&r.runGuarded(()=>i(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(He))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac})}}return t})();function Ge(t){return{appProviders:[...pi,...t?.providers??[]],platformProviders:dn}}const dn=[{provide:h.Agw,useValue:Wf},{provide:h.PLl,useValue:function $e(){D.makeCurrent()},multi:!0},{provide:He,useFactory:function bt(){return(0,h.TL$)(document),document},deps:[]}],pi=[{provide:h.H8p,useValue:"root"},{provide:h.zcH,useFactory:function Et(){return new h.zcH},deps:[]},{provide:ee,useClass:nt,multi:!0,deps:[He,h.SKi,h.Agw]},{provide:ee,useClass:ie,multi:!0,deps:[He]},Lt,fe,se,{provide:h._9s,useExisting:Lt},{provide:Na,useClass:J,deps:[]},[]];let jn=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(He))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),fr=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=h.jDH({token:t,factory:function(i){let r=null;return r=i?new(i||t):h.KVO(ru),r},providedIn:"root"})}}return t})(),ru=(()=>{class t extends fr{constructor(n){super(),this._doc=n}sanitize(n,i){if(null==i)return null;switch(n){case h.WPN.NONE:return i;case h.WPN.HTML:return(0,h.ZF7)(i,"HTML")?(0,h.rcV)(i):(0,h.h9k)(this._doc,String(i)).toString();case h.WPN.STYLE:return(0,h.ZF7)(i,"Style")?(0,h.rcV)(i):i;case h.WPN.SCRIPT:if((0,h.ZF7)(i,"Script"))return(0,h.rcV)(i);throw new h.wOt(5200,!1);case h.WPN.URL:return(0,h.ZF7)(i,"URL")?(0,h.rcV)(i):(0,h.$MX)(String(i));case h.WPN.RESOURCE_URL:if((0,h.ZF7)(i,"ResourceURL"))return(0,h.rcV)(i);throw new h.wOt(5201,!1);default:throw new h.wOt(5202,!1)}}bypassSecurityTrustHtml(n){return(0,h.Kcf)(n)}bypassSecurityTrustStyle(n){return(0,h.cWb)(n)}bypassSecurityTrustScript(n){return(0,h.UyX)(n)}bypassSecurityTrustUrl(n){return(0,h.osQ)(n)}bypassSecurityTrustResourceUrl(n){return(0,h.e5t)(n)}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(He))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Bn=Kt(1985),_i=Kt(8071);function Fa(t){return!!t&&(t instanceof Bn.c||(0,_i.T)(t.lift)&&(0,_i.T)(t.subscribe))}function ii(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function al(t){return this instanceof al?(this.v=t,this):new al(t)}function $o(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function yc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(o){return new Promise(function(c,d){!function r(s,o,c,d){Promise.resolve(d).then(function(p){s({value:p,done:c})},o)}(c,d,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ci=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Zf(t){return(0,_i.T)(t?.then)}var Lg=Kt(3494);function e_(t){return(0,_i.T)(t[Lg.s])}function Nl(t){return Symbol.asyncIterator&&(0,_i.T)(t?.[Symbol.asyncIterator])}function Mh(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ec=function Ca(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function kg(t){return(0,_i.T)(t?.[Ec])}function t_(t){return function bc(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),s=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",function o(k){return function(U){return Promise.resolve(U).then(k,y)}}),r[Symbol.asyncIterator]=function(){return this},r;function c(k,U){i[k]&&(r[k]=function(X){return new Promise(function(Q,pe){s.push([k,X,Q,pe])>1||d(k,X)})},U&&(r[k]=U(r[k])))}function d(k,U){try{!function p(k){k.value instanceof al?Promise.resolve(k.value.v).then(m,y):A(s[0][2],k)}(i[k](U))}catch(X){A(s[0][3],X)}}function m(k){d("next",k)}function y(k){d("throw",k)}function A(k,U){k(U),s.shift(),s.length&&d(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:i,done:r}=yield al(n.read());if(r)return yield al(void 0);yield yield al(i)}}finally{n.releaseLock()}})}function Vg(t){return(0,_i.T)(t?.getReader)}var PC=Kt(5334);function vo(t){if(t instanceof Bn.c)return t;if(null!=t){if(e_(t))return function Bt(t){return new Bn.c(e=>{const n=t[Lg.s]();if((0,_i.T)(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(ci(t))return function Bi(t){return new Bn.c(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Zf(t))return function n_(t){return new Bn.c(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,PC.m)})}(t);if(Nl(t))return vr(t);if(kg(t))return function i_(t){return new Bn.c(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Vg(t))return function ou(t){return vr(t_(t))}(t)}throw Mh(t)}function vr(t){return new Bn.c(e=>{(function au(t,e){var n,i,r,s;return function vc(t,e,n,i){return new(n||(n=Promise))(function(s,o){function c(m){try{p(i.next(m))}catch(y){o(y)}}function d(m){try{p(i.throw(m))}catch(y){o(y)}}function p(m){m.done?s(m.value):function r(s){return s instanceof n?s:new n(function(o){o(s)})}(m.value).then(c,d)}p((i=i.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=$o(t);!(i=yield n.next()).done;)if(e.next(i.value),e.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function fs(t,e,n,i=0,r=!1){const s=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}var Pr=Kt(9974),Oi=Kt(4360);function ep(t,e=0){return(0,Pr.N)((n,i)=>{n.subscribe((0,Oi._)(i,r=>fs(i,t,()=>i.next(r),e),()=>fs(i,t,()=>i.complete(),e),r=>fs(i,t,()=>i.error(r),e)))})}function tp(t,e=0){return(0,Pr.N)((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function ba(t,e){if(!t)throw new Error("Iterable cannot be null");return new Bn.c(n=>{fs(n,e,()=>{const i=t[Symbol.asyncIterator]();fs(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function Jr(t,e){return e?function np(t,e){if(null!=t){if(e_(t))return function Si(t,e){return vo(t).pipe(tp(e),ep(e))}(t,e);if(ci(t))return function Sc(t,e){return new Bn.c(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}(t,e);if(Zf(t))return function qo(t,e){return vo(t).pipe(tp(e),ep(e))}(t,e);if(Nl(t))return ba(t,e);if(kg(t))return function Ic(t,e){return new Bn.c(n=>{let i;return fs(n,e,()=>{i=t[Ec](),fs(n,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void n.error(o)}s?n.complete():n.next(r)},0,!0)}),()=>(0,_i.T)(i?.return)&&i.return()})}(t,e);if(Vg(t))return function Ol(t,e){return ba(t_(t),e)}(t,e)}throw Mh(t)}(t,e):vo(t)}function r_(t){return t&&(0,_i.T)(t.schedule)}function Gg(t){return t[t.length-1]}function ip(t){return(0,_i.T)(Gg(t))?t.pop():void 0}function Tc(t){return r_(Gg(t))?t.pop():void 0}function Fn(...t){return Jr(t,Tc(t))}var Do=Kt(4412);const lu=(0,Kt(1853).L)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Nh}=Array,{getPrototypeOf:Bg,prototype:Hg,keys:Ug}=Object;function Oh(t){if(1===t.length){const e=t[0];if(Nh(e))return{args:e,keys:null};if(function cu(t){return t&&"object"==typeof t&&Bg(t)===Hg}(e)){const n=Ug(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}var Rr=Kt(3669),ti=Kt(6354);const{isArray:pr}=Array;function Fh(t){return(0,ti.T)(e=>function Fl(t,e){return pr(e)?t(...e):t(e)}(t,e))}function Nd(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function Od(...t){const e=Tc(t),n=ip(t),{args:i,keys:r}=Oh(t);if(0===i.length)return Jr([],e);const s=new Bn.c(function Lh(t,e,n=Rr.D){return i=>{Wg(e,()=>{const{length:r}=t,s=new Array(r);let o=r,c=r;for(let d=0;d<r;d++)Wg(e,()=>{const p=Jr(t[d],e);let m=!1;p.subscribe((0,Oi._)(i,y=>{s[d]=y,m||(m=!0,c--),c||i.next(n(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,r?o=>Nd(r,o):Rr.D));return n?s.pipe(Fh(n)):s}function Wg(t,e,n){t?fs(n,t,e):e()}function Dr(t,e,n=1/0){return(0,_i.T)(e)?Dr((i,r)=>(0,ti.T)((s,o)=>e(i,s,r,o))(vo(t(i,r))),n):("number"==typeof e&&(n=e),(0,Pr.N)((i,r)=>function zu(t,e,n,i,r,s,o,c){const d=[];let p=0,m=0,y=!1;const A=()=>{y&&!d.length&&!p&&e.complete()},k=X=>p<i?U(X):d.push(X),U=X=>{s&&e.next(X),p++;let Q=!1;vo(n(X,m++)).subscribe((0,Oi._)(e,pe=>{r?.(pe),s?k(pe):e.next(pe)},()=>{Q=!0},void 0,()=>{if(Q)try{for(p--;d.length&&p<i;){const pe=d.shift();o?fs(e,o,()=>U(pe)):U(pe)}A()}catch(pe){e.error(pe)}}))};return t.subscribe((0,Oi._)(e,k,()=>{y=!0,A()})),()=>{c?.()}}(i,r,t,n)))}function kh(t=1/0){return Dr(Rr.D,t)}function cl(...t){return function ju(){return kh(1)}()(Jr(t,Tc(t)))}function Ll(t){return new Bn.c(e=>{vo(t()).subscribe(e)})}var rp=Kt(1203);function Fd(t,e){const n=(0,_i.T)(t)?t:()=>t,i=r=>r.error(n());return new Bn.c(e?r=>e.schedule(i,0,r):i)}const xo=new Bn.c(t=>t.complete());var rs=Kt(8359);function Vh(){return(0,Pr.N)((t,e)=>{let n=null;t._refCount++;const i=(0,Oi._)(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const r=t._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}class M extends Bn.c{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,(0,Pr.S)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new rs.yU;const n=this.getSubject();e.add(this.source.subscribe((0,Oi._)(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=rs.yU.EMPTY)}return e}refCount(){return Vh()(this)}}var K=Kt(1413);function ve(t,e){return(0,Pr.N)((n,i)=>{let r=null,s=0,o=!1;const c=()=>o&&!r&&i.complete();n.subscribe((0,Oi._)(i,d=>{r?.unsubscribe();let p=0;const m=s++;vo(t(d,m)).subscribe(r=(0,Oi._)(i,y=>i.next(e?e(d,y,m,p++):y),()=>{r=null,c()}))},()=>{o=!0,c()}))})}function Me(t){return t<=0?()=>xo:(0,Pr.N)((e,n)=>{let i=0;e.subscribe((0,Oi._)(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function rt(...t){const e=Tc(t);return(0,Pr.N)((n,i)=>{(e?cl(t,n,e):cl(t,n)).subscribe(i)})}function It(t,e){return(0,Pr.N)((n,i)=>{let r=0;n.subscribe((0,Oi._)(i,s=>t.call(e,s,r++)&&i.next(s)))})}function rn(t){return(0,Pr.N)((e,n)=>{let i=!1;e.subscribe((0,Oi._)(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function Mn(t=si){return(0,Pr.N)((e,n)=>{let i=!1;e.subscribe((0,Oi._)(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function si(){return new lu}function ui(t,e){const n=arguments.length>=2;return i=>i.pipe(t?It((r,s)=>t(r,s,i)):Rr.D,Me(1),n?rn(e):Mn(()=>new lu))}function gi(t,e){return(0,_i.T)(e)?Dr(t,e,1):Dr(t,1)}function ri(t,e,n){const i=(0,_i.T)(t)||e||n?{next:t,error:e,complete:n}:t;return i?(0,Pr.N)((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let c=!0;r.subscribe((0,Oi._)(s,d=>{var p;null===(p=i.next)||void 0===p||p.call(i,d),s.next(d)},()=>{var d;c=!1,null===(d=i.complete)||void 0===d||d.call(i),s.complete()},d=>{var p;c=!1,null===(p=i.error)||void 0===p||p.call(i,d),s.error(d)},()=>{var d,p;c&&(null===(d=i.unsubscribe)||void 0===d||d.call(i)),null===(p=i.finalize)||void 0===p||p.call(i)}))}):Rr.D}function Lr(t){return(0,Pr.N)((e,n)=>{let s,i=null,r=!1;i=e.subscribe((0,Oi._)(n,void 0,void 0,o=>{s=vo(t(o,Lr(t)(e))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function Po(t){return t<=0?()=>xo:(0,Pr.N)((e,n)=>{let i=[];e.subscribe((0,Oi._)(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(const r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Zs(t){return(0,Pr.N)((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}var kl=Kt(5343);function _r(t){return(0,Pr.N)((e,n)=>{vo(t).subscribe((0,Oi._)(n,()=>n.complete(),kl.l)),!n.closed&&e.subscribe(n)})}const bi="primary",Rc=Symbol("RouteTitle");class op{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Dc(t){return new op(t)}function ap(t,e,n){const i=n.path.split("/");if(i.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],c=t[s];if(o.startsWith(":"))r[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function $r(t,e){const n=t?Ld(t):void 0,i=e?Ld(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!du(t[r],e[r]))return!1;return!0}function Ld(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function du(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}return t===e}function ul(t){return t.length>0?t[t.length-1]:null}function Vl(t){return Fa(t)?t:(0,h.jNT)(t)?Jr(Promise.resolve(t)):Fn(t)}const wa={exact:function Sr(t,e,n){if(!Ko(t.segments,e.segments)||!Pc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!t.children[i]||!Sr(t.children[i],e.children[i],n))return!1;return!0},subset:cp},zg={exact:function $u(t,e){return $r(t,e)},subset:function lp(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>du(t[n],e[n]))},ignored:()=>!0};function xc(t,e,n){return wa[n.paths](t.root,e.root,n.matrixParams)&&zg[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function cp(t,e,n){return Bh(t,e,e.segments,n)}function Bh(t,e,n,i){if(t.segments.length>n.length){const r=t.segments.slice(0,n.length);return!(!Ko(r,n)||e.hasChildren()||!Pc(r,n,i))}if(t.segments.length===n.length){if(!Ko(t.segments,n)||!Pc(t.segments,n,i))return!1;for(const r in e.children)if(!t.children[r]||!cp(t.children[r],e.children[r],i))return!1;return!0}{const r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Ko(t.segments,r)&&Pc(t.segments,r,i)&&t.children[bi])&&Bh(t.children[bi],e,s,i)}}function Pc(t,e,n){return e.every((i,r)=>zg[n](t[r].parameters,i.parameters))}class dl{constructor(e=new Pi([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Dc(this.queryParams),this._queryParamMap}toString(){return Ns.serialize(this)}}class Pi{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kd(this)}}class _o{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Dc(this.parameters),this._parameterMap}toString(){return fu(this)}}function Ko(t,e){return t.length===e.length&&t.every((n,i)=>n.path===e[i].path)}let Bl=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=h.jDH({token:t,factory:()=>new Mc,providedIn:"root"})}}return t})();class Mc{parse(e){const n=new no(e);return new dl(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${eo(e.root,!0)}`,i=function jg(t){const e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${hu(n)}=${hu(r)}`).join("&"):`${hu(n)}=${hu(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${i}${"string"==typeof e.fragment?`#${function s_(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Ns=new Mc;function kd(t){return t.segments.map(e=>fu(e)).join("/")}function eo(t,e){if(!t.hasChildren())return kd(t);if(e){const n=t.children[bi]?eo(t.children[bi],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==bi&&i.push(`${r}:${eo(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function Gl(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===bi&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==bi&&(n=n.concat(e(r,i)))}),n}(t,(i,r)=>r===bi?[eo(t.children[bi],!1)]:[`${r}:${eo(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[bi]?`${kd(t)}/${n[0]}`:`${kd(t)}/(${n.join("//")})`}}function hl(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hu(t){return hl(t).replace(/%3B/gi,";")}function Hh(t){return hl(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ku(t){return decodeURIComponent(t)}function Yu(t){return Ku(t.replace(/\+/g,"%20"))}function fu(t){return`${Hh(t.path)}${function yo(t){return Object.entries(t).map(([e,n])=>`;${Hh(e)}=${Hh(n)}`).join("")}(t.parameters)}`}const Vd=/^[^\/()?;#]+/;function Xu(t){const e=t.match(Vd);return e?e[0]:""}const Uh=/^[^\/()?;=#]+/,fl=/^[^=?&#]+/,Zr=/^[^&#]+/;class no{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pi([],{}):new Pi([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[bi]=new Pi(e,n)),i}parseSegment(){const e=Xu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.wOt(4009,!1);return this.capture(e),new _o(Ku(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function to(t){const e=t.match(Uh);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const r=Xu(this.remaining);r&&(i=r,this.capture(i))}e[Ku(n)]=Ku(i)}parseQueryParam(e){const n=function yr(t){const e=t.match(fl);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const o=function Os(t){const e=t.match(Zr);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=Yu(n),s=Yu(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Xu(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new h.wOt(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=bi);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[bi]:new Pi([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.wOt(4011,!1)}}function Qu(t){return t.segments.length>0?new Pi([],{[bi]:t}):t}function $g(t){const e={};for(const[i,r]of Object.entries(t.children)){const s=$g(r);if(i===bi&&0===s.segments.length&&s.hasChildren())for(const[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function qg(t){if(1===t.numberOfChildren&&t.children[bi]){const e=t.children[bi];return new Pi(t.segments.concat(e.segments),e.children)}return t}(new Pi(t.segments,e))}function Gd(t){return t instanceof dl}function Kg(t){let e;const r=Qu(function n(s){const o={};for(const d of s.children){const p=n(d);o[d.outlet]=p}const c=new Pi(s.url,o);return s===t&&(e=c),c}(t.root));return e??r}function Co(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(0===e.length)return up(r,r,r,n,i);const s=function o_(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ka(!0,0,t);let e=0,n=!1;const i=t.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const c={};return Object.entries(s.outlets).forEach(([d,p])=>{c[d]="string"==typeof p?p.split("/"):p}),[...r,{outlets:c}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((c,d)=>{0==d&&"."===c||(0==d&&""===c?n=!0:".."===c?e++:""!=c&&r.push(c))}),r):[...r,s]},[]);return new ka(n,e,i)}(e);if(s.toRoot())return up(r,r,new Pi([],{}),n,i);const o=function dp(t,e,n){if(t.isAbsolute)return new Zu(e,!0,0);if(!n)return new Zu(e,!1,NaN);if(null===n.parent)return new Zu(n,!0,0);const i=bo(t.commands[0])?0:1;return function MC(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new h.wOt(4005,!1);r=i.segments.length}return new Zu(i,!1,r-s)}(n,n.segments.length-1+i,t.numberOfDoubleDots)}(s,r,t),c=o.processChildren?pu(o.segmentGroup,o.index,s.commands):hp(o.segmentGroup,o.index,s.commands);return up(r,o.segmentGroup,c,n,i)}function bo(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ju(t){return"object"==typeof t&&null!=t&&t.outlets}function up(t,e,n,i,r){let o,s={};i&&Object.entries(i).forEach(([d,p])=>{s[d]=Array.isArray(p)?p.map(m=>`${m}`):`${p}`}),o=t===e?n:Yg(t,e,n);const c=Qu($g(o));return new dl(c,s,r)}function Yg(t,e,n){const i={};return Object.entries(t.children).forEach(([r,s])=>{i[r]=s===e?n:Yg(s,e,n)}),new Pi(t.segments,i)}class ka{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&bo(i[0]))throw new h.wOt(4003,!1);const r=i.find(Ju);if(r&&r!==ul(i))throw new h.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zu{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}}function hp(t,e,n){if(t??=new Pi([],{}),0===t.segments.length&&t.hasChildren())return pu(t,e,n);const i=function l_(t,e,n){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;const o=t.segments[r],c=n[i];if(Ju(c))break;const d=`${c}`,p=i<n.length-1?n[i+1]:null;if(r>0&&void 0===d)break;if(d&&p&&"object"==typeof p&&void 0===p.outlets){if(!IS(d,p,o))return s;i+=2}else{if(!IS(d,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const s=new Pi(t.segments.slice(0,i.pathIndex),{});return s.children[bi]=new Pi(t.segments.slice(i.pathIndex),t.children),pu(s,0,r)}return i.match&&0===r.length?new Pi(t.segments,{}):i.match&&!t.hasChildren()?Xg(t,e,n):i.match?pu(t,0,r):Xg(t,e,n)}function pu(t,e,n){if(0===n.length)return new Pi(t.segments,{});{const i=function a_(t){return Ju(t[0])?t[0].outlets:{[bi]:t}}(n),r={};if(Object.keys(i).some(s=>s!==bi)&&t.children[bi]&&1===t.numberOfChildren&&0===t.children[bi].segments.length){const s=pu(t.children[bi],e,n);return new Pi(t.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=hp(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new Pi(t.segments,r)}}function Xg(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){const s=n[r];if(Ju(s)){const d=ES(s.outlets);return new Pi(i,d)}if(0===r&&bo(n[0])){i.push(new _o(t.segments[e].path,SS(n[0]))),r++;continue}const o=Ju(s)?s.outlets[bi]:`${s}`,c=r<n.length-1?n[r+1]:null;o&&c&&bo(c)?(i.push(new _o(o,SS(c))),r+=2):(i.push(new _o(o,{})),r++)}return new Pi(i,{})}function ES(t){const e={};return Object.entries(t).forEach(([n,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[n]=Xg(new Pi([],{}),0,i))}),e}function SS(t){const e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function IS(t,e,n){return t==n.path&&$r(e,n.parameters)}const fp="imperative";var tr=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(tr||{});class gu{constructor(e,n){this.id=e,this.url=n}}class Mo extends gu{constructor(e,n,i="imperative",r=null){super(e,n),this.type=tr.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Nc extends gu{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=tr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var No=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(No||{}),Qg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Qg||{});class Fs extends gu{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=tr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mu extends gu{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=tr.NavigationSkipped}}class Jg extends gu{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=tr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class NC extends gu{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=tr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KA extends gu{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=tr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TS extends gu{constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=tr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Bd extends gu{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=tr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hl extends gu{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=tr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ed{constructor(e){this.route=e,this.type=tr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class AS{constructor(e){this.route=e,this.type=tr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class RS{constructor(e){this.snapshot=e,this.type=tr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hd{constructor(e){this.snapshot=e,this.type=tr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ul{constructor(e){this.snapshot=e,this.type=tr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DS{constructor(e){this.snapshot=e,this.type=tr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zg{}class em{constructor(e){this.url=e}}class OC{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new pp,this.attachRef=null}}let pp=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){const r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){const i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new OC,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class gp{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Wh(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){const n=Wh(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=zh(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return zh(e,this._root).map(n=>n.value)}}function Wh(t,e){if(t===e.value)return e;for(const n of e.children){const i=Wh(t,n);if(i)return i}return null}function zh(t,e){if(t===e.value)return[e];for(const n of e.children){const i=zh(t,n);if(i.length)return i.unshift(e),i}return[]}class pl{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function jh(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class xS extends gp{constructor(e,n){super(e),this.snapshot=n,kC(this,e)}toString(){return this.snapshot.toString()}}function u_(t){const e=function RN(t){const s=new LC([],{},{},"",{},bi,t,null,{});return new XA("",new pl(s,[]))}(t),n=new Do.t([new _o("",{})]),i=new Do.t({}),r=new Do.t({}),s=new Do.t({}),o=new Do.t(""),c=new $h(n,i,s,o,r,bi,t,e.root);return c.snapshot=e.root,new xS(new pl(c,[]),e)}class $h{constructor(e,n,i,r,s,o,c,d){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=d,this.title=this.dataSubject?.pipe((0,ti.T)(p=>p[Rc]))??Fn(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,ti.T)(e=>Dc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,ti.T)(e=>Dc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function FC(t,e,n="emptyOnly"){let i;const{routeConfig:r}=t;return i=null===e||"always"!==n&&""!==r?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...r?.data,...t._resolvedData}},r&&td(r)&&(i.resolve[Rc]=r.title),i}class LC{get title(){return this.data?.[Rc]}constructor(e,n,i,r,s,o,c,d,p){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=c,this.routeConfig=d,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Dc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Dc(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class XA extends gp{constructor(e,n){super(n),this.url=e,kC(this,n)}toString(){return d_(this._root)}}function kC(t,e){e.value._routerState=t,e.children.forEach(n=>kC(t,n))}function d_(t){const e=t.children.length>0?` { ${t.children.map(d_).join(", ")} } `:"";return`${t.value}${e}`}function Ud(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,$r(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),$r(e.params,n.params)||t.paramsSubject.next(n.params),function Gh(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!$r(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),$r(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function VC(t,e){const n=$r(t.params,e.params)&&function qu(t,e){return Ko(t,e)&&t.every((n,i)=>$r(n.parameters,e[i].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||VC(t.parent,e.parent))}function td(t){return"string"==typeof t.title||null===t.title}let tm=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=bi,this.activateEvents=new h.bkB,this.deactivateEvents=new h.bkB,this.attachEvents=new h.bkB,this.detachEvents=new h.bkB,this.parentContexts=(0,h.WQX)(pp),this.location=(0,h.WQX)(h.c1b),this.changeDetector=(0,h.WQX)(h.gRc),this.environmentInjector=(0,h.WQX)(h.uvJ),this.inputBinder=(0,h.WQX)(T,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.wOt(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new h.wOt(4013,!1);this._activatedRoute=n;const r=this.location,o=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,d=new C(n,c,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:d,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=h.FsC({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.OA$]})}}return t})();class C{__ngOutletInjector(e){return new C(this.route,this.childContexts,e)}constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===$h?this.route:e===pp?this.childContexts:this.parent.get(e,n)}}const T=new h.nKC("");function Z(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const r=function ne(t,e,n){return e.children.map(i=>{for(const r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Z(t,i,r);return Z(t,i)})}(t,e,n);return new pl(i,r)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>Z(t,c)),o}}const i=function re(t){return new $h(new Do.t(t.url),new Do.t(t.params),new Do.t(t.queryParams),new Do.t(t.fragment),new Do.t(t.data),t.outlet,t.component,t)}(e.value),r=e.children.map(s=>Z(t,s));return new pl(i,r)}}const oe="ngNavigationCancelingError";function ue(t,e){const{redirectTo:n,navigationBehaviorOptions:i}=Gd(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=ge(!1,No.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function ge(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[oe]=!0,n.cancellationCode=e,n}function ft(t){return!!t&&t[oe]}let dt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=h.VBU({type:t,selectors:[["ng-component"]],standalone:!0,features:[h.aNF],decls:1,vars:0,template:function(i,r){1&i&&h.nrm(0,"router-outlet")},dependencies:[tm],encapsulation:2})}}return t})();function yn(t){const e=t.children&&t.children.map(yn),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==bi&&(n.component=dt),n}function Xn(t){return t.outlet||bi}function ji(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Ji{constructor(e,n,i,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),Ud(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){const r=jh(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){const r=e.value,s=n?n.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=jh(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){const o=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){const i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=jh(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){const r=jh(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new DS(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Hd(e.value.snapshot))}activateRoutes(e,n,i){const r=e.value,s=n?n.value:null;if(Ud(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Ud(c.route.value),this.activateChildRoutes(e,null,o.children)}else{const c=ji(r.snapshot);o.attachRef=null,o.route=r,o.injector=c,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class Vr{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class gr{constructor(e,n){this.component=e,this.route=n}}function Fi(t,e,n){const i=t._root;return Gr(i,e?e._root:null,n,[i.value])}function wo(t,e){const n=Symbol(),i=e.get(t,n);return i===n?"function"!=typeof t||(0,h.LfX)(t)?e.get(t):t:i}function Gr(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=jh(e);return t.children.forEach(o=>{(function Ea(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const d=function Ir(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ko(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ko(t.url,e.url)||!$r(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!VC(t,e)||!$r(t.queryParams,e.queryParams);default:return!VC(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new Vr(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Gr(t,e,s.component?c?c.children:null:n,i,r),d&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new gr(c.outlet.component,o))}else o&&Yo(e,c,r),r.canActivateChecks.push(new Vr(i)),Gr(t,null,s.component?c?c.children:null:n,i,r)})(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>Yo(c,n.getContext(o),r)),r}function Yo(t,e,n){const i=jh(t),r=t.value;Object.entries(i).forEach(([s,o])=>{Yo(o,r.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new gr(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function ca(t){return"function"==typeof t}function Oc(t){return t instanceof lu||"EmptyError"===t?.name}const zl=Symbol("INITIAL_VALUE");function Va(){return ve(t=>Od(t.map(e=>e.pipe(Me(1),rt(zl)))).pipe((0,ti.T)(e=>{for(const n of e)if(!0!==n){if(n===zl)return zl;if(!1===n||n instanceof dl)return n}return!0}),It(e=>e!==zl),Me(1)))}function vp(t){return(0,rp.F)(ri(e=>{if(Gd(e))throw ue(0,e)}),(0,ti.T)(e=>!0===e))}class _p{constructor(e){this.segmentGroup=e||null}}class qh extends Error{constructor(e){super(),this.urlTree=e}}function Wd(t){return Fd(new _p(t))}class im{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Fn(i);if(r.numberOfChildren>1||!r.children[bi])return Fd(new h.wOt(4e3,!1));r=r.children[bi]}}applyRedirectCommands(e,n,i){const r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new qh(r);return r}applyRedirectCreateUrlTree(e,n,i,r){const s=this.createSegmentGroup(e,n.root,i,r);return new dl(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const i={};return Object.entries(e).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const c=s.substring(1);i[r]=n[c]}else i[r]=s}),i}createSegmentGroup(e,n,i,r){const s=this.createSegments(e,n.segments,i,r);let o={};return Object.entries(n.children).forEach(([c,d])=>{o[c]=this.createSegmentGroup(e,d,i,r)}),new Pi(s,o)}createSegments(e,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){const r=i[n.path.substring(1)];if(!r)throw new h.wOt(4001,!1);return r}findOrReturn(e,n){let i=0;for(const r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}}const BC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function QA(t,e,n,i,r){const s=rm(t,e,n);return s.matched?(i=function Ze(t,e){return t.providers&&!t._injector&&(t._injector=(0,h.Ol2)(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,i),function nd(t,e,n,i){const r=e.canMatch;return r&&0!==r.length?Fn(r.map(o=>{const c=wo(o,t);return Vl(function Oo(t){return t&&ca(t.canMatch)}(c)?c.canMatch(e,n):(0,h.N4e)(t,()=>c(e,n)))})).pipe(Va(),vp()):Fn(!0)}(i,e,n).pipe((0,ti.T)(o=>!0===o?s:{...BC}))):Fn(s)}function rm(t,e,n){if("**"===e.path)return function ua(t){return{matched:!0,parameters:t.length>0?ul(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...BC}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const r=(e.matcher||ap)(n,t,e);if(!r)return{...BC};const s={};Object.entries(r.posParams??{}).forEach(([c,d])=>{s[c]=d.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function Kh(t,e,n,i){return n.length>0&&function PS(t,e,n){return n.some(i=>sm(t,e,i)&&Xn(i)!==bi)}(t,n,i)?{segmentGroup:new Pi(e,ZA(i,new Pi(n,t.children))),slicedSegments:[]}:0===n.length&&function m_(t,e,n){return n.some(i=>sm(t,e,i))}(t,n,i)?{segmentGroup:new Pi(t.segments,JA(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Pi(t.segments,t.children),slicedSegments:n}}function JA(t,e,n,i){const r={};for(const s of n)if(sm(t,e,s)&&!i[Xn(s)]){const o=new Pi([],{});r[Xn(s)]=o}return{...i,...r}}function ZA(t,e){const n={};n[bi]=e;for(const i of t)if(""===i.path&&Xn(i)!==bi){const r=new Pi([],{});n[Xn(i)]=r}return n}function sm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class HC{}class eR{constructor(e,n,i,r,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new im(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new h.wOt(4002,`'${e.segmentGroup}'`)}recognize(){const e=Kh(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe((0,ti.T)(n=>{const i=new LC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},bi,this.rootComponentType,null,{}),r=new pl(i,n),s=new XA("",r),o=function wS(t,e,n=null,i=null){return Co(Kg(t),e,n,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,bi).pipe(Lr(i=>{if(i instanceof qh)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof _p?this.noMatchError(i):i}))}inheritParamsAndData(e,n){const i=e.value,r=FC(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe((0,ti.T)(s=>s instanceof pl?[s]:[]))}processChildren(e,n,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return Jr(r).pipe(gi(s=>{const o=i.children[s],c=function Rn(t,e){const n=t.filter(i=>Xn(i)===e);return n.push(...t.filter(i=>Xn(i)!==e)),n}(n,s);return this.processSegmentGroup(e,c,o,s)}),function Ms(t,e){return(0,Pr.N)(function ps(t,e,n,i,r){return(s,o)=>{let c=n,d=e,p=0;s.subscribe((0,Oi._)(o,m=>{const y=p++;d=c?t(d,m,y):(c=!0,m),i&&o.next(d)},r&&(()=>{c&&o.next(d),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),rn(null),function jr(t,e){const n=arguments.length>=2;return i=>i.pipe(t?It((r,s)=>t(r,s,i)):Rr.D,Po(1),n?rn(e):Mn(()=>new lu))}(),Dr(s=>{if(null===s)return Wd(i);const o=zd(s);return function Yh(t){t.sort((e,n)=>e.value.outlet===bi?-1:n.value.outlet===bi?1:e.value.outlet.localeCompare(n.value.outlet))}(o),Fn(o)}))}processSegment(e,n,i,r,s,o){return Jr(n).pipe(gi(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,i,r,s,o).pipe(Lr(d=>{if(d instanceof _p)return Fn(null);throw d}))),ui(c=>!!c),Lr(c=>{if(Oc(c))return function om(t,e,n){return 0===e.length&&!t.children[n]}(i,r,s)?Fn(new HC):Wd(i);throw c}))}processSegmentAgainstRoute(e,n,i,r,s,o,c){return function MS(t,e,n,i){return!!(Xn(t)===i||i!==bi&&sm(e,n,t))&&rm(e,t,n).matched}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,s,o):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o):Wd(r):Wd(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o){const{matched:c,consumedSegments:d,positionalParamSegments:p,remainingSegments:m}=rm(n,r,s);if(!c)return Wd(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const y=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,p);return this.applyRedirects.lineralizeSegments(r,y).pipe(Dr(A=>this.processSegment(e,i,n,A.concat(m),o,!1)))}matchSegmentAgainstRoute(e,n,i,r,s){const o=QA(n,i,r,e);return"**"===i.path&&(n.children={}),o.pipe(ve(c=>c.matched?this.getChildConfig(e=i._injector??e,i,r).pipe(ve(({routes:d})=>{const p=i._loadedInjector??e,{consumedSegments:m,remainingSegments:y,parameters:A}=c,k=new LC(m,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function UC(t){return t.data||{}}(i),Xn(i),i.component??i._loadedComponent??null,i,function WC(t){return t.resolve||{}}(i)),{segmentGroup:U,slicedSegments:X}=Kh(n,m,y,d);if(0===X.length&&U.hasChildren())return this.processChildren(p,d,U).pipe((0,ti.T)(pe=>null===pe?null:new pl(k,pe)));if(0===d.length&&0===X.length)return Fn(new pl(k,[]));const Q=Xn(i)===s;return this.processSegment(p,d,U,X,Q?bi:s,!0).pipe((0,ti.T)(pe=>new pl(k,pe instanceof pl?[pe]:[])))})):Wd(n)))}getChildConfig(e,n,i){return n.children?Fn({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Fn({routes:n._loadedRoutes,injector:n._loadedInjector}):function Lc(t,e,n,i){const r=e.canLoad;return void 0===r||0===r.length?Fn(!0):Fn(r.map(o=>{const c=wo(o,t);return Vl(function Ls(t){return t&&ca(t.canLoad)}(c)?c.canLoad(e,n):(0,h.N4e)(t,()=>c(e,n)))})).pipe(Va(),vp())}(e,n,i).pipe(Dr(r=>r?this.configLoader.loadChildren(e,n).pipe(ri(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function g_(t){return Fd(ge(!1,No.GuardRejected))}())):Fn({routes:[],injector:e})}}function _u(t){const e=t.value.routeConfig;return e&&""===e.path}function zd(t){const e=[],n=new Set;for(const i of t){if(!_u(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),n.add(r)):e.push(i)}for(const i of n){const r=zd(i.children);e.push(new pl(i.value,r))}return e.filter(i=>!n.has(i))}function yp(t){const e=t.children.map(n=>yp(n)).flat();return[t,...e]}function jC(t){return ve(e=>{const n=t(e);return n?Jr(n).pipe((0,ti.T)(()=>e)):Fn(e)})}let $C=(()=>{class t{buildTitle(n){let i,r=n.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===bi);return i}getResolvedTitleForRoute(n){return n.data[Rc]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=h.jDH({token:t,factory:()=>(0,h.WQX)(lm),providedIn:"root"})}}return t})(),lm=(()=>{class t extends $C{constructor(n){super(),this.title=n}updateTitle(n){const i=this.buildTitle(n);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(jn))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Xh=new h.nKC("",{providedIn:"root",factory:()=>({})}),Qh=new h.nKC("");let yu=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.WQX)(h.Ql9)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Fn(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const i=Vl(n.loadComponent()).pipe((0,ti.T)(Cp),ri(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Zs(()=>{this.componentLoaders.delete(n)})),r=new M(i,()=>new K.B).pipe(Vh());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Fn({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function $d(t,e,n,i){return Vl(t.loadChildren()).pipe((0,ti.T)(Cp),Dr(r=>r instanceof h.Co$||Array.isArray(r)?Fn(r):Jr(e.compileModuleAsync(r))),(0,ti.T)(r=>{i&&i(t);let s,o,c=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(n).injector,o=s.get(Qh,[],{optional:!0,self:!0}).flat()),{routes:o.map(yn),injector:s}}))}(i,this.compiler,n,this.onLoadEndListener).pipe(Zs(()=>{this.childrenLoaders.delete(i)})),o=new M(s,()=>new K.B).pipe(Vh());return this.childrenLoaders.set(i,o),o}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Cp(t){return function rd(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let cm=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=h.jDH({token:t,factory:()=>(0,h.WQX)(OS),providedIn:"root"})}}return t})(),OS=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const qC=new h.nKC("");let FS=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new K.B,this.transitionAbortSubject=new K.B,this.configLoader=(0,h.WQX)(yu),this.environmentInjector=(0,h.WQX)(h.uvJ),this.urlSerializer=(0,h.WQX)(Bl),this.rootContexts=(0,h.WQX)(pp),this.location=(0,h.WQX)(Ae),this.inputBindingEnabled=null!==(0,h.WQX)(T,{optional:!0}),this.titleStrategy=(0,h.WQX)($C),this.options=(0,h.WQX)(Xh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,h.WQX)(cm),this.createViewTransition=(0,h.WQX)(qC,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Fn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new AS(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new ed(r))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:i})}setupNavigations(n,i,r){return this.transitions=new Do.t({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:fp,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(It(s=>0!==s.id),(0,ti.T)(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ve(s=>{let o=!1,c=!1;return Fn(s).pipe(ve(d=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",No.SupersededByNewNavigation),xo;this.currentTransition=s,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const p=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!p&&"reload"!==(d.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const y="";return this.events.next(new mu(d.id,this.urlSerializer.serialize(d.rawUrl),y,Qg.IgnoredSameUrlNavigation)),d.resolve(null),xo}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Fn(d).pipe(ve(y=>{const A=this.transitions?.getValue();return this.events.next(new Mo(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),A!==this.transitions?.getValue()?xo:Promise.resolve(y)}),function DN(t,e,n,i,r,s){return Dr(o=>function am(t,e,n,i,r,s,o="emptyOnly"){return new eR(t,e,n,i,r,o,s).recognize()}(t,e,n,i,o.extractedUrl,r,s).pipe((0,ti.T)(({state:c,tree:d})=>({...o,targetSnapshot:c,urlAfterRedirects:d}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ri(y=>{s.targetSnapshot=y.targetSnapshot,s.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:y.urlAfterRedirects};const A=new NC(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(A)}));if(p&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){const{id:y,extractedUrl:A,source:k,restoredState:U,extras:X}=d,Q=new Mo(y,this.urlSerializer.serialize(A),k,U);this.events.next(Q);const pe=u_(this.rootComponentType).snapshot;return this.currentTransition=s={...d,targetSnapshot:pe,urlAfterRedirects:A,extras:{...X,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=A,Fn(s)}{const y="";return this.events.next(new mu(d.id,this.urlSerializer.serialize(d.extractedUrl),y,Qg.IgnoredByUrlHandlingStrategy)),d.resolve(null),xo}}),ri(d=>{const p=new KA(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),(0,ti.T)(d=>(this.currentTransition=s={...d,guards:Fi(d.targetSnapshot,d.currentSnapshot,this.rootContexts)},s)),function Fc(t,e){return Dr(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Fn({...n,guardsResult:!0}):function gs(t,e,n,i){return Jr(t).pipe(Dr(r=>function f_(t,e,n,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Fn(s.map(c=>{const d=ji(e)??r,p=wo(c,d);return Vl(function Wl(t){return t&&ca(t.canDeactivate)}(p)?p.canDeactivate(t,e,n,i):(0,h.N4e)(d,()=>p(t,e,n,i))).pipe(ui())})).pipe(Va()):Fn(!0)}(r.component,r.route,n,e,i)),ui(r=>!0!==r,!0))}(o,i,r,t).pipe(Dr(c=>c&&function Xo(t){return"boolean"==typeof t}(c)?function h_(t,e,n,i){return Jr(e).pipe(gi(r=>cl(function nm(t,e){return null!==t&&e&&e(new RS(t)),Fn(!0)}(r.route.parent,i),function GC(t,e){return null!==t&&e&&e(new Ul(t)),Fn(!0)}(r.route,i),function vu(t,e,n){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function io(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Ll(()=>Fn(o.guards.map(d=>{const p=ji(o.node)??n,m=wo(d,p);return Vl(function Ia(t){return t&&ca(t.canActivateChild)}(m)?m.canActivateChild(i,t):(0,h.N4e)(p,()=>m(i,t))).pipe(ui())})).pipe(Va())));return Fn(s).pipe(Va())}(t,r.path,n),function mp(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Fn(!0);const r=i.map(s=>Ll(()=>{const o=ji(e)??n,c=wo(s,o);return Vl(function Sa(t){return t&&ca(t.canActivate)}(c)?c.canActivate(e,t):(0,h.N4e)(o,()=>c(e,t))).pipe(ui())}));return Fn(r).pipe(Va())}(t,r.route,n))),ui(r=>!0!==r,!0))}(i,s,t,e):Fn(c)),(0,ti.T)(c=>({...n,guardsResult:c})))})}(this.environmentInjector,d=>this.events.next(d)),ri(d=>{if(s.guardsResult=d.guardsResult,Gd(d.guardsResult))throw ue(0,d.guardsResult);const p=new TS(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(p)}),It(d=>!!d.guardsResult||(this.cancelNavigationTransition(d,"",No.GuardRejected),!1)),jC(d=>{if(d.guards.canActivateChecks.length)return Fn(d).pipe(ri(p=>{const m=new Bd(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}),ve(p=>{let m=!1;return Fn(p).pipe(function tR(t,e){return Dr(n=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Fn(n);const s=new Set(r.map(d=>d.route)),o=new Set;for(const d of s)if(!o.has(d))for(const p of yp(d))o.add(p);let c=0;return Jr(o).pipe(gi(d=>s.has(d)?function zC(t,e,n,i){const r=t.routeConfig,s=t._resolve;return void 0!==r?.title&&!td(r)&&(s[Rc]=r.title),function v_(t,e,n,i){const r=Ld(t);if(0===r.length)return Fn({});const s={};return Jr(r).pipe(Dr(o=>function xN(t,e,n,i){const r=ji(e)??i,s=wo(t,r);return Vl(s.resolve?s.resolve(e,n):(0,h.N4e)(r,()=>s(e,n)))}(t[o],e,n,i).pipe(ui(),ri(c=>{s[o]=c}))),Po(1),function Ac(t){return(0,ti.T)(()=>t)}(s),Lr(o=>Oc(o)?xo:Fd(o)))}(s,t,e,i).pipe((0,ti.T)(o=>(t._resolvedData=o,t.data=FC(t,t.parent,n).resolve,null)))}(d,i,t,e):(d.data=FC(d,d.parent,t).resolve,Fn(void 0))),ri(()=>c++),Po(1),Dr(d=>c===o.size?Fn(n):xo))})}(this.paramsInheritanceStrategy,this.environmentInjector),ri({next:()=>m=!0,complete:()=>{m||this.cancelNavigationTransition(p,"",No.NoDataFromResolver)}}))}),ri(p=>{const m=new Hl(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}))}),jC(d=>{const p=m=>{const y=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(m.routeConfig).pipe(ri(A=>{m.component=A}),(0,ti.T)(()=>{})));for(const A of m.children)y.push(...p(A));return y};return Od(p(d.targetSnapshot.root)).pipe(rn(null),Me(1))}),jC(()=>this.afterPreactivation()),ve(()=>{const{currentSnapshot:d,targetSnapshot:p}=s,m=this.createViewTransition?.(this.environmentInjector,d.root,p.root);return m?Jr(m).pipe((0,ti.T)(()=>s)):Fn(s)}),(0,ti.T)(d=>{const p=function H(t,e,n){const i=Z(t,e._root,n?n._root:void 0);return new xS(i,e)}(n.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=s={...d,targetRouterState:p},this.currentNavigation.targetRouterState=p,s}),ri(()=>{this.events.next(new Zg)}),((t,e,n,i)=>(0,ti.T)(r=>(new Ji(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),Me(1),ri({next:d=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Nc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{o=!0}}),_r(this.transitionAbortSubject.pipe(ri(d=>{throw d}))),Zs(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",No.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Lr(d=>{if(c=!0,ft(d))this.events.next(new Fs(s.id,this.urlSerializer.serialize(s.extractedUrl),d.message,d.cancellationCode)),function Ue(t){return ft(t)&&Gd(t.url)}(d)?this.events.next(new em(d.url)):s.resolve(!1);else{this.events.next(new Jg(s.id,this.urlSerializer.serialize(s.extractedUrl),d,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(d))}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return xo}))}))}cancelNavigationTransition(n,i,r){const s=new Fs(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function um(t){return t!==fp}let $G=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=h.jDH({token:t,factory:()=>(0,h.WQX)(PN),providedIn:"root"})}}return t})();class qG{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let PN=(()=>{class t extends qG{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=h.xGo(t)))(r||t)}})()}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),iR=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=h.jDH({token:t,factory:()=>(0,h.WQX)(KG),providedIn:"root"})}}return t})(),KG=(()=>{class t extends iR{constructor(){super(...arguments),this.location=(0,h.WQX)(Ae),this.urlSerializer=(0,h.WQX)(Bl),this.options=(0,h.WQX)(Xh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,h.WQX)(cm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new dl,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=u_(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{"popstate"===i.type&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof Mo)this.stateMemento=this.createStateMemento();else if(n instanceof mu)this.rawUrlTree=i.initialUrl;else if(n instanceof NC){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else n instanceof Zg?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):n instanceof Fs&&(n.code===No.GuardRejected||n.code===No.NoDataFromResolver)?this.restoreHistory(i):n instanceof Jg?this.restoreHistory(i,!0):n instanceof Nc&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){const r=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(n,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=h.xGo(t)))(r||t)}})()}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var KC=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(KC||{});function YG(t){throw t}const NN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let kc=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,h.WQX)(h.H3F),this.stateManager=(0,h.WQX)(iR),this.options=(0,h.WQX)(Xh,{optional:!0})||{},this.pendingTasks=(0,h.WQX)(h.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,h.WQX)(FS),this.urlSerializer=(0,h.WQX)(Bl),this.location=(0,h.WQX)(Ae),this.urlHandlingStrategy=(0,h.WQX)(cm),this._events=new K.B,this.errorHandler=this.options.errorHandler||YG,this.navigated=!1,this.routeReuseStrategy=(0,h.WQX)($G),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,h.WQX)(Qh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,h.WQX)(T,{optional:!0}),this.eventsSubscription=new rs.yU,this.isNgZoneEnabled=(0,h.WQX)(h.SKi)instanceof h.SKi&&h.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==r&&null!==s)if(this.stateManager.handleRouterEvent(i,s),i instanceof Fs&&i.code!==No.Redirect&&i.code!==No.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Nc)this.navigated=!0;else if(i instanceof em){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||um(r.source)};this.scheduleNavigation(o,fp,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function XG(t){return!(t instanceof Zg||t instanceof em)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),fp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const d={...r};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(s.state=d)}const c=this.parseUrl(n);this.scheduleNavigation(c,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(yn),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:d}=i,p=d?this.currentUrlTree.fragment:o;let y,m=null;switch(c){case"merge":m={...this.currentUrlTree.queryParams,...s};break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=s||null}null!==m&&(m=this.removeEmptyProps(m));try{y=Kg(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),y=this.currentUrlTree.root}return Co(y,n,m,p??null)}navigateByUrl(n,i={skipLocationChange:!1}){const r=Gd(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,fp,null,i)}navigate(n,i={skipLocationChange:!1}){return function YC(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new h.wOt(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(r=!0===i?{...NN}:!1===i?{...tJ}:i,Gd(n))return xc(this.currentUrlTree,n,r);const s=this.parseUrl(n);return xc(this.currentUrlTree,s,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,s])=>(null!=s&&(i[r]=s),i),{})}scheduleNavigation(n,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let c,d,p;o?(c=o.resolve,d=o.reject,p=o.promise):p=new Promise((y,A)=>{c=y,d=A});const m=this.pendingTasks.add();return function MN(t,e){t.events.pipe(It(n=>n instanceof Nc||n instanceof Fs||n instanceof Jg||n instanceof mu),(0,ti.T)(n=>n instanceof Nc||n instanceof mu?KC.COMPLETE:n instanceof Fs&&(n.code===No.Redirect||n.code===No.SupersededByNewNavigation)?KC.REDIRECTING:KC.FAILED),It(n=>n!==KC.REDIRECTING),Me(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:c,reject:d,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(y=>Promise.reject(y))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const sR=new h.nKC("");function eB(t){return t.routerState.root}function tB(){const t=(0,h.WQX)(h.zZn);return e=>{const n=t.get(h.o8S);if(e!==n.components[0])return;const i=t.get(kc),r=t.get(nB);1===t.get(lR)&&i.initialNavigation(),t.get(cR,null,h.$GK.Optional)?.setUpPreloading(),t.get(sR,null,h.$GK.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const nB=new h.nKC("",{factory:()=>new K.B}),lR=new h.nKC("",{providedIn:"root",factory:()=>1}),cR=new h.nKC("");function y_(...t){const e=ip(t),{args:n,keys:i}=Oh(t),r=new Bn.c(s=>{const{length:o}=n;if(!o)return void s.complete();const c=new Array(o);let d=o,p=o;for(let m=0;m<o;m++){let y=!1;vo(n[m]).subscribe((0,Oi._)(s,A=>{y||(y=!0,p--),c[m]=A},()=>d--,void 0,()=>{(!d||!y)&&(p||s.next(i?Nd(i,c):c),s.complete())}))}});return e?r.pipe(Fh(e)):r}let HN=(()=>{class t{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.sFG),h.rXU(h.aKT))}}static{this.\u0275dir=h.FsC({type:t})}}return t})(),dm=(()=>{class t extends HN{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=h.xGo(t)))(r||t)}})()}static{this.\u0275dir=h.FsC({type:t,features:[h.Vt3]})}}return t})();const sd=new h.nKC(""),uB={provide:sd,useExisting:(0,h.Rfq)(()=>bp),multi:!0},ZC=new h.nKC("");let bp=(()=>{class t extends HN{constructor(n,i,r){super(n,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function WN(){const t=wn()?wn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.sFG),h.rXU(h.aKT),h.rXU(ZC,8))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&h.bIt("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[h.Jv_([uB]),h.Vt3]})}}return t})();function Kd(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function zN(t){return null!=t&&"number"==typeof t.length}const Ga=new h.nKC(""),Yd=new h.nKC(""),jN=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ta{static min(e){return function uR(t){return e=>{if(Kd(e.value)||Kd(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function dR(t){return e=>{if(Kd(e.value)||Kd(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return $N(e)}static requiredTrue(e){return function dB(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function eb(t){return Kd(t.value)||jN.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function qN(t){return e=>Kd(e.value)||!zN(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function hR(t){return e=>zN(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function fR(t){if(!t)return tb;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(Kd(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return b_(e)}static composeAsync(e){return HS(e)}}function $N(t){return Kd(t.value)?{required:!0}:null}function tb(t){return null}function VS(t){return null!=t}function pR(t){return(0,h.jNT)(t)?Jr(t):t}function nb(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function C_(t,e){return e.map(n=>n(t))}function GS(t){return t.map(e=>function KN(t){return!t.validate}(e)?e:n=>e.validate(n))}function b_(t){if(!t)return null;const e=t.filter(VS);return 0==e.length?null:function(n){return nb(C_(n,e))}}function BS(t){return null!=t?b_(GS(t)):null}function HS(t){if(!t)return null;const e=t.filter(VS);return 0==e.length?null:function(n){return y_(C_(n,e).map(pR)).pipe((0,ti.T)(nb))}}function w_(t){return null!=t?HS(GS(t)):null}function YN(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function gR(t){return t._rawValidators}function XN(t){return t._rawAsyncValidators}function mR(t){return t?Array.isArray(t)?t:[t]:[]}function US(t,e){return Array.isArray(t)?t.includes(e):t===e}function vR(t,e){const n=mR(e);return mR(t).forEach(r=>{US(n,r)||n.push(r)}),n}function _R(t,e){return mR(e).filter(n=>!US(t,n))}class Li{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=BS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=w_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Ba extends Li{get formDirective(){return null}get path(){return null}}class od extends Li{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hm{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let yR=(()=>{class t extends hm{constructor(n){super(n)}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(od,2))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&h.AVh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[h.Vt3]})}}return t})(),E_=(()=>{class t extends hm{constructor(n){super(n)}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(Ba,10))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&h.AVh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[h.Vt3]})}}return t})();const I_="VALID",rb="INVALID",T_="PENDING",sb="DISABLED";function Ha(t){return(A_(t)?t.validators:t)||null}function bR(t,e){return(A_(e)?e.asyncValidators:t)||null}function A_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function wR(t,e,n){const i=t.controls;if(!(e?Object.keys(i):i).length)throw new h.wOt(1e3,"");if(!i[n])throw new h.wOt(1001,"")}function nO(t,e,n){t._forEachChild((i,r)=>{if(void 0===n[r])throw new h.wOt(1002,"")})}class zS{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===I_}get invalid(){return this.status===rb}get pending(){return this.status==T_}get disabled(){return this.status===sb}get enabled(){return this.status!==sb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(vR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_R(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_R(e,this._rawAsyncValidators))}hasValidator(e){return US(this._rawValidators,e)}hasAsyncValidator(e){return US(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=T_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=sb,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=I_,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===I_||this.status===T_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sb:I_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=T_,this._hasOwnPendingAsyncValidator=!0;const n=pR(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){const i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.bkB,this.statusChanges=new h.bkB}_calculateStatus(){return this._allControlsDisabled()?sb:this.errors?rb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(T_)?T_:this._anyControlsHaveStatus(rb)?rb:I_}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){A_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function gB(t){return Array.isArray(t)?BS(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function pJ(t){return Array.isArray(t)?w_(t):t||null}(this._rawAsyncValidators)}}class fm extends zS{constructor(e,n,i){super(Ha(n),bR(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){nO(this,0,e),Object.keys(e).forEach(i=>{wR(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>!!i._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class jS extends fm{}const pm=new h.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>ob}),ob="always";function $S(t,e){return[...e.path,t]}function ab(t,e,n=ob){ER(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function iO(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&KS(t,e)})}(t,e),function _J(t,e){const n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function qS(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&KS(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function vB(t,e){if(e.valueAccessor.setDisabledState){const n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Vc(t,e,n=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),lb(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function R_(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function ER(t,e){const n=gR(t);null!==e.validator?t.setValidators(YN(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const i=XN(t);null!==e.asyncValidator?t.setAsyncValidators(YN(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const r=()=>t.updateValueAndValidity();R_(e._rawValidators,r),R_(e._rawAsyncValidators,r)}function lb(t,e){let n=!1;if(null!==t){if(null!==e.validator){const r=gR(t);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.validator);s.length!==r.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const r=XN(t);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(n=!0,t.setAsyncValidators(s))}}}const i=()=>{};return R_(e._rawValidators,i),R_(e._rawAsyncValidators,i),n}function KS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function SR(t,e){ER(t,e)}function IR(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function sO(t,e){t._syncPendingControls(),e.forEach(n=>{const i=n.control;"submit"===i.updateOn&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function gm(t,e){if(!e)return null;let n,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===bp?n=s:function TR(t){return Object.getPrototypeOf(t.constructor)===dm}(s)?i=s:r=s}),r||i||n||null}const db={provide:Ba,useExisting:(0,h.Rfq)(()=>ef)},mm=Promise.resolve();let ef=(()=>{class t extends Ba{constructor(n,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.bkB,this.form=new fm({},BS(n),w_(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){mm.then(()=>{const i=this._findContainer(n.path);n.control=i.registerControl(n.name,n.control),ab(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){mm.then(()=>{const i=this._findContainer(n.path);i&&i.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){mm.then(()=>{const i=this._findContainer(n.path),r=new fm({});SR(r,n),i.registerControl(n.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){mm.then(()=>{const i=this._findContainer(n.path);i&&i.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,i){mm.then(()=>{this.form.get(n.path).setValue(i)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,sO(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(Ga,10),h.rXU(Yd,10),h.rXU(pm,8))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&h.bIt("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:[h.Mj6.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h.Jv_([db]),h.Vt3]})}}return t})();function AR(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function RR(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const jl=class extends zS{constructor(e=null,n,i){super(Ha(n),bR(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),A_(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=RR(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){AR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){AR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){RR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let aO=(()=>{class t extends Ba{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return $S(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=h.xGo(t)))(r||t)}})()}static{this.\u0275dir=h.FsC({type:t,features:[h.Vt3]})}}return t})();Promise.resolve();let XS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=h.FsC({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();const xR={provide:sd,useExisting:(0,h.Rfq)(()=>QS),multi:!0};let QS=(()=>{class t extends dm{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=i=>{n(""==i?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=h.xGo(t)))(r||t)}})()}static{this.\u0275dir=h.FsC({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&h.bIt("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[h.Jv_([xR]),h.Vt3]})}}return t})();const D_=new h.nKC(""),PR={provide:od,useExisting:(0,h.Rfq)(()=>MR)};let MR=(()=>{class t extends od{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,i,r,s,o){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=o,this.update=new h.bkB,this._ngModelWarningSent=!1,this._setValidators(n),this._setAsyncValidators(i),this.valueAccessor=gm(0,r)}ngOnChanges(n){if(this._isControlChanged(n)){const i=n.form.previousValue;i&&Vc(i,this,!1),ab(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}IR(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Vc(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(Ga,10),h.rXU(Yd,10),h.rXU(sd,10),h.rXU(D_,8),h.rXU(pm,8))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","formControl",""]],inputs:{form:[h.Mj6.None,"formControl","form"],isDisabled:[h.Mj6.None,"disabled","isDisabled"],model:[h.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[h.Jv_([PR]),h.Vt3,h.OA$]})}}return t})();const wJ={provide:Ba,useExisting:(0,h.Rfq)(()=>x_)};let x_=(()=>{class t extends Ba{constructor(n,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.bkB,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(lb(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const i=this.form.get(n.path);return ab(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){Vc(n.control||null,n,!1),function oO(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this.submitted=!0,sO(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const i=n.control,r=this.form.get(n.path);i!==r&&(Vc(i||null,n),(t=>t instanceof jl)(r)&&(ab(r,n,this.callSetDisabledState),n.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const i=this.form.get(n.path);SR(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const i=this.form.get(n.path);i&&function rO(t,e){return lb(t,e)}(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ER(this.form,this),this._oldForm&&lb(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(Ga,10),h.rXU(Yd,10),h.rXU(pm,8))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&h.bIt("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:[h.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h.Jv_([wJ]),h.Vt3,h.OA$]})}}return t})();const EB={provide:Ba,useExisting:(0,h.Rfq)(()=>ZS)};let ZS=(()=>{class t extends aO{constructor(n,i,r){super(),this.name=null,this._parent=n,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){SB(this._parent)}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(Ba,13),h.rXU(Ga,10),h.rXU(Yd,10))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","formGroupName",""]],inputs:{name:[h.Mj6.None,"formGroupName","name"]},features:[h.Jv_([EB]),h.Vt3]})}}return t})();const EJ={provide:Ba,useExisting:(0,h.Rfq)(()=>e0)};let e0=(()=>{class t extends Ba{constructor(n,i,r){super(),this.name=null,this._parent=n,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return $S(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){SB(this._parent)}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(Ba,13),h.rXU(Ga,10),h.rXU(Yd,10))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","formArrayName",""]],inputs:{name:[h.Mj6.None,"formArrayName","name"]},features:[h.Jv_([EJ]),h.Vt3]})}}return t})();function SB(t){return!(t instanceof ZS||t instanceof x_||t instanceof e0)}const IB={provide:od,useExisting:(0,h.Rfq)(()=>NR)};let NR=(()=>{class t extends od{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new h.bkB,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=gm(0,s)}ngOnChanges(n){this._added||this._setUpControl(),IR(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return $S(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(Ba,13),h.rXU(Ga,10),h.rXU(Yd,10),h.rXU(sd,10),h.rXU(D_,8))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","formControlName",""]],inputs:{name:[h.Mj6.None,"formControlName","name"],isDisabled:[h.Mj6.None,"disabled","isDisabled"],model:[h.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[h.Jv_([IB]),h.Vt3,h.OA$]})}}return t})(),_m=(()=>{class t{constructor(){this._validator=tb}ngOnChanges(n){if(this.inputName in n){const i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):tb,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=h.FsC({type:t,features:[h.OA$]})}}return t})();const RB={provide:Ga,useExisting:(0,h.Rfq)(()=>ym),multi:!0};let ym=(()=>{class t extends _m{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=h.L39,this.createValidator=n=>$N}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=h.xGo(t)))(r||t)}})()}static{this.\u0275dir=h.FsC({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&h.BMQ("required",r._enabled?"":null)},inputs:{required:"required"},features:[h.Jv_([RB]),h.Vt3]})}}return t})(),LR=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h.$C({type:t})}static{this.\u0275inj=h.G2t({})}}return t})();class kR extends zS{constructor(e,n,i){super(Ha(n),bR(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){nO(this,0,e),e.forEach((i,r)=>{wR(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>!!i._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function _b(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let Cm,OB=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,i=null){const r=this._reduceControls(n);let s={};return _b(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new fm(r,s)}record(n,i=null){const r=this._reduceControls(n);return new jS(r,i)}control(n,i,r){let s={};return this.useNonNullable?(_b(i)?s=i:(s.validators=i,s.asyncValidators=r),new jl(n,{...s,nonNullable:!0})):new jl(n,i,r)}array(n,i,r){const s=n.map(o=>this._createControl(o));return new kR(s,i,r)}_reduceControls(n){const i={};return Object.keys(n).forEach(r=>{i[r]=this._createControl(n[r])}),i}_createControl(n){return n instanceof jl||n instanceof zS?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),DJ=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:pm,useValue:n.callSetDisabledState??ob}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h.$C({type:t})}static{this.\u0275inj=h.G2t({imports:[LR]})}}return t})(),wO=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:D_,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:pm,useValue:n.callSetDisabledState??ob}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h.$C({type:t})}static{this.\u0275inj=h.G2t({imports:[LR]})}}return t})();try{Cm=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Cm=!1}let N_,Fo=(()=>{class t{constructor(n){this._platformId=n,this.isBrowser=this._platformId?ni(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Cm)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(h.Agw))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const EO=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function o0(){if(N_)return N_;if("object"!=typeof document||!document)return N_=new Set(EO),N_;let t=document.createElement("input");return N_=new Set(EO.filter(e=>(t.setAttribute("type",e),t.type===e))),N_}let a0,F_,yb;function Ua(t){return function SO(){if(null==a0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>a0=!0}))}finally{a0=a0||!1}return a0}()?t:!!t.capture}function Lo(){if(null==F_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return F_=!1,F_;if("scrollBehavior"in document.documentElement.style)F_=!0;else{const t=Element.prototype.scrollTo;F_=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return F_}function Xd(t){return t.composedPath?t.composedPath()[0]:t.target}function c0(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function wm(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class aZ extends rs.yU{constructor(e,n){super()}schedule(e,n=0){return this}}const v0={setInterval(t,e,...n){const{delegate:i}=v0;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=v0;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var HO=Kt(7908);class V_ extends aZ{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,i=0){return v0.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return n;null!=n&&v0.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,n);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,(0,HO.o)(i,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const jR={now:()=>(jR.delegate||Date).now(),delegate:void 0};class Eb{constructor(e,n=Eb.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}}Eb.now=jR.now;class Em extends Eb{constructor(e,n=Eb.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}}const _0=new Em(V_),v4=_0;function UO(t,e=_0){return(0,Pr.N)((n,i)=>{let r=null,s=null,o=null;const c=()=>{if(r){r.unsubscribe(),r=null;const p=s;s=null,i.next(p)}};function d(){const p=o+t,m=e.now();if(m<p)return r=this.schedule(void 0,p-m),void i.add(r);c()}n.subscribe((0,Oi._)(i,p=>{s=p,o=e.now(),r||(r=e.schedule(d,t),i.add(r))},()=>{c(),i.complete()},void 0,()=>{s=r=null}))})}function WO(t){return It((e,n)=>t<=n)}function $R(t,e=Rr.D){return t=t??_4,(0,Pr.N)((n,i)=>{let r,s=!0;n.subscribe((0,Oi._)(i,o=>{const c=e(o);(s||!t(r,c))&&(s=!1,r=c,i.next(o))}))})}function _4(t,e){return t===e}let zO=(()=>{class t{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),C4=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h.$C({type:t})}static{this.\u0275inj=h.G2t({providers:[zO]})}}return t})();function Sm(t){return null!=t&&"false"!=`${t}`}function qR(t,e=0){return Ip(t)?Number(t):e}function Ip(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Sb(t){return Array.isArray(t)?t:[t]}function ko(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Im(t){return t instanceof h.aKT?t.nativeElement:t}const qO=new Set;let Tp,KR=(()=>{class t{constructor(n,i){this._platform=n,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):y0}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function b4(t,e){if(!qO.has(t))try{Tp||(Tp=document.createElement("style"),e&&Tp.setAttribute("nonce",e),Tp.setAttribute("type","text/css"),document.head.appendChild(Tp)),Tp.sheet&&(Tp.sheet.insertRule(`@media ${t} {body{ }}`,0),qO.add(t))}catch(n){console.error(n)}}(n,this._nonce),this._matchMedia(n)}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(Fo),h.KVO(h.BIS,8))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function y0(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let uZ=(()=>{class t{constructor(n,i){this._mediaMatcher=n,this._zone=i,this._queries=new Map,this._destroySubject=new K.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return w4(Sb(n)).some(r=>this._registerQuery(r).mql.matches)}observe(n){let s=Od(w4(Sb(n)).map(o=>this._registerQuery(o).observable));return s=cl(s.pipe(Me(1)),s.pipe(WO(1),UO(0))),s.pipe((0,ti.T)(o=>{const c={matches:!1,breakpoints:{}};return o.forEach(({matches:d,query:p})=>{c.matches=c.matches||d,c.breakpoints[p]=d}),c}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const i=this._mediaMatcher.matchMedia(n),s={observable:new Bn.c(o=>{const c=d=>this._zone.run(()=>o.next(d));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(rt(i),(0,ti.T)(({matches:o})=>({query:n,matches:o})),_r(this._destroySubject)),mql:i};return this._queries.set(n,s),s}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(KR),h.KVO(h.SKi))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function w4(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}function Tm(t,e,n){const i=Am(t,e);n=n.trim(),!i.some(r=>r.trim()===n)&&(i.push(n),t.setAttribute(e,i.join(" ")))}function KO(t,e,n){const i=Am(t,e);n=n.trim();const r=i.filter(s=>s!==n);r.length?t.setAttribute(e,r.join(" ")):t.removeAttribute(e)}function Am(t,e){return t.getAttribute(e)?.match(/\S+/g)??[]}const YO="cdk-describedby-message",G_="cdk-describedby-host";let YR=0,Qd=(()=>{class t{constructor(n,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+YR++,this._document=n,this._id=(0,h.WQX)(h.sZ2)+"-"+YR++}describe(n,i,r){if(!this._canBeDescribed(n,i))return;const s=Rm(i,r);"string"!=typeof i?(ro(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(n,s)||this._addMessageReference(n,s)}removeDescription(n,i,r){if(!i||!this._isElementNode(n))return;const s=Rm(i,r);if(this._isElementDescribedByMessage(n,s)&&this._removeMessageReference(n,s),"string"==typeof i){const o=this._messageRegistry.get(s);o&&0===o.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const n=this._document.querySelectorAll(`[${G_}="${this._id}"]`);for(let i=0;i<n.length;i++)this._removeCdkDescribedByReferenceIds(n[i]),n[i].removeAttribute(G_);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(n,i){const r=this._document.createElement("div");ro(r,this._id),r.textContent=n,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Rm(n,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(n){this._messageRegistry.get(n)?.messageElement?.remove(),this._messageRegistry.delete(n)}_createMessagesContainer(){if(this._messagesContainer)return;const n="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${n}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(n),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(n){const i=Am(n,"aria-describedby").filter(r=>0!=r.indexOf(YO));n.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(n,i){const r=this._messageRegistry.get(i);Tm(n,"aria-describedby",r.messageElement.id),n.setAttribute(G_,this._id),r.referenceCount++}_removeMessageReference(n,i){const r=this._messageRegistry.get(i);r.referenceCount--,KO(n,"aria-describedby",r.messageElement.id),n.removeAttribute(G_)}_isElementDescribedByMessage(n,i){const r=Am(n,"aria-describedby"),s=this._messageRegistry.get(i),o=s&&s.messageElement.id;return!!o&&-1!=r.indexOf(o)}_canBeDescribed(n,i){if(!this._isElementNode(n))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=n.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(n){return n.nodeType===this._document.ELEMENT_NODE}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(He),h.KVO(Fo))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Rm(t,e){return"string"==typeof t?`${e||""}/${t}`:t}function ro(t,e){t.id||(t.id=`${YO}-${e}-${YR++}`)}class Ap{constructor(e,n){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new K.B,this._typeaheadSubscription=rs.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=i=>i.disabled,this._pressedLetters=[],this.tabOut=new K.B,this.change=new K.B,e instanceof h.rOR?this._itemChangesSubscription=e.changes.subscribe(i=>this._itemsChanged(i.toArray())):(0,h.Hps)(e)&&(this._effectRef=(0,h.QZP)(()=>this._itemsChanged(e()),{injector:n}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(ri(n=>this._pressedLetters.push(n)),UO(e),It(()=>this._pressedLetters.length>0),(0,ti.T)(()=>this._pressedLetters.join(""))).subscribe(n=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,o=i[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(n)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,n=10){return this._pageUpAndDown={enabled:e,delta:n},this}setActiveItem(e){const n=this._activeItem;this.updateActiveItem(e),this._activeItem!==n&&this.change.next(this._activeItemIndex)}onKeydown(e){const n=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(n){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}return;default:return void((r||wm(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const n=this._getItemsArray(),i="number"==typeof e?e:n.indexOf(e);this._activeItem=n[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const n=this._getItemsArray();for(let i=1;i<=n.length;i++){const r=(this._activeItemIndex+e*i+n.length)%n.length;if(!this._skipPredicateFn(n[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,n){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=n])return;this.setActiveItem(e)}}_getItemsArray(){return(0,h.Hps)(this._items)?this._items():this._items instanceof h.rOR?this._items.toArray():this._items}_itemsChanged(e){if(this._activeItem){const n=e.indexOf(this._activeItem);n>-1&&n!==this._activeItemIndex&&(this._activeItemIndex=n)}}}class C0 extends Ap{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}function Rb(t){return 0===t.buttons||0===t.detail}function Rp(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const P4=new h.nKC("cdk-input-modality-detector-options"),Gc={ignoreKeys:[18,17,224,91,16]},B_=Ua({passive:!0,capture:!0});let ZR=(()=>{class t{get mostRecentModality(){return this._modality.value}constructor(n,i,r,s){this._platform=n,this._mostRecentTarget=null,this._modality=new Do.t(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(c=>c===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Xd(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Rb(o)?"keyboard":"mouse"),this._mostRecentTarget=Xd(o))},this._onTouchstart=o=>{Rp(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Xd(o))},this._options={...Gc,...s},this.modalityDetected=this._modality.pipe(WO(1)),this.modalityChanged=this.modalityDetected.pipe($R()),n.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,B_),r.addEventListener("mousedown",this._onMousedown,B_),r.addEventListener("touchstart",this._onTouchstart,B_)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,B_),document.removeEventListener("mousedown",this._onMousedown,B_),document.removeEventListener("touchstart",this._onTouchstart,B_))}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(Fo),h.KVO(h.SKi),h.KVO(He),h.KVO(P4,8))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const tF=new h.nKC("liveAnnouncerElement",{providedIn:"root",factory:function nF(){return null}}),M4=new h.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let pZ=0,N4=(()=>{class t{constructor(n,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=n||this._createLiveElement()}announce(n,...i){const r=this._defaultOptions;let s,o;return 1===i.length&&"number"==typeof i[0]?o=i[0]:[s,o]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=n,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const n="cdk-live-announcer-element",i=this._document.getElementsByClassName(n),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(n),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+pZ++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(n){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],o=s.getAttribute("aria-owns");o?-1===o.indexOf(n)&&s.setAttribute("aria-owns",o+" "+n):s.setAttribute("aria-owns",n)}}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(tF,8),h.KVO(h.SKi),h.KVO(He),h.KVO(M4,8))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var H_=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(H_||{});const tD=new h.nKC("cdk-focus-monitor-default-options"),tf=Ua({passive:!0,capture:!0});let nD=(()=>{class t{constructor(n,i,r,s,o){this._ngZone=n,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new K.B,this._rootNodeFocusAndBlurListener=c=>{for(let p=Xd(c);p;p=p.parentElement)"focus"===c.type?this._onFocus(c,p):this._onBlur(c,p)},this._document=s,this._detectionMode=o?.detectionMode||H_.IMMEDIATE}monitor(n,i=!1){const r=Im(n);if(!this._platform.isBrowser||1!==r.nodeType)return Fn();const s=function VB(t){if(function kB(){if(null==yb){const t=typeof document<"u"?document.head:null;yb=!(!t||!t.createShadowRoot&&!t.attachShadow)}return yb}()){const e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const c={checkChildren:i,subject:new K.B,rootNode:s};return this._elementInfo.set(r,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(n){const i=Im(n),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(n,i,r){const s=Im(n);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([c,d])=>this._originChanged(c,i,d)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((n,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===H_.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,i){n.classList.toggle("cdk-focused",!!i),n.classList.toggle("cdk-touch-focused","touch"===i),n.classList.toggle("cdk-keyboard-focused","keyboard"===i),n.classList.toggle("cdk-mouse-focused","mouse"===i),n.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(n,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=n,this._originFromTouchInteraction="touch"===n&&i,this._detectionMode===H_.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(n,i){const r=this._elementInfo.get(i),s=Xd(n);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(n,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&n.relatedTarget instanceof Node&&i.contains(n.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(n,i){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(i))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;const i=n.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,tf),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,tf)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(_r(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(n){const i=n.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,tf),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,tf),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,i,r){this._setClasses(n,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(n){const i=[];return this._elementInfo.forEach((r,s)=>{(s===n||r.checkChildren&&s.contains(n))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(n){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===n||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName||n.disabled)return!1;const s=n.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(i))return!0;return!1}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(h.SKi),h.KVO(Fo),h.KVO(ZR),h.KVO(He,8),h.KVO(tD,8))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var bu=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(bu||{});const E0="cdk-high-contrast-black-on-white",S0="cdk-high-contrast-white-on-black",I0="cdk-high-contrast-active";let iD=(()=>{class t{constructor(n,i){this._platform=n,this._document=i,this._breakpointSubscription=(0,h.WQX)(uZ).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return bu.NONE;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(n):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return bu.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return bu.BLACK_ON_WHITE}return bu.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(I0,E0,S0),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===bu.BLACK_ON_WHITE?n.add(I0,E0):i===bu.WHITE_ON_BLACK&&n.add(I0,S0)}}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(Fo),h.KVO(He))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),iF=(()=>{class t{constructor(n){n._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(iD))}}static{this.\u0275mod=h.$C({type:t})}static{this.\u0275inj=h.G2t({imports:[C4]})}}return t})();const F4=new h.nKC("cdk-dir-doc",{providedIn:"root",factory:function L4(){return(0,h.WQX)(He)}}),U_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let W_=(()=>{class t{constructor(n){this.value="ltr",this.change=new h.bkB,n&&(this.value=function rF(t){const e=t?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?U_.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((n.body?n.body.dir:null)||(n.documentElement?n.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(F4,8))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Db=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h.$C({type:t})}static{this.\u0275inj=h.G2t({})}}return t})();const vZ=["text"],V4=[[["mat-icon"]],"*"],sD=["mat-icon","*"];function oD(t,e){if(1&t&&h.nrm(0,"mat-pseudo-checkbox",1),2&t){const n=h.XpG();h.Y8G("disabled",n.disabled)("state",n.selected?"checked":"unchecked")}}function G4(t,e){if(1&t&&h.nrm(0,"mat-pseudo-checkbox",3),2&t){const n=h.XpG();h.Y8G("disabled",n.disabled)}}function B4(t,e){if(1&t&&(h.j41(0,"span",4),h.EFF(1),h.k0s()),2&t){const n=h.XpG();h.R7$(),h.SpI("(",n.group.label,")")}}const U4=new h.nKC("mat-sanity-checks",{providedIn:"root",factory:function H4(){return!0}});let Go=(()=>{class t{constructor(n,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return!c0()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(iD),h.KVO(U4,8),h.KVO(He))}}static{this.\u0275mod=h.$C({type:t})}static{this.\u0275inj=h.G2t({imports:[Db,Db]})}}return t})();class T0{constructor(e,n,i,r,s){this._defaultMatcher=e,this.ngControl=n,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=s,this.errorState=!1}updateErrorState(){const e=this.errorState,n=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,s=i?.isErrorState(r,n)??!1;s!==e&&(this.errorState=s,this._stateChanges.next())}}let xm=(()=>{class t{isErrorState(n,i){return!!(n&&n.invalid&&(n.touched||i&&i.submitted))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Aa=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(Aa||{});class j_{constructor(e,n,i,r=!1){this._renderer=e,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Aa.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Pm=Ua({passive:!0,capture:!0});class cF{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const n=Xd(e);n&&this._events.get(e.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,n,i,r){const s=this._events.get(n);if(s){const o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,Pm)})}removeHandler(e,n,i){const r=this._events.get(e);if(!r)return;const s=r.get(n);s&&(s.delete(i),0===s.size&&r.delete(n),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Pm)))}}const lD={enterDuration:225,exitDuration:150},cD=Ua({passive:!0,capture:!0}),uD=["mousedown","touchstart"],dD=["mouseup","mouseleave","touchend","touchcancel"];class Fb{static{this._eventManager=new cF}constructor(e,n,i,r){this._target=e,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Im(i))}fadeInRipple(e,n,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...lD,...i.animation};i.centered&&(e=r.left+r.width/2,n=r.top+r.height/2);const o=i.radius||function dF(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(e,n,r),c=e-r.left,d=n-r.top,p=s.enterDuration,m=document.createElement("div");m.classList.add("mat-ripple-element"),m.style.left=c-o+"px",m.style.top=d-o+"px",m.style.height=2*o+"px",m.style.width=2*o+"px",null!=i.color&&(m.style.backgroundColor=i.color),m.style.transitionDuration=`${p}ms`,this._containerElement.appendChild(m);const y=window.getComputedStyle(m),k=y.transitionDuration,U="none"===y.transitionProperty||"0s"===k||"0s, 0s"===k||0===r.width&&0===r.height,X=new j_(this,m,i,U);m.style.transform="scale3d(1, 1, 1)",X.state=Aa.FADING_IN,i.persistent||(this._mostRecentTransientRipple=X);let Q=null;return!U&&(p||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const pe=()=>this._finishRippleTransition(X),Ie=()=>this._destroyRipple(X);m.addEventListener("transitionend",pe),m.addEventListener("transitioncancel",Ie),Q={onTransitionEnd:pe,onTransitionCancel:Ie}}),this._activeRipples.set(X,Q),(U||!p)&&this._finishRippleTransition(X),X}fadeOutRipple(e){if(e.state===Aa.FADING_OUT||e.state===Aa.HIDDEN)return;const n=e.element,i={...lD,...e.config.animation};n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",e.state=Aa.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const n=Im(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,uD.forEach(i=>{Fb._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{dD.forEach(n=>{this._triggerElement.addEventListener(n,this,cD)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Aa.FADING_IN?this._startFadeOutTransition(e):e.state===Aa.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){const n=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=Aa.VISIBLE,!i&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Aa.HIDDEN,null!==n&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){const n=Rb(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Rp(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=e.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(e.state===Aa.VISIBLE||e.config.terminateOnPointerUp&&e.state===Aa.FADING_IN)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(uD.forEach(n=>Fb._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&(dD.forEach(n=>e.removeEventListener(n,this,cD)),this._pointerUpEventsRegistered=!1))}}const hD=new h.nKC("mat-ripple-global-options");let Lb=(()=>{class t{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,i,r,s,o){this._elementRef=n,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Fb(this,i,n,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,i=0,r){return"number"==typeof n?this._rippleRenderer.fadeInRipple(n,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...n})}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.aKT),h.rXU(h.SKi),h.rXU(Fo),h.rXU(hD,8),h.rXU(h.bc$,8))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&h.AVh("mat-ripple-unbounded",r.unbounded)},inputs:{color:[h.Mj6.None,"matRippleColor","color"],unbounded:[h.Mj6.None,"matRippleUnbounded","unbounded"],centered:[h.Mj6.None,"matRippleCentered","centered"],radius:[h.Mj6.None,"matRippleRadius","radius"],animation:[h.Mj6.None,"matRippleAnimation","animation"],disabled:[h.Mj6.None,"matRippleDisabled","disabled"],trigger:[h.Mj6.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return t})(),nf=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h.$C({type:t})}static{this.\u0275inj=h.G2t({imports:[Go,Go]})}}return t})(),q4=(()=>{class t{constructor(n){this._animationMode=n,this.state="unchecked",this.disabled=!1,this.appearance="full"}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.bc$,8))}}static{this.\u0275cmp=h.VBU({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&h.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[h.aNF],decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}}return t})(),K4=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h.$C({type:t})}static{this.\u0275inj=h.G2t({imports:[Go]})}}return t})();const R0=new h.nKC("MAT_OPTION_PARENT_COMPONENT"),D0=new h.nKC("MatOptgroup");let fD=0;class PZ{constructor(e,n=!1){this.source=e,this.isUserInput=n}}let Y4=(()=>{class t{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(n){this._disabled=n}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(n,i,r,s){this._element=n,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+fD++,this.onSelectionChange=new h.bkB,this._stateChanges=new K.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(n=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),n&&this._emitSelectionChangeEvent())}deselect(n=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),n&&this._emitSelectionChangeEvent())}focus(n,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(n){(13===n.keyCode||32===n.keyCode)&&!wm(n)&&(this._selectViaInteraction(),n.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const n=this.viewValue;n!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=n)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(n=!1){this.onSelectionChange.emit(new PZ(this,n))}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.aKT),h.rXU(h.gRc),h.rXU(R0,8),h.rXU(D0,8))}}static{this.\u0275cmp=h.VBU({type:t,selectors:[["mat-option"]],viewQuery:function(i,r){if(1&i&&h.GBs(vZ,7),2&i){let s;h.mGM(s=h.lsd())&&(r._text=s.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&h.bIt("click",function(){return r._selectViaInteraction()})("keydown",function(o){return r._handleKeydown(o)}),2&i&&(h.Mr5("id",r.id),h.BMQ("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),h.AVh("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[h.Mj6.HasDecoratorInputTransform,"disabled","disabled",h.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[h.GFd,h.aNF],ngContentSelectors:sD,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){1&i&&(h.NAR(V4),h.DNE(0,oD,1,2,"mat-pseudo-checkbox",1),h.SdG(1),h.j41(2,"span",2,0),h.SdG(4,1),h.k0s(),h.DNE(5,G4,1,1,"mat-pseudo-checkbox",3)(6,B4,2,1,"span",4),h.nrm(7,"div",5)),2&i&&(h.vxM(0,r.multiple?0:-1),h.R7$(5),h.vxM(5,r.multiple||!r.selected||r.hideSingleSelectionIndicator?-1:5),h.R7$(),h.vxM(6,r.group&&r.group._inert?6:-1),h.R7$(),h.Y8G("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[q4,Lb],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return t})(),pD=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h.$C({type:t})}static{this.\u0275inj=h.G2t({imports:[nf,Go,K4]})}}return t})();const hF={capture:!0},Bo=["focus","click","mouseenter","touchstart"],x0="mat-ripple-loader-uninitialized",gD="mat-ripple-loader-class-name",fF="mat-ripple-loader-centered",kb="mat-ripple-loader-disabled";let J4=(()=>{class t{constructor(){this._document=(0,h.WQX)(He,{optional:!0}),this._animationMode=(0,h.WQX)(h.bc$,{optional:!0}),this._globalRippleOptions=(0,h.WQX)(hD,{optional:!0}),this._platform=(0,h.WQX)(Fo),this._ngZone=(0,h.WQX)(h.SKi),this._hosts=new Map,this._onInteraction=n=>{if(!(n.target instanceof HTMLElement))return;const r=n.target.closest(`[${x0}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const n of Bo)this._document?.addEventListener(n,this._onInteraction,hF)})}ngOnDestroy(){const n=this._hosts.keys();for(const i of n)this.destroyRipple(i);for(const i of Bo)this._document?.removeEventListener(i,this._onInteraction,hF)}configureRipple(n,i){n.setAttribute(x0,""),(i.className||!n.hasAttribute(gD))&&n.setAttribute(gD,i.className||""),i.centered&&n.setAttribute(fF,""),i.disabled&&n.setAttribute(kb,"")}getRipple(n){return this._hosts.get(n)||this._createRipple(n)}setDisabled(n,i){const r=this._hosts.get(n);r?r.disabled=i:i?n.setAttribute(kb,""):n.removeAttribute(kb)}_createRipple(n){if(!this._document)return;const i=this._hosts.get(n);if(i)return i;n.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",n.getAttribute(gD)),n.append(r);const s=new Lb(new h.aKT(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=n,s.centered=n.hasAttribute(fF),s.disabled=n.hasAttribute(kb),this.attachRipple(n,s),s}attachRipple(n,i){n.removeAttribute(x0),this._hosts.set(n,i)}destroyRipple(n){const i=this._hosts.get(n);i&&(i.ngOnDestroy(),this._hosts.delete(n))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const pF=["mat-button",""],q_=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],eH=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],mD=["mat-icon-button",""],vD=["*"],_D=new h.nKC("MAT_BUTTON_CONFIG"),nH=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let yD=(()=>{class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(n){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,n)}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}constructor(n,i,r,s){this._elementRef=n,this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,h.WQX)(nD),this._rippleLoader=(0,h.WQX)(J4),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const o=(0,h.WQX)(_D,{optional:!0}),c=n.nativeElement,d=c.classList;this.disabledInteractive=o?.disabledInteractive??!1,this._rippleLoader?.configureRipple(c,{className:"mat-mdc-button-ripple"});for(const{attribute:p,mdcClasses:m}of nH)c.hasAttribute(p)&&d.add(...m)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",i){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(i){h.QTQ()}}static{this.\u0275dir=h.FsC({type:t,inputs:{color:"color",disableRipple:[h.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",h.L39],disabled:[h.Mj6.HasDecoratorInputTransform,"disabled","disabled",h.L39],ariaDisabled:[h.Mj6.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",h.L39],disabledInteractive:[h.Mj6.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",h.L39]},features:[h.GFd]})}}return t})(),Bc=(()=>{class t extends yD{constructor(n,i,r,s){super(n,i,r,s)}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.aKT),h.rXU(Fo),h.rXU(h.SKi),h.rXU(h.bc$,8))}}static{this.\u0275cmp=h.VBU({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(h.BMQ("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),h.HbH(r.color?"mat-"+r.color:""),h.AVh("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[h.Vt3,h.aNF],attrs:pF,ngContentSelectors:eH,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(h.NAR(q_),h.nrm(0,"span",0),h.SdG(1),h.j41(2,"span",1),h.SdG(3,1),h.k0s(),h.SdG(4,2),h.nrm(5,"span",2)(6,"span",3)),2&i&&h.AVh("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return t})(),oH=(()=>{class t extends yD{constructor(n,i,r,s){super(n,i,r,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.aKT),h.rXU(Fo),h.rXU(h.SKi),h.rXU(h.bc$,8))}}static{this.\u0275cmp=h.VBU({type:t,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(h.BMQ("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),h.HbH(r.color?"mat-"+r.color:""),h.AVh("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[h.Vt3,h.aNF],attrs:mD,ngContentSelectors:vD,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(h.NAR(),h.nrm(0,"span",0),h.SdG(1),h.nrm(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return t})(),CD=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h.$C({type:t})}static{this.\u0275inj=h.G2t({imports:[Go,nf,Go]})}}return t})();function Dp(...t){const e=Tc(t),n=function Wu(t,e){return"number"==typeof Gg(t)?t.pop():e}(t,1/0),i=t;return i.length?1===i.length?vo(i[0]):kh(n)(Jr(i,e)):xo}class _F extends K.B{constructor(e=1/0,n=1/0,i=jR){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;n||(i.push(e),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=i?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const o=n.now();let c=0;for(let d=1;d<i.length&&i[d]<=o;d+=2)c=d;c&&i.splice(0,c+1)}}}var bD=Kt(7707);function Vb(t={}){const{connector:e=(()=>new K.B),resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return s=>{let o,c,d,p=0,m=!1,y=!1;const A=()=>{c?.unsubscribe(),c=void 0},k=()=>{A(),o=d=void 0,m=y=!1},U=()=>{const X=o;k(),X?.unsubscribe()};return(0,Pr.N)((X,Q)=>{p++,!y&&!m&&A();const pe=d=d??e();Q.add(()=>{p--,0===p&&!y&&!m&&(c=wD(U,r))}),pe.subscribe(Q),!o&&p>0&&(o=new bD.Ms({next:Ie=>pe.next(Ie),error:Ie=>{y=!0,A(),c=wD(k,n,Ie),pe.error(Ie)},complete:()=>{m=!0,A(),c=wD(k,i),pe.complete()}}),vo(X).subscribe(o))})(s)}}function wD(t,e,...n){if(!0===e)return void t();if(!1===e)return;const i=new bD.Ms({next:()=>{i.unsubscribe(),t()}});return vo(e(...n)).subscribe(i)}function M0(t,e,n){let i,r=!1;return t&&"object"==typeof t?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:n}=t):i=t??1/0,Vb({connector:()=>new _F(i,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}class cH{constructor(e){this._box=e,this._destroyed=new K.B,this._resizeSubject=new K.B,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(n=>this._resizeSubject.next(n)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Bn.c(n=>{const i=this._resizeSubject.subscribe(n);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(It(n=>n.some(i=>i.target===e)),M0({bufferSize:1,refCount:!0}),_r(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let uH=(()=>{class t{constructor(){this._observers=new Map,this._ngZone=(0,h.WQX)(h.SKi)}ngOnDestroy(){for(const[,n]of this._observers)n.destroy();this._observers.clear()}observe(n,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new cH(r)),this._observers.get(r).observe(n)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var es=Kt(9969);const dH=["notch"],hH=["matFormFieldNotchedOutline",""],fH=["*"],pH=["textField"],gH=["iconPrefixContainer"],mH=["textPrefixContainer"],vH=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ED=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function _H(t,e){1&t&&h.nrm(0,"span",17)}function SD(t,e){if(1&t&&(h.j41(0,"label",16),h.SdG(1,1),h.DNE(2,_H,1,0,"span",17),h.k0s()),2&t){const n=h.XpG(2);h.Y8G("floating",n._shouldLabelFloat())("monitorResize",n._hasOutline())("id",n._labelId),h.BMQ("for",n._control.disableAutomaticLabeling?null:n._control.id),h.R7$(2),h.vxM(2,!n.hideRequiredMarker&&n._control.required?2:-1)}}function yF(t,e){if(1&t&&h.DNE(0,SD,3,5,"label",16),2&t){const n=h.XpG();h.vxM(0,n._hasFloatingLabel()?0:-1)}}function CF(t,e){1&t&&h.nrm(0,"div",5)}function bF(t,e){}function wF(t,e){if(1&t&&h.DNE(0,bF,0,0,"ng-template",11),2&t){h.XpG(2);const n=h.sdS(1);h.Y8G("ngTemplateOutlet",n)}}function yH(t,e){if(1&t&&(h.j41(0,"div",7),h.DNE(1,wF,1,1,null,11),h.k0s()),2&t){const n=h.XpG();h.Y8G("matFormFieldNotchedOutlineOpen",n._shouldLabelFloat()),h.R7$(),h.vxM(1,n._forceDisplayInfixLabel()?-1:1)}}function CH(t,e){1&t&&(h.j41(0,"div",8,2),h.SdG(2,2),h.k0s())}function EF(t,e){1&t&&(h.j41(0,"div",9,3),h.SdG(2,3),h.k0s())}function bH(t,e){}function SF(t,e){if(1&t&&h.DNE(0,bH,0,0,"ng-template",11),2&t){h.XpG();const n=h.sdS(1);h.Y8G("ngTemplateOutlet",n)}}function wH(t,e){1&t&&(h.j41(0,"div",12),h.SdG(1,4),h.k0s())}function IF(t,e){1&t&&(h.j41(0,"div",13),h.SdG(1,5),h.k0s())}function ID(t,e){1&t&&h.nrm(0,"div",14)}function EH(t,e){if(1&t&&(h.j41(0,"div",18),h.SdG(1,6),h.k0s()),2&t){const n=h.XpG();h.Y8G("@transitionMessages",n._subscriptAnimationState)}}function SH(t,e){if(1&t&&(h.j41(0,"mat-hint",20),h.EFF(1),h.k0s()),2&t){const n=h.XpG(2);h.Y8G("id",n._hintLabelId),h.R7$(),h.JRh(n.hintLabel)}}function TD(t,e){if(1&t&&(h.j41(0,"div",19),h.DNE(1,SH,2,2,"mat-hint",20),h.SdG(2,7),h.nrm(3,"div",21),h.SdG(4,8),h.k0s()),2&t){const n=h.XpG();h.Y8G("@transitionMessages",n._subscriptAnimationState),h.R7$(),h.vxM(1,n.hintLabel?1:-1)}}let N0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=h.FsC({type:t,selectors:[["mat-label"]],standalone:!0})}}return t})(),O0=0;const Gb=new h.nKC("MatError");let AD=(()=>{class t{constructor(n,i){this.id="mat-mdc-error-"+O0++,n||i.nativeElement.setAttribute("aria-live","polite")}static{this.\u0275fac=function(i){return new(i||t)(h.kS0("aria-live"),h.rXU(h.aKT))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){2&i&&h.Mr5("id",r.id)},inputs:{id:"id"},standalone:!0,features:[h.Jv_([{provide:Gb,useExisting:t}])]})}}return t})(),TF=0,AF=(()=>{class t{constructor(){this.align="start",this.id="mat-mdc-hint-"+TF++}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=h.FsC({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(h.Mr5("id",r.id),h.BMQ("align",null),h.AVh("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"},standalone:!0})}}return t})();const IH=new h.nKC("MatPrefix"),F0=new h.nKC("MatSuffix"),L0=new h.nKC("FloatingLabelParent");let DD=(()=>{class t{get floating(){return this._floating}set floating(n){this._floating=n,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(n){this._monitorResize=n,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(n){this._elementRef=n,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,h.WQX)(uH),this._ngZone=(0,h.WQX)(h.SKi),this._parent=(0,h.WQX)(L0),this._resizeSubscription=new rs.yU}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function TH(t){if(null!==t.offsetParent)return t.scrollWidth;const n=t.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);const i=n.scrollWidth;return n.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.aKT))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&h.AVh("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}}return t})();const RF="mdc-line-ripple--active",Bb="mdc-line-ripple--deactivating";let k0=(()=>{class t{constructor(n,i){this._elementRef=n,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,o=s.contains(Bb);"opacity"===r.propertyName&&o&&s.remove(RF,Bb)},i.runOutsideAngular(()=>{n.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const n=this._elementRef.nativeElement.classList;n.remove(Bb),n.add(RF)}deactivate(){this._elementRef.nativeElement.classList.add(Bb)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.aKT),h.rXU(h.SKi))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}}return t})(),xD=(()=>{class t{constructor(n,i){this._elementRef=n,this._ngZone=i,this.open=!1}ngAfterViewInit(){const n=this._elementRef.nativeElement.querySelector(".mdc-floating-label");n?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(n.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>n.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(n){this._notch.nativeElement.style.width=this.open&&n?`calc(${n}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.aKT),h.rXU(h.SKi))}}static{this.\u0275cmp=h.VBU({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&h.GBs(dH,5),2&i){let s;h.mGM(s=h.lsd())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&h.AVh("mdc-notched-outline--notched",r.open)},inputs:{open:[h.Mj6.None,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[h.aNF],attrs:hH,ngContentSelectors:fH,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(h.NAR(),h.nrm(0,"div",1),h.j41(1,"div",2,0),h.SdG(3),h.k0s(),h.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}}return t})();const Mm={transitionMessages:(0,es.hZ)("transitionMessages",[(0,es.wk)("enter",(0,es.iF)({opacity:1,transform:"translateY(0%)"})),(0,es.kY)("void => enter",[(0,es.iF)({opacity:0,transform:"translateY(-5px)"}),(0,es.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let PD=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=h.FsC({type:t})}}return t})();const Ub=new h.nKC("MatFormField"),GZ=new h.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let MD=0,DF=(()=>{class t{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=Sm(n)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(n){const i=this._appearance;this._appearance=n||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(n){this._subscriptSizing=n||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(n){this._explicitFormFieldControl=n}constructor(n,i,r,s,o,c,d,p){this._elementRef=n,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=o,this._defaults=c,this._animationMode=d,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+MD++,this._hintLabelId="mat-mdc-hint-"+MD++,this._subscriptAnimationState="",this._destroyed=new K.B,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,c&&(c.appearance&&(this.appearance=c.appearance),this._hideRequiredMarker=!!c?.hideRequiredMarker,c.color&&(this.color=c.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const n=this._control;n.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${n.controlType}`),n.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),n.ngControl&&n.ngControl.valueChanges&&n.ngControl.valueChanges.pipe(_r(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(n=>!n._isText),this._hasTextPrefix=!!this._prefixChildren.find(n=>n._isText),this._hasIconSuffix=!!this._suffixChildren.find(n=>!n._isText),this._hasTextSuffix=!!this._suffixChildren.find(n=>n._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Dp(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(_r(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(_r(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(n){const i=this._control?this._control.ngControl:null;return i&&i[n]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&n.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?n.push(i.id):this._hintLabel&&n.push(this._hintLabelId),r&&n.push(r.id)}else this._errorChildren&&n.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(n)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const n=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(n.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,o=r?.getBoundingClientRect().width??0;n.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+o}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const n=this._elementRef.nativeElement;if(n.getRootNode){const i=n.getRootNode();return i&&i!==n}return document.documentElement.contains(n)}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.aKT),h.rXU(h.gRc),h.rXU(h.SKi),h.rXU(W_),h.rXU(Fo),h.rXU(GZ,8),h.rXU(h.bc$,8),h.rXU(He))}}static{this.\u0275cmp=h.VBU({type:t,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(1&i&&(h.wni(s,N0,5),h.wni(s,N0,7),h.wni(s,PD,5),h.wni(s,IH,5),h.wni(s,F0,5),h.wni(s,Gb,5),h.wni(s,AF,5)),2&i){let o;h.mGM(o=h.lsd())&&(r._labelChildNonStatic=o.first),h.mGM(o=h.lsd())&&(r._labelChildStatic=o.first),h.mGM(o=h.lsd())&&(r._formFieldControl=o.first),h.mGM(o=h.lsd())&&(r._prefixChildren=o),h.mGM(o=h.lsd())&&(r._suffixChildren=o),h.mGM(o=h.lsd())&&(r._errorChildren=o),h.mGM(o=h.lsd())&&(r._hintChildren=o)}},viewQuery:function(i,r){if(1&i&&(h.GBs(pH,5),h.GBs(gH,5),h.GBs(mH,5),h.GBs(DD,5),h.GBs(xD,5),h.GBs(k0,5)),2&i){let s;h.mGM(s=h.lsd())&&(r._textField=s.first),h.mGM(s=h.lsd())&&(r._iconPrefixContainer=s.first),h.mGM(s=h.lsd())&&(r._textPrefixContainer=s.first),h.mGM(s=h.lsd())&&(r._floatingLabel=s.first),h.mGM(s=h.lsd())&&(r._notchedOutline=s.first),h.mGM(s=h.lsd())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&h.AVh("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[h.Jv_([{provide:Ub,useExisting:t},{provide:L0,useExisting:t}]),h.aNF],ngContentSelectors:ED,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(1&i){const s=h.RV6();h.NAR(vH),h.DNE(0,yF,1,1,"ng-template",null,0,h.C5r),h.j41(2,"div",4,1),h.bIt("click",function(c){return h.eBV(s),h.Njj(r._control.onContainerClick(c))}),h.DNE(4,CF,1,0,"div",5),h.j41(5,"div",6),h.DNE(6,yH,2,2,"div",7)(7,CH,3,0,"div",8)(8,EF,3,0,"div",9),h.j41(9,"div",10),h.DNE(10,SF,1,1,null,11),h.SdG(11),h.k0s(),h.DNE(12,wH,2,0,"div",12)(13,IF,2,0,"div",13),h.k0s(),h.DNE(14,ID,1,0,"div",14),h.k0s(),h.j41(15,"div",15),h.DNE(16,EH,2,1)(17,TD,5,2),h.k0s()}if(2&i){let s;h.R7$(2),h.AVh("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),h.R7$(2),h.vxM(4,r._hasOutline()||r._control.disabled?-1:4),h.R7$(2),h.vxM(6,r._hasOutline()?6:-1),h.R7$(),h.vxM(7,r._hasIconPrefix?7:-1),h.R7$(),h.vxM(8,r._hasTextPrefix?8:-1),h.R7$(2),h.vxM(10,!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),h.R7$(2),h.vxM(12,r._hasTextSuffix?12:-1),h.R7$(),h.vxM(13,r._hasIconSuffix?13:-1),h.R7$(),h.vxM(14,r._hasOutline()?-1:14),h.R7$(),h.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),h.R7$(),h.vxM(16,"error"===(s=r._getDisplayedMessages())?16:"hint"===s?17:-1)}},dependencies:[DD,xD,Er,k0,AF],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Mm.transitionMessages]},changeDetection:0})}}return t})(),Wb=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h.$C({type:t})}static{this.\u0275inj=h.G2t({imports:[Go,tl,C4,Go]})}}return t})();var te=Kt(467);class V0{}class Om{}class gl{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const i=n.indexOf(":");if(i>0){const r=n.slice(0,i),s=r.toLowerCase(),o=n.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof gl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new gl;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof gl?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,n);const r=("a"===e.op?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(c=>-1===s.indexOf(c)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const i=(Array.isArray(n)?n:[n]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class xF{encodeKey(e){return OD(e)}encodeValue(e){return OD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const RH=/%(\d[a-f0-9])/gi,MF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function OD(t){return encodeURIComponent(t).replace(RH,(e,n)=>MF[n]??e)}function zb(t){return`${t}`}class af{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new xF,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function PF(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,c]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],d=n.get(o)||[];d.push(c),n.set(o,d)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const i=e.fromObject[n],r=Array.isArray(i)?i.map(zb):[zb(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{n.push({param:i,value:s,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new af({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(zb(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(zb(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class DH{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function K_(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function NF(t){return typeof Blob<"u"&&t instanceof Blob}function OF(t){return typeof FormData<"u"&&t instanceof FormData}class xp{constructor(e,n,i,r){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function xH(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new gl,this.context??=new DH,this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const c=n.indexOf("?");this.urlWithParams=n+(-1===c?"?":c<n.length-1?"&":"")+o}}else this.params=new af,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||K_(this.body)||NF(this.body)||OF(this.body)||function PH(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)?this.body:this.body instanceof af?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||OF(this.body)?null:NF(this.body)?this.body.type||null:K_(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof af?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=void 0!==e.body?e.body:this.body,c=e.withCredentials??this.withCredentials,d=e.reportProgress??this.reportProgress;let p=e.headers||this.headers,m=e.params||this.params;const y=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((A,k)=>A.set(k,e.setHeaders[k]),p)),e.setParams&&(m=Object.keys(e.setParams).reduce((A,k)=>A.set(k,e.setParams[k]),m)),new xp(n,i,o,{params:m,headers:p,context:y,reportProgress:d,responseType:r,withCredentials:c,transferCache:s})}}var lf=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(lf||{});class G0{constructor(e,n=cf.Ok,i="OK"){this.headers=e.headers||new gl,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class jb extends G0{constructor(e={}){super(e),this.type=lf.ResponseHeader}clone(e={}){return new jb({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Fm extends G0{constructor(e={}){super(e),this.type=lf.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Fm({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class eh extends G0{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}var cf=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(cf||{});function FD(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}let $b=(()=>{class t{constructor(n){this.handler=n}request(n,i,r={}){let s;if(n instanceof xp)s=n;else{let d,p;d=r.headers instanceof gl?r.headers:new gl(r.headers),r.params&&(p=r.params instanceof af?r.params:new af({fromObject:r.params})),s=new xp(n,i,void 0!==r.body?r.body:null,{headers:d,context:r.context,params:p,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const o=Fn(s).pipe(gi(d=>this.handler.handle(d)));if(n instanceof xp||"events"===r.observe)return o;const c=o.pipe(It(d=>d instanceof Fm));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe((0,ti.T)(d=>{if(null!==d.body&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return c.pipe((0,ti.T)(d=>{if(null!==d.body&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return c.pipe((0,ti.T)(d=>{if(null!==d.body&&"string"!=typeof d.body)throw new Error("Response is not a string.");return d.body}));default:return c.pipe((0,ti.T)(d=>d.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:(new af).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,FD(r,i))}post(n,i,r={}){return this.request("POST",n,FD(r,i))}put(n,i,r={}){return this.request("PUT",n,FD(r,i))}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(V0))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac})}}return t})();function kD(t,e){return e(t)}const Kb=new h.nKC(""),FH=new h.nKC(""),LH=new h.nKC("");let Yb=(()=>{class t extends V0{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null,this.pendingTasks=(0,h.WQX)(h.TgB);const r=(0,h.WQX)(LH,{optional:!0});this.backend=r??n}handle(n){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Kb),...this.injector.get(FH,[])]));this.chain=r.reduceRight((s,o)=>function VF(t,e,n){return(i,r)=>(0,h.N4e)(n,()=>e(i,s=>t(s,r)))}(s,o,this.injector),kD)}const i=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(Zs(()=>this.pendingTasks.remove(i)))}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(Om),h.KVO(h.uvJ))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac})}}return t})();const zH=/^\)\]\}',?\n/;let Y_=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new h.wOt(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Jr(i.\u0275loadImpl()):Fn(null)).pipe(ve(()=>new Bn.c(s=>{const o=i.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((X,Q)=>o.setRequestHeader(X,Q.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const X=n.detectContentTypeHeader();null!==X&&o.setRequestHeader("Content-Type",X)}if(n.responseType){const X=n.responseType.toLowerCase();o.responseType="json"!==X?X:"text"}const c=n.serializeBody();let d=null;const p=()=>{if(null!==d)return d;const X=o.statusText||"OK",Q=new gl(o.getAllResponseHeaders()),pe=function jH(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||n.url;return d=new jb({headers:Q,status:o.status,statusText:X,url:pe}),d},m=()=>{let{headers:X,status:Q,statusText:pe,url:Ie}=p(),ke=null;Q!==cf.NoContent&&(ke=typeof o.response>"u"?o.responseText:o.response),0===Q&&(Q=ke?cf.Ok:0);let tt=Q>=200&&Q<300;if("json"===n.responseType&&"string"==typeof ke){const zt=ke;ke=ke.replace(zH,"");try{ke=""!==ke?JSON.parse(ke):null}catch(Ot){ke=zt,tt&&(tt=!1,ke={error:Ot,text:ke})}}tt?(s.next(new Fm({body:ke,headers:X,status:Q,statusText:pe,url:Ie||void 0})),s.complete()):s.error(new eh({error:ke,headers:X,status:Q,statusText:pe,url:Ie||void 0}))},y=X=>{const{url:Q}=p(),pe=new eh({error:X,status:o.status||0,statusText:o.statusText||"Unknown Error",url:Q||void 0});s.error(pe)};let A=!1;const k=X=>{A||(s.next(p()),A=!0);let Q={type:lf.DownloadProgress,loaded:X.loaded};X.lengthComputable&&(Q.total=X.total),"text"===n.responseType&&o.responseText&&(Q.partialText=o.responseText),s.next(Q)},U=X=>{let Q={type:lf.UploadProgress,loaded:X.loaded};X.lengthComputable&&(Q.total=X.total),s.next(Q)};return o.addEventListener("load",m),o.addEventListener("error",y),o.addEventListener("timeout",y),o.addEventListener("abort",y),n.reportProgress&&(o.addEventListener("progress",k),null!==c&&o.upload&&o.upload.addEventListener("progress",U)),o.send(c),s.next({type:lf.Sent}),()=>{o.removeEventListener("error",y),o.removeEventListener("abort",y),o.removeEventListener("load",m),o.removeEventListener("timeout",y),n.reportProgress&&(o.removeEventListener("progress",k),null!==c&&o.upload&&o.upload.removeEventListener("progress",U)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(Na))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac})}}return t})();const VD=new h.nKC(""),BF=new h.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),UF=new h.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class GD{}let $H=(()=>{class t{constructor(n,i,r){this.doc=n,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Bv(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(He),h.KVO(h.Agw),h.KVO(BF))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac})}}return t})();function BD(t,e){const n=t.url.toLowerCase();if(!(0,h.WQX)(VD)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const i=(0,h.WQX)(GD).getToken(),r=(0,h.WQX)(UF);return null!=i&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}const iee=["*"];let Qb;function X_(t){return function eU(){if(void 0===Qb&&(Qb=null,typeof window<"u")){const t=window;void 0!==t.trustedTypes&&(Qb=t.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Qb}()?.createHTML(t)||t}function $D(t){return Error(`Unable to find icon with the name "${t}"`)}function U0(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function qD(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class Mp{constructor(e,n,i){this.url=e,this.svgText=n,this.options=i}}let Jb=(()=>{class t{constructor(n,i,r,s){this._httpClient=n,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(n,i,r){return this.addSvgIconInNamespace("",n,i,r)}addSvgIconLiteral(n,i,r){return this.addSvgIconLiteralInNamespace("",n,i,r)}addSvgIconInNamespace(n,i,r,s){return this._addSvgIconConfig(n,i,new Mp(r,null,s))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,i,r,s){const o=this._sanitizer.sanitize(h.WPN.HTML,r);if(!o)throw qD(r);const c=X_(o);return this._addSvgIconConfig(n,i,new Mp("",c,s))}addSvgIconSet(n,i){return this.addSvgIconSetInNamespace("",n,i)}addSvgIconSetLiteral(n,i){return this.addSvgIconSetLiteralInNamespace("",n,i)}addSvgIconSetInNamespace(n,i,r){return this._addSvgIconSetConfig(n,new Mp(i,null,r))}addSvgIconSetLiteralInNamespace(n,i,r){const s=this._sanitizer.sanitize(h.WPN.HTML,i);if(!s)throw qD(i);const o=X_(s);return this._addSvgIconSetConfig(n,new Mp("",o,r))}registerFontClassAlias(n,i=n){return this._fontCssClassesByAlias.set(n,i),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(...n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){const i=this._sanitizer.sanitize(h.WPN.RESOURCE_URL,n);if(!i)throw U0(n);const r=this._cachedIconsByUrl.get(i);return r?Fn(Zb(r)):this._loadSvgIconFromConfig(new Mp(n,null)).pipe(ri(s=>this._cachedIconsByUrl.set(i,s)),(0,ti.T)(s=>Zb(s)))}getNamedSvgIcon(n,i=""){const r=KD(i,n);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,n),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(n,o):Fd($D(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?Fn(Zb(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe((0,ti.T)(i=>Zb(i)))}_getSvgFromIconSetConfigs(n,i){const r=this._extractIconWithNameFromAnySet(n,i);return r?Fn(r):y_(i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Lr(c=>{const p=`Loading icon set URL: ${this._sanitizer.sanitize(h.WPN.RESOURCE_URL,o.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(p)),Fn(null)})))).pipe((0,ti.T)(()=>{const o=this._extractIconWithNameFromAnySet(n,i);if(!o)throw $D(n);return o}))}_extractIconWithNameFromAnySet(n,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(n)>-1){const o=this._svgElementFromConfig(s),c=this._extractSvgIconFromSet(o,n,s.options);if(c)return c}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe(ri(i=>n.svgText=i),(0,ti.T)(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?Fn(null):this._fetchIcon(n).pipe(ri(i=>n.svgText=i))}_extractSvgIconFromSet(n,i,r){const s=n.querySelector(`[id="${i}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const c=this._svgElementFromString(X_("<svg></svg>"));return c.appendChild(o),this._setSvgAttributes(c,r)}_svgElementFromString(n){const i=this._document.createElement("DIV");i.innerHTML=n;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(n){const i=this._svgElementFromString(X_("<svg></svg>")),r=n.attributes;for(let s=0;s<r.length;s++){const{name:o,value:c}=r[s];"id"!==o&&i.setAttribute(o,c)}for(let s=0;s<n.childNodes.length;s++)n.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(n.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(n,i){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),i&&i.viewBox&&n.setAttribute("viewBox",i.viewBox),n}_fetchIcon(n){const{url:i,options:r}=n,s=r?.withCredentials??!1;if(!this._httpClient)throw function YF(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const o=this._sanitizer.sanitize(h.WPN.RESOURCE_URL,i);if(!o)throw U0(i);const c=this._inProgressUrlFetches.get(o);if(c)return c;const d=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe((0,ti.T)(p=>X_(p)),Zs(()=>this._inProgressUrlFetches.delete(o)),Vb());return this._inProgressUrlFetches.set(o,d),d}_addSvgIconConfig(n,i,r){return this._svgIconConfigs.set(KD(n,i),r),this}_addSvgIconSetConfig(n,i){const r=this._iconSetConfigs.get(n);return r?r.push(i):this._iconSetConfigs.set(n,[i]),this}_svgElementFromConfig(n){if(!n.svgElement){const i=this._svgElementFromString(n.svgText);this._setSvgAttributes(i,n.options),n.svgElement=i}return n.svgElement}_getIconConfigFromResolvers(n,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,n);if(s)return QF(s)?new Mp(s.url,null,s.options):new Mp(s,null)}}static{this.\u0275fac=function(i){return new(i||t)(h.KVO($b,8),h.KVO(fr),h.KVO(He,8),h.KVO(h.zcH))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Zb(t){return t.cloneNode(!0)}function KD(t,e){return t+":"+e}function QF(t){return!(!t.url||!t.options)}const JF=new h.nKC("MAT_ICON_DEFAULT_OPTIONS"),ZF=new h.nKC("mat-icon-location",{providedIn:"root",factory:function e2(){const t=(0,h.WQX)(He),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),YD=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],nU=YD.map(t=>`[${t}]`).join(", "),iU=/^url\(['"]?#(.*?)['"]?\)$/;let rU=(()=>{class t{get color(){return this._color||this._defaultColor}set color(n){this._color=n}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){const i=this._cleanupFontValue(n);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){const i=this._cleanupFontValue(n);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(n,i,r,s,o,c){this._elementRef=n,this._iconRegistry=i,this._location=s,this._errorHandler=o,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=rs.yU.EMPTY,c&&(c.color&&(this.color=this._defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),r||n.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(n){if(!n)return["",""];const i=n.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const n=this._elementsWithExternalReferences;if(n&&n.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){const n=this._elementRef.nativeElement;let i=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=n.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const n=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>n.classList.remove(r)),i.forEach(r=>n.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return"string"==typeof n?n.trim().split(" ")[0]:n}_prependPathToReferences(n){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${n}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(n){const i=n.querySelectorAll(nU),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)YD.forEach(o=>{const c=i[s],d=c.getAttribute(o),p=d?d.match(iU):null;if(p){let m=r.get(c);m||(m=[],r.set(c,m)),m.push({name:o,value:p[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){const[i,r]=this._splitIconName(n);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Me(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.aKT),h.rXU(Jb),h.kS0("aria-hidden"),h.rXU(ZF),h.rXU(h.zcH),h.rXU(JF,8))}}static{this.\u0275cmp=h.VBU({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){2&i&&(h.BMQ("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),h.HbH(r.color?"mat-"+r.color:""),h.AVh("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:[h.Mj6.HasDecoratorInputTransform,"inline","inline",h.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[h.GFd,h.aNF],ngContentSelectors:iee,decls:1,vars:0,template:function(i,r){1&i&&(h.NAR(),h.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return t})(),t2=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h.$C({type:t})}static{this.\u0275inj=h.G2t({imports:[Go,Go]})}}return t})();const XD=Ua({passive:!0});let sU=(()=>{class t{constructor(n,i){this._platform=n,this._ngZone=i,this._monitoredElements=new Map}monitor(n){if(!this._platform.isBrowser)return xo;const i=Im(n),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new K.B,o="cdk-text-field-autofilled",c=d=>{"cdk-text-field-autofill-start"!==d.animationName||i.classList.contains(o)?"cdk-text-field-autofill-end"===d.animationName&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!1}))):(i.classList.add(o),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",c,XD),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",c,XD)}}),s}stopMonitoring(n){const i=Im(n),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((n,i)=>this.stopMonitoring(i))}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(Fo),h.KVO(h.SKi))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),oU=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h.$C({type:t})}static{this.\u0275inj=h.G2t({})}}return t})();const aU=new h.nKC("MAT_INPUT_VALUE_ACCESSOR"),lU=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let cU=0,n2=(()=>{class t{get disabled(){return this._disabled}set disabled(n){this._disabled=Sm(n),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(n){this._id=n||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ta.required)??!1}set required(n){this._required=Sm(n)}get type(){return this._type}set type(n){this._type=n||"text",this._validateType(),!this._isTextarea&&o0().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(n){this._errorStateTracker.matcher=n}get value(){return this._inputValueAccessor.value}set value(n){n!==this.value&&(this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=Sm(n)}get errorState(){return this._errorStateTracker.errorState}set errorState(n){this._errorStateTracker.errorState=n}constructor(n,i,r,s,o,c,d,p,m,y){this._elementRef=n,this._platform=i,this.ngControl=r,this._autofillMonitor=p,this._formField=y,this._uid="mat-input-"+cU++,this.focused=!1,this.stateChanges=new K.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>o0().has(U)),this._iOSKeyupListener=U=>{const X=U.target;!X.value&&0===X.selectionStart&&0===X.selectionEnd&&(X.setSelectionRange(1,1),X.setSelectionRange(0,0))};const A=this._elementRef.nativeElement,k=A.nodeName.toLowerCase();this._inputValueAccessor=d||A,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&m.runOutsideAngular(()=>{n.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new T0(c,r,o,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===k,this._isTextarea="textarea"===k,this._isInFormField=!!y,this._isNativeSelect&&(this.controlType=A.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(n){n!==this.focused&&(this.focused=n,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_dirtyCheckPlaceholder(){const n=this._getPlaceholder();if(n!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=n,n?i.setAttribute("placeholder",n):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){lU.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const n=this._elementRef.nativeElement,i=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const n=this._elementRef.nativeElement;return this._isNativeSelect&&(n.multiple||n.size>1)}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.aKT),h.rXU(Fo),h.rXU(od,10),h.rXU(ef,8),h.rXU(x_,8),h.rXU(xm),h.rXU(aU,10),h.rXU(sU),h.rXU(h.SKi),h.rXU(Ub,8))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&h.bIt("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(h.Mr5("id",r.id)("disabled",r.disabled)("required",r.required),h.BMQ("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),h.AVh("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[h.Mj6.None,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[h.Jv_([{provide:PD,useExisting:t}]),h.OA$]})}}return t})(),QD=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h.$C({type:t})}static{this.\u0275inj=h.G2t({imports:[Go,Wb,Wb,oU,Go]})}}return t})();const r2=["addListener","removeListener"],s2=["addEventListener","removeEventListener"],o2=["on","off"];function W0(t,e,n,i){if((0,_i.T)(n)&&(i=n,n=void 0),i)return W0(t,e,n).pipe(Fh(i));const[r,s]=function c2(t){return(0,_i.T)(t.addEventListener)&&(0,_i.T)(t.removeEventListener)}(t)?s2.map(o=>c=>t[o](e,c,n)):function a2(t){return(0,_i.T)(t.addListener)&&(0,_i.T)(t.removeListener)}(t)?r2.map(JD(t,e)):function l2(t){return(0,_i.T)(t.on)&&(0,_i.T)(t.off)}(t)?o2.map(JD(t,e)):[];if(!r&&ci(t))return Dr(o=>W0(o,e,n))(vo(t));if(!r)throw new TypeError("Invalid event target");return new Bn.c(o=>{const c=(...d)=>o.next(1<d.length?d:d[0]);return r(c),()=>s(c)})}function JD(t,e){return n=>i=>t[n](e,i)}const Q_={schedule(t){let e=requestAnimationFrame,n=cancelAnimationFrame;const{delegate:i}=Q_;i&&(e=i.requestAnimationFrame,n=i.cancelAnimationFrame);const r=e(s=>{n=void 0,t(s)});return new rs.yU(()=>n?.(r))},requestAnimationFrame(...t){const{delegate:e}=Q_;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:e}=Q_;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};new class uU extends Em{flush(e){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===n&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===n&&i.shift();)e.unsubscribe();throw r}}}(class u2 extends V_{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,i=0){return null!==i&&i>0?super.requestAsyncId(e,n,i):(e.actions.push(this),e._scheduled||(e._scheduled=Q_.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,n,i);const{actions:s}=e;null!=n&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==n&&(Q_.cancelAnimationFrame(n),e._scheduled=void 0)}});let ew,z0=1;const tw={};function ZD(t){return t in tw&&(delete tw[t],!0)}const h2={setImmediate(t){const e=z0++;return tw[e]=!0,ew||(ew=Promise.resolve()),ew.then(()=>ZD(e)&&t()),e},clearImmediate(t){ZD(t)}},{setImmediate:f2,clearImmediate:p2}=h2,nw={setImmediate(...t){const{delegate:e}=nw;return(e?.setImmediate||f2)(...t)},clearImmediate(t){const{delegate:e}=nw;return(e?.clearImmediate||p2)(t)},delegate:void 0};new class fU extends Em{flush(e){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===n&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===n&&i.shift();)e.unsubscribe();throw r}}}(class g2 extends V_{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,i=0){return null!==i&&i>0?super.requestAsyncId(e,n,i):(e.actions.push(this),e._scheduled||(e._scheduled=nw.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,n,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,n,i);const{actions:s}=e;null!=n&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==n&&(nw.clearImmediate(n),e._scheduled===n&&(e._scheduled=void 0))}});function j0(t,e=_0){return function ex(t){return(0,Pr.N)((e,n)=>{let i=!1,r=null,s=null,o=!1;const c=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const p=r;r=null,n.next(p)}o&&n.complete()},d=()=>{s=null,o&&n.complete()};e.subscribe((0,Oi._)(n,p=>{i=!0,r=p,s||vo(t(p)).subscribe(s=(0,Oi._)(n,c,d))},()=>{o=!0,(!i||!s||s.closed)&&n.complete()}))})}(()=>function v2(t=0,e,n=v4){let i=-1;return null!=e&&(r_(e)?n=e:i=e),new Bn.c(r=>{let s=function tx(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(t,e))}let C2=(()=>{class t{constructor(n,i,r){this._ngZone=n,this._platform=i,this._scrolled=new K.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){const i=this.scrollContainers.get(n);i&&(i.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=20){return this._platform.isBrowser?new Bn.c(i=>{this._globalSubscription||this._addGlobalListener();const r=n>0?this._scrolled.pipe(j0(n)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Fn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(n,i){const r=this.getAncestorScrollContainers(n);return this.scrolled(i).pipe(It(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(n){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,n)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,i){let r=Im(i),s=n.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>W0(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(h.SKi),h.KVO(Fo),h.KVO(He,8))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),iw=(()=>{class t{constructor(n,i,r){this._platform=n,this._change=new K.B,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(n.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+r,right:n.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,i=this._getWindow(),r=n.documentElement,s=r.getBoundingClientRect();return{top:-s.top||n.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||n.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(n=20){return n>0?this._change.pipe(j0(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(Fo),h.KVO(h.SKi),h.KVO(He,8))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),q0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h.$C({type:t})}static{this.\u0275inj=h.G2t({})}}return t})(),Lm=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h.$C({type:t})}static{this.\u0275inj=h.G2t({imports:[Db,q0,Db,q0]})}}return t})();class w2{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class CU extends w2{constructor(e,n,i,r,s){super(),this.component=e,this.viewContainerRef=n,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class nx extends w2{constructor(e,n,i,r){super(),this.templateRef=e,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class bU extends w2{constructor(e){super(),this.element=e instanceof h.aKT?e.nativeElement:e}}class wU{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof CU?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof nx?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof bU?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class EU extends wU{constructor(e,n,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=n,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const c=o.element,d=this._document.createComment("dom-portal");c.parentNode.insertBefore(d,c),this.outletElement.appendChild(c),this._attachedPortal=o,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||h.zZn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let n=e.viewContainerRef,i=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);-1!==r&&n.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let J_=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h.$C({type:t})}static{this.\u0275inj=h.G2t({})}}return t})();const E2=Lo();class Aee{constructor(e,n){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ko(-this._previousScrollPosition.left),e.style.top=ko(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),E2&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),E2&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const n=this._document.body,i=this._viewportRuler.getViewportSize();return n.scrollHeight>i.height||n.scrollWidth>i.width}}class rw{constructor(e,n,i,r){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(It(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class S2{enable(){}disable(){}attach(){}}function sw(t,e){return e.some(n=>t.bottom<n.top||t.top>n.bottom||t.right<n.left||t.left>n.right)}function I2(t,e){return e.some(n=>t.top<n.top||t.bottom>n.bottom||t.left<n.left||t.right>n.right)}class T2{constructor(e,n,i,r){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();sw(n,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let IU=(()=>{class t{constructor(n,i,r,s){this._scrollDispatcher=n,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new S2,this.close=o=>new rw(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Aee(this._viewportRuler,this._document),this.reposition=o=>new T2(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(C2),h.KVO(iw),h.KVO(h.SKi),h.KVO(He))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class A2{constructor(e){if(this.scrollStrategy=new S2,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const n=Object.keys(e);for(const i of n)void 0!==e[i]&&(this[i]=e[i])}}}class D2{constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}}let Y0=(()=>{class t{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){const i=this._attachedOverlays.indexOf(n);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(He))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xee=(()=>{class t extends Y0{constructor(n,i){super(n),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const c=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(r)):c.next(r);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(He),h.KVO(h.SKi,8))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),x2=(()=>{class t extends Y0{constructor(n,i,r){super(n),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Xd(s)},this._clickListener=s=>{const o=Xd(s),c="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const d=this._attachedOverlays.slice();for(let p=d.length-1;p>-1;p--){const m=d[p];if(m._outsidePointerEvents.observers.length<1||!m.hasAttached())continue;if(m.overlayElement.contains(o)||m.overlayElement.contains(c))break;const y=m._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>y.next(s)):y.next(s)}}}add(n){if(super.add(n),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(He),h.KVO(Fo),h.KVO(h.SKi,8))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),P2=(()=>{class t{constructor(n,i){this._platform=i,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n="cdk-overlay-container";if(this._platform.isBrowser||c0()){const r=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(n),c0()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(He),h.KVO(Fo))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class M2{constructor(e,n,i,r,s,o,c,d,p,m=!1){this._portalOutlet=e,this._host=n,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=c,this._location=d,this._outsideClickDispatcher=p,this._animationsDisabled=m,this._backdropElement=null,this._backdropClick=new K.B,this._attachments=new K.B,this._detachments=new K.B,this._locationChanges=rs.yU.EMPTY,this._backdropClickHandler=y=>this._backdropClick.next(y),this._backdropTransitionendHandler=y=>{this._disposeBackdrop(y.target)},this._keydownEvents=new K.B,this._outsidePointerEvents=new K.B,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Me(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof n?.onDestroy&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ko(this._config.width),e.height=ko(this._config.height),e.minWidth=ko(this._config.minWidth),e.minHeight=ko(this._config.minHeight),e.maxWidth=ko(this._config.maxWidth),e.maxHeight=ko(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,n,i){const r=Sb(n||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(_r(Dp(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const km="cdk-overlay-connected-position-bounding-box",TU=/([A-Za-z%]+)$/;class N2{get positions(){return this._preferredPositions}constructor(e,n,i,r,s){this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new K.B,this._resizeSubscription=rs.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(km),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,n=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let o;for(let c of this._preferredPositions){let d=this._getOriginPoint(e,r,c),p=this._getOverlayPoint(d,n,c),m=this._getOverlayFit(p,n,i,c);if(m.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,d);this._canFitWithFlexibleDimensions(m,p,i)?s.push({position:c,origin:d,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(d,c)}):(!o||o.overlayFit.visibleArea<m.visibleArea)&&(o={overlayFit:m,overlayPoint:p,originPoint:d,position:c,overlayRect:n})}if(s.length){let c=null,d=-1;for(const p of s){const m=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);m>d&&(d=m,c=p)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&df(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(km),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,c=this._isRtl()?e.left:e.right;r="start"==i.originX?o:c}return n.left<0&&(r-=n.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,n.top<0&&(s-=n.top),{x:r,y:s}}_getOverlayPoint(e,n,i){let r,s;return r="center"==i.overlayX?-n.width/2:"start"===i.overlayX?this._isRtl()?-n.width:0:this._isRtl()?0:-n.width,s="center"==i.overlayY?-n.height/2:"top"==i.overlayY?0:-n.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,n,i,r){const s=O2(n);let{x:o,y:c}=e,d=this._getOffset(r,"x"),p=this._getOffset(r,"y");d&&(o+=d),p&&(c+=p);let A=0-c,k=c+s.height-i.height,U=this._subtractOverflows(s.width,0-o,o+s.width-i.width),X=this._subtractOverflows(s.height,A,k),Q=U*X;return{visibleArea:Q,isCompletelyWithinViewport:s.width*s.height===Q,fitsInViewportVertically:X===s.height,fitsInViewportHorizontally:U==s.width}}_canFitWithFlexibleDimensions(e,n,i){if(this._hasFlexibleDimensions){const r=i.bottom-n.y,s=i.right-n.x,o=AU(this._overlayRef.getConfig().minHeight),c=AU(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=r)&&(e.fitsInViewportHorizontally||null!=c&&c<=s)}return!1}_pushOverlayOnScreen(e,n,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=O2(n),s=this._viewportRect,o=Math.max(e.x+r.width-s.width,0),c=Math.max(e.y+r.height-s.height,0),d=Math.max(s.top-i.top-e.y,0),p=Math.max(s.left-i.left-e.x,0);let m=0,y=0;return m=r.width<=s.width?p||-o:e.x<this._viewportMargin?s.left-i.left-e.x:0,y=r.height<=s.height?d||-c:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:m,y},{x:e.x+m,y:e.y+y}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!function RU(t,e){return t===e||t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}(this._lastScrollVisibility,i)){const r=new D2(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const n=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<n.length;s++)n[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,n){const i=this._viewportRect,r=this._isRtl();let s,o,c,m,y,A;if("top"===n.overlayY)o=e.y,s=i.height-o+this._viewportMargin;else if("bottom"===n.overlayY)c=i.height-e.y+2*this._viewportMargin,s=i.height-c+this._viewportMargin;else{const k=Math.min(i.bottom-e.y+i.top,e.y),U=this._lastBoundingBoxSize.height;s=2*k,o=e.y-k,s>U&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-U/2)}if("end"===n.overlayX&&!r||"start"===n.overlayX&&r)A=i.width-e.x+2*this._viewportMargin,m=e.x-this._viewportMargin;else if("start"===n.overlayX&&!r||"end"===n.overlayX&&r)y=e.x,m=i.right-e.x;else{const k=Math.min(i.right-e.x+i.left,e.x),U=this._lastBoundingBoxSize.width;m=2*k,y=e.x-k,m>U&&!this._isInitialRender&&!this._growAfterOpen&&(y=e.x-U/2)}return{top:o,left:y,bottom:c,right:A,width:m,height:s}}_setBoundingBoxStyles(e,n){const i=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=ko(i.height),r.top=ko(i.top),r.bottom=ko(i.bottom),r.width=ko(i.width),r.left=ko(i.left),r.right=ko(i.right),r.alignItems="center"===n.overlayX?"center":"end"===n.overlayX?"flex-end":"flex-start",r.justifyContent="center"===n.overlayY?"center":"bottom"===n.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=ko(s)),o&&(r.maxWidth=ko(o))}this._lastBoundingBoxSize=i,df(this._boundingBox.style,r)}_resetBoundingBoxStyles(){df(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){df(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const m=this._viewportRuler.getViewportScrollPosition();df(i,this._getExactOverlayY(n,e,m)),df(i,this._getExactOverlayX(n,e,m))}else i.position="static";let c="",d=this._getOffset(n,"x"),p=this._getOffset(n,"y");d&&(c+=`translateX(${d}px) `),p&&(c+=`translateY(${p}px)`),i.transform=c.trim(),o.maxHeight&&(r?i.maxHeight=ko(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=ko(o.maxWidth):s&&(i.maxWidth="")),df(this._pane.style,i)}_getExactOverlayY(e,n,i){let r={top:"",bottom:""},s=this._getOverlayPoint(n,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=ko(s.y),r}_getExactOverlayX(e,n,i){let o,r={left:"",right:""},s=this._getOverlayPoint(n,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=ko(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:I2(e,i),isOriginOutsideView:sw(e,i),isOverlayClipped:I2(n,i),isOverlayOutsideView:sw(n,i)}}_subtractOverflows(e,...n){return n.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return"x"===n?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Sb(e).forEach(n=>{""!==n&&-1===this._appliedPanelClasses.indexOf(n)&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof h.aKT)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const n=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+n,height:i,width:n}}}function df(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function AU(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(TU);return n&&"px"!==n?null:parseFloat(e)}return t||null}function O2(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const rx="cdk-global-overlay-wrapper";class xU{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(rx),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:c}=i,d=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),p=!("100%"!==s&&"100vh"!==s||c&&"100%"!==c&&"100vh"!==c),m=this._xPosition,y=this._xOffset,A="rtl"===this._overlayRef.getConfig().direction;let k="",U="",X="";d?X="flex-start":"center"===m?(X="center",A?U=y:k=y):A?"left"===m||"end"===m?(X="flex-end",k=y):("right"===m||"start"===m)&&(X="flex-start",U=y):"left"===m||"start"===m?(X="flex-start",k=y):("right"===m||"end"===m)&&(X="flex-end",U=y),e.position=this._cssPosition,e.marginLeft=d?"0":k,e.marginTop=p?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=d?"0":U,n.justifyContent=X,n.alignItems=p?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,i=n.style;n.classList.remove(rx),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let F2=(()=>{class t{constructor(n,i,r,s){this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new xU}flexibleConnectedTo(n){return new N2(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(iw),h.KVO(He),h.KVO(Fo),h.KVO(P2))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),L2=0,hf=(()=>{class t{constructor(n,i,r,s,o,c,d,p,m,y,A,k){this.scrollStrategies=n,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=c,this._ngZone=d,this._document=p,this._directionality=m,this._location=y,this._outsideClickDispatcher=A,this._animationsModuleType=k}create(n){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new A2(n);return o.direction=o.direction||this._directionality.value,new M2(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(n){const i=this._document.createElement("div");return i.id="cdk-overlay-"+L2++,i.classList.add("cdk-overlay-pane"),n.appendChild(i),i}_createHostElement(){const n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(h.o8S)),new EU(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(IU),h.KVO(P2),h.KVO(h.OM3),h.KVO(F2),h.KVO(xee),h.KVO(h.zZn),h.KVO(h.SKi),h.KVO(He),h.KVO(W_),h.KVO(Ae),h.KVO(x2),h.KVO(h.bc$,8))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const PU=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],sx=new h.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const t=(0,h.WQX)(hf);return()=>t.scrollStrategies.reposition()}});let X0=(()=>{class t{constructor(n){this.elementRef=n}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.aKT))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}}return t})(),ox=(()=>{class t{get offsetX(){return this._offsetX}set offsetX(n){this._offsetX=n,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(n){this._offsetY=n,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(n){this._disposeOnNavigation=n}constructor(n,i,r,s,o){this._overlay=n,this._dir=o,this._backdropSubscription=rs.yU.EMPTY,this._attachSubscription=rs.yU.EMPTY,this._detachSubscription=rs.yU.EMPTY,this._positionSubscription=rs.yU.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,h.WQX)(h.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new h.bkB,this.positionChange=new h.bkB,this.attach=new h.bkB,this.detach=new h.bkB,this.overlayKeydown=new h.bkB,this.overlayOutsideClick=new h.bkB,this._templatePortal=new nx(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(n){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),n.origin&&this.open&&this._position.apply()),n.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=PU);const n=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=n.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=n.detachments().subscribe(()=>this.detach.emit()),n.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!wm(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{const r=this._getOriginElement(),s=Xd(i);(!r||r!==s&&!r.contains(s))&&this.overlayOutsideClick.next(i)})}_buildConfig(){const n=this._position=this.positionStrategy||this._createPositionStrategy(),i=new A2({direction:this._dir,positionStrategy:n,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(n){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return n.setOrigin(this._getOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const n=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(n),n}_getOrigin(){return this.origin instanceof X0?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof X0?this.origin.elementRef.nativeElement:this.origin instanceof h.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(n=>{this.backdropClick.emit(n)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function b2(t,e=!1){return(0,Pr.N)((n,i)=>{let r=0;n.subscribe((0,Oi._)(i,s=>{const o=t(s,r++);(o||e)&&i.next(s),!o&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(n=>{this._ngZone.run(()=>this.positionChange.emit(n)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(hf),h.rXU(h.C4Q),h.rXU(h.c1b),h.rXU(sx),h.rXU(W_,8))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[h.Mj6.None,"cdkConnectedOverlayOrigin","origin"],positions:[h.Mj6.None,"cdkConnectedOverlayPositions","positions"],positionStrategy:[h.Mj6.None,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[h.Mj6.None,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[h.Mj6.None,"cdkConnectedOverlayOffsetY","offsetY"],width:[h.Mj6.None,"cdkConnectedOverlayWidth","width"],height:[h.Mj6.None,"cdkConnectedOverlayHeight","height"],minWidth:[h.Mj6.None,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[h.Mj6.None,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[h.Mj6.None,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[h.Mj6.None,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[h.Mj6.None,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[h.Mj6.None,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[h.Mj6.None,"cdkConnectedOverlayOpen","open"],disableClose:[h.Mj6.None,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[h.Mj6.None,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[h.Mj6.HasDecoratorInputTransform,"cdkConnectedOverlayHasBackdrop","hasBackdrop",h.L39],lockPosition:[h.Mj6.HasDecoratorInputTransform,"cdkConnectedOverlayLockPosition","lockPosition",h.L39],flexibleDimensions:[h.Mj6.HasDecoratorInputTransform,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",h.L39],growAfterOpen:[h.Mj6.HasDecoratorInputTransform,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",h.L39],push:[h.Mj6.HasDecoratorInputTransform,"cdkConnectedOverlayPush","push",h.L39],disposeOnNavigation:[h.Mj6.HasDecoratorInputTransform,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",h.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[h.GFd,h.OA$]})}}return t})();const V2={provide:sx,deps:[hf],useFactory:function k2(t){return()=>t.scrollStrategies.reposition()}};let ax=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h.$C({type:t})}static{this.\u0275inj=h.G2t({providers:[hf,V2],imports:[Db,J_,Lm,Lm]})}}return t})();class G2{}function B2(t){return t&&"function"==typeof t.connect&&!(t instanceof M)}var Np=function(t){return t[t.REPLACED=0]="REPLACED",t[t.INSERTED=1]="INSERTED",t[t.MOVED=2]="MOVED",t[t.REMOVED=3]="REMOVED",t}(Np||{});const Q0=new h.nKC("_ViewRepeater");class NU{applyChanges(e,n,i,r,s){e.forEachOperation((o,c,d)=>{let p,m;if(null==o.previousIndex){const y=i(o,c,d);p=n.createEmbeddedView(y.templateRef,y.context,y.index),m=Np.INSERTED}else null==d?(n.remove(c),m=Np.REMOVED):(p=n.get(c),n.move(p,d),m=Np.MOVED);s&&s({context:p?.context,operation:m,record:o})})}detach(){}}class Nee{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,n,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new K.B,n&&n.length&&(e?n.forEach(s=>this._markSelected(s)):this._markSelected(n[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const n=this._hasQueuedChanges();return this._emitChangeEvent(),n}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const n=this._hasQueuedChanges();return this._emitChangeEvent(),n}setSelection(...e){this._verifyValueAssignment(e);const n=this.selected,i=new Set(e);e.forEach(s=>this._markSelected(s)),n.filter(s=>!i.has(this._getConcreteValue(s,i))).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const n=this._hasQueuedChanges();return e&&this._emitChangeEvent(),n}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e,n){if(this.compareWith){n=n??this._selection;for(let i of n)if(this.compareWith(e,i))return i;return e}return e}}const Oee=["trigger"],H2=["panel"],FU=[[["mat-select-trigger"]],"*"],U2=["mat-select-trigger","*"];function LU(t,e){if(1&t&&(h.j41(0,"span",4),h.EFF(1),h.k0s()),2&t){const n=h.XpG();h.R7$(),h.JRh(n.placeholder)}}function ow(t,e){1&t&&h.SdG(0)}function J0(t,e){if(1&t&&(h.j41(0,"span",11),h.EFF(1),h.k0s()),2&t){const n=h.XpG(2);h.R7$(),h.JRh(n.triggerValue)}}function kU(t,e){if(1&t&&(h.j41(0,"span",10),h.DNE(1,ow,1,0)(2,J0,2,1),h.k0s()),2&t){const n=h.XpG();h.R7$(),h.vxM(1,n.customTrigger?1:2)}}function VU(t,e){if(1&t){const n=h.RV6();h.j41(0,"div",12,1),h.bIt("@transformPanel.done",function(r){h.eBV(n);const s=h.XpG();return h.Njj(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){h.eBV(n);const s=h.XpG();return h.Njj(s._handleKeydown(r))}),h.SdG(2,1),h.k0s()}if(2&t){const n=h.XpG();h.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",n._getPanelTheme(),""),h.Y8G("ngClass",n.panelClass)("@transformPanel","showing"),h.BMQ("id",n.id+"-panel")("aria-multiselectable",n.multiple)("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby())}}const GU={transformPanelWrap:(0,es.hZ)("transformPanelWrap",[(0,es.kY)("* => void",(0,es.P)("@transformPanel",[(0,es.MA)()],{optional:!0}))]),transformPanel:(0,es.hZ)("transformPanel",[(0,es.wk)("void",(0,es.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,es.kY)("void => showing",(0,es.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,es.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,es.kY)("* => void",(0,es.i0)("100ms linear",(0,es.iF)({opacity:0})))])};let W2=0;const lx=new h.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const t=(0,h.WQX)(hf);return()=>t.scrollStrategies.reposition()}}),HU=new h.nKC("MAT_SELECT_CONFIG"),UU={provide:lx,deps:[hf],useFactory:function BU(t){return()=>t.scrollStrategies.reposition()}},WU=new h.nKC("MatSelectTrigger");class zU{constructor(e,n){this.source=e,this.value=n}}let jU=(()=>{class t{_scrollOptionIntoView(n){const i=this.options.toArray()[n];if(i){const r=this.panel.nativeElement,s=function X4(t,e,n){if(n.length){let i=e.toArray(),r=n.toArray(),s=0;for(let o=0;o<t+1;o++)i[o].group&&i[o].group===r[s]&&s++;return s}return 0}(n,this.options,this.optionGroups),o=i._getHostElement();r.scrollTop=0===n&&1===s?0:function Q4(t,e,n,i){return t<n?t:t+e>n+i?Math.max(0,t-i+e):n}(o.offsetTop,o.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(n){return new zU(this,n)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(n){this._hideSingleSelectionIndicator=n,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(n){this._placeholder=n,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Ta.required)??!1}set required(n){this._required=n,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(n){this._multiple=n}get compareWith(){return this._compareWith}set compareWith(n){this._compareWith=n,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(n){this._assignValue(n)&&this._onChange(n)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(n){this._errorStateTracker.matcher=n}get id(){return this._id}set id(n){this._id=n||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(n){this._errorStateTracker.errorState=n}constructor(n,i,r,s,o,c,d,p,m,y,A,k,U,X){this._viewportRuler=n,this._changeDetectorRef=i,this._elementRef=o,this._dir=c,this._parentFormField=m,this.ngControl=y,this._liveAnnouncer=U,this._defaultOptions=X,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(Q,pe)=>Q===pe,this._uid="mat-select-"+W2++,this._triggerAriaLabelledBy=null,this._destroy=new K.B,this.stateChanges=new K.B,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+W2++,this._panelDoneAnimatingStream=new K.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new K.B,this.optionSelectionChanges=Ll(()=>{const Q=this.options;return Q?Q.changes.pipe(rt(Q),ve(()=>Dp(...Q.map(pe=>pe.onSelectionChange)))):this._initialized.pipe(ve(()=>this.optionSelectionChanges))}),this.openedChange=new h.bkB,this._openedStream=this.openedChange.pipe(It(Q=>Q),(0,ti.T)(()=>{})),this._closedStream=this.openedChange.pipe(It(Q=>!Q),(0,ti.T)(()=>{})),this.selectionChange=new h.bkB,this.valueChange=new h.bkB,this._trackedModal=null,this._skipPredicate=Q=>!this.panelOpen&&Q.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=X?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=X.typeaheadDebounceInterval),this._errorStateTracker=new T0(s,y,p,d,this.stateChanges),this._scrollStrategyFactory=k,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(A)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Nee(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe($R(),_r(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(_r(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(_r(this._destroy)).subscribe(n=>{n.added.forEach(i=>i.select()),n.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(rt(null),_r(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const n=this._getTriggerAriaLabelledby(),i=this.ngControl;if(n!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=n,n?r.setAttribute("aria-labelledby",n):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(n){(n.disabled||n.userAriaDescribedBy)&&this.stateChanges.next(),n.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const n=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!n)return;const i=`${this.id}-panel`;this._trackedModal&&KO(this._trackedModal,"aria-owns",i),Tm(n,"aria-owns",i),this._trackedModal=n}_clearFromModal(){this._trackedModal&&(KO(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(n){this._assignValue(n)}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const n=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&n.reverse(),n.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(n){this.disabled||(this.panelOpen?this._handleOpenKeydown(n):this._handleClosedKeydown(n))}_handleClosedKeydown(n){const i=n.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,o=this._keyManager;if(!o.isTyping()&&s&&!wm(n)||(this.multiple||n.altKey)&&r)n.preventDefault(),this.open();else if(!this.multiple){const c=this.selected;o.onKeydown(n);const d=this.selected;d&&c!==d&&this._liveAnnouncer.announce(d.viewValue,1e4)}}_handleOpenKeydown(n){const i=this._keyManager,r=n.keyCode,s=40===r||38===r,o=i.isTyping();if(s&&n.altKey)n.preventDefault(),this.close();else if(o||13!==r&&32!==r||!i.activeItem||wm(n))if(!o&&this._multiple&&65===r&&n.ctrlKey){n.preventDefault();const c=this.options.some(d=>!d.disabled&&!d.selected);this.options.forEach(d=>{d.disabled||(c?d.select():d.deselect())})}else{const c=i.activeItemIndex;i.onKeydown(n),this._multiple&&s&&n.shiftKey&&i.activeItem&&i.activeItemIndex!==c&&i.activeItem._selectViaInteraction()}else n.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Me(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(n){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&n)Array.isArray(n),n.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(n);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(n){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,n)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(n){return!!(n!==this._value||this._multiple&&Array.isArray(n))&&(this.options&&this._setSelectionByValue(n),this._value=n,!0)}_getOverlayWidth(n){return"auto"===this.panelWidth?(n instanceof X0?n.elementRef:n||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const n of this.options)n._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new C0(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const n=Dp(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(_r(n)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Dp(...this.options.map(i=>i._stateChanges)).pipe(_r(n)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(n,i){const r=this._selectionModel.isSelected(n);null!=n.value||this._multiple?(r!==n.selected&&(n.selected?this._selectionModel.select(n):this._selectionModel.deselect(n)),i&&this._keyManager.setActiveItem(n),this.multiple&&(this._sortValues(),i&&this.focus())):(n.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(n.value)),r!==this._selectionModel.isSelected(n)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const n=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,n):n.indexOf(i)-n.indexOf(r)),this.stateChanges.next()}}_propagateChanges(n){let i;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:n,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let n=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){n=i;break}this._keyManager.setActiveItem(n)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(n){this._elementRef.nativeElement.focus(n)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const n=this._parentFormField?.getLabelId();return this.ariaLabelledby?(n?n+" ":"")+this.ariaLabelledby:n}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const n=this._parentFormField?.getLabelId();let i=(n?n+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(n){this.openedChange.emit(n)}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(iw),h.rXU(h.gRc),h.rXU(h.SKi),h.rXU(xm),h.rXU(h.aKT),h.rXU(W_,8),h.rXU(ef,8),h.rXU(x_,8),h.rXU(Ub,8),h.rXU(od,10),h.kS0("tabindex"),h.rXU(lx),h.rXU(N4),h.rXU(HU,8))}}static{this.\u0275cmp=h.VBU({type:t,selectors:[["mat-select"]],contentQueries:function(i,r,s){if(1&i&&(h.wni(s,WU,5),h.wni(s,Y4,5),h.wni(s,D0,5)),2&i){let o;h.mGM(o=h.lsd())&&(r.customTrigger=o.first),h.mGM(o=h.lsd())&&(r.options=o),h.mGM(o=h.lsd())&&(r.optionGroups=o)}},viewQuery:function(i,r){if(1&i&&(h.GBs(Oee,5),h.GBs(H2,5),h.GBs(ox,5)),2&i){let s;h.mGM(s=h.lsd())&&(r.trigger=s.first),h.mGM(s=h.lsd())&&(r.panel=s.first),h.mGM(s=h.lsd())&&(r._overlayDir=s.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&h.bIt("keydown",function(o){return r._handleKeydown(o)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(h.BMQ("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),h.AVh("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[h.Mj6.None,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[h.Mj6.HasDecoratorInputTransform,"disabled","disabled",h.L39],disableRipple:[h.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",h.L39],tabIndex:[h.Mj6.HasDecoratorInputTransform,"tabIndex","tabIndex",n=>null==n?0:(0,h.Udg)(n)],hideSingleSelectionIndicator:[h.Mj6.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",h.L39],placeholder:"placeholder",required:[h.Mj6.HasDecoratorInputTransform,"required","required",h.L39],multiple:[h.Mj6.HasDecoratorInputTransform,"multiple","multiple",h.L39],disableOptionCentering:[h.Mj6.HasDecoratorInputTransform,"disableOptionCentering","disableOptionCentering",h.L39],compareWith:"compareWith",value:"value",ariaLabel:[h.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[h.Mj6.None,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[h.Mj6.HasDecoratorInputTransform,"typeaheadDebounceInterval","typeaheadDebounceInterval",h.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[h.Jv_([{provide:PD,useExisting:t},{provide:R0,useExisting:t}]),h.GFd,h.OA$,h.aNF],ngContentSelectors:U2,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,r){if(1&i){const s=h.RV6();h.NAR(FU),h.j41(0,"div",2,0),h.bIt("click",function(){return h.eBV(s),h.Njj(r.open())}),h.j41(3,"div",3),h.DNE(4,LU,2,1,"span",4)(5,kU,3,1),h.k0s(),h.j41(6,"div",5)(7,"div",6),h.qSk(),h.j41(8,"svg",7),h.nrm(9,"path",8),h.k0s()()()(),h.DNE(10,VU,3,9,"ng-template",9),h.bIt("backdropClick",function(){return h.eBV(s),h.Njj(r.close())})("attach",function(){return h.eBV(s),h.Njj(r._onAttached())})("detach",function(){return h.eBV(s),h.Njj(r.close())})}if(2&i){const s=h.sdS(1);h.R7$(3),h.BMQ("id",r._valueId),h.R7$(),h.vxM(4,r.empty?4:5),h.R7$(6),h.Y8G("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[X0,ox,Vi],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[GU.transformPanel]},changeDetection:0})}}return t})(),$U=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h.$C({type:t})}static{this.\u0275inj=h.G2t({providers:[UU],imports:[tl,ax,pD,Go,q0,Wb,pD,Go]})}}return t})();const qU=[[["caption"]],[["colgroup"],["col"]],"*"],KU=["caption","colgroup, col","*"];function YU(t,e){1&t&&h.SdG(0,2)}function XU(t,e){1&t&&(h.j41(0,"thead",0),h.eu8(1,1),h.k0s(),h.j41(2,"tbody",0),h.eu8(3,2)(4,3),h.k0s(),h.j41(5,"tfoot",0),h.eu8(6,4),h.k0s())}function QU(t,e){1&t&&h.eu8(0,1)(1,2)(2,3)(3,4)}const th=new h.nKC("CDK_TABLE");let Vm=(()=>{class t{constructor(n){this.template=n}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.C4Q))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","cdkCellDef",""]],standalone:!0})}}return t})(),Z_=(()=>{class t{constructor(n){this.template=n}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.C4Q))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}}return t})(),aw=(()=>{class t{constructor(n){this.template=n}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.C4Q))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}}return t})(),Op=(()=>{class t{get name(){return this._name}set name(n){this._setNameInput(n)}get sticky(){return this._sticky}set sticky(n){n!==this._sticky&&(this._sticky=n,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(n){n!==this._stickyEnd&&(this._stickyEnd=n,this._hasStickyChanged=!0)}constructor(n){this._table=n,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){const n=this._hasStickyChanged;return this.resetStickyChanged(),n}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(n){n&&(this._name=n,this.cssClassFriendlyName=n.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(th,8))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(i,r,s){if(1&i&&(h.wni(s,Vm,5),h.wni(s,Z_,5),h.wni(s,aw,5)),2&i){let o;h.mGM(o=h.lsd())&&(r.cell=o.first),h.mGM(o=h.lsd())&&(r.headerCell=o.first),h.mGM(o=h.lsd())&&(r.footerCell=o.first)}},inputs:{name:[h.Mj6.None,"cdkColumnDef","name"],sticky:[h.Mj6.HasDecoratorInputTransform,"sticky","sticky",h.L39],stickyEnd:[h.Mj6.HasDecoratorInputTransform,"stickyEnd","stickyEnd",h.L39]},standalone:!0,features:[h.Jv_([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),h.GFd]})}}return t})();class ux{constructor(e,n){n.nativeElement.classList.add(...e._columnCssClassName)}}let Z0=(()=>{class t extends ux{constructor(n,i){super(n,i)}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(Op),h.rXU(h.aKT))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[h.Vt3]})}}return t})(),hx=(()=>{class t extends ux{constructor(n,i){super(n,i);const r=n._table?._getCellRole();r&&i.nativeElement.setAttribute("role",r)}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(Op),h.rXU(h.aKT))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[h.Vt3]})}}return t})();class fx{constructor(){this.tasks=[],this.endTasks=[]}}const px=new h.nKC("_COALESCED_STYLE_SCHEDULER");let eI=(()=>{class t{constructor(n){this._ngZone=n,this._currentSchedule=null,this._destroyed=new K.B}schedule(n){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(n)}scheduleEnd(n){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(n)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new fx,this._getScheduleObservable().pipe(_r(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const n=this._currentSchedule;this._currentSchedule=new fx;for(const i of n.tasks)i();for(const i of n.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?Jr(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Me(1))}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(h.SKi))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac})}}return t})(),tI=(()=>{class t{constructor(n,i){this.template=n,this._differs=i}ngOnChanges(n){if(!this._columnsDiffer){const i=n.columns&&n.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(n){return this instanceof ey?n.headerCell.template:this instanceof Gm?n.footerCell.template:n.cell.template}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.C4Q),h.rXU(h._q3))}}static{this.\u0275dir=h.FsC({type:t,features:[h.OA$]})}}return t})(),ey=(()=>{class t extends tI{get sticky(){return this._sticky}set sticky(n){n!==this._sticky&&(this._sticky=n,this._hasStickyChanged=!0)}constructor(n,i,r){super(n,i),this._table=r,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(n){super.ngOnChanges(n)}hasStickyChanged(){const n=this._hasStickyChanged;return this.resetStickyChanged(),n}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.C4Q),h.rXU(h._q3),h.rXU(th,8))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[h.Mj6.None,"cdkHeaderRowDef","columns"],sticky:[h.Mj6.HasDecoratorInputTransform,"cdkHeaderRowDefSticky","sticky",h.L39]},standalone:!0,features:[h.GFd,h.Vt3,h.OA$]})}}return t})(),Gm=(()=>{class t extends tI{get sticky(){return this._sticky}set sticky(n){n!==this._sticky&&(this._sticky=n,this._hasStickyChanged=!0)}constructor(n,i,r){super(n,i),this._table=r,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(n){super.ngOnChanges(n)}hasStickyChanged(){const n=this._hasStickyChanged;return this.resetStickyChanged(),n}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.C4Q),h.rXU(h._q3),h.rXU(th,8))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[h.Mj6.None,"cdkFooterRowDef","columns"],sticky:[h.Mj6.HasDecoratorInputTransform,"cdkFooterRowDefSticky","sticky",h.L39]},standalone:!0,features:[h.GFd,h.Vt3,h.OA$]})}}return t})(),ty=(()=>{class t extends tI{constructor(n,i,r){super(n,i),this._table=r}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.C4Q),h.rXU(h._q3),h.rXU(th,8))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:[h.Mj6.None,"cdkRowDefColumns","columns"],when:[h.Mj6.None,"cdkRowDefWhen","when"]},standalone:!0,features:[h.Vt3]})}}return t})(),Fp=(()=>{class t{static{this.mostRecentCellOutlet=null}constructor(n){this._viewContainer=n,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.c1b))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","cdkCellOutlet",""]],standalone:!0})}}return t})(),nI=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=h.VBU({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[h.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&h.eu8(0,0)},dependencies:[Fp],encapsulation:2})}}return t})(),$2=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=h.VBU({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[h.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&h.eu8(0,0)},dependencies:[Fp],encapsulation:2})}}return t})(),lw=(()=>{class t{constructor(n){this.templateRef=n,this._contentClassName="cdk-no-data-row"}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.C4Q))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}}return t})();const mx=["top","bottom","left","right"];class Lp{constructor(e,n,i,r,s=!0,o=!0,c){this._isNativeHtmlTable=e,this._stickCellCss=n,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=o,this._positionListener=c,this._cachedCellWidths=[],this._borderCellCss={top:`${n}-border-elem-top`,bottom:`${n}-border-elem-bottom`,left:`${n}-border-elem-left`,right:`${n}-border-elem-right`}}clearStickyPositioning(e,n){const i=[];for(const r of e)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,n)})}updateStickyColumns(e,n,i,r=!0){e.length&&this._isBrowser&&(n.some(s=>s)||i.some(s=>s))?this._coalescedStyleScheduler.schedule(()=>{const s=e[0],o=s.children.length,c=this._getCellWidths(s,r),d=this._getStickyStartColumnPositions(c,n),p=this._getStickyEndColumnPositions(c,i),m=n.lastIndexOf(!0),y=i.indexOf(!0),A="rtl"===this.direction,k=A?"right":"left",U=A?"left":"right";for(const X of e)for(let Q=0;Q<o;Q++){const pe=X.children[Q];n[Q]&&this._addStickyStyle(pe,k,d[Q],Q===m),i[Q]&&this._addStickyStyle(pe,U,p[Q],Q===y)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===m?[]:c.slice(0,m+1).map((X,Q)=>n[Q]?X:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===y?[]:c.slice(y).map((X,Q)=>i[Q+y]?X:null).reverse()}))}):this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}))}stickRows(e,n,i){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{const r="bottom"===i?e.slice().reverse():e,s="bottom"===i?n.slice().reverse():n,o=[],c=[],d=[];for(let m=0,y=0;m<r.length;m++){if(!s[m])continue;o[m]=y;const A=r[m];d[m]=this._isNativeHtmlTable?Array.from(A.children):[A];const k=A.getBoundingClientRect().height;y+=k,c[m]=k}const p=s.lastIndexOf(!0);for(let m=0;m<r.length;m++){if(!s[m])continue;const y=o[m],A=m===p;for(const k of d[m])this._addStickyStyle(k,i,y,A)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:c,offsets:o,elements:d}):this._positionListener?.stickyFooterRowsUpdated({sizes:c,offsets:o,elements:d})})}updateStickyFooterContainer(e,n){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{const i=e.querySelector("tfoot");i&&(n.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1))})}_removeStickyStyle(e,n){for(const r of n)e.style[r]="",e.classList.remove(this._borderCellCss[r]);mx.some(r=>-1===n.indexOf(r)&&e.style[r])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,n,i,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[n]),e.style[n]=`${i}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const n={top:100,bottom:10,left:1,right:1};let i=0;for(const r of mx)e.style[r]&&(i+=n[r]);return i?`${i}`:""}_getCellWidths(e,n=!0){if(!n&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=e.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(e,n){const i=[];let r=0;for(let s=0;s<e.length;s++)n[s]&&(i[s]=r,r+=e[s]);return i}_getStickyEndColumnPositions(e,n){const i=[];let r=0;for(let s=e.length;s>0;s--)n[s]&&(i[s]=r,r+=e[s]);return i}}const yx=new h.nKC("CDK_SPL");let Cx=(()=>{class t{constructor(n,i){this.viewContainer=n,this.elementRef=i;const r=(0,h.WQX)(th);r._rowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.c1b),h.rXU(h.aKT))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","rowOutlet",""]],standalone:!0})}}return t})(),iI=(()=>{class t{constructor(n,i){this.viewContainer=n,this.elementRef=i;const r=(0,h.WQX)(th);r._headerRowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.c1b),h.rXU(h.aKT))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","headerRowOutlet",""]],standalone:!0})}}return t})(),bx=(()=>{class t{constructor(n,i){this.viewContainer=n,this.elementRef=i;const r=(0,h.WQX)(th);r._footerRowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.c1b),h.rXU(h.aKT))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","footerRowOutlet",""]],standalone:!0})}}return t})(),K2=(()=>{class t{constructor(n,i){this.viewContainer=n,this.elementRef=i;const r=(0,h.WQX)(th);r._noDataRowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.c1b),h.rXU(h.aKT))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","noDataRowOutlet",""]],standalone:!0})}}return t})(),cw=(()=>{class t{_getCellRole(){if(void 0===this._cellRoleInternal){const n=this._elementRef.nativeElement.getAttribute("role"),i="grid"===n||"treegrid"===n?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&"cell"===i?null:i}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(n){this._trackByFn=n}get dataSource(){return this._dataSource}set dataSource(n){this._dataSource!==n&&this._switchDataSource(n)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(n){this._multiTemplateDataRows=n,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(n){this._fixedLayout=n,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(n,i,r,s,o,c,d,p,m,y,A,k){this._differs=n,this._changeDetectorRef=i,this._elementRef=r,this._dir=o,this._platform=d,this._viewRepeater=p,this._coalescedStyleScheduler=m,this._viewportRuler=y,this._stickyPositioningListener=A,this._ngZone=k,this._onDestroy=new K.B,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new h.bkB,this.viewChange=new Do.t({start:0,end:Number.MAX_VALUE}),s||r.nativeElement.setAttribute("role","table"),this._document=c,this._isServer=!d.isBrowser,this._isNativeHtmlTable="TABLE"===r.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((n,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(_r(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(n=>{n?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),B2(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const n=this._dataDiffer.diff(this._renderRows);if(!n)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(n,i,(r,s,o)=>this._getEmbeddedViewArgs(r.item,o),r=>r.item.data,r=>{r.operation===Np.INSERTED&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),n.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&h.SKi.isInAngularZone()?this._ngZone.onStable.pipe(Me(1),_r(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(n){this._customColumnDefs.add(n)}removeColumnDef(n){this._customColumnDefs.delete(n)}addRowDef(n){this._customRowDefs.add(n)}removeRowDef(n){this._customRowDefs.delete(n)}addHeaderRowDef(n){this._customHeaderRowDefs.add(n),this._headerRowDefChanged=!0}removeHeaderRowDef(n){this._customHeaderRowDefs.delete(n),this._headerRowDefChanged=!0}addFooterRowDef(n){this._customFooterRowDefs.add(n),this._footerRowDefChanged=!0}removeFooterRowDef(n){this._customFooterRowDefs.delete(n),this._footerRowDefChanged=!0}setNoDataRow(n){this._customNoDataRow=n}updateStickyHeaderRowStyles(){const n=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){const r=Y2(this._headerRowOutlet,"thead");r&&(r.style.display=n.length?"":"none")}const i=this._headerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(n,["top"]),this._stickyStyler.stickRows(n,i,"top"),this._headerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyFooterRowStyles(){const n=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){const r=Y2(this._footerRowOutlet,"tfoot");r&&(r.style.display=n.length?"":"none")}const i=this._footerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(n,["bottom"]),this._stickyStyler.stickRows(n,i,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,i),this._footerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyColumnStyles(){const n=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...n,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),n.forEach((s,o)=>{this._addStickyColumnStyles([s],this._headerRowDefs[o])}),this._rowDefs.forEach(s=>{const o=[];for(let c=0;c<i.length;c++)this._renderRows[c].rowDef===s&&o.push(i[c]);this._addStickyColumnStyles(o,s)}),r.forEach((s,o)=>{this._addStickyColumnStyles([s],this._footerRowDefs[o])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){const n=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const o=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let c=0;c<o.length;c++){let d=o[c];const p=this._cachedRenderRowsMap.get(d.data);p.has(d.rowDef)?p.get(d.rowDef).push(d):p.set(d.rowDef,[d]),n.push(d)}}return n}_getRenderRowsForData(n,i,r){return this._getRowDefs(n,i).map(o=>{const c=r&&r.has(o)?r.get(o):[];if(c.length){const d=c.shift();return d.dataIndex=i,d}return{data:n,rowDef:o,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),uw(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=uw(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=uw(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=uw(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const n=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=n[0]}_renderUpdatedColumns(){const n=(o,c)=>o||!!c.getColumnsDiff(),i=this._rowDefs.reduce(n,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(n,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(n,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(n){this._data=[],B2(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),n||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=n}_observeRenderChanges(){if(!this.dataSource)return;let n;B2(this.dataSource)?n=this.dataSource.connect(this):Fa(this.dataSource)?n=this.dataSource:Array.isArray(this.dataSource)&&(n=Fn(this.dataSource)),this._renderChangeSubscription=n.pipe(_r(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((n,i)=>this._renderRow(this._headerRowOutlet,n,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((n,i)=>this._renderRow(this._footerRowOutlet,n,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(n,i){const r=Array.from(i.columns||[]).map(c=>this._columnDefsByName.get(c)),s=r.map(c=>c.sticky),o=r.map(c=>c.stickyEnd);this._stickyStyler.updateStickyColumns(n,s,o,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(n){const i=[];for(let r=0;r<n.viewContainer.length;r++){const s=n.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(n,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,n));else{let s=this._rowDefs.find(o=>o.when&&o.when(i,n))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(n,i){return{templateRef:n.rowDef.template,context:{$implicit:n.data},index:i}}_renderRow(n,i,r,s={}){const o=n.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),o}_renderCellTemplateForItem(n,i){for(let r of this._getCellTemplates(n))Fp.mostRecentCellOutlet&&Fp.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const n=this._rowOutlet.viewContainer;for(let i=0,r=n.length;i<r;i++){const o=n.get(i).context;o.count=r,o.first=0===i,o.last=i===r-1,o.even=i%2==0,o.odd=!o.even,this.multiTemplateDataRows?(o.dataIndex=this._renderRows[i].dataIndex,o.renderIndex=i):o.index=this._renderRows[i].dataIndex}}_getCellTemplates(n){return n&&n.columns?Array.from(n.columns,i=>{const r=this._columnDefsByName.get(i);return n.extractCellTemplate(r)}):[]}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const n=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(n,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(n,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(n,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Lp(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Fn()).pipe(_r(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(n){return n.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const n=this._customNoDataRow||this._noDataRow;if(!n)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(n.templateRef),o=s.rootNodes[0];1===s.rootNodes.length&&o?.nodeType===this._document.ELEMENT_NODE&&(o.setAttribute("role","row"),o.classList.add(n._contentClassName))}else r.clear();this._isShowingNoDataRow=i,this._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h._q3),h.rXU(h.gRc),h.rXU(h.aKT),h.kS0("role"),h.rXU(W_,8),h.rXU(He),h.rXU(Fo),h.rXU(Q0),h.rXU(px),h.rXU(iw),h.rXU(yx,12),h.rXU(h.SKi,8))}}static{this.\u0275cmp=h.VBU({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(i,r,s){if(1&i&&(h.wni(s,lw,5),h.wni(s,Op,5),h.wni(s,ty,5),h.wni(s,ey,5),h.wni(s,Gm,5)),2&i){let o;h.mGM(o=h.lsd())&&(r._noDataRow=o.first),h.mGM(o=h.lsd())&&(r._contentColumnDefs=o),h.mGM(o=h.lsd())&&(r._contentRowDefs=o),h.mGM(o=h.lsd())&&(r._contentHeaderRowDefs=o),h.mGM(o=h.lsd())&&(r._contentFooterRowDefs=o)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(i,r){2&i&&h.AVh("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[h.Mj6.HasDecoratorInputTransform,"multiTemplateDataRows","multiTemplateDataRows",h.L39],fixedLayout:[h.Mj6.HasDecoratorInputTransform,"fixedLayout","fixedLayout",h.L39]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[h.Jv_([{provide:th,useExisting:t},{provide:Q0,useClass:NU},{provide:px,useClass:eI},{provide:yx,useValue:null}]),h.GFd,h.aNF],ngContentSelectors:KU,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,r){1&i&&(h.NAR(qU),h.SdG(0),h.SdG(1,1),h.DNE(2,YU,1,0)(3,XU,7,0)(4,QU,4,0)),2&i&&(h.R7$(2),h.vxM(2,r._isServer?2:-1),h.R7$(),h.vxM(3,r._isNativeHtmlTable?3:4))},dependencies:[iI,Cx,K2,bx],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}}return t})();function uw(t,e){return t.concat(Array.from(e))}function Y2(t,e){const n=e.toUpperCase();let i=t.viewContainer.element.nativeElement;for(;i;){const r=1===i.nodeType?i.nodeName:null;if(r===n)return i;if("TABLE"===r)break;i=i.parentNode}return null}let e6=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h.$C({type:t})}static{this.\u0275inj=h.G2t({imports:[Lm]})}}return t})();const $ee=[[["caption"]],[["colgroup"],["col"]],"*"],t6=["caption","colgroup, col","*"];function Ex(t,e){1&t&&h.SdG(0,2)}function Q2(t,e){1&t&&(h.j41(0,"thead",0),h.eu8(1,1),h.k0s(),h.j41(2,"tbody",2),h.eu8(3,3)(4,4),h.k0s(),h.j41(5,"tfoot",0),h.eu8(6,5),h.k0s())}function kp(t,e){1&t&&h.eu8(0,1)(1,3)(2,4)(3,5)}let Sx=(()=>{class t extends cw{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=h.xGo(t)))(r||t)}})()}static{this.\u0275cmp=h.VBU({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(i,r){2&i&&h.AVh("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[h.Jv_([{provide:cw,useExisting:t},{provide:th,useExisting:t},{provide:px,useClass:eI},{provide:Q0,useClass:NU},{provide:yx,useValue:null}]),h.Vt3,h.aNF],ngContentSelectors:t6,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,r){1&i&&(h.NAR($ee),h.SdG(0),h.SdG(1,1),h.DNE(2,Ex,1,0)(3,Q2,7,0)(4,kp,4,0)),2&i&&(h.R7$(2),h.vxM(2,r._isServer?2:-1),h.R7$(),h.vxM(3,r._isNativeHtmlTable?3:4))},dependencies:[iI,Cx,K2,bx],styles:[".mat-mdc-table-sticky{position:sticky !important}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}}return t})(),Ix=(()=>{class t extends Vm{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=h.xGo(t)))(r||t)}})()}static{this.\u0275dir=h.FsC({type:t,selectors:[["","matCellDef",""]],standalone:!0,features:[h.Jv_([{provide:Vm,useExisting:t}]),h.Vt3]})}}return t})(),dw=(()=>{class t extends Z_{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=h.xGo(t)))(r||t)}})()}static{this.\u0275dir=h.FsC({type:t,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[h.Jv_([{provide:Z_,useExisting:t}]),h.Vt3]})}}return t})(),Tx=(()=>{class t extends Op{get name(){return this._name}set name(n){this._setNameInput(n)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=h.xGo(t)))(r||t)}})()}static{this.\u0275dir=h.FsC({type:t,selectors:[["","matColumnDef",""]],inputs:{name:[h.Mj6.None,"matColumnDef","name"]},standalone:!0,features:[h.Jv_([{provide:Op,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),h.Vt3]})}}return t})(),rI=(()=>{class t extends Z0{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=h.xGo(t)))(r||t)}})()}static{this.\u0275dir=h.FsC({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[h.Vt3]})}}return t})(),Z2=(()=>{class t extends hx{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=h.xGo(t)))(r||t)}})()}static{this.\u0275dir=h.FsC({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[h.Vt3]})}}return t})(),i6=(()=>{class t extends ey{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=h.xGo(t)))(r||t)}})()}static{this.\u0275dir=h.FsC({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[h.Mj6.None,"matHeaderRowDef","columns"],sticky:[h.Mj6.HasDecoratorInputTransform,"matHeaderRowDefSticky","sticky",h.L39]},standalone:!0,features:[h.Jv_([{provide:ey,useExisting:t}]),h.GFd,h.Vt3]})}}return t})(),Ax=(()=>{class t extends ty{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=h.xGo(t)))(r||t)}})()}static{this.\u0275dir=h.FsC({type:t,selectors:[["","matRowDef",""]],inputs:{columns:[h.Mj6.None,"matRowDefColumns","columns"],when:[h.Mj6.None,"matRowDefWhen","when"]},standalone:!0,features:[h.Jv_([{provide:ty,useExisting:t}]),h.Vt3]})}}return t})(),tL=(()=>{class t extends nI{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=h.xGo(t)))(r||t)}})()}static{this.\u0275cmp=h.VBU({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[h.Jv_([{provide:nI,useExisting:t}]),h.Vt3,h.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&h.eu8(0,0)},dependencies:[Fp],encapsulation:2})}}return t})(),s6=(()=>{class t extends $2{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=h.xGo(t)))(r||t)}})()}static{this.\u0275cmp=h.VBU({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[h.Jv_([{provide:$2,useExisting:t}]),h.Vt3,h.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&h.eu8(0,0)},dependencies:[Fp],encapsulation:2})}}return t})(),Xee=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h.$C({type:t})}static{this.\u0275inj=h.G2t({imports:[Go,e6,Go]})}}return t})();class sI extends G2{get data(){return this._data.value}set data(e){e=Array.isArray(e)?e:[],this._data.next(e),this._renderChangesSubscription||this._filterData(e)}get filter(){return this._filter.value}set filter(e){this._filter.next(e),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(e){this._sort=e,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(e){this._paginator=e,this._updateChangeSubscription()}constructor(e=[]){super(),this._renderData=new Do.t([]),this._filter=new Do.t(""),this._internalPageChanges=new K.B,this._renderChangesSubscription=null,this.sortingDataAccessor=(n,i)=>{const r=n[i];if(Ip(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(n,i)=>{const r=i.active,s=i.direction;return r&&""!=s?n.sort((o,c)=>{let d=this.sortingDataAccessor(o,r),p=this.sortingDataAccessor(c,r);const m=typeof d,y=typeof p;m!==y&&("number"===m&&(d+=""),"number"===y&&(p+=""));let A=0;return null!=d&&null!=p?d>p?A=1:d<p&&(A=-1):null!=d?A=1:null!=p&&(A=-1),A*("asc"==s?1:-1)}):n},this.filterPredicate=(n,i)=>{const r=Object.keys(n).reduce((o,c)=>o+n[c]+"\u25ec","").toLowerCase(),s=i.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new Do.t(e),this._updateChangeSubscription()}_updateChangeSubscription(){const e=this._sort?Dp(this._sort.sortChange,this._sort.initialized):Fn(null),n=this._paginator?Dp(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Fn(null),r=Od([this._data,this._filter]).pipe((0,ti.T)(([c])=>this._filterData(c))),s=Od([r,e]).pipe((0,ti.T)(([c])=>this._orderData(c))),o=Od([s,n]).pipe((0,ti.T)(([c])=>this._pageData(c)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=o.subscribe(c=>this._renderData.next(c))}_filterData(e){return this.filteredData=null==this.filter||""===this.filter?e:e.filter(n=>this.filterPredicate(n,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(e){return this.sort?this.sortData(e.slice(),this.sort):e}_pageData(e){if(!this.paginator)return e;const n=this.paginator.pageIndex*this.paginator.pageSize;return e.slice(n,n+this.paginator.pageSize)}_updatePaginator(e){Promise.resolve().then(()=>{const n=this.paginator;if(n&&(n.length=e,n.pageIndex>0)){const i=Math.ceil(n.length/n.pageSize)-1||0,r=Math.min(n.pageIndex,i);r!==n.pageIndex&&(n.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}const o6=["tooltip"],Vp=new h.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const t=(0,h.WQX)(hf);return()=>t.scrollStrategies.reposition({scrollThrottle:20})}}),Rx={provide:Vp,deps:[hf],useFactory:function rL(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},l6=new h.nKC("mat-tooltip-default-options",{providedIn:"root",factory:function Dx(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),oI="tooltip-panel",hw=Ua({passive:!0});let c6=(()=>{class t{get position(){return this._position}set position(n){n!==this._position&&(this._position=n,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(n){this._positionAtOrigin=Sm(n),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(n){this._disabled=Sm(n),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(n){this._showDelay=qR(n)}get hideDelay(){return this._hideDelay}set hideDelay(n){this._hideDelay=qR(n),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(n){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=n?String(n).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(n){this._tooltipClass=n,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(n,i,r,s,o,c,d,p,m,y,A,k){this._overlay=n,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=o,this._platform=c,this._ariaDescriber=d,this._focusMonitor=p,this._dir=y,this._defaultOptions=A,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=u6,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new K.B,this._scrollStrategy=m,this._document=k,A&&(this._showDelay=A.showDelay,this._hideDelay=A.hideDelay,A.position&&(this.position=A.position),A.positionAtOrigin&&(this.positionAtOrigin=A.positionAtOrigin),A.touchGestures&&(this.touchGestures=A.touchGestures)),y.change.pipe(_r(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(_r(this._destroyed)).subscribe(n=>{n?"keyboard"===n&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const n=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{n.removeEventListener(i,r,hw)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(n,this.message,"tooltip"),this._focusMonitor.stopMonitoring(n)}show(n=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new CU(this._tooltipComponent,this._viewContainerRef);const s=this._tooltipInstance=r.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(_r(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(n)}hide(n=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(n):(i._cancelPendingAnimations(),this._detach()))}toggle(n){this._isTooltipVisible()?this.hide():this.show(void 0,n)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(n){if(this._overlayRef){const s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!n)&&s._origin instanceof h.aKT)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&n||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(_r(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${oI}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(_r(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(_r(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(_r(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!wm(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(n){const i=n.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(n){const r=!this._dir||"ltr"==this._dir.value;return"top"===n.originY?n.offsetY=-8:"bottom"===n.originY?n.offsetY=8:"start"===n.originX?n.offsetX=r?-8:8:"end"===n.originX&&(n.offsetX=r?8:-8),n}_getOrigin(){const n=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&n||"right"==i&&!n?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&n||"left"==i&&!n)&&(r={originX:"end",originY:"center"});const{x:s,y:o}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:o}}}_getOverlayPosition(){const n=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&n||"right"==i&&!n?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&n||"left"==i&&!n)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:o}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:o}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Me(1),_r(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(n){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=n,this._tooltipInstance._markForCheck())}_invertPosition(n,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===n?n="start":"start"===n&&(n="end"),{x:n,y:i}}_updateCurrentPositionClass(n){const{overlayY:i,originX:r,originY:s}=n;let o;if(o="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",o!==this._currentPosition){const c=this._overlayRef;if(c){const d=`${this._cssClassPrefix}-${oI}-`;c.removePanelClass(d+this._currentPosition),c.addPanelClass(d+o)}this._currentPosition=o}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",n=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==n.x&&void 0!==n.y&&(i=n),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",n=>{const i=n.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const n=[];if(this._platformSupportsMouseEvents())n.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};n.push(["touchend",i],["touchcancel",i])}this._addListeners(n),this._passiveListeners.push(...n)}_addListeners(n){n.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,hw)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(n){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(n.clientX,n.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const n=this.touchGestures;if("off"!==n){const i=this._elementRef.nativeElement,r=i.style;("on"===n||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===n||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(hf),h.rXU(h.aKT),h.rXU(C2),h.rXU(h.c1b),h.rXU(h.SKi),h.rXU(Fo),h.rXU(Qd),h.rXU(nD),h.rXU(Vp),h.rXU(W_),h.rXU(l6,8),h.rXU(He))}}static{this.\u0275dir=h.FsC({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){2&i&&h.AVh("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[h.Mj6.None,"matTooltipPosition","position"],positionAtOrigin:[h.Mj6.None,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[h.Mj6.None,"matTooltipDisabled","disabled"],showDelay:[h.Mj6.None,"matTooltipShowDelay","showDelay"],hideDelay:[h.Mj6.None,"matTooltipHideDelay","hideDelay"],touchGestures:[h.Mj6.None,"matTooltipTouchGestures","touchGestures"],message:[h.Mj6.None,"matTooltip","message"],tooltipClass:[h.Mj6.None,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}}return t})(),u6=(()=>{class t{constructor(n,i,r){this._changeDetectorRef=n,this._elementRef=i,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new K.B,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===r}show(n){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},n)}hide(n){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},n)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:n}){(!n||!this._triggerElement.contains(n))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const n=this._elementRef.nativeElement.getBoundingClientRect();return n.height>24&&n.width>=200}_handleAnimationEnd({animationName:n}){(n===this._showAnimation||n===this._hideAnimation)&&this._finalizeAnimation(n===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(n){n?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(n){const i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(n?s:r),i.classList.add(n?r:s),this._isVisible!==n&&(this._isVisible=n,this._changeDetectorRef.markForCheck()),n&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const o=getComputedStyle(i);("0s"===o.getPropertyValue("animation-duration")||"none"===o.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}n&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(n))}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.bc$,8))}}static{this.\u0275cmp=h.VBU({type:t,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(1&i&&h.GBs(o6,7),2&i){let s;h.mGM(s=h.lsd())&&(r._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(i,r){1&i&&h.bIt("mouseleave",function(o){return r._handleMouseLeave(o)}),2&i&&h.xc7("zoom",r.isVisible()?1:null)},standalone:!0,features:[h.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(i,r){if(1&i){const s=h.RV6();h.j41(0,"div",1,0),h.bIt("animationend",function(c){return h.eBV(s),h.Njj(r._handleAnimationEnd(c))}),h.j41(2,"div",2),h.EFF(3),h.k0s()()}2&i&&(h.AVh("mdc-tooltip--multiline",r._isMultiline),h.Y8G("ngClass",r.tooltipClass),h.R7$(3),h.JRh(r.message))},dependencies:[Vi],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - 2*8px);margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - 2*8px);align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}}return t})(),aL=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h.$C({type:t})}static{this.\u0275inj=h.G2t({providers:[Rx],imports:[iF,tl,ax,Go,Go,q0]})}}return t})();class Bm{}let aI=(()=>{class t extends Bm{getTranslation(n){return Fn({})}static \u0275fac=(()=>{let n;return function(r){return(n||(n=h.xGo(t)))(r||t)}})();static \u0275prov=h.jDH({token:t,factory:t.\u0275fac})}return t})();class fw{}let xx=(()=>{class t{handle(n){return n.key}static \u0275fac=function(i){return new(i||t)};static \u0275prov=h.jDH({token:t,factory:t.\u0275fac})}return t})();function lI(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;const n=typeof t;let r,s,o;if(n==typeof e&&"object"==n){if(!Array.isArray(t)){if(Array.isArray(e))return!1;for(s in o=Object.create(null),t){if(!lI(t[s],e[s]))return!1;o[s]=!0}for(s in e)if(!(s in o)&&typeof e[s]<"u")return!1;return!0}if(!Array.isArray(e))return!1;if((r=t.length)==e.length){for(s=0;s<r;s++)if(!lI(t[s],e[s]))return!1;return!0}}return!1}function ff(t){return typeof t<"u"&&null!==t}function Hm(t){return Px(t)&&!cI(t)&&null!==t}function Px(t){return"object"==typeof t}function cI(t){return Array.isArray(t)}function pw(t){return"string"==typeof t}function Mx(t,e){const n=Object.assign({},t);return Px(t)?(Px(t)&&Px(e)&&Object.keys(e).forEach(i=>{Hm(e[i])?i in t?n[i]=Mx(t[i],e[i]):Object.assign(n,{[i]:e[i]}):Object.assign(n,{[i]:e[i]})}),n):Mx({},e)}function lL(t,e){const n=e.split(".");e="";do{e+=n.shift(),ff(t)&&ff(t[e])&&(Hm(t[e])||cI(t[e])||!n.length)?(t=t[e],e=""):n.length?e+=".":t=void 0}while(n.length);return t}class uI{}let cL=(()=>{class t extends uI{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(n,i){return pw(n)?this.interpolateString(n,i):function d6(t){return"function"==typeof t}(n)?this.interpolateFunction(n,i):void 0}interpolateFunction(n,i){return n(i)}interpolateString(n,i){return i?n.replace(this.templateMatcher,(r,s)=>{const o=lL(i,s);return ff(o)?o:r}):n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=h.xGo(t)))(r||t)}})();static \u0275prov=h.jDH({token:t,factory:t.\u0275fac})}return t})();class dI{}let So=(()=>{class t extends dI{compile(n,i){return n}compileTranslations(n,i){return n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=h.xGo(t)))(r||t)}})();static \u0275prov=h.jDH({token:t,factory:t.\u0275fac})}return t})();class Gp{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new h.bkB;onLangChange=new h.bkB;onDefaultLangChange=new h.bkB}const Um=new h.nKC("ISOLATE_TRANSLATE_SERVICE"),Wm=new h.nKC("USE_DEFAULT_LANG"),gw=new h.nKC("DEFAULT_LANGUAGE"),Nx=new h.nKC("USE_EXTEND"),mw=t=>Fa(t)?t:Fn(t);let hI=(()=>{class t{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(n){this.store.defaultLang=n}get currentLang(){return this.store.currentLang}set currentLang(n){this.store.currentLang=n}get langs(){return this.store.langs}set langs(n){this.store.langs=n}get translations(){return this.store.translations}set translations(n){this.store.translations=n}constructor(n,i,r,s,o,c=!0,d=!1,p=!1,m){this.store=n,this.currentLoader=i,this.compiler=r,this.parser=s,this.missingTranslationHandler=o,this.useDefaultLang=c,this.extend=p,d&&(this.store=new Gp),m&&this.setDefaultLang(m)}setDefaultLang(n){if(n===this.defaultLang)return;const i=this.retrieveTranslations(n);typeof i<"u"?(null==this.defaultLang&&(this.defaultLang=n),i.pipe(Me(1)).subscribe(()=>{this.changeDefaultLang(n)})):this.changeDefaultLang(n)}getDefaultLang(){return this.defaultLang}use(n){if(this.lastUseLanguage=n,n===this.currentLang)return Fn(this.translations[n]);this.currentLang||(this.currentLang=n);const i=this.retrieveTranslations(n);return Fa(i)?(i.pipe(Me(1)).subscribe(()=>{this.changeLang(n)}),i):(this.changeLang(n),Fn(this.translations[n]))}changeLang(n){n===this.lastUseLanguage&&(this.currentLang=n,this.onLangChange.emit({lang:n,translations:this.translations[n]}),null==this.defaultLang&&this.changeDefaultLang(n))}retrieveTranslations(n){if(typeof this.translations[n]>"u"||this.extend)return this._translationRequests[n]=this._translationRequests[n]||this.loadAndCompileTranslations(n),this._translationRequests[n]}getTranslation(n){return this.loadAndCompileTranslations(n)}loadAndCompileTranslations(n){this.pending=!0;const i=this.currentLoader.getTranslation(n).pipe(M0(1),Me(1));return this.loadingTranslations=i.pipe((0,ti.T)(r=>this.compiler.compileTranslations(r,n)),M0(1),Me(1)),this.loadingTranslations.subscribe({next:r=>{this.translations[n]=this.extend&&this.translations[n]?{...r,...this.translations[n]}:r,this.updateLangs(),this.pending=!1},error:r=>{this.pending=!1}}),i}setTranslation(n,i,r=!1){const s=this.compiler.compileTranslations(i,n);this.translations[n]=(r||this.extend)&&this.translations[n]?Mx(this.translations[n],s):s,this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}getLangs(){return this.langs}addLangs(n){const i=n.filter(r=>!this.langs.includes(r));i.length>0&&(this.langs=[...this.langs,...i])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(n,i,r){let s;if(n&&(s=this.runInterpolation(lL(n,i),r)),void 0===s&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(s=this.runInterpolation(lL(this.translations[this.defaultLang],i),r)),void 0===s){const o={key:i,translateService:this};typeof r<"u"&&(o.interpolateParams=r),s=this.missingTranslationHandler.handle(o)}return void 0!==s?s:i}runInterpolation(n,i){if(cI(n))return n.map(r=>this.runInterpolation(r,i));if(Hm(n)){const r={};for(const s in n){const o=this.runInterpolation(n[s],i);void 0!==o&&(r[s]=o)}return r}return this.parser.interpolate(n,i)}getParsedResult(n,i,r){if(i instanceof Array){const s={};let o=!1;for(const d of i)s[d]=this.getParsedResultForKey(n,d,r),o=o||Fa(s[d]);return o?y_(i.map(d=>mw(s[d]))).pipe((0,ti.T)(d=>{const p={};return d.forEach((m,y)=>{p[i[y]]=m}),p})):s}return this.getParsedResultForKey(n,i,r)}get(n,i){if(!ff(n)||!n.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(gi(r=>mw(this.getParsedResult(r,n,i)))):mw(this.getParsedResult(this.translations[this.currentLang],n,i))}getStreamOnTranslationChange(n,i){if(!ff(n)||!n.length)throw new Error('Parameter "key" is required and cannot be empty');return cl(Ll(()=>this.get(n,i)),this.onTranslationChange.pipe(ve(r=>{const s=this.getParsedResult(r.translations,n,i);return mw(s)})))}stream(n,i){if(!ff(n)||!n.length)throw new Error('Parameter "key" required');return cl(Ll(()=>this.get(n,i)),this.onLangChange.pipe(ve(r=>{const s=this.getParsedResult(r.translations,n,i);return mw(s)})))}instant(n,i){if(!ff(n)||0===n.length)throw new Error('Parameter "key" is required and cannot be empty');const r=this.getParsedResult(this.translations[this.currentLang],n,i);return Fa(r)?Array.isArray(n)?n.reduce((s,o)=>(s[o]=o,s),{}):n:r}set(n,i,r=this.currentLang){(function tte(t,e,n){const i=e.split(".");let r=t;for(let s=0;s<i.length;s++){const o=i[s];s===i.length-1?r[o]=n:((!r[o]||!Hm(r[o]))&&(r[o]={}),r=r[o])}})(this.translations[r],n,pw(i)?this.compiler.compile(i,r):this.compiler.compileTranslations(i,r)),this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}changeDefaultLang(n){this.defaultLang=n,this.onDefaultLangChange.emit({lang:n,translations:this.translations[n]})}reloadLang(n){return this.resetLang(n),this.loadAndCompileTranslations(n)}resetLang(n){delete this._translationRequests[n],delete this.translations[n]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;const n=this.getBrowserCultureLang();return n?n.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(i){return new(i||t)(h.KVO(Gp),h.KVO(Bm),h.KVO(dI),h.KVO(uI),h.KVO(fw),h.KVO(Wm),h.KVO(Um),h.KVO(Nx),h.KVO(gw))};static \u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vw=(()=>{class t{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(n,i){this.translate=n,this._ref=i}updateValue(n,i,r){const s=o=>{this.value=void 0!==o?o:n,this.lastKey=n,this._ref.markForCheck()};if(r){const o=this.translate.getParsedResult(r,n,i);Fa(o)?o.subscribe(s):s(o)}this.translate.get(n,i).subscribe(s)}transform(n,...i){if(!n||!n.length)return n;if(lI(n,this.lastKey)&&lI(i,this.lastParams))return this.value;let r;if(ff(i[0])&&i.length)if(pw(i[0])&&i[0].length){const s=i[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{r=JSON.parse(s)}catch(o){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${i[0]}`)}}else Hm(i[0])&&(r=i[0]);return this.lastKey=n,this.lastParams=i,this.updateValue(n,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(s=>{this.lastKey&&s.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(n,r,s.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(s=>{this.lastKey&&(this.lastKey=null,this.updateValue(n,r,s.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(n,r))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(i){return new(i||t)(h.rXU(hI,16),h.rXU(h.gRc,16))};static \u0275pipe=h.EJ8({name:"translate",type:t,pure:!1,standalone:!0});static \u0275prov=h.jDH({token:t,factory:t.\u0275fac})}return t})(),ny=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[n.loader||{provide:Bm,useClass:aI},n.compiler||{provide:dI,useClass:So},n.parser||{provide:uI,useClass:cL},n.missingTranslationHandler||{provide:fw,useClass:xx},Gp,{provide:Um,useValue:n.isolate},{provide:Wm,useValue:n.useDefaultLang},{provide:Nx,useValue:n.extend},{provide:gw,useValue:n.defaultLanguage},hI]}}static forChild(n={}){return{ngModule:t,providers:[n.loader||{provide:Bm,useClass:aI},n.compiler||{provide:dI,useClass:So},n.parser||{provide:uI,useClass:cL},n.missingTranslationHandler||{provide:fw,useClass:xx},{provide:Um,useValue:n.isolate},{provide:Wm,useValue:n.useDefaultLang},{provide:Nx,useValue:n.extend},{provide:gw,useValue:n.defaultLanguage},hI]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=h.$C({type:t});static \u0275inj=h.G2t({})}return t})();const uL=["*"],p6=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],hL=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],g6=new h.nKC("MAT_CARD_CONFIG");let fI=(()=>{class t{constructor(n){this.appearance=n?.appearance||"raised"}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(g6,8))}}static{this.\u0275cmp=h.VBU({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&h.AVh("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[h.aNF],ngContentSelectors:uL,decls:1,vars:0,template:function(i,r){1&i&&(h.NAR(),h.SdG(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return t})(),iy=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=h.FsC({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}}return t})(),Bp=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=h.FsC({type:t,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}}return t})(),m6=(()=>{class t{constructor(){this.align="start"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=h.FsC({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(i,r){2&i&&h.AVh("mat-mdc-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0})}}return t})(),pL=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=h.VBU({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[h.aNF],ngContentSelectors:hL,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){1&i&&(h.NAR(p6),h.SdG(0),h.j41(1,"div",0),h.SdG(2,1),h.k0s(),h.SdG(3,2))},encapsulation:2,changeDetection:0})}}return t})(),y6=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h.$C({type:t})}static{this.\u0275inj=h.G2t({imports:[Go,tl,Go]})}}return t})();var mL=Object.defineProperty,ste=Object.defineProperties,C6=Object.getOwnPropertyDescriptor,ote=Object.getOwnPropertyDescriptors,pI=Object.getOwnPropertySymbols,vL=Object.prototype.hasOwnProperty,b6=Object.prototype.propertyIsEnumerable,Ox=(t,e,n)=>e in t?mL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yn=(t,e)=>{for(var n in e||(e={}))vL.call(e,n)&&Ox(t,n,e[n]);if(pI)for(var n of pI(e))b6.call(e,n)&&Ox(t,n,e[n]);return t},ms=(t,e)=>ste(t,ote(e)),Qo=(t,e)=>{for(var n in e)mL(t,n,{get:e[n],enumerable:!0})},N=(t,e,n,i)=>{for(var o,r=i>1?void 0:i?C6(e,n):e,s=t.length-1;s>=0;s--)(o=t[s])&&(r=(i?o(e,n,r):o(r))||r);return i&&r&&mL(e,n,r),r},ld=(t,e)=>(n,i)=>e(n,i,t),_L={};function nh(t){return null==t||""===t?null:t}function $t(t,e=!1){return null!=t&&(""!==t||e)}function hi(t){return!$t(t)}function ql(t){return null==t||0===t.length}function ry(t){return null!=t&&"function"==typeof t.toString?t.toString():null}function pf(t){if(void 0===t)return;if(null===t||""===t)return null;if("number"==typeof t)return isNaN(t)?void 0:t;const e=parseInt(t,10);return isNaN(e)?void 0:e}function Fx(t){if(void 0!==t)return null!==t&&""!==t&&("boolean"==typeof t?t:/true/i.test(t))}function E6(t){if(null!=t&&""!==t)return t}function yL(t,e){return(t?JSON.stringify(t):null)===(e?JSON.stringify(e):null)}function S6(t,e,n=!1){const i=null==t,r=null==e;if(t&&t.toNumber&&(t=t.toNumber()),e&&e.toNumber&&(e=e.toNumber()),i&&r)return 0;if(i)return-1;if(r)return 1;function s(o,c){return o>c?1:o<c?-1:0}if("string"!=typeof t||!n)return s(t,e);try{return t.localeCompare(e)}catch{return s(t,e)}}function sy(t){if(t instanceof Set||t instanceof Map){const e=[];return t.forEach(n=>e.push(n)),e}return Object.values(t)}Qo(_L,{attrToBoolean:()=>Fx,attrToNumber:()=>pf,attrToString:()=>E6,defaultComparator:()=>S6,exists:()=>$t,jsonEquals:()=>yL,makeNull:()=>nh,missing:()=>hi,missingOrEmpty:()=>ql,toStringOrNull:()=>ry,values:()=>sy});var ate=class{constructor(){this.existingKeys={}}addExistingKeys(t){for(let e=0;e<t.length;e++)this.existingKeys[t[e]]=!0}getUniqueKey(t,e){t=ry(t);let n=0;for(;;){let i;if(t?(i=t,0!==n&&(i+="_"+n)):e?(i=e,0!==n&&(i+="_"+n)):i=n,!this.existingKeys[i])return this.existingKeys[i]=!0,String(i);n++}}},CL={};function ml(t,e){if(null!=t){if(Array.isArray(t)){for(let n=0;n<t.length;n++)e(n.toString(),t[n]);return}for(const[n,i]of Object.entries(t))e(n,i)}}function Lx(t){const e={},n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];e[r]=t[r]}return e}function gI(t,e){if(!t)return;const n=t,i={};return Object.keys(n).forEach(r=>{if(e&&e.indexOf(r)>=0)return;const s=n[r];i[r]=yw(s)&&s.constructor===Object?gI(s):s}),i}function Hp(t){if(!t)return[];const e=Object;if("function"==typeof e.values)return e.values(t);const n=[];for(const i in t)t.hasOwnProperty(i)&&t.propertyIsEnumerable(i)&&n.push(t[i]);return n}function Kl(t,e,n=!0,i=!1){$t(e)&&ml(e,(r,s)=>{let o=t[r];o!==s&&(i&&null==o&&null!=s&&"object"==typeof s&&s.constructor===Object&&(o={},t[r]=o),yw(s)&&yw(o)&&!Array.isArray(o)?Kl(o,s,n,i):(n||void 0!==s)&&(t[r]=s))})}function zm(t,e,n){if(!e||!t)return;if(!n)return t[e];const i=e.split(".");let r=t;for(let s=0;s<i.length;s++){if(null==r)return;r=r[i[s]]}return r}function bL(t,e=[],n){Object.keys(t).forEach(o=>{"object"==typeof t[o]&&!e.includes(o)&&(t[o]=void 0)});const i=Object.getPrototypeOf(t),r={};Object.getOwnPropertyNames(i).forEach(o=>{if("function"==typeof i[o]&&!e.includes(o)){const d=()=>{console.warn((o=>`AG Grid: Grid API function ${o}() cannot be called as the grid has been destroyed.\n    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.\n    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${n}`)(o))};r[o]={value:d,writable:!0}}}),Object.defineProperties(t,r)}function yw(t){return"object"==typeof t&&null!==t}Qo(CL,{cloneObject:()=>Lx,deepCloneDefinition:()=>gI,getAllValuesInObject:()=>Hp,getValueUsingField:()=>zm,isNonNullObject:()=>yw,iterateObject:()=>ml,mergeDeep:()=>Kl,removeAllReferences:()=>bL});var kx={};Qo(kx,{compose:()=>lte,debounce:()=>vl,doOnce:()=>jm,errorOnce:()=>wu,executeAfter:()=>EL,executeInAWhile:()=>wL,executeNextVMTurn:()=>Gx,getFunctionName:()=>Cw,isFunction:()=>mI,noop:()=>cte,throttle:()=>Bx,waitUntil:()=>SL,warnOnce:()=>ei});var I6={};function jm(t,e){I6[e]||(t(),I6[e]=!0)}function ei(t){jm(()=>console.warn("AG Grid: "+t),t)}function wu(t){jm(()=>console.error("AG Grid: "+t),t)}function Cw(t){if(t.name)return t.name;const e=/function\s+([^\(]+)/.exec(t.toString());return e&&2===e.length?e[1].trim():null}function mI(t){return!!(t&&t.constructor&&t.call&&t.apply)}function wL(t){EL(t,400)}var oy=[],Vx=!1;function Gx(t){oy.push(t),!Vx&&(Vx=!0,window.setTimeout(()=>{const e=oy.slice();oy.length=0,Vx=!1,e.forEach(n=>n())},0))}function EL(t,e=0){t.length>0&&window.setTimeout(()=>t.forEach(n=>n()),e)}function vl(t,e){let n;return function(...i){const r=this;window.clearTimeout(n),n=window.setTimeout(function(){t.apply(r,i)},e)}}function Bx(t,e){let n=0;return function(...i){const s=(new Date).getTime();s-n<e||(n=s,t.apply(this,i))}}function SL(t,e,n=100,i){const r=(new Date).getTime();let s=null,o=!1;const c=()=>{const d=(new Date).getTime()-r>n;(t()||d)&&(e(),o=!0,null!=s&&(window.clearInterval(s),s=null),d&&i&&console.warn(i))};c(),o||(s=window.setInterval(c,10))}function lte(...t){return e=>t.reduce((n,i)=>i(n),e)}var cte=()=>{},T6=(t=>(t.CommunityCoreModule="@ag-grid-community/core",t.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",t.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",t.CsvExportModule="@ag-grid-community/csv-export",t.EnterpriseCoreModule="@ag-grid-enterprise/core",t.RowGroupingModule="@ag-grid-enterprise/row-grouping",t.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",t.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",t.MenuModule="@ag-grid-enterprise/menu",t.SetFilterModule="@ag-grid-enterprise/set-filter",t.MultiFilterModule="@ag-grid-enterprise/multi-filter",t.StatusBarModule="@ag-grid-enterprise/status-bar",t.SideBarModule="@ag-grid-enterprise/side-bar",t.RangeSelectionModule="@ag-grid-enterprise/range-selection",t.MasterDetailModule="@ag-grid-enterprise/master-detail",t.RichSelectModule="@ag-grid-enterprise/rich-select",t.GridChartsModule="@ag-grid-enterprise/charts",t.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",t.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",t.ExcelExportModule="@ag-grid-enterprise/excel-export",t.ClipboardModule="@ag-grid-enterprise/clipboard",t.SparklinesModule="@ag-grid-enterprise/sparklines",t.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",t.AngularModule="@ag-grid-community/angular",t.ReactModule="@ag-grid-community/react",t.VueModule="@ag-grid-community/vue",t))(T6||{}),vI=class qr{static register(e){qr.__register(e,!0,void 0)}static registerModules(e){qr.__registerModules(e,!0,void 0)}static __register(e,n,i){qr.runVersionChecks(e),void 0!==i?(qr.areGridScopedModules=!0,void 0===qr.gridModulesMap[i]&&(qr.gridModulesMap[i]={}),qr.gridModulesMap[i][e.moduleName]=e):qr.globalModulesMap[e.moduleName]=e,qr.setModuleBased(n)}static __unRegisterGridModules(e){delete qr.gridModulesMap[e]}static __registerModules(e,n,i){qr.setModuleBased(n),e&&e.forEach(r=>qr.__register(r,n,i))}static isValidModuleVersion(e){const[n,i]=e.version.split(".")||[],[r,s]=qr.currentModuleVersion.split(".")||[];return n===r&&i===s}static runVersionChecks(e){if(qr.currentModuleVersion||(qr.currentModuleVersion=e.version),e.version?qr.isValidModuleVersion(e)||console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${e.moduleName}' is version ${e.version} but the other modules are version ${this.currentModuleVersion}. Please update all modules to the same version.`):console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${e.moduleName}' is incompatible. Please update all modules to the same version.`),e.validate){const n=e.validate();n.isValid||console.error(`AG Grid: ${n.message}`)}}static setModuleBased(e){void 0===qr.moduleBased?qr.moduleBased=e:qr.moduleBased!==e&&jm(()=>{console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")}static __setIsBundled(){qr.isBundled=!0}static __assertRegistered(e,n,i){var r;if(this.__isRegistered(e,i))return!0;const s=n+e;let o;if(qr.isBundled)o=`AG Grid: unable to use ${n} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(qr.moduleBased||void 0===qr.moduleBased){let c=null==(r=Object.entries(T6).find(([d,p])=>p===e))?void 0:r[0];o=`AG Grid: unable to use ${n} as the ${c} is not registered${qr.areGridScopedModules?` for gridId: ${i}`:""}. Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { ${c} } from '${e}';\n    \n    ModuleRegistry.registerModules([ ${c} ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/`}else o=`AG Grid: unable to use ${n} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';\n            \nFor more info see: https://www.ag-grid.com/javascript-grid/packages/`;return jm(()=>{console.warn(o)},s),!1}static __warnEnterpriseChartDisabled(e){const s=`AG Grid: the '${e}' chart type is not supported in AG Charts Community as 'ag-grid-charts-enterprise' or '@ag-grid-enterprise/charts-enterprise' hasn't been loaded. See https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/ for more details.`;jm(()=>{console.warn(s)},"ag-charts-enterprise:"+e)}static __isRegistered(e,n){var i;return!!qr.globalModulesMap[e]||!(null==(i=qr.gridModulesMap[n])||!i[e])}static __getRegisteredModules(e){return[...sy(qr.globalModulesMap),...sy(qr.gridModulesMap[e]||{})]}static __getGridRegisteredModules(e){var n;return sy(null!=(n=qr.gridModulesMap[e])?n:{})||[]}static __isPackageBased(){return!qr.moduleBased}};vI.globalModulesMap={},vI.gridModulesMap={},vI.areGridScopedModules=!1;var Mr=vI,ute=class{constructor(t,e){if(this.beanWrappers={},this.destroyed=!1,!t||!t.beanClasses)return;this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();const n=this.getBeanInstances();this.wireBeans(n),this.logger.log(">> ag-Application Context ready - component is alive")}getBeanInstances(){return sy(this.beanWrappers).map(t=>t.beanInstance)}createBean(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t}wireBeans(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),$t(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")}createBeans(){this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),ml(this.beanWrappers,(e,n)=>{let i;n.bean.__agBeanMetaData&&n.bean.__agBeanMetaData.autowireMethods&&n.bean.__agBeanMetaData.autowireMethods.agConstructor&&(i=n.bean.__agBeanMetaData.autowireMethods.agConstructor);const r=this.getBeansForParameters(i,n.bean.name),s=new(n.bean.bind.apply(n.bean,[null,...r]));n.beanInstance=s});const t=Object.keys(this.beanWrappers).join(", ");this.logger.log(`created beans: ${t}`)}createBeanWrapper(t){const e=t.__agBeanMetaData;if(!e){let i;return i=t.prototype.constructor?Cw(t.prototype.constructor):""+t,void console.error(`Context item ${i} is not a bean`)}this.beanWrappers[e.beanName]={bean:t,beanInstance:null,beanName:e.beanName}}autoWireBeans(t){t.forEach(e=>{this.forEachMetaDataInHierarchy(e,(n,i)=>{const r=n.agClassAttributes;r&&r.forEach(s=>{const o=this.lookupBeanInstance(i,s.beanName,s.optional);e[s.attributeName]=o})})})}methodWireBeans(t){t.forEach(e=>{this.forEachMetaDataInHierarchy(e,(n,i)=>{ml(n.autowireMethods,(r,s)=>{if("agConstructor"===r)return;const o=this.getBeansForParameters(s,i);e[r].apply(e,o)})})})}forEachMetaDataInHierarchy(t,e){let n=Object.getPrototypeOf(t);for(;null!=n;){const i=n.constructor;i.hasOwnProperty("__agBeanMetaData")&&e(i.__agBeanMetaData,this.getBeanName(i)),n=Object.getPrototypeOf(n)}}getBeanName(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;const e=t.toString();return e.substring(9,e.indexOf("("))}getBeansForParameters(t,e){const n=[];return t&&ml(t,(i,r)=>{const s=this.lookupBeanInstance(e,r);n[Number(i)]=s}),n}lookupBeanInstance(t,e,n=!1){if(this.destroyed)return this.logger.log(`AG Grid: bean reference ${e} is used after the grid is destroyed!`),null;if("context"===e)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];const i=this.beanWrappers[e];return i?i.beanInstance:(n||console.error(`AG Grid: unable to find bean reference ${e} while initialising ${t}`),null)}callLifeCycleMethods(t,e){t.forEach(n=>this.callLifeCycleMethodsOnBean(n,e))}callLifeCycleMethodsOnBean(t,e,n){const i={};this.forEachMetaDataInHierarchy(t,s=>{const o=s[e];o&&o.forEach(c=>{c!=n&&(i[c]=!0)})}),Object.keys(i).forEach(s=>t[s]())}getBean(t){return this.lookupBeanInstance("getBean",t,!0)}destroy(){if(this.destroyed)return;this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");const t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,Mr.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}destroyBean(t){t&&this.destroyBeans([t])}destroyBeans(t){return t?(t.forEach(e=>{this.callLifeCycleMethodsOnBean(e,"preDestroyMethods","destroy"),"function"==typeof e.destroy&&e.destroy()}),[]):[]}isDestroyed(){return this.destroyed}getGridId(){return this.contextParams.gridId}};function A6(t,e,n){const i=Up(t.constructor);i.preConstructMethods||(i.preConstructMethods=[]),i.preConstructMethods.push(e)}function nn(t,e,n){const i=Up(t.constructor);i.postConstructMethods||(i.postConstructMethods=[]),i.postConstructMethods.push(e)}function Yl(t,e,n){const i=Up(t.constructor);i.preDestroyMethods||(i.preDestroyMethods=[]),i.preDestroyMethods.push(e)}function bn(t){return e=>{Up(e).beanName=t}}function Y(t){return(e,n,i)=>{IL(e,t,!1,0,n,null)}}function lr(t){return(e,n,i)=>{IL(e,t,!0,0,n,null)}}function IL(t,e,n,i,r,s){if(null===e)return void console.error("AG Grid: Autowired name should not be null");if("number"==typeof s)return void console.error("AG Grid: Autowired should be on an attribute");const o=Up(t.constructor);o.agClassAttributes||(o.agClassAttributes=[]),o.agClassAttributes.push({attributeName:r,beanName:e,optional:n})}function Eu(t){return(e,n,i)=>{const r="function"==typeof e?e:e.constructor;let s;if("number"==typeof i){let o;n?(s=Up(r),o=n):(s=Up(r),o="agConstructor"),s.autowireMethods||(s.autowireMethods={}),s.autowireMethods[o]||(s.autowireMethods[o]={}),s.autowireMethods[o][i]=t}}}function Up(t){return t.hasOwnProperty("__agBeanMetaData")||(t.__agBeanMetaData={}),t.__agBeanMetaData}var ih=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setBeans(t,e,n=null,i=null){if(this.frameworkOverrides=e,this.gridOptionsService=t,n){const r=t.useAsyncEvents();this.addGlobalListener(n,r)}i&&this.addGlobalListener(i,!1)}setFrameworkOverrides(t){this.frameworkOverrides=t}getListeners(t,e,n){const i=e?this.allAsyncListeners:this.allSyncListeners;let r=i.get(t);return!r&&n&&(r=new Set,i.set(t,r)),r}noRegisteredListenersExist(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size}addEventListener(t,e,n=!1){this.getListeners(t,n,!0).add(e)}removeEventListener(t,e,n=!1){const i=this.getListeners(t,n,!1);i&&(i.delete(e),0===i.size&&(n?this.allAsyncListeners:this.allSyncListeners).delete(t))}addGlobalListener(t,e=!1){(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)}removeGlobalListener(t,e=!1){(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)}dispatchEvent(t){let e=t;this.gridOptionsService&&this.gridOptionsService.addGridCommonParams(e),this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(t){this.firedEvents[t.type]||this.dispatchEvent(t)}dispatchToListeners(t,e){var n;const i=t.type;if(e&&"event"in t){const d=t.event;d instanceof Event&&(t.eventPath=d.composedPath())}const s=null!=(n=this.getListeners(i,e,!1))?n:new Set,o=new Set(s);o.size>0&&((d,p)=>{d.forEach(m=>{if(!p.has(m))return;const y=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>m(t)):()=>m(t);e?this.dispatchAsync(y):y()})})(o,s),new Set(e?this.globalAsyncListeners:this.globalSyncListeners).forEach(d=>{const p=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>d(i,t)):()=>d(i,t);e?this.dispatchAsync(p):p()})}dispatchAsync(t){this.asyncFunctionsQueue.push(t),this.scheduled||(this.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)}),this.scheduled=!0)}flushAsyncQueue(){this.scheduled=!1;const t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach(e=>e())}};N([ld(0,Eu("gridOptionsService")),ld(1,Eu("frameworkOverrides")),ld(2,Eu("globalEventListener")),ld(3,Eu("globalSyncEventListener"))],ih.prototype,"setBeans",1),ih=N([bn("eventService")],ih);var TL=class{constructor(t){this.frameworkOverrides=t,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(t){let e=t;return this.frameworkOverrides.shouldWrapOutgoing&&(e=n=>{this.frameworkOverrides.wrapOutgoing(()=>t(n))},this.wrappedListeners.set(t,e)),e}wrapGlobal(t){let e=t;return this.frameworkOverrides.shouldWrapOutgoing&&(e=(n,i)=>{this.frameworkOverrides.wrapOutgoing(()=>t(n,i))},this.wrappedGlobalListeners.set(t,e)),e}unwrap(t){var e;return null!=(e=this.wrappedListeners.get(t))?e:t}unwrapGlobal(t){var e;return null!=(e=this.wrappedGlobalListeners.get(t))?e:t}},dte={resizable:!0,sortable:!0},a=0;function l(){return a++}var u=class Jge{constructor(e,n,i,r){this.instanceId=l(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new ih,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=n,this.colId=i,this.primary=r,this.setState(e)}getInstanceId(){return this.instanceId}setState(e){void 0!==e.sort?("asc"===e.sort||"desc"===e.sort)&&(this.sort=e.sort):("asc"===e.initialSort||"desc"===e.initialSort)&&(this.sort=e.initialSort);const n=e.sortIndex,i=e.initialSortIndex;void 0!==n?null!==n&&(this.sortIndex=n):null!==i&&(this.sortIndex=i);const r=e.hide;this.visible=void 0!==r?!r:!e.initialHide,this.setPinned(void 0!==e.pinned?e.pinned:e.initialPinned);const o=e.flex,c=e.initialFlex;void 0!==o?this.flex=o:void 0!==c&&(this.flex=c)}setColDef(e,n,i){this.colDef=e,this.userProvidedColDef=n,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",i))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}initialise(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gridOptionsService.get("suppressFieldDotNotation");this.fieldContainsDots=$t(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=$t(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(e),this.maxWidth=this.columnUtils.calculateColMaxWidth(e)}initTooltip(){this.tooltipEnabled=$t(this.colDef.tooltipField)||$t(this.colDef.tooltipValueGetter)||$t(this.colDef.tooltipComponent)}resetActualWidth(e){const n=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(n,e,!0)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return!hi(this.colDef)&&!hi(this.colDef.showRowGroup)&&(!0===this.colDef.showRowGroup||this.colDef.showRowGroup===e)}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}addEventListener(e,n){var i,r;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new TL(this.frameworkOverrides));const s=null!=(r=null==(i=this.frameworkEventListenerService)?void 0:i.wrap(n))?r:n;this.eventService.addEventListener(e,s)}removeEventListener(e,n){var i,r;const s=null!=(r=null==(i=this.frameworkEventListenerService)?void 0:i.unwrap(n))?r:n;this.eventService.removeEventListener(e,s)}createColumnFunctionCallbackParams(e){return this.gridOptionsService.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){const n=this.createColumnFunctionCallbackParams(e);return(0,this.colDef.suppressNavigable)(n)}return!1}isCellEditable(e){return!(e.group&&!this.gridOptionsService.get("enableGroupEdit"))&&this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){var n;return null!=(n=this.colDef[e])?n:dte[e]}isColumnFunc(e,n){return"boolean"==typeof n?n:"function"==typeof n&&n(this.createColumnFunctionCallbackParams(e))}setMoving(e,n){this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",n))}createColumnEvent(e,n){return this.gridOptionsService.addGridCommonParams({type:e,column:this,columns:[this],source:n})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,n){this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",n))),this.dispatchStateUpdatedEvent("sort")}setMenuVisible(e,n){this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",n)))}isMenuVisible(){return this.menuVisible}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return"asc"===this.sort}isSortDescending(){return"desc"===this.sort}isSortNone(){return hi(this.sort)}isSorting(){return $t(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,n){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",n)))}isFilterActive(){return this.filterActive}setFilterActive(e,n,i){this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",n)));const r=this.createColumnEvent("filterChanged",n);i&&Kl(r,i),this.eventService.dispatchEvent(r)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){this.pinned=!0===e||"left"===e?"left":"right"===e?"right":null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,n){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",n)))}setLastLeftPinned(e,n){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",n)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return"left"===this.pinned||"right"===this.pinned}isPinnedLeft(){return"left"===this.pinned}isPinnedRight(){return"right"===this.pinned}getPinned(){return this.pinned}setVisible(e,n){const i=!0===e;this.visible!==i&&(this.visible=i,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",n))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const n=e.getPaddingLevel()+1;let i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:n,isSpanningTotal:i}}getColDef(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getDefinition(){return this.colDef}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const n=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,n}createBaseColDefParams(e){return this.gridOptionsService.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(hi(this.colDef.colSpan))return 1;const n=this.createBaseColDefParams(e),i=this.colDef.colSpan(n);return Math.max(i,1)}getRowSpan(e){if(hi(this.colDef.rowSpan))return 1;const n=this.createBaseColDefParams(e),i=this.colDef.rowSpan(n);return Math.max(i,1)}setActualWidth(e,n,i=!1){null!=this.minWidth&&(e=Math.max(e,this.minWidth)),null!=this.maxWidth&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&"flex"!==n&&"gridInitializing"!==n&&(this.flex=null),i||this.fireColumnWidthChangedEvent(n)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return null!=this.maxWidth&&e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){$t(this.minWidth)&&this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,n){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",n))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,n){this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",n))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,n){this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",n)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return!0===this.colDef.enablePivot}isAllowValue(){return!0===this.colDef.enableValue}isAllowRowGroup(){return!0===this.colDef.enableRowGroup}getMenuTabs(e){ei("As of v31.1, 'getMenuTabs' is deprecated. Use 'getColDef().menuTabs ?? defaultValues' instead.");let n=this.getColDef().menuTabs;return null==n&&(n=e),n}dispatchStateUpdatedEvent(e){this.eventService.dispatchEvent({type:Jge.EVENT_STATE_UPDATED,key:e})}};u.EVENT_MOVING_CHANGED="movingChanged",u.EVENT_LEFT_CHANGED="leftChanged",u.EVENT_WIDTH_CHANGED="widthChanged",u.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",u.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",u.EVENT_VISIBLE_CHANGED="visibleChanged",u.EVENT_FILTER_CHANGED="filterChanged",u.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",u.EVENT_SORT_CHANGED="sortChanged",u.EVENT_COL_DEF_CHANGED="colDefChanged",u.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",u.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",u.EVENT_PIVOT_CHANGED="columnPivotChanged",u.EVENT_VALUE_CHANGED="columnValueChanged",u.EVENT_STATE_UPDATED="columnStateUpdated",N([Y("gridOptionsService")],u.prototype,"gridOptionsService",2),N([Y("columnUtils")],u.prototype,"columnUtils",2),N([Y("columnHoverService")],u.prototype,"columnHoverService",2),N([Y("frameworkOverrides")],u.prototype,"frameworkOverrides",2),N([nn],u.prototype,"initialise",1);var f=u,g=class cN{constructor(e,n,i,r){this.localEventService=new ih,this.expandable=!1,this.instanceId=l(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=n,this.expanded=!!e&&!!e.openByDefault,this.padding=i,this.level=r}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)}reset(e,n){this.colGroupDef=e,this.level=n,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return!!this.children&&this.children.some(e=>e.isVisible())}isPadding(){return this.padding}setExpanded(e){this.expanded=void 0!==e&&e,this.localEventService.dispatchEvent({type:cN.EVENT_EXPANDED_CHANGED})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(n=>{n instanceof f?e.push(n):n instanceof cN&&n.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(n=>n.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(n=>n.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,n=!1,i=!1;const r=this.findChildrenRemovingPadding();for(let o=0,c=r.length;o<c;o++){const d=r[o];if(!d.isVisible())continue;const p=d.getColumnGroupShow();"open"===p?(e=!0,i=!0):"closed"===p?(n=!0,i=!0):(e=!0,n=!0)}const s=e&&n&&i;this.expandable!==s&&(this.expandable=s,this.localEventService.dispatchEvent({type:cN.EVENT_EXPANDABLE_CHANGED}))}findChildrenRemovingPadding(){const e=[],n=i=>{i.forEach(r=>{r instanceof cN&&r.isPadding()?n(r.children):e.push(r)})};return n(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}addEventListener(e,n){this.localEventService.addEventListener(e,n)}removeEventListener(e,n){this.localEventService.removeEventListener(e,n)}};g.EVENT_EXPANDED_CHANGED="expandedChanged",g.EVENT_EXPANDABLE_CHANGED="expandableChanged",N([Yl],g.prototype,"destroy",1);var v=g,E={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},R={};Qo(R,{addSafePassiveEventListener:()=>gte,createEventPath:()=>fte,getCtrlForEventTarget:()=>RL,getEventPath:()=>pte,isElementInEventPath:()=>DL,isEventSupported:()=>x6,isStopPropagationForAgGrid:()=>mf,stopPropagationForAgGrid:()=>gf});var P={};function B(t){return null!=t&&t.length>0}function q(t){if(t&&t.length)return t[t.length-1]}function ae(t,e,n){return null==t&&null==e||null!=t&&null!=e&&t.length===e.length&&t.every((i,r)=>n?n(i,e[r]):e[r]===i)}function Ne(t,e){return ae(t,e)}function je(t){return t.sort((e,n)=>e-n)}function at(t,e){if(t)for(let n=t.length-2;n>=0;n--)t[n]===e&&t[n+1]===e&&t.splice(n+1,1)}function Ht(t,e){const n=t.indexOf(e);n>=0&&(t[n]=t[t.length-1],t.pop())}function tn(t,e){const n=t.indexOf(e);n>=0&&t.splice(n,1)}function _n(t,e){for(let n=0;n<e.length;n++)Ht(t,e[n])}function Zt(t,e){for(let n=0;n<e.length;n++)tn(t,e[n])}function di(t,e,n){t.splice(n,0,e)}function cr(t,e,n){if(null!=t&&null!=e)for(let i=e.length-1;i>=0;i--)di(t,e[i],n)}function Br(t,e,n){Zt(t,e),e.slice().reverse().forEach(i=>di(t,i,n))}function Nr(t,e){return t.indexOf(e)>-1}function _l(t){return[].concat.apply([],t)}function Wp(t,e){null==e||null==t||e.forEach(n=>t.push(n))}function AL(t){return t.map(ry)}function R6(t,e){if(null!=t)for(let n=t.length-1;n>=0;n--)e(t[n],n)}Qo(P,{areEqual:()=>ae,existsAndNotEmpty:()=>B,flatten:()=>_l,forEachReverse:()=>R6,includes:()=>Nr,insertArrayIntoArray:()=>cr,insertIntoArray:()=>di,last:()=>q,moveInArray:()=>Br,pushAll:()=>Wp,removeAllFromArray:()=>Zt,removeAllFromUnorderedArray:()=>_n,removeFromArray:()=>tn,removeFromUnorderedArray:()=>Ht,removeRepeatsFromArray:()=>at,shallowCompare:()=>Ne,sortNumerically:()=>je,toStrings:()=>AL});var hte="__ag_Grid_Stop_Propagation",yve=["touchstart","touchend","touchmove","touchcancel","scroll"],D6={};function gf(t){t[hte]=!0}function mf(t){return!0===t[hte]}var x6=(()=>{const t={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if("boolean"==typeof D6[n])return D6[n];const i=document.createElement(t[n]||"div");return D6[n="on"+n]=n in i}})();function RL(t,e,n){let i=e;for(;i;){const r=t.getDomData(i,n);if(r)return r;i=i.parentElement}return null}function DL(t,e){return!(!e||!t)&&pte(e).indexOf(t)>=0}function fte(t){const e=[];let n=t.target;for(;n;)e.push(n),n=n.parentElement;return e}function pte(t){const e=t;return e.path?e.path:e.composedPath?e.composedPath():fte(e)}function gte(t,e,n,i){const s=Nr(yve,n)?{passive:!0}:void 0;t&&t.addEventListener&&t.addEventListener(e,n,i,s)}var $m=class Zge{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=()=>!this.destroyed}getFrameworkOverrides(){return this.frameworkOverrides}getContext(){return this.context}destroy(){this.destroyFunctions.forEach(e=>e()),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:Zge.EVENT_DESTROYED})}addEventListener(e,n){this.localEventService||(this.localEventService=new ih),this.localEventService.addEventListener(e,n)}removeEventListener(e,n){this.localEventService&&this.localEventService.removeEventListener(e,n)}dispatchEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedListener(e,n,i){if(this.destroyed)return;e instanceof HTMLElement?gte(this.getFrameworkOverrides(),e,n,i):e.addEventListener(n,i);const r=()=>(e.removeEventListener(n,i),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==r),null);return this.destroyFunctions.push(r),r}setupGridOptionListener(e,n){this.gridOptionsService.addEventListener(e,n);const i=()=>(this.gridOptionsService.removeEventListener(e,n),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==i),null);return this.destroyFunctions.push(i),i}addManagedPropertyListener(e,n){return this.destroyed?()=>null:this.setupGridOptionListener(e,n)}addManagedPropertyListeners(e,n){if(this.destroyed)return;const i=e.join("-")+this.propertyListenerId++,r=s=>{if(s.changeSet){if(s.changeSet&&s.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=s.changeSet.id}n({type:"gridPropertyChanged",changeSet:s.changeSet,source:s.source})};e.forEach(s=>this.setupGridOptionListener(s,r))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,n){const i=this.createBean(e,n);return this.addDestroyFunc(this.destroyBean.bind(this,e,n)),i}createBean(e,n,i){return(n||this.getContext()).createBean(e,i)}destroyBean(e,n){return(n||this.getContext()).destroyBean(e)}destroyBeans(e,n){return e&&e.forEach(i=>this.destroyBean(i,n)),[]}};$m.EVENT_DESTROYED="destroyed",N([Y("frameworkOverrides")],$m.prototype,"frameworkOverrides",2),N([Y("context")],$m.prototype,"context",2),N([Y("eventService")],$m.prototype,"eventService",2),N([Y("gridOptionsService")],$m.prototype,"gridOptionsService",2),N([Y("localeService")],$m.prototype,"localeService",2),N([Y("environment")],$m.prototype,"environment",2),N([Yl],$m.prototype,"destroy",1);var Jt=$m,_I=class extends Jt{setBeans(t){this.logger=t.create("ColumnFactory")}createColumnTree(t,e,n,i){const r=new ate,{existingCols:s,existingGroups:o,existingColKeys:c}=this.extractExistingTreeData(n);r.addExistingKeys(c);const d=this.recursivelyCreateColumns(t,0,e,s,r,o,i),p=this.findMaxDept(d,0);this.logger.log("Number of levels for grouped columns is "+p);const m=this.balanceColumnTree(d,0,p,r);return this.columnUtils.depthFirstOriginalTreeSearch(null,m,(A,k)=>{A instanceof v&&A.setupExpandable(),A.setOriginalParent(k)}),{columnTree:m,treeDept:p}}extractExistingTreeData(t){const e=[],n=[],i=[];return t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,r=>{if(r instanceof v)n.push(r);else{const s=r;i.push(s.getId()),e.push(s)}}),{existingCols:e,existingGroups:n,existingColKeys:i}}createForAutoGroups(t,e){return t.map(n=>this.createAutoGroupTreeItem(e,n))}createAutoGroupTreeItem(t,e){const n=this.findDepth(t);let i=e;for(let r=n-1;r>=0;r--){const s=new v(null,`FAKE_PATH_${e.getId()}}_${r}`,!0,r);this.createBean(s),s.setChildren([i]),i.setOriginalParent(s),i=s}return 0===n&&e.setOriginalParent(null),i}findDepth(t){let e=0,n=t;for(;n&&n[0]&&n[0]instanceof v;)e++,n=n[0].getChildren();return e}balanceColumnTree(t,e,n,i){const r=[];for(let s=0;s<t.length;s++){const o=t[s];if(o instanceof v){const c=o,d=this.balanceColumnTree(c.getChildren(),e+1,n,i);c.setChildren(d),r.push(c)}else{let c,d;for(let p=n-1;p>=e;p--){const m=i.getUniqueKey(null,null),y=this.createMergedColGroupDef(null),A=new v(y,m,!0,e);this.createBean(A),d&&d.setChildren([A]),d=A,c||(c=d)}if(c&&d){if(r.push(c),t.some(m=>m instanceof v)){d.setChildren([o]);continue}d.setChildren(t);break}r.push(o)}}return r}findMaxDept(t,e){let n=e;for(let i=0;i<t.length;i++){const r=t[i];if(r instanceof v){const o=this.findMaxDept(r.getChildren(),e+1);n<o&&(n=o)}}return n}recursivelyCreateColumns(t,e,n,i,r,s,o){if(!t)return[];const c=new Array(t.length);for(let d=0;d<c.length;d++){const p=t[d];c[d]=this.isColumnGroup(p)?this.createColumnGroup(n,p,e,i,r,s,o):this.createColumn(n,p,i,r,o)}return c}createColumnGroup(t,e,n,i,r,s,o){const c=this.createMergedColGroupDef(e),d=r.getUniqueKey(c.groupId||null,null),p=new v(c,d,!1,n);this.createBean(p);const m=this.findExistingGroup(e,s);m&&s.splice(m.idx,1);let y=m?.group;y&&p.setExpanded(y.isExpanded());const A=this.recursivelyCreateColumns(c.children,n+1,t,i,r,s,o);return p.setChildren(A),p}createMergedColGroupDef(t){const e={};return Object.assign(e,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(e,t),e}createColumn(t,e,n,i,r){const s=this.findExistingColumn(e,n);s&&n?.splice(s.idx,1);let o=s?.column;if(o){const c=this.addColumnDefaultAndTypes(e,o.getColId());o.setColDef(c,e,r),this.applyColumnState(o,c,r)}else{const c=i.getUniqueKey(e.colId,e.field),d=this.addColumnDefaultAndTypes(e,c);o=new f(d,e,c,t),this.context.createBean(o)}return this.dataTypeService.addColumnListeners(o),o}applyColumnState(t,e,n){const i=pf(e.flex);if(void 0!==i&&t.setFlex(i),t.getFlex()<=0){const c=pf(e.width);if(null!=c)t.setActualWidth(c,n);else{const d=t.getActualWidth();t.setActualWidth(d,n)}}void 0!==e.sort&&t.setSort("asc"==e.sort||"desc"==e.sort?e.sort:void 0,n);const s=pf(e.sortIndex);void 0!==s&&t.setSortIndex(s);const o=Fx(e.hide);void 0!==o&&t.setVisible(!o,n),void 0!==e.pinned&&t.setPinned(e.pinned)}findExistingColumn(t,e){if(e)for(let n=0;n<e.length;n++){const i=e[n].getUserProvidedColDef();if(i)if(null==t.colId){if(null==t.field){if(i===t)return{idx:n,column:e[n]}}else if(i.field===t.field)return{idx:n,column:e[n]}}else if(e[n].getId()===t.colId)return{idx:n,column:e[n]}}}findExistingGroup(t,e){if(null!=t.groupId)for(let i=0;i<e.length;i++){const r=e[i];if(r.getColGroupDef()&&r.getId()===t.groupId)return{idx:i,group:r}}}addColumnDefaultAndTypes(t,e){const n={};Kl(n,this.gridOptionsService.get("defaultColDef"),!1,!0);const r=this.dataTypeService.updateColDefAndGetColumnType(n,t,e);r&&this.assignColumnTypes(r,n),Kl(n,t,!1,!0);const s=this.gridOptionsService.get("autoGroupColumnDef"),o=this.gridOptionsService.isColumnsSortingCoupledToGroup();return t.rowGroup&&s&&o&&Kl(n,{sort:s.sort,initialSort:s.initialSort},!1,!0),this.dataTypeService.validateColDef(n),n}assignColumnTypes(t,e){if(!t.length)return;const n=Object.assign({},E);ml(this.gridOptionsService.get("columnTypes")||{},(r,s)=>{r in n?console.warn(`AG Grid: the column type '${r}' is a default column type and cannot be overridden.`):(s.type&&ei("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),n[r]=s)}),t.forEach(r=>{const s=n[r.trim()];s?Kl(e,s,!1,!0):console.warn("AG Grid: colDef.type '"+r+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(t){return void 0!==t.children}};N([Y("columnUtils")],_I.prototype,"columnUtils",2),N([Y("dataTypeService")],_I.prototype,"dataTypeService",2),N([ld(0,Eu("loggerFactory"))],_I.prototype,"setBeans",1),_I=N([bn("columnFactory")],_I);var xL=class Cg{constructor(e,n,i,r){this.displayedChildren=[],this.localEventService=new ih,this.groupId=n,this.partId=i,this.providedColumnGroup=e,this.pinned=r}static createUniqueId(e,n){return e+"_"+n}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return Cg.createUniqueId(this.groupId,this.partId)}isEmptyGroup(){return 0===this.displayedChildren.length}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!(!e||0===e.length)&&e.every(n=>n.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{e instanceof Cg&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.get("enableRtl")){const n=q(this.displayedChildren).getLeft();this.setLeft(n)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(Cg.EVENT_LEFT_CHANGED)))}getPinned(){return this.pinned}createAgEvent(e){return{type:e}}addEventListener(e,n){this.localEventService.addEventListener(e,n)}removeEventListener(e,n){this.localEventService.removeEventListener(e,n)}getGroupId(){return this.groupId}getPartId(){return this.partId}isChildInThisGroupDeepSearch(e){let n=!1;return this.children.forEach(i=>{e===i&&(n=!0),i instanceof Cg&&i.isChildInThisGroupDeepSearch(e)&&(n=!0)}),n}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(n=>{e+=n.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(n=>{n.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(n=>{e+=n.getMinWidth()||0}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}addDisplayedLeafColumns(e){this.displayedChildren.forEach(n=>{n instanceof f?e.push(n):n instanceof Cg&&n.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(n=>{n instanceof f?e.push(n):n instanceof Cg&&n.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return this.isPadding()&&e&&e.isPadding()?1+e.getPaddingLevel():0}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;null!=e&&e.isPadding();)e=e.getParent();if(!e||!e.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(Cg.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(i=>{if(!(i instanceof Cg)||i.displayedChildren&&i.displayedChildren.length)switch(i.getColumnGroupShow()){case"open":e.providedColumnGroup.isExpanded()&&this.displayedChildren.push(i);break;case"closed":e.providedColumnGroup.isExpanded()||this.displayedChildren.push(i);break;default:this.displayedChildren.push(i)}}),this.localEventService.dispatchEvent(this.createAgEvent(Cg.EVENT_DISPLAYED_CHILDREN_CHANGED))}};xL.EVENT_LEFT_CHANGED="leftChanged",xL.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",N([Y("gridOptionsService")],xL.prototype,"gridOptionsService",2);var da=xL,W=class{};W.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",W.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",W.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",W.EVENT_PIVOT_MAX_COLUMNS_EXCEEDED="pivotMaxColumnsExceeded",W.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",W.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",W.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",W.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",W.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",W.EVENT_COLUMN_MOVED="columnMoved",W.EVENT_COLUMN_VISIBLE="columnVisible",W.EVENT_COLUMN_PINNED="columnPinned",W.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",W.EVENT_COLUMN_RESIZED="columnResized",W.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",W.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns",W.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide",W.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation",W.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",W.EVENT_COLUMN_HEADER_MOUSE_OVER="columnHeaderMouseOver",W.EVENT_COLUMN_HEADER_MOUSE_LEAVE="columnHeaderMouseLeave",W.EVENT_COLUMN_HEADER_CLICKED="columnHeaderClicked",W.EVENT_COLUMN_HEADER_CONTEXT_MENU="columnHeaderContextMenu",W.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",W.EVENT_ROW_GROUP_OPENED="rowGroupOpened",W.EVENT_ROW_DATA_UPDATED="rowDataUpdated",W.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",W.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",W.EVENT_CHART_CREATED="chartCreated",W.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",W.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",W.EVENT_CHART_DESTROYED="chartDestroyed",W.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",W.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",W.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",W.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",W.EVENT_MODEL_UPDATED="modelUpdated",W.EVENT_CUT_START="cutStart",W.EVENT_CUT_END="cutEnd",W.EVENT_PASTE_START="pasteStart",W.EVENT_PASTE_END="pasteEnd",W.EVENT_FILL_START="fillStart",W.EVENT_FILL_END="fillEnd",W.EVENT_RANGE_DELETE_START="rangeDeleteStart",W.EVENT_RANGE_DELETE_END="rangeDeleteEnd",W.EVENT_UNDO_STARTED="undoStarted",W.EVENT_UNDO_ENDED="undoEnded",W.EVENT_REDO_STARTED="redoStarted",W.EVENT_REDO_ENDED="redoEnded",W.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",W.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",W.EVENT_CELL_CLICKED="cellClicked",W.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",W.EVENT_CELL_MOUSE_DOWN="cellMouseDown",W.EVENT_CELL_CONTEXT_MENU="cellContextMenu",W.EVENT_CELL_VALUE_CHANGED="cellValueChanged",W.EVENT_CELL_EDIT_REQUEST="cellEditRequest",W.EVENT_ROW_VALUE_CHANGED="rowValueChanged",W.EVENT_CELL_FOCUSED="cellFocused",W.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",W.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",W.EVENT_ROW_SELECTED="rowSelected",W.EVENT_SELECTION_CHANGED="selectionChanged",W.EVENT_TOOLTIP_SHOW="tooltipShow",W.EVENT_TOOLTIP_HIDE="tooltipHide",W.EVENT_CELL_KEY_DOWN="cellKeyDown",W.EVENT_CELL_MOUSE_OVER="cellMouseOver",W.EVENT_CELL_MOUSE_OUT="cellMouseOut",W.EVENT_FILTER_CHANGED="filterChanged",W.EVENT_FILTER_MODIFIED="filterModified",W.EVENT_FILTER_OPENED="filterOpened",W.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged",W.EVENT_SORT_CHANGED="sortChanged",W.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",W.EVENT_ROW_CLICKED="rowClicked",W.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",W.EVENT_GRID_READY="gridReady",W.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed",W.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",W.EVENT_VIEWPORT_CHANGED="viewportChanged",W.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",W.EVENT_FIRST_DATA_RENDERED="firstDataRendered",W.EVENT_DRAG_STARTED="dragStarted",W.EVENT_DRAG_STOPPED="dragStopped",W.EVENT_CHECKBOX_CHANGED="checkboxChanged",W.EVENT_ROW_EDITING_STARTED="rowEditingStarted",W.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",W.EVENT_CELL_EDITING_STARTED="cellEditingStarted",W.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",W.EVENT_BODY_SCROLL="bodyScroll",W.EVENT_BODY_SCROLL_END="bodyScrollEnd",W.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",W.EVENT_PAGINATION_CHANGED="paginationChanged",W.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",W.EVENT_STORE_REFRESHED="storeRefreshed",W.EVENT_STATE_UPDATED="stateUpdated",W.EVENT_COLUMN_MENU_VISIBLE_CHANGED="columnMenuVisibleChanged",W.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",W.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED="columnContainerWidthChanged",W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",W.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",W.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",W.EVENT_FLASH_CELLS="flashCells",W.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",W.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",W.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",W.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",W.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",W.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",W.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",W.EVENT_ROW_DRAG_ENTER="rowDragEnter",W.EVENT_ROW_DRAG_MOVE="rowDragMove",W.EVENT_ROW_DRAG_LEAVE="rowDragLeave",W.EVENT_ROW_DRAG_END="rowDragEnd",W.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",W.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",W.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",W.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",W.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",W.EVENT_STORE_UPDATED="storeUpdated",W.EVENT_FILTER_DESTROYED="filterDestroyed",W.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",W.EVENT_ROW_COUNT_READY="rowCountReady",W.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",W.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",W.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",W.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected",W.EVENT_SIDE_BAR_UPDATED="sideBarUpdated";var PL=new Set([W.EVENT_GRID_PRE_DESTROYED]),mte=class{constructor(){this.existingIds={}}getInstanceIdForKey(t){const e=this.existingIds[t];let n;return n="number"!=typeof e?0:e+1,this.existingIds[t]=n,n}},yI="ag-Grid-AutoColumn",Hx=class extends Jt{createAutoGroupColumns(t){const e=[],n=this.gridOptionsService.get("treeData");let i=this.gridOptionsService.isGroupMultiAutoColumn();return n&&i&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),i=!1),i?t.forEach((r,s)=>{e.push(this.createOneAutoGroupColumn(r,s))}):e.push(this.createOneAutoGroupColumn()),e}updateAutoGroupColumns(t,e){t.forEach((n,i)=>this.updateOneAutoGroupColumn(n,i,e))}createOneAutoGroupColumn(t,e){let n;n=t?`${yI}-${t.getId()}`:yI;const i=this.createAutoGroupColDef(n,t,e);i.colId=n;const r=new f(i,null,n,!0);return this.context.createBean(r),r}updateOneAutoGroupColumn(t,e,n){const i=t.getColDef(),r="string"==typeof i.showRowGroup?i.showRowGroup:void 0,s=null!=r?this.columnModel.getPrimaryColumn(r):void 0,o=this.createAutoGroupColDef(t.getId(),s??void 0,e);t.setColDef(o,null,n),this.columnFactory.applyColumnState(t,o,n)}createAutoGroupColDef(t,e,n){let i=this.createBaseColDef(e);return Kl(i,this.gridOptionsService.get("autoGroupColumnDef")),i=this.columnFactory.addColumnDefaultAndTypes(i,t),this.gridOptionsService.get("treeData")||hi(i.field)&&hi(i.valueGetter)&&hi(i.filterValueGetter)&&"agGroupColumnFilter"!==i.filter&&(i.filter=!1),n&&n>0&&(i.headerCheckboxSelection=!1),this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!(i.valueGetter||null!=i.field)&&(i.sortIndex=void 0,i.initialSort=void 0),i}createBaseColDef(t){const e=this.gridOptionsService.get("autoGroupColumnDef"),i={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(e&&(e.cellRenderer||e.cellRendererSelector)||(i.cellRenderer="agGroupCellRenderer"),t){const s=t.getColDef();Object.assign(i,{headerName:this.columnModel.getDisplayNameForColumn(t,"header"),headerValueGetter:s.headerValueGetter}),s.cellRenderer&&Object.assign(i,{cellRendererParams:{innerRenderer:s.cellRenderer,innerRendererParams:s.cellRendererParams}}),i.showRowGroup=t.getColId()}else i.showRowGroup=!0;return i}};N([Y("columnModel")],Hx.prototype,"columnModel",2),N([Y("columnFactory")],Hx.prototype,"columnFactory",2),Hx=N([bn("autoGroupColService")],Hx);var vte={};Qo(vte,{camelCaseToHumanText:()=>_te,camelCaseToHyphenated:()=>yte,capitalise:()=>Eve,escapeString:()=>ha,utf8_encode:()=>wve});var Cve=/[&<>"']/g,bve={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function wve(t){const e=String.fromCharCode;function r(y,A){return e(y>>A&63|128)}function s(y){if(y>=0&&y<=31&&10!==y)return`_x${y.toString(16).toUpperCase().padStart(4,"0")}_`;if(!(4294967168&y))return e(y);let A="";return 4294965248&y?4294901760&y?4292870144&y||(A=e(y>>18&7|240),A+=r(y,12),A+=r(y,6)):(function i(y){if(y>=55296&&y<=57343)throw Error("Lone surrogate U+"+y.toString(16).toUpperCase()+" is not a scalar value")}(y),A=e(y>>12&15|224),A+=r(y,6)):A=e(y>>6&31|192),A+=e(63&y|128),A}const o=function n(y){const A=[];if(!y)return[];const k=y.length;let X,Q,U=0;for(;U<k;)X=y.charCodeAt(U++),X>=55296&&X<=56319&&U<k?(Q=y.charCodeAt(U++),56320==(64512&Q)?A.push(((1023&X)<<10)+(1023&Q)+65536):(A.push(X),U--)):A.push(X);return A}(t),c=o.length;let p,d=-1,m="";for(;++d<c;)p=o[d],m+=s(p);return m}function Eve(t){return t[0].toUpperCase()+t.substring(1).toLowerCase()}function ha(t,e){if(null==t)return null;const n=t.toString().toString();return e?n:n.replace(Cve,i=>bve[i])}function _te(t){return t&&null!=t?t.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map(r=>r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")).join(" "):null}function yte(t){return t.replace(/[A-Z]/g,e=>`-${e.toLocaleLowerCase()}`)}var Cte={};function ay(t){const e=new Map;return t.forEach(n=>e.set(n[0],n[1])),e}function Sve(t,e){const n=new Map;return t.forEach(i=>n.set(e(i),i)),n}function Ive(t){const e=[];return t.forEach((n,i)=>e.push(i)),e}Qo(Cte,{convertToMap:()=>ay,keys:()=>Ive,mapById:()=>Sve});var Ra=class extends Jt{constructor(){super(...arguments),this.primaryHeaderRowCount=0,this.secondaryHeaderRowCount=0,this.gridHeaderRowCount=0,this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.displayedColumnsAndGroupsMap={},this.viewportColumns=[],this.viewportColumnsHash="",this.headerViewportColumns=[],this.viewportColumnsCenter=[],this.headerViewportColumnsCenter=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.autoHeightActiveAtLeastOnce=!1,this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[],this.ready=!1,this.changeEventsDispatching=!1,this.autoGroupsNeedBuilding=!1,this.forceRecreateAutoGroups=!1,this.pivotMode=!1,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}init(){this.suppressColumnVirtualisation=this.gridOptionsService.get("suppressColumnVirtualisation");const t=this.gridOptionsService.get("pivotMode");this.isPivotSettingAllowed(t)&&(this.pivotMode=t),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.buildAutoGroupColumns(CI(e.source))),this.addManagedPropertyListener("autoGroupColumnDef",e=>this.onAutoGroupColumnDefChanged(CI(e.source))),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],e=>this.onSharedColDefChanged(CI(e.source))),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gridOptionsService.get("pivotMode"),CI(e.source))),this.addManagedListener(this.eventService,W.EVENT_FIRST_DATA_RENDERED,()=>this.onFirstDataRendered())}buildAutoGroupColumns(t){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns(t))}onAutoGroupColumnDefChanged(t){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,t)}onSharedColDefChanged(t){this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,t),this.createColumnsFromColumnDefs(!0,t))}setColumnDefs(t,e){const n=!!this.columnDefs;this.columnDefs=t,this.createColumnsFromColumnDefs(n,e)}recreateColumnDefs(t){this.onSharedColDefChanged(t)}destroyOldColumns(t,e){const n={};if(!t)return;this.columnUtils.depthFirstOriginalTreeSearch(null,t,r=>{n[r.getInstanceId()]=r}),e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,r=>{n[r.getInstanceId()]=null});const i=Object.values(n).filter(r=>null!=r);this.destroyBeans(i)}destroyColumns(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)}createColumnsFromColumnDefs(t,e){const n=t?this.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;const i=this.primaryColumns,s=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree,e);this.destroyOldColumns(this.primaryColumnTree,s.columnTree),this.primaryColumnTree=s.columnTree,this.primaryHeaderRowCount=s.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(d=>this.primaryColumnsMap[d.getId()]=d),this.extractRowGroupColumns(e,i),this.extractPivotColumns(e,i),this.extractValueColumns(e,i),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary||this.autoGroupsNeedBuilding)&&(this.updateGridColumns(),t&&this.gridColsArePrimary&&!this.gridOptionsService.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(e),this.checkViewportColumns()),this.dispatchEverythingChanged(e),this.changeEventsDispatching=!0,n&&n(),this.changeEventsDispatching=!1,this.dispatchNewColumnsLoaded(e)}shouldRowModelIgnoreRefresh(){return this.changeEventsDispatching}dispatchNewColumnsLoaded(t){this.eventService.dispatchEvent({type:W.EVENT_NEW_COLUMNS_LOADED,source:t}),"gridInitializing"===t&&this.onColumnsReady()}dispatchEverythingChanged(t){this.eventService.dispatchEvent({type:W.EVENT_COLUMN_EVERYTHING_CHANGED,source:t})}orderGridColumnsLikePrimary(){const t=this.primaryColumns;if(!t)return;const e=t.filter(i=>this.gridColumns.indexOf(i)>=0),n=this.gridColumns.filter(i=>e.indexOf(i)<0);this.gridColumns=[...n,...e],this.gridColumns=this.placeLockedColumns(this.gridColumns)}getAllDisplayedAutoHeightCols(){return this.displayedAutoHeightCols}setViewport(){this.gridOptionsService.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)}getDisplayedColumnsStartingAt(t){let e=t;const n=[];for(;null!=e;)n.push(e),e=this.getDisplayedColAfter(e);return n}checkViewportColumns(t=!1){null!=this.displayedColumnsCenter&&this.extractViewport()&&this.eventService.dispatchEvent({type:W.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:t})}setViewportPosition(t,e,n=!1){(t!==this.scrollWidth||e!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=t,this.scrollPosition=e,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(n))}isPivotMode(){return this.pivotMode}isPivotSettingAllowed(t){return!t||!this.gridOptionsService.get("treeData")||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)}setPivotMode(t,e){t!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=t,this.gridColumns)&&(this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(e),this.eventService.dispatchEvent({type:W.EVENT_COLUMN_PIVOT_MODE_CHANGED}))}getSecondaryPivotColumn(t,e){if(hi(this.secondaryColumns))return null;const n=this.getPrimaryColumn(e);let i=null;return this.secondaryColumns.forEach(r=>{const s=r.getColDef().pivotKeys,o=r.getColDef().pivotValueColumn;ae(s,t)&&o===n&&(i=r)}),i}setBeans(t){this.logger=t.create("columnModel")}setFirstRightAndLastLeftPinned(t){let e,n;this.gridOptionsService.get("enableRtl")?(e=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,n=this.displayedColumnsRight?q(this.displayedColumnsRight):null):(e=this.displayedColumnsLeft?q(this.displayedColumnsLeft):null,n=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(i=>{i.setLastLeftPinned(i===e,t),i.setFirstRightPinned(i===n,t)})}autoSizeColumns(t){if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push(()=>this.autoSizeColumns(t));const{columns:e,skipHeader:n,skipHeaderGroups:i,stopAtGroup:r,source:s="api"}=t;this.animationFrameService.flushAllFrames();const o=[];let c=-1;const d=n??this.gridOptionsService.get("skipHeaderOnAutoSize"),p=i??d;for(;0!==c;)c=0,this.actionOnGridColumns(e,m=>{if(o.indexOf(m)>=0)return!1;const y=this.autoWidthCalculator.getPreferredWidthForColumn(m,d);if(y>0){const A=this.normaliseColumnWidth(m,y);m.setActualWidth(A,s),o.push(m),c++}return!0},s);p||this.autoSizeColumnGroupsByColumns(e,s,r),this.dispatchColumnResizedEvent(o,!0,"autosizeColumns")}dispatchColumnResizedEvent(t,e,n,i=null){t&&t.length&&this.eventService.dispatchEvent({type:W.EVENT_COLUMN_RESIZED,columns:t,column:1===t.length?t[0]:null,flexColumns:i,finished:e,source:n})}dispatchColumnChangedEvent(t,e,n){this.eventService.dispatchEvent({type:t,columns:e,column:e&&1==e.length?e[0]:null,source:n})}dispatchColumnMovedEvent(t){const{movedColumns:e,source:n,toIndex:i,finished:r}=t;this.eventService.dispatchEvent({type:W.EVENT_COLUMN_MOVED,columns:e,column:e&&1===e.length?e[0]:null,toIndex:i,finished:r,source:n})}dispatchColumnPinnedEvent(t,e){if(!t.length)return;const n=1===t.length?t[0]:null,i=this.getCommonValue(t,s=>s.getPinned());this.eventService.dispatchEvent({type:W.EVENT_COLUMN_PINNED,pinned:i??null,columns:t,column:n,source:e})}dispatchColumnVisibleEvent(t,e){if(!t.length)return;const n=1===t.length?t[0]:null,i=this.getCommonValue(t,s=>s.isVisible());this.eventService.dispatchEvent({type:W.EVENT_COLUMN_VISIBLE,visible:i,columns:t,column:n,source:e})}autoSizeColumn(t,e,n){t&&this.autoSizeColumns({columns:[t],skipHeader:n,skipHeaderGroups:!0,source:e})}autoSizeColumnGroupsByColumns(t,e,n){const i=new Set;let s;this.getGridColumns(t).forEach(c=>{let d=c.getParent();for(;d&&d!=n;)d.isPadding()||i.add(d),d=d.getParent()});for(const c of i){for(const d of this.ctrlsService.getHeaderRowContainerCtrls())if(s=d.getHeaderCtrlForColumn(c),s)break;s&&s.resizeLeafColumnsToFit(e)}return[]}autoSizeAllColumns(t,e){if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push(()=>this.autoSizeAllColumns(t,e));const n=this.getAllDisplayedColumns();this.autoSizeColumns({columns:n,skipHeader:e,source:t})}getColumnsFromTree(t){const e=[],n=i=>{for(let r=0;r<i.length;r++){const s=i[r];s instanceof f?e.push(s):s instanceof v&&n(s.getChildren())}};return n(t),e}getAllDisplayedTrees(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null}getPrimaryColumnTree(){return this.primaryColumnTree}getHeaderRowCount(){return this.gridHeaderRowCount}getDisplayedTreeLeft(){return this.displayedTreeLeft}getDisplayedTreeRight(){return this.displayedTreeRight}getDisplayedTreeCentre(){return this.displayedTreeCentre}isColumnDisplayed(t){return this.getAllDisplayedColumns().indexOf(t)>=0}getAllDisplayedColumns(){return this.displayedColumns}getViewportColumns(){return this.viewportColumns}getDisplayedLeftColumnsForRow(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsLeft):this.displayedColumnsLeft}getDisplayedRightColumnsForRow(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsRight):this.displayedColumnsRight}isColSpanActive(){return this.colSpanActive}getDisplayedColumnsForRow(t,e,n,i){const r=[];let s=null;for(let o=0;o<e.length;o++){const c=e[o],d=e.length-o,p=Math.min(c.getColSpan(t),d),m=[c];if(p>1){const A=p-1;for(let k=1;k<=A;k++)m.push(e[o+k]);o+=A}let y;n?(y=!1,m.forEach(A=>{n(A)&&(y=!0)})):y=!0,y&&(0===r.length&&s&&i&&i(c)&&r.push(s),r.push(c)),s=c}return r}getViewportCenterColumnsForRow(t){if(!this.colSpanActive)return this.viewportColumnsCenter;const n=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(t,this.displayedColumnsCenter,n,i=>{const r=i.getLeft();return $t(r)&&r>this.viewportLeft})}isColumnAtEdge(t,e){const n=this.getAllDisplayedColumns();if(!n.length)return!1;const i="first"===e;let r;if(t instanceof da){const s=t.getDisplayedLeafColumns();if(!s.length)return!1;r=i?s[0]:q(s)}else r=t;return(i?n[0]:q(n))===r}getAriaColumnIndex(t){let e;return e=t instanceof da?t.getLeafColumns()[0]:t,this.ariaOrderColumns.indexOf(e)+1}isColumnInHeaderViewport(t){return!!t.isAutoHeaderHeight()||this.isColumnInRowViewport(t)}isColumnInRowViewport(t){if(t.isAutoHeight())return!0;const e=t.getLeft()||0,n=e+t.getActualWidth(),i=this.viewportLeft-200,r=this.viewportRight+200;return!(e<i&&n<i||e>r&&n>r)}getDisplayedColumnsLeftWidth(){return this.getWidthOfColsInList(this.displayedColumnsLeft)}getDisplayedColumnsRightWidth(){return this.getWidthOfColsInList(this.displayedColumnsRight)}updatePrimaryColumnList(t,e,n,i,r,s){if(!t||ql(t))return;let o=!1;t.forEach(d=>{if(!d)return;const p=this.getPrimaryColumn(d);if(p){if(n){if(e.indexOf(p)>=0)return;e.push(p)}else{if(e.indexOf(p)<0)return;tn(e,p)}i(p),o=!0}}),o&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s),this.eventService.dispatchEvent({type:r,columns:e,column:1===e.length?e[0]:null,source:s}))}setRowGroupColumns(t,e){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(t,this.rowGroupColumns,W.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),e)}setRowGroupActive(t,e,n){t!==e.isRowGroupActive()&&(e.setRowGroupActive(t,n),t&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&this.setColumnsVisible([e],!1,n),!t&&!this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnsVisible([e],!0,n))}addRowGroupColumns(t,e){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),W.EVENT_COLUMN_ROW_GROUP_CHANGED,e)}removeRowGroupColumns(t,e){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),W.EVENT_COLUMN_ROW_GROUP_CHANGED,e)}addPivotColumns(t,e){this.updatePrimaryColumnList(t,this.pivotColumns,!0,n=>n.setPivotActive(!0,e),W.EVENT_COLUMN_PIVOT_CHANGED,e)}setPivotColumns(t,e){this.setPrimaryColumnList(t,this.pivotColumns,W.EVENT_COLUMN_PIVOT_CHANGED,!0,(n,i)=>{i.setPivotActive(n,e)},e)}removePivotColumns(t,e){this.updatePrimaryColumnList(t,this.pivotColumns,!1,n=>n.setPivotActive(!1,e),W.EVENT_COLUMN_PIVOT_CHANGED,e)}setPrimaryColumnList(t,e,n,i,r,s){if(!this.gridColumns)return;const o=new Map;e.forEach((c,d)=>o.set(c,d)),e.length=0,$t(t)&&t.forEach(c=>{const d=this.getPrimaryColumn(c);d&&e.push(d)}),e.forEach((c,d)=>{const p=o.get(c);void 0!==p?i&&p!==d||o.delete(c):o.set(c,0)}),(this.primaryColumns||[]).forEach(c=>{const d=e.indexOf(c)>=0;r(d,c)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s),this.dispatchColumnChangedEvent(n,[...o.keys()],s)}setValueColumns(t,e){this.setPrimaryColumnList(t,this.valueColumns,W.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),e)}setValueActive(t,e,n){if(t!==e.isValueActive()&&(e.setValueActive(t,n),t&&!e.getAggFunc())){const i=this.aggFuncService.getDefaultAggFunc(e);e.setAggFunc(i)}}addValueColumns(t,e){this.updatePrimaryColumnList(t,this.valueColumns,!0,this.setValueActive.bind(this,!0),W.EVENT_COLUMN_VALUE_CHANGED,e)}removeValueColumns(t,e){this.updatePrimaryColumnList(t,this.valueColumns,!1,this.setValueActive.bind(this,!1),W.EVENT_COLUMN_VALUE_CHANGED,e)}normaliseColumnWidth(t,e){const n=t.getMinWidth();$t(n)&&e<n&&(e=n);const i=t.getMaxWidth();return $t(i)&&t.isGreaterThanMax(e)&&(e=i),e}getPrimaryOrGridColumn(t){return this.getPrimaryColumn(t)||this.getGridColumn(t)}setColumnWidths(t,e,n,i){const r=[];t.forEach(s=>{const o=this.getPrimaryOrGridColumn(s.key);if(o&&(r.push({width:s.newWidth,ratios:[1],columns:[o]}),"shift"===this.gridOptionsService.get("colResizeDefault")&&(e=!e),e)){const d=this.getDisplayedColAfter(o);if(!d)return;const p=o.getActualWidth()-s.newWidth,m=d.getActualWidth()+p;r.push({width:m,ratios:[1],columns:[d]})}}),0!==r.length&&this.resizeColumnSets({resizeSets:r,finished:n,source:i})}checkMinAndMaxWidthsForSet(t){const{columns:e,width:n}=t;let i=0,r=0,s=!0;return e.forEach(d=>{const p=d.getMinWidth();i+=p||0;const m=d.getMaxWidth();$t(m)&&m>0?r+=m:s=!1}),n>=i&&(!s||n<=r)}resizeColumnSets(t){const{resizeSets:e,finished:n,source:i}=t;if(e&&!e.every(m=>this.checkMinAndMaxWidthsForSet(m)))return void(n&&this.dispatchColumnResizedEvent(e&&e.length>0?e[0].columns:null,n,i));const s=[],o=[];e.forEach(m=>{const{width:y,columns:A,ratios:k}=m,U={},X={};A.forEach(Ie=>o.push(Ie));let Q=!0,pe=0;for(;Q;){if(pe++,pe>1e3){console.error("AG Grid: infinite loop in resizeColumnSets");break}Q=!1;const Ie=[];let ke=0,tt=y;A.forEach((Ot,Se)=>{X[Ot.getId()]?tt-=U[Ot.getId()]:(Ie.push(Ot),ke+=k[Se])});const zt=1/ke;Ie.forEach((Ot,Se)=>{let De;Se===Ie.length-1?De=tt:(De=Math.round(k[Se]*y*zt),tt-=De);const Ke=Ot.getMinWidth(),et=Ot.getMaxWidth();$t(Ke)&&De<Ke?(De=Ke,X[Ot.getId()]=!0,Q=!0):$t(et)&&et>0&&De>et&&(De=et,X[Ot.getId()]=!0,Q=!0),U[Ot.getId()]=De})}A.forEach(Ie=>{const ke=U[Ie.getId()];Ie.getActualWidth()!==ke&&(Ie.setActualWidth(ke,i),s.push(Ie))})});const c=s.length>0;let d=[];c&&(d=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}),this.setLeftValues(i),this.updateBodyWidths(),this.checkViewportColumns());const p=o.concat(d);(c||n)&&this.dispatchColumnResizedEvent(p,n,i,d)}setColumnAggFunc(t,e,n){if(!t)return;const i=this.getPrimaryColumn(t);i&&(i.setAggFunc(e),this.dispatchColumnChangedEvent(W.EVENT_COLUMN_VALUE_CHANGED,[i],n))}moveRowGroupColumn(t,e,n){if(this.isRowGroupEmpty())return;const i=this.rowGroupColumns[t],r=this.rowGroupColumns.slice(t,e);this.rowGroupColumns.splice(t,1),this.rowGroupColumns.splice(e,0,i),this.eventService.dispatchEvent({type:W.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:r,column:1===r.length?r[0]:null,source:n})}moveColumns(t,e,n,i=!0){if(!this.gridColumns)return;if(this.columnAnimationService.start(),e>this.gridColumns.length-t.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+e),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");const r=this.getGridColumns(t);this.doesMovePassRules(r,e)&&(Br(this.gridColumns,r,e),this.updateDisplayedColumns(n),this.dispatchColumnMovedEvent({movedColumns:r,source:n,toIndex:e,finished:i}),this.columnAnimationService.finish())}doesMovePassRules(t,e){const n=this.getProposedColumnOrder(t,e);return this.doesOrderPassRules(n)}doesOrderPassRules(t){return!(!this.doesMovePassMarryChildren(t)||!this.doesMovePassLockedPositions(t))}getProposedColumnOrder(t,e){const n=this.gridColumns.slice();return Br(n,t,e),n}sortColumnsLikeGridColumns(t){!t||t.length<=1||t.filter(n=>this.gridColumns.indexOf(n)<0).length>0||t.sort((n,i)=>this.gridColumns.indexOf(n)-this.gridColumns.indexOf(i))}doesMovePassLockedPositions(t){let e=0,n=!0;return t.forEach(r=>{const s=(r=>r?!0===r||"left"===r?0:2:1)(r.getColDef().lockPosition);s<e&&(n=!1),e=s}),n}doesMovePassMarryChildren(t){let e=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,n=>{if(!(n instanceof v))return;const i=n,r=i.getColGroupDef();if(!r||!r.marryChildren)return;const o=[];i.getLeafColumns().forEach(y=>{const A=t.indexOf(y);o.push(A)}),Math.max.apply(Math,o)-Math.min.apply(Math,o)>i.getLeafColumns().length-1&&(e=!1)}),e}moveColumnByIndex(t,e,n){this.gridColumns&&this.moveColumns([this.gridColumns[t]],e,n)}getColumnDefs(){if(!this.primaryColumns)return;const t=this.primaryColumns.slice();return this.gridColsArePrimary?t.sort((e,n)=>this.gridColumns.indexOf(e)-this.gridColumns.indexOf(n)):this.lastPrimaryOrder&&t.sort((e,n)=>this.lastPrimaryOrder.indexOf(e)-this.lastPrimaryOrder.indexOf(n)),this.columnDefFactory.buildColumnDefs(t,this.rowGroupColumns,this.pivotColumns)}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(t){switch(t){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}updateBodyWidths(){const t=this.getWidthOfColsInList(this.displayedColumnsCenter),e=this.getWidthOfColsInList(this.displayedColumnsLeft),n=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==t,(this.bodyWidth!==t||this.leftWidth!==e||this.rightWidth!==n)&&(this.bodyWidth=t,this.leftWidth=e,this.rightWidth=n,this.eventService.dispatchEvent({type:W.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED}),this.eventService.dispatchEvent({type:W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED}))}getValueColumns(){return this.valueColumns?this.valueColumns:[]}getPivotColumns(){return this.pivotColumns?this.pivotColumns:[]}isPivotActive(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode}getRowGroupColumns(){return this.rowGroupColumns?this.rowGroupColumns:[]}getDisplayedCenterColumns(){return this.displayedColumnsCenter}getDisplayedLeftColumns(){return this.displayedColumnsLeft}getDisplayedRightColumns(){return this.displayedColumnsRight}getDisplayedColumns(t){switch(t){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}}getAllPrimaryColumns(){return this.primaryColumns?this.primaryColumns:null}getSecondaryColumns(){return this.secondaryColumns?this.secondaryColumns:null}getAllColumnsForQuickFilter(){return this.columnsForQuickFilter}getAllGridColumns(){var t;return null!=(t=this.gridColumns)?t:[]}isEmpty(){return ql(this.gridColumns)}isRowGroupEmpty(){return ql(this.rowGroupColumns)}setColumnsVisible(t,e=!1,n){this.applyColumnState({state:t.map(i=>({colId:"string"==typeof i?i:i.getColId(),hide:!e}))},n)}setColumnsPinned(t,e,n){if(!this.gridColumns)return;if(this.gridOptionsService.isDomLayout("print"))return void console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");let i;this.columnAnimationService.start(),i=!0===e||"left"===e?"left":"right"===e?"right":null,this.actionOnGridColumns(t,r=>r.getPinned()!==i&&(r.setPinned(i),!0),n,()=>({type:W.EVENT_COLUMN_PINNED,pinned:i,column:null,columns:null,source:n})),this.columnAnimationService.finish()}actionOnGridColumns(t,e,n,i){if(ql(t))return;const r=[];if(t.forEach(s=>{if(!s)return;const o=this.getGridColumn(s);o&&!1!==e(o)&&r.push(o)}),r.length&&(this.updateDisplayedColumns(n),$t(i)&&i)){const s=i();s.columns=r,s.column=1===r.length?r[0]:null,this.eventService.dispatchEvent(s)}}getDisplayedColBefore(t){const e=this.getAllDisplayedColumns(),n=e.indexOf(t);return n>0?e[n-1]:null}getDisplayedColAfter(t){const e=this.getAllDisplayedColumns(),n=e.indexOf(t);return n<e.length-1?e[n+1]:null}getDisplayedGroupAfter(t){return this.getDisplayedGroupAtDirection(t,"After")}getDisplayedGroupBefore(t){return this.getDisplayedGroupAtDirection(t,"Before")}getDisplayedGroupAtDirection(t,e){const n=t.getProvidedColumnGroup().getLevel()+t.getPaddingLevel(),i=t.getDisplayedLeafColumns(),r="After"===e?q(i):i[0],s=`getDisplayedCol${e}`;for(;;){const o=this[s](r);if(!o)return null;const c=this.getColumnGroupAtLevel(o,n);if(c!==t)return c}}getColumnGroupAtLevel(t,e){let i,r,n=t.getParent();for(;i=n.getProvidedColumnGroup().getLevel(),r=n.getPaddingLevel(),!(i+r<=e);)n=n.getParent();return n}isPinningLeft(){return this.displayedColumnsLeft.length>0}isPinningRight(){return this.displayedColumnsRight.length>0}getPrimaryAndSecondaryAndAutoColumns(){return[].concat(this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[])}createStateItemFromColumn(t){const e=t.isRowGroupActive()?this.rowGroupColumns.indexOf(t):null,n=t.isPivotActive()?this.pivotColumns.indexOf(t):null,i=t.isValueActive()?t.getAggFunc():null,r=null!=t.getSort()?t.getSort():null,s=null!=t.getSortIndex()?t.getSortIndex():null,o=null!=t.getFlex()&&t.getFlex()>0?t.getFlex():null;return{colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:r,sortIndex:s,aggFunc:i,rowGroup:t.isRowGroupActive(),rowGroupIndex:e,pivot:t.isPivotActive(),pivotIndex:n,flex:o}}getColumnState(){if(hi(this.primaryColumns)||!this.isAlive())return[];const e=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(e),e}orderColumnStateList(t){const e=ay(this.gridColumns.map((n,i)=>[n.getColId(),i]));t.sort((n,i)=>(e.has(n.colId)?e.get(n.colId):-1)-(e.has(i.colId)?e.get(i.colId):-1))}resetColumnState(t){if(ql(this.primaryColumns))return;const e=this.getColumnsFromTree(this.primaryColumnTree),n=[];let i=1e3,r=1e3,s=[];this.groupAutoColumns&&(s=s.concat(this.groupAutoColumns)),e&&(s=s.concat(e)),s.forEach(o=>{const c=this.getColumnStateFromColDef(o);hi(c.rowGroupIndex)&&c.rowGroup&&(c.rowGroupIndex=i++),hi(c.pivotIndex)&&c.pivot&&(c.pivotIndex=r++),n.push(c)}),this.applyColumnState({state:n,applyOrder:!0},t)}getColumnStateFromColDef(t){const e=(U,X)=>U??X??null,n=t.getColDef(),i=e(n.sort,n.initialSort),r=e(n.sortIndex,n.initialSortIndex),s=e(n.hide,n.initialHide),o=e(n.pinned,n.initialPinned),c=e(n.width,n.initialWidth),d=e(n.flex,n.initialFlex);let p=e(n.rowGroupIndex,n.initialRowGroupIndex),m=e(n.rowGroup,n.initialRowGroup);null==p&&(null==m||0==m)&&(p=null,m=null);let y=e(n.pivotIndex,n.initialPivotIndex),A=e(n.pivot,n.initialPivot);null==y&&(null==A||0==A)&&(y=null,A=null);const k=e(n.aggFunc,n.initialAggFunc);return{colId:t.getColId(),sort:i,sortIndex:r,hide:s,pinned:o,width:c,flex:d,rowGroup:m,rowGroupIndex:p,pivot:A,pivotIndex:y,aggFunc:k}}applyColumnState(t,e){if(ql(this.primaryColumns))return!1;if(t&&t.state&&!t.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const n=(s,o,c)=>{const d=this.compareColumnStatesAndDispatchEvents(e);this.autoGroupsNeedBuilding=!0;const p=o.slice(),m={},y={},A=[],k=[];let U=0;const X=this.rowGroupColumns.slice(),Q=this.pivotColumns.slice();s.forEach(tt=>{const zt=tt.colId||"";if(zt.startsWith(yI))return A.push(tt),void k.push(tt);const Se=c(zt);Se?(this.syncColumnWithStateItem(Se,tt,t.defaultState,m,y,!1,e),tn(p,Se)):(k.push(tt),U+=1)});const pe=tt=>this.syncColumnWithStateItem(tt,null,t.defaultState,m,y,!1,e);p.forEach(pe);const Ie=(tt,zt,Ot,Se)=>{const me=tt[Ot.getId()],De=tt[Se.getId()],Ke=null!=me,et=null!=De;if(Ke&&et)return me-De;if(Ke)return-1;if(et)return 1;const pt=zt.indexOf(Ot),Oe=zt.indexOf(Se),yh=pt>=0;return yh&&Oe>=0?pt-Oe:yh?-1:1};this.rowGroupColumns.sort(Ie.bind(this,m,X)),this.pivotColumns.sort(Ie.bind(this,y,Q)),this.updateGridColumns();const ke=this.groupAutoColumns?this.groupAutoColumns.slice():[];return A.forEach(tt=>{const zt=this.getAutoColumn(tt.colId);tn(ke,zt),this.syncColumnWithStateItem(zt,tt,t.defaultState,null,null,!0,e)}),ke.forEach(pe),this.applyOrderAfterApplyState(t),this.updateDisplayedColumns(e),this.dispatchEverythingChanged(e),d(),{unmatchedAndAutoStates:k,unmatchedCount:U}};this.columnAnimationService.start();let{unmatchedAndAutoStates:i,unmatchedCount:r}=n(t.state||[],this.primaryColumns||[],s=>this.getPrimaryColumn(s));return(i.length>0||$t(t.defaultState))&&(r=n(i,this.secondaryColumns||[],s=>this.getSecondaryColumn(s)).unmatchedCount),this.columnAnimationService.finish(),0===r}applyOrderAfterApplyState(t){if(!t.applyOrder||!t.state)return;let e=[];const n={};t.state.forEach(r=>{if(!r.colId||n[r.colId])return;const s=this.gridColumnsMap[r.colId];s&&(e.push(s),n[r.colId]=!0)});let i=0;this.gridColumns.forEach(r=>{const s=r.getColId();null==n[s]&&(s.startsWith(yI)?di(e,r,i++):e.push(r))}),e=this.placeLockedColumns(e),this.doesMovePassMarryChildren(e)?this.gridColumns=e:console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}compareColumnStatesAndDispatchEvents(t){const e={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},n=this.getColumnState(),i={};return n.forEach(r=>{i[r.colId]=r}),()=>{const r=this.getPrimaryAndSecondaryAndAutoColumns(),s=(X,Q,pe,Ie)=>{if(ae(Q.map(Ie),pe.map(Ie)))return;const Ot=new Set(Q);pe.forEach(De=>{Ot.delete(De)||Ot.add(De)});const Se=[...Ot];this.eventService.dispatchEvent({type:X,columns:Se,column:1===Se.length?Se[0]:null,source:t})},o=X=>{const Q=[];return r.forEach(pe=>{const Ie=i[pe.getColId()];Ie&&X(Ie,pe)&&Q.push(pe)}),Q},c=X=>X.getColId();s(W.EVENT_COLUMN_ROW_GROUP_CHANGED,e.rowGroupColumns,this.rowGroupColumns,c),s(W.EVENT_COLUMN_PIVOT_CHANGED,e.pivotColumns,this.pivotColumns,c);const p=o((X,Q)=>{const pe=null!=X.aggFunc,Ie=pe!=Q.isValueActive(),ke=pe&&X.aggFunc!=Q.getAggFunc();return Ie||ke});p.length>0&&this.dispatchColumnChangedEvent(W.EVENT_COLUMN_VALUE_CHANGED,p,t),this.dispatchColumnResizedEvent(o((X,Q)=>X.width!=Q.getActualWidth()),!0,t),this.dispatchColumnPinnedEvent(o((X,Q)=>X.pinned!=Q.getPinned()),t),this.dispatchColumnVisibleEvent(o((X,Q)=>X.hide==Q.isVisible()),t);const U=o((X,Q)=>X.sort!=Q.getSort()||X.sortIndex!=Q.getSortIndex());U.length>0&&this.sortController.dispatchSortChangedEvents(t,U),this.normaliseColumnMovedEventForColumnState(n,t)}}getCommonValue(t,e){if(!t||0==t.length)return;const n=e(t[0]);for(let i=1;i<t.length;i++)if(n!==e(t[i]))return;return n}normaliseColumnMovedEventForColumnState(t,e){const n=this.getColumnState(),i={};n.forEach(d=>i[d.colId]=d);const r={};t.forEach(d=>{i[d.colId]&&(r[d.colId]=!0)});const s=t.filter(d=>r[d.colId]),o=n.filter(d=>r[d.colId]),c=[];o.forEach((d,p)=>{const m=s&&s[p];if(m&&m.colId!==d.colId){const y=this.getGridColumn(m.colId);y&&c.push(y)}}),c.length&&this.dispatchColumnMovedEvent({movedColumns:c,source:e,finished:!0})}syncColumnWithStateItem(t,e,n,i,r,s,o){if(!t)return;const c=(ke,tt)=>{const zt={value1:void 0,value2:void 0};let Ot=!1;return e&&(void 0!==e[ke]&&(zt.value1=e[ke],Ot=!0),$t(tt)&&void 0!==e[tt]&&(zt.value2=e[tt],Ot=!0)),!Ot&&n&&(void 0!==n[ke]&&(zt.value1=n[ke]),$t(tt)&&void 0!==n[tt]&&(zt.value2=n[tt])),zt},d=c("hide").value1;void 0!==d&&t.setVisible(!d,o);const p=c("pinned").value1;void 0!==p&&t.setPinned(p);const m=this.columnUtils.calculateColMinWidth(t.getColDef()),y=c("flex").value1;if(void 0!==y&&t.setFlex(y),null==y){const ke=c("width").value1;null!=ke&&null!=m&&ke>=m&&t.setActualWidth(ke,o)}const A=c("sort").value1;void 0!==A&&t.setSort("desc"===A||"asc"===A?A:void 0,o);const k=c("sortIndex").value1;if(void 0!==k&&t.setSortIndex(k),s||!t.isPrimary())return;const U=c("aggFunc").value1;void 0!==U&&("string"==typeof U?(t.setAggFunc(U),t.isValueActive()||(t.setValueActive(!0,o),this.valueColumns.push(t))):($t(U)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),t.isValueActive()&&(t.setValueActive(!1,o),tn(this.valueColumns,t))));const{value1:X,value2:Q}=c("rowGroup","rowGroupIndex");(void 0!==X||void 0!==Q)&&("number"==typeof Q||X?(t.isRowGroupActive()||(t.setRowGroupActive(!0,o),this.rowGroupColumns.push(t)),i&&"number"==typeof Q&&(i[t.getId()]=Q)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,o),tn(this.rowGroupColumns,t)));const{value1:pe,value2:Ie}=c("pivot","pivotIndex");(void 0!==pe||void 0!==Ie)&&("number"==typeof Ie||pe?(t.isPivotActive()||(t.setPivotActive(!0,o),this.pivotColumns.push(t)),r&&"number"==typeof Ie&&(r[t.getId()]=Ie)):t.isPivotActive()&&(t.setPivotActive(!1,o),tn(this.pivotColumns,t)))}getGridColumns(t){return this.getColumns(t,this.getGridColumn.bind(this))}getColumns(t,e){const n=[];return t&&t.forEach(i=>{const r=e(i);r&&n.push(r)}),n}getColumnWithValidation(t){if(null==t)return null;const e=this.getGridColumn(t);return e||console.warn("AG Grid: could not find column "+t),e}getPrimaryColumn(t){return this.primaryColumns?this.getColumn(t,this.primaryColumns,this.primaryColumnsMap):null}getGridColumn(t){return this.getColumn(t,this.gridColumns,this.gridColumnsMap)}lookupGridColumn(t){return this.gridColumnsMap[t]}getSecondaryColumn(t){return this.secondaryColumns?this.getColumn(t,this.secondaryColumns,this.secondaryColumnsMap):null}getColumn(t,e,n){if(!t||!n)return null;if("string"==typeof t&&n[t])return n[t];for(let i=0;i<e.length;i++)if(this.columnsMatch(e[i],t))return e[i];return this.getAutoColumn(t)}getSourceColumnsForGroupColumn(t){const e=t.getColDef().showRowGroup;if(!e)return null;if(!0===e)return this.rowGroupColumns.slice(0);const n=this.getPrimaryColumn(e);return n?[n]:null}getAutoColumn(t){return this.groupAutoColumns&&$t(this.groupAutoColumns)&&!hi(this.groupAutoColumns)&&this.groupAutoColumns.find(e=>this.columnsMatch(e,t))||null}columnsMatch(t,e){const n=t===e,i=t.getColDef()===e,r=t.getColId()==e;return n||i||r}getDisplayNameForColumn(t,e,n=!1){if(!t)return null;const i=this.getHeaderName(t.getColDef(),t,null,null,e);return n?this.wrapHeaderNameWithAggFunc(t,i):i}getDisplayNameForProvidedColumnGroup(t,e,n){const i=e?e.getColGroupDef():null;return i?this.getHeaderName(i,null,t,e,n):null}getDisplayNameForColumnGroup(t,e){return this.getDisplayNameForProvidedColumnGroup(t,t.getProvidedColumnGroup(),e)}getHeaderName(t,e,n,i,r){const s=t.headerValueGetter;if(s){const o=this.gridOptionsService.addGridCommonParams({colDef:t,column:e,columnGroup:n,providedColumnGroup:i,location:r});return"function"==typeof s?s(o):"string"==typeof s?this.expressionService.evaluate(s,o):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}return null!=t.headerName?t.headerName:t.field?_te(t.field):""}wrapHeaderNameWithAggFunc(t,e){if(this.gridOptionsService.get("suppressAggFuncInHeader"))return e;const n=t.getColDef().pivotValueColumn;let s,r=null;if($t(n)){const o=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&1===this.valueColumns.length,c=void 0!==t.getColDef().pivotTotalColumnIds;if(o&&!c)return e;r=n?n.getAggFunc():null,s=!0}else{const o=t.isValueActive(),c=this.pivotMode||!this.isRowGroupEmpty();o&&c?(r=t.getAggFunc(),s=!0):s=!1}if(s){const o="string"==typeof r?r:"func";return`${this.localeService.getLocaleTextFunc()(o,o)}(${e})`}return e}getColumnGroup(t,e){if(!t)return null;if(t instanceof da)return t;const n=this.getAllDisplayedTrees(),i="number"==typeof e;let r=null;return this.columnUtils.depthFirstAllColumnTreeSearch(n,s=>{if(s instanceof da){const o=s;let c;c=i?t===o.getGroupId()&&e===o.getPartId():t===o.getGroupId(),c&&(r=o)}}),r}isReady(){return this.ready}extractValueColumns(t,e){this.valueColumns=this.extractColumns(e,this.valueColumns,(n,i)=>n.setValueActive(i,t),()=>{},()=>{},n=>{const i=n.aggFunc;return null===i||""===i?null:void 0!==i?!!i:void 0},n=>null!=n.initialAggFunc&&""!=n.initialAggFunc),this.valueColumns.forEach(n=>{const i=n.getColDef();null!=i.aggFunc&&""!=i.aggFunc?n.setAggFunc(i.aggFunc):n.getAggFunc()||n.setAggFunc(i.initialAggFunc)})}extractRowGroupColumns(t,e){this.rowGroupColumns=this.extractColumns(e,this.rowGroupColumns,(n,i)=>n.setRowGroupActive(i,t),n=>n.rowGroupIndex,n=>n.initialRowGroupIndex,n=>n.rowGroup,n=>n.initialRowGroup)}extractColumns(t=[],e=[],n,i,r,s,o){const c=[],d=[];(this.primaryColumns||[]).forEach(y=>{const A=t.indexOf(y)<0,k=y.getColDef(),U=Fx(s(k)),X=Fx(o(k)),Q=pf(i(k)),pe=pf(r(k));let Ie;Ie=void 0!==U?U:void 0!==Q?null!==Q&&Q>=0:A?void 0!==X?X:void 0!==pe&&null!=pe&&pe>=0:e.indexOf(y)>=0,Ie&&((A?null!=Q||null!=pe:null!=Q)?c.push(y):d.push(y))});const p=y=>{const A=i(y.getColDef()),k=r(y.getColDef());return A??k};c.sort((y,A)=>{const k=p(y),U=p(A);return k===U?0:k<U?-1:1});const m=[].concat(c);return e.forEach(y=>{d.indexOf(y)>=0&&m.push(y)}),d.forEach(y=>{m.indexOf(y)<0&&m.push(y)}),e.forEach(y=>{m.indexOf(y)<0&&n(y,!1)}),m.forEach(y=>{e.indexOf(y)<0&&n(y,!0)}),m}extractPivotColumns(t,e){this.pivotColumns=this.extractColumns(e,this.pivotColumns,(n,i)=>n.setPivotActive(i,t),n=>n.pivotIndex,n=>n.initialPivotIndex,n=>n.pivot,n=>n.initialPivot)}resetColumnGroupState(t){if(!this.primaryColumnTree)return;const e=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,n=>{if(n instanceof v){const i=n.getColGroupDef(),r={groupId:n.getGroupId(),open:i?i.openByDefault:void 0};e.push(r)}}),this.setColumnGroupState(e,t)}getColumnGroupState(){const t=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,e=>{e instanceof v&&t.push({groupId:e.getGroupId(),open:e.isExpanded()})}),t}setColumnGroupState(t,e){if(!this.gridBalancedTree)return;this.columnAnimationService.start();const n=[];t.forEach(i=>{const s=i.open,o=this.getProvidedColumnGroup(i.groupId);o&&o.isExpanded()!==s&&(this.logger.log("columnGroupOpened("+o.getGroupId()+","+s+")"),o.setExpanded(s),n.push(o))}),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e),n.length&&this.eventService.dispatchEvent({type:W.EVENT_COLUMN_GROUP_OPENED,columnGroup:1===v.length?n[0]:void 0,columnGroups:n}),this.columnAnimationService.finish()}setColumnGroupOpened(t,e,n){let i;i=t instanceof v?t.getId():t||"",this.setColumnGroupState([{groupId:i,open:e}],n)}getProvidedColumnGroup(t){"string"!=typeof t&&console.error("AG Grid: group key must be a string");let e=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,n=>{n instanceof v&&n.getId()===t&&(e=n)}),e}calculateColumnsForDisplay(){let t;return t=this.pivotMode&&hi(this.secondaryColumns)?this.gridColumns.filter(e=>{const n=this.groupAutoColumns&&Nr(this.groupAutoColumns,e),i=this.valueColumns&&Nr(this.valueColumns,e);return n||i}):this.gridColumns.filter(e=>this.groupAutoColumns&&Nr(this.groupAutoColumns,e)||e.isVisible()),t}checkColSpanActiveInCols(t){let e=!1;return t.forEach(n=>{$t(n.getColDef().colSpan)&&(e=!0)}),e}calculateColumnsForGroupDisplay(){this.groupDisplayColumns=[],this.groupDisplayColumnsMap={},this.gridColumns.forEach(e=>{const n=e.getColDef(),i=n.showRowGroup;n&&$t(i)&&(this.groupDisplayColumns.push(e),"string"==typeof i?this.groupDisplayColumnsMap[i]=e:!0===i&&this.getRowGroupColumns().forEach(r=>{this.groupDisplayColumnsMap[r.getId()]=e}))})}getGroupDisplayColumns(){return this.groupDisplayColumns}getGroupDisplayColumnForGroup(t){return this.groupDisplayColumnsMap[t]}updateDisplayedColumns(t){const e=this.calculateColumnsForDisplay();this.buildDisplayedTrees(e),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t)}isSecondaryColumnsPresent(){return $t(this.secondaryColumns)}setSecondaryColumns(t,e){if(!this.gridColumns)return;const n=t;if(n||!hi(this.secondaryColumns)){if(n){this.processSecondaryColumnDefinitions(t);const i=this.columnFactory.createColumnTree(t,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0,e);this.destroyOldColumns(this.secondaryBalancedTree,i.columnTree),this.secondaryBalancedTree=i.columnTree,this.secondaryHeaderRowCount=i.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(r=>this.secondaryColumnsMap[r.getId()]=r),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(e)}}processSecondaryColumnDefinitions(t){const e=this.gridOptionsService.get("processPivotResultColDef"),n=this.gridOptionsService.get("processPivotResultColGroupDef");if(!e&&!n)return;const i=r=>{r.forEach(s=>{if($t(s.children)){const c=s;n&&n(c),i(c.children)}else e&&e(s)})};t&&i(t)}updateGridColumns(){const t=this.gridBalancedTree;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.createGroupAutoColumnsIfNeeded()){const i=ay(this.groupAutoColumns.map(r=>[r,!0]));this.lastPrimaryOrder&&(this.lastPrimaryOrder=this.lastPrimaryOrder.filter(r=>!i.has(r)),this.lastPrimaryOrder=[...this.groupAutoColumns,...this.lastPrimaryOrder]),this.lastSecondaryOrder&&(this.lastSecondaryOrder=this.lastSecondaryOrder.filter(r=>!i.has(r)),this.lastSecondaryOrder=[...this.groupAutoColumns,...this.lastSecondaryOrder])}let n;if(this.secondaryColumns&&this.secondaryBalancedTree){const i=this.secondaryColumns.some(r=>void 0!==this.gridColumnsMap[r.getColId()]);this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,i&&(n=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,n=this.lastPrimaryOrder);this.addAutoGroupToGridColumns(),this.orderGridColsLike(n),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(i=>this.gridColumnsMap[i.getId()]=i),this.setAutoHeightActive(),ae(t,this.gridBalancedTree)||this.eventService.dispatchEvent({type:W.EVENT_GRID_COLUMNS_CHANGED})}setAutoHeightActive(){this.autoHeightActive=this.gridColumns.filter(t=>t.isAutoHeight()).length>0,this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide")||ei("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}orderGridColsLike(t){if(hi(t))return;const e=ay(t.map((d,p)=>[d,p]));let n=!0;if(this.gridColumns.forEach(d=>{e.has(d)&&(n=!1)}),n)return;const i=ay(this.gridColumns.map(d=>[d,!0])),r=t.filter(d=>i.has(d)),s=ay(r.map(d=>[d,!0])),o=this.gridColumns.filter(d=>!s.has(d)),c=r.slice();o.forEach(d=>{let p=d.getOriginalParent();if(!p)return void c.push(d);const m=[];for(;!m.length&&p;)p.getLeafColumns().forEach(U=>{const X=c.indexOf(U)>=0,Q=m.indexOf(U)<0;X&&Q&&m.push(U)}),p=p.getOriginalParent();if(!m.length)return void c.push(d);const y=m.map(k=>c.indexOf(k)),A=Math.max(...y);di(c,d,A+1)}),this.gridColumns=c}isPrimaryColumnGroupsPresent(){return this.primaryHeaderRowCount>1}refreshQuickFilterColumns(){var t;let e=null!=(t=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)?t:[];this.groupAutoColumns&&(e=e.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")?e:e.filter(n=>n.isVisible()||n.isRowGroupActive())}placeLockedColumns(t){const e=[],n=[],i=[];return t.forEach(r=>{const s=r.getColDef().lockPosition;"right"===s?i.push(r):"left"===s||!0===s?e.push(r):n.push(r)}),[...e,...n,...i]}addAutoGroupToGridColumns(){if(hi(this.groupAutoColumns))return this.destroyOldColumns(this.groupAutoColsBalancedTree),void(this.groupAutoColsBalancedTree=null);this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;const t=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,t),this.groupAutoColsBalancedTree=t,this.gridBalancedTree=t.concat(this.gridBalancedTree)}clearDisplayedAndViewportColumns(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.ariaOrderColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""}updateGroupsAndDisplayedColumns(t){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(t),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:W.EVENT_DISPLAYED_COLUMNS_CHANGED})}deriveDisplayedColumns(t){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinColumnsAriaOrder(),this.joinDisplayedColumns(),this.setLeftValues(t),this.displayedAutoHeightCols=this.displayedColumns.filter(e=>e.isAutoHeight())}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}joinColumnsAriaOrder(){const t=this.getAllGridColumns(),e=[],n=[],i=[];for(const r of t){const s=r.getPinned();s?!0===s||"left"===s?e.push(r):i.push(r):n.push(r)}this.ariaOrderColumns=e.concat(n).concat(i)}joinDisplayedColumns(){this.displayedColumns=this.gridOptionsService.get("enableRtl")?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)}setLeftValues(t){this.setLeftValuesOfColumns(t),this.setLeftValuesOfGroups()}setLeftValuesOfColumns(t){if(!this.primaryColumns)return;const e=this.getPrimaryAndSecondaryAndAutoColumns().slice(0),n=this.gridOptionsService.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(i=>{if(n){let r=this.getWidthOfColsInList(i);i.forEach(s=>{r-=s.getActualWidth(),s.setLeft(r,t)})}else{let r=0;i.forEach(s=>{s.setLeft(r,t),r+=s.getActualWidth()})}_n(e,i)}),e.forEach(i=>{i.setLeft(null,t)})}setLeftValuesOfGroups(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(t=>{t.forEach(e=>{e instanceof da&&e.checkLeft()})})}derivedDisplayedColumnsFromDisplayedTree(t,e){e.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(t,n=>{n instanceof f&&e.push(n)})}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||0===this.viewportRight}extractViewportColumns(){this.isColumnVirtualisationSuppressed()?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)}getVirtualHeaderGroupRow(t,e){let n;switch(t){case"left":n=this.viewportRowLeft[e];break;case"right":n=this.viewportRowRight[e];break;default:n=this.viewportRowCenter[e]}return hi(n)&&(n=[]),n}calculateHeaderRows(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};const t={};this.headerViewportColumns.forEach(n=>t[n.getId()]=!0);const e=(n,i,r)=>{let s=!1;for(let o=0;o<n.length;o++){const c=n[o];let d=!1;if(c instanceof f)d=!0===t[c.getId()];else{const m=c.getDisplayedChildren();m&&(d=e(m,i,r+1))}d&&(s=!0,i[r]||(i[r]=[]),i[r].push(c))}return s};e(this.displayedTreeLeft,this.viewportRowLeft,0),e(this.displayedTreeRight,this.viewportRowRight,0),e(this.displayedTreeCentre,this.viewportRowCenter,0)}extractViewport(){this.extractViewportColumns();const e=this.viewportColumns.map(i=>`${i.getId()}-${i.getPinned()||"normal"}`).join("#"),n=this.viewportColumnsHash!==e;return n&&(this.viewportColumnsHash=e,this.calculateHeaderRows()),n}refreshFlexedColumns(t={}){var e;const n=t.source?t.source:"flex";if(null!=t.viewportWidth&&(this.flexViewportWidth=t.viewportWidth),!this.flexViewportWidth)return[];let i=-1;if(t.resizingCols){const A=new Set(t.resizingCols);let k=this.displayedColumnsCenter;for(let U=k.length-1;U>=0;U--)if(A.has(k[U])){i=U;break}}let r=0,s=[],o=0,c=0;for(let A=0;A<this.displayedColumnsCenter.length;A++)this.displayedColumnsCenter[A].getFlex()&&A>i?(s.push(this.displayedColumnsCenter[A]),c+=this.displayedColumnsCenter[A].getFlex(),o+=null!=(e=this.displayedColumnsCenter[A].getMinWidth())?e:0):r+=this.displayedColumnsCenter[A].getActualWidth();if(!s.length)return[];let d=[];r+o>this.flexViewportWidth&&(s.forEach(A=>{var k;return A.setActualWidth(null!=(k=A.getMinWidth())?k:0,n)}),d=s,s=[]);const p=[];let m;e:for(;;){m=this.flexViewportWidth-r;const A=m/c;for(let k=0;k<s.length;k++){const U=s[k],X=A*U.getFlex();let Q=0;const pe=U.getMinWidth(),Ie=U.getMaxWidth();if($t(pe)&&X<pe?Q=pe:$t(Ie)&&X>Ie&&(Q=Ie),Q){U.setActualWidth(Q,n),Ht(s,U),c-=U.getFlex(),d.push(U),r+=U.getActualWidth();continue e}p[k]=Math.round(X)}break}let y=m;return s.forEach((A,k)=>{A.setActualWidth(Math.min(p[k],y),n),d.push(A),y-=p[k]}),t.skipSetLeft||this.setLeftValues(n),t.updateBodyWidths&&this.updateBodyWidths(),t.fireResizedEvent&&this.dispatchColumnResizedEvent(d,!0,n,s),s}sizeColumnsToFit(t,e="sizeColumnsToFit",n,i){var r,s,o,c,d;if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push(()=>this.sizeColumnsToFit(t,e,n,i));const p={};i&&(null==(r=i?.columnLimits)||r.forEach(pe=>{var Ie=pe,{key:ke}=Ie,tt=((t,e)=>{var n={};for(var i in t)vL.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&pI)for(var i of pI(t))e.indexOf(i)<0&&b6.call(t,i)&&(n[i]=t[i]);return n})(Ie,["key"]);p["string"==typeof ke?ke:ke.getColId()]=tt}));const m=this.getAllDisplayedColumns(),y=t===this.getWidthOfColsInList(m);if(t<=0||!m.length||y)return;const A=[],k=[];m.forEach(pe=>{!0===pe.getColDef().suppressSizeToFit?k.push(pe):A.push(pe)});const U=A.slice(0);let X=!1;const Q=pe=>{tn(A,pe),k.push(pe)};for(A.forEach(pe=>{var Ie,ke;pe.resetActualWidth(e);const tt=p?.[pe.getId()],zt=null!=(Ie=tt?.minWidth)?Ie:i?.defaultMinWidth,Ot=null!=(ke=tt?.maxWidth)?ke:i?.defaultMaxWidth,Se=pe.getActualWidth();"number"==typeof zt&&Se<zt?pe.setActualWidth(zt,e,!0):"number"==typeof Ot&&Se>Ot&&pe.setActualWidth(Ot,e,!0)});!X;){X=!0;const pe=t-this.getWidthOfColsInList(k);if(pe<=0)A.forEach(Ie=>{var ke,tt;const zt=null!=(tt=null==(ke=p?.[Ie.getId()])?void 0:ke.minWidth)?tt:i?.defaultMinWidth;"number"!=typeof zt?Ie.setMinimum(e):Ie.setActualWidth(zt,e,!0)});else{const Ie=pe/this.getWidthOfColsInList(A);let ke=pe;for(let tt=A.length-1;tt>=0;tt--){const zt=A[tt],Ot=p?.[zt.getId()],Se=null!=(s=Ot?.minWidth)?s:i?.defaultMinWidth,me=null!=(o=Ot?.maxWidth)?o:i?.defaultMaxWidth,De=null!=(c=zt.getMinWidth())?c:0,Ke=null!=(d=zt.getMaxWidth())?d:Number.MAX_VALUE,et="number"==typeof Se&&Se>De?Se:zt.getMinWidth(),pt="number"==typeof me&&me<Ke?me:zt.getMaxWidth();let Oe=Math.round(zt.getActualWidth()*Ie);$t(et)&&Oe<et?(Oe=et,Q(zt),X=!1):$t(pt)&&Oe>pt?(Oe=pt,Q(zt),X=!1):0===tt&&(Oe=ke),zt.setActualWidth(Oe,e,!0),ke-=Oe}}}U.forEach(pe=>{pe.fireColumnWidthChangedEvent(e)}),this.setLeftValues(e),this.updateBodyWidths(),!n&&this.dispatchColumnResizedEvent(U,!0,e)}buildDisplayedTrees(t){const e=[],n=[],i=[];t.forEach(s=>{switch(s.getPinned()){case"left":e.push(s);break;case"right":n.push(s);break;default:i.push(s)}});const r=new mte;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(e,r,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(n,r,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(i,r,null,this.displayedTreeCentre),this.updateDisplayedMap()}updateDisplayedMap(){this.displayedColumnsAndGroupsMap={};const t=e=>{this.displayedColumnsAndGroupsMap[e.getUniqueId()]=e};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,t),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,t),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,t)}isDisplayed(t){return this.displayedColumnsAndGroupsMap[t.getUniqueId()]===t}updateOpenClosedVisibilityInColumnGroups(){const t=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(t,e=>{e instanceof da&&e.calculateDisplayedColumns()})}getGroupAutoColumns(){return this.groupAutoColumns}createGroupAutoColumnsIfNeeded(){const t=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;const e=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),n=this.pivotMode?this.gridOptionsService.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.gridOptionsService.get("treeData"))||n||e)this.groupAutoColumns=null;else{const s=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);if(!this.autoColsEqual(s,this.groupAutoColumns)||t)return this.groupAutoColumns=s,!0}return!1}isGroupSuppressAutoColumn(){return"custom"===this.gridOptionsService.get("groupDisplayType")||"custom"===this.gridOptionsService.get("treeDataDisplayType")}autoColsEqual(t,e){return ae(t,e,(n,i)=>n.getColId()===i.getColId())}getWidthOfColsInList(t){return t.reduce((e,n)=>e+n.getActualWidth(),0)}getFirstDisplayedColumn(){const t=this.gridOptionsService.get("enableRtl"),e=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];t&&e.reverse();for(let n=0;n<e.length;n++){const i=this[e[n]]();if(i.length)return t?q(i):i[0]}return null}setColumnHeaderHeight(t,e){t.setAutoHeaderHeight(e)&&this.eventService.dispatchEvent({type:W.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:t,columns:[t],source:"autosizeColumnHeaderHeight"})}getColumnGroupHeaderRowHeight(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()}getColumnHeaderRowHeight(){const t=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),e=this.getAllDisplayedColumns().filter(n=>n.isAutoHeaderHeight()).map(n=>n.getAutoHeaderHeight()||0);return Math.max(t,...e)}getHeaderHeight(){var t;return null!=(t=this.gridOptionsService.get("headerHeight"))?t:this.environment.getFromTheme(25,"headerHeight")}getFloatingFiltersHeight(){var t;return null!=(t=this.gridOptionsService.get("floatingFiltersHeight"))?t:this.getHeaderHeight()}getGroupHeaderHeight(){var t;return null!=(t=this.gridOptionsService.get("groupHeaderHeight"))?t:this.getHeaderHeight()}getPivotHeaderHeight(){var t;return null!=(t=this.gridOptionsService.get("pivotHeaderHeight"))?t:this.getHeaderHeight()}getPivotGroupHeaderHeight(){var t;return null!=(t=this.gridOptionsService.get("pivotGroupHeaderHeight"))?t:this.getGroupHeaderHeight()}queueResizeOperations(){this.shouldQueueResizeOperations=!0}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(t=>t()),this.resizeOperationQueue=[]}resetColumnDefIntoColumn(t,e){const n=t.getUserProvidedColDef();if(!n)return!1;const i=this.columnFactory.addColumnDefaultAndTypes(n,t.getColId());return t.setColDef(i,n,e),!0}isColumnGroupingLocked(t){const e=this.gridOptionsService.get("groupLockGroupColumns");return!(!t.isRowGroupActive()||0===e)&&(-1===e||e>this.rowGroupColumns.findIndex(i=>i.getColId()===t.getColId()))}generateColumnStateForRowGroupAndPivotIndexes(t,e){let n={};const i=(r,s,o,c,d,p)=>{if(!s.length||!this.primaryColumns)return[];const m=Object.keys(r),y=new Set(m),A=new Set(m),k=new Set(s.map(zt=>{const Ot=zt.getColId();return A.delete(Ot),Ot}).concat(m)),U=[],X={};let Q=0;for(let zt=0;zt<this.primaryColumns.length;zt++){const Ot=this.primaryColumns[zt].getColId();k.has(Ot)&&(U.push(Ot),X[Ot]=Q++)}let pe=1e3,Ie=!1,ke=0;const tt=zt=>{const Ot=X[zt];for(let Se=ke;Se<Ot;Se++){const me=U[Se];A.has(me)&&(r[me][d]=pe++,A.delete(me))}ke=Ot};s.forEach(zt=>{const Ot=zt.getColId();if(y.has(Ot))tt(Ot),r[Ot][d]=pe++;else{const Se=zt.getColDef();(null===Se[d]||void 0===Se[d]&&null==Se[p])&&(Ie||(Se[o]||void 0===Se[o]&&Se[c]?tt(Ot):(A.forEach(Ke=>{r[Ke][d]=pe+X[Ke]}),pe+=U.length,Ie=!0)),n[Ot]||(n[Ot]={colId:Ot}),n[Ot][d]=pe++)}})};return i(t,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),i(e,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(n)}onColumnsReady(){const t=this.gridOptionsService.get("autoSizeStrategy");if(!t)return;const{type:e}=t;setTimeout(()=>{if("fitGridWidth"===e){const{columnLimits:n,defaultMinWidth:i,defaultMaxWidth:r}=t,s=n?.map(({colId:o,minWidth:c,maxWidth:d})=>({key:o,minWidth:c,maxWidth:d}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:i,defaultMaxWidth:r,columnLimits:s})}else"fitProvidedWidth"===e&&this.sizeColumnsToFit(t.width,"sizeColumnsToFit")})}onFirstDataRendered(){const t=this.gridOptionsService.get("autoSizeStrategy");if("fitCellContents"!==t?.type)return;const{colIds:e,skipHeader:n}=t;setTimeout(()=>{e?this.autoSizeColumns({columns:e,skipHeader:n,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",n)})}};function CI(t){return"gridOptionsUpdated"===t?"gridOptionsChanged":t}N([Y("expressionService")],Ra.prototype,"expressionService",2),N([Y("columnFactory")],Ra.prototype,"columnFactory",2),N([Y("displayedGroupCreator")],Ra.prototype,"displayedGroupCreator",2),N([Y("ctrlsService")],Ra.prototype,"ctrlsService",2),N([Y("autoWidthCalculator")],Ra.prototype,"autoWidthCalculator",2),N([Y("columnUtils")],Ra.prototype,"columnUtils",2),N([Y("columnAnimationService")],Ra.prototype,"columnAnimationService",2),N([Y("autoGroupColService")],Ra.prototype,"autoGroupColService",2),N([lr("aggFuncService")],Ra.prototype,"aggFuncService",2),N([lr("valueCache")],Ra.prototype,"valueCache",2),N([lr("animationFrameService")],Ra.prototype,"animationFrameService",2),N([Y("sortController")],Ra.prototype,"sortController",2),N([Y("columnDefFactory")],Ra.prototype,"columnDefFactory",2),N([nn],Ra.prototype,"init",1),N([Yl],Ra.prototype,"destroyColumns",1),N([ld(0,Eu("loggerFactory"))],Ra.prototype,"setBeans",1),Ra=N([bn("columnModel")],Ra);var P6=class extends Jt{calculateColMinWidth(t){return null!=t.minWidth?t.minWidth:this.environment.getMinColWidth()}calculateColMaxWidth(t){return null!=t.maxWidth?t.maxWidth:Number.MAX_SAFE_INTEGER}calculateColInitialWidth(t){const e=this.calculateColMinWidth(t),n=this.calculateColMaxWidth(t);let i;const r=pf(t.width),s=pf(t.initialWidth);return i=null!=r?r:null!=s?s:200,Math.max(Math.min(i,n),e)}getOriginalPathForColumn(t,e){const n=[];let i=!1;const r=(s,o)=>{for(let c=0;c<s.length;c++){if(i)return;const d=s[c];d instanceof v?(r(d.getChildren(),o+1),n[o]=d):d===t&&(i=!0)}};return r(e,0),i?n:null}depthFirstOriginalTreeSearch(t,e,n){e&&e.forEach(i=>{i instanceof v&&this.depthFirstOriginalTreeSearch(i,i.getChildren(),n),n(i,t)})}depthFirstAllColumnTreeSearch(t,e){t&&t.forEach(n=>{n instanceof da&&this.depthFirstAllColumnTreeSearch(n.getChildren(),e),e(n)})}depthFirstDisplayedColumnTreeSearch(t,e){t&&t.forEach(n=>{n instanceof da&&this.depthFirstDisplayedColumnTreeSearch(n.getDisplayedChildren(),e),e(n)})}};P6=N([bn("columnUtils")],P6);var M6=class extends Jt{createDisplayedGroups(t,e,n,i){const r=this.mapOldGroupsById(i),s=[];let o=t;for(;o.length;){const c=o;o=[];let d=0;const p=m=>{const y=d;d=m;const A=c[y],U=(A instanceof da?A.getProvidedColumnGroup():A).getOriginalParent();if(null==U){for(let Q=y;Q<m;Q++)s.push(c[Q]);return}const X=this.createColumnGroup(U,e,r,n);for(let Q=y;Q<m;Q++)X.addChild(c[Q]);o.push(X)};for(let m=1;m<c.length;m++){const y=c[m],k=(y instanceof da?y.getProvidedColumnGroup():y).getOriginalParent(),U=c[d];k!==(U instanceof da?U.getProvidedColumnGroup():U).getOriginalParent()&&p(m)}d<c.length&&p(c.length)}return this.setupParentsIntoColumns(s,null),s}createColumnGroup(t,e,n,i){const r=t.getGroupId(),s=e.getInstanceIdForKey(r);let c=n[da.createUniqueId(r,s)];return c&&c.getProvidedColumnGroup()!==t&&(c=null),$t(c)?c.reset():(c=new da(t,r,s,i),this.context.createBean(c)),c}mapOldGroupsById(t){const e={},n=i=>{i.forEach(r=>{if(r instanceof da){const s=r;e[r.getUniqueId()]=s,n(s.getChildren())}})};return t&&n(t),e}setupParentsIntoColumns(t,e){t.forEach(n=>{if(n.setParent(e),n instanceof da){const i=n;this.setupParentsIntoColumns(i.getChildren(),i)}})}};M6=N([bn("displayedGroupCreator")],M6);var Tve={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},Wa=class{};Wa.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode"],Wa.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"],Wa.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],Wa.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],Wa.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents"],Wa.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"],Wa.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems"],Wa.FUNCTION_PROPERTIES=[...Wa.FUNCTIONAL_PROPERTIES,...Wa.CALLBACK_PROPERTIES],Wa.ALL_PROPERTIES=[...Wa.ARRAY_PROPERTIES,...Wa.OBJECT_PROPERTIES,...Wa.STRING_PROPERTIES,...Wa.NUMBER_PROPERTIES,...Wa.FUNCTION_PROPERTIES,...Wa.BOOLEAN_PROPERTIES];var zp=Wa,Ho=class OG{static getCallbackForEvent(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}static getGridOptionKeys(){return this.ALL_PROPERTIES_AND_CALLBACKS}static combineAttributesAndGridOptions(e,n){"object"!=typeof e&&(e={});const i=Yn({},e);return OG.getGridOptionKeys().forEach(s=>{const o=n[s];typeof o<"u"&&o!==OG.VUE_OMITTED_PROPERTY&&(i[s]=o)}),i}static processOnChange(e,n){if(!e)return;const i={};let r=!1;if(Object.keys(e).filter(o=>OG.ALL_PROPERTIES_AND_CALLBACKS_SET.has(o)).forEach(o=>{i[o]=e[o],r=!0}),!r)return;n.__internalUpdateGridOptions(i);const s={type:W.EVENT_COMPONENT_STATE_CHANGED};ml(i,(o,c)=>{s[o]=c}),n.dispatchEvent(s)}};Ho.EVENTS=sy(W),Ho.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",Ho.EXCLUDED_INTERNAL_EVENTS=[W.EVENT_SCROLLBAR_WIDTH_CHANGED,W.EVENT_CHECKBOX_CHANGED,W.EVENT_HEIGHT_SCALE_CHANGED,W.EVENT_BODY_HEIGHT_CHANGED,W.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,W.EVENT_SCROLL_VISIBILITY_CHANGED,W.EVENT_COLUMN_HOVER_CHANGED,W.EVENT_FLASH_CELLS,W.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,W.EVENT_DISPLAYED_ROWS_CHANGED,W.EVENT_LEFT_PINNED_WIDTH_CHANGED,W.EVENT_RIGHT_PINNED_WIDTH_CHANGED,W.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,W.EVENT_STORE_UPDATED,W.EVENT_COLUMN_PANEL_ITEM_DRAG_START,W.EVENT_COLUMN_PANEL_ITEM_DRAG_END,W.EVENT_FILL_START,W.EVENT_FILL_END,W.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,W.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,W.EVENT_FULL_WIDTH_ROW_FOCUSED,W.EVENT_HEADER_HEIGHT_CHANGED,W.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,W.EVENT_CELL_FOCUS_CLEARED,W.EVENT_GRID_STYLES_CHANGED,W.EVENT_FILTER_DESTROYED,W.EVENT_ROW_DATA_UPDATE_STARTED,W.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,W.EVENT_DATA_TYPES_INFERRED,W.EVENT_FIELD_VALUE_CHANGED,W.EVENT_FIELD_PICKER_VALUE_SELECTED,W.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,W.EVENT_SUPPRESS_MENU_HIDE_CHANGED,W.EVENT_SUPPRESS_FIELD_DOT_NOTATION,W.EVENT_ROW_COUNT_READY,W.EVENT_SIDE_BAR_UPDATED],Ho.PUBLIC_EVENTS=Ho.EVENTS.filter(t=>!Nr(Ho.EXCLUDED_INTERNAL_EVENTS,t)),Ho.EVENT_CALLBACKS=Ho.EVENTS.map(t=>Ho.getCallbackForEvent(t)),Ho.STRING_PROPERTIES=zp.STRING_PROPERTIES,Ho.OBJECT_PROPERTIES=zp.OBJECT_PROPERTIES,Ho.ARRAY_PROPERTIES=zp.ARRAY_PROPERTIES,Ho.NUMBER_PROPERTIES=zp.NUMBER_PROPERTIES,Ho.BOOLEAN_PROPERTIES=zp.BOOLEAN_PROPERTIES,Ho.FUNCTION_PROPERTIES=zp.FUNCTION_PROPERTIES,Ho.ALL_PROPERTIES=zp.ALL_PROPERTIES,Ho.ALL_PROPERTIES_AND_CALLBACKS=[...Ho.ALL_PROPERTIES,...Ho.EVENT_CALLBACKS],Ho.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(Ho.ALL_PROPERTIES_AND_CALLBACKS);var ML=Ho,N6=class extends Jt{constructor(){super(...arguments),this.componentsMappedByName={}}setupComponents(t){t&&t.forEach(e=>this.addComponent(e))}addComponent(t){const n=t.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[n]=t.componentClass}getComponentClass(t){return this.componentsMappedByName[t]}};N6=N([bn("agStackComponentsRegistry")],N6);var bte={};function rh(t,e,n){null==n||"string"==typeof n&&""==n?O6(t,e):sh(t,e,n)}function sh(t,e,n){t.setAttribute(wte(e),n.toString())}function O6(t,e){t.removeAttribute(wte(e))}function wte(t){return`aria-${t}`}function so(t,e){e?t.setAttribute("role",e):t.removeAttribute("role")}function Ete(t){let e;return e="asc"===t?"ascending":"desc"===t?"descending":"mixed"===t?"other":"none",e}function Ave(t){return parseInt(t.getAttribute("aria-level"),10)}function Ste(t){return parseInt(t.getAttribute("aria-posinset"),10)}function Ite(t){return t.getAttribute("aria-label")}function vf(t,e){rh(t,"label",e)}function NL(t,e){rh(t,"labelledby",e)}function Rve(t,e){rh(t,"describedby",e)}function F6(t,e){rh(t,"live",e)}function Tte(t,e){rh(t,"atomic",e)}function Ate(t,e){rh(t,"relevant",e)}function Rte(t,e){rh(t,"level",e)}function L6(t,e){rh(t,"disabled",e)}function Ux(t,e){rh(t,"hidden",e)}function k6(t,e){rh(t,"activedescendant",e)}function qm(t,e){sh(t,"expanded",e)}function Dte(t){O6(t,"expanded")}function OL(t,e){sh(t,"setsize",e)}function FL(t,e){sh(t,"posinset",e)}function xte(t,e){sh(t,"multiselectable",e)}function Pte(t,e){sh(t,"rowcount",e)}function V6(t,e){sh(t,"rowindex",e)}function Mte(t,e){sh(t,"colcount",e)}function G6(t,e){sh(t,"colindex",e)}function Nte(t,e){sh(t,"colspan",e)}function Ote(t,e){sh(t,"sort",e)}function Fte(t){O6(t,"sort")}function bI(t,e){rh(t,"selected",e)}function Dve(t,e){sh(t,"checked",void 0===e?"mixed":e)}function B6(t,e){rh(t,"controls",e.id),NL(e,t.id)}function LL(t,e){return void 0===e?t("ariaIndeterminate","indeterminate"):!0===e?t("ariaChecked","checked"):t("ariaUnchecked","unchecked")}Qo(bte,{getAriaCheckboxStateName:()=>LL,getAriaLabel:()=>Ite,getAriaLevel:()=>Ave,getAriaPosInSet:()=>Ste,getAriaSortState:()=>Ete,removeAriaExpanded:()=>Dte,removeAriaSort:()=>Fte,setAriaActiveDescendant:()=>k6,setAriaAtomic:()=>Tte,setAriaChecked:()=>Dve,setAriaColCount:()=>Mte,setAriaColIndex:()=>G6,setAriaColSpan:()=>Nte,setAriaControls:()=>B6,setAriaDescribedBy:()=>Rve,setAriaDisabled:()=>L6,setAriaExpanded:()=>qm,setAriaHidden:()=>Ux,setAriaLabel:()=>vf,setAriaLabelledBy:()=>NL,setAriaLevel:()=>Rte,setAriaLive:()=>F6,setAriaMultiSelectable:()=>xte,setAriaPosInSet:()=>FL,setAriaRelevant:()=>Ate,setAriaRole:()=>so,setAriaRowCount:()=>Pte,setAriaRowIndex:()=>V6,setAriaSelected:()=>bI,setAriaSetSize:()=>OL,setAriaSort:()=>Ote});var H6,kL,U6,W6,z6,j6,$6,q6,Lte={};function jp(){return void 0===H6&&(H6=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),H6}function K6(){if(void 0===kL)if(jp()){const t=navigator.userAgent.match(/version\/(\d+)/i);t&&(kL=null!=t[1]?parseFloat(t[1]):0)}else kL=0;return kL}function VL(){if(void 0===U6){const t=window;U6=!!t.chrome&&(!!t.chrome.webstore||!!t.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return U6}function Y6(){return void 0===W6&&(W6=/(firefox)/i.test(navigator.userAgent)),W6}function X6(){return void 0===z6&&(z6=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),z6}function Km(){return void 0===j6&&(j6=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),j6}function Q6(){return!jp()||K6()>=15}function GL(t){if(!t)return null;const e=t.tabIndex,n=t.getAttribute("tabIndex");return-1!==e||null!==n&&(""!==n||Y6())?e.toString():null}function kte(){if(!document.body)return-1;let t=1e6;const e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const i=2*t;if(n.style.height=i+"px",i>e||n.clientHeight!==i)break;t=i}return document.body.removeChild(n),t}function Vte(){var t,e,n;return null!=(n=null==(t=document.body)?void 0:t.clientWidth)?n:window.innerHeight||(null==(e=document.documentElement)?void 0:e.clientWidth)||-1}function Gte(){var t,e,n;return null!=(n=null==(t=document.body)?void 0:t.clientHeight)?n:window.innerHeight||(null==(e=document.documentElement)?void 0:e.clientHeight)||-1}function Bte(){return null==q6&&Hte(),q6}function Hte(){const t=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",t.appendChild(e);let n=e.offsetWidth-e.clientWidth;0===n&&0===e.clientWidth&&(n=null),e.parentNode&&e.parentNode.removeChild(e),null!=n&&(q6=n,$6=0===n)}function J6(){return null==$6&&Hte(),$6}Qo(Lte,{browserSupportsPreventScroll:()=>Q6,getBodyHeight:()=>Gte,getBodyWidth:()=>Vte,getMaxDivHeight:()=>kte,getSafariVersion:()=>K6,getScrollbarWidth:()=>Bte,getTabIndex:()=>GL,isBrowserChrome:()=>VL,isBrowserFirefox:()=>Y6,isBrowserSafari:()=>jp,isIOSUserAgent:()=>Km,isInvisibleScrollbar:()=>J6,isMacOsUserAgent:()=>X6});var Ute={};Qo(Ute,{dateToFormattedString:()=>EI,parseDateTimeFromString:()=>Su,serialiseDate:()=>oh});var Wte={};function wI(t,e){return t.toString().padStart(e,"0")}function zte(t,e){const n=[];for(let i=t;i<=e;i++)n.push(i);return n}function xve(t){return"string"==typeof t&&(t=parseInt(t,10)),"number"==typeof t?Math.floor(t):null}function Pve(t,e){let n="";for(let i=0;i<e;i++)n+=String.fromCharCode(255&t),t>>>=8;return n}function Mve(t,e,n){return"number"!=typeof t?"":Z6(Math.round(100*t)/100,e,n)}function Z6(t,e,n){return"number"!=typeof t?"":t.toString().replace(".",n).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${e}`)}function Nve(t){return null==t?null:t.reduce((e,n)=>e+n,0)}function oh(t,e=!0,n="-"){if(!t)return null;let i=[t.getFullYear(),t.getMonth()+1,t.getDate()].map(r=>wI(r,2)).join(n);return e&&(i+=" "+[t.getHours(),t.getMinutes(),t.getSeconds()].map(r=>wI(r,2)).join(":")),i}Qo(Wte,{cleanNumber:()=>xve,createArrayOfNumbers:()=>zte,decToHex:()=>Pve,formatNumberCommas:()=>Z6,formatNumberTwoDecimalPlacesAndCommas:()=>Mve,padStartWidthZeros:()=>wI,sum:()=>Nve});var e3=t=>{if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function EI(t,e="YYYY-MM-DD"){const n=wI(t.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${t.getFullYear()}`,MMMM:()=>i[t.getMonth()],MMM:()=>i[t.getMonth()].slice(0,3),MM:()=>wI(t.getMonth()+1,2),Mo:()=>`${t.getMonth()+1}${e3(t.getMonth()+1)}`,M:()=>`${t.getMonth()+1}`,Do:()=>`${t.getDate()}${e3(t.getDate())}`,DD:()=>wI(t.getDate(),2),D:()=>`${t.getDate()}`,dddd:()=>r[t.getDay()],ddd:()=>r[t.getDay()].slice(0,3),dd:()=>r[t.getDay()].slice(0,2),do:()=>`${t.getDay()}${e3(t.getDay())}`,d:()=>`${t.getDay()}`},o=new RegExp(Object.keys(s).join("|"),"g");return e.replace(o,c=>c in s?s[c]():c)}function Su(t){if(!t)return null;const[e,n]=t.split(" ");if(!e)return null;const i=e.split("-").map(y=>parseInt(y,10));if(3!==i.filter(y=>!isNaN(y)).length)return null;const[r,s,o]=i,c=new Date(r,s-1,o);if(c.getFullYear()!==r||c.getMonth()!==s-1||c.getDate()!==o)return null;if(!n||"00:00:00"===n)return c;const[d,p,m]=n.split(":").map(y=>parseInt(y,10));return d>=0&&d<24&&c.setHours(d),p>=0&&p<60&&c.setMinutes(p),m>=0&&m<60&&c.setSeconds(m),c}var BL,jte={};function t3(t,e,n){const i=t.parentElement;let r=i&&i.firstChild;for(;r;)e&&r.classList.toggle(e,r===t),n&&r.classList.toggle(n,r!==t),r=r.nextSibling}Qo(jte,{FOCUSABLE_EXCLUDE:()=>n3,FOCUSABLE_SELECTOR:()=>$te,addOrRemoveAttribute:()=>$p,addStylesToElement:()=>c3,bindCellRendererToHtmlElement:()=>d3,clearElement:()=>Jo,copyNodeList:()=>Qte,ensureDomOrder:()=>a3,formatSize:()=>HL,getAbsoluteHeight:()=>r3,getAbsoluteWidth:()=>zx,getElementRectWithOffset:()=>s3,getElementSize:()=>ly,getInnerHeight:()=>Wx,getInnerWidth:()=>ww,getScrollLeft:()=>$x,insertWithDomOrder:()=>Kte,isElementChildOfClass:()=>bw,isFocusableFormField:()=>i3,isHorizontalScrollShowing:()=>Yte,isInDOM:()=>o3,isNodeOrElement:()=>Yx,isRtlNegativeScroll:()=>jx,isVerticalScrollShowing:()=>Xte,isVisible:()=>cd,iterateNamedNodeMap:()=>Jte,loadTemplate:()=>Iu,nodeListForEach:()=>u3,radioCssClass:()=>t3,removeFromParent:()=>_f,setDisabled:()=>SI,setDisplayed:()=>nr,setDomChildOrder:()=>l3,setElementHeight:()=>Ove,setElementWidth:()=>Kx,setFixedHeight:()=>Ew,setFixedWidth:()=>ah,setScrollLeft:()=>qx,setVisible:()=>qte});var $te="[tabindex], input, select, button, textarea, [href]",n3="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function i3(t){const e=Element.prototype.matches||Element.prototype.msMatchesSelector,i=e.call(t,"input, select, button, textarea"),r=e.call(t,n3),s=cd(t);return i&&!r&&s}function nr(t,e,n={}){const{skipAriaHidden:i}=n;t.classList.toggle("ag-hidden",!e),i||Ux(t,!e)}function qte(t,e,n={}){const{skipAriaHidden:i}=n;t.classList.toggle("ag-invisible",!e),i||Ux(t,!e)}function SI(t,e){const n="disabled",i=e?r=>r.setAttribute(n,""):r=>r.removeAttribute(n);i(t),u3(t.querySelectorAll("input"),r=>i(r))}function bw(t,e,n){let i=0;for(;t;){if(t.classList.contains(e))return!0;if(t=t.parentElement,"number"==typeof n){if(++i>n)break}else if(t===n)break}return!1}function ly(t){const{height:e,width:n,borderTopWidth:i,borderRightWidth:r,borderBottomWidth:s,borderLeftWidth:o,paddingTop:c,paddingRight:d,paddingBottom:p,paddingLeft:m,marginTop:y,marginRight:A,marginBottom:k,marginLeft:U,boxSizing:X}=window.getComputedStyle(t);return{height:parseFloat(e||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(i||"0"),borderRightWidth:parseFloat(r||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(c||"0"),paddingRight:parseFloat(d||"0"),paddingBottom:parseFloat(p||"0"),paddingLeft:parseFloat(m||"0"),marginTop:parseFloat(y||"0"),marginRight:parseFloat(A||"0"),marginBottom:parseFloat(k||"0"),marginLeft:parseFloat(U||"0"),boxSizing:X}}function Wx(t){const e=ly(t);return"border-box"===e.boxSizing?e.height-e.paddingTop-e.paddingBottom:e.height}function ww(t){const e=ly(t);return"border-box"===e.boxSizing?e.width-e.paddingLeft-e.paddingRight:e.width}function r3(t){const e=ly(t);return Math.ceil(t.offsetHeight+(e.marginBottom+e.marginTop))}function zx(t){const e=ly(t);return Math.ceil(t.offsetWidth+(e.marginLeft+e.marginRight))}function s3(t){const e=t.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:i,borderRightWidth:r,borderBottomWidth:s}=ly(t);return{top:e.top+(n||0),left:e.left+(i||0),right:e.right+(r||0),bottom:e.bottom+(s||0)}}function jx(){if("boolean"==typeof BL)return BL;const t=document.createElement("div");return t.style.direction="rtl",t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="0px",t.style.overflow="hidden",t.dir="rtl",t.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(t),t.scrollLeft=1,BL=0===Math.floor(t.scrollLeft),document.body.removeChild(t),BL}function $x(t,e){let n=t.scrollLeft;return e&&(n=Math.abs(n),VL()&&!jx()&&(n=t.scrollWidth-t.clientWidth-n)),n}function qx(t,e,n){n&&(jx()?e*=-1:(jp()||VL())&&(e=t.scrollWidth-t.clientWidth-e)),t.scrollLeft=e}function Jo(t){for(;t&&t.firstChild;)t.removeChild(t.firstChild)}function _f(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function o3(t){return!!t.offsetParent}function cd(t){return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!o3(t)||"visible"!==window.getComputedStyle(t).visibility)}function Iu(t){const e=document.createElement("div");return e.innerHTML=(t||"").trim(),e.firstChild}function a3(t,e,n){n&&n.nextSibling===e||(n?n.nextSibling?t.insertBefore(e,n.nextSibling):t.appendChild(e):t.firstChild&&t.firstChild!==e&&t.insertAdjacentElement("afterbegin",e))}function l3(t,e){for(let n=0;n<e.length;n++){const i=e[n],r=t.children[n];r!==i&&t.insertBefore(i,r)}}function Kte(t,e,n){n?n.insertAdjacentElement("afterend",e):t.firstChild?t.insertAdjacentElement("afterbegin",e):t.appendChild(e)}function c3(t,e){if(e)for(const[n,i]of Object.entries(e)){if(!n||!n.length||null==i)continue;const r=yte(n),s=i.toString(),o=s.replace(/\s*!important/g,"");t.style.setProperty(r,o,o.length!=s.length?"important":void 0)}}function Yte(t){return t.clientWidth<t.scrollWidth}function Xte(t){return t.clientHeight<t.scrollHeight}function Kx(t,e){"flex"===e?(t.style.removeProperty("width"),t.style.removeProperty("minWidth"),t.style.removeProperty("maxWidth"),t.style.flex="1 1 auto"):ah(t,e)}function ah(t,e){e=HL(e),t.style.width=e.toString(),t.style.maxWidth=e.toString(),t.style.minWidth=e.toString()}function Ove(t,e){"flex"===e?(t.style.removeProperty("height"),t.style.removeProperty("minHeight"),t.style.removeProperty("maxHeight"),t.style.flex="1 1 auto"):Ew(t,e)}function Ew(t,e){e=HL(e),t.style.height=e.toString(),t.style.maxHeight=e.toString(),t.style.minHeight=e.toString()}function HL(t){return"number"==typeof t?`${t}px`:t}function Yx(t){return t instanceof Node||t instanceof HTMLElement}function Qte(t){if(null==t)return[];const e=[];return u3(t,n=>e.push(n)),e}function Jte(t,e){if(t)for(let n=0;n<t.length;n++){const i=t[n];e(i.name,i.value)}}function $p(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n.toString())}function u3(t,e){if(null!=t)for(let n=0;n<t.length;n++)e(t[n])}function d3(t,e){t.then(n=>{const i=n.getGui();null!=i&&("object"==typeof i?e.appendChild(i):e.innerHTML=i)})}var Zte={};function ene(t,e,n){const i={},r=t.filter(s=>!e.some(o=>o===s));return r.length>0&&r.forEach(s=>i[s]=Xx(s,n).values),i}function Xx(t,e,n,i){let r=e.map((c,d)=>({value:c,relevance:Fve(t.toLowerCase(),c.toLocaleLowerCase()),idx:d}));if(r.sort((c,d)=>d.relevance-c.relevance),n&&(r=r.filter(c=>0!==c.relevance)),r.length>0&&i&&i>0){const d=r[0].relevance*i;r=r.filter(p=>d-p.relevance<0)}const s=[],o=[];for(const c of r)s.push(c.value),o.push(c.idx);return{values:s,indices:o}}function Fve(t,e){const n=t.replace(/\s/g,""),i=e.replace(/\s/g,"");let r=0,s=-1;for(let o=0;o<n.length;o++){const c=i.indexOf(n[o],s+1);-1!==c&&(s=c,r+=100-100*s/1e4*100)}return r}Qo(Zte,{fuzzyCheckStrings:()=>ene,fuzzySuggestions:()=>Xx});var tne={};Qo(tne,{createIcon:()=>lh,createIconNoSpan:()=>ks,iconNameClassMap:()=>nne});var nne={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus"};function lh(t,e,n){const i=ks(t,e,n);if(i){const{className:s}=i;if("string"==typeof s&&s.indexOf("ag-icon")>-1||"object"==typeof s&&s["ag-icon"])return i}const r=document.createElement("span");return r.appendChild(i),r}function ks(t,e,n,i){let r=null;const s=n&&n.getColDef().icons;if(s&&(r=s[t]),e&&!r){const o=e.get("icons");o&&(r=o[t])}if(!r){const o=document.createElement("span");let c=nne[t];return c||(i?c=t:(console.warn(`AG Grid: Did not find icon ${t}`),c="")),o.setAttribute("class",`ag-icon ag-icon-${c}`),o.setAttribute("unselectable","on"),so(o,"presentation"),o}{let o;if("function"==typeof r)o=r();else{if("string"!=typeof r)throw new Error("icon from grid options needs to be a string or a function");o=r}if("string"==typeof o)return Iu(o);if(Yx(o))return o;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}}var ine={};Qo(ine,{isDeleteKey:()=>one,isEventFromPrintableCharacter:()=>UL,isUserSuppressingHeaderKeyboardEvent:()=>rne,isUserSuppressingKeyboardEvent:()=>WL,normaliseQwertyAzerty:()=>sne});var Qe=class{};Qe.BACKSPACE="Backspace",Qe.TAB="Tab",Qe.ENTER="Enter",Qe.ESCAPE="Escape",Qe.SPACE=" ",Qe.LEFT="ArrowLeft",Qe.UP="ArrowUp",Qe.RIGHT="ArrowRight",Qe.DOWN="ArrowDown",Qe.DELETE="Delete",Qe.F2="F2",Qe.PAGE_UP="PageUp",Qe.PAGE_DOWN="PageDown",Qe.PAGE_HOME="Home",Qe.PAGE_END="End",Qe.A="KeyA",Qe.C="KeyC",Qe.D="KeyD",Qe.V="KeyV",Qe.X="KeyX",Qe.Y="KeyY",Qe.Z="KeyZ";var Lve=65,kve=67,Vve=86,Gve=68,Bve=90,Hve=89;function UL(t){return!(t.altKey||t.ctrlKey||t.metaKey)&&1===t.key.length}function WL(t,e,n,i,r){const s=i?i.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const o=t.addGridCommonParams({event:e,editing:r,column:i,node:n,data:n.data,colDef:i.getColDef()});return!(!s||!s(o))}function rne(t,e,n,i){const r=i.getDefinition(),s=r&&r.suppressHeaderKeyboardEvent;return!!$t(s)&&!!s(t.addGridCommonParams({colDef:r,column:i,headerRowIndex:n,event:e}))}function sne(t){const{keyCode:e}=t;let n;switch(e){case Lve:n=Qe.A;break;case kve:n=Qe.C;break;case Vve:n=Qe.V;break;case Gve:n=Qe.D;break;case Bve:n=Qe.Z;break;case Hve:n=Qe.Y;break;default:n=t.code}return n}function one(t,e=!1){return t===Qe.DELETE||!e&&t===Qe.BACKSPACE&&X6()}var ane={};function h3(t,e,n){if(0===n)return!1;const i=Math.abs(t.clientX-e.clientX),r=Math.abs(t.clientY-e.clientY);return Math.max(i,r)<=n}Qo(ane,{areEventsNear:()=>h3});var lne={};function Uve(t,e){if(!t)return!1;const n=(o,c)=>{const d=e[o.id],p=e[c.id],m=void 0!==d,y=void 0!==p;return m&&y?d-p:m||y?m?1:-1:o.__objectId-c.__objectId};let i,r,s=!1;for(let o=0;o<t.length-1;o++)if(i=t[o],r=t[o+1],n(i,r)>0){s=!0;break}return!!s&&(t.sort(n),!0)}Qo(lne,{sortRowNodesByOrder:()=>Uve});var cne={};function f3(t){const e=new Set;return t.forEach(n=>e.add(n)),e}Qo(cne,{convertToSet:()=>f3});var $i=Yn(Yn(Yn(Yn(Yn(Yn(Yn(Yn(Yn(Yn(Yn(Yn(Yn(Yn(Yn(Yn(Yn(Yn({},bte),P),Lte),Ute),jte),R),kx),Zte),_L),tne),ine),Cte),ane),Wte),CL),lne),cne),vte),II=class{constructor(t=0,e=1){this.nextValue=t,this.step=e}next(){const t=this.nextValue;return this.nextValue+=this.step,t}peek(){return this.nextValue}skip(t){this.nextValue+=t}},Tu=class FG{constructor(e){this.status=0,this.resolution=null,this.waiters=[],e(n=>this.onDone(n),n=>this.onReject(n))}static all(e){return new FG(n=>{let i=e.length;const r=new Array(i);e.forEach((s,o)=>{s.then(c=>{r[o]=c,i--,0===i&&n(r)})})})}static resolve(e=null){return new FG(n=>n(e))}then(e){return new FG(n=>{1===this.status?n(e(this.resolution)):this.waiters.push(i=>n(e(i)))})}resolveNow(e,n){return 1===this.status?n(this.resolution):e}onDone(e){this.status=1,this.resolution=e,this.waiters.forEach(n=>n(e))}onReject(e){console.warn("TBI")}},jve=class{constructor(t){this.cssClassStates={},this.getGui=t}addCssClass(t){const e=(t||"").split(" ");if(e.length>1)e.forEach(i=>this.addCssClass(i));else if(!0!==this.cssClassStates[t]&&t.length){const i=this.getGui();i&&i.classList.add(t),this.cssClassStates[t]=!0}}removeCssClass(t){const e=(t||"").split(" ");if(e.length>1)e.forEach(i=>this.removeCssClass(i));else if(!1!==this.cssClassStates[t]&&t.length){const i=this.getGui();i&&i.classList.remove(t),this.cssClassStates[t]=!1}}containsCssClass(t){const e=this.getGui();return!!e&&e.classList.contains(t)}addOrRemoveCssClass(t,e){if(t){if(t.indexOf(" ")>=0){const i=(t||"").split(" ");if(i.length>1)return void i.forEach(r=>this.addOrRemoveCssClass(r,e))}if(this.cssClassStates[t]!==e&&t.length){const i=this.getGui();i&&i.classList.toggle(t,e),this.cssClassStates[t]=e}}}},Qx=class JE extends Jt{constructor(e,n,i,r){super(),this.parentComp=e,this.tooltipShowDelayOverride=n,this.tooltipHideDelayOverride=i,this.shouldDisplayTooltip=r,this.SHOW_QUICK_TOOLTIP_DIFF=1e3,this.FADE_OUT_TOOLTIP_TIMEOUT=1e3,this.INTERACTIVE_HIDE_DELAY=100,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}postConstruct(){this.gridOptionsService.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gridOptionsService.get("tooltipMouseTrack");const e=this.parentComp.getGui();0===this.tooltipTrigger&&(this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this))),1===this.tooltipTrigger&&(this.addManagedListener(e,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(e,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)))}getGridOptionsTooltipDelay(e){const n=this.gridOptionsService.get(e);return n<0&&ei(`${e} should not be lower than 0`),Math.max(200,n)}getTooltipDelay(e){var n,i;return"show"===e?null!=(n=this.tooltipShowDelayOverride)?n:this.getGridOptionsTooltipDelay("tooltipShowDelay"):null!=(i=this.tooltipHideDelayOverride)?i:this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gridOptionsService.get("tooltipTrigger");return e&&"hover"!==e?1:0}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Km()&&(JE.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&2===this.state&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var n;const i=e.relatedTarget,r=this.parentComp.getGui(),s=null==(n=this.tooltipComp)?void 0:n.getGui();this.isInteractingWithTooltip||r.contains(i)||this.interactionEnabled&&s?.contains(i)||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(e){if(0!=this.state||JE.isLocked)return;let n=0;e&&(n=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),n),this.state=1}isLastTooltipHiddenRecently(){return(new Date).getTime()-JE.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF}setToDoNothing(){2===this.state&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e=Yn({},this.parentComp.getTooltipParams());if(!$t(e.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip())return void this.setToDoNothing();this.state=2,this.tooltipInstanceCount++;const n=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(n)}hideTooltip(e){if(!e&&this.isInteractingWithTooltip)return;this.tooltipComp&&(this.destroyTooltipComp(),JE.lastTooltipHideTime=(new Date).getTime());const n={type:W.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(n),this.state=0}newTooltipComponentCallback(e,n){if(2!==this.state||this.tooltipInstanceCount!==e)return void this.getContext().destroyBean(n);const r=n.getGui();this.tooltipComp=n,r.classList.contains("ag-tooltip")||r.classList.add("ag-tooltip-custom"),0===this.tooltipTrigger&&r.classList.add("ag-tooltip-animate"),this.interactionEnabled&&r.classList.add("ag-tooltip-interactive");const s=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:r,ariaLabel:s("ariaLabelTooltip","Tooltip")});o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),1===this.tooltipTrigger&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,W.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,W.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(0===this.tooltipTrigger?(this.tooltipMouseEnterListener=this.addManagedListener(r,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(r,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(r,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(r,"focusout",this.onTooltipFocusOut.bind(this))||null));const c={type:W.EVENT_TOOLTIP_SHOW,tooltipGui:r,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(c),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isInteractingWithTooltip=!1,this.lockService()}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}onTooltipFocusOut(e){var n;const i=this.parentComp.getGui(),r=null==(n=this.tooltipComp)?void 0:n.getGui(),s=e.relatedTarget;r?.contains(s)||(this.isInteractingWithTooltip=!1,i.contains(s)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(ms(Yn({},e),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(ms(Yn({},e),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,n=this.tooltipComp;window.setTimeout(()=>{e(),this.getContext().destroyBean(n)},0===this.tooltipTrigger?this.FADE_OUT_TOOLTIP_TIMEOUT:0),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){JE.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)}unlockService(){JE.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};Qx.isLocked=!1,N([Y("popupService")],Qx.prototype,"popupService",2),N([Y("userComponentFactory")],Qx.prototype,"userComponentFactory",2),N([nn],Qx.prototype,"postConstruct",1);var $ve=Qx,Ym=class extends Jt{constructor(t,e){super(),this.ctrl=t,e&&(this.beans=e)}postConstruct(){this.refreshToolTip()}setBrowserTooltip(t){const e="title",n=this.ctrl.getGui();n&&(null!=t&&""!=t?n.setAttribute(e,t):n.removeAttribute(e))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var t,e,n,i;null==this.tooltipManager&&(this.tooltipManager=this.createBean(new $ve({getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()},null==(e=(t=this.ctrl).getTooltipShowDelayOverride)?void 0:e.call(t),null==(i=(n=this.ctrl).getTooltipHideDelayOverride)?void 0:i.call(n),this.ctrl.shouldDisplayTooltip),this.beans.context))}refreshToolTip(){this.browserTooltips=this.beans.gridOptionsService.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){const t=this.ctrl,e=t.getColumn?t.getColumn():void 0,n=t.getColDef?t.getColDef():void 0,i=t.getRowNode?t.getRowNode():void 0;return{location:t.getLocation(),colDef:n,column:e,rowIndex:t.getRowIndex?t.getRowIndex():void 0,node:i,data:i?i.data:void 0,value:this.getTooltipText(),valueFormatted:t.getValueFormatted?t.getValueFormatted():void 0,hideTooltipCallback:()=>{var r;return null==(r=this.tooltipManager)?void 0:r.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}};N([Y("beans")],Ym.prototype,"beans",2),N([nn],Ym.prototype,"postConstruct",1);var qve=new II,Jx=class YQ extends Jt{constructor(e){super(),this.displayed=!0,this.visible=!0,this.compId=qve.next(),this.cssClassManager=new jve(()=>this.eGui),e&&this.setTemplate(e)}preConstructOnComponent(){this.usingBrowserTooltips=this.gridOptionsService.get("enableBrowserTooltips")}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(e){const{newTooltipText:n,showDelayOverride:i,hideDelayOverride:r,location:s,shouldDisplayTooltip:o}=e||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==n&&(this.tooltipText=n),null!=n&&(this.tooltipFeature=this.createBean(new Ym({getTooltipValue:()=>this.tooltipText,getGui:()=>this.getGui(),getLocation:()=>s??"UNKNOWN",getTooltipShowDelayOverride:null!=i?()=>i:void 0,getTooltipHideDelayOverride:null!=r?()=>r:void 0,shouldDisplayTooltip:o})))}createChildComponentsFromTags(e,n){Qte(e.childNodes).forEach(r=>{if(!(r instanceof HTMLElement))return;const s=this.createComponentFromElement(r,o=>{o.getGui()&&this.copyAttributesFromNode(r,o.getGui())},n);if(s){if(s.addItems&&r.children.length){this.createChildComponentsFromTags(r,n);const o=Array.prototype.slice.call(r.children);s.addItems(o)}this.swapComponentForNode(s,e,r)}else r.childNodes&&this.createChildComponentsFromTags(r,n)})}createComponentFromElement(e,n,i){const r=e.nodeName,s=i?i[e.getAttribute("ref")]:void 0,o=this.agStackComponentsRegistry.getComponentClass(r);if(o){YQ.elementGettingCreated=e;const c=new o(s);return c.setParentComponent(this),this.createBean(c,null,n),c}return null}copyAttributesFromNode(e,n){Jte(e.attributes,(i,r)=>n.setAttribute(i,r))}swapComponentForNode(e,n,i){const r=e.getGui();n.replaceChild(r,i),n.insertBefore(document.createComment(i.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,i)}swapInComponentForQuerySelectors(e,n){const i=this;this.iterateOverQuerySelectors(r=>{i[r.attributeName]===n&&(i[r.attributeName]=e)})}iterateOverQuerySelectors(e){let n=Object.getPrototypeOf(this);for(;null!=n;){const i=n.__agComponentMetaData,r=Cw(n.constructor);i&&i[r]&&i[r].querySelectors&&i[r].querySelectors.forEach(s=>e(s)),n=Object.getPrototypeOf(n)}}activateTabIndex(e){const n=this.gridOptionsService.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(i=>i.setAttribute("tabindex",n.toString()))}setTemplate(e,n){const i=Iu(e);this.setTemplateFromElement(i,n)}setTemplateFromElement(e,n){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),n)}createChildComponentsPreConstruct(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())}wireQuerySelectors(){if(!this.eGui)return;const e=this;this.iterateOverQuerySelectors(n=>{const i=s=>e[n.attributeName]=s;if(n.refSelector&&this.getAttribute("ref")===n.refSelector)i(this.eGui);else{const s=this.eGui.querySelector(n.querySelector);s&&i(s.__agComponent||s)}})}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}queryForHtmlInputElement(e){return this.eGui.querySelector(e)}appendChild(e,n){null!=e&&(n||(n=this.eGui),Yx(e)?n.appendChild(e):n.appendChild(e.getGui()))}isDisplayed(){return this.displayed}setVisible(e,n={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:i}=n;qte(this.eGui,e,{skipAriaHidden:i})}}setDisplayed(e,n={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:i}=n;nr(this.eGui,e,{skipAriaHidden:i}),this.dispatchEvent({type:YQ.EVENT_DISPLAYED_CHANGED,visible:this.displayed})}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),super.destroy()}addGuiEventListener(e,n,i){this.eGui.addEventListener(e,n,i),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,n))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,n){this.cssClassManager.addOrRemoveCssClass(e,n)}getAttribute(e){const{eGui:n}=this;return n?n.getAttribute(e):null}getRefElement(e){return this.queryForHtmlElement(`[ref="${e}"]`)}};Jx.EVENT_DISPLAYED_CHANGED="displayedChanged",N([Y("agStackComponentsRegistry")],Jx.prototype,"agStackComponentsRegistry",2),N([A6],Jx.prototype,"preConstructOnComponent",1),N([A6],Jx.prototype,"createChildComponentsPreConstruct",1);var Ii=Jx;function fn(t){return une.bind(this,`[ref=${t}]`,t)}function une(t,e,n,i,r){null!==t?"number"!=typeof r?function Kve(t,e,n){const i=function Yve(t,e){return t.__agComponentMetaData||(t.__agComponentMetaData={}),t.__agComponentMetaData[e]||(t.__agComponentMetaData[e]={}),t.__agComponentMetaData[e]}(t,Cw(t.constructor));i[e]||(i[e]=[]),i[e].push(n)}(n,"querySelectors",{attributeName:i,querySelector:t,refSelector:e}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var p3=class extends Ii{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')}destroy(){super.destroy()}init(t){this.params=t;const e=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),n=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${e} ${n("ariaFilterInput","Filter Input")}`)}onParentModelChanged(t){null!=t?this.params.parentFilterInstance(e=>{if(e.getModelAsString){const n=e.getModelAsString(t);this.eFloatingFilterText.setValue(n)}}):this.eFloatingFilterText.setValue("")}onParamsUpdated(t){this.refresh(t)}refresh(t){this.init(t)}};N([fn("eFloatingFilterText")],p3.prototype,"eFloatingFilterText",2),N([Y("columnModel")],p3.prototype,"columnModel",2);var dne=class{constructor(t,e,n,i){this.alive=!0,this.context=t,this.eParent=i,e.getDateCompDetails(n).newAgStackInstance().then(o=>{this.alive?(this.dateComp=o,o&&(i.appendChild(o.getGui()),o.afterGuiAttached&&o.afterGuiAttached(),this.tempValue&&o.setDate(this.tempValue),null!=this.disabled&&this.setDateCompDisabled(this.disabled))):t.destroyBean(o)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t}setDisabled(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t}setDisplayed(t){nr(this.eParent,t)}setInputPlaceholder(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)}setInputAriaLabel(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)}afterGuiAttached(t){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(t)}updateParams(t){var e,n;let i=!1;null!=(e=this.dateComp)&&e.refresh&&"function"==typeof this.dateComp.refresh&&null!==this.dateComp.refresh(t)&&(i=!0),!i&&null!=(n=this.dateComp)&&n.onParamsUpdated&&"function"==typeof this.dateComp.onParamsUpdated&&null!==this.dateComp.onParamsUpdated(t)&&ei("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(t){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(t)}},hne=class{constructor(){this.customFilterOptions={}}init(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(t=>{"string"!=typeof t&&([["displayKey"],["displayName"],["predicate","test"]].every(i=>!!i.some(r=>null!=t[r])||(console.warn(`AG Grid: ignoring FilterOptionDef as it doesn't contain one of '${i}'`),!1))?this.customFilterOptions[t.displayKey]=t:this.filterOptions=this.filterOptions.filter(i=>i===t)||[])})}selectDefaultItem(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){const e=this.filterOptions[0];"string"==typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(t){return this.customFilterOptions[t]}},fne={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},zL=class eme extends Jt{constructor(e,n={}){super(),this.eFocusableElement=e,this.callbacks=n,this.callbacks=Yn({shouldStopEventPropagation:()=>!1,onTabKeyDown:i=>{if(i.defaultPrevented)return;const r=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,i.shiftKey);r&&(r.focus(),i.preventDefault())}},n)}postConstruct(){this.eFocusableElement.classList.add(eme.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)}addKeyDownListeners(e){this.addManagedListener(e,"keydown",n=>{if(!n.defaultPrevented&&!mf(n)){if(this.callbacks.shouldStopEventPropagation(n))return void gf(n);n.key===Qe.TAB?this.callbacks.onTabKeyDown(n):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(n)}})}};zL.FOCUS_MANAGED_CLASS="ag-focus-managed",N([Y("focusService")],zL.prototype,"focusService",2),N([nn],zL.prototype,"postConstruct",1);var cy=zL,pne="ag-resizer-wrapper",Xve=`<div class="${pne}">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>`,TI=class extends Jt{constructor(t,e){super(),this.element=t,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},e)}center(){const{clientHeight:t,clientWidth:e}=this.offsetParent,n=e/2-this.getWidth()/2,i=t/2-this.getHeight()/2;this.offsetElement(n,i)}initialisePosition(){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:e,minWidth:n,width:i,minHeight:r,height:s,x:o,y:c}=this.config;this.offsetParent||this.setOffsetParent();let d=0,p=0;const m=cd(this.element);if(m){const y=this.findBoundaryElement(),A=window.getComputedStyle(y);if(null!=A.minWidth){const k=y.offsetWidth-this.element.offsetWidth;p=parseInt(A.minWidth,10)-k}if(null!=A.minHeight){const k=y.offsetHeight-this.element.offsetHeight;d=parseInt(A.minHeight,10)-k}}if(this.minHeight=r||d,this.minWidth=n||p,i&&this.setWidth(i),s&&this.setHeight(s),(!i||!s)&&this.refreshSize(),t)this.center();else if(o||c)this.offsetElement(o,c);else if(m&&e){let y=this.boundaryEl,A=!0;if(y||(y=this.findBoundaryElement(),A=!1),y){const k=parseFloat(y.style.top),U=parseFloat(y.style.left);A?this.offsetElement(isNaN(U)?0:U,isNaN(k)?0:k):this.setPosition(U,k)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(t,e){if(!this.config.popup||t===this.movable)return;this.movable=t;const n=this.moveElementDragListener||{eElement:e,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(n),this.moveElementDragListener=n):(this.dragService.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(t){if(this.clearResizeListeners(),t?this.addResizers():this.removeResizers(),"boolean"==typeof t){if(!1===t)return;t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}}Object.keys(t).forEach(e=>{const i=!!t[e],r=this.getResizerElement(e),s={dragStartPixels:0,eElement:r,onDragStart:o=>this.onResizeStart(o,e),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,e)};(i||!this.isAlive()&&!i)&&(i?(this.dragService.addDragSource(s),this.resizeListeners.push(s),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[e]=i)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:t,width:e}=this.lastSize;-1!==e&&(this.element.style.width=`${e}px`),-1!==t&&(this.element.style.height=`${t}px`)}getHeight(){return this.element.offsetHeight}setHeight(t){const{popup:e}=this.config,n=this.element;let i=!1;if("string"==typeof t&&-1!==t.indexOf("%"))Ew(n,t),t=r3(n),i=!0;else if(t=Math.max(this.minHeight,t),this.positioned){const r=this.getAvailableHeight();r&&t>r&&(t=r)}this.getHeight()!==t&&(i?(n.style.maxHeight="unset",n.style.minHeight="unset"):e?Ew(n,t):(n.style.height=`${t}px`,n.style.flex="0 0 auto",this.lastSize.height="number"==typeof t?t:parseFloat(t)))}getAvailableHeight(){const{popup:t,forcePopupParentAsOffsetParent:e}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const i=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=t?this.position.y:i.top,o=t?0:r.top;let c=0;if(e){const p=this.element.parentElement;if(p){const{bottom:m}=p.getBoundingClientRect();c=m-i.bottom}}return n+o-s-c}getWidth(){return this.element.offsetWidth}setWidth(t){const e=this.element,{popup:n}=this.config;let i=!1;if("string"==typeof t&&-1!==t.indexOf("%"))ah(e,t),t=zx(e),i=!0;else if(this.positioned){t=Math.max(this.minWidth,t);const{clientWidth:r}=this.offsetParent,s=n?this.position.x:this.element.getBoundingClientRect().left;r&&t+s>r&&(t=r-s)}this.getWidth()!==t&&(i?(e.style.maxWidth="unset",e.style.minWidth="unset"):this.config.popup?ah(e,t):(e.style.width=`${t}px`,e.style.flex=" unset",this.lastSize.width="number"==typeof t?t:parseFloat(t)))}offsetElement(t=0,e=0){const{forcePopupParentAsOffsetParent:n}=this.config,i=n?this.boundaryEl:this.element;i&&(this.popupService.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:t,y:e})}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)))}constrainSizeToAvailableHeight(t){this.config.forcePopupParentAsOffsetParent&&(t?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),()=>{const n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)}):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0)))}setPosition(t,e){this.position.x=t,this.position.y=e}updateDragStartPosition(t,e){this.dragStartPosition={x:t,y:e}}calculateMouseMovement(t){const{e,isLeft:n,isTop:i,anywhereWithin:r,topBuffer:s}=t,o=e.clientX-this.dragStartPosition.x,c=e.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(e,!!n,!!r,o)?0:o,movementY:this.shouldSkipY(e,!!i,s,c)?0:c}}shouldSkipX(t,e,n,i){const r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),c=this.config.popup?this.position.x:r.left;let d=c<=0&&s.left>=t.clientX||s.right<=t.clientX&&s.right<=o.right;return!!d||(d=e?i<0&&t.clientX>c+s.left||i>0&&t.clientX<c+s.left:n?i<0&&t.clientX>o.right||i>0&&t.clientX<c+s.left:i<0&&t.clientX>o.right||i>0&&t.clientX<o.right,d)}shouldSkipY(t,e,n=0,i){const r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),c=this.config.popup?this.position.y:r.top;let d=c<=0&&s.top>=t.clientY||s.bottom<=t.clientY&&s.bottom<=o.bottom;return!!d||(d=e?i<0&&t.clientY>c+s.top+n||i>0&&t.clientY<c+s.top:i<0&&t.clientY>o.bottom||i>0&&t.clientY<o.bottom,d)}createResizeMap(){const t=this.element;this.resizerMap={topLeft:{element:t.querySelector("[ref=eTopLeftResizer]")},top:{element:t.querySelector("[ref=eTopResizer]")},topRight:{element:t.querySelector("[ref=eTopRightResizer]")},right:{element:t.querySelector("[ref=eRightResizer]")},bottomRight:{element:t.querySelector("[ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[ref=eBottomLeftResizer]")},left:{element:t.querySelector("[ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const t=this.element;if(!t)return;const n=(new DOMParser).parseFromString(Xve,"text/html").body;t.appendChild(n.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const t=this.element.querySelector(`.${pne}`);t&&this.element.removeChild(t),this.resizersAdded=!1}getResizerElement(t){return this.resizerMap[t].element}onResizeStart(t,e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!e.match(/top/i),isRight:!!e.match(/right/i),isBottom:!!e.match(/bottom/i),isLeft:!!e.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[e].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:i}=this.config;!n&&!i&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)}getSiblings(){const e=this.element.parentElement;return e?Array.prototype.slice.call(e.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const t=this.getSiblings()||[];let e=0,n=0;for(let i=0;i<t.length;i++){const r=t[i],s=!!r.style.flex&&"0 0 auto"!==r.style.flex;if(r===this.element)continue;let o=this.minHeight||0,c=this.minWidth||0;if(s){const d=window.getComputedStyle(r);d.minHeight&&(o=parseInt(d.minHeight,10)),d.minWidth&&(c=parseInt(d.minWidth,10))}else o=r.offsetHeight,c=r.offsetWidth;e+=o,n+=c}return{height:e,width:n}}applySizeToSiblings(t){let e=null;const n=this.getSiblings();if(n){for(let i=0;i<n.length;i++){const r=n[i];r!==e&&(t?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(e=n[i+1]))}e&&(e.style.removeProperty("height"),e.style.removeProperty("min-height"),e.style.removeProperty("max-height"),e.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(t=>t)}onResize(t){if(!this.isResizing||!this.currentResizer)return;const{popup:e,forcePopupParentAsOffsetParent:n}=this.config,{isTop:i,isRight:r,isBottom:s,isLeft:o}=this.currentResizer,c=r||o,d=s||i,{movementX:p,movementY:m}=this.calculateMouseMovement({e:t,isLeft:o,isTop:i}),y=this.position.x,A=this.position.y;let k=0,U=0;if(c&&p){const X=o?-1:1,Q=this.getWidth(),pe=Q+p*X;let Ie=!1;o&&(k=Q-pe,(y+k<=0||pe<=this.minWidth)&&(Ie=!0,k=0)),Ie||this.setWidth(pe)}if(d&&m){const X=i?-1:1,Q=this.getHeight(),pe=Q+m*X;let Ie=!1;i?(U=Q-pe,(A+U<=0||pe<=this.minHeight)&&(Ie=!0,U=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&Q<pe&&this.getMinSizeOfSiblings().height+pe>this.element.parentElement.offsetHeight&&(Ie=!0),Ie||this.setHeight(pe)}this.updateDragStartPosition(t.clientX,t.clientY),((e||n)&&k||U)&&this.offsetElement(y+k,A+U)}onResizeEnd(t,e){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[e].element.classList.remove("ag-active"),this.dispatchEvent({type:"resize"})}refreshSize(){const t=this.element;this.config.popup&&(this.config.width||this.setWidth(t.offsetWidth),this.config.height||this.setHeight(t.offsetHeight))}onMoveStart(t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(t.clientX,t.clientY)}onMove(t){if(!this.isMoving)return;const{x:e,y:n}=this.position;let i;this.config.calculateTopBuffer&&(i=this.config.calculateTopBuffer());const{movementX:r,movementY:s}=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:i});this.offsetElement(e+r,n+s),this.updateDragStartPosition(t.clientX,t.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent}findBoundaryElement(){let t=this.element;for(;t;){if("static"!==window.getComputedStyle(t).position)return t;t=t.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const t=this.resizeListeners.pop();this.dragService.removeDragSource(t)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}};N([Y("popupService")],TI.prototype,"popupService",2),N([Y("resizeObserverService")],TI.prototype,"resizeObserverService",2),N([Y("dragService")],TI.prototype,"dragService",2);var jL=class uN extends Ii{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.buttonListeners=[]}postConstruct(){this.resetTemplate(),this.createManagedBean(new cy(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new TI(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let n=this.getGui();n&&n.removeEventListener("submit",this.onFormSubmit);const i=`\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" ref="eFilterBody">\n                    ${this.createBodyTemplate()}\n                </div>\n            </form>`;this.setTemplate(i,e),n=this.getGui(),n&&n.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=uN.isUseApplyButton(e),this.resetButtonsPanel()}updateParams(e){this.providedFilterParams=e,this.applyActive=uN.isUseApplyButton(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(){const{buttons:e}=this.providedFilterParams,n=e&&e.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Jo(this.eButtonsPanel),this.buttonListeners.forEach(s=>s?.()),this.buttonListeners=[]):n&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!n)return void(this.eButtonsPanel&&_f(this.eButtonsPanel));const i=document.createDocumentFragment(),r=s=>{let o,c;switch(s){case"apply":o=this.translate("applyFilter"),c=m=>this.onBtApply(!1,!1,m);break;case"clear":o=this.translate("clearFilter"),c=()=>this.onBtClear();break;case"reset":o=this.translate("resetFilter"),c=()=>this.onBtReset();break;case"cancel":o=this.translate("cancelFilter"),c=m=>{this.onBtCancel(m)};break;default:return void console.warn("AG Grid: Unknown button type specified")}const p=Iu(`<button\n                    type="${"apply"===s?"submit":"button"}"\n                    ref="${s}FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >${o}\n                </button>`);this.buttonListeners.push(this.addManagedListener(p,"click",c)),i.append(p)};f3(e).forEach(s=>r(s)),this.eButtonsPanel.append(i),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=uN.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),n=vl(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,n()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(null!=e?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,n){const i=()=>{this.onUiChanged(!1,"prevent"),n?.()};null!=e?this.setModelIntoUi(e).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const n=this.getModelFromUi();if(!this.isModelValid(n))return!1;const i=this.appliedModel;return this.appliedModel=n,!this.areModelsEqual(i,n)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,n=!1,i){i&&i.preventDefault(),this.applyModel(n?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:n,source:"columnFilter"});const{closeOnApply:r}=this.providedFilterParams;r&&this.applyActive&&!e&&!n&&this.close(i)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const i=e&&e.key;let r;("Enter"===i||"Space"===i)&&(r={keyboardEvent:e}),this.hidePopup(r),this.hidePopup=null}onUiChanged(e=!1,n){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const i=this.isModelValid(this.getModelFromUi()),r=this.getRefElement("applyFilterButton");r&&SI(r,!i)}e&&!n||"immediately"===n?this.onBtApply(e):(!this.applyActive&&!n||"debounce"===n)&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){if(!this.positionableFeature||"toolPanel"===e)return;const n="floatingFilter"===e||"columnFilter"===e,{positionableFeature:i,gridOptionsService:r}=this;n?(i.restoreLastSize(),i.setResizable(r.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}static getDebounceMs(e,n){return uN.isUseApplyButton(e)?(null!=e.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:n}static isUseApplyButton(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}refresh(e){return this.providedFilterParams=e,!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,fne[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}};N([Y("rowModel")],jL.prototype,"rowModel",2),N([fn("eFilterBody")],jL.prototype,"eFilterBody",2),N([nn],jL.prototype,"postConstruct",1);var $L=jL,g3=class extends Ii{constructor(t,e){super(e),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=t||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:t,label:e,labelWidth:n,labelAlignment:i,disabled:r}=this.config;null!=r&&this.setDisabled(r),null!=t&&this.setLabelSeparator(t),null!=e&&this.setLabel(e),null!=n&&this.setLabelWidth(n),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()}refreshLabel(){Jo(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(nr(this.eLabel,!1),so(this.eLabel,"presentation")):(nr(this.eLabel,!0),so(this.eLabel,null))}setLabelSeparator(t){return this.labelSeparator===t||(this.labelSeparator=t,null!=this.label&&this.refreshLabel()),this}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(t){return this.label===t||(this.label=t,this.refreshLabel()),this}setLabelAlignment(t){const n=this.getGui().classList;return n.toggle("ag-label-align-left","left"===t),n.toggle("ag-label-align-right","right"===t),n.toggle("ag-label-align-top","top"===t),this}setLabelEllipsis(t){return this.eLabel.classList.toggle("ag-label-ellipsis",t),this}setLabelWidth(t){return null==this.label||Kx(this.eLabel,t),this}setDisabled(t){t=!!t;const e=this.getGui();return SI(e,t),e.classList.toggle("ag-disabled",t),this.disabled=t,this}isDisabled(){return!!this.disabled}};N([nn],g3.prototype,"postConstruct",1);var gne=class extends g3{constructor(t,e,n){super(t,e),this.className=n}postConstruct(){super.postConstruct();const{width:t,value:e,onValueChange:n}=this.config;null!=t&&this.setWidth(t),null!=e&&this.setValue(e),null!=n&&this.onValueChange(n),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}refreshAriaLabelledBy(){const t=this.getAriaElement(),e=this.getLabelId();null!==Ite(t)?NL(t,""):NL(t,e??"")}setAriaLabel(t){return vf(this.getAriaElement(),t),this.refreshAriaLabelledBy(),this}onValueChange(t){return this.addManagedListener(this,W.EVENT_FIELD_VALUE_CHANGED,()=>t(this.getValue())),this}getWidth(){return this.getGui().clientWidth}setWidth(t){return ah(this.getGui(),t),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(t,e){return this.value===t||(this.previousValue=this.value,this.value=t,e||this.dispatchEvent({type:W.EVENT_FIELD_VALUE_CHANGED})),this}},Sw=class extends gne{constructor(t){if(super(t,t?.template||'\n    <div class="ag-picker-field" role="presentation">\n        <div ref="eLabel"></div>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">\n            <div ref="eDisplayField" class="ag-picker-field-display"></div>\n            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n        </div>\n    </div>',t?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.ariaRole=t?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!t)return;const{pickerGap:e,maxPickerHeight:n,variableWidth:i,minPickerWidth:r,maxPickerWidth:s}=t;null!=e&&(this.pickerGap=e),this.variableWidth=!!i,null!=n&&this.setPickerMaxHeight(n),null!=r&&this.setPickerMinWidth(r),null!=s&&this.setPickerMaxWidth(s)}postConstruct(){super.postConstruct(),this.setupAria();const t=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",t);const e=this.getAriaElement();this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));const{pickerIcon:n,inputWidth:i}=this.config;if(n){const r=ks(n,this.gridOptionsService);r&&this.eIcon.appendChild(r)}null!=i&&this.setInputWidth(i)}setupAria(){const t=this.getAriaElement();t.setAttribute("tabindex",this.gridOptionsService.get("tabIndex").toString()),qm(t,!1),this.ariaRole&&so(t,this.ariaRole)}onLabelOrWrapperMouseDown(t){if(t){const e=this.getFocusableElement();if(e!==this.eWrapper&&t?.target===e)return;t.preventDefault(),this.getFocusableElement().focus()}this.skipClick?this.skipClick=!1:this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(t){switch(t.key){case Qe.UP:case Qe.DOWN:case Qe.ENTER:case Qe.SPACE:t.preventDefault(),this.onLabelOrWrapperMouseDown();break;case Qe.ESCAPE:this.isPickerDisplayed&&(t.preventDefault(),t.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker())}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const t=this.pickerComponent.getGui();t.addEventListener("focusin",this.onPickerFocusIn),t.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const t=this.gridOptionsService.getDocument(),e=this.pickerComponent.getGui();this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,W.EVENT_BODY_SCROLL,()=>{this.hidePicker()}));const n=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:i,pickerAriaLabelValue:r,modalPicker:s=!0}=this.config,o={modal:s,eChild:e,closeOnEsc:!0,closedCallback:()=>{const k=t.activeElement===t.body;this.beforeHidePicker(),k&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:n(i,r)},c=this.popupService.addPopup(o),{maxPickerHeight:d,minPickerWidth:p,maxPickerWidth:m,variableWidth:y}=this;y?(p&&(e.style.minWidth=p),e.style.width=HL(zx(this.eWrapper)),m&&(e.style.maxWidth=m)):Kx(e,m??zx(this.eWrapper));const A=d??`${Wx(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",A),e.style.position="absolute",this.alignPickerToComponent(),c.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:t}=this.config,{pickerGap:e}=this,n=this.gridOptionsService.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:t,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:n,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const t=this.pickerComponent.getGui();t.removeEventListener("focusin",this.onPickerFocusIn),t.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(t){this.isAlive()&&(qm(this.getAriaElement(),t),this.eWrapper.classList.toggle("ag-picker-expanded",t),this.eWrapper.classList.toggle("ag-picker-collapsed",!t))}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(t){var e;null!=(e=this.pickerComponent)&&e.getGui().contains(t.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(t){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",t)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(t){return Kx(this.eWrapper,t),this}getFocusableElement(){return this.eWrapper}setPickerGap(t){return this.pickerGap=t,this}setPickerMinWidth(t){return"number"==typeof t&&(t=`${t}px`),this.minPickerWidth=t??void 0,this}setPickerMaxWidth(t){return"number"==typeof t&&(t=`${t}px`),this.maxPickerWidth=t??void 0,this}setPickerMaxHeight(t){return"number"==typeof t&&(t=`${t}px`),this.maxPickerHeight=t??void 0,this}destroy(){this.hidePicker(),super.destroy()}};N([Y("popupService")],Sw.prototype,"popupService",2),N([fn("eLabel")],Sw.prototype,"eLabel",2),N([fn("eWrapper")],Sw.prototype,"eWrapper",2),N([fn("eDisplayField")],Sw.prototype,"eDisplayField",2),N([fn("eIcon")],Sw.prototype,"eIcon",2);var qL=class LG extends Ii{constructor(e="default",n=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=n,this.options=[],this.itemEls=[]}init(){const e=this.getGui();this.addManagedListener(e,"mouseleave",()=>this.clearHighlighted()),!this.unFocusable&&this.addManagedListener(e,"keydown",this.handleKeyDown.bind(this))}handleKeyDown(e){const n=e.key;switch(n){case Qe.ENTER:if(this.highlightedEl){const s=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(s)}else this.setValue(this.getValue());break;case Qe.DOWN:case Qe.UP:const i=n===Qe.DOWN;let r;if(e.preventDefault(),this.highlightedEl){let o=this.itemEls.indexOf(this.highlightedEl)+(i?1:-1);o=Math.min(Math.max(o,0),this.itemEls.length-1),r=this.itemEls[o]}else r=this.itemEls[i?0:this.itemEls.length-1];this.highlightItem(r)}}addOptions(e){return e.forEach(n=>this.addOption(n)),this}addOption(e){const{value:n,text:i}=e,r=i||n;return this.options.push({value:n,text:r}),this.renderOption(n,r),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{_f(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((n,i)=>{FL(n,i+1),OL(n,e.length)})}renderOption(e,n){const i=this.gridOptionsService.getDocument(),r=i.createElement("div");so(r,"option"),r.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const s=i.createElement("span");r.appendChild(s),s.innerText=n,this.unFocusable||(r.tabIndex=-1),this.itemEls.push(r),this.addManagedListener(r,"mousemove",()=>this.highlightItem(r)),this.addManagedListener(r,"mousedown",o=>{o.preventDefault(),this.setValue(e)}),this.createManagedBean(new Ym({getTooltipValue:()=>n,getGui:()=>r,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>s.scrollWidth>s.clientWidth})),this.getGui().appendChild(r)}setValue(e,n){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(n),this;const i=this.options.findIndex(r=>r.value===e);if(-1!==i){const r=this.options[i];this.value=r.value,this.displayValue=r.text,this.highlightItem(this.itemEls[i]),n||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(n=>n.value===this.value);-1!==e&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!cd(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(LG.ACTIVE_CLASS),bI(this.highlightedEl,!0);const n=this.getGui(),i=n.getBoundingClientRect(),r=i.top+n.scrollTop,s=i.height,{offsetTop:o,offsetHeight:c}=e;(o+c>r+s||o<r)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!cd(this.highlightedEl)||(this.highlightedEl.classList.remove(LG.ACTIVE_CLASS),bI(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchEvent({type:W.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()}fireItemSelected(){this.dispatchEvent({type:LG.EVENT_ITEM_SELECTED})}};qL.EVENT_ITEM_SELECTED="selectedItem",qL.ACTIVE_CLASS="ag-active-item",N([nn],qL.prototype,"init",1);var mne=qL,vne=class tme extends Sw{constructor(e){super(Yn({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},e))}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");const{options:e,value:n,placeholder:i}=this.config;null!=e&&this.addOptions(e),null!=n&&this.setValue(n,!0),i&&null==n&&(this.eDisplayField.textContent=i),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new mne("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),n=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",n),B6(this.getAriaElement(),e),this.listComponent.addManagedListener(this.listComponent,mne.EVENT_ITEM_SELECTED,()=>{this.hidePicker(),this.dispatchEvent({type:tme.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,W.EVENT_FIELD_VALUE_CHANGED,()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())})}createPickerComponent(){return this.listComponent}onKeyDown(e){var n;const{key:i}=e;i===Qe.TAB?this.hidePicker():!this.isPickerDisplayed||i!==Qe.ENTER&&i!==Qe.UP&&i!==Qe.DOWN?super.onKeyDown(e):null==(n=this.listComponent)||n.handleKeyDown(e)}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(n=>this.addOption(n)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return null==(e=this.listComponent)||e.clearOptions(),this}setValue(e,n,i){if(this.value===e||!this.listComponent)return this;if(i||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let s=this.listComponent.getDisplayValue();return null==s&&this.config.placeholder&&(s=this.config.placeholder),this.eDisplayField.innerHTML=s,this.setTooltip({newTooltipText:s??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,n)}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),super.destroy()}};vne.EVENT_ITEM_SELECTED="selectedItem";var KL=vne,yf=class extends gne{constructor(t,e,n="text",i="input"){super(t,`\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <${i} ref="eInput" class="ag-input-field-input"></${i}>\n                </div>\n            </div>`,e),this.inputType=n,this.displayFieldTag=i}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:t,inputWidth:e}=this.config;null!=t&&this.setInputName(t),null!=e&&this.setInputWidth(e),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedListener(this.eInput,"input",t=>this.setValue(t.target.value))}setInputType(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(t){return Kx(this.eWrapper,t),this}setInputName(t){return this.getInputElement().setAttribute("name",t),this}getFocusableElement(){return this.eInput}setMaxLength(t){return this.eInput.maxLength=t,this}setInputPlaceholder(t){return $p(this.eInput,"placeholder",t),this}setInputAriaLabel(t){return vf(this.eInput,t),this.refreshAriaLabelledBy(),this}setDisabled(t){return SI(this.eInput,t),super.setDisabled(t)}setAutoComplete(t){return $p(this.eInput,"autocomplete",!0===t?null:"string"==typeof t?t:"off"),this}};N([fn("eLabel")],yf.prototype,"eLabel",2),N([fn("eWrapper")],yf.prototype,"eWrapper",2),N([fn("eInput")],yf.prototype,"eInput",2);var YL=class extends yf{constructor(t,e="ag-checkbox",n="checkbox"){super(t,e,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:t,passive:e}=this.config;"boolean"==typeof t&&this.setReadOnly(t),"boolean"==typeof e&&this.setPassive(e)}addInputListeners(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))}getNextValue(){return void 0===this.selected||!this.selected}setPassive(t){this.passive=t}isReadOnly(){return this.readOnly}setReadOnly(t){this.eWrapper.classList.toggle("ag-disabled",t),this.eInput.disabled=t,this.readOnly=t}setDisabled(t){return this.eWrapper.classList.toggle("ag-disabled",t),super.setDisabled(t)}toggle(){if(this.eInput.disabled)return;const t=this.isSelected(),e=this.getNextValue();this.passive?this.dispatchChange(e,t):this.setValue(e)}getValue(){return this.isSelected()}setValue(t,e){return this.refreshSelectedClass(t),this.setSelected(t,e),this}setName(t){return this.getInputElement().name=t,this}isSelected(){return this.selected}setSelected(t,e){this.isSelected()!==t&&(this.previousValue=this.isSelected(),t=this.selected="boolean"==typeof t?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=void 0===t,e||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(t,e,n){this.dispatchEvent({type:W.EVENT_FIELD_VALUE_CHANGED,selected:t,previousValue:e,event:n});const i=this.getInputElement();this.eventService.dispatchEvent({type:W.EVENT_CHECKBOX_CHANGED,id:i.id,name:i.name,selected:t,previousValue:e})}onCheckboxClick(t){if(this.passive||this.eInput.disabled)return;const e=this.isSelected(),n=this.selected=t.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,e,t)}refreshSelectedClass(t){this.eWrapper.classList.toggle("ag-checked",!0===t),this.eWrapper.classList.toggle("ag-indeterminate",null==t)}},_ne=class extends YL{constructor(t){super(t,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedListener(this.eventService,W.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))}onChange(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)}},m3=class{constructor(t,e,n){this.localeService=t,this.optionsFactory=e,this.valueFormatter=n}getModelAsString(t){if(!t)return null;const e=null!=t.operator,n=this.localeService.getLocaleTextFunc();if(e){const i=t;let{conditions:r}=i;if(!r){const{condition1:c,condition2:d}=i;r=[c,d]}const s=r.map(c=>this.getModelAsString(c)),o="AND"===i.operator?"andCondition":"orCondition";return s.join(` ${n(o,fne[o])} `)}if(t.type===oo.BLANK||t.type===oo.NOT_BLANK)return n(t.type,t.type);{const i=t,r=this.optionsFactory.getCustomOption(i.type),{displayKey:s,displayName:o,numberOfInputs:c}=r||{};return s&&o&&0===c?(n(s,o),o):this.conditionToString(i,r)}}updateParams(t){this.optionsFactory=t.optionsFactory}formatValue(t){var e;return this.valueFormatter?null!=(e=this.valueFormatter(t??null))?e:"":String(t)}},Uc=class SA extends $L{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const n=this.optionsFactory.getCustomOption(e);if(n){const{numberOfInputs:r}=n;return r??1}return e&&[SA.EMPTY,SA.NOT_BLANK,SA.BLANK].indexOf(e)>=0?0:e===SA.IN_RANGE?2:1}onFloatingFilterChanged(e,n){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(n),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((n,i)=>{n.setValue(0===i?e:this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return 0===e.length?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:e[0],condition2:e[1],conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"}areModelsEqual(e,n){if(!e&&!n)return!0;if(!e&&n||e&&!n)return!1;const i=!e.operator,r=!n.operator;if(!i&&r||i&&!r)return!1;let o;return o=i?this.areSimpleModelsEqual(e,n):e.operator===n.operator&&ae(e.conditions,n.conditions,(p,m)=>this.areSimpleModelsEqual(p,m)),o}shouldRefresh(e){var n,i,r;const s=this.getModel(),o=s?null!=(n=s.conditions)?n:[s]:null,c=null!=(r=null==(i=e.filterOptions)?void 0:i.map(p=>"string"==typeof p?p:p.displayKey))?r:this.getDefaultFilterOptions();return!(o&&!o.every(p=>void 0!==c.find(m=>m===p.type))||"number"==typeof e.maxNumConditions&&o&&o.length>e.maxNumConditions)}refresh(e){return!(!this.shouldRefresh(e)||!super.refresh(e)||(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),0))}setModelIntoUi(e){if(e.operator){let i=e;i.conditions||(i.conditions=[i.condition1,i.condition2]);const r=this.validateAndUpdateConditions(i.conditions),s=this.getNumConditions();if(r<s)this.removeConditionsAndOperators(r);else if(r>s)for(let c=s;c<r;c++)this.createJoinOperatorPanel(),this.createOption();const o="OR"===i.operator;this.eJoinOperatorsAnd.forEach(c=>c.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(c=>c.setValue(o,!0)),i.conditions.forEach((c,d)=>{this.eTypes[d].setValue(c.type,!0),this.setConditionIntoUi(c,d)})}else{const i=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Tu.resolve()}validateAndUpdateConditions(e){let n=e.length;return n>this.maxNumConditions&&(e.splice(this.maxNumConditions),ei('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),n=this.maxNumConditions),n}doesFilterPass(e){var n;const i=this.getModel();if(null==i)return!0;const{operator:r}=i,s=[];return r?s.push(...null!=(n=i.conditions)?n:[]):s.push(i),s[r&&"OR"===r?"some":"every"](c=>this.individualConditionPasses(e,c))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new hne,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){var n,i;null!=e.suppressAndOrCondition&&ei('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),null!=e.alwaysShowBothConditions&&ei('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=null!=(n=e.maxNumConditions)?n:e.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(ei('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=null!=(i=e.numAlwaysVisibleConditions)?i:e.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(ei('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(ei('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new KL);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const n=this.createValueElement();this.eConditionBodies.push(n),this.eFilterBody.appendChild(n),this.putOptionsIntoDropdown(e),this.resetType(e);const i=this.getNumConditions()-1;this.forEachPositionInput(i,r=>this.resetInput(r)),this.addChangedListeners(e,i)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const n=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const r=this.eJoinOperatorPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(n,r,s),this.resetJoinOperatorOr(i,r,s),this.isReadOnly()||(n.onValueChange(this.listener),i.onValueChange(this.listener))}createJoinOperator(e,n,i){const r=this.createManagedBean(new _ne);return e.push(r),r.addCssClass("ag-filter-condition-operator"),r.addCssClass(`ag-filter-condition-operator-${i}`),n.appendChild(r.getGui()),r}getDefaultJoinOperator(e){return"AND"===e||"OR"===e?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(n=>"string"==typeof n?this.createBoilerplateListOption(n):this.createCustomListOption(n))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(n=>{e.addOption(n)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:n}=e,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:n,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(n)}}isAllowTwoConditions(){return this.maxNumConditions>=2}createBodyTemplate(){return""}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){var e;let n=-1,i=!0;for(let r=0;r<this.getNumConditions();r++)this.isConditionUiComplete(r)?n=r:i=!1;if(this.shouldAddNewConditionAtEnd(i))this.createJoinOperatorPanel(),this.createOption();else{const r=null!=(e=this.lastUiCompletePosition)?e:this.getNumConditions()-2;if(n<r){this.removeConditionsAndOperators(r+1);const s=n+1,o=r-s;o>0&&this.removeConditionsAndOperators(s,o),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=n}updateConditionStatusesAndValues(e,n){this.eTypes.forEach((r,s)=>{const o=this.isConditionDisabled(s,e);r.setDisabled(o||this.filterListOptions.length<=1),1===s&&(SI(this.eJoinOperatorPanels[0],o),this.eJoinOperatorsAnd[0].setDisabled(o),this.eJoinOperatorsOr[0].setDisabled(o))}),this.eConditionBodies.forEach((r,s)=>{nr(r,this.isConditionBodyVisible(s))});const i="OR"===(n??this.getJoinOperator());this.eJoinOperatorsAnd.forEach((r,s)=>{r.setValue(!i,!0)}),this.eJoinOperatorsOr.forEach((r,s)=>{r.setValue(i,!0)}),this.forEachInput((r,s,o,c)=>{this.setElementDisplayed(r,s<c),this.setElementDisabled(r,this.isConditionDisabled(o,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,n){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,n),this.removeElements(this.eConditionBodies,e,n),this.removeValueElements(e,n);const i=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,i,n),this.removeComponents(this.eJoinOperatorsAnd,i,n),this.removeComponents(this.eJoinOperatorsOr,i,n)}removeElements(e,n,i){this.removeItems(e,n,i).forEach(s=>_f(s))}removeComponents(e,n,i){this.removeItems(e,n,i).forEach(s=>{_f(s.getGui()),this.destroyBean(s)})}removeItems(e,n,i){return null==i?e.splice(n):e.splice(n,i)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{const n=this.getInputs(0)[0];if(!n)return;n instanceof yf&&n.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let n=-1,i=-1,r=!1;const s=this.getJoinOperator();for(let c=this.getNumConditions()-1;c>=0;c--)if(this.isConditionUiComplete(c))-1===n&&(n=c,i=c);else{const p=c<n;(c>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(c-1)||p)&&(this.removeConditionsAndOperators(c,1),r=!0,p&&i--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(i,s),r&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getPlaceholderText(e,n){let i=this.translate(e);if(mI(this.filterPlaceholder)){const r=this.filterPlaceholder,s=this.eTypes[n].getValue();i=r({filterOptionKey:s,filterOption:this.translate(s),placeholder:i})}else"string"==typeof this.filterPlaceholder&&(i=this.filterPlaceholder);return i}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((n,i,r,s)=>{if(!(n instanceof yf))return;const o=0===i&&s>1?"inRangeStart":0===i?"filterOoo":"inRangeEnd",c=0===i&&s>1?e("ariaFilterFromValue","Filter from value"):0===i?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");n.setInputPlaceholder(this.getPlaceholderText(o,r)),n.setInputAriaLabel(c)})}setElementValue(e,n,i){e instanceof yf&&e.setValue(null!=n?String(n):null,!0)}setElementDisplayed(e,n){e instanceof Ii&&nr(e.getGui(),n)}setElementDisabled(e,n){e instanceof Ii&&SI(e.getGui(),n)}attachElementOnChange(e,n){e instanceof yf&&e.onValueChange(n)}forEachInput(e){this.getConditionTypes().forEach((n,i)=>{this.forEachPositionTypeInput(i,n,e)})}forEachPositionInput(e,n){const i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,n)}forEachPositionTypeInput(e,n,i){const r=this.getNumberOfInputs(n),s=this.getInputs(e);for(let o=0;o<s.length;o++){const c=s[o];null!=c&&i(c,o,e,r)}}isConditionDisabled(e,n){return!!this.isReadOnly()||0!==e&&e>n+1}isConditionBodyVisible(e){const n=this.getConditionType(e);return this.getNumberOfInputs(n)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)===SA.EMPTY||this.getValues(e).some(i=>null==i))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)&&e.push(this.createCondition(n));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(n=>this.resetType(n)),this.eJoinOperatorsAnd.forEach((n,i)=>this.resetJoinOperatorAnd(n,i,this.joinOperatorId+i)),this.eJoinOperatorsOr.forEach((n,i)=>this.resetJoinOperatorOr(n,i,this.joinOperatorId+i)),this.joinOperatorId++,this.forEachInput(n=>this.resetInput(n)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),Tu.resolve()}resetType(e){const i=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,n,i){this.resetJoinOperator(e,n,this.isDefaultOperator("AND"),this.translate("andCondition"),i)}resetJoinOperatorOr(e,n,i){this.resetJoinOperator(e,n,this.isDefaultOperator("OR"),this.translate("orCondition"),i)}resetJoinOperator(e,n,i,r,s){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${s}`).setLabel(r),n)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,n)=>this.updateJoinOperatorDisabled(e,n)),this.eJoinOperatorsOr.forEach((e,n)=>this.updateJoinOperatorDisabled(e,n))}updateJoinOperatorDisabled(e,n){e.setDisabled(this.isReadOnly()||n>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,n){const i=this.mapValuesFromModel(e);this.forEachInput((r,s,o,c)=>{o===n&&this.setElementValue(r,null!=i[s]?i[s]:null)})}setValueFromFloatingFilter(e){this.forEachInput((n,i,r,s)=>{this.setElementValue(n,0===i&&0===r?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,n){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(n,i=>{this.attachElementOnChange(i,this.listener)}))}individualConditionPasses(e,n){const i=this.getCellValue(e.node),r=this.mapValuesFromModel(n),s=this.optionsFactory.getCustomOption(n.type);return this.evaluateCustomFilter(s,r,i)??(null==i?this.evaluateNullValue(n.type):this.evaluateNonNullValue(r,i,n,e))}evaluateCustomFilter(e,n,i){if(null==e)return;const{predicate:r}=e;return null==r||n.some(s=>null==s)?void 0:r(n,i)}isBlank(e){return null==e||"string"==typeof e&&0===e.trim().length}hasInvalidInputs(){return!1}};Uc.EMPTY="empty",Uc.BLANK="blank",Uc.NOT_BLANK="notBlank",Uc.EQUALS="equals",Uc.NOT_EQUAL="notEqual",Uc.LESS_THAN="lessThan",Uc.LESS_THAN_OR_EQUAL="lessThanOrEqual",Uc.GREATER_THAN="greaterThan",Uc.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",Uc.IN_RANGE="inRange",Uc.CONTAINS="contains",Uc.NOT_CONTAINS="notContains",Uc.STARTS_WITH="startsWith",Uc.ENDS_WITH="endsWith";var oo=Uc,fa=class xa extends oo{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case xa.EQUALS:case xa.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case xa.GREATER_THAN:case xa.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case xa.LESS_THAN:case xa.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case xa.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case xa.BLANK:return!0;case xa.NOT_BLANK:return!1}return!1}evaluateNonNullValue(e,n,i){const r=this.comparator(),s=null!=e[0]?r(e[0],n):0;switch(i.type){case xa.EQUALS:return 0===s;case xa.NOT_EQUAL:return 0!==s;case xa.GREATER_THAN:return s>0;case xa.GREATER_THAN_OR_EQUAL:return s>=0;case xa.LESS_THAN:return s<0;case xa.LESS_THAN_OR_EQUAL:return s<=0;case xa.IN_RANGE:{const o=r(e[1],n);return this.scalarFilterParams.inRangeInclusive?s>=0&&o<=0:s>0&&o<0}case xa.BLANK:return this.isBlank(n);case xa.NOT_BLANK:return!this.isBlank(n);default:return console.warn('AG Grid: Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},bne=class extends m3{constructor(t,e,n){super(e,n),this.dateFilterParams=t}conditionToString(t,e){const{type:n}=t,{numberOfInputs:i}=e||{},r=n==oo.IN_RANGE||2===i,s=Su(t.dateFrom),o=Su(t.dateTo),c=this.dateFilterParams.inRangeFloatingFilterDateFormat;return r?`${null!==s?EI(s,c):"null"}-${null!==o?EI(o,c):"null"}`:null!=s?EI(s,c):`${n}`}updateParams(t){super.updateParams(t),this.dateFilterParams=t.dateFilterParams}},v3=class nme extends fa{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=1e3,this.maxValidYear=1/0,this.minValidDate=null,this.maxValidDate=null}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:n,dateTo:i,type:r}=e||{};return[n&&Su(n)||null,i&&Su(i)||null].slice(0,this.getNumberOfInputs(r))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,n){return null==n||n<e?-1:n>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const n=(i,r)=>{if(null!=e[i]){if(!isNaN(e[i]))return null==e[i]?r:Number(e[i]);console.warn(`AG Grid: DateFilter ${i} is not a number`)}return r};this.minValidYear=n("minValidYear",1e3),this.maxValidYear=n("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.minValidDate=e.minValidDate?e.minValidDate instanceof Date?e.minValidDate:Su(e.minValidDate):null,this.maxValidDate=e.maxValidDate?e.maxValidDate instanceof Date?e.maxValidDate:Su(e.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new bne(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const n=new dne(this.getContext(),this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>n.destroy()),n}setElementValue(e,n){e.setDate(n)}setElementDisplayed(e,n){e.setDisplayed(n)}setElementDisabled(e,n){e.setDisabled(n)}getDefaultFilterOptions(){return nme.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,n,i,r){const s=document.createElement("div");s.classList.add(`ag-filter-${r}`),s.classList.add(`ag-filter-date-${r}`),n.push(s),e.appendChild(s),i.push(this.createDateCompWrapper(s))}removeValueElements(e,n){this.removeDateComps(this.dateConditionFromComps,e,n),this.removeDateComps(this.dateConditionToComps,e,n),this.removeItems(this.eConditionPanelsFrom,e,n),this.removeItems(this.eConditionPanelsTo,e,n)}removeDateComps(e,n,i){this.removeItems(e,n,i).forEach(s=>s.destroy())}isValidDateValue(e){if(null===e)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let n=!0;return this.forEachInput((i,r,s,o)=>{s!==e||!n||r>=o||(n=n&&this.isValidDateValue(i.getDate()))}),n}areSimpleModelsEqual(e,n){return e.dateFrom===n.dateFrom&&e.dateTo===n.dateTo&&e.type===n.type}getFilterType(){return"date"}createCondition(e){const n=this.getConditionType(e),i={},r=this.getValues(e);return r.length>0&&(i.dateFrom=oh(r[0])),r.length>1&&(i.dateTo=oh(r[1])),Yn({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:n},i)}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),n=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(r=>{r.setInputPlaceholder(n),r.setInputAriaLabel(i)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const n=[];return this.forEachPositionInput(e,(i,r,s,o)=>{r<o&&n.push(i.getDate())}),n}translate(e){return super.translate(e===fa.LESS_THAN?"before":e===fa.GREATER_THAN?"after":e)}getModelAsString(e){var n;return null!=(n=this.filterModelFormatter.getModelAsString(e))?n:""}};v3.DEFAULT_FILTER_OPTIONS=[fa.EQUALS,fa.NOT_EQUAL,fa.LESS_THAN,fa.GREATER_THAN,fa.IN_RANGE,fa.BLANK,fa.NOT_BLANK],N([Y("userComponentFactory")],v3.prototype,"userComponentFactory",2);var wne=v3,Ene=class extends Ii{getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(t){return t&&t.afterFloatingFilter}isEventFromDataChange(t){return t?.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(t){if(!t)return void(this.lastType=this.optionsFactory.getDefaultOption());let n;n=t.operator?t.conditions[0]:t,this.lastType=n.type}canWeEditAfterModelFromParentFilter(t){return t?!t.operator&&this.isTypeEditable(t.type):this.isTypeEditable(this.lastType)}init(t){this.setSimpleParams(t,!1)}setSimpleParams(t,e=!0){this.optionsFactory=new hne,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),e||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!t.filterParams.readOnly;const n=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(n)}onParamsUpdated(t){this.refresh(t)}refresh(t){this.setSimpleParams(t)}doesFilterHaveSingleInput(t){const e=this.optionsFactory.getCustomOption(t),{numberOfInputs:n}=e||{};return null==n||1==n}isTypeEditable(t){const e=[oo.IN_RANGE,oo.EMPTY,oo.BLANK,oo.NOT_BLANK];return!!t&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(t)&&e.indexOf(t)<0}},XL=class extends Ene{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')}getDefaultFilterOptions(){return wne.DEFAULT_FILTER_OPTIONS}init(t){super.init(t),this.params=t,this.filterParams=t.filterParams,this.createDateComponent(),this.filterModelFormatter=new bne(this.filterParams,this.localeService,this.optionsFactory);const e=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(e("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(t){this.refresh(t)}refresh(t){super.refresh(t),this.params=t,this.filterParams=t.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(t.currentParentModel())}updateCompOnModelChange(t){const e=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(t);this.setEditable(e),e?(this.dateComp.setDate(t?Su(t.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(t)),this.dateComp.setDate(null))}setEditable(t){nr(this.eDateWrapper,t),nr(this.eReadOnlyText.getGui(),!t)}onParentModelChanged(t,e){this.isEventFromFloatingFilter(e)||this.isEventFromDataChange(e)||(super.setLastTypeFromModel(t),this.updateCompOnModelChange(t))}onDateChanged(){const e=oh(this.dateComp.getDate());this.params.parentFilterInstance(n=>{if(n){const i=Su(e);n.onFloatingFilterChanged(this.getLastType()||null,i)}})}getDateComponentParams(){const t=$L.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:vl(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new dne(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const t=this.gridOptionsService.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(t)}getFilterModelFormatter(){return this.filterModelFormatter}};N([Y("userComponentFactory")],XL.prototype,"userComponentFactory",2),N([fn("eReadOnlyText")],XL.prototype,"eReadOnlyText",2),N([fn("eDateWrapper")],XL.prototype,"eDateWrapper",2);var Sne=class extends Ii{constructor(){super('\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')}destroy(){super.destroy()}init(t){this.params=t,this.setParams(t);const e=this.gridOptionsService.getDocument(),n=this.eDateInput.getInputElement();this.addManagedListener(n,"mousedown",()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||n.focus()}),this.addManagedListener(n,"input",i=>{i.target===e.activeElement&&(this.eDateInput.isDisabled()||this.params.onDateChanged())})}setParams(t){const e=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(t);this.usingSafariDatePicker=n&&jp(),e.type=n?"date":"text";const{minValidYear:i,maxValidYear:r,minValidDate:s,maxValidDate:o}=t.filterParams||{};if(s&&i&&ei("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),o&&r&&ei("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),s&&o){const[c,d]=[s,o].map(p=>p instanceof Date?p:Su(p));c&&d&&c.getTime()>d.getTime()&&ei("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}s?e.min=s instanceof Date?EI(s):s:i&&(e.min=`${i}-01-01`),o?e.max=o instanceof Date?EI(o):o:r&&(e.max=`${r}-12-31`)}onParamsUpdated(t){this.refresh(t)}refresh(t){this.params=t,this.setParams(t)}getDate(){return Su(this.eDateInput.getValue())}setDate(t){this.eDateInput.setValue(oh(t,!1))}setInputPlaceholder(t){this.eDateInput.setInputPlaceholder(t)}setDisabled(t){this.eDateInput.setDisabled(t)}afterGuiAttached(t){(!t||!t.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(t){return t.filterParams&&null!=t.filterParams.browserDatePicker?t.filterParams.browserDatePicker:VL()||Y6()||jp()&&K6()>=14.1}};N([fn("eDateInput")],Sne.prototype,"eDateInput",2);var Iw=class extends yf{constructor(t,e="ag-text-field",n="text"){super(t,e,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(t,e){return this.eInput.value!==t&&(this.eInput.value=$t(t)?t:""),super.setValue(t,e)}setStartValue(t){this.setValue(t,!0)}preventDisallowedCharacters(){const t=new RegExp(`[${this.config.allowedCharPattern}]`);this.addManagedListener(this.eInput,"keydown",n=>{UL(n)&&n.key&&!t.test(n.key)&&n.preventDefault()}),this.addManagedListener(this.eInput,"paste",n=>{var i;const r=null==(i=n.clipboardData)?void 0:i.getData("text");r&&r.split("").some(s=>!t.test(s))&&n.preventDefault()})}},_3=class extends Iw{constructor(t){super(t,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"blur",()=>{const r=parseFloat(this.eInput.value),s=isNaN(r)?"":this.normalizeValue(r.toString());this.value!==s&&this.setValue(s)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any";const{precision:t,min:e,max:n,step:i}=this.config;"number"==typeof t&&this.setPrecision(t),"number"==typeof e&&this.setMin(e),"number"==typeof n&&this.setMax(n),"number"==typeof i&&this.setStep(i)}onWheel(t){document.activeElement===this.eInput&&t.preventDefault()}normalizeValue(t){if(""===t)return"";null!=this.precision&&(t=this.adjustPrecision(t));const e=parseFloat(t);return null!=this.min&&e<this.min?t=this.min.toString():null!=this.max&&e>this.max&&(t=this.max.toString()),t}adjustPrecision(t,e){if(null==this.precision)return t;if(e){const i=parseFloat(t).toFixed(this.precision);return parseFloat(i).toString()}const n=String(t).split(".");if(n.length>1){if(n[1].length<=this.precision)return t;if(this.precision>0)return`${n[0]}.${n[1].slice(0,this.precision)}`}return n[0]}setMin(t){return this.min===t||(this.min=t,$p(this.eInput,"min",t)),this}setMax(t){return this.max===t||(this.max=t,$p(this.eInput,"max",t)),this}setPrecision(t){return this.precision=t,this}setStep(t){return this.step===t||(this.step=t,$p(this.eInput,"step",t)),this}setValue(t,e){return this.setValueOrInputValue(n=>super.setValue(n,e),()=>this,t)}setStartValue(t){return this.setValueOrInputValue(e=>super.setValue(e,!0),e=>{this.eInput.value=e},t)}setValueOrInputValue(t,e,n){if($t(n)){let i=this.isScientificNotation(n);if(i&&this.eInput.validity.valid)return t(n);if(i||(i=(n=this.adjustPrecision(n))!=this.normalizeValue(n)),i)return e(n)}return t(n)}getValue(){if(!this.eInput.validity.valid)return;const t=this.eInput.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(t){return"string"==typeof t&&t.includes("e")}},Ine=class extends m3{conditionToString(t,e){const{numberOfInputs:n}=e||{};return t.type==oo.IN_RANGE||2===n?`${this.formatValue(t.filter)}-${this.formatValue(t.filterTo)}`:null!=t.filter?this.formatValue(t.filter):`${t.type}`}};function y3(t){const{allowedCharPattern:e}=t??{};return e??null}var Tne=class ime extends fa{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern===e.allowedCharPattern&&super.refresh(e)}mapValuesFromModel(e){const{filter:n,filterTo:i,type:r}=e||{};return[this.processValue(n),this.processValue(i)].slice(0,this.getNumberOfInputs(r))}getDefaultDebounceMs(){return 500}comparator(){return(e,n)=>e===n?0:e<n?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new Ine(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return ime.DEFAULT_FILTER_OPTIONS}setElementValue(e,n,i){const r=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(n??null):n;super.setElementValue(e,r)}createValueElement(){const e=y3(this.numberFilterParams),n=document.createElement("div");return n.classList.add("ag-filter-body"),so(n,"presentation"),this.createFromToElement(n,this.eValuesFrom,"from",e),this.createFromToElement(n,this.eValuesTo,"to",e),n}createFromToElement(e,n,i,r){const s=this.createManagedBean(r?new Iw({allowedCharPattern:r}):new _3);s.addCssClass(`ag-filter-${i}`),s.addCssClass("ag-filter-filter"),n.push(s),e.appendChild(s.getGui())}removeValueElements(e,n){this.removeComponents(this.eValuesFrom,e,n),this.removeComponents(this.eValuesTo,e,n)}getValues(e){const n=[];return this.forEachPositionInput(e,(i,r,s,o)=>{r<o&&n.push(this.processValue(this.stringToFloat(i.getValue())))}),n}areSimpleModelsEqual(e,n){return e.filter===n.filter&&e.filterTo===n.filterTo&&e.type===n.type}getFilterType(){return"number"}processValue(e){return null==e||isNaN(e)?null:e}stringToFloat(e){if("number"==typeof e)return e;let n=nh(e);return null!=n&&""===n.trim()&&(n=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(n):null==n||"-"===n.trim()?null:parseFloat(n)}createCondition(e){const n=this.getConditionType(e),i={filterType:this.getFilterType(),type:n},r=this.getValues(e);return r.length>0&&(i.filter=r[0]),r.length>1&&(i.filterTo=r[1]),i}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){var n;return null!=(n=this.filterModelFormatter.getModelAsString(e))?n:""}hasInvalidInputs(){let e=!1;return this.forEachInput(n=>{n.getInputElement().validity.valid||(e=!0)}),e}};Tne.DEFAULT_FILTER_OPTIONS=[fa.EQUALS,fa.NOT_EQUAL,fa.GREATER_THAN,fa.GREATER_THAN_OR_EQUAL,fa.LESS_THAN,fa.LESS_THAN_OR_EQUAL,fa.IN_RANGE,fa.BLANK,fa.NOT_BLANK];var Ane=Tne,Rne=class extends m3{conditionToString(t,e){const{numberOfInputs:n}=e||{};return t.type==oo.IN_RANGE||2===n?`${t.filter}-${t.filterTo}`:null!=t.filter?`${t.filter}`:`${t.type}`}},Cf=class IA extends oo{constructor(){super("textFilter"),this.eValuesFrom=[],this.eValuesTo=[]}static trimInput(e){const n=e&&e.trim();return""===n?e:n}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?IA.DEFAULT_FORMATTER:IA.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new Rne(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?($i.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:n,value:i,filterText:r})=>e(n,i,r)):this.textFilterParams.textMatcher||IA.DEFAULT_MATCHER}createCondition(e){const n=this.getConditionType(e),i={filterType:this.getFilterType(),type:n},r=this.getValuesWithSideEffects(e,!0);return r.length>0&&(i.filter=r[0]),r.length>1&&(i.filterTo=r[1]),i}getFilterType(){return"text"}areSimpleModelsEqual(e,n){return e.filter===n.filter&&e.filterTo===n.filterTo&&e.type===n.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,n){const i=[];return this.forEachPositionInput(e,(r,s,o,c)=>{var d;if(s<c){let p=nh(r.getValue());n&&this.textFilterParams.trimInput&&(p=null!=(d=IA.trimInput(p))?d:null,r.setValue(p,!0)),i.push(p)}}),i}getDefaultFilterOptions(){return IA.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),so(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,n,i){const r=this.createManagedBean(new Iw);r.addCssClass(`ag-filter-${i}`),r.addCssClass("ag-filter-filter"),n.push(r),e.appendChild(r.getGui())}removeValueElements(e,n){this.removeComponents(this.eValuesFrom,e,n),this.removeComponents(this.eValuesTo,e,n)}mapValuesFromModel(e){const{filter:n,filterTo:i,type:r}=e||{};return[n||null,i||null].slice(0,this.getNumberOfInputs(r))}evaluateNullValue(e){return!!e&&[oo.NOT_EQUAL,oo.NOT_CONTAINS,oo.BLANK].indexOf(e)>=0}evaluateNonNullValue(e,n,i,r){const s=e.map(U=>this.formatter(U))||[],o=this.formatter(n),{api:c,colDef:d,column:p,columnApi:m,context:y,textFormatter:A}=this.textFilterParams;if(i.type===oo.BLANK)return this.isBlank(n);if(i.type===oo.NOT_BLANK)return!this.isBlank(n);const k={api:c,colDef:d,column:p,columnApi:m,context:y,node:r.node,data:r.data,filterOption:i.type,value:o,textFormatter:A};return s.some(U=>this.matcher(ms(Yn({},k),{filterText:U})))}getModelAsString(e){var n;return null!=(n=this.filterModelFormatter.getModelAsString(e))?n:""}};Cf.DEFAULT_FILTER_OPTIONS=[oo.CONTAINS,oo.NOT_CONTAINS,oo.EQUALS,oo.NOT_EQUAL,oo.STARTS_WITH,oo.ENDS_WITH,oo.BLANK,oo.NOT_BLANK],Cf.DEFAULT_FORMATTER=t=>t,Cf.DEFAULT_LOWERCASE_FORMATTER=t=>null==t?null:t.toString().toLowerCase(),Cf.DEFAULT_MATCHER=({filterOption:t,value:e,filterText:n})=>{if(null==n)return!1;switch(t){case Cf.CONTAINS:return e.indexOf(n)>=0;case Cf.NOT_CONTAINS:return e.indexOf(n)<0;case Cf.EQUALS:return e===n;case Cf.NOT_EQUAL:return e!=n;case Cf.STARTS_WITH:return 0===e.indexOf(n);case Cf.ENDS_WITH:const i=e.lastIndexOf(n);return i>=0&&i===e.length-n.length;default:return!1}};var C3=Cf,Dne=class extends Jt{constructor(t){super(),this.params=t,this.valueChangedListener=()=>{}}setupGui(t){var e;this.eFloatingFilterTextInput=this.createManagedBean(new Iw(null==(e=this.params)?void 0:e.config));const n=this.eFloatingFilterTextInput.getGui();t.appendChild(n),this.addManagedListener(n,"input",i=>this.valueChangedListener(i)),this.addManagedListener(n,"keydown",i=>this.valueChangedListener(i))}setEditable(t){this.eFloatingFilterTextInput.setDisabled(!t)}setAutoComplete(t){this.eFloatingFilterTextInput.setAutoComplete(t)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(t,e){this.eFloatingFilterTextInput.setValue(t,e)}setValueChangedListener(t){this.valueChangedListener=t}setParams(t){this.setAriaLabel(t.ariaLabel),void 0!==t.autoComplete&&this.setAutoComplete(t.autoComplete)}setAriaLabel(t){this.eFloatingFilterTextInput.setInputAriaLabel(t)}},Zx=class extends Ene{postConstruct(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>\n        ')}getDefaultDebounceMs(){return 500}onParentModelChanged(t,e){this.isEventFromFloatingFilter(e)||this.isEventFromDataChange(e)||(this.setLastTypeFromModel(t),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(t)))}init(t){this.setupFloatingFilterInputService(t),super.init(t),this.setTextInputParams(t)}setupFloatingFilterInputService(t){this.floatingFilterInputService=this.createFloatingFilterInputService(t),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(t){var e;this.params=t;const n=null!=(e=t.browserAutoComplete)&&e;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(t),autoComplete:n}),this.applyActive=$L.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){const i=$L.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),r=vl(this.syncUpWithParentFilter.bind(this),i);this.floatingFilterInputService.setValueChangedListener(r)}}onParamsUpdated(t){this.refresh(t)}refresh(t){super.refresh(t),this.setTextInputParams(t)}recreateFloatingFilterInputService(t){const e=this.floatingFilterInputService.getValue();Jo(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(t),this.floatingFilterInputService.setValue(e,!0)}getAriaLabel(t){return`${this.columnModel.getDisplayNameForColumn(t.column,"header",!0)} ${this.localeService.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}syncUpWithParentFilter(t){if(this.applyActive&&t.key!==Qe.ENTER)return;let n=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(n=C3.trimInput(n),this.floatingFilterInputService.setValue(n,!0)),this.params.parentFilterInstance(i=>{i&&i.onFloatingFilterChanged(this.getLastType()||null,n||null)})}setEditable(t){this.floatingFilterInputService.setEditable(t)}};N([Y("columnModel")],Zx.prototype,"columnModel",2),N([fn("eFloatingFilterInputContainer")],Zx.prototype,"eFloatingFilterInputContainer",2),N([nn],Zx.prototype,"postConstruct",1);var Jve=class extends Jt{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(t){this.eFloatingFilterNumberInput=this.createManagedBean(new _3),this.eFloatingFilterTextInput=this.createManagedBean(new Iw),this.eFloatingFilterTextInput.setDisabled(!0);const e=this.eFloatingFilterNumberInput.getGui(),n=this.eFloatingFilterTextInput.getGui();t.appendChild(e),t.appendChild(n),this.setupListeners(e,i=>this.valueChangedListener(i)),this.setupListeners(n,i=>this.valueChangedListener(i))}setEditable(t){this.numberInputActive=t,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(t){this.eFloatingFilterNumberInput.setAutoComplete(t),this.eFloatingFilterTextInput.setAutoComplete(t)}getValue(){return this.getActiveInputElement().getValue()}setValue(t,e){this.getActiveInputElement().setValue(t,e)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(t){this.valueChangedListener=t}setupListeners(t,e){this.addManagedListener(t,"input",e),this.addManagedListener(t,"keydown",e)}setParams(t){this.setAriaLabel(t.ariaLabel),void 0!==t.autoComplete&&this.setAutoComplete(t.autoComplete)}setAriaLabel(t){this.eFloatingFilterNumberInput.setInputAriaLabel(t),this.eFloatingFilterTextInput.setInputAriaLabel(t)}},Zve=class extends Zx{init(t){var e;super.init(t),this.filterModelFormatter=new Ine(this.localeService,this.optionsFactory,null==(e=t.filterParams)?void 0:e.numberFormatter)}onParamsUpdated(t){this.refresh(t)}refresh(t){y3(t.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(t),super.refresh(t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return Ane.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(t){return this.allowedCharPattern=y3(t.filterParams),this.createManagedBean(this.allowedCharPattern?new Dne({config:{allowedCharPattern:this.allowedCharPattern}}):new Jve)}},e_e=class extends Zx{init(t){super.init(t),this.filterModelFormatter=new Rne(this.localeService,this.optionsFactory)}onParamsUpdated(t){this.refresh(t)}refresh(t){super.refresh(t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return C3.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new Dne)}},e1=class dN{constructor(e,n=!1){this.destroyFuncs=[],this.touching=!1,this.eventService=new ih,this.eElement=e,this.preventMouseClick=n;const i=this.onTouchStart.bind(this),r=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",r,{passive:!0}),this.eElement.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",i,{passive:!0}),this.eElement.removeEventListener("touchmove",r,{passive:!0}),this.eElement.removeEventListener("touchend",s,{passive:!1})})}getActiveTouch(e){for(let n=0;n<e.length;n++)if(e[n].identifier===this.touchStart.identifier)return e[n];return null}addEventListener(e,n){this.eventService.addEventListener(e,n)}removeEventListener(e,n){this.eventService.removeEventListener(e,n)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const n=this.touchStart;window.setTimeout(()=>{this.touching&&this.touchStart===n&&!this.moved&&(this.moved=!0,this.eventService.dispatchEvent({type:dN.EVENT_LONG_TAP,touchStart:this.touchStart,touchEvent:e}))},500)}onTouchMove(e){if(!this.touching)return;const n=this.getActiveTouch(e.touches);n&&!h3(n,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:dN.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1)}checkForDoubleTap(){const e=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&e-this.lastTapTime>dN.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:dN.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};e1.EVENT_TAP="tap",e1.EVENT_DOUBLE_TAP="doubleTap",e1.EVENT_LONG_TAP="longTap",e1.DOUBLE_TAP_MILLIS=500;var za=e1,Xm=class rme extends Ii{constructor(e){super(),e||this.setTemplate(rme.TEMPLATE)}attachCustomElements(e,n,i,r,s){this.eSortOrder=e,this.eSortAsc=n,this.eSortDesc=i,this.eSortMixed=r,this.eSortNone=s}setupSort(e,n=!1){this.column=e,this.suppressOrder=n,this.setupMultiSortIndicator(),this.column.isSortable()&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedPropertyListener("unSortIcon",()=>this.updateIcons()),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,()=>this.updateIcons()),this.addManagedListener(this.eventService,W.EVENT_SORT_CHANGED,()=>this.onSortChanged()),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.onSortChanged()),this.onSortChanged())}addInIcon(e,n,i){if(null==n)return;const r=ks(e,this.gridOptionsService,i);r&&n.appendChild(r)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc&&nr(this.eSortAsc,"asc"===e,{skipAriaHidden:!0}),this.eSortDesc&&nr(this.eSortDesc,"desc"===e,{skipAriaHidden:!0}),this.eSortNone){const n=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.get("unSortIcon");nr(this.eSortNone,!n&&null==e,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&e&&(this.addManagedListener(this.eventService,W.EVENT_SORT_CHANGED,()=>this.updateMultiSortIndicator()),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateMultiSortIndicator()),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e="mixed"===this.sortController.getDisplaySortForColumn(this.column);nr(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){var e;if(!this.eSortOrder)return;const n=this.sortController.getColumnsWithSortingOrdered(),i=null!=(e=this.sortController.getDisplaySortIndexForColumn(this.column))?e:-1,r=n.some(o=>{var c;return null!=(c=this.sortController.getDisplaySortIndexForColumn(o))&&c});nr(this.eSortOrder,i>=0&&r,{skipAriaHidden:!0}),i>=0?this.eSortOrder.textContent=(i+1).toString():Jo(this.eSortOrder)}};Xm.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',N([fn("eSortOrder")],Xm.prototype,"eSortOrder",2),N([fn("eSortAsc")],Xm.prototype,"eSortAsc",2),N([fn("eSortDesc")],Xm.prototype,"eSortDesc",2),N([fn("eSortMixed")],Xm.prototype,"eSortMixed",2),N([fn("eSortNone")],Xm.prototype,"eSortNone",2),N([Y("columnModel")],Xm.prototype,"columnModel",2),N([Y("sortController")],Xm.prototype,"sortController",2);var b3=Xm,Xl=class sme extends Ii{constructor(){super(...arguments),this.lastMovingChanged=0}destroy(){super.destroy()}refresh(e){return this.params=e,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&this.shouldSuppressMenuHide()==this.currentSuppressMenuHide&&(this.setDisplayName(e),!0)}workOutTemplate(){var e;let n=null!=(e=this.params.template)?e:sme.TEMPLATE;return n=n&&n.trim?n.trim():n,n}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const n=ha(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=n)}}addInIcon(e,n,i){if(null==n)return;const r=ks(e,this.gridOptionsService,i);r&&n.appendChild(r)}setupTap(){const{gridOptionsService:e}=this;if(e.get("suppressTouch"))return;const n=new za(this.getGui(),!0),i=this.shouldSuppressMenuHide(),r=i&&$t(this.eMenu),s=r?new za(this.eMenu,!0):n;if(this.params.enableMenu&&this.addManagedListener(s,za[r?"EVENT_TAP":"EVENT_LONG_TAP"],d=>this.params.showColumnMenuAfterMouseClick(d.touchStart)),this.params.enableSorting&&this.addManagedListener(n,za.EVENT_TAP,c=>{var d,p;const m=c.touchStart.target;i&&(null!=(d=this.eMenu)&&d.contains(m)||null!=(p=this.eFilterButton)&&p.contains(m))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")}),this.params.enableFilterButton){const o=new za(this.eFilterButton,!0);this.addManagedListener(o,"tap",()=>this.params.showFilter(this.eFilterButton)),this.addDestroyFunc(()=>o.destroy())}this.addDestroyFunc(()=>n.destroy()),r&&this.addDestroyFunc(()=>s.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return _f(this.eMenu),void(this.eMenu=void 0);const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",()=>this.params.showColumnMenu(this.eMenu)),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){var n,i,r,s;const{column:o}=this.params,c=this.menuService.isLegacyMenuEnabled();if(e&&!c){if(this.menuService.isFilterMenuInHeaderEnabled(o))return this.params.showFilter(null!=(i=null!=(n=this.eFilterButton)?n:this.eMenu)?i:this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(null!=(s=null!=(r=this.eMenu)?r:this.eFilterButton)?s:this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new b3(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListener(this.params.column,f.EVENT_MOVING_CHANGED,()=>{this.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",n=>{const i=this.params.column.isMoving(),s=(new Date).getTime()-this.lastMovingChanged<50;if(!i&&!s){const d="ctrl"===this.gridOptionsService.get("multiSortKey")?n.ctrlKey||n.metaKey:n.shiftKey;this.params.progressSort(d)}});const e=()=>{if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.params.column.getColDef().showRowGroup){const n=this.columnModel.getSourceColumnsForGroupColumn(this.params.column),r=!n?.every(s=>this.params.column.getSort()==s.getSort());this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",r)}};this.addManagedListener(this.eventService,W.EVENT_SORT_CHANGED,e),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,e)}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){this.eFilterButton&&(this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedListener(this.eFilterButton,"click",()=>this.params.showFilter(this.eFilterButton)):this.eFilterButton=void 0)}configureFilter(e,n,i){if(!e)return _f(n),!1;const{column:r}=this.params;return this.addInIcon("filter",n,r),this.addManagedListener(r,f.EVENT_FILTER_CHANGED,i),i(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();nr(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){var n,i,r,s;return e?null!=(i=null!=(n=this.eFilterButton)?n:this.eMenu)?i:this.getGui():null!=(s=null!=(r=this.eMenu)?r:this.eFilterButton)?s:this.getGui()}};Xl.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <span ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',N([Y("sortController")],Xl.prototype,"sortController",2),N([Y("menuService")],Xl.prototype,"menuService",2),N([Y("columnModel")],Xl.prototype,"columnModel",2),N([fn("eFilter")],Xl.prototype,"eFilter",2),N([fn("eFilterButton")],Xl.prototype,"eFilterButton",2),N([fn("eSortIndicator")],Xl.prototype,"eSortIndicator",2),N([fn("eMenu")],Xl.prototype,"eMenu",2),N([fn("eLabel")],Xl.prototype,"eLabel",2),N([fn("eText")],Xl.prototype,"eText",2),N([fn("eSortOrder")],Xl.prototype,"eSortOrder",2),N([fn("eSortAsc")],Xl.prototype,"eSortAsc",2),N([fn("eSortDesc")],Xl.prototype,"eSortDesc",2),N([fn("eSortMixed")],Xl.prototype,"eSortMixed",2),N([fn("eSortNone")],Xl.prototype,"eSortNone",2);var w3=Xl,t1=class ome extends Ii{constructor(){super(ome.TEMPLATE)}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&ei("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");const e=r=>{if(mf(r))return;const s=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),s,"uiColumnExpanded")};this.addTouchAndClickListeners(this.eCloseIcon,e),this.addTouchAndClickListeners(this.eOpenIcon,e);const n=r=>{gf(r)};this.addManagedListener(this.eCloseIcon,"dblclick",n),this.addManagedListener(this.eOpenIcon,"dblclick",n),this.addManagedListener(this.getGui(),"dblclick",e),this.updateIconVisibility();const i=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(i,v.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(i,v.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))}addTouchAndClickListeners(e,n){const i=new za(e,!0);this.addManagedListener(i,za.EVENT_TAP,n),this.addDestroyFunc(()=>i.destroy()),this.addManagedListener(e,"click",n)}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const n=this.params.columnGroup.isExpanded();nr(this.eOpenIcon,n),nr(this.eCloseIcon,!n)}else nr(this.eOpenIcon,!1),nr(this.eCloseIcon,!1)}addInIcon(e,n){const i=ks(e,this.gridOptionsService,null);i&&this.getRefElement(n).appendChild(i)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable())return nr(this.eOpenIcon,!1),void nr(this.eCloseIcon,!1)}setupLabel(){var e;const{displayName:n,columnGroup:i}=this.params;if($t(n)){const r=ha(n,!0);this.getRefElement("agLabel").textContent=r}this.addOrRemoveCssClass("ag-sticky-label",!(null!=(e=i.getColGroupDef())&&e.suppressStickyLabel))}};t1.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',N([Y("columnModel")],t1.prototype,"columnModel",2),N([fn("agOpened")],t1.prototype,"eOpenIcon",2),N([fn("agClosed")],t1.prototype,"eCloseIcon",2);var t_e=t1,Tw=class extends Ii{isPopup(){return!0}setParentComponent(t){t.addCssClass("ag-has-popup"),super.setParentComponent(t)}destroy(){const t=this.parentComponent;t&&t.isAlive()&&t.getGui().classList.remove("ag-has-popup"),super.destroy()}},E3=class ame extends Tw{constructor(){super(ame.TEMPLATE)}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),$t(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const n=e.key;(n===Qe.LEFT||n===Qe.UP||n===Qe.RIGHT||n===Qe.DOWN||e.shiftKey&&n===Qe.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return $t(e)||$t(this.params.value)?this.params.parseValue(e):this.params.value}};E3.TEMPLATE='<div class="ag-large-text">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',N([fn("eTextArea")],E3.prototype,"eTextArea",2);var n_e=E3,S3=class extends Tw{constructor(){super('<div class="ag-cell-edit-wrapper">\n                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>\n            </div>'),this.startedByEnter=!1}init(t){this.focusAfterAttached=t.cellStartedEdit;const{eSelect:e,valueFormatterService:n,gridOptionsService:i}=this,{values:r,value:s,eventKey:o}=t;if(hi(r))return void console.warn("AG Grid: no values found for select cellEditor");this.startedByEnter=null!=o&&o===Qe.ENTER;let c=!1;r.forEach(y=>{const A={value:y},k=n.formatValue(t.column,null,y);A.text=null!=k?k:y,e.addOption(A),c=c||s===y}),c?e.setValue(t.value,!0):t.values.length&&e.setValue(t.values[0],!0);const{valueListGap:d,valueListMaxWidth:p,valueListMaxHeight:m}=t;null!=d&&e.setPickerGap(d),null!=m&&e.setPickerMaxHeight(m),null!=p&&e.setPickerMaxWidth(p),"fullRow"!==i.get("editType")&&this.addManagedListener(this.eSelect,KL.EVENT_ITEM_SELECTED,()=>t.stopEditing())}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}};N([Y("valueFormatterService")],S3.prototype,"valueFormatterService",2),N([fn("eSelect")],S3.prototype,"eSelect",2);var n1=class extends Tw{constructor(t){super(`\n            <div class="ag-cell-edit-wrapper">\n                ${t.getTemplate()}\n            </div>`),this.cellEditorInput=t}init(t){this.params=t;const e=this.eInput;let n;if(this.cellEditorInput.init(e,t),t.cellStartedEdit){this.focusAfterAttached=!0;const i=t.eventKey;i===Qe.BACKSPACE||t.eventKey===Qe.DELETE?n="":i&&1===i.length?n=i:(n=this.cellEditorInput.getStartValue(),i!==Qe.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,n=this.cellEditorInput.getStartValue();null!=n&&e.setStartValue(n),this.addManagedListener(e.getGui(),"keydown",i=>{const{key:r}=i;(r===Qe.PAGE_UP||r===Qe.PAGE_DOWN)&&i.preventDefault()})}afterGuiAttached(){var t,e;const n=this.localeService.getLocaleTextFunc(),i=this.eInput;if(i.setInputAriaLabel(n("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;jp()||i.getFocusableElement().focus();const r=i.getInputElement();this.highlightAllOnFocus?r.select():null==(e=(t=this.cellEditorInput).setCaret)||e.call(t)}focusIn(){const t=this.eInput,e=t.getFocusableElement(),n=t.getInputElement();e.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}};N([fn("eInput")],n1.prototype,"eInput",2);var i_e=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'}init(t,e){this.eInput=t,this.params=e,null!=e.maxLength&&t.setMaxLength(e.maxLength)}getValue(){const t=this.eInput.getValue();return $t(t)||$t(this.params.value)?this.params.parseValue(t):this.params.value}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const t=this.eInput.getValue(),e=$t(t)&&t.length||0;e&&this.eInput.getInputElement().setSelectionRange(e,e)}},xne=class extends n1{constructor(){super(new i_e)}},Pne=class extends Ii{constructor(){super(),this.refreshCount=0;const t=document.createElement("span"),e=document.createElement("span");e.setAttribute("class","ag-value-change-delta");const n=document.createElement("span");n.setAttribute("class","ag-value-change-value"),t.appendChild(e),t.appendChild(n),this.setTemplateFromElement(t)}init(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t,!0)}showDelta(t,e){const n=Math.abs(e),i=t.formatValue(n),r=$t(i)?i:n,s=e>=0;this.eDelta.textContent=s?"\u2191"+r:"\u2193"+r,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const t=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{t===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Jo(this.eDelta)}refresh(t,e=!1){const n=t.value;return n!==this.lastValue&&($t(t.valueFormatted)?this.eValue.textContent=t.valueFormatted:$t(t.value)?this.eValue.textContent=n:Jo(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof n&&"number"==typeof this.lastValue&&this.showDelta(t,n-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),e||this.setTimerToRemoveDelta(),this.lastValue=n,!0)}};N([Y("filterManager")],Pne.prototype,"filterManager",2);var Mne=class extends Ii{constructor(){super(),this.refreshCount=0;const t=document.createElement("span"),e=document.createElement("span");e.setAttribute("class","ag-value-slide-current"),t.appendChild(e),this.setTemplateFromElement(t),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}init(t){this.refresh(t,!0)}addSlideAnimation(){this.refreshCount++;const t=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const e=document.createElement("span");e.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=e,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{t===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{t===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(t,e=!1){let n=t.value;return hi(n)&&(n=""),n!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(e||this.addSlideAnimation(),this.lastValue=n,$t(t.valueFormatted)?this.eCurrent.textContent=t.valueFormatted:$t(t.value)?this.eCurrent.textContent=n:Jo(this.eCurrent),!0)}};N([Y("filterManager")],Mne.prototype,"filterManager",2);var Ts=class ls{constructor(e){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=ls.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,n){const i=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const r=this.createDataChangedEvent(e,i,n);this.dispatchLocalEvent(r)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,n,i){return{type:ls.EVENT_DATA_CHANGED,node:this,oldData:n,newData:e,update:i}}createLocalRowEvent(e){return{type:e,node:this}}getRowIndexString(){return"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const e=new ls(this.beans);return e.id=this.id,e.data=this.data,e.__daemon=!0,e.selected=this.selected,e.level=this.level,e}setDataAndId(e,n){const i=$t(this.id)?this.createDaemonNode():null,r=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(n),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,i);const s=this.createDataChangedEvent(e,r,!1);this.dispatchLocalEvent(s)}checkRowSelectable(){const e=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(!e||e(this))}setRowSelectable(e,n){if(this.selectable!==e){if(this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_SELECTABLE_CHANGED)),n)return;if(this.beans.gridOptionsService.get("groupSelectsChildren")){const r=this.calculateSelectedFromChildren();return void this.setSelectedParams({newValue:r??!1,source:"selectableChanged"})}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(e){const n=this.beans.gridOptionsService.getCallback("getRowId");if(n)if(this.data){const i=this.getGroupKeys(!0);this.id=n({data:this.data,parentKeys:i.length>0?i:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(ls.ID_PREFIX_ROW_GROUP)&&console.error(`AG Grid: Row IDs cannot start with ${ls.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=e}getGroupKeys(e=!1){const n=[];let i=this;for(e&&(i=i.parent);i&&i.level>=0;)n.push(i.key),i=i.parent;return n.reverse(),n}isPixelInRange(e){return!(!$t(this.rowTop)||!$t(this.rowHeight))&&e>=this.rowTop&&e<this.rowTop+this.rowHeight}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_FIRST_CHILD_CHANGED)))}setLastChild(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_LAST_CHILD_CHANGED)))}setChildIndex(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_CHILD_INDEX_CHANGED)))}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_TOP_CHANGED)),this.setDisplayed(null!==e))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_DISPLAYED_CHANGED)))}setDragging(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_DRAGGING_CHANGED)))}setHighlighted(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_HIGHLIGHT_CHANGED)))}setHovered(e){this.hovered!==e&&(this.hovered=e)}isHovered(){return this.hovered}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_ALL_CHILDREN_COUNT_CHANGED)))}setMaster(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_MASTER_CHANGED)))}setGroup(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_GROUP_CHANGED)))}setRowHeight(e,n=!1){this.rowHeight=e,this.rowHeightEstimated=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_HEIGHT_CHANGED))}setRowAutoHeight(e,n){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[n.getId()]=e,null!=e&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=vl(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let e=!1,n=!0,i=0;const r=this.__autoHeights;if(null==r||(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(c=>{let d=r[c.getId()];if(null==d){if(!this.beans.columnModel.isColSpanActive())return void(e=!0);{let p=[];switch(c.getPinned()){case"left":p=this.beans.columnModel.getDisplayedLeftColumnsForRow(this);break;case"right":p=this.beans.columnModel.getDisplayedRightColumnsForRow(this);break;case null:p=this.beans.columnModel.getViewportCenterColumnsForRow(this)}if(p.includes(c))return void(e=!0);d=-1}}else n=!1;d>i&&(i=d)}),e)||((n||i<10)&&(i=this.beans.gridOptionsService.getRowHeightForNode(this).height),i==this.rowHeight))return;this.setRowHeight(i);const o=this.beans.rowModel;o.onRowHeightChangedDebounced&&o.onRowHeightChangedDebounced()}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_ROW_INDEX_CHANGED)))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_UI_LEVEL_CHANGED)))}setExpanded(e,n){if(this.expanded===e)return;this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_EXPANDED_CHANGED));const i=Object.assign({},this.createGlobalRowEvent(W.EVENT_ROW_GROUP_OPENED),{expanded:e,event:n||null});this.beans.rowNodeEventThrottle.dispatchExpanded(i),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(e){return this.beans.gridOptionsService.addGridCommonParams({type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}dispatchLocalEvent(e){this.eventService&&this.eventService.dispatchEvent(e)}setDataValue(e,n,i){const s=(()=>{var d;return"string"!=typeof e?e:null!=(d=this.beans.columnModel.getGridColumn(e))?d:this.beans.columnModel.getPrimaryColumn(e)})(),o=this.getValueFromValueService(s);if(this.beans.gridOptionsService.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(s,o,n,i),!1;const c=this.beans.valueService.setValue(this,s,n,i);return this.dispatchCellChangedEvent(s,n,o),this.checkRowSelectable(),c}getValueFromValueService(e){const n=this.leafGroup&&this.beans.columnModel.isPivotMode(),i=this.group&&this.expanded&&!this.footer&&!n,s=this.beans.gridOptionsService.getGroupIncludeFooter()({node:this}),o=this.beans.gridOptionsService.get("groupSuppressBlankHeader");return this.beans.valueService.getValue(e,this,!1,i&&s&&!o)}dispatchEventForSaveValueReadOnly(e,n,i,r){const s=this.beans.gridOptionsService.addGridCommonParams({type:W.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:e,colDef:e.getColDef(),data:this.data,node:this,oldValue:n,newValue:i,value:i,source:r});this.beans.eventService.dispatchEvent(s)}setGroupValue(e,n){const i=this.beans.columnModel.getGridColumn(e);hi(this.groupData)&&(this.groupData={});const r=i.getColId(),s=this.groupData[r];s!==n&&(this.groupData[r]=n,this.dispatchCellChangedEvent(i,n,s))}setAggData(e){const n=this.aggData;if(this.aggData=e,this.eventService){const i=r=>{const s=this.aggData?this.aggData[r]:void 0,o=n?n[r]:void 0;if(s===o)return;const c=this.beans.columnModel.lookupGridColumn(r);c&&this.dispatchCellChangedEvent(c,s,o)};for(const r in this.aggData)i(r);for(const r in e)r in this.aggData||i(r)}}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){const i=this.beans.gridOptionsService.get("treeData"),r=this.beans.gridOptionsService.get("isServerSideGroup");e=!this.stub&&!this.footer&&(i?!!r&&r(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(ls.EVENT_HAS_CHILDREN_CHANGED)))}hasChildren(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return this.group&&ql(this.childrenAfterGroup)}dispatchCellChangedEvent(e,n,i){this.dispatchLocalEvent({type:ls.EVENT_CELL_CHANGED,node:this,column:e,newValue:n,oldValue:i})}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return!this.footer&&(this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master)}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(n=>n.depthFirstSearch(e)),e(this)}calculateSelectedFromChildren(){var e;let n=!1,i=!1,r=!1;if(null==(e=this.childrenAfterGroup)||!e.length)return this.selectable?this.selected:null;for(let s=0;s<this.childrenAfterGroup.length;s++){const o=this.childrenAfterGroup[s];let c=o.isSelected();if(!o.selectable){const d=o.calculateSelectedFromChildren();if(null===d)continue;c=d}switch(c){case!0:n=!0;break;case!1:i=!0;break;default:r=!0}}return r||n&&i?void 0:!!n||!i&&(this.selectable?this.selected:null)}setSelectedInitialValue(e){this.selected=e}selectThisNode(e,n,i="api"){if(!this.selectable&&e||this.selected===e)return!1;if(this.selected=e,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(ls.EVENT_ROW_SELECTED));const c=this.sibling;c&&c.footer&&c.dispatchLocalEvent(c.createLocalRowEvent(ls.EVENT_ROW_SELECTED))}const o=ms(Yn({},this.createGlobalRowEvent(W.EVENT_ROW_SELECTED)),{event:n||null,source:i});return this.beans.eventService.dispatchEvent(o),!0}setSelected(e,n=!1,i="api"){"boolean"!=typeof i?this.setSelectedParams({newValue:e,clearSelection:n,rangeSelect:!1,source:i}):console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.")}setSelectedParams(e){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):void 0===this.id?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(ms(Yn({},e),{nodes:[this.footer?this.sibling:this]}))}isRowPinned(){return"top"===this.rowPinned||"bottom"===this.rowPinned}isParentOfNode(e){let n=this.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}addEventListener(e,n){var i,r;this.eventService||(this.eventService=new ih),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new TL(this.beans.frameworkOverrides));const s=null!=(r=null==(i=this.frameworkEventListenerService)?void 0:i.wrap(n))?r:n;this.eventService.addEventListener(e,s)}removeEventListener(e,n){var i,r;if(!this.eventService)return;const s=null!=(r=null==(i=this.frameworkEventListenerService)?void 0:i.unwrap(n))?r:n;this.eventService.removeEventListener(e,s),this.eventService.noRegisteredListenersExist()&&(this.eventService=null)}onMouseEnter(){this.dispatchLocalEvent(this.createLocalRowEvent(ls.EVENT_MOUSE_ENTER))}onMouseLeave(){this.dispatchLocalEvent(this.createLocalRowEvent(ls.EVENT_MOUSE_LEAVE))}getFirstChildOfFirstChild(e){let n=this,i=!0,r=!1,s=null;for(;i&&!r;){const o=n.parent;$t(o)&&n.firstChild?o.rowGroupColumn===e&&(r=!0,s=o):i=!1,n=o}return r?s:null}isFullWidthCell(){if(this.detail)return!0;const e=this.beans.gridOptionsService.getCallback("isFullWidthRow");return!!e&&e({rowNode:this})}getRoute(){if(null==this.key)return;const e=[];let n=this;for(;null!=n.key;)e.push(n.key),n=n.parent;return e.reverse()}createFooter(){if(this.sibling)return;const e=new Set(["eventService","__objectId","sticky"]),n=new ls(this.beans);Object.keys(this).forEach(i=>{e.has(i)||(n[i]=this[i])}),n.footer=!0,n.setRowTop(null),n.setRowIndex(null),n.oldRowTop=null,n.id="rowGroupFooter_"+this.id,n.sibling=this,this.sibling=n}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}};Ts.ID_PREFIX_ROW_GROUP="row-group-",Ts.ID_PREFIX_TOP_PINNED="t-",Ts.ID_PREFIX_BOTTOM_PINNED="b-",Ts.OBJECT_ID_SEQUENCE=0,Ts.EVENT_ROW_SELECTED="rowSelected",Ts.EVENT_DATA_CHANGED="dataChanged",Ts.EVENT_CELL_CHANGED="cellChanged",Ts.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",Ts.EVENT_MASTER_CHANGED="masterChanged",Ts.EVENT_GROUP_CHANGED="groupChanged",Ts.EVENT_MOUSE_ENTER="mouseEnter",Ts.EVENT_MOUSE_LEAVE="mouseLeave",Ts.EVENT_HEIGHT_CHANGED="heightChanged",Ts.EVENT_TOP_CHANGED="topChanged",Ts.EVENT_DISPLAYED_CHANGED="displayedChanged",Ts.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",Ts.EVENT_LAST_CHILD_CHANGED="lastChildChanged",Ts.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",Ts.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",Ts.EVENT_EXPANDED_CHANGED="expandedChanged",Ts.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",Ts.EVENT_SELECTABLE_CHANGED="selectableChanged",Ts.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",Ts.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",Ts.EVENT_DRAGGING_CHANGED="draggingChanged";var qi=Ts,QL=class extends Ii{constructor(){super('\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const t=this.localeService.getLocaleTextFunc(),e=this.rowNode.isSelected(),n=LL(t,e),[i,r]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],s=t(i,r);this.eCheckbox.setValue(e,!0),this.eCheckbox.setInputAriaLabel(`${s} (${n})`)}onClicked(t,e,n){return this.rowNode.setSelectedParams({newValue:t,rangeSelect:n.shiftKey,groupSelectsFiltered:e,event:n,source:"checkboxSelected"})}init(t){if(this.rowNode=t.rowNode,this.column=t.column,this.overrides=t.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",i=>{gf(i)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",i=>{gf(i);const r=this.gridOptionsService.get("groupSelectsFiltered"),s=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(s,r)?0===this.onClicked(!0,r,i||{})&&this.onClicked(!1,r,i):s?this.onClicked(!1,r,i):this.onClicked(!0,r,i||{})}),this.addManagedListener(this.rowNode,qi.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,qi.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,qi.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||"function"==typeof this.getIsVisible()){const i=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,i),this.addManagedListener(this.rowNode,qi.EVENT_DATA_CHANGED,i),this.addManagedListener(this.rowNode,qi.EVENT_CELL_CHANGED,i),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(t,e){return e&&(void 0===this.eCheckbox.getPreviousValue()||void 0===t)&&this.gridOptionsService.isRowModelType("clientSide")}showOrHideSelect(){var t,e,n;let i=this.rowNode.selectable;const r=this.getIsVisible();if(i)if("function"==typeof r){const o=null==(t=this.overrides)?void 0:t.callbackParams;if(this.column){const c=this.column.createColumnFunctionCallbackParams(this.rowNode);i=r(Yn(Yn({},o),c))}else i=r(ms(Yn({},o),{node:this.rowNode,data:this.rowNode.data}))}else i=r??!1;if(null==(e=this.column)?void 0:e.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!i),this.setVisible(!0),void this.setDisplayed(!0);null!=(n=this.overrides)&&n.removeHidden?this.setDisplayed(i):this.setVisible(i)}getIsVisible(){var t,e;return this.overrides?this.overrides.isVisible:null==(e=null==(t=this.column)?void 0:t.getColDef())?void 0:e.checkboxSelection}};N([fn("eCheckbox")],QL.prototype,"eCheckbox",2),N([nn],QL.prototype,"postConstruct",1);var Nne=(t=>(t[t.Left=0]="Left",t[t.Right=1]="Right",t))(Nne||{}),Di=class extends Jt{constructor(){super(...arguments),this.dragSourceAndParamsList=[],this.dropTargets=[]}init(){this.ePinnedIcon=lh("columnMovePin",this.gridOptionsService,null),this.eHideIcon=lh("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=lh("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=lh("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=lh("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=lh("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=lh("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=lh("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=lh("dropNotAllowed",this.gridOptionsService,null)}addDragSource(t,e=!1){const n={eElement:t.eElement,dragStartPixels:t.dragStartPixels,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:e};this.dragSourceAndParamsList.push({params:n,dragSource:t}),this.dragService.addDragSource(n)}removeDragSource(t){const e=this.dragSourceAndParamsList.find(n=>n.dragSource===t);e&&(this.dragService.removeDragSource(e.params),tn(this.dragSourceAndParamsList,e))}clearDragSourceParamsList(){this.dragSourceAndParamsList.forEach(t=>this.dragService.removeDragSource(t.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(t,e){this.dragging=!0,this.dragSource=t,this.eventLastTime=e,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()}onDragStop(t){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){const e=this.createDropTargetEvent(this.lastDropTarget,t,null,null,!1);this.lastDropTarget.onDragStop(e)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()}onDragging(t,e){var n,i,r,s;const o=this.getHorizontalDirection(t),c=this.getVerticalDirection(t);this.eventLastTime=t,this.positionGhost(t);const d=this.dropTargets.filter(m=>this.isMouseOnDropTarget(t,m)),p=this.findCurrentDropTarget(t,d);if(p!==this.lastDropTarget)this.leaveLastTargetIfExists(t,o,c,e),null!==this.lastDropTarget&&null===p&&(null==(i=(n=this.dragSource).onGridExit)||i.call(n,this.dragItem)),null===this.lastDropTarget&&null!==p&&(null==(s=(r=this.dragSource).onGridEnter)||s.call(r,this.dragItem)),this.enterDragTargetIfExists(p,t,o,c,e),this.lastDropTarget=p;else if(p&&p.onDragging){const m=this.createDropTargetEvent(p,t,o,c,e);p.onDragging(m)}}getAllContainersFromDropTarget(t){const e=t.getSecondaryContainers?t.getSecondaryContainers():null,n=[[t.getContainer()]];return e?n.concat(e):n}allContainersIntersect(t,e){for(const n of e){const i=n.getBoundingClientRect();if(0===i.width||0===i.height)return!1;if(!(t.clientX>=i.left&&t.clientX<i.right&&t.clientY>=i.top&&t.clientY<i.bottom))return!1}return!0}isMouseOnDropTarget(t,e){const n=this.getAllContainersFromDropTarget(e);let i=!1;for(const r of n)if(this.allContainersIntersect(t,r)){i=!0;break}return!(e.targetContainsSource&&!e.getContainer().contains(this.dragSource.eElement))&&i&&e.isInterestedIn(this.dragSource.type,this.dragSource.eElement)}findCurrentDropTarget(t,e){const n=e.length;if(0===n)return null;if(1===n)return e[0];const r=this.gridOptionsService.getRootNode().elementsFromPoint(t.clientX,t.clientY);for(const s of r)for(const o of e)if(-1!==_l(this.getAllContainersFromDropTarget(o)).indexOf(s))return o;return null}enterDragTargetIfExists(t,e,n,i,r){if(t){if(t.onDragEnter){const s=this.createDropTargetEvent(t,e,n,i,r);t.onDragEnter(s)}this.setGhostIcon(t.getIconName?t.getIconName():null)}}leaveLastTargetIfExists(t,e,n,i){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){const r=this.createDropTargetEvent(this.lastDropTarget,t,e,n,i);this.lastDropTarget.onDragLeave(r)}this.setGhostIcon(null)}}addDropTarget(t){this.dropTargets.push(t)}removeDropTarget(t){this.dropTargets=this.dropTargets.filter(e=>e.getContainer()!==t.getContainer())}hasExternalDropZones(){return this.dropTargets.some(t=>t.external)}findExternalZone(t){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===t.getContainer())||null}getHorizontalDirection(t){const e=this.eventLastTime&&this.eventLastTime.clientX,n=t.clientX;return e===n?null:e>n?0:1}getVerticalDirection(t){const e=this.eventLastTime&&this.eventLastTime.clientY,n=t.clientY;return e===n?null:e>n?0:1}createDropTargetEvent(t,e,n,i,r){const s=t.getContainer(),o=s.getBoundingClientRect(),{gridApi:c,columnApi:d,dragItem:p,dragSource:m}=this;return{event:e,x:e.clientX-o.left,y:e.clientY-o.top,vDirection:i,hDirection:n,dragSource:m,fromNudge:r,dragItem:p,api:c,columnApi:d,dropZoneTarget:s}}positionGhost(t){const e=this.eGhost;if(!e)return;const i=e.getBoundingClientRect().height,r=Vte()-2,s=Gte()-2,o=s3(e.offsetParent),{clientY:c,clientX:d}=t;let p=c-o.top-i/2,m=d-o.left-10;const y=this.gridOptionsService.getDocument(),A=y.defaultView||window,k=A.pageYOffset||y.documentElement.scrollTop,U=A.pageXOffset||y.documentElement.scrollLeft;r>0&&m+e.clientWidth>r+U&&(m=r+U-e.clientWidth),m<0&&(m=0),s>0&&p+e.clientHeight>s+k&&(p=s+k-e.clientHeight),p<0&&(p=0),e.style.left=`${m}px`,e.style.top=`${p}px`}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=Iu(Di.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);const{theme:t}=this.environment.getTheme();t&&this.eGhost.classList.add(t),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);const e=this.eGhost.querySelector(".ag-dnd-ghost-label");let n=this.dragSource.dragItemName;mI(n)&&(n=n()),e.innerHTML=ha(n)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";const i=this.gridOptionsService.getDocument();let r=null,s=null;try{r=i.fullscreenElement}catch{}finally{r||(r=this.gridOptionsService.getRootNode());s=r.querySelector("body")||(r instanceof ShadowRoot?r:r instanceof Document?r?.documentElement:r)}this.eGhostParent=s,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")}setGhostIcon(t,e=!1){Jo(this.eGhostIcon);let n=null;switch(t||(t=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():Di.ICON_NOT_ALLOWED),t){case Di.ICON_PINNED:n=this.ePinnedIcon;break;case Di.ICON_MOVE:n=this.eMoveIcon;break;case Di.ICON_LEFT:n=this.eLeftIcon;break;case Di.ICON_RIGHT:n=this.eRightIcon;break;case Di.ICON_GROUP:n=this.eGroupIcon;break;case Di.ICON_AGGREGATE:n=this.eAggregateIcon;break;case Di.ICON_PIVOT:n=this.ePivotIcon;break;case Di.ICON_NOT_ALLOWED:n=this.eDropNotAllowedIcon;break;case Di.ICON_HIDE:n=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",e),(n!==this.eHideIcon||!this.gridOptionsService.get("suppressDragLeaveHidesColumns"))&&n&&this.eGhostIcon.appendChild(n)}};Di.ICON_PINNED="pinned",Di.ICON_MOVE="move",Di.ICON_LEFT="left",Di.ICON_RIGHT="right",Di.ICON_GROUP="group",Di.ICON_AGGREGATE="aggregate",Di.ICON_PIVOT="pivot",Di.ICON_NOT_ALLOWED="notAllowed",Di.ICON_HIDE="hide",Di.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',N([Y("dragService")],Di.prototype,"dragService",2),N([Y("mouseEventService")],Di.prototype,"mouseEventService",2),N([Y("columnApi")],Di.prototype,"columnApi",2),N([Y("gridApi")],Di.prototype,"gridApi",2),N([nn],Di.prototype,"init",1),N([Yl],Di.prototype,"clearDragSourceParamsList",1),Di=N([bn("dragAndDropService")],Di);var Aw=class extends Ii{constructor(t,e,n,i,r,s){super(),this.cellValueFn=t,this.rowNode=e,this.column=n,this.customGui=i,this.dragStartPixels=r,this.suppressVisibilityChange=s,this.dragSource=null}isCustomGui(){return null!=this.customGui}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(ks("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const t=this.gridOptionsService.get("rowDragManaged")?new Lne(this,this.beans,this.rowNode,this.column):new Fne(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)}}setDragElement(t,e){this.setTemplateFromElement(t),this.addDragSource(e)}getSelectedNodes(){if(!this.gridOptionsService.get("rowDragMultiRow"))return[this.rowNode];const e=this.beans.selectionService.getSelectedNodes();return-1!==e.indexOf(this.rowNode)?e:[this.rowNode]}checkCompatibility(){const t=this.gridOptionsService.get("rowDragManaged");this.gridOptionsService.get("treeData")&&t&&ei("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(t){if(t){const e=t.getColDef();if(e.rowDragText)return e.rowDragText}return this.gridOptionsService.get("rowDragText")}addDragSource(t=4){this.dragSource&&this.removeDragSource();const e=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:this.getGui(),dragItemName:()=>{var n;const i=this.getDragItem(),r=(null==(n=i.rowNodes)?void 0:n.length)||1,s=this.getRowDragText(this.column);return s?s(i,r):1===r?this.cellValueFn():`${r} ${e("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:t,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}removeDragSource(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null}};N([Y("beans")],Aw.prototype,"beans",2),N([nn],Aw.prototype,"postConstruct",1),N([Yl],Aw.prototype,"removeDragSource",1);var One=class extends Jt{constructor(t,e,n){super(),this.parent=t,this.rowNode=e,this.column=n}setDisplayedOrVisible(t){const e={skipAriaHidden:!0};if(t)this.parent.setDisplayed(!1,e);else{let n=!0,i=!1;this.column&&(n=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),i=mI(this.column.getColDef().rowDrag)),i?(this.parent.setDisplayed(!0,e),this.parent.setVisible(n,e)):(this.parent.setDisplayed(n,e),this.parent.setVisible(!0,e))}}},Fne=class extends One{constructor(t,e,n,i){super(t,n,i),this.beans=e}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,qi.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,qi.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,qi.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,W.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.gridOptionsService.get("suppressRowDrag");this.setDisplayedOrVisible(t)}};N([nn],Fne.prototype,"postConstruct",1);var Lne=class extends One{constructor(t,e,n,i){super(t,n,i),this.beans=e}postConstruct(){this.addManagedListener(this.beans.eventService,W.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,W.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,W.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,qi.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,qi.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),n=e&&e.shouldPreventRowMove(),i=this.gridOptionsService.get("suppressRowDrag"),r=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(n&&!r||i)}};N([nn],Lne.prototype,"postConstruct",1);var AI=class extends Jt{init(t,e,n,i,r,s,o){var c,d,p,m;this.params=o,this.eGui=e,this.eCheckbox=n,this.eExpanded=i,this.eContracted=r,this.comp=t,this.compClass=s;const{node:y,colDef:k}=o,U=this.isTopLevelFooter();if(!U){if(this.isEmbeddedRowMismatch())return;if(y.footer&&this.gridOptionsService.get("groupHideOpenParents")&&(k&&k.showRowGroup)!==(y.rowGroupColumn&&y.rowGroupColumn.getColId()))return}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!U){const X=o.node.footer&&o.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex(Ot=>{var Se;return Ot.getColId()===(null==(Se=o.colDef)?void 0:Se.showRowGroup)}),pe="multipleColumns"!=this.gridOptionsService.get("groupDisplayType")||this.gridOptionsService.get("treeData")||this.gridOptionsService.get("showOpenedGroup")&&!o.node.footer&&(!o.node.group||null!=o.node.rowGroupIndex&&o.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex(Ot=>{var Se;return Ot.getColId()===(null==(Se=o.colDef)?void 0:Se.showRowGroup)})),Ie=!y.group&&((null==(c=this.params.colDef)?void 0:c.field)||(null==(d=this.params.colDef)?void 0:d.valueGetter)),ke=this.isExpandable(),tt=this.columnModel.isPivotMode()&&y.leafGroup&&(null==(p=y.rowGroupColumn)?void 0:p.getColId())===(null==(m=o.column)?void 0:m.getColDef().showRowGroup);if(!(this.showingValueForOpenedParent||ke||Ie||pe||X||tt))return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()}getCellAriaRole(){var t,e;const n=null==(t=this.params.colDef)?void 0:t.cellAriaRole,i=null==(e=this.params.column)?void 0:e.getColDef().cellAriaRole;return n||i||"gridcell"}destroy(){super.destroy(),this.expandListener=null}refreshAriaExpanded(){const{node:t,eGridCell:e}=this.params;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable())return void Dte(e);const n=()=>{qm(e,!!t.expanded)};this.expandListener=this.addManagedListener(t,qi.EVENT_EXPANDED_CHANGED,n)||null,n()}isTopLevelFooter(){if(!this.gridOptionsService.get("groupIncludeTotalFooter")||null!=this.params.value||-1!=this.params.node.level)return!1;const t=this.params.colDef;if(null==t||!0===t.showRowGroup)return!0;const n=this.columnModel.getRowGroupColumns();return!n||0===n.length||n[0].getId()===t.showRowGroup}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gridOptionsService.get("embedFullWidthRows"))return!1;const t="left"===this.params.pinned,e="right"===this.params.pinned,n=!t&&!e;return this.gridOptionsService.get("enableRtl")?this.columnModel.isPinningLeft()?!e:!n:this.columnModel.isPinningLeft()?!t:!n}findDisplayedGroupNode(){const t=this.params.column,e=this.params.node;if(this.showingValueForOpenedParent){let n=e.parent;for(;null!=n;){if(n.rowGroupColumn&&t.isRowGroupDisplayed(n.rowGroupColumn.getId())){this.displayedGroupNode=n;break}n=n.parent}}hi(this.displayedGroupNode)&&(this.displayedGroupNode=e)}setupShowingValueForOpenedParent(){const t=this.params.node,e=this.params.column;if(!this.gridOptionsService.get("groupHideOpenParents"))return void(this.showingValueForOpenedParent=!1);if(!t.groupData)return void(this.showingValueForOpenedParent=!1);if(null!=t.rowGroupColumn){const r=t.rowGroupColumn.getId();if(e.isRowGroupDisplayed(r))return void(this.showingValueForOpenedParent=!1)}const i=null!=t.groupData[e.getId()];this.showingValueForOpenedParent=i}addValueElement(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())}addGroupValue(){var t;const e=this.adjustParamsWithDetailsFromRelatedColumn(),n=this.getInnerCompDetails(e),{valueFormatted:i,value:r}=e;let s=i;if(null==s){const o=this.displayedGroupNode.rowGroupColumn&&(null==(t=this.params.column)?void 0:t.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));s=""===this.displayedGroupNode.key&&this.displayedGroupNode.group&&o?this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):r??null}this.comp.setInnerRenderer(n,s)}adjustParamsWithDetailsFromRelatedColumn(){const t=this.displayedGroupNode.rowGroupColumn,e=this.params.column;if(!t)return this.params;if(null!=e&&!e.isRowGroupDisplayed(t.getId()))return this.params;const i=this.params,{value:r,node:s}=this.params,o=this.valueFormatterService.formatValue(t,s,r);return ms(Yn({},i),{valueFormatted:o})}addFooterValue(){const t=this.params.footerValueGetter;let e="";if(t){const i=Lx(this.params);i.value=this.params.value,"function"==typeof t?e=t(i):"string"==typeof t?e=this.expressionService.evaluate(t,i):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else e=this.localeService.getLocaleTextFunc()("footerTotal","Total")+" "+(null!=this.params.value?this.params.value:"");const n=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(n,e)}getInnerCompDetails(t){if(t.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),t);const e=this.userComponentFactory.getInnerRendererDetails(t,t),n=o=>o&&o.componentClass==this.compClass;if(e&&!n(e))return e;const i=this.displayedGroupNode.rowGroupColumn,r=i?i.getColDef():void 0;if(!r)return;const s=this.userComponentFactory.getCellRendererDetails(r,t);return s&&!n(s)?s:n(s)&&r.cellRendererParams&&r.cellRendererParams.innerRenderer?this.userComponentFactory.getInnerRendererDetails(r.cellRendererParams,t):void 0}addChildCount(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,qi.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())}updateChildCount(){const t=this.displayedGroupNode.allChildrenCount,i=this.isShowRowGroupForThisRow()&&null!=t&&t>=0?`(${t})`:"";this.comp.setChildCount(i)}isShowRowGroupForThisRow(){if(this.gridOptionsService.get("treeData"))return!0;const t=this.displayedGroupNode.rowGroupColumn;if(!t)return!1;const e=this.params.column;return null==e||e.isRowGroupDisplayed(t.getId())}addExpandAndContract(){var t;const e=this.params,n=ks("groupExpanded",this.gridOptionsService,null),i=ks("groupContracted",this.gridOptionsService,null);n&&this.eExpanded.appendChild(n),i&&this.eContracted.appendChild(i);const r=e.eGridCell;!((null==(t=this.params.column)?void 0:t.isCellEditable(e.node))&&this.gridOptionsService.get("enableGroupEdit"))&&this.isExpandable()&&!e.suppressDoubleClickExpand&&this.addManagedListener(r,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(r,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(e.node,qi.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();const o=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,qi.EVENT_ALL_CHILDREN_COUNT_CHANGED,o),this.addManagedListener(this.displayedGroupNode,qi.EVENT_MASTER_CHANGED,o),this.addManagedListener(this.displayedGroupNode,qi.EVENT_GROUP_CHANGED,o),this.addManagedListener(this.displayedGroupNode,qi.EVENT_HAS_CHILDREN_CHANGED,o)}onExpandClicked(t){mf(t)||(gf(t),this.onExpandOrContract(t))}onExpandOrContract(t){const e=this.displayedGroupNode,n=!e.expanded;!n&&e.sticky&&this.scrollToStickyNode(e),e.setExpanded(n,t)}scrollToStickyNode(t){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(t.rowTop-t.stickyRowTop)}isExpandable(){if(this.showingValueForOpenedParent)return!0;const t=this.displayedGroupNode,e=this.columnModel.isPivotMode()&&t.leafGroup;if(!t.isExpandable()||t.footer||e)return!1;const i=this.params.column;return null==i||"string"!=typeof i.getColDef().showRowGroup||this.isShowRowGroupForThisRow()}showExpandAndContractIcons(){const{params:t,displayedGroupNode:e,columnModel:n}=this,{node:i}=t,r=this.isExpandable();if(r){const p=!!this.showingValueForOpenedParent||i.expanded;this.comp.setExpandedDisplayed(p),this.comp.setContractedDisplayed(!p)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);const s=n.isPivotMode(),o=s&&e.leafGroup,c=r&&!o,d=i.footer&&-1===i.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",c),this.comp.addOrRemoveCssClass("ag-row-group",c),s?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",o):d||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!c)}onRowNodeIsExpandableChanged(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()}setupIndent(){this.params.suppressPadding||(this.addManagedListener(this.params.node,qi.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())}setIndent(){if(this.gridOptionsService.get("groupHideOpenParents"))return;const t=this.params,e=t.node,n=!!t.colDef,i=this.gridOptionsService.get("treeData"),s=!n||i||!0===t.colDef.showRowGroup?e.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+s,this.comp.addOrRemoveCssClass(this.indentClass,!0)}addFullWidthRowDraggerIfNeeded(){if(!this.params.fullWidth||!this.params.rowDrag)return;const t=new Aw(()=>this.params.value,this.params.node);this.createManagedBean(t,this.context),this.eGui.insertAdjacentElement("afterbegin",t.getGui())}isUserWantsSelected(){const t=this.params.checkbox;return"function"==typeof t||!0===t}addCheckboxIfNeeded(){const t=this.displayedGroupNode,e=this.isUserWantsSelected()&&!t.footer&&!t.rowPinned&&!t.detail;if(e){const n=new QL;this.getContext().createBean(n),n.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(n.getGui()),this.addDestroyFunc(()=>this.getContext().destroyBean(n))}this.comp.setCheckboxVisible(e)}onKeyDown(t){t.key!==Qe.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(t)}onCellDblClicked(t){mf(t)||DL(this.eExpanded,t)||DL(this.eContracted,t)||this.onExpandOrContract(t)}};N([Y("expressionService")],AI.prototype,"expressionService",2),N([Y("valueFormatterService")],AI.prototype,"valueFormatterService",2),N([Y("columnModel")],AI.prototype,"columnModel",2),N([Y("userComponentFactory")],AI.prototype,"userComponentFactory",2),N([Y("ctrlsService")],AI.prototype,"ctrlsService",2);var Rw=class lme extends Ii{constructor(){super(lme.TEMPLATE)}init(e){const n={setInnerRenderer:(o,c)=>this.setRenderDetails(o,c),setChildCount:o=>this.eChildCount.textContent=o,addOrRemoveCssClass:(o,c)=>this.addOrRemoveCssClass(o,c),setContractedDisplayed:o=>nr(this.eContracted,o),setExpandedDisplayed:o=>nr(this.eExpanded,o),setCheckboxVisible:o=>this.eCheckbox.classList.toggle("ag-invisible",!o)},i=this.createManagedBean(new AI),r=!e.colDef,s=this.getGui();i.init(n,s,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),r&&so(s,i.getCellAriaRole())}setRenderDetails(e,n){if(e){const i=e.newAgStackInstance();if(!i)return;i.then(r=>{if(!r)return;const s=()=>this.context.destroyBean(r);this.isAlive()?(this.eValue.appendChild(r.getGui()),this.addDestroyFunc(s)):s()})}else this.eValue.innerText=n}destroy(){this.getContext().destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}};Rw.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',N([fn("eExpanded")],Rw.prototype,"eExpanded",2),N([fn("eContracted")],Rw.prototype,"eContracted",2),N([fn("eCheckbox")],Rw.prototype,"eCheckbox",2),N([fn("eValue")],Rw.prototype,"eValue",2),N([fn("eChildCount")],Rw.prototype,"eChildCount",2);var kne=Rw,JL=class cme extends Ii{constructor(){super(cme.TEMPLATE)}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=ks("groupLoading",this.gridOptionsService,null);e&&this.eLoadingIcon.appendChild(e);const n=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=n("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}};JL.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',N([fn("eLoadingIcon")],JL.prototype,"eLoadingIcon",2),N([fn("eLoadingText")],JL.prototype,"eLoadingText",2);var l_e=JL,Vne=class ume extends Ii{constructor(){super()}destroy(){super.destroy()}init(e){const n=this.gridOptionsService.get("overlayLoadingTemplate");if(this.setTemplate(n??ume.DEFAULT_LOADING_OVERLAY_TEMPLATE),!n){const i=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("loadingOoo","Loading...")})}}};Vne.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>';var c_e=Vne,Gne=class dme extends Ii{constructor(){super()}destroy(){super.destroy()}init(e){const n=this.gridOptionsService.get("overlayNoRowsTemplate");if(this.setTemplate(n??dme.DEFAULT_NO_ROWS_TEMPLATE),!n){const i=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("noRowsToShow","No Rows To Show")})}}};Gne.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center"></span>';var u_e=Gne,d_e=class extends Tw{constructor(){super('<div class="ag-tooltip"></div>')}init(t){const{value:e}=t;this.getGui().textContent=ha(e,!0)}},h_e=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'}init(t,e){this.eInput=t,this.params=e,null!=e.max&&t.setMax(e.max),null!=e.min&&t.setMin(e.min),null!=e.precision&&t.setPrecision(e.precision),null!=e.step&&t.setStep(e.step);const n=t.getInputElement();e.preventStepping?t.addManagedListener(n,"keydown",this.preventStepping):e.showStepperButtons&&n.classList.add("ag-number-field-input-stepper")}preventStepping(t){(t.key===Qe.UP||t.key===Qe.DOWN)&&t.preventDefault()}getValue(){const t=this.eInput.getValue();if(!$t(t)&&!$t(this.params.value))return this.params.value;let e=this.params.parseValue(t);if(null==e)return e;if("string"==typeof e){if(""===e)return null;e=Number(e)}return isNaN(e)?null:e}getStartValue(){return this.params.value}},f_e=class extends n1{constructor(){super(new h_e)}},p_e=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(t,e){this.eInput=t,this.params=e,null!=e.min&&t.setMin(e.min),null!=e.max&&t.setMax(e.max),null!=e.step&&t.setStep(e.step)}getValue(){const t=this.eInput.getDate();return $t(t)||$t(this.params.value)?t??null:this.params.value}getStartValue(){const{value:t}=this.params;if(t instanceof Date)return oh(t,!1)}},g_e=class extends n1{constructor(){super(new p_e)}},m_e=class{constructor(t){this.getDataTypeService=t}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(t,e){this.eInput=t,this.params=e,null!=e.min&&t.setMin(e.min),null!=e.max&&t.setMax(e.max),null!=e.step&&t.setStep(e.step)}getValue(){const t=this.formatDate(this.eInput.getDate());return $t(t)||$t(this.params.value)?this.params.parseValue(t??""):this.params.value}getStartValue(){var t,e;return oh(null!=(e=this.parseDate(null!=(t=this.params.value)?t:void 0))?e:null,!1)}parseDate(t){return this.getDataTypeService().getDateParserFunction(this.params.column)(t)}formatDate(t){return this.getDataTypeService().getDateFormatterFunction(this.params.column)(t)}},Bne=class extends n1{constructor(){super(new m_e(()=>this.dataTypeService))}};N([Y("dataTypeService")],Bne.prototype,"dataTypeService",2);var I3=class hme extends Ii{constructor(){super(hme.TEMPLATE)}init(e){this.params=e,this.updateCheckbox(e);const n=this.eCheckbox.getInputElement();n.setAttribute("tabindex","-1"),F6(n,"polite"),this.addManagedListener(n,"click",r=>{if(gf(r),this.eCheckbox.isDisabled())return;const s=this.eCheckbox.getValue();this.onCheckboxChanged(s)}),this.addManagedListener(n,"dblclick",r=>{gf(r)});const i=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",r=>{if(r.key===Qe.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===i.activeElement&&this.eCheckbox.toggle();const s=this.eCheckbox.getValue();this.onCheckboxChanged(s),r.preventDefault()}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var n,i,r;let s,o=!0;if(e.node.group&&e.column){const y=e.column.getColId();y.startsWith(yI)?s=null==e.value||""===e.value?void 0:"true"===e.value:e.node.aggData&&void 0!==e.node.aggData[y]?s=null!=(n=e.value)?n:void 0:o=!1}else s=null!=(i=e.value)?i:void 0;if(!o)return void this.eCheckbox.setDisplayed(!1);this.eCheckbox.setValue(s);const c=null!=e.disabled?e.disabled:!(null!=(r=e.column)&&r.isCellEditable(e.node));this.eCheckbox.setDisabled(c);const d=this.localeService.getLocaleTextFunc(),p=LL(d,s),m=c?p:`${d("ariaToggleCellValue","Press SPACE to toggle cell value")} (${p})`;this.eCheckbox.setInputAriaLabel(m)}onCheckboxChanged(e){const{column:n,node:i,rowIndex:r,value:s}=this.params,o={type:W.EVENT_CELL_EDITING_STARTED,column:n,colDef:n?.getColDef(),data:i.data,node:i,rowIndex:r,rowPinned:i.rowPinned,value:s};this.eventService.dispatchEvent(o);const c=this.params.node.setDataValue(this.params.column,e,"edit"),d={type:W.EVENT_CELL_EDITING_STOPPED,column:n,colDef:n?.getColDef(),data:i.data,node:i,rowIndex:r,rowPinned:i.rowPinned,value:s,oldValue:s,newValue:e,valueChanged:c};this.eventService.dispatchEvent(d)}};I3.TEMPLATE='\n        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n        </div>',N([fn("eCheckbox")],I3.prototype,"eCheckbox",2);var v_e=I3,Hne=class extends Tw{constructor(){super('\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')}init(t){var e;this.params=t;const n=null!=(e=t.value)?e:void 0;this.eCheckbox.setValue(n),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(n),this.addManagedListener(this.eCheckbox,W.EVENT_FIELD_VALUE_CHANGED,r=>this.setAriaLabel(r.selected))}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(t){const e=this.localeService.getLocaleTextFunc(),n=LL(e,t),i=e("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${i} (${n})`)}};N([fn("eCheckbox")],Hne.prototype,"eCheckbox",2);var __e=class extends Ii{constructor(){super(),this.setTemplate("<div></div>")}init(t){var e;this.params=t,this.cssClassPrefix=null!=(e=this.params.cssClassPrefix)?e:"ag-menu-option",this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu()}configureDefaults(){return!0}addIcon(){if(this.params.isCompact)return;const t=Iu(`<span ref="eIcon" class="${this.getClassName("part")} ${this.getClassName("icon")}" role="presentation"></span>`);this.params.checked?t.appendChild(ks("check",this.gridOptionsService)):this.params.icon&&(Yx(this.params.icon)?t.appendChild(this.params.icon):"string"==typeof this.params.icon?t.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(t)}addName(){const t=Iu(`<span ref="eName" class="${this.getClassName("part")} ${this.getClassName("text")}">${this.params.name||""}</span>`);this.getGui().appendChild(t)}addShortcut(){if(this.params.isCompact)return;const t=Iu(`<span ref="eShortcut" class="${this.getClassName("part")} ${this.getClassName("shortcut")}">${this.params.shortcut||""}</span>`);this.getGui().appendChild(t)}addSubMenu(){const t=Iu(`<span ref="ePopupPointer" class="${this.getClassName("part")} ${this.getClassName("popup-pointer")}"></span>`),e=this.getGui();if(this.params.subMenu){const n=this.gridOptionsService.get("enableRtl")?"smallLeft":"smallRight";qm(e,!1),t.appendChild(ks(n,this.gridOptionsService))}e.appendChild(t)}getClassName(t){return`${this.cssClassPrefix}-${t}`}destroy(){super.destroy()}},r1=class extends Jt{constructor(){super(...arguments),this.agGridDefaults={agDateInput:Sne,agColumnHeader:w3,agColumnGroupHeader:t_e,agSortIndicator:b3,agTextColumnFloatingFilter:e_e,agNumberColumnFloatingFilter:Zve,agDateColumnFloatingFilter:XL,agReadOnlyFloatingFilter:p3,agAnimateShowChangeCellRenderer:Pne,agAnimateSlideCellRenderer:Mne,agGroupCellRenderer:kne,agGroupRowRenderer:kne,agLoadingCellRenderer:l_e,agCheckboxCellRenderer:v_e,agCellEditor:xne,agTextCellEditor:xne,agNumberCellEditor:f_e,agDateCellEditor:g_e,agDateStringCellEditor:Bne,agSelectCellEditor:S3,agLargeTextCellEditor:n_e,agCheckboxCellEditor:Hne,agTextColumnFilter:C3,agNumberColumnFilter:Ane,agDateColumnFilter:wne,agLoadingOverlay:c_e,agNoRowsOverlay:u_e,agTooltipComponent:d_e,agMenuItem:__e},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}init(){null!=this.gridOptions.components&&ml(this.gridOptions.components,(t,e)=>this.registerJsComponent(t,e))}registerDefaultComponent(t,e){this.agGridDefaults[t]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[t]=e}registerJsComponent(t,e){this.jsComps[t]=e}retrieve(t,e){const n=(c,d)=>({componentFromFramework:d,component:c}),i=this.getFrameworkOverrides().frameworkComponent(e,this.gridOptions.components);if(null!=i)return n(i,!0);const r=this.jsComps[e];if(r)return n(r,this.getFrameworkOverrides().isFrameworkComponent(r));const s=this.agGridDefaults[e];if(s)return n(s,!1);const o=this.enterpriseAgDefaultCompsModule[e];return o?Mr.__assertRegistered(o,`AG Grid '${t}' component: ${e}`,this.context.getGridId()):jm(()=>{this.warnAboutMissingComponent(t,e)},"MissingComp"+e),null}warnAboutMissingComponent(t,e){const i=Xx(e,[...Object.keys(this.agGridDefaults).filter(r=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(r)),...Object.keys(this.jsComps)],!0,.8).values;console.warn(`AG Grid: Could not find '${e}' component. It was configured as "${t}: '${e}'" but it wasn't found in the list of registered components.`),i.length>0&&console.warn(`         Did you mean: [${i.slice(0,3)}]?`),console.warn(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}};N([Y("gridOptions")],r1.prototype,"gridOptions",2),N([nn],r1.prototype,"init",1),r1=N([bn("userComponentRegistry")],r1);var y_e={propertyName:"dateComponent",cellRenderer:!1},C_e={propertyName:"headerComponent",cellRenderer:!1},b_e={propertyName:"headerGroupComponent",cellRenderer:!1},Une={propertyName:"cellRenderer",cellRenderer:!0},w_e={propertyName:"cellEditor",cellRenderer:!1},Wne={propertyName:"innerRenderer",cellRenderer:!0},E_e={propertyName:"loadingOverlayComponent",cellRenderer:!1},S_e={propertyName:"noRowsOverlayComponent",cellRenderer:!1},I_e={propertyName:"tooltipComponent",cellRenderer:!1},T3={propertyName:"filter",cellRenderer:!1},T_e={propertyName:"floatingFilterComponent",cellRenderer:!1},A_e={propertyName:"toolPanel",cellRenderer:!1},R_e={propertyName:"statusPanel",cellRenderer:!1},D_e={propertyName:"fullWidthCellRenderer",cellRenderer:!0},x_e={propertyName:"loadingCellRenderer",cellRenderer:!0},P_e={propertyName:"groupRowRenderer",cellRenderer:!0},M_e={propertyName:"detailCellRenderer",cellRenderer:!0},N_e={propertyName:"menuItem",cellRenderer:!1},zne=class{static getFloatingFilterType(t){return this.filterToFloatingFilterMapping[t]}};zne.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"};var uy=class extends Jt{getHeaderCompDetails(t,e){return this.getCompDetails(t,C_e,"agColumnHeader",e)}getHeaderGroupCompDetails(t){const e=t.columnGroup.getColGroupDef();return this.getCompDetails(e,b_e,"agColumnGroupHeader",t)}getFullWidthCellRendererDetails(t){return this.getCompDetails(this.gridOptions,D_e,null,t,!0)}getFullWidthLoadingCellRendererDetails(t){return this.getCompDetails(this.gridOptions,x_e,"agLoadingCellRenderer",t,!0)}getFullWidthGroupCellRendererDetails(t){return this.getCompDetails(this.gridOptions,P_e,"agGroupRowRenderer",t,!0)}getFullWidthDetailCellRendererDetails(t){return this.getCompDetails(this.gridOptions,M_e,"agDetailCellRenderer",t,!0)}getInnerRendererDetails(t,e){return this.getCompDetails(t,Wne,null,e)}getFullWidthGroupRowInnerCellRenderer(t,e){return this.getCompDetails(t,Wne,null,e)}getCellRendererDetails(t,e){return this.getCompDetails(t,Une,null,e)}getCellEditorDetails(t,e){return this.getCompDetails(t,w_e,"agCellEditor",e,!0)}getFilterDetails(t,e,n){return this.getCompDetails(t,T3,n,e,!0)}getDateCompDetails(t){return this.getCompDetails(this.gridOptions,y_e,"agDateInput",t,!0)}getLoadingOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,E_e,"agLoadingOverlay",t,!0)}getNoRowsOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,S_e,"agNoRowsOverlay",t,!0)}getTooltipCompDetails(t){return this.getCompDetails(t.colDef,I_e,"agTooltipComponent",t,!0)}getSetFilterCellRendererDetails(t,e){return this.getCompDetails(t,Une,null,e)}getFloatingFilterCompDetails(t,e,n){return this.getCompDetails(t,T_e,n,e)}getToolPanelCompDetails(t,e){return this.getCompDetails(t,A_e,null,e,!0)}getStatusPanelCompDetails(t,e){return this.getCompDetails(t,R_e,null,e,!0)}getMenuItemCompDetails(t,e){return this.getCompDetails(t,N_e,"agMenuItem",e,!0)}getCompDetails(t,e,n,i,r=!1){const{propertyName:s,cellRenderer:o}=e;let{compName:c,jsComp:d,fwComp:p,paramsFromSelector:m,popupFromSelector:y,popupPositionFromSelector:A}=this.getCompKeys(t,e,i);const k=pe=>{const Ie=this.userComponentRegistry.retrieve(s,pe);Ie&&(d=Ie.componentFromFramework?void 0:Ie.component,p=Ie.componentFromFramework?Ie.component:void 0)};if(null!=c&&k(c),null==d&&null==p&&null!=n&&k(n),d&&o&&!this.agComponentUtils.doesImplementIComponent(d)&&(d=this.agComponentUtils.adaptFunction(s,d)),!d&&!p)return void(r&&console.error(`AG Grid: Could not find component ${c}, did you forget to configure this component?`));const U=this.mergeParamsWithApplicationProvidedParams(t,e,i,m),X=null==d,Q=d||p;return{componentFromFramework:X,componentClass:Q,params:U,type:e,popupFromSelector:y,popupPositionFromSelector:A,newAgStackInstance:()=>this.newAgStackInstance(Q,X,U,e)}}getCompKeys(t,e,n){const{propertyName:i}=e;let r,s,o,c,d,p;if(t){const m=t,y=m[i+"Selector"],A=y?y(n):null,k=U=>{"string"==typeof U?r=U:null!=U&&!0!==U&&(this.getFrameworkOverrides().isFrameworkComponent(U)?o=U:s=U)};A?(k(A.component),c=A.params,d=A.popup,p=A.popupPosition):k(m[i])}return{compName:r,jsComp:s,fwComp:o,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:p}}newAgStackInstance(t,e,n,i){let o;if(e){const d=this.componentMetadataProvider.retrieve(i.propertyName);o=this.frameworkComponentWrapper.wrap(t,d.mandatoryMethodList,d.optionalMethodList,i)}else o=new t;const c=this.initComponent(o,n);return null==c?Tu.resolve(o):c.then(()=>o)}mergeParamsWithApplicationProvidedParams(t,e,n,i=null){const r=this.gridOptionsService.getGridCommonParams();Kl(r,n);const o=t&&t[e.propertyName+"Params"];return"function"==typeof o?Kl(r,o(n)):"object"==typeof o&&Kl(r,o),Kl(r,i),r}initComponent(t,e){if(this.context.createBean(t),null!=t.init)return t.init(e)}getDefaultFloatingFilterType(t,e){if(null==t)return null;let n=null,{compName:i,jsComp:r,fwComp:s}=this.getCompKeys(t,T3);return i?n=zne.getFloatingFilterType(i):null==r&&null==s&&!0===t.filter&&(n=e()),n}};N([Y("gridOptions")],uy.prototype,"gridOptions",2),N([Y("agComponentUtils")],uy.prototype,"agComponentUtils",2),N([Y("componentMetadataProvider")],uy.prototype,"componentMetadataProvider",2),N([Y("userComponentRegistry")],uy.prototype,"userComponentRegistry",2),N([lr("frameworkComponentWrapper")],uy.prototype,"frameworkComponentWrapper",2),uy=N([bn("userComponentFactory")],uy);var ZL=class{};ZL.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0},ZL.ALL_PROPERTIES=Object.keys(ZL.ColDefPropertyMap);var O_e=ZL,jne=class{constructor(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=-1!==t.scrollAxis.indexOf("x"),this.scrollVertically=-1!==t.scrollAxis.indexOf("y"),this.scrollByTick=null!=t.scrollByTick?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||(()=>!1)}check(t,e=!1){const n=e||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const i=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=t.clientX<i.left+r,this.tickRight=t.clientX>i.right-r,this.tickUp=t.clientY<i.top+r&&!n,this.tickDown=t.clientY>i.bottom-r&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){let t;if(this.tickCount++,t=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){const e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){const e=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(e-t),this.tickRight&&this.setHorizontalPosition(e+t)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},ud=class extends Jt{constructor(t){super(),this.isMultiRowDrag=!1,this.eContainer=t}postConstruct(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(()=>{const t=this.ctrlsService.getGridBodyCtrl();this.autoScrollService=new jne({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:e=>t.getScrollFeature().setVerticalScrollPosition(e),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(t){return 2===t}getIconName(){return this.gridOptionsService.get("rowDragManaged")&&this.shouldPreventRowMove()?Di.ICON_NOT_ALLOWED:Di.ICON_MOVE}shouldPreventRowMove(){return!!(this.columnModel.getRowGroupColumns().length||this.filterManager.isAnyFilterPresent()||this.sortController.isSortActive())}getRowNodes(t){if(!this.isFromThisGrid(t))return t.dragItem.rowNodes||[];const e=this.gridOptionsService.get("rowDragMultiRow"),n=[...this.selectionService.getSelectedNodes()].sort((r,s)=>null==r.rowIndex||null==s.rowIndex?0:this.getRowIndexNumber(r)-this.getRowIndexNumber(s)),i=t.dragItem.rowNode;return e&&-1!==n.indexOf(i)?(this.isMultiRowDrag=!0,n):(this.isMultiRowDrag=!1,[i])}onDragEnter(t){t.dragItem.rowNodes=this.getRowNodes(t),this.dispatchGridEvent(W.EVENT_ROW_DRAG_ENTER,t),this.getRowNodes(t).forEach(e=>{e.setDragging(!0)}),this.onEnterOrDragging(t)}onDragging(t){this.onEnterOrDragging(t)}isFromThisGrid(t){const{dragSourceDomDataKey:e}=t.dragSource;return e===this.gridOptionsService.getDomDataKey()}isDropZoneWithinThisGrid(t){const n=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:i}=t;return!n.contains(i)}onEnterOrDragging(t){this.dispatchGridEvent(W.EVENT_ROW_DRAG_MOVE,t),this.lastDraggingEvent=t;const e=this.mouseEventService.getNormalisedPosition(t).y;this.gridOptionsService.get("rowDragManaged")&&this.doManagedDrag(t,e),this.autoScrollService.check(t.event)}doManagedDrag(t,e){const n=this.isFromThisGrid(t),i=this.gridOptionsService.get("rowDragManaged"),r=t.dragItem.rowNodes;i&&this.shouldPreventRowMove()||(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!n?this.isDropZoneWithinThisGrid(t)||this.clientSideRowModel.highlightRowAtPixel(r[0],e):this.moveRows(r,e))}getRowIndexNumber(t){return parseInt(q(t.getRowIndexString().split("-")),10)}moveRowAndClearHighlight(t){const e=this.clientSideRowModel.getLastHighlightedRowNode(),n=e&&1===e.highlighted,i=this.mouseEventService.getNormalisedPosition(t).y,r=t.dragItem.rowNodes;let s=n?1:0;if(this.isFromThisGrid(t))r.forEach(o=>{o.rowTop<i&&(s-=1)}),this.moveRows(r,i,s);else{const o=this.gridOptionsService.getCallback("getRowId");let c=this.clientSideRowModel.getRowIndexAtPixel(i)+1;0===this.clientSideRowModel.getHighlightPosition(i)&&c--,this.clientSideRowModel.updateRowData({add:r.map(d=>d.data).filter(d=>!this.clientSideRowModel.getRowNode(o?o({data:d,level:0}):d.id)),addIndex:c})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(t,e,n=0){this.clientSideRowModel.ensureRowsAtPixel(t,e,n)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())}addRowDropZone(t){if(!t.getContainer())return void ei("addRowDropZone - A container target needs to be provided");if(this.dragAndDropService.findExternalZone(t))return void console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");let e={getContainer:t.getContainer};t.fromGrid?e=t:(t.onDragEnter&&(e.onDragEnter=n=>{t.onDragEnter(this.draggingToRowDragEvent(W.EVENT_ROW_DRAG_ENTER,n))}),t.onDragLeave&&(e.onDragLeave=n=>{t.onDragLeave(this.draggingToRowDragEvent(W.EVENT_ROW_DRAG_LEAVE,n))}),t.onDragging&&(e.onDragging=n=>{t.onDragging(this.draggingToRowDragEvent(W.EVENT_ROW_DRAG_MOVE,n))}),t.onDragStop&&(e.onDragStop=n=>{t.onDragStop(this.draggingToRowDragEvent(W.EVENT_ROW_DRAG_END,n))})),this.dragAndDropService.addDropTarget(Yn({isInterestedIn:n=>2===n,getIconName:()=>Di.ICON_MOVE,external:!0},e))}getRowDropZone(t){const e=this.getContainer.bind(this),n=this.onDragEnter.bind(this),i=this.onDragLeave.bind(this),r=this.onDragging.bind(this),s=this.onDragStop.bind(this);return t?{getContainer:e,onDragEnter:t.onDragEnter?o=>{n(o),t.onDragEnter(this.draggingToRowDragEvent(W.EVENT_ROW_DRAG_ENTER,o))}:n,onDragLeave:t.onDragLeave?o=>{i(o),t.onDragLeave(this.draggingToRowDragEvent(W.EVENT_ROW_DRAG_LEAVE,o))}:i,onDragging:t.onDragging?o=>{r(o),t.onDragging(this.draggingToRowDragEvent(W.EVENT_ROW_DRAG_MOVE,o))}:r,onDragStop:t.onDragStop?o=>{s(o),t.onDragStop(this.draggingToRowDragEvent(W.EVENT_ROW_DRAG_END,o))}:s,fromGrid:!0}:{getContainer:e,onDragEnter:n,onDragLeave:i,onDragging:r,onDragStop:s,fromGrid:!0}}draggingToRowDragEvent(t,e){const n=this.mouseEventService.getNormalisedPosition(e).y;let s,o,r=-1;switch(n>this.paginationProxy.getCurrentPageHeight()||(r=this.rowModel.getRowIndexAtPixel(n),s=this.rowModel.getRow(r)),e.vDirection){case 1:o="down";break;case 0:o="up";break;default:o=null}return this.gridOptionsService.addGridCommonParams({type:t,event:e.event,node:e.dragItem.rowNode,nodes:e.dragItem.rowNodes,overIndex:r,overNode:s,y:n,vDirection:o})}dispatchGridEvent(t,e){const n=this.draggingToRowDragEvent(t,e);this.eventService.dispatchEvent(n)}onDragLeave(t){this.dispatchGridEvent(W.EVENT_ROW_DRAG_LEAVE,t),this.stopDragging(t),this.gridOptionsService.get("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(t)&&(this.isMultiRowDrag=!1)}onDragStop(t){this.dispatchGridEvent(W.EVENT_ROW_DRAG_END,t),this.stopDragging(t),this.gridOptionsService.get("rowDragManaged")&&(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(t))&&!this.isDropZoneWithinThisGrid(t)&&this.moveRowAndClearHighlight(t)}stopDragging(t){this.autoScrollService.ensureCleared(),this.getRowNodes(t).forEach(e=>{e.setDragging(!1)})}};N([Y("dragAndDropService")],ud.prototype,"dragAndDropService",2),N([Y("rowModel")],ud.prototype,"rowModel",2),N([Y("paginationProxy")],ud.prototype,"paginationProxy",2),N([Y("columnModel")],ud.prototype,"columnModel",2),N([Y("focusService")],ud.prototype,"focusService",2),N([Y("sortController")],ud.prototype,"sortController",2),N([Y("filterManager")],ud.prototype,"filterManager",2),N([Y("selectionService")],ud.prototype,"selectionService",2),N([Y("mouseEventService")],ud.prototype,"mouseEventService",2),N([Y("ctrlsService")],ud.prototype,"ctrlsService",2),N([lr("rangeService")],ud.prototype,"rangeService",2),N([nn],ud.prototype,"postConstruct",1);var s1=class extends Jt{constructor(){super(...arguments),this.dragEndFunctions=[],this.dragSources=[]}removeAllListeners(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0}removeListener(t){const e=t.dragSource.eElement;e.removeEventListener("mousedown",t.mouseDownListener),t.touchEnabled&&e.removeEventListener("touchstart",t.touchStartListener,{passive:!0})}removeDragSource(t){const e=this.dragSources.find(n=>n.dragSource===t);e&&(this.removeListener(e),tn(this.dragSources,e))}isDragging(){return this.dragging}addDragSource(t){const e=this.onMouseDown.bind(this,t),{eElement:n,includeTouch:i,stopPropagationForTouch:r}=t;n.addEventListener("mousedown",e);let s=null;const o=this.gridOptionsService.get("suppressTouch");i&&!o&&(s=c=>{i3(c.target)||(c.cancelable&&(c.preventDefault(),r&&c.stopPropagation()),this.onTouchStart(t,c))},n.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:t,mouseDownListener:e,touchStartListener:s,touchEnabled:!!i})}getStartTarget(){return this.startTarget}onTouchStart(t,e){this.currentDragParams=t,this.dragging=!1;const n=e.touches[0];this.touchLastTime=n,this.touchStart=n;const r=d=>this.onTouchUp(d,t.eElement),o=e.target,c=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:d=>{d.cancelable&&d.preventDefault()},options:{passive:!1}},{target:o,type:"touchmove",listener:d=>this.onTouchMove(d,t.eElement),options:{passive:!0}},{target:o,type:"touchend",listener:r,options:{passive:!0}},{target:o,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(c),0===t.dragStartPixels&&this.onCommonMove(n,this.touchStart,t.eElement)}onMouseDown(t,e){const n=e;if(t.skipMouseEvent&&t.skipMouseEvent(e)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,0!==e.button))return;this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=e,this.startTarget=e.target;const o=this.gridOptionsService.getRootNode();this.addTemporaryEvents([{target:o,type:"mousemove",listener:d=>this.onMouseMove(d,t.eElement)},{target:o,type:"mouseup",listener:d=>this.onMouseUp(d,t.eElement)},{target:o,type:"contextmenu",listener:d=>d.preventDefault()}]),0===t.dragStartPixels&&this.onMouseMove(e,t.eElement)}addTemporaryEvents(t){t.forEach(e=>{const{target:n,type:i,listener:r,options:s}=e;n.addEventListener(i,r,s)}),this.dragEndFunctions.push(()=>{t.forEach(e=>{const{target:n,type:i,listener:r,options:s}=e;n.removeEventListener(i,r,s)})})}isEventNearStartEvent(t,e){const{dragStartPixels:n}=this.currentDragParams;return h3(t,e,$t(n)?n:4)}getFirstActiveTouch(t){for(let e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null}onCommonMove(t,e,n){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t,e))return;this.dragging=!0,this.eventService.dispatchEvent({type:W.EVENT_DRAG_STARTED,target:n}),this.currentDragParams.onDragStart(e),this.currentDragParams.onDragging(e)}this.currentDragParams.onDragging(t)}onTouchMove(t,e){const n=this.getFirstActiveTouch(t.touches);n&&this.onCommonMove(n,this.touchStart,e)}onMouseMove(t,e){var n;jp()&&(null==(n=this.gridOptionsService.getDocument().getSelection())||n.removeAllRanges()),this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.onCommonMove(t,this.mouseStartEvent,e)}shouldPreventMouseEvent(t){return this.gridOptionsService.get("enableCellTextSelection")&&"mousemove"===t.type&&t.cancelable&&this.mouseEventService.isEventFromThisGrid(t)&&!this.isOverFormFieldElement(t)}isOverFormFieldElement(t){const e=t.target,n=e?.tagName.toLocaleLowerCase();return!!n?.match("^a$|textarea|input|select|button")}onTouchUp(t,e){let n=this.getFirstActiveTouch(t.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,e)}onMouseUp(t,e){this.onUpCommon(t,e)}onUpCommon(t,e){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(t),this.eventService.dispatchEvent({type:W.EVENT_DRAG_STOPPED,target:e})),this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(n=>n()),this.dragEndFunctions.length=0}};N([Y("mouseEventService")],s1.prototype,"mouseEventService",2),N([Yl],s1.prototype,"removeAllListeners",1),s1=N([bn("dragService")],s1);var A3="ag-list-item-hovered",$ne=class extends Jt{constructor(t,e,n){super(),this.comp=t,this.virtualList=e,this.params=n,this.currentDragValue=null,this.lastHoveredListItem=null}postConstruct(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()}listItemDragStart(t){this.currentDragValue=this.params.getCurrentDragValue(t),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)}listItemDragEnd(){window.setTimeout(()=>{this.currentDragValue=null,this.moveBlocked=!1},10)}createDropTarget(){this.dragAndDropService.addDropTarget({isInterestedIn:e=>e===this.params.dragSourceType,getIconName:()=>this.moveBlocked?Di.ICON_PINNED:Di.ICON_MOVE,getContainer:()=>this.comp.getGui(),onDragging:e=>this.onDragging(e),onDragStop:()=>this.onDragStop(),onDragLeave:()=>this.onDragLeave()})}createAutoScrollService(){const t=this.virtualList.getGui();this.autoScrollService=new jne({scrollContainer:t,scrollAxis:"y",getVerticalPosition:()=>t.scrollTop,setVerticalPosition:e=>t.scrollTop=e})}onDragging(t){if(!this.currentDragValue||this.moveBlocked)return;const e=this.getListDragItem(t),n=this.virtualList.getComponentAt(e.rowIndex);if(!n)return;const i=n.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===e.rowIndex&&this.lastHoveredListItem.position===e.position||(this.autoScrollService.check(t.event),this.clearHoveredItems(),this.lastHoveredListItem=e,t3(i,A3),t3(i,`ag-item-highlight-${e.position}`))}getListDragItem(t){const e=this.virtualList.getGui(),n=parseFloat(window.getComputedStyle(e).paddingTop),i=this.virtualList.getRowHeight(),r=this.virtualList.getScrollTop(),s=Math.max(0,(t.y-n+r)/i),o=this.params.getNumRows(this.comp)-1,c=0|Math.min(o,s);return{rowIndex:c,position:Math.round(s)>s||s>o?"bottom":"top",component:this.virtualList.getComponentAt(c)}}onDragStop(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())}onDragLeave(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()}clearHoveredItems(){this.virtualList.getGui().querySelectorAll(`.${A3}`).forEach(e=>{[A3,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(n=>{e.classList.remove(n)})}),this.lastHoveredListItem=null}};function Dw(t){return null!=t&&null!=t.getFrameworkComponentInstance?t.getFrameworkComponentInstance():t}N([Y("dragAndDropService")],$ne.prototype,"dragAndDropService",2),N([nn],$ne.prototype,"postConstruct",1);var Qi=class{constructor(){this.detailGridInfoMap={},this.destroyCalled=!1}init(){switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()})}__getAlignedGridService(){return this.alignedGridsService}__getContext(){return this.context}__getModel(){return this.rowModel}getGridId(){return this.context.getGridId()}addDetailGridInfo(t,e){this.detailGridInfoMap[t]=e}removeDetailGridInfo(t){this.detailGridInfoMap[t]=void 0}getDetailGridInfo(t){return this.detailGridInfoMap[t]}forEachDetailGridInfo(t){let e=0;ml(this.detailGridInfoMap,(n,i)=>{$t(i)&&(t(i,e),e++)})}getDataAsCsv(t){if(Mr.__assertRegistered("@ag-grid-community/csv-export","api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(t)}exportDataAsCsv(t){Mr.__assertRegistered("@ag-grid-community/csv-export","api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(t)}assertNotExcelMultiSheet(t,e){return!(!Mr.__assertRegistered("@ag-grid-enterprise/excel-export","api."+t,this.context.getGridId())||1===this.excelCreator.getFactoryMode()&&(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),1))}getDataAsExcel(t){if(this.assertNotExcelMultiSheet("getDataAsExcel",t))return this.excelCreator.getDataAsExcel(t)}exportDataAsExcel(t){this.assertNotExcelMultiSheet("exportDataAsExcel",t)&&this.excelCreator.exportDataAsExcel(t)}getSheetDataForExcel(t){if(Mr.__assertRegistered("@ag-grid-enterprise/excel-export","api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(1),this.excelCreator.getSheetDataForExcel(t)}getMultipleSheetsAsExcel(t){if(Mr.__assertRegistered("@ag-grid-enterprise/excel-export","api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(t)}exportMultipleSheetsAsExcel(t){Mr.__assertRegistered("@ag-grid-enterprise/excel-export","api.exportMultipleSheetsAsExcel",this.context.getGridId())&&this.excelCreator.exportMultipleSheetsAsExcel(t)}setGridAriaProperty(t,e){if(!t)return;const n=this.ctrlsService.getGridBodyCtrl().getGui(),i=`aria-${t}`;null===e?n.removeAttribute(i):n.setAttribute(i,e)}logMissingRowModel(t,...e){console.error(`AG Grid: api.${t} can only be called when gridOptions.rowModelType is ${e.join(" or ")}`)}logDeprecation(t,e,n,i){ei(`Since ${t} api.${e} is deprecated. Please use ${n} instead. ${i}`)}getPinnedTopRowCount(){return this.pinnedRowModel.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.pinnedRowModel.getPinnedBottomRowCount()}getPinnedTopRow(t){return this.pinnedRowModel.getPinnedTopRow(t)}getPinnedBottomRow(t){return this.pinnedRowModel.getPinnedBottomRow(t)}expireValueCache(){this.valueCache.expire()}getVerticalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()}getHorizontalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()}refreshCells(t={}){this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.refreshCells(t))}flashCells(t={}){const e=n=>ei(`Since v31.1 api.flashCells parameter '${n}Delay' is deprecated. Please use '${n}Duration' instead.`);$t(t.fadeDelay)&&e("fade"),$t(t.flashDelay)&&e("flash"),this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.flashCells(t))}redrawRows(t={}){const e=t?t.rowNodes:void 0;this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.redrawRows(e))}refreshHeader(){this.frameworkOverrides.wrapIncoming(()=>this.ctrlsService.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}isAnyFilterPresent(){return this.filterManager.isAnyFilterPresent()}isColumnFilterPresent(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()}isQuickFilterPresent(){return this.filterManager.isQuickFilterPresent()}getModel(){return ei("Since v31.1 getModel() is deprecated. Please use the appropriate grid API methods instead."),this.rowModel}setRowNodeExpanded(t,e,n){this.expansionService.setRowNodeExpanded(t,e,n)}onGroupExpandedOrCollapsed(){hi(this.clientSideRowModel)?this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide"):this.expansionService.onGroupExpandedOrCollapsed()}refreshClientSideRowModel(t){hi(this.clientSideRowModel)?this.logMissingRowModel("refreshClientSideRowModel","clientSide"):this.clientSideRowModel.refreshModel(t)}isAnimationFrameQueueEmpty(){return this.animationFrameService.isQueueEmpty()}flushAllAnimationFrames(){this.animationFrameService.flushAllFrames()}getRowNode(t){return this.rowModel.getRowNode(t)}getSizesForCurrentTheme(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}}expandAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")}collapseAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")}addRenderedRowListener(t,e,n){this.rowRenderer.addRenderedRowListener(t,e,n)}getQuickFilter(){return this.gos.get("quickFilterText")}getAdvancedFilterModel(){return Mr.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null}setAdvancedFilterModel(t){this.filterManager.setAdvancedFilterModel(t)}showAdvancedFilterBuilder(){Mr.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")}setNodesSelected(t){if(!t.nodes.every(o=>o.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):void 0!==o.id||(console.warn("AG Grid: cannot select node until id for node is known"),!1)))return;const{nodes:n,source:i,newValue:r}=t;this.selectionService.setNodesSelected({nodes:n,source:i??"api",newValue:r})}selectAll(t="apiSelectAll"){this.selectionService.selectAllRowNodes({source:t})}deselectAll(t="apiSelectAll"){this.selectionService.deselectAllRowNodes({source:t})}selectAllFiltered(t="apiSelectAllFiltered"){this.selectionService.selectAllRowNodes({source:t,justFiltered:!0})}deselectAllFiltered(t="apiSelectAllFiltered"){this.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})}getServerSideSelectionState(){return hi(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()}setServerSideSelectionState(t){hi(this.serverSideRowModel)?this.logMissingRowModel("setServerSideSelectionState","serverSide"):this.selectionService.setSelectionState(t,"api")}selectAllOnCurrentPage(t="apiSelectAllCurrentPage"){this.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})}deselectAllOnCurrentPage(t="apiSelectAllCurrentPage"){this.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})}showLoadingOverlay(){this.overlayService.showLoadingOverlay()}showNoRowsOverlay(){this.overlayService.showNoRowsOverlay()}hideOverlay(){this.overlayService.hideOverlay()}getSelectedNodes(){return this.selectionService.getSelectedNodes()}getSelectedRows(){return this.selectionService.getSelectedRows()}getBestCostNodeSelection(){if(!hi(this.clientSideRowModel))return this.selectionService.getBestCostNodeSelection();this.logMissingRowModel("getBestCostNodeSelection","clientSide")}getRenderedNodes(){return this.rowRenderer.getRenderedNodes()}ensureColumnVisible(t,e="auto"){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(t,e),"ensureVisible")}ensureIndexVisible(t,e){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t,e),"ensureVisible")}ensureNodeVisible(t,e=null){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(t,e),"ensureVisible")}forEachLeafNode(t){hi(this.clientSideRowModel)?this.logMissingRowModel("forEachLeafNode","clientSide"):this.clientSideRowModel.forEachLeafNode(t)}forEachNode(t,e){this.rowModel.forEachNode(t,e)}forEachNodeAfterFilter(t){hi(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilter","clientSide"):this.clientSideRowModel.forEachNodeAfterFilter(t)}forEachNodeAfterFilterAndSort(t){hi(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide"):this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)}getFilterInstance(t,e){return ei("'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."),this.filterManager.getFilterInstance(t,e)}getColumnFilterInstance(t){return this.filterManager.getColumnFilterInstance(t)}destroyFilter(t){const e=this.columnModel.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"api")}getStatusPanel(t){if(Mr.__assertRegistered("@ag-grid-enterprise/status-bar","api.getStatusPanel",this.context.getGridId()))return Dw(this.statusBarService.getStatusPanel(t))}getColumnDef(t){const e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef():null}getColumnDefs(){return this.columnModel.getColumnDefs()}onFilterChanged(t="api"){this.filterManager.onFilterChanged({source:t})}onSortChanged(){this.sortController.onSortChanged("api")}setFilterModel(t){this.frameworkOverrides.wrapIncoming(()=>this.filterManager.setFilterModel(t))}getFilterModel(){return this.filterManager.getFilterModel()}getColumnFilterModel(t){return this.filterManager.getColumnFilterModel(t)}setColumnFilterModel(t,e){return this.filterManager.setColumnFilterModel(t,e)}getFocusedCell(){return this.focusService.getFocusedCell()}clearFocusedCell(){return this.focusService.clearFocusedCell()}setFocusedCell(t,e,n){this.focusService.setFocusedCell({rowIndex:t,column:e,rowPinned:n,forceBrowserFocus:!0})}addRowDropZone(t){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(t)}removeRowDropZone(t){const e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)}getRowDropZoneParams(t){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(t)}assertSideBarLoaded(t){return Mr.__assertRegistered("@ag-grid-enterprise/side-bar","api."+t,this.context.getGridId())}isSideBarVisible(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()}setSideBarVisible(t){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(t)}setSideBarPosition(t){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(t)}openToolPanel(t){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(t,"api")}closeToolPanel(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")}getOpenedToolPanel(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null}refreshToolPanel(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()}isToolPanelShowing(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()}getToolPanelInstance(t){if(this.assertSideBarLoaded("getToolPanelInstance"))return Dw(this.sideBarService.getSideBarComp().getToolPanelInstance(t))}getSideBar(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()}resetRowHeights(){if($t(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}}setRowCount(t,e){if(this.serverSideRowModel)return this.columnModel.isRowGroupEmpty()?void this.serverSideRowModel.setRowCount(t,e):void console.error("AG Grid: setRowCount cannot be used while using row grouping.");this.infiniteRowModel?this.infiniteRowModel.setRowCount(t,e):this.logMissingRowModel("setRowCount","infinite","serverSide")}onRowHeightChanged(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()}getValue(t,e){let n=this.columnModel.getPrimaryColumn(t);return hi(n)&&(n=this.columnModel.getGridColumn(t)),hi(n)?null:this.valueService.getValue(n,e)}addEventListener(t,e){this.apiEventService.addEventListener(t,e)}addGlobalListener(t){this.apiEventService.addGlobalListener(t)}removeEventListener(t,e){this.apiEventService.removeEventListener(t,e)}removeGlobalListener(t){this.apiEventService.removeGlobalListener(t)}dispatchEvent(t){this.eventService.dispatchEvent(t)}destroy(){const t=`See ${this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}`;if(this.destroyCalled)return;const e={type:W.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(e),this.destroyCalled=!0;const n=this.ctrlsService.getGridCtrl();n&&n.destroyGridUi(),this.context.destroy(),bL(this,["isDestroyed"],t)}isDestroyed(){return this.destroyCalled}resetQuickFilter(){this.filterManager.resetQuickFilterCache()}getCellRanges(){return this.rangeService?this.rangeService.getCellRanges():(Mr.__assertRegistered("@ag-grid-enterprise/range-selection","api.getCellRanges",this.context.getGridId()),null)}addCellRange(t){this.rangeService?this.rangeService.addCellRange(t):Mr.__assertRegistered("@ag-grid-enterprise/range-selection","api.addCellRange",this.context.getGridId())}clearRangeSelection(){this.rangeService&&this.rangeService.removeAllCellRanges(),Mr.__assertRegistered("@ag-grid-enterprise/range-selection","gridApi.clearRangeSelection",this.context.getGridId())}undoCellEditing(){this.undoRedoService.undo("api")}redoCellEditing(){this.undoRedoService.redo("api")}getCurrentUndoSize(){return this.undoRedoService.getCurrentUndoStackSize()}getCurrentRedoSize(){return this.undoRedoService.getCurrentRedoStackSize()}assertChart(t,e){if(Mr.__assertRegistered("@ag-grid-enterprise/charts","api."+t,this.context.getGridId()))return this.frameworkOverrides.wrapIncoming(()=>e())}getChartModels(){return this.assertChart("getChartModels",()=>this.chartService.getChartModels())}getChartRef(t){return this.assertChart("getChartRef",()=>this.chartService.getChartRef(t))}getChartImageDataURL(t){return this.assertChart("getChartImageDataURL",()=>this.chartService.getChartImageDataURL(t))}downloadChart(t){return this.assertChart("downloadChart",()=>this.chartService.downloadChart(t))}openChartToolPanel(t){return this.assertChart("openChartToolPanel",()=>this.chartService.openChartToolPanel(t))}closeChartToolPanel(t){return this.assertChart("closeChartToolPanel",()=>this.chartService.closeChartToolPanel(t.chartId))}createRangeChart(t){return this.assertChart("createRangeChart",()=>this.chartService.createRangeChart(t))}createPivotChart(t){return this.assertChart("createPivotChart",()=>this.chartService.createPivotChart(t))}createCrossFilterChart(t){return this.assertChart("createCrossFilterChart",()=>this.chartService.createCrossFilterChart(t))}updateChart(t){return this.assertChart("updateChart",()=>this.chartService.updateChart(t))}restoreChart(t,e){return this.assertChart("restoreChart",()=>this.chartService.restoreChart(t,e))}assertClipboard(t,e){Mr.__assertRegistered("@ag-grid-enterprise/clipboard","api"+t,this.context.getGridId())&&e()}copyToClipboard(t){this.assertClipboard("copyToClipboard",()=>this.clipboardService.copyToClipboard(t))}cutToClipboard(t){this.assertClipboard("cutToClipboard",()=>this.clipboardService.cutToClipboard(t))}copySelectedRowsToClipboard(t){this.assertClipboard("copySelectedRowsToClipboard",()=>this.clipboardService.copySelectedRowsToClipboard(t))}copySelectedRangeToClipboard(t){this.assertClipboard("copySelectedRangeToClipboard",()=>this.clipboardService.copySelectedRangeToClipboard(t))}copySelectedRangeDown(){this.assertClipboard("copySelectedRangeDown",()=>this.clipboardService.copyRangeDown())}pasteFromClipboard(){this.assertClipboard("pasteFromClipboard",()=>this.clipboardService.pasteFromClipboard())}showColumnMenuAfterButtonClick(t,e){ei("'showColumnMenuAfterButtonClick' is deprecated. Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere.");const n=this.columnModel.getGridColumn(t);this.menuService.showColumnMenu({column:n,buttonElement:e,positionBy:"button"})}showColumnMenuAfterMouseClick(t,e){ei("'showColumnMenuAfterMouseClick' is deprecated. Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere.");let n=this.columnModel.getGridColumn(t);n||(n=this.columnModel.getPrimaryColumn(t)),n?this.menuService.showColumnMenu({column:n,mouseEvent:e,positionBy:"mouse"}):console.error(`AG Grid: column '${t}' not found`)}showColumnChooser(t){this.menuService.showColumnChooser({chooserParams:t})}showColumnFilter(t){const e=this.columnModel.getGridColumn(t);e?this.menuService.showFilterMenu({column:e,containerType:"columnFilter",positionBy:"auto"}):console.error(`AG Grid: column '${t}' not found`)}showColumnMenu(t){const e=this.columnModel.getGridColumn(t);e?this.menuService.showColumnMenu({column:e,positionBy:"auto"}):console.error(`AG Grid: column '${t}' not found`)}hidePopupMenu(){this.menuService.hidePopupMenu()}hideColumnChooser(){this.menuService.hideColumnChooser()}tabToNextCell(t){return this.navigationService.tabToNextCell(!1,t)}tabToPreviousCell(t){return this.navigationService.tabToNextCell(!0,t)}getCellRendererInstances(t={}){return this.rowRenderer.getCellRendererInstances(t).map(Dw)}getCellEditorInstances(t={}){return this.rowRenderer.getCellEditorInstances(t).map(Dw)}getEditingCells(){return this.rowRenderer.getEditingCells()}stopEditing(t=!1){this.rowRenderer.stopEditing(t)}startEditingCell(t){const e=this.columnModel.getGridColumn(t.colKey);if(!e)return void console.warn(`AG Grid: no column found for ${t.colKey}`);const n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:e};null==t.rowPinned&&this.ensureIndexVisible(t.rowIndex),this.ensureColumnVisible(t.colKey);const r=this.navigationService.getCellByPosition(n);r&&(this.focusService.isCellFocused(n)||this.focusService.setFocusedCell(n),r.startRowOrCellEdit(t.key))}addAggFunc(t,e){this.logDeprecation("v31.1","addAggFunc(key, func)","addAggFuncs({ key: func })"),this.aggFuncService&&this.aggFuncService.addAggFuncs({key:e})}addAggFuncs(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)}clearAggFuncs(){this.aggFuncService&&this.aggFuncService.clear()}applyServerSideTransaction(t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(t);this.logMissingRowModel("applyServerSideTransaction","serverSide")}applyServerSideTransactionAsync(t,e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(t,e);this.logMissingRowModel("applyServerSideTransactionAsync","serverSide")}applyServerSideRowData(t){var e,n;const i=null!=(e=t.startRow)?e:0,r=null!=(n=t.route)?n:[];i<0?console.warn(`AG Grid: invalid value ${t.startRow} for startRow, the value should be >= 0`):this.serverSideRowModel?this.serverSideRowModel.applyRowData(t.successParams,i,r):this.logMissingRowModel("setServerSideDatasource","serverSide")}retryServerSideLoads(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():this.logMissingRowModel("retryServerSideLoads","serverSide")}flushServerSideAsyncTransactions(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide")}applyTransaction(t){if(this.clientSideRowModel)return this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.updateRowData(t));this.logMissingRowModel("applyTransaction","clientSide")}applyTransactionAsync(t,e){this.clientSideRowModel?this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.batchUpdateRowData(t,e)):this.logMissingRowModel("applyTransactionAsync","clientSide")}flushAsyncTransactions(){this.clientSideRowModel?this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.flushAsyncTransactions()):this.logMissingRowModel("flushAsyncTransactions","clientSide")}refreshInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")}purgeInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")}refreshServerSide(t){this.serverSideRowModel?this.serverSideRowModel.refreshStore(t):this.logMissingRowModel("refreshServerSide","serverSide")}getServerSideGroupLevelState(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])}getInfiniteRowCount(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")}isLastRowIndexKnown(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")}getCacheBlockState(){return this.rowNodeBlockLoader.getBlockState()}getFirstDisplayedRow(){return this.logDeprecation("v31.1","getFirstDisplayedRow","getFirstDisplayedRowIndex"),this.getFirstDisplayedRowIndex()}getFirstDisplayedRowIndex(){return this.rowRenderer.getFirstVirtualRenderedRow()}getLastDisplayedRow(){return this.logDeprecation("v31.1","getLastDisplayedRow","getLastDisplayedRowIndex"),this.getLastDisplayedRowIndex()}getLastDisplayedRowIndex(){return this.rowRenderer.getLastVirtualRenderedRow()}getDisplayedRowAtIndex(t){return this.rowModel.getRow(t)}getDisplayedRowCount(){return this.rowModel.getRowCount()}paginationIsLastPageFound(){return this.paginationProxy.isLastPageFound()}paginationGetPageSize(){return this.paginationProxy.getPageSize()}paginationGetCurrentPage(){return this.paginationProxy.getCurrentPage()}paginationGetTotalPages(){return this.paginationProxy.getTotalPages()}paginationGetRowCount(){return this.paginationProxy.getMasterRowCount()}paginationGoToNextPage(){this.paginationProxy.goToNextPage()}paginationGoToPreviousPage(){this.paginationProxy.goToPreviousPage()}paginationGoToFirstPage(){this.paginationProxy.goToFirstPage()}paginationGoToLastPage(){this.paginationProxy.goToLastPage()}paginationGoToPage(t){this.paginationProxy.goToPage(t)}sizeColumnsToFit(t){"number"==typeof t?this.columnModel.sizeColumnsToFit(t,"api"):this.gridBodyCtrl.sizeColumnsToFit(t)}setColumnGroupOpened(t,e){this.columnModel.setColumnGroupOpened(t,e,"api")}getColumnGroup(t,e){return this.columnModel.getColumnGroup(t,e)}getProvidedColumnGroup(t){return this.columnModel.getProvidedColumnGroup(t)}getDisplayNameForColumn(t,e){return this.columnModel.getDisplayNameForColumn(t,e)||""}getDisplayNameForColumnGroup(t,e){return this.columnModel.getDisplayNameForColumnGroup(t,e)||""}getColumn(t){return this.columnModel.getPrimaryColumn(t)}getColumns(){return this.columnModel.getAllPrimaryColumns()}applyColumnState(t){return this.columnModel.applyColumnState(t,"api")}getColumnState(){return this.columnModel.getColumnState()}resetColumnState(){this.columnModel.resetColumnState("api")}getColumnGroupState(){return this.columnModel.getColumnGroupState()}setColumnGroupState(t){this.columnModel.setColumnGroupState(t,"api")}resetColumnGroupState(){this.columnModel.resetColumnGroupState("api")}isPinning(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()}isPinningLeft(){return this.columnModel.isPinningLeft()}isPinningRight(){return this.columnModel.isPinningRight()}getDisplayedColAfter(t){return this.columnModel.getDisplayedColAfter(t)}getDisplayedColBefore(t){return this.columnModel.getDisplayedColBefore(t)}setColumnVisible(t,e){this.logDeprecation("v31.1","setColumnVisible(key,visible)","setColumnsVisible([key],visible)"),this.columnModel.setColumnsVisible([t],e,"api")}setColumnsVisible(t,e){this.columnModel.setColumnsVisible(t,e,"api")}setColumnPinned(t,e){this.logDeprecation("v31.1","setColumnPinned(key,pinned)","setColumnsPinned([key],pinned)"),this.columnModel.setColumnsPinned([t],e,"api")}setColumnsPinned(t,e){this.columnModel.setColumnsPinned(t,e,"api")}getAllGridColumns(){return this.columnModel.getAllGridColumns()}getDisplayedLeftColumns(){return this.columnModel.getDisplayedLeftColumns()}getDisplayedCenterColumns(){return this.columnModel.getDisplayedCenterColumns()}getDisplayedRightColumns(){return this.columnModel.getDisplayedRightColumns()}getAllDisplayedColumns(){return this.columnModel.getAllDisplayedColumns()}getAllDisplayedVirtualColumns(){return this.columnModel.getViewportColumns()}moveColumn(t,e){this.logDeprecation("v31.1","moveColumn(key, toIndex)","moveColumns([key], toIndex)"),this.columnModel.moveColumns([t],e,"api")}moveColumnByIndex(t,e){this.columnModel.moveColumnByIndex(t,e,"api")}moveColumns(t,e){this.columnModel.moveColumns(t,e,"api")}moveRowGroupColumn(t,e){this.columnModel.moveRowGroupColumn(t,e,"api")}setColumnAggFunc(t,e){this.columnModel.setColumnAggFunc(t,e,"api")}setColumnWidth(t,e,n=!0,i="api"){this.logDeprecation("v31.1","setColumnWidth(col, width)","setColumnWidths([{key: col, newWidth: width}])"),this.columnModel.setColumnWidths([{key:t,newWidth:e}],!1,n,i)}setColumnWidths(t,e=!0,n="api"){this.columnModel.setColumnWidths(t,!1,e,n)}isPivotMode(){return this.columnModel.isPivotMode()}getPivotResultColumn(t,e){return this.columnModel.getSecondaryPivotColumn(t,e)}setValueColumns(t){this.columnModel.setValueColumns(t,"api")}getValueColumns(){return this.columnModel.getValueColumns()}removeValueColumn(t){this.logDeprecation("v31.1","removeValueColumn(colKey)","removeValueColumns([colKey])"),this.columnModel.removeValueColumns([t],"api")}removeValueColumns(t){this.columnModel.removeValueColumns(t,"api")}addValueColumn(t){this.logDeprecation("v31.1","addValueColumn(colKey)","addValueColumns([colKey])"),this.columnModel.addValueColumns([t],"api")}addValueColumns(t){this.columnModel.addValueColumns(t,"api")}setRowGroupColumns(t){this.columnModel.setRowGroupColumns(t,"api")}removeRowGroupColumn(t){this.logDeprecation("v31.1","removeRowGroupColumn(colKey)","removeRowGroupColumns([colKey])"),this.columnModel.removeRowGroupColumns([t],"api")}removeRowGroupColumns(t){this.columnModel.removeRowGroupColumns(t,"api")}addRowGroupColumn(t){this.logDeprecation("v31.1","addRowGroupColumn(colKey)","addRowGroupColumns([colKey])"),this.columnModel.addRowGroupColumns([t],"api")}addRowGroupColumns(t){this.columnModel.addRowGroupColumns(t,"api")}getRowGroupColumns(){return this.columnModel.getRowGroupColumns()}setPivotColumns(t){this.columnModel.setPivotColumns(t,"api")}removePivotColumn(t){this.logDeprecation("v31.1","removePivotColumn(colKey)","removePivotColumns([colKey])"),this.columnModel.removePivotColumns([t],"api")}removePivotColumns(t){this.columnModel.removePivotColumns(t,"api")}addPivotColumn(t){this.logDeprecation("v31.1","addPivotColumn(colKey)","addPivotColumns([colKey])"),this.columnModel.addPivotColumns([t],"api")}addPivotColumns(t){this.columnModel.addPivotColumns(t,"api")}getPivotColumns(){return this.columnModel.getPivotColumns()}getLeftDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeLeft()}getCenterDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeCentre()}getRightDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeRight()}getAllDisplayedColumnGroups(){return this.columnModel.getAllDisplayedTrees()}autoSizeColumn(t,e){return this.logDeprecation("v31.1","autoSizeColumn(key, skipHeader)","autoSizeColumns([key], skipHeader)"),this.columnModel.autoSizeColumns({columns:[t],skipHeader:e,source:"api"})}autoSizeColumns(t,e){this.columnModel.autoSizeColumns({columns:t,skipHeader:e,source:"api"})}autoSizeAllColumns(t){this.columnModel.autoSizeAllColumns("api",t)}setPivotResultColumns(t){this.columnModel.setSecondaryColumns(t,"api")}getPivotResultColumns(){return this.columnModel.getSecondaryColumns()}getState(){return this.stateService.getState()}getGridOption(t){return this.gos.get(t)}setGridOption(t,e){this.updateGridOptions({[t]:e})}updateGridOptions(t){this.gos.updateGridOptions({options:t})}__internalUpdateGridOptions(t){this.gos.updateGridOptions({options:t,source:"gridOptionsUpdated"})}deprecatedUpdateGridOption(t,e){ei(`set${t.charAt(0).toUpperCase()}${t.slice(1,t.length)} is deprecated. Please use 'api.setGridOption('${t}', newValue)' or 'api.updateGridOptions({ ${t}: newValue })' instead.`),this.setGridOption(t,e)}setPivotMode(t){this.deprecatedUpdateGridOption("pivotMode",t)}setPinnedTopRowData(t){this.deprecatedUpdateGridOption("pinnedTopRowData",t)}setPinnedBottomRowData(t){this.deprecatedUpdateGridOption("pinnedBottomRowData",t)}setPopupParent(t){this.deprecatedUpdateGridOption("popupParent",t)}setSuppressModelUpdateAfterUpdateTransaction(t){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",t)}setDataTypeDefinitions(t){this.deprecatedUpdateGridOption("dataTypeDefinitions",t)}setPagination(t){this.deprecatedUpdateGridOption("pagination",t)}paginationSetPageSize(t){this.deprecatedUpdateGridOption("paginationPageSize",t)}setSideBar(t){this.deprecatedUpdateGridOption("sideBar",t)}setSuppressClipboardPaste(t){this.deprecatedUpdateGridOption("suppressClipboardPaste",t)}setGroupRemoveSingleChildren(t){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",t)}setGroupRemoveLowestSingleChildren(t){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",t)}setGroupDisplayType(t){this.deprecatedUpdateGridOption("groupDisplayType",t)}setGroupIncludeFooter(t){this.deprecatedUpdateGridOption("groupIncludeFooter",t)}setGroupIncludeTotalFooter(t){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",t)}setRowClass(t){this.deprecatedUpdateGridOption("rowClass",t)}setDeltaSort(t){this.deprecatedUpdateGridOption("deltaSort",t)}setSuppressRowDrag(t){this.deprecatedUpdateGridOption("suppressRowDrag",t)}setSuppressMoveWhenRowDragging(t){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",t)}setSuppressRowClickSelection(t){this.deprecatedUpdateGridOption("suppressRowClickSelection",t)}setEnableAdvancedFilter(t){this.deprecatedUpdateGridOption("enableAdvancedFilter",t)}setIncludeHiddenColumnsInAdvancedFilter(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",t)}setAdvancedFilterParent(t){this.deprecatedUpdateGridOption("advancedFilterParent",t)}setAdvancedFilterBuilderParams(t){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",t)}setQuickFilter(t){ei("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:t}})}setExcludeHiddenColumnsFromQuickFilter(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!t)}setIncludeHiddenColumnsInQuickFilter(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",t)}setQuickFilterParser(t){this.deprecatedUpdateGridOption("quickFilterParser",t)}setQuickFilterMatcher(t){this.deprecatedUpdateGridOption("quickFilterMatcher",t)}setAlwaysShowHorizontalScroll(t){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",t)}setAlwaysShowVerticalScroll(t){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",t)}setFunctionsReadOnly(t){this.deprecatedUpdateGridOption("functionsReadOnly",t)}setColumnDefs(t,e="api"){ei("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:t},source:e})}setAutoGroupColumnDef(t,e="api"){ei("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:t},source:e})}setDefaultColDef(t,e="api"){ei("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:t},source:e})}setColumnTypes(t,e="api"){ei("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:t},source:e})}setTreeData(t){this.deprecatedUpdateGridOption("treeData",t)}setServerSideDatasource(t){this.deprecatedUpdateGridOption("serverSideDatasource",t)}setCacheBlockSize(t){this.deprecatedUpdateGridOption("cacheBlockSize",t)}setDatasource(t){this.deprecatedUpdateGridOption("datasource",t)}setViewportDatasource(t){this.deprecatedUpdateGridOption("viewportDatasource",t)}setRowData(t){this.deprecatedUpdateGridOption("rowData",t)}setEnableCellTextSelection(t){this.deprecatedUpdateGridOption("enableCellTextSelection",t)}setHeaderHeight(t){this.deprecatedUpdateGridOption("headerHeight",t)}setDomLayout(t){this.deprecatedUpdateGridOption("domLayout",t)}setFillHandleDirection(t){this.deprecatedUpdateGridOption("fillHandleDirection",t)}setGroupHeaderHeight(t){this.deprecatedUpdateGridOption("groupHeaderHeight",t)}setFloatingFiltersHeight(t){this.deprecatedUpdateGridOption("floatingFiltersHeight",t)}setPivotHeaderHeight(t){this.deprecatedUpdateGridOption("pivotHeaderHeight",t)}setPivotGroupHeaderHeight(t){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",t)}setAnimateRows(t){this.deprecatedUpdateGridOption("animateRows",t)}setIsExternalFilterPresent(t){this.deprecatedUpdateGridOption("isExternalFilterPresent",t)}setDoesExternalFilterPass(t){this.deprecatedUpdateGridOption("doesExternalFilterPass",t)}setNavigateToNextCell(t){this.deprecatedUpdateGridOption("navigateToNextCell",t)}setTabToNextCell(t){this.deprecatedUpdateGridOption("tabToNextCell",t)}setTabToNextHeader(t){this.deprecatedUpdateGridOption("tabToNextHeader",t)}setNavigateToNextHeader(t){this.deprecatedUpdateGridOption("navigateToNextHeader",t)}setRowGroupPanelShow(t){this.deprecatedUpdateGridOption("rowGroupPanelShow",t)}setGetGroupRowAgg(t){this.deprecatedUpdateGridOption("getGroupRowAgg",t)}setGetBusinessKeyForNode(t){this.deprecatedUpdateGridOption("getBusinessKeyForNode",t)}setGetChildCount(t){this.deprecatedUpdateGridOption("getChildCount",t)}setProcessRowPostCreate(t){this.deprecatedUpdateGridOption("processRowPostCreate",t)}setGetRowId(t){ei("getRowId is a static property and can no longer be updated.")}setGetRowClass(t){this.deprecatedUpdateGridOption("getRowClass",t)}setIsFullWidthRow(t){this.deprecatedUpdateGridOption("isFullWidthRow",t)}setIsRowSelectable(t){this.deprecatedUpdateGridOption("isRowSelectable",t)}setIsRowMaster(t){this.deprecatedUpdateGridOption("isRowMaster",t)}setPostSortRows(t){this.deprecatedUpdateGridOption("postSortRows",t)}setGetDocument(t){this.deprecatedUpdateGridOption("getDocument",t)}setGetContextMenuItems(t){this.deprecatedUpdateGridOption("getContextMenuItems",t)}setGetMainMenuItems(t){this.deprecatedUpdateGridOption("getMainMenuItems",t)}setProcessCellForClipboard(t){this.deprecatedUpdateGridOption("processCellForClipboard",t)}setSendToClipboard(t){this.deprecatedUpdateGridOption("sendToClipboard",t)}setProcessCellFromClipboard(t){this.deprecatedUpdateGridOption("processCellFromClipboard",t)}setProcessPivotResultColDef(t){this.deprecatedUpdateGridOption("processPivotResultColDef",t)}setProcessPivotResultColGroupDef(t){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",t)}setPostProcessPopup(t){this.deprecatedUpdateGridOption("postProcessPopup",t)}setInitialGroupOrderComparator(t){this.deprecatedUpdateGridOption("initialGroupOrderComparator",t)}setGetChartToolbarItems(t){this.deprecatedUpdateGridOption("getChartToolbarItems",t)}setPaginationNumberFormatter(t){this.deprecatedUpdateGridOption("paginationNumberFormatter",t)}setGetServerSideGroupLevelParams(t){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",t)}setIsServerSideGroupOpenByDefault(t){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",t)}setIsApplyServerSideTransaction(t){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",t)}setIsServerSideGroup(t){this.deprecatedUpdateGridOption("isServerSideGroup",t)}setGetServerSideGroupKey(t){this.deprecatedUpdateGridOption("getServerSideGroupKey",t)}setGetRowStyle(t){this.deprecatedUpdateGridOption("getRowStyle",t)}setGetRowHeight(t){this.deprecatedUpdateGridOption("getRowHeight",t)}};N([lr("csvCreator")],Qi.prototype,"csvCreator",2),N([lr("excelCreator")],Qi.prototype,"excelCreator",2),N([Y("rowRenderer")],Qi.prototype,"rowRenderer",2),N([Y("navigationService")],Qi.prototype,"navigationService",2),N([Y("filterManager")],Qi.prototype,"filterManager",2),N([Y("columnModel")],Qi.prototype,"columnModel",2),N([Y("selectionService")],Qi.prototype,"selectionService",2),N([Y("gridOptionsService")],Qi.prototype,"gos",2),N([Y("valueService")],Qi.prototype,"valueService",2),N([Y("alignedGridsService")],Qi.prototype,"alignedGridsService",2),N([Y("eventService")],Qi.prototype,"eventService",2),N([Y("pinnedRowModel")],Qi.prototype,"pinnedRowModel",2),N([Y("context")],Qi.prototype,"context",2),N([Y("rowModel")],Qi.prototype,"rowModel",2),N([Y("sortController")],Qi.prototype,"sortController",2),N([Y("paginationProxy")],Qi.prototype,"paginationProxy",2),N([Y("focusService")],Qi.prototype,"focusService",2),N([Y("dragAndDropService")],Qi.prototype,"dragAndDropService",2),N([lr("rangeService")],Qi.prototype,"rangeService",2),N([lr("clipboardService")],Qi.prototype,"clipboardService",2),N([lr("aggFuncService")],Qi.prototype,"aggFuncService",2),N([Y("menuService")],Qi.prototype,"menuService",2),N([Y("valueCache")],Qi.prototype,"valueCache",2),N([Y("animationFrameService")],Qi.prototype,"animationFrameService",2),N([lr("statusBarService")],Qi.prototype,"statusBarService",2),N([lr("chartService")],Qi.prototype,"chartService",2),N([lr("undoRedoService")],Qi.prototype,"undoRedoService",2),N([lr("rowNodeBlockLoader")],Qi.prototype,"rowNodeBlockLoader",2),N([lr("ssrmTransactionManager")],Qi.prototype,"serverSideTransactionManager",2),N([Y("ctrlsService")],Qi.prototype,"ctrlsService",2),N([Y("overlayService")],Qi.prototype,"overlayService",2),N([lr("sideBarService")],Qi.prototype,"sideBarService",2),N([Y("stateService")],Qi.prototype,"stateService",2),N([Y("expansionService")],Qi.prototype,"expansionService",2),N([Y("apiEventService")],Qi.prototype,"apiEventService",2),N([Y("frameworkOverrides")],Qi.prototype,"frameworkOverrides",2),N([nn],Qi.prototype,"init",1),Qi=N([bn("gridApi")],Qi);var Au=class extends Jt{constructor(){super(...arguments),this.quickFilter=null,this.quickFilterParts=null}postConstruct(){this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VISIBLE,()=>{this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",t=>this.setQuickFilter(t.currentValue)),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",()=>this.onIncludeHiddenColumnsInQuickFilterChanged()),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}isQuickFilterPresent(){return null!==this.quickFilter}doesRowPassQuickFilter(t){const e=this.gridOptionsService.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(e,t):this.quickFilterParts.every(n=>e?this.doesRowPassQuickFilterCache(t,n):this.doesRowPassQuickFilterNoCache(t,n))}resetQuickFilterCache(){this.rowModel.forEachNode(t=>t.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:t,parser:e}=this;this.quickFilterParts=t?e?e(t):t.split(" "):null}parseQuickFilter(t){return $t(t)?this.gridOptionsService.isRowModelType("clientSide")?t.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(t){if(null!=t&&"string"!=typeof t)return void console.warn("AG Grid - Grid option quickFilterText only supports string inputs, received: "+typeof t);const e=this.parseQuickFilter(t);this.quickFilter!==e&&(this.quickFilter=e,this.setQuickFilterParts(),this.dispatchEvent({type:Au.EVENT_QUICK_FILTER_CHANGED}))}setQuickFilterParserAndMatcher(){const t=this.gridOptionsService.get("quickFilterParser"),e=this.gridOptionsService.get("quickFilterMatcher"),n=t!==this.parser||e!==this.matcher;this.parser=t,this.matcher=e,n&&(this.setQuickFilterParts(),this.dispatchEvent({type:Au.EVENT_QUICK_FILTER_CHANGED}))}onIncludeHiddenColumnsInQuickFilterChanged(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:Au.EVENT_QUICK_FILTER_CHANGED})}doesRowPassQuickFilterNoCache(t,e){return this.columnModel.getAllColumnsForQuickFilter().some(i=>{const r=this.getQuickFilterTextForColumn(i,t);return $t(r)&&r.indexOf(e)>=0})}doesRowPassQuickFilterCache(t,e){return this.checkGenerateQuickFilterAggregateText(t),t.quickFilterAggregateText.indexOf(e)>=0}doesRowPassQuickFilterMatcher(t,e){let n;t?(this.checkGenerateQuickFilterAggregateText(e),n=e.quickFilterAggregateText):n=this.getQuickFilterAggregateText(e);const{quickFilterParts:i,matcher:r}=this;return r(i,n)}checkGenerateQuickFilterAggregateText(t){t.quickFilterAggregateText||(t.quickFilterAggregateText=this.getQuickFilterAggregateText(t))}getQuickFilterTextForColumn(t,e){let n=this.valueService.getValue(t,e,!0);const i=t.getColDef();if(i.getQuickFilterText){const r=this.gridOptionsService.addGridCommonParams({value:n,node:e,data:e.data,column:t,colDef:i});n=i.getQuickFilterText(r)}return $t(n)?n.toString().toUpperCase():null}getQuickFilterAggregateText(t){const e=[];return this.columnModel.getAllColumnsForQuickFilter().forEach(i=>{const r=this.getQuickFilterTextForColumn(i,t);$t(r)&&e.push(r)}),e.join(Au.QUICK_FILTER_SEPARATOR)}};Au.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged",Au.QUICK_FILTER_SEPARATOR="\n",N([Y("valueService")],Au.prototype,"valueService",2),N([Y("columnModel")],Au.prototype,"columnModel",2),N([Y("rowModel")],Au.prototype,"rowModel",2),N([nn],Au.prototype,"postConstruct",1),Au=N([bn("quickFilterService")],Au);var ch=class extends Jt{constructor(){super(...arguments),this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue=[]}init(){var t,e,n;this.addManagedListener(this.eventService,W.EVENT_GRID_COLUMNS_CHANGED,()=>this.onColumnsChanged()),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VALUE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VISIBLE,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,W.EVENT_ROW_DATA_UPDATED,()=>this.onNewRowsLoaded("rowDataUpdated")),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",i=>this.setAdvancedFilterModel(i.currentValue)),this.addManagedListener(this.eventService,W.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,({enabled:i})=>this.onAdvancedFilterEnabledChanged(i)),this.addManagedListener(this.eventService,W.EVENT_DATA_TYPES_INFERRED,()=>this.processFilterModelUpdateQueue()),this.addManagedListener(this.quickFilterService,Au.EVENT_QUICK_FILTER_CHANGED,()=>this.onFilterChanged({source:"quickFilter"})),this.initialFilterModel=Yn({},null!=(n=null==(e=null==(t=this.gridOptionsService.get("initialState"))?void 0:t.filter)?void 0:e.filterModel)?n:{})}isExternalFilterPresentCallback(){const t=this.gridOptionsService.getCallback("isExternalFilterPresent");return"function"==typeof t&&t({})}doesExternalFilterPass(t){const e=this.gridOptionsService.get("doesExternalFilterPass");return"function"==typeof e&&e(t)}setFilterModel(t,e="api"){if(this.isAdvancedFilterEnabled())return void this.warnAdvancedFilters();if(this.dataTypeService.isPendingInference())return void this.filterModelUpdateQueue.push({model:t,source:e});const n=[],i=this.getFilterModel();if(t){const r=f3(Object.keys(t));this.allColumnFilters.forEach((s,o)=>{n.push(this.setModelOnFilterWrapper(s.filterPromise,t[o])),r.delete(o)}),r.forEach(s=>{const o=this.columnModel.getPrimaryColumn(s)||this.columnModel.getGridColumn(s);if(!o)return void console.warn("AG Grid: setFilterModel() - no column found for colId: "+s);if(!o.isFilterAllowed())return void console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+s);const c=this.getOrCreateFilterWrapper(o,"NO_UI");c?n.push(this.setModelOnFilterWrapper(c.filterPromise,t[s])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+s)})}else this.allColumnFilters.forEach(r=>{n.push(this.setModelOnFilterWrapper(r.filterPromise,null))});Tu.all(n).then(()=>{const r=this.getFilterModel(),s=[];this.allColumnFilters.forEach((o,c)=>{$i.jsonEquals(i?i[c]:null,r?r[c]:null)||s.push(o.column)}),s.length>0&&this.onFilterChanged({columns:s,source:e})})}setModelOnFilterWrapper(t,e){return new Tu(n=>{t.then(i=>{"function"!=typeof i.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),n()),(i.setModel(e)||Tu.resolve()).then(()=>n())})})}getFilterModel(){const t={};return this.allColumnFilters.forEach((e,n)=>{const i=this.getModelFromFilterWrapper(e);$t(i)&&(t[n]=i)}),t}getModelFromFilterWrapper(t){var e;const i=t.filterPromise.resolveNow(null,r=>r);return null==i?null!=(e=this.initialFilterModel[t.column.getColId()])?e:null:"function"!=typeof i.getModel?(console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel"),null):i.getModel()}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(t){var e;t?this.allColumnFilters.size&&(this.allColumnFilters.forEach(n=>this.disposeFilterWrapper(n,"advancedFilterEnabled")),this.onFilterChanged({source:"advancedFilter"})):null!=(e=this.advancedFilterService)&&e.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var t;return!(null==(t=this.advancedFilterService)||!t.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}doAggregateFiltersPass(t,e){return this.doColumnFiltersPass(t,e,!0)}updateActiveFilters(){this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;const t=i=>!!i&&(i.isFilterActive?i.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1)),e=!!this.gridOptionsService.getGroupAggFiltering(),n=i=>{if(!i.isPrimary())return!0;const s=!this.columnModel.isPivotActive();return!(!i.isValueActive()||!s)&&(!!this.columnModel.isPivotMode()||e)};this.allColumnFilters.forEach(i=>{if(i.filterPromise.resolveNow(!1,t)){const r=i.filterPromise.resolveNow(null,s=>s);n(i.column)?this.activeAggregateFilters.push(r):this.activeColumnFilters.push(r)}})}updateFilterFlagInColumns(t,e){this.allColumnFilters.forEach(n=>{const i=n.filterPromise.resolveNow(!1,r=>r.isFilterActive());n.column.setFilterActive(i,t,e)})}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}doColumnFiltersPass(t,e,n){const{data:i,aggData:r}=t,s=n?this.activeAggregateFilters:this.activeColumnFilters,o=n?r:i;for(let c=0;c<s.length;c++){const d=s[c];if(null!=d&&d!==e){if("function"!=typeof d.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!d.doesFilterPass({node:t,data:o}))return!1}}return!0}resetQuickFilterCache(){this.quickFilterService.resetQuickFilterCache()}refreshFiltersForAggregations(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()}callOnFilterChangedOutsideRenderCycle(t){const e=()=>this.onFilterChanged(t);this.rowRenderer.isRefreshInProgress()?setTimeout(e,0):e()}onFilterChanged(t={}){const{source:e,filterInstance:n,additionalEventAttributes:i,columns:r}=t;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",i),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(o=>{o.filterPromise&&o.filterPromise.then(c=>{c&&c!==n&&c.onAnyFilterChanged&&c.onAnyFilterChanged()})});const s={source:e,type:W.EVENT_FILTER_CHANGED,columns:r||[]};i&&Kl(s,i),this.processingFilterChange=!0,this.eventService.dispatchEvent(s),this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){var t;return!(null!=(t=this.gridOptionsService.get("allowShowChangeAfterFilter"))&&t)&&this.processingFilterChange}isQuickFilterPresent(){return this.quickFilterService.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())}doesRowPassOtherFilters(t,e){return this.doesRowPassFilter({rowNode:e,filterInstanceToSkip:t})}doesRowPassAggregateFilters(t){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(t.rowNode,t.filterInstanceToSkip))}doesRowPassFilter(t){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(t.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(t.rowNode,t.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(t.rowNode))}onNewRowsLoaded(t){this.allColumnFilters.forEach(e=>{e.filterPromise.then(n=>{n.onNewRowsLoaded&&n.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(t,{afterDataChange:!0}),this.updateActiveFilters()}createValueGetter(t){return({node:e})=>this.valueService.getValue(t,e,!0)}createGetValue(t){return(e,n)=>{const i=n?this.columnModel.getGridColumn(n):t;return i?this.valueService.getValue(i,e,!0):void 0}}getFilterComponent(t,e,n=!0){var i;if(n)return(null==(i=this.getOrCreateFilterWrapper(t,e))?void 0:i.filterPromise)||null;const r=this.cachedFilter(t);return r?r.filterPromise:null}isFilterActive(t){const e=this.cachedFilter(t);return!!e&&e.filterPromise.resolveNow(!1,n=>n.isFilterActive())}getOrCreateFilterWrapper(t,e){if(!t.isFilterAllowed())return null;let n=this.cachedFilter(t);return n?"NO_UI"!==e&&this.putIntoGui(n,e):(n=this.createFilterWrapper(t,e),this.setColumnFilterWrapper(t,n)),n}cachedFilter(t){return this.allColumnFilters.get(t.getColId())}getDefaultFilter(t){let e;if(Mr.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))e="agSetColumnFilter";else{const n=this.dataTypeService.getBaseDataType(t);e="number"===n?"agNumberColumnFilter":"date"===n||"dateString"===n?"agDateColumnFilter":"agTextColumnFilter"}return e}getDefaultFloatingFilter(t){let e;if(Mr.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))e="agSetColumnFloatingFilter";else{const n=this.dataTypeService.getBaseDataType(t);e="number"===n?"agNumberColumnFloatingFilter":"date"===n||"dateString"===n?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return e}createFilterInstance(t){const e=this.getDefaultFilter(t),n=t.getColDef();let i;const r=ms(Yn({},this.createFilterParams(t,n)),{filterModifiedCallback:()=>this.filterModifiedCallbackFactory(i,t)(),filterChangedCallback:o=>this.filterChangedCallbackFactory(i,t)(o),doesRowPassOtherFilter:o=>this.doesRowPassOtherFilters(i,o)}),s=this.userComponentFactory.getFilterDetails(n,r,e);return s?{filterPromise:()=>{const o=s.newAgStackInstance();return o&&o.then(c=>i=c),o},compDetails:s}:{filterPromise:null,compDetails:null}}createFilterParams(t,e){return this.gridOptionsService.addGridCommonParams({column:t,colDef:Lx(e),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(t),getValue:this.createGetValue(t),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(t,e){var n;const i={column:t,filterPromise:null,compiledElement:null,guiPromise:Tu.resolve(null),compDetails:null},{filterPromise:r,compDetails:s}=this.createFilterInstance(t);return i.filterPromise=null!=(n=r?.())?n:null,i.compDetails=s,r&&this.putIntoGui(i,e),i}putIntoGui(t,e){const n=document.createElement("div");n.className="ag-filter",t.guiPromise=new Tu(i=>{t.filterPromise.then(r=>{let s=r.getGui();$t(s)||console.warn(`AG Grid: getGui method from filter returned ${s}, it should be a DOM element or an HTML template string.`),"string"==typeof s&&(s=Iu(s)),n.appendChild(s),i(n),this.eventService.dispatchEvent({type:W.EVENT_FILTER_OPENED,column:t.column,source:e,eGui:n})})})}onColumnsChanged(){const t=[];this.allColumnFilters.forEach((e,n)=>{let i;i=e.column.isPrimary()?this.columnModel.getPrimaryColumn(n):this.columnModel.getGridColumn(n),!i&&(t.push(e.column),this.disposeFilterWrapper(e,"columnChanged"),this.disposeColumnListener(n))}),t.length>0?this.onFilterChanged({columns:t,source:"api"}):this.updateDependantFilters()}updateDependantFilters(){const t=this.columnModel.getGroupAutoColumns();t?.forEach(e=>{"agGroupColumnFilter"===e.getColDef().filter&&this.getOrCreateFilterWrapper(e,"NO_UI")})}isFilterAllowed(t){var e,n;if(this.isAdvancedFilterEnabled()||!t.isFilterAllowed())return!1;const r=this.allColumnFilters.get(t.getColId());return null==(n=null==(e=r?.filterPromise)?void 0:e.resolveNow(!0,s=>"function"!=typeof s?.isFilterAllowed||s?.isFilterAllowed()))||n}getFloatingFilterCompDetails(t,e){const n=d=>{const p=this.getFilterComponent(t,"NO_UI");p?.then(m=>{d(Dw(m))})},i=t.getColDef(),r=ms(Yn({},this.createFilterParams(t,i)),{filterChangedCallback:()=>n(d=>this.filterChangedCallbackFactory(d,t)())}),s=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(i,T3,r);let o=this.userComponentFactory.getDefaultFloatingFilterType(i,()=>this.getDefaultFloatingFilter(t));return null==o&&(o="agReadOnlyFloatingFilter"),this.userComponentFactory.getFloatingFilterCompDetails(i,{column:t,filterParams:s,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(t),parentFilterInstance:n,showParentFilter:e,suppressFilterButton:!1},o)}getCurrentFloatingFilterParentModel(t){const e=this.getFilterComponent(t,"NO_UI",!1);return e?e.resolveNow(null,n=>n&&n.getModel()):null}destroyFilter(t,e="api"){const n=t.getColId(),i=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialFilterModel[n],i&&(this.disposeFilterWrapper(i,e),this.onFilterChanged({columns:[t],source:"api"}))}disposeColumnListener(t){const e=this.allColumnListeners.get(t);e&&(this.allColumnListeners.delete(t),e())}disposeFilterWrapper(t,e){t.filterPromise.then(n=>{this.getContext().destroyBean(n),t.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(t.column.getColId()),this.eventService.dispatchEvent({type:W.EVENT_FILTER_DESTROYED,source:e,column:t.column})})}filterModifiedCallbackFactory(t,e){return()=>{this.eventService.dispatchEvent({type:W.EVENT_FILTER_MODIFIED,column:e,filterInstance:t})}}filterChangedCallbackFactory(t,e){return n=>{var i;const r=null!=(i=n?.source)?i:"api";this.callOnFilterChangedOutsideRenderCycle({filter:t,additionalEventAttributes:n,columns:[e],source:r})}}checkDestroyFilter(t){const e=this.allColumnFilters.get(t);if(!e)return;const n=e.column,{compDetails:i}=n.isFilterAllowed()?this.createFilterInstance(n):{compDetails:null};if(this.areFilterCompsDifferent(e.compDetails,i))return void this.destroyFilter(n,"paramsUpdated");const r=n.getColDef().filterParams;e.filterPromise?e.filterPromise.then(s=>{!1===(!s?.refresh||s.refresh(Yn(ms(Yn({},this.createFilterParams(n,n.getColDef())),{filterModifiedCallback:this.filterModifiedCallbackFactory(s,n),filterChangedCallback:this.filterChangedCallbackFactory(s,n),doesRowPassOtherFilter:c=>this.doesRowPassOtherFilters(s,c)}),r)))&&this.destroyFilter(n,"paramsUpdated")}):this.destroyFilter(n,"paramsUpdated")}setColumnFilterWrapper(t,e){const n=t.getColId();this.allColumnFilters.set(n,e),this.allColumnListeners.set(n,this.addManagedListener(t,f.EVENT_COL_DEF_CHANGED,()=>this.checkDestroyFilter(n)))}areFilterCompsDifferent(t,e){if(!e||!t)return!0;const{componentClass:n}=t,{componentClass:i}=e;return!(n===i||n?.render&&i?.render&&n.render===i.render)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(t){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService.isPendingInference())return void this.advancedFilterModelUpdateQueue.push(t);this.advancedFilterService.setModel(t??null),this.onFilterChanged({source:"advancedFilter"})}}showAdvancedFilterBuilder(t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(t,!0)}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return!this.isAdvancedFilterEnabled()&&this.columnModel.getAllGridColumns().some(e=>e.getColDef().floatingFilter)}getFilterInstance(t,e){if(this.isAdvancedFilterEnabled())return void this.warnAdvancedFilters();const n=this.getFilterInstanceImpl(t,r=>{if(!e)return;const s=Dw(r);e(s)});return Dw(n)}getColumnFilterInstance(t){return new Promise(e=>{this.getFilterInstance(t,n=>{e(n)})})}getFilterInstanceImpl(t,e){const n=this.columnModel.getPrimaryColumn(t);if(!n)return;const i=this.getFilterComponent(n,"NO_UI"),r=i&&i.resolveNow(null,s=>s);return r?setTimeout(e,0,r):i&&i.then(s=>{e(s)}),r}warnAdvancedFilters(){ei("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(t){var e;null==(e=this.advancedFilterService)||e.getCtrl().setupHeaderComp(t)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:t,source:e})=>this.setFilterModel(t,e)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:t,model:e,resolve:n})=>{this.setColumnFilterModel(t,e).then(()=>n())}),this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach(t=>this.setAdvancedFilterModel(t)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(t){const e=this.getFilterWrapper(t);return e?this.getModelFromFilterWrapper(e):null}setColumnFilterModel(t,e){if(this.isAdvancedFilterEnabled())return this.warnAdvancedFilters(),Promise.resolve();if(this.dataTypeService.isPendingInference()){let s=()=>{};const o=new Promise(c=>{s=c});return this.columnFilterModelUpdateQueue.push({key:t,model:e,resolve:s}),o}const n=this.columnModel.getPrimaryColumn(t),i=n?this.getOrCreateFilterWrapper(n,"NO_UI"):null;return i?(s=this.setModelOnFilterWrapper(i.filterPromise,e),new Promise(o=>{s.then(c=>o(c))})):Promise.resolve();var s}getFilterWrapper(t){var e;const n=this.columnModel.getPrimaryColumn(t);return n&&null!=(e=this.cachedFilter(n))?e:null}destroy(){super.destroy(),this.allColumnFilters.forEach(t=>this.disposeFilterWrapper(t,"gridDestroyed")),this.allColumnListeners.clear()}};N([Y("valueService")],ch.prototype,"valueService",2),N([Y("columnModel")],ch.prototype,"columnModel",2),N([Y("rowModel")],ch.prototype,"rowModel",2),N([Y("userComponentFactory")],ch.prototype,"userComponentFactory",2),N([Y("rowRenderer")],ch.prototype,"rowRenderer",2),N([Y("dataTypeService")],ch.prototype,"dataTypeService",2),N([Y("quickFilterService")],ch.prototype,"quickFilterService",2),N([lr("advancedFilterService")],ch.prototype,"advancedFilterService",2),N([nn],ch.prototype,"init",1),ch=N([bn("filterManager")],ch);var R3=class extends Ii{constructor(t,e){super(t),this.ctrl=e}getCtrl(){return this.ctrl}},xw=class fme extends R3{constructor(e){super(fme.TEMPLATE,e)}postConstruct(){const e=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:(i,r)=>this.addOrRemoveCssClass(i,r),addOrRemoveBodyCssClass:(i,r)=>this.eFloatingFilterBody.classList.toggle(i,r),setButtonWrapperDisplayed:i=>nr(this.eButtonWrapper,i),setCompDetails:i=>this.setCompDetails(i),getFloatingFilterComp:()=>this.compPromise,setWidth:i=>e.style.width=i,setMenuIcon:i=>this.eButtonShowMainFilter.appendChild(i)},e,this.eButtonShowMainFilter,this.eFloatingFilterBody)}setCompDetails(e){if(!e)return this.destroyFloatingFilterComp(),void(this.compPromise=null);this.compPromise=e.newAgStackInstance(),this.compPromise.then(n=>this.afterCompCreated(n))}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive())return void this.destroyBean(e);this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}};xw.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',N([fn("eFloatingFilterBody")],xw.prototype,"eFloatingFilterBody",2),N([fn("eButtonWrapper")],xw.prototype,"eButtonWrapper",2),N([fn("eButtonShowMainFilter")],xw.prototype,"eButtonShowMainFilter",2),N([nn],xw.prototype,"postConstruct",1),N([Yl],xw.prototype,"destroyFloatingFilterComp",1);var k_e=xw,ek=class extends Jt{constructor(t){super(),this.view=t}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const t=this.getDomLayout(),e={autoHeight:"autoHeight"===t,normal:"normal"===t,print:"print"===t};this.view.updateLayoutClasses(e.autoHeight?"ag-layout-auto-height":e.print?"ag-layout-print":"ag-layout-normal",e)}getDomLayout(){var t;const e=null!=(t=this.gridOptionsService.get("domLayout"))?t:"normal";return-1===["normal","print","autoHeight"].indexOf(e)?(ei(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}};N([nn],ek.prototype,"postConstruct",1);var Qm=class extends Jt{constructor(t){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=t,this.resetLastHScrollDebounced=vl(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=vl(()=>this.lastScrollSource[0]=null,500)}postConstruct(){this.enableRtl=this.gridOptionsService.get("enableRtl"),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(t=>{this.centerRowContainerCtrl=t.centerRowContainerCtrl,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){const t=this.ctrlsService.getFakeHScrollComp(),e=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),t.onScrollCallback(this.onFakeHScroll.bind(this));const n=this.gridOptionsService.get("debounceVerticalScrollbar"),i=n?vl(this.onVScroll.bind(this),100):this.onVScroll.bind(this),r=n?vl(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",i),e.onScrollCallback(r)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(t){if(null==this.centerRowContainerCtrl)return;void 0===t&&(t=this.centerRowContainerCtrl.getCenterViewportScrollLeft());const n=this.enableRtl?t:-t,i=this.ctrlsService.getTopCenterRowContainerCtrl(),r=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),s=this.ctrlsService.getBottomCenterRowContainerCtrl(),o=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(-n),s.setContainerTranslateX(n),i.setContainerTranslateX(n),r.setContainerTranslateX(n);const d=this.centerRowContainerCtrl.getViewportElement(),p=0===this.lastScrollSource[1];t=Math.abs(t),p?o.setScrollPosition(t):qx(d,t,this.enableRtl)}isControllingScroll(t,e){return null==this.lastScrollSource[e]?(this.lastScrollSource[e]=t,!0):this.lastScrollSource[e]===t}onFakeHScroll(){this.isControllingScroll(1,1)&&this.onHScrollCommon(1)}onHScroll(){this.isControllingScroll(0,1)&&this.onHScrollCommon(0)}onHScrollCommon(t){const e=this.centerRowContainerCtrl.getViewportElement(),{scrollLeft:n}=e;if(this.shouldBlockScrollUpdate(1,n,!0))return;let i;i=0===t?$x(e,this.enableRtl):this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(i)),this.resetLastHScrollDebounced()}onFakeVScroll(){this.isControllingScroll(1,0)&&this.onVScrollCommon(1)}onVScroll(){this.isControllingScroll(0,0)&&this.onVScrollCommon(0)}onVScrollCommon(t){let e;e=0===t?this.eBodyViewport.scrollTop:this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(0,e,!0)&&(this.animationFrameService.setScrollTop(e),this.nextScrollTop=e,0===t?this.ctrlsService.getFakeVScrollComp().setScrollPosition(e):this.eBodyViewport.scrollTop=e,this.gridOptionsService.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(t){const e=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===t&&t===e||(this.scrollLeft=t,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(t){const e={type:W.EVENT_BODY_SCROLL,direction:1===t?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(e),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{const n=ms(Yn({},e),{type:W.EVENT_BODY_SCROLL_END});this.eventService.dispatchEvent(n)},100)}shouldBlockScrollUpdate(t,e,n=!1){return!(n&&!Km())&&(0===t?this.shouldBlockVerticalScroll(e):this.shouldBlockHorizontalScroll(e))}shouldBlockVerticalScroll(t){const e=Wx(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return t<0||t+e>n}shouldBlockHorizontalScroll(t){const e=this.centerRowContainerCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowContainerCtrl.getViewportElement();if(this.enableRtl&&jx()){if(t>0)return!0}else if(t<0)return!0;return Math.abs(t)+e>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(0)}scrollGridIfNeeded(){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(t,e=!1){const i=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!e&&this.shouldBlockScrollUpdate(1,t)&&(t=this.enableRtl&&jx()?t>0?0:i:Math.min(Math.max(t,0),i)),qx(this.centerRowContainerCtrl.getViewportElement(),Math.abs(t),this.enableRtl),this.doHorizontalScroll(t)}setVerticalScrollPosition(t){this.eBodyViewport.scrollTop=t}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowContainerCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()}scrollHorizontally(t){const e=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(e+t),this.centerRowContainerCtrl.getViewportElement().scrollLeft-e}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(t,e=null){const n=this.rowModel.getRowCount();let i=-1;for(let r=0;r<n;r++){const s=this.rowModel.getRow(r);if("function"==typeof t){if(s&&t(s)){i=r;break}}else if(t===s||t===s.data){i=r;break}}i>=0&&this.ensureIndexVisible(i,e)}ensureIndexVisible(t,e){if(this.gridOptionsService.isDomLayout("print"))return;const n=this.paginationProxy.getRowCount();if("number"!=typeof t||t<0||t>=n)return void console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+t);const r=this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{r||this.paginationProxy.goToPageWithIndex(t);const o=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),c=this.paginationProxy.getRow(t);let d;do{const p=c.rowTop,m=c.rowHeight,y=this.paginationProxy.getPixelOffset(),A=c.rowTop-y,k=A+c.rowHeight,U=this.getVScrollPosition(),X=this.heightScaler.getDivStretchOffset(),Q=U.top+X,pe=U.bottom+X,Ie=pe-Q,ke=this.heightScaler.getScrollPositionForPixel(A),tt=this.heightScaler.getScrollPositionForPixel(k-Ie),zt=Math.min((ke+tt)/2,A);let me=null;"top"===e?me=ke:"bottom"===e?me=tt:"middle"===e?me=zt:Q+o>A?me=ke-o:pe<k&&(me=tt),null!==me&&(this.setVerticalScrollPosition(me),this.rowRenderer.redraw({afterScroll:!0})),d=p!==c.rowTop||m!==c.rowHeight}while(d);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(t,e="auto"){const n=this.columnModel.getGridColumn(t);if(!n||n.isPinned()||!this.columnModel.isColumnDisplayed(n))return;const i=this.getPositionedHorizontalScroll(n,e);this.getFrameworkOverrides().wrapIncoming(()=>{null!==i&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(i),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(t,e){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowContainerCtrl.setCenterViewportScrollLeft(e),this.setVerticalScrollPosition(t),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(t,e){const{columnBeforeStart:n,columnAfterEnd:i}=this.isColumnOutsideViewport(t),r=this.centerRowContainerCtrl.getCenterWidth()<t.getActualWidth(),s=this.centerRowContainerCtrl.getCenterWidth(),o=this.enableRtl;let c=(o?n:i)||r,d=o?i:n;"auto"!==e&&(c="start"===e,d="end"===e);const p="middle"===e;if(c||d||p){const{colLeft:m,colMiddle:y,colRight:A}=this.getColumnBounds(t);return p?y-s/2:c?o?A:m:o?m-s:A-s}return null}isColumnOutsideViewport(t){const{start:e,end:n}=this.getViewportBounds(),{colLeft:i,colRight:r}=this.getColumnBounds(t),s=this.enableRtl;return{columnBeforeStart:s?e>r:n<r,columnAfterEnd:s?n<i:e>i}}getColumnBounds(t){const e=this.enableRtl,n=this.columnModel.getBodyContainerWidth(),i=t.getActualWidth(),r=t.getLeft(),s=e?-1:1,o=e?n-r:r;return{colLeft:o,colMiddle:o+i/2*s,colRight:o+i*s}}getViewportBounds(){const t=this.centerRowContainerCtrl.getCenterWidth(),e=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:e,end:t+e,width:t}}};N([Y("ctrlsService")],Qm.prototype,"ctrlsService",2),N([Y("animationFrameService")],Qm.prototype,"animationFrameService",2),N([Y("paginationProxy")],Qm.prototype,"paginationProxy",2),N([Y("rowModel")],Qm.prototype,"rowModel",2),N([Y("rowContainerHeightService")],Qm.prototype,"heightScaler",2),N([Y("rowRenderer")],Qm.prototype,"rowRenderer",2),N([Y("columnModel")],Qm.prototype,"columnModel",2),N([nn],Qm.prototype,"postConstruct",1);var qne="ag-force-vertical-scroll",Wc=class extends Jt{constructor(){super(...arguments),this.stickyTopHeight=0}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(t,e,n,i,r,s){this.comp=t,this.eGridBody=e,this.eBodyViewport=n,this.eTop=i,this.eBottom=r,this.eStickyTop=s,this.setCellTextSelection(this.gridOptionsService.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",o=>this.setCellTextSelection(o.currentValue)),this.createManagedBean(new ek(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Qm(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,n,r,s]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(i),this.ctrlsService.registerGridBodyCtrl(this)}getComp(){return this.comp}addEventListeners(){this.addManagedListener(this.eventService,W.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}addFocusListeners(t){t.forEach(e=>{this.addManagedListener(e,"focusin",n=>{const{target:i}=n,r=bw(i,"ag-root",e);e.classList.toggle("ag-has-focus",!r)}),this.addManagedListener(e,"focusout",n=>{const{target:i,relatedTarget:r}=n,s=e.contains(r),o=bw(r,"ag-root",e);bw(i,"ag-root",e)||(!s||o)&&e.classList.remove("ag-has-focus")})})}setColumnMovingCss(t){this.comp.setColumnMovingCss("ag-column-moving",t)}setCellTextSelection(t=!1){this.comp.setCellSelectableCss("ag-selectable",t)}onScrollVisibilityChanged(){const t=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(t),this.setStickyTopWidth(t);const i=`calc(100% + ${(t&&this.gridOptionsService.getScrollbarWidth()||0)+(J6()?16:0)}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(i))}onGridColumnsChanged(){const t=this.columnModel.getAllGridColumns();this.comp.setColumnCount(t.length)}disableBrowserDragging(){this.addManagedListener(this.eGridBody,"dragstart",t=>{if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1})}addStopEditingWhenGridLosesFocus(){if(!this.gridOptionsService.get("stopEditingWhenCellsLoseFocus"))return;const t=n=>{const i=n.relatedTarget;if(null===GL(i))return void this.rowRenderer.stopEditing();let r=e.some(s=>s.contains(i))&&this.mouseEventService.isElementInThisGrid(i);if(!r){const s=this.popupService;r=s.getActivePopups().some(o=>o.contains(i))||s.isElementWithinCustomPopup(i)}r||this.rowRenderer.stopEditing()},e=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];e.forEach(n=>this.addManagedListener(n,"focusout",t))}updateRowCount(){const t=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),e=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1;this.comp.setRowCount(-1===e?-1:t+e)}registerBodyViewportResizeListener(t){this.comp.registerBodyViewportResizeListener(t)}setVerticalScrollPaddingVisible(t){this.comp.setPinnedTopBottomOverflowY(t?"scroll":"hidden")}isVerticalScrollShowing(){const t=this.gridOptionsService.get("alwaysShowVerticalScroll"),e=t?qne:null,n=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(e,t),t||n&&Xte(this.eBodyViewport)}setupRowAnimationCssClass(){const t=()=>{const e=this.gridOptionsService.isAnimateRows()&&!this.rowContainerHeightService.isStretching();this.comp.setRowAnimationCssOnBodyViewport(e?"ag-row-animation":"ag-row-no-animation",e)};t(),this.addManagedListener(this.eventService,W.EVENT_HEIGHT_SCALE_CHANGED,t),this.addManagedPropertyListener("animateRows",t)}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const t=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",t),this.mockContextMenuForIPad(t),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){const t=this.eBodyViewport.querySelector(".ag-full-width-container"),e=this.eBodyViewport.querySelector(".ag-center-cols-viewport");t&&e&&this.addManagedListener(t,"wheel",n=>this.onFullWidthContainerWheel(n,e))}onFullWidthContainerWheel(t,e){!t.deltaX||Math.abs(t.deltaY)>Math.abs(t.deltaX)||!this.mouseEventService.isEventFromThisGrid(t)||(t.preventDefault(),e.scrollBy({left:t.deltaX}))}onBodyViewportContextMenu(t,e,n){if(!t&&!n)return;this.gridOptionsService.get("preventDefaultOnContextMenu")&&(t||n).preventDefault();const{target:i}=t||e;(i===this.eBodyViewport||i===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&this.menuService.showContextMenu({mouseEvent:t,touchEvent:n,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(t){if(!Km())return;const e=new za(this.eBodyViewport);this.addManagedListener(e,za.EVENT_LONG_TAP,i=>{t(void 0,i.touchStart,i.touchEvent)}),this.addDestroyFunc(()=>e.destroy())}onBodyViewportWheel(t){this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&t.preventDefault()}onStickyTopWheel(t){t.preventDefault(),t.offsetY&&this.scrollVertically(t.deltaY)}getGui(){return this.eGridBody}scrollVertically(t){const e=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(e+t),this.eBodyViewport.scrollTop-e}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new ud(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}onPinnedRowDataChanged(){this.setFloatingHeights()}setFloatingHeights(){const{pinnedRowModel:t}=this;let e=t.getPinnedTopTotalHeight(),n=t.getPinnedBottomTotalHeight();this.comp.setTopHeight(e),this.comp.setBottomHeight(n),this.comp.setTopDisplay(e?"inherit":"none"),this.comp.setBottomDisplay(n?"inherit":"none"),this.setStickyTopOffsetTop()}setStickyTopHeight(t=0){this.comp.setStickyTopHeight(`${t}px`),this.stickyTopHeight=t}getStickyTopHeight(){return this.stickyTopHeight}setStickyTopWidth(t){if(t){const e=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${e}px)`)}else this.comp.setStickyTopWidth("100%")}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const e=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight()+this.filterManager.getHeaderHeight(),n=this.pinnedRowModel.getPinnedTopTotalHeight();let i=0;e>0&&(i+=e+1),n>0&&(i+=n+1),this.comp.setStickyTopTop(`${i}px`)}sizeColumnsToFit(t,e){const i=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,s=ww(this.eGridBody)-i;s>0?this.columnModel.sizeColumnsToFit(s,"sizeColumnsToFit",!1,t):void 0===e?window.setTimeout(()=>{this.sizeColumnsToFit(t,100)},0):100===e?window.setTimeout(()=>{this.sizeColumnsToFit(t,500)},100):500===e?window.setTimeout(()=>{this.sizeColumnsToFit(t,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(t){this.eBodyViewport.addEventListener("scroll",t,{passive:!0})}removeScrollEventListener(t){this.eBodyViewport.removeEventListener("scroll",t)}};N([Y("animationFrameService")],Wc.prototype,"animationFrameService",2),N([Y("rowContainerHeightService")],Wc.prototype,"rowContainerHeightService",2),N([Y("ctrlsService")],Wc.prototype,"ctrlsService",2),N([Y("columnModel")],Wc.prototype,"columnModel",2),N([Y("scrollVisibleService")],Wc.prototype,"scrollVisibleService",2),N([Y("menuService")],Wc.prototype,"menuService",2),N([Y("headerNavigationService")],Wc.prototype,"headerNavigationService",2),N([Y("dragAndDropService")],Wc.prototype,"dragAndDropService",2),N([Y("pinnedRowModel")],Wc.prototype,"pinnedRowModel",2),N([Y("rowRenderer")],Wc.prototype,"rowRenderer",2),N([Y("popupService")],Wc.prototype,"popupService",2),N([Y("mouseEventService")],Wc.prototype,"mouseEventService",2),N([Y("rowModel")],Wc.prototype,"rowModel",2),N([Y("filterManager")],Wc.prototype,"filterManager",2);var o1="ag-cell-range-selected",J_e=class{constructor(t,e){this.beans=t,this.cellCtrl=e}setComp(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(o1,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(`${o1}-1`,1===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${o1}-2`,2===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${o1}-3`,3===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${o1}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),bI(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const t=this.getRangeBorders(),e=this.isSingleCell(),i=!e&&t.right,r=!e&&t.bottom,s=!e&&t.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!e&&t.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",i),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",r),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",s)}isSingleCell(){const{rangeService:t}=this.beans;return 1===this.rangeCount&&t&&!t.isMoreThanOneCell()}getHasChartRange(){const{rangeService:t}=this.beans;if(!this.rangeCount||!t)return!1;const e=t.getCellRanges();return e.length>0&&e.every(n=>Nr([1,0],n.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const t=this.beans.gridOptionsService.get("enableRtl");let e=!1,n=!1,i=!1,r=!1;const s=this.cellCtrl.getCellPosition().column,{rangeService:o,columnModel:c}=this.beans;let d,p;t?(d=c.getDisplayedColAfter(s),p=c.getDisplayedColBefore(s)):(d=c.getDisplayedColBefore(s),p=c.getDisplayedColAfter(s));const m=o.getCellRanges().filter(y=>o.isCellInSpecificRange(this.cellCtrl.getCellPosition(),y));d||(r=!0),p||(n=!0);for(let y=0;y<m.length&&!(e&&n&&i&&r);y++){const A=m[y],k=o.getRangeStartRow(A),U=o.getRangeEndRow(A);!e&&this.beans.rowPositionUtils.sameRow(k,this.cellCtrl.getCellPosition())&&(e=!0),!i&&this.beans.rowPositionUtils.sameRow(U,this.cellCtrl.getCellPosition())&&(i=!0),!r&&d&&A.columns.indexOf(d)<0&&(r=!0),!n&&p&&A.columns.indexOf(p)<0&&(n=!0)}return{top:e,right:n,bottom:i,left:r}}refreshHandle(){if(!this.beans.rangeService||this.beans.context.isDestroyed())return;const t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}shouldHaveSelectionHandle(){const{gridOptionsService:t,rangeService:e}=this.beans,n=e.getCellRanges(),i=n.length;if(this.rangeCount<1||i<1)return!1;const r=q(n),s=this.cellCtrl.getCellPosition(),o=t.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),c=t.get("enableRangeHandle");let d=1===i&&!this.cellCtrl.isEditing()&&(o||c);if(this.hasChartRange){const m=1===n[0].type&&e.isCellInSpecificRange(s,n[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",m),d=0===r.type}return d&&null!=r.endRow&&e.isContiguousRange(r)&&e.isBottomRightCell(r,s)}addSelectionHandle(){const{gridOptionsService:t,rangeService:e}=this.beans,n=q(e.getCellRanges()).type,r=t.get("enableFillHandle")&&hi(n)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==r&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(r)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},Z_e=class extends Jt{constructor(t,e){super(),this.cellCtrl=t,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,W.EVENT_NEW_COLUMNS_LOADED,()=>this.onNewColumnsLoaded())}setComp(t){this.eGui=t,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const t=this.column.getRowSpan(this.rowNode);this.rowSpan!==t&&(this.rowSpan=t,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const t=this.getColSpanningList();ae(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))}onWidthChanged(){if(!this.eGui)return;const t=this.getCellWidth();this.eGui.style.width=`${t}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((t,e)=>t+e.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const t=this.column.getColSpan(this.rowNode),e=[];if(1===t)e.push(this.column);else{let n=this.column;const i=this.column.getPinned();for(let r=0;n&&r<t&&(e.push(n),n=this.beans.columnModel.getDisplayedColAfter(n),n&&!hi(n)&&i===n.getPinned());r++);}return e}onLeftChanged(){if(!this.eGui)return;const t=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=t+"px"}getCellLeft(){let t;return t=this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?q(this.colsSpanning):this.column,t.getLeft()}modifyLeftForPrintLayout(t){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return t;const e=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===this.column.getPinned()?e+this.beans.columnModel.getBodyContainerWidth()+(t||0):e+(t||0)}applyRowSpan(t){if(1===this.rowSpan&&!t)return;const n=this.beans.gridOptionsService.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=`${n}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},eye=class extends Jt{constructor(t,e){super(),this.staticClasses=[],this.cellCtrl=t,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode()}setComp(t){this.cellComp=t,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const t=this.column.getColDef(),{cellClassRules:e}=t,n=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:t,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(e===this.cellClassRules?void 0:this.cellClassRules,e,n,i=>this.cellComp.addOrRemoveCssClass(i,!0),i=>this.cellComp.addOrRemoveCssClass(i,!1)),this.cellClassRules=e}applyUserStyles(){const t=this.column.getColDef();if(!t.cellStyle)return;let e;if("function"==typeof t.cellStyle){const n=this.beans.gridOptionsService.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:t,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex});e=(0,t.cellStyle)(n)}else e=t.cellStyle;e&&this.cellComp.setUserStyles(e)}applyClassesFromColDef(){const t=this.column.getColDef(),e=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:t,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(n=>this.cellComp.addOrRemoveCssClass(n,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(t,e),this.staticClasses.length&&this.staticClasses.forEach(n=>this.cellComp.addOrRemoveCssClass(n,!0))}destroy(){super.destroy()}},Ei=class{postConstruct(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)}};N([Y("resizeObserverService")],Ei.prototype,"resizeObserverService",2),N([Y("paginationProxy")],Ei.prototype,"paginationProxy",2),N([Y("context")],Ei.prototype,"context",2),N([Y("columnApi")],Ei.prototype,"columnApi",2),N([Y("gridApi")],Ei.prototype,"gridApi",2),N([Y("gridOptionsService")],Ei.prototype,"gridOptionsService",2),N([Y("expressionService")],Ei.prototype,"expressionService",2),N([Y("environment")],Ei.prototype,"environment",2),N([Y("rowRenderer")],Ei.prototype,"rowRenderer",2),N([Y("templateService")],Ei.prototype,"templateService",2),N([Y("valueService")],Ei.prototype,"valueService",2),N([Y("eventService")],Ei.prototype,"eventService",2),N([Y("columnModel")],Ei.prototype,"columnModel",2),N([Y("headerNavigationService")],Ei.prototype,"headerNavigationService",2),N([Y("navigationService")],Ei.prototype,"navigationService",2),N([Y("columnAnimationService")],Ei.prototype,"columnAnimationService",2),N([lr("rangeService")],Ei.prototype,"rangeService",2),N([Y("focusService")],Ei.prototype,"focusService",2),N([Y("popupService")],Ei.prototype,"popupService",2),N([Y("valueFormatterService")],Ei.prototype,"valueFormatterService",2),N([Y("stylingService")],Ei.prototype,"stylingService",2),N([Y("columnHoverService")],Ei.prototype,"columnHoverService",2),N([Y("userComponentFactory")],Ei.prototype,"userComponentFactory",2),N([Y("userComponentRegistry")],Ei.prototype,"userComponentRegistry",2),N([Y("animationFrameService")],Ei.prototype,"animationFrameService",2),N([Y("dragService")],Ei.prototype,"dragService",2),N([Y("dragAndDropService")],Ei.prototype,"dragAndDropService",2),N([Y("sortController")],Ei.prototype,"sortController",2),N([Y("filterManager")],Ei.prototype,"filterManager",2),N([Y("rowContainerHeightService")],Ei.prototype,"rowContainerHeightService",2),N([Y("frameworkOverrides")],Ei.prototype,"frameworkOverrides",2),N([Y("cellPositionUtils")],Ei.prototype,"cellPositionUtils",2),N([Y("rowPositionUtils")],Ei.prototype,"rowPositionUtils",2),N([Y("selectionService")],Ei.prototype,"selectionService",2),N([lr("selectionHandleFactory")],Ei.prototype,"selectionHandleFactory",2),N([Y("rowCssClassCalculator")],Ei.prototype,"rowCssClassCalculator",2),N([Y("rowModel")],Ei.prototype,"rowModel",2),N([Y("ctrlsService")],Ei.prototype,"ctrlsService",2),N([Y("ctrlsFactory")],Ei.prototype,"ctrlsFactory",2),N([Y("agStackComponentsRegistry")],Ei.prototype,"agStackComponentsRegistry",2),N([Y("valueCache")],Ei.prototype,"valueCache",2),N([Y("rowNodeEventThrottle")],Ei.prototype,"rowNodeEventThrottle",2),N([Y("localeService")],Ei.prototype,"localeService",2),N([Y("valueParserService")],Ei.prototype,"valueParserService",2),N([Y("syncService")],Ei.prototype,"syncService",2),N([Y("ariaAnnouncementService")],Ei.prototype,"ariaAnnouncementService",2),N([nn],Ei.prototype,"postConstruct",1),Ei=N([bn("beans")],Ei);var tye=class extends Ei{constructor(t,e,n){super(),this.cellCtrl=t,this.beans=e,this.column=n}onMouseEvent(t,e){if(!mf(e))switch(t){case"click":this.onCellClicked(e);break;case"mousedown":case"touchstart":this.onMouseDown(e);break;case"dblclick":this.onCellDoubleClicked(e);break;case"mouseout":this.onMouseOut(e);break;case"mouseover":this.onMouseOver(e)}}onCellClicked(t){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(t),void t.preventDefault();const{eventService:e,rangeService:n,gridOptionsService:i}=this.beans;n&&(t.ctrlKey||t.metaKey)&&n.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&n.intersectLastRange(!0);const s=this.cellCtrl.createEvent(t,W.EVENT_CELL_CLICKED);e.dispatchEvent(s);const o=this.column.getColDef();o.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{o.onCellClicked(s)})},0),(i.get("singleClickEdit")||o.singleClickEdit)&&!i.get("suppressClickEdit")&&(!t.shiftKey||0==n?.getCellRanges().length)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!Km()||x6("dblclick"))return!1;const t=(new Date).getTime(),e=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,e}onCellDoubleClicked(t){const e=this.column.getColDef(),n=this.cellCtrl.createEvent(t,W.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(n),"function"==typeof e.onCellDoubleClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{e.onCellDoubleClicked(n)})},0),!this.beans.gridOptionsService.get("singleClickEdit")&&!this.beans.gridOptionsService.get("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,t)}onMouseDown(t){const{ctrlKey:e,metaKey:n,shiftKey:i}=t,r=t.target,{cellCtrl:s,beans:o}=this,{eventService:c,rangeService:d,focusService:p}=o;if(this.isRightClickInExistingRange(t))return;const m=d&&0!=d.getCellRanges().length;if(!i||!m){const y=jp()&&!s.isEditing()&&!i3(r);s.focusCell(y)}if(i&&m&&!p.isCellFocused(s.getCellPosition())){t.preventDefault();const y=p.getFocusedCell();if(y){const{column:A,rowIndex:k,rowPinned:U}=y,X=o.rowRenderer.getRowByPosition({rowIndex:k,rowPinned:U}),Q=X?.getCellCtrl(A);Q?.isEditing()&&Q.stopEditing(),p.setFocusedCell({column:A,rowIndex:k,rowPinned:U,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(r)){if(d){const y=this.cellCtrl.getCellPosition();i?d.extendLatestRangeToCell(y):d.setRangeToCell(y,e||n)}c.dispatchEvent(this.cellCtrl.createEvent(t,W.EVENT_CELL_MOUSE_DOWN))}}isRightClickInExistingRange(t){const{rangeService:e}=this.beans;if(e){const n=e.isCellInAnyRange(this.cellCtrl.getCellPosition()),i=2===t.button||t.ctrlKey&&this.beans.gridOptionsService.get("allowContextMenuWithControlKey");if(n&&i)return!0}return!1}containsWidget(t){return bw(t,"ag-selection-checkbox",3)}onMouseOut(t){if(this.mouseStayingInsideCell(t))return;const e=this.cellCtrl.createEvent(t,W.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.clearMouseOver()}onMouseOver(t){if(this.mouseStayingInsideCell(t))return;const e=this.cellCtrl.createEvent(t,W.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.setMouseOver([this.column])}mouseStayingInsideCell(t){if(!t.target||!t.relatedTarget)return!1;const e=this.cellCtrl.getGui(),n=e.contains(t.target),i=e.contains(t.relatedTarget);return n&&i}destroy(){}},nye=class extends Jt{constructor(t,e,n,i,r){super(),this.cellCtrl=t,this.beans=e,this.rowNode=i,this.rowCtrl=r}setComp(t){this.eGui=t}onKeyDown(t){const e=t.key;switch(e){case Qe.ENTER:this.onEnterKeyDown(t);break;case Qe.F2:this.onF2KeyDown(t);break;case Qe.ESCAPE:this.onEscapeKeyDown(t);break;case Qe.TAB:this.onTabKeyDown(t);break;case Qe.BACKSPACE:case Qe.DELETE:this.onBackspaceOrDeleteKeyDown(e,t);break;case Qe.DOWN:case Qe.UP:case Qe.RIGHT:case Qe.LEFT:this.onNavigationKeyDown(t,e)}}onNavigationKeyDown(t,e){this.cellCtrl.isEditing()||(t.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(t):this.beans.navigationService.navigateToNextCell(t,e,this.cellCtrl.getCellPosition(),!0),t.preventDefault())}onShiftRangeSelect(t){if(!this.beans.rangeService)return;const e=this.beans.rangeService.extendLatestRangeInDirection(t);e&&this.beans.navigationService.ensureCellVisible(e)}onTabKeyDown(t){this.beans.navigationService.onTabKeyDown(this.cellCtrl,t)}onBackspaceOrDeleteKeyDown(t,e){const{cellCtrl:n,beans:i,rowNode:r}=this,{gridOptionsService:s,rangeService:o,eventService:c}=i;n.isEditing()||(c.dispatchEvent({type:W.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),one(t,s.get("enableCellEditingOnBackspace"))?o&&s.get("enableRangeSelection")?o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):n.isCellEditable()&&r.setDataValue(n.getColumn(),null,"cellClear"):n.startRowOrCellEdit(t,e),c.dispatchEvent({type:W.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))}onEnterKeyDown(t){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus(!1,t.shiftKey):this.beans.gridOptionsService.get("enterNavigatesVertically")?this.beans.navigationService.navigateToNextCell(null,t.shiftKey?Qe.UP:Qe.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(Qe.ENTER,t),this.cellCtrl.isEditing()&&t.preventDefault())}onF2KeyDown(t){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(Qe.F2,t)}onEscapeKeyDown(t){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(t){if(t.target!==this.eGui||this.cellCtrl.isEditing())return;const i=t.key;" "===i?this.onSpaceKeyDown(t):(this.cellCtrl.startRowOrCellEdit(i,t),t.preventDefault())}onSpaceKeyDown(t){const{gridOptionsService:e}=this.beans;if(!this.cellCtrl.isEditing()&&e.isRowSelection()){const n=this.rowNode.isSelected(),i=!n;if(i||!e.get("suppressRowDeselection")){const r=this.beans.gridOptionsService.get("groupSelectsFiltered"),s=this.rowNode.setSelectedParams({newValue:i,rangeSelect:t.shiftKey,groupSelectsFiltered:r,event:t,source:"spaceKey"});void 0===n&&0===s&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:r,event:t,source:"spaceKey"})}}t.preventDefault()}destroy(){super.destroy()}},Kne=class extends Ii{constructor(t,e,n){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=t,this.column=e,this.eCell=n}postConstruct(){this.getGui().appendChild(ks("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",e=>{e.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(t){const e=this.column.getColDef().dndSourceOnRowDrag;t.dataTransfer.setDragImage(this.eCell,0,0),e?e(this.gridOptionsService.addGridCommonParams({rowNode:this.rowNode,dragEvent:t})):(()=>{try{const i=JSON.stringify(this.rowNode.data);t.dataTransfer.setData("application/json",i),t.dataTransfer.setData("text/plain",i)}catch{}})()}checkVisibility(){const t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)}};N([nn],Kne.prototype,"postConstruct",1);var tk=class{static getHeaderClassesFromColDef(t,e,n,i){return hi(t)?[]:this.getColumnClassesFromCollDef(t.headerClass,t,e,n,i)}static getToolPanelClassesFromColDef(t,e,n,i){return hi(t)?[]:this.getColumnClassesFromCollDef(t.toolPanelClass,t,e,n,i)}static refreshFirstAndLastStyles(t,e,n){t.addOrRemoveCssClass("ag-column-first",n.isColumnAtEdge(e,"first")),t.addOrRemoveCssClass("ag-column-last",n.isColumnAtEdge(e,"last"))}static getClassParams(t,e,n,i){return e.addGridCommonParams({colDef:t,column:n,columnGroup:i})}static getColumnClassesFromCollDef(t,e,n,i,r){if(hi(t))return[];let s;return s="function"==typeof t?t(this.getClassParams(e,n,i,r)):t,"string"==typeof s?[s]:Array.isArray(s)?[...s]:[]}},pye=0,Yne=class XQ extends Jt{constructor(e,n,i,r){super(),this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.column=e,this.rowNode=n,this.beans=i,this.rowCtrl=r,this.instanceId=e.getId()+"-"+pye++,this.colIdSanitised=ha(this.column.getId()),i.gridOptionsService.get("suppressCellFocus")||(this.tabIndex=-1),this.createCellPosition(),this.addFeatures(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}addFeatures(){this.cellPositionFeature=new Z_e(this,this.beans),this.addDestroyFunc(()=>{var n;null==(n=this.cellPositionFeature)||n.destroy(),this.cellPositionFeature=null}),this.cellCustomStyleFeature=new eye(this,this.beans),this.addDestroyFunc(()=>{var n;null==(n=this.cellCustomStyleFeature)||n.destroy(),this.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new tye(this,this.beans,this.column),this.addDestroyFunc(()=>{var n;null==(n=this.cellMouseListenerFeature)||n.destroy(),this.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new nye(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(()=>{var n;null==(n=this.cellKeyboardListenerFeature)||n.destroy(),this.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(()=>{this.disableTooltipFeature()})),this.beans.rangeService&&this.beans.gridOptionsService.get("enableRangeSelection")&&(this.cellRangeFeature=new J_e(this.beans,this),this.addDestroyFunc(()=>{var n;null==(n=this.cellRangeFeature)||n.destroy(),this.cellRangeFeature=null}))}enableTooltipFeature(e,n){const r="whenTruncated"===this.beans.gridOptionsService.get("tooltipShowMode");!n&&r&&!this.isCellRenderer()&&(n=()=>{const o=this.getGui(),c=0===o.children.length?o:o.querySelector(".ag-cell-value");return!c||c.scrollWidth>c.clientWidth}),this.tooltipFeature=new Ym({getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:null!=e?()=>e:()=>{const o=this.column.getColDef(),c=this.rowNode.data;if(o.tooltipField&&$t(c))return zm(c,o.tooltipField,this.column.isTooltipFieldContainsDots());const d=o.tooltipValueGetter;return d?d(this.beans.gridOptionsService.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:n},this.beans)}disableTooltipFeature(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)}setComp(e,n,i,r,s){var o,c,d,p;this.cellComp=e,this.eGui=n,this.printLayout=r,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),null==(o=this.cellPositionFeature)||o.setComp(n),null==(c=this.cellCustomStyleFeature)||c.setComp(e),null==(d=this.tooltipFeature)||d.refreshToolTip(),null==(p=this.cellKeyboardListenerFeature)||p.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,n),s&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(m=>m()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(e){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!e)return;const n=e.parentElement,i=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,r=c=>{if(this.editing||!this.isAlive())return;const{paddingTop:d,paddingBottom:p,borderBottomWidth:m,borderTopWidth:y}=ly(n),U=e.offsetHeight+(d+p+m+y);if(c<5){const Q=this.beans.gridOptionsService.getDocument();if(!Q||!Q.contains(e)||0==U)return void window.setTimeout(()=>r(c+1),0)}const X=Math.max(U,i);this.rowNode.setRowAutoHeight(X,this.column)},s=()=>r(0);s();const o=this.beans.resizeObserverService.observeResize(e,s);this.addDestroyFunc(()=>{o(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){var e;return null!=(e=this.column.getColDef().cellAriaRole)?e:"gridcell"}getInstanceId(){return this.instanceId}getIncludeSelection(){return this.includeSelection}getIncludeRowDrag(){return this.includeRowDrag}getIncludeDndSource(){return this.includeDndSource}getColumnIdSanitised(){return this.colIdSanitised}getTabIndex(){return this.tabIndex}isCellRenderer(){const e=this.column.getColDef();return null!=e.cellRenderer||null!=e.cellRendererSelector}getValueToDisplay(){return null!=this.valueFormatted?this.valueFormatted:this.value}showValue(e=!1){const n=this.getValueToDisplay();let i;if(this.isCellRenderer()){const r=this.createCellRendererParams();i=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),r)}this.cellComp.setRenderDetails(i,n,e),this.refreshHandle()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gridOptionsService.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return null==this.rowNode.rowPinned&&("function"==typeof e||!0===e)}refreshShouldDestroy(){const e=this.column.getColDef(),n=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),i=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),r=this.includeDndSource!=this.isIncludeControl(e.dndSource);return n||i||r}startEditing(e=null,n=!1,i=null){if(!this.isCellEditable()||this.editing)return;if(!this.cellComp)return void this.onCellCompAttachedFuncs.push(()=>{this.startEditing(e,n,i)});const r=this.createCellEditorParams(e,n),s=this.column.getColDef(),o=this.beans.userComponentFactory.getCellEditorDetails(s,r);this.editCompDetails=o;const c=null!=o?.popupFromSelector?o.popupFromSelector:!!s.cellEditorPopup,d=null!=o?.popupPositionFromSelector?o.popupPositionFromSelector:s.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(o,c,d,this.beans.gridOptionsService.get("reactiveCustomComponents"));const p=this.createEvent(i,W.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(p)}setEditing(e){this.editing!==e&&(this.editing=e,this.refreshHandle())}stopRowOrCellEdit(e=!1){"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.stopEditing(e):this.stopEditing(e)}onPopupEditorClosed(){this.isEditing()&&this.stopEditingAndFocus()}takeValueFromCellEditor(e){const n={newValueExists:!1};if(e)return n;const i=this.cellComp.getCellEditor();return!i||i.isCancelAfterEnd&&i.isCancelAfterEnd()?n:{newValue:i.getValue(),newValueExists:!0}}saveNewValue(e,n){if(n===e)return!1;this.suppressRefreshCell=!0;const i=this.rowNode.setDataValue(this.column,n,"edit");return this.suppressRefreshCell=!1,i}stopEditing(e=!1){if(!this.editing)return!1;const{newValue:n,newValueExists:i}=this.takeValueFromCellEditor(e),r=this.rowNode.getValueFromValueService(this.column);let s=!1;return i&&(s=this.saveNewValue(r,n)),this.setEditing(!1),this.cellComp.setEditDetails(),this.editCompDetails=void 0,this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(r,n,!e&&!!s),s}dispatchEditingStoppedEvent(e,n,i){const r=ms(Yn({},this.createEvent(null,W.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:n,valueChanged:i});this.beans.eventService.dispatchEvent(r)}createCellEditorParams(e,n){return this.beans.gridOptionsService.addGridCommonParams({value:this.rowNode.getValueFromValueService(this.column),eventKey:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,cellStartedEdit:n,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)})}createCellRendererParams(){return this.beans.gridOptionsService.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:n=>this.beans.valueService.setValue(this.rowNode,this.column,n),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(n,i,r,s)=>this.registerRowDragger(n,i,s),setTooltip:(n,i)=>{this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(n,i),this.refreshToolTip()}})}parseValue(e){return this.beans.valueParserService.parseValue(this.column,this.rowNode,e,this.getValue())}setFocusOutOnEditor(){if(!this.editing)return;const e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}setFocusInOnEditor(){if(!this.editing)return;const e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var n;this.refreshShouldDestroy()?null==(n=this.rowCtrl)||n.refreshCell(this):this.refreshCell(e)}refreshCell(e){var n,i,r;if(this.suppressRefreshCell||this.editing)return;const s=this.column.getColDef(),o=null!=e&&!!e.newData,c=null!=e&&!!e.suppressFlash||!!s.suppressCellFlash,p=e&&e.forceRefresh||null==s.field&&null==s.valueGetter&&null==s.showRowGroup||o,m=!!this.cellComp,y=this.updateAndFormatValue(m);if(m){if(p||y){this.showValue(o);const k=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!c&&!k&&(this.beans.gridOptionsService.get("enableCellChangeFlash")||s.enableCellChangeFlash)&&this.flashCell(),null==(n=this.cellCustomStyleFeature)||n.applyUserStyles(),null==(i=this.cellCustomStyleFeature)||i.applyClassesFromColDef()}this.refreshToolTip(),null==(r=this.cellCustomStyleFeature)||r.applyCellClassRules()}}stopEditingAndFocus(e=!1,n=!1){this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit(n)}navigateAfterEdit(e){this.beans.gridOptionsService.get("enterNavigatesVerticallyAfterEdit")&&this.beans.navigationService.navigateToNextCell(null,e?Qe.UP:Qe.DOWN,this.getCellPosition(),!1)}flashCell(e){var n,i;const r=null!=(n=e?.flashDuration)?n:e?.flashDelay,s=null!=(i=e?.fadeDuration)?i:e?.fadeDelay;this.animateCell("data-changed",r,s)}animateCell(e,n,i){if(!this.cellComp)return;const r=`ag-cell-${e}`,s=`ag-cell-${e}-animation`,{gridOptionsService:o}=this.beans;n||(n=o.get("cellFlashDuration")),$t(i)||(i=o.get("cellFadeDuration")),this.cellComp.addOrRemoveCssClass(r,!0),this.cellComp.addOrRemoveCssClass(s,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(r,!1),this.cellComp.addOrRemoveCssClass(s,!0),this.eGui.style.transition=`background-color ${i}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(s,!1),this.eGui.style.transition="")},i))},n)})}onFlashCells(e){if(!this.cellComp)return;const n=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[n]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(e){var n;return null!=(n=this.callValueFormatter(e))?n:e}callValueFormatter(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const n=this.value,i=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),!e||!this.valuesAreEqual(n,this.value)||this.valueFormatted!=i}valuesAreEqual(e,n){const i=this.column.getColDef();return i.equals?i.equals(e,n):e===n}getComp(){return this.cellComp}getValue(){return this.value}getValueFormatted(){return this.valueFormatted}addDomData(){const e=this.getGui();this.beans.gridOptionsService.setDomData(e,XQ.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(()=>this.beans.gridOptionsService.setDomData(e,XQ.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(e,n){return this.beans.gridOptionsService.addGridCommonParams({type:n,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex})}processCharacter(e){var n;null==(n=this.cellKeyboardListenerFeature)||n.processCharacter(e)}onKeyDown(e){var n;null==(n=this.cellKeyboardListenerFeature)||n.onKeyDown(e)}onMouseEvent(e,n){var i;null==(i=this.cellMouseListenerFeature)||i.onMouseEvent(e,n)}getGui(){return this.eGui}refreshToolTip(){var e;null==(e=this.tooltipFeature)||e.refreshToolTip()}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var e;this.cellComp&&(null==(e=this.cellPositionFeature)||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:e,column:n,beans:i}=this;tk.refreshFirstAndLastStyles(e,n,i.columnModel)}refreshAriaColIndex(){const e=this.beans.columnModel.getAriaColumnIndex(this.column);G6(this.getGui(),e)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var e;return null==(e=this.cellPositionFeature)?void 0:e.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}getBeans(){return this.beans}isPrintLayout(){return this.printLayout}appendChild(e){this.eGui.appendChild(e)}refreshHandle(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(e,n=null){this.cellComp?"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,n):this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(e,n)})}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return null!=this.cellRangeFeature}focusCell(e=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onFirstRightPinnedChanged(){if(!this.cellComp)return;const e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",e)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",e)}onCellFocused(e){if(this.beans.gridOptionsService.get("suppressCellFocus"))return;const n=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp)return void(n&&e?.forceBrowserFocus&&(this.focusEventToRestore=e));this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass("ag-cell-focus",n),n&&e&&e.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!e.preventScrollOnBrowserFocus});const i="fullRow"===this.beans.gridOptionsService.get("editType");!n&&!i&&this.editing&&this.stopRowOrCellEdit(),n&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:nh(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);const e=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",e),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!e)}onColumnHover(){if(!this.cellComp||!this.beans.gridOptionsService.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",e)}onColDefChanged(){var e;if(this.cellComp)if(this.column.isAutoHeight()!==this.isAutoHeight&&(null==(e=this.rowCtrl)||e.refreshCell(this)),this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing){const r=this.getCellEditor();if(r?.refresh){const{eventKey:s,cellStartedEdit:o}=this.editCompDetails.params,c=this.createCellEditorParams(s,o),d=this.column.getColDef(),p=this.beans.userComponentFactory.getCellEditorDetails(d,c);r.refresh(p.params)}}else this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){const e=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",e)}dispatchCellContextMenuEvent(e){const n=this.column.getColDef(),i=this.createEvent(e,W.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(i),n.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{n.onCellContextMenu(i)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const e=new QL;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=new Kne(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e}registerRowDragger(e,n,i){if(this.customRowDragComp)return void this.customRowDragComp.setDragElement(e,n);const r=this.createRowDragComp(e,n,i);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}))}createRowDragComp(e,n,i){const r=this.beans.gridOptionsService.get("pagination"),s=this.beans.gridOptionsService.get("rowDragManaged"),o=this.beans.gridOptionsService.isRowModelType("clientSide");if(s){if(!o)return void ei("managed row dragging is only allowed in the Client Side Row Model");if(r)return void ei("managed row dragging is not possible when doing pagination")}const c=new Aw(()=>this.value,this.rowNode,this.column,e,n,i);return this.beans.context.createBean(c),c}};Yne.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var Pw=Yne,gye=0,Xne=class QQ extends Jt{constructor(e,n,i,r,s){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=n,this.gridOptionsService=n.gridOptionsService,this.rowNode=e,this.paginationPage=n.paginationProxy.getCurrentPage(),this.useAnimationFrameForCreate=r,this.printLayout=s,this.suppressRowTransform=this.gridOptionsService.get("suppressRowTransform"),this.instanceId=e.id+"-"+gye++,this.rowId=ha(e.id),this.initRowBusinessKey(),this.rowFocused=n.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=n.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(i),this.rowStyles=this.processStylesFromGridOptions(),this.isFullWidth()&&!this.gridOptionsService.get("suppressCellFocus")&&(this.tabIndex=-1),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if("function"!=typeof this.businessKeyForNodeFunc)return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=ha(e)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}getTabIndex(){return this.tabIndex}isSticky(){return this.rowNode.sticky}getBeans(){return this.beans}getInstanceId(){return this.instanceId}setComp(e,n,i){const r={rowComp:e,element:n,containerType:i};this.allRowGuis.push(r),"left"===i?this.leftGui=r:"right"===i?this.rightGui=r:"fullWidth"===i?this.fullWidthGui=r:this.centerGui=r,this.initialiseRowComp(r),"FullWidthLoading"!==this.rowType&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){switch(this.allRowGuis=this.allRowGuis.filter(n=>n.containerType!==e),e){case"left":this.leftGui=void 0;break;case"right":this.rightGui=void 0;break;case"fullWidth":this.fullWidthGui=void 0;break;case"center":this.centerGui=void 0}}isCacheable(){return"FullWidthDetail"===this.rowType&&this.gridOptionsService.get("keepDetailRows")}setCached(e){const n=e?"none":"";this.allRowGuis.forEach(i=>i.element.style.display=n)}initialiseRowComp(e){const n=this.gridOptionsService;this.listenOnDomOrder(e),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),n.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const i=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(s=>i.addOrRemoveCssClass(s,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&qm(e.element,1==this.rowNode.expanded),this.setRowCompRowId(i),this.setRowCompRowBusinessKey(i),n.setDomData(e.element,QQ.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(()=>n.setDomData(e.element,QQ.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e.element),this.isFullWidth()&&this.setupFullWidth(e),n.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){null!=this.businessKeySanitised&&e.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(e){this.rowId=ha(this.rowNode.id),null!=this.rowId&&e.setRowId(this.rowId)}executeSlideAndFadeAnimations(e){const{containerType:n}=e;this.slideInAnimation[n]&&(Gx(()=>{this.onTopChanged()}),this.slideInAnimation[n]=!1),this.fadeInAnimation[n]&&(Gx(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[n]=!1)}addRowDraggerToRow(e){if(this.gridOptionsService.get("enableRangeSelection"))return void ei("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");const n=this.beans.localeService.getLocaleTextFunc(),i=new Aw(()=>`1 ${n("rowDragRow","row")}`,this.rowNode,void 0,e.element,void 0,!0),r=this.createBean(i,this.beans.context);this.rowDragComps.push(r)}setupFullWidth(e){const n=this.getPinnedForContainer(e.containerType);if("FullWidthDetail"==this.rowType&&!Mr.__assertRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;const i=this.createFullWidthCompDetails(e.element,n);e.rowComp.showFullWidth(i)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var e,n;return this.gridOptionsService.get("embedFullWidthRows")?this.allRowGuis.map(i=>{var r;return null==(r=i?.rowComp)?void 0:r.getFullWidthCellRenderer()}):[null==(n=null==(e=this.fullWidthGui)?void 0:e.rowComp)?void 0:n.getFullWidthCellRenderer()]}getCellElement(e){const n=this.getCellCtrl(e);return n?n.getGui():null}executeProcessRowPostCreateFunc(){const e=this.gridOptionsService.getCallback("processRowPostCreate");e&&this.areAllContainersReady()&&e({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})}areAllContainersReady(){const e=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),n=!!this.centerGui,i=!!this.rightGui||!this.beans.columnModel.isPinningRight();return e&&n&&i}setRowType(){const e=this.rowNode.stub,n=this.rowNode.isFullWidthCell(),i=this.gridOptionsService.get("masterDetail")&&this.rowNode.detail,r=this.beans.columnModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&this.gridOptionsService.isGroupUseEntireRow(r);this.rowType=e?"FullWidthLoading":i?"FullWidthDetail":n?"FullWidth":o?"FullWidthGroup":"Normal"}updateColumnLists(e=!1,n=!1){this.isFullWidth()||(e||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout?this.updateColumnListsImpl(n):this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0))}createCellCtrls(e,n,i=null){const r={list:[],map:{}},s=(o,c)=>{r.list.push(c),r.map[o]=c};return n.forEach(o=>{const c=o.getInstanceId();let d=e.map[c];d||(d=new Pw(o,this.rowNode,this.beans,this)),s(c,d)}),e.list.forEach(o=>{null==r.map[o.getColumn().getInstanceId()]&&(this.isCellEligibleToBeRemoved(o,i)?o.destroy():s(o.getColumn().getInstanceId(),o))}),r}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(n=>{const i=this.getCellCtrlsForContainer(n.containerType);n.rowComp.setCellCtrls(i,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list;default:throw new Error(`Unhandled case: ${e}`)}}createAllCellCtrls(){const e=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,e.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const i=e.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");const r=e.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,r,"right")}}isCellEligibleToBeRemoved(e,n){if(e.getColumn().getPinned()!=n)return!0;const o=e.isEditing(),c=this.beans.focusService.isCellFocused(e.getCellPosition());if(o||c){const p=e.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(p)>=0)}return!0}getDomOrder(){return this.gridOptionsService.get("ensureDomOrder")||this.gridOptionsService.isDomLayout("print")}listenOnDomOrder(e){const n=()=>{e.rowComp.setDomOrder(this.getDomOrder())};this.addManagedPropertyListener("domLayout",n),this.addManagedPropertyListener("ensureDomOrder",n)}setAnimateFlags(e){if(this.isSticky()||!e)return;const n=$t(this.rowNode.oldRowTop),i=this.beans.columnModel.isPinningLeft(),r=this.beans.columnModel.isPinningRight();if(n){if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows"))return void(this.slideInAnimation.fullWidth=!0);this.slideInAnimation.center=!0,this.slideInAnimation.left=i,this.slideInAnimation.right=r}else{if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows"))return void(this.fadeInAnimation.fullWidth=!0);this.fadeInAnimation.center=!0,this.fadeInAnimation.left=i,this.fadeInAnimation.right=r}}isEditing(){return this.editingRow}isFullWidth(){return"Normal"!==this.rowType}getRowType(){return this.rowType}refreshFullWidth(){const e=(c,d)=>!c||c.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(c.element,d).params),n=e(this.fullWidthGui,null),i=e(this.centerGui,null),r=e(this.leftGui,"left"),s=e(this.rightGui,"right");return n&&i&&r&&s}addListeners(){this.addManagedListener(this.rowNode,qi.EVENT_HEIGHT_CHANGED,()=>this.onRowHeightChanged()),this.addManagedListener(this.rowNode,qi.EVENT_ROW_SELECTED,()=>this.onRowSelected()),this.addManagedListener(this.rowNode,qi.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,qi.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,qi.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,qi.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,qi.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,qi.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,qi.EVENT_CELL_CHANGED,this.postProcessCss.bind(this)),this.addManagedListener(this.rowNode,qi.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,qi.EVENT_DRAGGING_CHANGED,this.postProcessRowDragging.bind(this)),this.addManagedListener(this.rowNode,qi.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));const e=this.beans.eventService;this.addManagedListener(e,W.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,W.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,W.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,W.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,W.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,W.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,W.EVENT_MODEL_UPDATED,this.refreshFirstAndLastRowStyles.bind(this)),this.addManagedListener(e,W.EVENT_COLUMN_MOVED,this.updateColumnLists.bind(this)),this.addDestroyFunc(()=>{this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowDragEntireRow"],()=>{this.gridOptionsService.get("rowDragEntireRow")?this.allRowGuis.forEach(i=>{this.addRowDraggerToRow(i)}):(this.destroyBeans(this.rowDragComps,this.beans.context),this.rowDragComps=[])}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListener(this.rowNode,qi.EVENT_ROW_INDEX_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())}),this.addManagedListener(this.rowNode,qi.EVENT_CELL_CHANGED,e=>{this.getAllCellCtrls().forEach(n=>n.onCellChanged(e))})}onRowNodeDataChanged(e){this.isFullWidth()===!!this.rowNode.isFullWidthCell()?this.isFullWidth()?this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode):(this.getAllCellCtrls().forEach(i=>i.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(i=>{this.setRowCompRowId(i.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(i.rowComp)}),this.onRowSelected(),this.postProcessCss()):this.beans.rowRenderer.redrawRow(this.rowNode)}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(n=>{const r=1===e;n.rowComp.addOrRemoveCssClass("ag-row-highlight-above",0===e),n.rowComp.addOrRemoveCssClass("ag-row-highlight-below",r)})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}updateExpandedCss(){const e=this.rowNode.isExpandable(),n=1==this.rowNode.expanded;this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass("ag-row-group",e),i.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&n),i.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!n),qm(i.element,e&&n)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:nh(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const n=this.allRowGuis.find(d=>d.element.contains(e.target));if((n?n.element:null)!==e.target)return;const s=this.rowNode,o=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(e,e.key,{rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:o&&o.column},!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||mf(e))return;const n=this.allRowGuis.find(o=>o.element.contains(e.target)),i=n?n.element:null,r=i===e.target;let s=null;r||(s=this.beans.focusService.findNextFocusableElement(i,!1,e.shiftKey)),(this.isFullWidth()&&r||!s)&&this.beans.navigationService.onTabKeyDown(this,e)}onFullWidthRowFocused(e){var n;const i=this.rowNode,r=!!e&&this.isFullWidth()&&e.rowIndex===i.rowIndex&&e.rowPinned==i.rowPinned,s=this.fullWidthGui?this.fullWidthGui.element:null==(n=this.centerGui)?void 0:n.element;s&&(s.classList.toggle("ag-full-width-focus",r),r&&s.focus({preventScroll:!0}))}refreshCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()}removeCellCtrl(e,n){const i={list:[],map:{}};return e.list.forEach(r=>{r!==n&&(i.list.push(r),i.map[r.getInstanceId()]=r)}),i}onMouseEvent(e,n){switch(e){case"dblclick":this.onRowDblClick(n);break;case"click":this.onRowClick(n);break;case"touchstart":case"mousedown":this.onRowMouseDown(n)}}createRowEvent(e,n){return this.gridOptionsService.addGridCommonParams({type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:n})}createRowEventWithSource(e,n){const i=this.createRowEvent(e,n);return i.source=this,i}onRowDblClick(e){if(mf(e))return;const n=this.createRowEventWithSource(W.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(n)}onRowMouseDown(e){if(this.lastMouseDownOnDragger=bw(e.target,"ag-row-drag",3),!this.isFullWidth())return;const n=this.rowNode,i=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:n.rowIndex,column:i.getAllDisplayedColumns()[0],rowPinned:n.rowPinned,forceBrowserFocus:!0})}onRowClick(e){if(mf(e)||this.lastMouseDownOnDragger)return;const i=this.createRowEventWithSource(W.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(i);const r=e.ctrlKey||e.metaKey,s=e.shiftKey;if(this.gridOptionsService.get("groupSelectsChildren")&&this.rowNode.group||this.isRowSelectionBlocked()||this.gridOptionsService.get("suppressRowClickSelection"))return;const c=this.gridOptionsService.get("rowMultiSelectWithClick"),d=!this.gridOptionsService.get("suppressRowDeselection"),p="rowClicked";this.rowNode.isSelected()?c?this.rowNode.setSelectedParams({newValue:!1,event:e,source:p}):r?d&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:p}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!s,rangeSelect:s,event:e,source:p}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!c&&!r,rangeSelect:s,event:e,source:p})}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()}setupDetailRowAutoHeight(e){if("FullWidthDetail"!==this.rowType||!this.gridOptionsService.get("detailRowAutoHeight"))return;const n=()=>{const r=e.clientHeight;null!=r&&r>0&&window.setTimeout(()=>{this.rowNode.setRowHeight(r),this.beans.clientSideRowModel?this.beans.clientSideRowModel.onRowHeightChanged():this.beans.serverSideRowModel&&this.beans.serverSideRowModel.onRowHeightChanged()},0)},i=this.beans.resizeObserverService.observeResize(e,n);this.addDestroyFunc(i),n()}createFullWidthCompDetails(e,n){const i=this.gridOptionsService.addGridCommonParams({fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,eGridCell:e,eParentOfValue:e,pinned:n,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(r,s,o,c)=>this.addFullWidthRowDragging(r,s,o,c),setTooltip:(r,s)=>this.refreshRowTooltip(r,s)});switch(this.rowType){case"FullWidthDetail":return this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(i);case"FullWidthGroup":return this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(i);case"FullWidthLoading":return this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(i);default:return this.beans.userComponentFactory.getFullWidthCellRendererDetails(i)}}refreshRowTooltip(e,n){if(!this.fullWidthGui)return;const i={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>e,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:n};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new Ym(i,this.beans))}addFullWidthRowDragging(e,n,i="",r){if(!this.isFullWidth())return;const s=new Aw(()=>i,this.rowNode,void 0,e,n,r);this.createBean(s,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(s,this.beans.context)})}onUiLevelChanged(){const e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){const n="ag-row-level-"+e,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass(n,!0),r.rowComp.addOrRemoveCssClass(i,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),n=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==n&&(this.lastRowOnPage=n,this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-last",n)))}stopEditing(e=!1){if(this.stoppingRowEdit)return;const n=this.getAllCellCtrls(),i=this.editingRow;this.stoppingRowEdit=!0;let r=!1;for(const s of n){const o=s.stopEditing(e);i&&!e&&!r&&o&&(r=!0)}if(r){const s=this.createRowEvent(W.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(s)}i&&this.setEditingRow(!1),this.stoppingRowEdit=!1}setInlineEditingCss(e){this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),n.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})}setEditingRow(e){this.editingRow=e,this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-editing",e));const n=this.createRowEvent(e?W.EVENT_ROW_EDITING_STARTED:W.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(n)}startRowEditing(e=null,n=null,i=null){this.editingRow||this.getAllCellCtrls().reduce((s,o)=>{const c=o===n;return o.startEditing(c?e:null,c,i),!!s||o.isEditing()},!1)&&this.setEditingRow(!0)}getAllCellCtrls(){return 0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!e||!e.length||e.forEach(n=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(n,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(e,!0))},e=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(e,!1))})}setStylesFromGridOptions(e,n){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(n,i=>i.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return"left"===e?"left":"right"===e?"right":null}getInitialRowClasses(e){const n=this.getPinnedForContainer(e),i={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:n};return this.beans.rowCssClassCalculator.getInitialRowClasses(i)}processStylesFromGridOptions(){const e=this.gridOptionsService.get("rowStyle");if(e&&"function"==typeof e)return void console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");const n=this.gridOptionsService.getCallback("getRowStyle");let i;return n&&(i=n({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),i||e?Object.assign({},e,i):this.emptyStyle}onRowSelected(e){const n=this.beans.gridOptionsService.getDocument(),i=!!this.rowNode.isSelected();this.forEachGui(e,r=>{r.rowComp.addOrRemoveCssClass("ag-row-selected",i),bI(r.element,i),r.element.contains(n.activeElement)&&(r===this.centerGui||r===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const e=this.rowNode.isSelected();if(e&&this.beans.gridOptionsService.get("suppressRowDeselection"))return;const i=this.beans.localeService.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${e?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(i)}isUseAnimationFrameForCreate(){return this.useAnimationFrameForCreate}addHoverFunctionality(e){this.active&&(this.addManagedListener(e,"mouseenter",()=>this.rowNode.onMouseEnter()),this.addManagedListener(e,"mouseleave",()=>this.rowNode.onMouseLeave()),this.addManagedListener(this.rowNode,qi.EVENT_MOUSE_ENTER,()=>{!this.beans.dragService.isDragging()&&!this.gridOptionsService.get("suppressRowHoverHighlight")&&(e.classList.add("ag-row-hover"),this.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,qi.EVENT_MOUSE_LEAVE,()=>{e.classList.remove("ag-row-hover"),this.rowNode.setHovered(!1)}))}roundRowTopToBounds(e){const n=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),i=this.applyPaginationOffset(n.top,!0)-100,r=this.applyPaginationOffset(n.bottom,!0)+100;return Math.min(Math.max(i,e),r)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(e,n){e?n(e):this.allRowGuis.forEach(n)}onRowHeightChanged(e){if(null==this.rowNode.rowHeight)return;const n=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),s=this.gridOptionsService.isGetRowHeightFunction()?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,o=s?Math.min(i,s)-2+"px":void 0;this.forEachGui(e,c=>{c.element.style.height=`${n}px`,o&&c.element.style.setProperty("--ag-line-height",o)})}addEventListener(e,n){super.addEventListener(e,n)}removeEventListener(e,n){super.removeEventListener(e,n)}destroyFirstPass(e=!1){if(this.active=!1,!e&&this.gridOptionsService.isAnimateRows()&&!this.isSticky())if(null!=this.rowNode.rowTop){const r=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const n=this.createRowEvent(W.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(n),this.beans.eventService.dispatchEvent(n),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const e=n=>(n.list.forEach(i=>i.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,n=>{n.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),n.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,n=!1){return this.rowNode.isRowPinned()||this.rowNode.sticky?e:e+this.beans.paginationProxy.getPixelOffset()*(n?1:-1)}setRowTop(e){if(!this.printLayout&&$t(e)){const n=this.applyPaginationOffset(e),s=`${this.rowNode.isRowPinned()||this.rowNode.sticky?n:this.beans.rowContainerHeightService.getRealPixelPosition(n)}px`;this.setRowTopStyle(s)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";let n;if(this.isSticky())n=this.rowNode.stickyRowTop;else{const i=this.slideInAnimation[e]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,r=this.applyPaginationOffset(i);n=this.rowNode.isRowPinned()?r:this.beans.rowContainerHeightService.getRealPixelPosition(r)}return n+"px"}setRowTopStyle(e){this.allRowGuis.forEach(n=>this.suppressRowTransform?n.rowComp.setTop(e):n.rowComp.setTransform(`translateY(${e})`))}getRowNode(){return this.rowNode}getCellCtrl(e){let n=null;return this.getAllCellCtrls().forEach(i=>{i.getColumn()==e&&(n=i)}),null!=n||this.getAllCellCtrls().forEach(i=>{i.getColSpanningList().indexOf(e)>=0&&(n=i)}),n}onRowIndexChanged(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(e){const n=this.rowNode.getRowIndexString(),i=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),r=this.rowNode.rowIndex%2==0,s=i+this.rowNode.rowIndex+1;this.forEachGui(e,o=>{o.rowComp.setRowIndex(n),o.rowComp.addOrRemoveCssClass("ag-row-even",r),o.rowComp.addOrRemoveCssClass("ag-row-odd",!r),V6(o.element,s)})}};Xne.DOM_DATA_KEY_ROW_CTRL="renderedRow";var Mw=Xne,Ru=class extends Jt{constructor(t){super(),this.element=t}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const t="keydown",e=this.processKeyboardEvent.bind(this,t);this.addManagedListener(this.element,t,e)}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",x6("touchstart")?"touchstart":"mousedown"].forEach(n=>{const i=this.processMouseEvent.bind(this,n);this.addManagedListener(this.element,n,i)})}processMouseEvent(t,e){if(!this.mouseEventService.isEventFromThisGrid(e)||mf(e))return;const n=this.getRowForEvent(e),i=this.mouseEventService.getRenderedCellForEvent(e);"contextmenu"===t?this.handleContextMenuMouseEvent(e,void 0,n,i):(i&&i.onMouseEvent(t,e),n&&n.onMouseEvent(t,e))}mockContextMenuForIPad(){if(!Km())return;const t=new za(this.element);this.addManagedListener(t,za.EVENT_LONG_TAP,n=>{const i=this.getRowForEvent(n.touchEvent),r=this.mouseEventService.getRenderedCellForEvent(n.touchEvent);this.handleContextMenuMouseEvent(void 0,n.touchEvent,i,r)}),this.addDestroyFunc(()=>t.destroy())}getRowForEvent(t){let e=t.target;for(;e;){const n=this.gridOptionsService.getDomData(e,Mw.DOM_DATA_KEY_ROW_CTRL);if(n)return n;e=e.parentElement}return null}handleContextMenuMouseEvent(t,e,n,i){const r=n?n.getRowNode():null,s=i?i.getColumn():null;let o=null;s&&(i.dispatchCellContextMenuEvent((t||e)??null),o=this.valueService.getValue(s,r));const c=this.ctrlsService.getGridBodyCtrl(),d=i?i.getGui():c.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:t,touchEvent:e,rowNode:r,column:s,value:o,anchorToElement:d})}getControlsForEventTarget(t){return{cellCtrl:RL(this.gridOptionsService,t,Pw.DOM_DATA_KEY_CELL_CTRL),rowCtrl:RL(this.gridOptionsService,t,Mw.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(t,e){const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(e.target);e.defaultPrevented||(n?this.processCellKeyboardEvent(n,t,e):i&&i.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,t,e))}processCellKeyboardEvent(t,e,n){const i=t.getRowNode(),r=t.getColumn(),s=t.isEditing();if(!WL(this.gridOptionsService,n,i,r,s)&&"keydown"===e&&(!s&&this.navigationService.handlePageScrollingKey(n)||t.onKeyDown(n),this.doGridOperations(n,t.isEditing()),UL(n)&&t.processCharacter(n)),"keydown"===e){const c=t.createEvent(n,W.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(c)}}processFullWidthRowKeyboardEvent(t,e,n){const i=t.getRowNode(),r=this.focusService.getFocusedCell();if(!WL(this.gridOptionsService,n,i,r&&r.column,!1)&&"keydown"===e)switch(n.key){case Qe.PAGE_HOME:case Qe.PAGE_END:case Qe.PAGE_UP:case Qe.PAGE_DOWN:this.navigationService.handlePageScrollingKey(n,!0);break;case Qe.UP:case Qe.DOWN:t.onKeyboardNavigate(n);break;case Qe.TAB:t.onTabKeyDown(n)}if("keydown"===e){const c=t.createRowEvent(W.EVENT_CELL_KEY_DOWN,n);this.eventService.dispatchEvent(c)}}doGridOperations(t,e){if(!t.ctrlKey&&!t.metaKey||e||!this.mouseEventService.isEventFromThisGrid(t))return;const n=sne(t);return n===Qe.A?this.onCtrlAndA(t):n===Qe.C?this.onCtrlAndC(t):n===Qe.D?this.onCtrlAndD(t):n===Qe.V?this.onCtrlAndV(t):n===Qe.X?this.onCtrlAndX(t):n===Qe.Y?this.onCtrlAndY():n===Qe.Z?this.onCtrlAndZ(t):void 0}onCtrlAndA(t){const{pinnedRowModel:e,paginationProxy:n,rangeService:i}=this;if(i&&n.isRowsToRender()){const[r,s]=[e.isEmpty("top"),e.isEmpty("bottom")],o=r?null:"top";let c,d;s?(c=null,d=this.paginationProxy.getRowCount()-1):(c="bottom",d=e.getPinnedBottomRowData().length-1);const p=this.columnModel.getAllDisplayedColumns();if(ql(p))return;i.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:d,rowEndPinned:c,columnStart:p[0],columnEnd:q(p)})}t.preventDefault()}onCtrlAndC(t){if(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection"))return;const{cellCtrl:e,rowCtrl:n}=this.getControlsForEventTarget(t.target);e?.isEditing()||n?.isEditing()||(t.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(t){if(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection")||this.gridOptionsService.get("suppressCutToClipboard"))return;const{cellCtrl:e,rowCtrl:n}=this.getControlsForEventTarget(t.target);e?.isEditing()||n?.isEditing()||(t.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(t){const{cellCtrl:e,rowCtrl:n}=this.getControlsForEventTarget(t.target);e?.isEditing()||n?.isEditing()||this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(t){this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),t.preventDefault()}onCtrlAndZ(t){this.gridOptionsService.get("undoRedoCellEditing")&&(t.preventDefault(),t.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService.redo("ui")}};N([Y("mouseEventService")],Ru.prototype,"mouseEventService",2),N([Y("valueService")],Ru.prototype,"valueService",2),N([Y("menuService")],Ru.prototype,"menuService",2),N([Y("ctrlsService")],Ru.prototype,"ctrlsService",2),N([Y("navigationService")],Ru.prototype,"navigationService",2),N([Y("focusService")],Ru.prototype,"focusService",2),N([Y("undoRedoService")],Ru.prototype,"undoRedoService",2),N([Y("columnModel")],Ru.prototype,"columnModel",2),N([Y("paginationProxy")],Ru.prototype,"paginationProxy",2),N([Y("pinnedRowModel")],Ru.prototype,"pinnedRowModel",2),N([lr("rangeService")],Ru.prototype,"rangeService",2),N([lr("clipboardService")],Ru.prototype,"clipboardService",2),N([nn],Ru.prototype,"postConstruct",1);var RI=class extends Jt{constructor(t){super(),this.centerContainerCtrl=t}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.listenForResize()}),this.addManagedListener(this.eventService,W.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const t=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(t),this.gridBodyCtrl.registerBodyViewportResizeListener(t)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const t=this.centerContainerCtrl.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const e=ww(this.gridBodyCtrl.getBodyViewportElement());if(e<=50)return;let n=this.getPinnedColumnsOverflowingViewport(e-50);const i=this.gridOptionsService.getCallback("processUnpinnedColumns");n.length&&(i&&(n=i({columns:n,viewportWidth:e})),this.columnModel.setColumnsPinned(n,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(t){const i=this.pinnedWidthService.getPinnedRightWidth()+this.pinnedWidthService.getPinnedLeftWidth();if(i<t)return[];const r=[...this.columnModel.getDisplayedLeftColumns()],s=[...this.columnModel.getDisplayedRightColumns()];let o=0,c=0;const p=[];let m=i-0-t;for(;(c<r.length||o<s.length)&&m>0;){if(o<s.length){const y=s[o++];m-=y.getActualWidth(),p.push(y)}if(c<r.length&&m>0){const y=r[c++];m-=y.getActualWidth(),p.push(y)}}return p}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=Wx(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==e&&(this.bodyHeight=e,this.eventService.dispatchEvent({type:W.EVENT_BODY_HEIGHT_CHANGED}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const t={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(t)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const t=this.centerContainerCtrl.getCenterWidth(),e=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(t,e)}};N([Y("ctrlsService")],RI.prototype,"ctrlsService",2),N([Y("pinnedWidthService")],RI.prototype,"pinnedWidthService",2),N([Y("columnModel")],RI.prototype,"columnModel",2),N([Y("scrollVisibleService")],RI.prototype,"scrollVisibleService",2),N([nn],RI.prototype,"postConstruct",1);var D3=class extends Jt{constructor(t){super(),this.element=t}postConstruct(){this.addManagedListener(this.eventService,W.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))}onPinnedLeftWidthChanged(){const t=this.pinnedWidthService.getPinnedLeftWidth();nr(this.element,t>0),ah(this.element,t)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}};N([Y("pinnedWidthService")],D3.prototype,"pinnedWidthService",2),N([nn],D3.prototype,"postConstruct",1);var x3=class extends Jt{constructor(t){super(),this.element=t}postConstruct(){this.addManagedListener(this.eventService,W.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))}onPinnedRightWidthChanged(){const t=this.pinnedWidthService.getPinnedRightWidth();nr(this.element,t>0),ah(this.element,t)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}};N([Y("pinnedWidthService")],x3.prototype,"pinnedWidthService",2),N([nn],x3.prototype,"postConstruct",1);var nk=class extends Jt{constructor(t,e){super(),this.eContainer=t,this.eViewport=e}postConstruct(){this.addManagedListener(this.eventService,W.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))}onHeightChanged(){const t=this.maxDivHeightScaler.getUiContainerHeight(),e=null!=t?`${t}px`:"";this.eContainer.style.height=e,this.eViewport&&(this.eViewport.style.height=e)}};N([Y("rowContainerHeightService")],nk.prototype,"maxDivHeightScaler",2),N([nn],nk.prototype,"postConstruct",1);var ik=class extends Jt{constructor(t){super(),this.eContainer=t}postConstruct(){hi(this.rangeService)||(this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",e=>{e.currentValue?this.enableFeature():this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),this.gridOptionsService.get("enableRangeSelection")&&this.enableFeature())}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}};N([lr("rangeService")],ik.prototype,"rangeService",2),N([Y("dragService")],ik.prototype,"dragService",2),N([nn],ik.prototype,"postConstruct",1);var DI=class extends Jt{constructor(t,e=!1){super(),this.callback=t,this.addSpacer=e}postConstruct(){const t=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",t),this.addManagedListener(this.eventService,W.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_LEFT_PINNED_WIDTH_CHANGED,t),this.addSpacer&&(this.addManagedListener(this.eventService,W.EVENT_RIGHT_PINNED_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_SCROLL_VISIBILITY_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_SCROLLBAR_WIDTH_CHANGED,t)),this.setWidth()}setWidth(){const{columnModel:t}=this,e=this.gridOptionsService.isDomLayout("print"),n=t.getBodyContainerWidth(),i=t.getDisplayedColumnsLeftWidth(),r=t.getDisplayedColumnsRightWidth();let s;e?s=n+i+r:(s=n,this.addSpacer&&0===(this.gridOptionsService.get("enableRtl")?i:r)&&this.scrollVisibleService.isVerticalScrollShowing()&&(s+=this.gridOptionsService.getScrollbarWidth())),this.callback(s)}};N([Y("columnModel")],DI.prototype,"columnModel",2),N([Y("scrollVisibleService")],DI.prototype,"scrollVisibleService",2),N([nn],DI.prototype,"postConstruct",1);var yye=ay([["center","ag-center-cols-container"],["left","ag-pinned-left-cols-container"],["right","ag-pinned-right-cols-container"],["fullWidth","ag-full-width-container"],["topCenter","ag-floating-top-container"],["topLeft","ag-pinned-left-floating-top"],["topRight","ag-pinned-right-floating-top"],["topFullWidth","ag-floating-top-full-width-container"],["stickyTopCenter","ag-sticky-top-container"],["stickyTopLeft","ag-pinned-left-sticky-top"],["stickyTopRight","ag-pinned-right-sticky-top"],["stickyTopFullWidth","ag-sticky-top-full-width-container"],["bottomCenter","ag-floating-bottom-container"],["bottomLeft","ag-pinned-left-floating-bottom"],["bottomRight","ag-pinned-right-floating-bottom"],["bottomFullWidth","ag-floating-bottom-full-width-container"]]),Cye=ay([["center","ag-center-cols-viewport"],["topCenter","ag-floating-top-viewport"],["stickyTopCenter","ag-sticky-top-viewport"],["bottomCenter","ag-floating-bottom-viewport"]]),Nw=class pme extends Jt{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.isFullWithContainer="topFullWidth"===this.name||"stickyTopFullWidth"===this.name||"bottomFullWidth"===this.name||"fullWidth"===this.name}static getRowContainerCssClasses(e){return{container:yye.get(e),viewport:Cye.get(e)}}static getPinned(e){switch(e){case"bottomLeft":case"topLeft":case"stickyTopLeft":case"left":return"left";case"bottomRight":case"topRight":case"stickyTopRight":case"right":return"right";default:return null}}postConstruct(){this.enableRtl=this.gridOptionsService.get("enableRtl"),this.forContainers(["center"],()=>this.viewportSizeFeature=this.createManagedBean(new RI(this)))}registerWithCtrlsService(){switch(this.name){case"center":this.ctrlsService.registerCenterRowContainerCtrl(this);break;case"left":this.ctrlsService.registerLeftRowContainerCtrl(this);break;case"right":this.ctrlsService.registerRightRowContainerCtrl(this);break;case"topCenter":this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case"topLeft":this.ctrlsService.registerTopLeftRowContainerCon(this);break;case"topRight":this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case"stickyTopCenter":this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case"stickyTopLeft":this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case"stickyTopRight":this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case"bottomCenter":this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case"bottomLeft":this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case"bottomRight":this.ctrlsService.registerBottomRightRowContainerCtrl(this)}}forContainers(e,n){e.indexOf(this.name)>=0&&n()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,n,i){this.comp=e,this.eContainer=n,this.eViewport=i,this.createManagedBean(new Ru(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();this.forContainers(["left","bottomLeft","topLeft","stickyTopLeft"],()=>{this.pinnedWidthFeature=this.createManagedBean(new D3(this.eContainer)),this.addManagedListener(this.eventService,W.EVENT_LEFT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(["right","bottomRight","topRight","stickyTopRight"],()=>{this.pinnedWidthFeature=this.createManagedBean(new x3(this.eContainer)),this.addManagedListener(this.eventService,W.EVENT_RIGHT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(["center","left","right","fullWidth"],()=>this.createManagedBean(new nk(this.eContainer,"center"===this.name?i:void 0))),this.forContainers(["topCenter","topLeft","topRight","bottomCenter","bottomLeft","bottomRight","center","left","right","stickyTopCenter","stickyTopLeft","stickyTopRight"],()=>this.createManagedBean(new ik(this.eContainer))),this.forContainers(["center","topCenter","stickyTopCenter","bottomCenter"],()=>this.createManagedBean(new DI(k=>this.comp.setContainerWidth(`${k}px`)))),this.addListeners(),this.registerWithCtrlsService()}addListeners(){this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>this.onDisplayedColumnsChanged()),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>this.onDisplayedColumnsWidthChanged()),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_ROWS_CHANGED,e=>this.onDisplayedRowsChanged(e.afterScroll)),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(["stickyTopCenter","stickyTopLeft","stickyTopRight","stickyTopFullWidth"].indexOf(this.name)>=0)return void this.comp.setDomOrder(!0);const i=()=>{const r=this.gridOptionsService.get("ensureDomOrder"),s=this.gridOptionsService.isDomLayout("print");this.comp.setDomOrder(r||s)};this.addManagedPropertyListener("domLayout",i),i()}stopHScrollOnPinnedRows(){this.forContainers(["topCenter","stickyTopCenter","bottomCenter"],()=>{this.addManagedListener(this.eViewport,"scroll",()=>this.eViewport.scrollLeft=0)})}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const e=n=>{this.dragService.isDragging()&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){const n=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(n,i,e)}getCenterWidth(){return ww(this.eViewport)}getCenterViewportScrollLeft(){return $x(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const n=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>n())}isViewportInTheDOMTree(){return o3(this.eViewport)}getViewportScrollLeft(){return $x(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gridOptionsService.get("alwaysShowHorizontalScroll")||Yte(this.eViewport)}getViewportElement(){return this.eViewport}setContainerTranslateX(e){this.eContainer.style.transform=`translateX(${e}px)`}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){qx(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!pme.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){if(!this.visible)return void this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});const n=this.gridOptionsService.isDomLayout("print"),r=this.gridOptionsService.get("embedFullWidthRows")||n,s=this.getRowCtrls().filter(o=>{const c=o.isFullWidth();return this.isFullWithContainer?!r&&c:r||!c});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}getRowCtrls(){switch(this.name){case"topCenter":case"topLeft":case"topRight":case"topFullWidth":return this.rowRenderer.getTopRowCtrls();case"stickyTopCenter":case"stickyTopLeft":case"stickyTopRight":case"stickyTopFullWidth":return this.rowRenderer.getStickyTopRowCtrls();case"bottomCenter":case"bottomLeft":case"bottomRight":case"bottomFullWidth":return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}}};N([Y("dragService")],Nw.prototype,"dragService",2),N([Y("ctrlsService")],Nw.prototype,"ctrlsService",2),N([Y("columnModel")],Nw.prototype,"columnModel",2),N([Y("resizeObserverService")],Nw.prototype,"resizeObserverService",2),N([Y("rowRenderer")],Nw.prototype,"rowRenderer",2),N([nn],Nw.prototype,"postConstruct",1);var Qne=Nw,qp=class extends Ii{constructor(){super('<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="topLeft"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="topCenter"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="topRight"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="topFullWidth"></ag-row-container>\n        </div>\n        <div class="ag-body" ref="eBody" role="presentation">\n            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n                <ag-row-container ref="leftContainer" name="left"></ag-row-container>\n                <ag-row-container ref="centerContainer" name="center"></ag-row-container>\n                <ag-row-container ref="rightContainer" name="right"></ag-row-container>\n                <ag-row-container ref="fullWidthContainer" name="fullWidth"></ag-row-container>\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="stickyTopLeft"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="stickyTopCenter"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="stickyTopRight"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="stickyTopFullWidth"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="bottomLeft"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="bottomCenter"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="bottomRight"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="bottomFullWidth"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>')}init(){const t=(n,i)=>{const r=`${n}px`;i.style.minHeight=r,i.style.height=r},e={setRowAnimationCssOnBodyViewport:(n,i)=>this.setRowAnimationCssOnBodyViewport(n,i),setColumnCount:n=>Mte(this.getGui(),n),setRowCount:n=>Pte(this.getGui(),n),setTopHeight:n=>t(n,this.eTop),setBottomHeight:n=>t(n,this.eBottom),setTopDisplay:n=>this.eTop.style.display=n,setBottomDisplay:n=>this.eBottom.style.display=n,setStickyTopHeight:n=>this.eStickyTop.style.height=n,setStickyTopTop:n=>this.eStickyTop.style.top=n,setStickyTopWidth:n=>this.eStickyTop.style.width=n,setColumnMovingCss:(n,i)=>this.addOrRemoveCssClass(n,i),updateLayoutClasses:(n,i)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(s=>{s.toggle("ag-layout-auto-height",i.autoHeight),s.toggle("ag-layout-normal",i.normal),s.toggle("ag-layout-print",i.print)}),this.addOrRemoveCssClass("ag-layout-auto-height",i.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",i.normal),this.addOrRemoveCssClass("ag-layout-print",i.print)},setAlwaysVerticalScrollClass:(n,i)=>this.eBodyViewport.classList.toggle(qne,i),registerBodyViewportResizeListener:n=>{const i=this.resizeObserverService.observeResize(this.eBodyViewport,n);this.addDestroyFunc(()=>i())},setPinnedTopBottomOverflowY:n=>this.eTop.style.overflowY=this.eBottom.style.overflowY=n,setCellSelectableCss:(n,i)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(r=>r.classList.toggle(n,i))},setBodyViewportWidth:n=>this.eBodyViewport.style.width=n};this.ctrl=this.createManagedBean(new Wc),this.ctrl.setComp(e,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService&&this.gridOptionsService.get("enableRangeSelection")||"multiple"===this.gridOptionsService.get("rowSelection"))&&xte(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(t,e){const n=this.eBodyViewport.classList;n.toggle("ag-row-animation",e),n.toggle("ag-row-no-animation",!e)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}};N([Y("resizeObserverService")],qp.prototype,"resizeObserverService",2),N([lr("rangeService")],qp.prototype,"rangeService",2),N([fn("eBodyViewport")],qp.prototype,"eBodyViewport",2),N([fn("eStickyTop")],qp.prototype,"eStickyTop",2),N([fn("eTop")],qp.prototype,"eTop",2),N([fn("eBottom")],qp.prototype,"eBottom",2),N([fn("gridHeader")],qp.prototype,"headerRootComp",2),N([fn("eBody")],qp.prototype,"eBody",2),N([nn],qp.prototype,"init",1);var xI=class extends Jt{postConstruct(){this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateImpl())}):this.updateImpl()}updateImpl(){const t=this.ctrlsService.getCenterRowContainerCtrl();if(!t||this.columnAnimationService.isActive())return;const e={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(e)}setScrollsVisible(t){this.horizontalScrollShowing===t.horizontalScrollShowing&&this.verticalScrollShowing===t.verticalScrollShowing||(this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing,this.eventService.dispatchEvent({type:W.EVENT_SCROLL_VISIBILITY_CHANGED}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}};N([Y("ctrlsService")],xI.prototype,"ctrlsService",2),N([Y("columnAnimationService")],xI.prototype,"columnAnimationService",2),N([nn],xI.prototype,"postConstruct",1),xI=N([bn("scrollVisibleService")],xI);var Jm=class extends Jt{constructor(){super(...arguments),this.gridInstanceId=Jm.gridInstanceSequence.next()}stampTopLevelGridCompWithGridInstance(t){t[Jm.GRID_DOM_KEY]=this.gridInstanceId}getRenderedCellForEvent(t){return RL(this.gridOptionsService,t.target,Pw.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(t){return this.isElementInThisGrid(t.target)}isElementInThisGrid(t){let e=t;for(;e;){const n=e[Jm.GRID_DOM_KEY];if($t(n))return n===this.gridInstanceId;e=e.parentElement}return!1}getCellPositionForEvent(t){const e=this.getRenderedCellForEvent(t);return e?e.getCellPosition():null}getNormalisedPosition(t){const e=this.gridOptionsService.isDomLayout("normal");let i,r;if(null!=t.clientX||null!=t.clientY?(i=t.clientX,r=t.clientY):(i=t.x,r=t.y),e){const s=this.ctrlsService.getGridBodyCtrl(),o=s.getScrollFeature().getVScrollPosition();i+=s.getScrollFeature().getHScrollPosition().left,r+=o.top}return{x:i,y:r}}};Jm.gridInstanceSequence=new II,Jm.GRID_DOM_KEY="__ag_grid_instance",N([Y("ctrlsService")],Jm.prototype,"ctrlsService",2),Jm=N([bn("mouseEventService")],Jm);var Ql=class extends Jt{constructor(){super(),this.onPageDown=Bx(this.onPageDown,100),this.onPageUp=Bx(this.onPageUp,100)}postConstruct(){this.ctrlsService.whenReady(t=>{this.gridBodyCon=t.gridBodyCtrl})}handlePageScrollingKey(t,e=!1){const n=t.key,i=t.altKey,r=t.ctrlKey||t.metaKey,s=!!this.rangeService&&t.shiftKey,o=this.mouseEventService.getCellPositionForEvent(t);let c=!1;switch(n){case Qe.PAGE_HOME:case Qe.PAGE_END:!r&&!i&&(this.onHomeOrEndKey(n),c=!0);break;case Qe.LEFT:case Qe.RIGHT:case Qe.UP:case Qe.DOWN:if(!o)return!1;r&&!i&&!s&&(this.onCtrlUpDownLeftRight(n,o),c=!0);break;case Qe.PAGE_DOWN:case Qe.PAGE_UP:!r&&!i&&(c=this.handlePageUpDown(n,o,e))}return c&&t.preventDefault(),c}handlePageUpDown(t,e,n){return n&&(e=this.focusService.getFocusedCell()),!!e&&(t===Qe.PAGE_UP?this.onPageUp(e):this.onPageDown(e),!0)}navigateTo(t){const{scrollIndex:e,scrollType:n,scrollColumn:i,focusIndex:r,focusColumn:s}=t;$t(i)&&!i.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(i),$t(e)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e,n),t.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(r),this.focusService.setFocusedCell({rowIndex:r,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:r,rowPinned:null,column:s})}onPageDown(t){const n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.getViewportHeight(),r=this.paginationProxy.getPixelOffset(),o=this.paginationProxy.getRowIndexAtPixel(n.top+i+r);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,o):this.navigateToNextPage(t,o)}onPageUp(t){const n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.paginationProxy.getPixelOffset(),s=this.paginationProxy.getRowIndexAtPixel(n.top+i);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,s,!0):this.navigateToNextPage(t,s,!0)}navigateToNextPage(t,e,n=!1){const i=this.getViewportHeight(),r=this.paginationProxy.getPageFirstRow(),s=this.paginationProxy.getPageLastRow(),o=this.paginationProxy.getPixelOffset(),c=this.paginationProxy.getRow(t.rowIndex),d=n?c?.rowHeight-i-o:i-o;let y,m=this.paginationProxy.getRowIndexAtPixel(c?.rowTop+d+o);m===t.rowIndex&&(e=m=t.rowIndex+(n?-1:1)),n?(y="bottom",m<r&&(m=r),e<r&&(e=r)):(y="top",m>s&&(m=s),e>s&&(e=s)),this.isRowTallerThanView(m)&&(e=m,y="top"),this.navigateTo({scrollIndex:e,scrollType:y,scrollColumn:null,focusIndex:m,focusColumn:t.column})}navigateToNextPageWithAutoHeight(t,e,n=!1){this.navigateTo({scrollIndex:e,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:e,focusColumn:t.column}),setTimeout(()=>{const i=this.getNextFocusIndexForAutoHeight(t,n);this.navigateTo({scrollIndex:e,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:t.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(t,e=!1){var n;const i=e?-1:1,r=this.getViewportHeight(),s=this.paginationProxy.getPageLastRow();let o=0,c=t.rowIndex;for(;c>=0&&c<=s;){const d=this.paginationProxy.getRow(c);if(d){const p=null!=(n=d.rowHeight)?n:0;if(o+p>r)break;o+=p}c+=i}return Math.max(0,Math.min(c,s))}getViewportHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.gridOptionsService.getScrollbarWidth();let i=e.bottom-e.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(i-=n),i}isRowTallerThanView(t){const e=this.paginationProxy.getRow(t);if(!e)return!1;const n=e.rowHeight;return"number"==typeof n&&n>this.getViewportHeight()}onCtrlUpDownLeftRight(t,e){const n=this.cellNavigationService.getNextCellToFocus(t,e,!0),{rowIndex:i,column:r}=n;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:r,focusIndex:i,focusColumn:r})}onHomeOrEndKey(t){const e=t===Qe.PAGE_HOME,n=this.columnModel.getAllDisplayedColumns(),i=e?n[0]:q(n),r=e?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:i,focusIndex:r,focusColumn:i})}onTabKeyDown(t,e){const n=e.shiftKey;if(this.tabToNextCellCommon(t,n,e))e.preventDefault();else if(n){const{rowIndex:r,rowPinned:s}=t.getRowPosition();(s?0===r:r===this.paginationProxy.getPageFirstRow())&&(0===this.gridOptionsService.get("headerHeight")||this.gridOptionsService.get("suppressHeaderFocus")?this.focusService.focusNextGridCoreContainer(!0,!0):(e.preventDefault(),this.focusService.focusPreviousFromFirstCell(e)))}else t instanceof Pw&&t.focusCell(!0),this.focusService.focusNextGridCoreContainer(n)&&e.preventDefault()}tabToNextCell(t,e){const n=this.focusService.getFocusedCell();if(!n)return!1;let i=this.getCellByPosition(n);return!!(i||(i=this.rowRenderer.getRowByPosition(n),i&&i.isFullWidth()))&&this.tabToNextCellCommon(i,t,e)}tabToNextCellCommon(t,e,n){let r,i=t.isEditing();if(!i&&t instanceof Pw){const o=t.getRowCtrl();o&&(i=o.isEditing())}return r=i?"fullRow"===this.gridOptionsService.get("editType")?this.moveToNextEditingRow(t,e,n):this.moveToNextEditingCell(t,e,n):this.moveToNextCellNotEditing(t,e),r||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(t,e,n=null){const i=t.getCellPosition();t.getGui().focus(),t.stopEditing();const r=this.findNextCellToFocusOn(i,e,!0);return null!=r&&(r.startEditing(null,!0,n),r.focusCell(!1),!0)}moveToNextEditingRow(t,e,n=null){const i=t.getCellPosition(),r=this.findNextCellToFocusOn(i,e,!0);if(null==r)return!1;const s=r.getCellPosition(),o=this.isCellEditable(i),c=this.isCellEditable(s),d=s&&i.rowIndex===s.rowIndex&&i.rowPinned===s.rowPinned;return o&&t.setFocusOutOnEditor(),d||(t.getRowCtrl().stopEditing(),r.getRowCtrl().startRowEditing(void 0,void 0,n)),c?(r.setFocusInOnEditor(),r.focusCell()):r.focusCell(!0),!0}moveToNextCellNotEditing(t,e){const n=this.columnModel.getAllDisplayedColumns();let i;i=t instanceof Mw?ms(Yn({},t.getRowPosition()),{column:e?n[0]:q(n)}):t.getCellPosition();const r=this.findNextCellToFocusOn(i,e,!1);if(r instanceof Pw)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r.getRowPosition(),e);return $t(r)}findNextCellToFocusOn(t,e,n){let i=t;for(;;){t!==i&&(t=i),e||(i=this.getLastCellOfColSpan(i)),i=this.cellNavigationService.getNextTabbedCell(i,e);const r=this.gridOptionsService.getCallback("tabToNextCell");if($t(r)){const d=r({backwards:e,editing:n,previousCellPosition:t,nextCellPosition:i||null});$t(d)?(d.floating&&(ei("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),d.rowPinned=d.floating),i={rowIndex:d.rowIndex,column:d.column,rowPinned:d.rowPinned}):i=null}if(!i)return null;if(i.rowIndex<0){const c=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c+i.rowIndex,column:i.column},fromCell:!0}),null}const s="fullRow"===this.gridOptionsService.get("editType");if(n&&!s&&!this.isCellEditable(i))continue;this.ensureCellVisible(i);const o=this.getCellByPosition(i);if(!o){const c=this.rowRenderer.getRowByPosition(i);if(!c||!c.isFullWidth()||n)continue;return c}if(!o.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(i),o}}isCellEditable(t){const e=this.lookupRowNodeForCell(t);return!!e&&t.column.isCellEditable(e)}getCellByPosition(t){const e=this.rowRenderer.getRowByPosition(t);return e?e.getCellCtrl(t.column):null}lookupRowNodeForCell(t){return"top"===t.rowPinned?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):"bottom"===t.rowPinned?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.paginationProxy.getRow(t.rowIndex)}navigateToNextCell(t,e,n,i){let r=n,s=!1;for(;r&&(r===n||!this.isValidNavigateCell(r));)this.gridOptionsService.get("enableRtl")?e===Qe.LEFT&&(r=this.getLastCellOfColSpan(r)):e===Qe.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=this.cellNavigationService.getNextCellToFocus(e,r),s=hi(r);if(s&&t&&t.key===Qe.UP&&(r={rowIndex:-1,rowPinned:null,column:n.column}),i){const c=this.gridOptionsService.getCallback("navigateToNextCell");if($t(c)){const p=c({key:e,previousCellPosition:n,nextCellPosition:r||null,event:t});$t(p)?(p.floating&&(ei("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),p.rowPinned=p.floating),r={rowPinned:p.rowPinned,rowIndex:p.rowIndex,column:p.column}):r=null}}if(!r)return;if(r.rowIndex<0){const c=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c+r.rowIndex,column:n.column},event:t||void 0,fromCell:!0})}const o=this.getNormalisedPosition(r);o?this.focusPosition(o):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(t){this.ensureCellVisible(t);const e=this.getCellByPosition(t);return e?(t=e.getCellPosition(),this.ensureCellVisible(t),t):null}tryToFocusFullWidthRow(t,e=!1){const n=this.columnModel.getAllDisplayedColumns(),i=this.rowRenderer.getRowByPosition(t);if(!i||!i.isFullWidth())return!1;const r=this.focusService.getFocusedCell(),s={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column||(e?q(n):n[0])};this.focusPosition(s);const o=null!=r&&this.rowPositionUtils.before(s,r);return this.eventService.dispatchEvent({type:W.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:s.column,isFullWidthCell:!0,floating:s.rowPinned,fromBelow:o}),!0}focusPosition(t){this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(t)}isValidNavigateCell(t){return!!this.rowPositionUtils.getRowNode(t)}getLastCellOfColSpan(t){const e=this.getCellByPosition(t);if(!e)return t;const n=e.getColSpanningList();return 1===n.length?t:{rowIndex:t.rowIndex,column:q(n),rowPinned:t.rowPinned}}ensureCellVisible(t){const e=this.gridOptionsService.isGroupRowsSticky(),n=this.rowModel.getRow(t.rowIndex);!(e&&n?.sticky)&&hi(t.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(t.column)}};N([Y("mouseEventService")],Ql.prototype,"mouseEventService",2),N([Y("paginationProxy")],Ql.prototype,"paginationProxy",2),N([Y("focusService")],Ql.prototype,"focusService",2),N([lr("rangeService")],Ql.prototype,"rangeService",2),N([Y("columnModel")],Ql.prototype,"columnModel",2),N([Y("rowModel")],Ql.prototype,"rowModel",2),N([Y("ctrlsService")],Ql.prototype,"ctrlsService",2),N([Y("rowRenderer")],Ql.prototype,"rowRenderer",2),N([Y("headerNavigationService")],Ql.prototype,"headerNavigationService",2),N([Y("rowPositionUtils")],Ql.prototype,"rowPositionUtils",2),N([Y("cellNavigationService")],Ql.prototype,"cellNavigationService",2),N([Y("pinnedRowModel")],Ql.prototype,"pinnedRowModel",2),N([nn],Ql.prototype,"postConstruct",1),Ql=N([bn("navigationService")],Ql);var P3=class gme extends Tw{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){this.gridOptionsService.setDomData(this.getGui(),gme.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),n=this.params;this.addManagedListener(e,"keydown",r=>{WL(this.gridOptionsService,r,n.node,n.column,!0)||n.onKeyDown(r)})}};P3.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",N([nn],P3.prototype,"postConstruct",1);var wye=P3,Eye=class extends Ii{constructor(t,e,n,i,r){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode(),this.rowCtrl=e.getRowCtrl(),this.eRow=i,this.cellCtrl=e;const s=document.createElement("div");s.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(s);const o=this.getGui();this.forceWrapper=e.isForceWrapper(),this.refreshWrapper(!1);const c=(m,y)=>{null!=y&&""!=y?o.setAttribute(m,y):o.removeAttribute(m)};so(o,e.getCellAriaRole()),c("col-id",e.getColumnIdSanitised());const d=e.getTabIndex();void 0!==d&&c("tabindex",d.toString()),e.setComp({addOrRemoveCssClass:(m,y)=>this.addOrRemoveCssClass(m,y),setUserStyles:m=>c3(o,m),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:m=>this.includeSelection=m,setIncludeRowDrag:m=>this.includeRowDrag=m,setIncludeDndSource:m=>this.includeDndSource=m,setRenderDetails:(m,y,A)=>this.setRenderDetails(m,y,A),setEditDetails:(m,y,A)=>this.setEditDetails(m,y,A),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()},this.getGui(),this.eCellWrapper,n,r)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(t,e,n){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=null==this.firstRender;const r=this.refreshWrapper(!1);this.refreshEditStyles(!1),t?!n&&!r&&this.refreshCellRenderer(t)||(this.destroyRenderer(),this.createCellRendererInstance(t)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(e))}setEditDetails(t,e,n){t?this.createCellEditorInstance(t,e,n):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(t){const e=this.includeRowDrag||this.includeDndSource||this.includeSelection,n=e||this.forceWrapper,i=n&&null==this.eCellWrapper;if(i){const p=document.createElement("div");p.setAttribute("role","presentation"),p.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=p,this.getGui().appendChild(this.eCellWrapper)}const r=!n&&null!=this.eCellWrapper;r&&(_f(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!n);const s=!t&&n,o=s&&null==this.eCellValue;if(o){const p=document.createElement("span");p.setAttribute("role","presentation"),p.setAttribute("class","ag-cell-value"),this.eCellValue=p,this.eCellWrapper.appendChild(this.eCellValue)}const c=!s&&null!=this.eCellValue;c&&(_f(this.eCellValue),this.eCellValue=void 0);const d=i||r||o||c;return d&&this.removeControls(),t||e&&this.addControls(),d}addControls(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(t,e,n){const i=this.editorVersion,r=t.newAgStackInstance();if(!r)return;const{params:s}=t;r.then(c=>this.afterCellEditorCreated(i,c,s,e,n)),hi(this.cellEditor)&&s.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(t){const e=this.getParentOfValue();Jo(e);const n=null!=t?ha(t,!0):null;null!=n&&(e.textContent=n)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:t}=this.beans;this.cellRenderer=t.destroyBean(this.cellRenderer),_f(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:t}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=t.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=t.destroyBean(this.cellEditorPopupWrapper),_f(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(t){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==t.componentClass)return!1;const e=this.cellRenderer.refresh(t.params);return!0===e||void 0===e}createCellRendererInstance(t){const n=!this.beans.gridOptionsService.get("suppressAnimationFrame"),i=this.rendererVersion,{componentClass:r}=t,s=()=>{if(this.rendererVersion!==i||!this.isAlive())return;const c=t.newAgStackInstance(),d=this.afterCellRendererCreated.bind(this,i,r);c&&c.then(d)};n&&this.firstRender?this.beans.animationFrameService.createTask(s,this.rowNode.rowIndex,"createTasksP2"):s()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(t,e,n){if(this.isAlive()&&t===this.rendererVersion){if(this.cellRenderer=n,this.cellRendererClass=e,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){const r=this.getParentOfValue();Jo(r),r.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(n)}afterCellEditorCreated(t,e,n,i,r){if(t!==this.editorVersion)return void this.beans.context.destroyBean(e);if(e.isCancelBeforeStart&&e.isCancelBeforeStart())return this.beans.context.destroyBean(e),void this.cellCtrl.stopEditing(!0);if(!e.getGui)return console.warn(`AG Grid: cellEditor for column ${this.column.getId()} is missing getGui() method`),void this.beans.context.destroyBean(e);this.cellEditor=e,this.cellEditorGui=e.getGui();const c=i||void 0!==e.isPopup&&e.isPopup();c?this.addPopupCellEditor(n,r):this.addInCellEditor(),this.refreshEditStyles(!0,c),e.afterGuiAttached&&e.afterGuiAttached()}refreshEditStyles(t,e){var n;this.addOrRemoveCssClass("ag-cell-inline-editing",t&&!e),this.addOrRemoveCssClass("ag-cell-popup-editing",t&&!!e),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!t||!!e),null==(n=this.rowCtrl)||n.setInlineEditingCss(t)}addInCellEditor(){const t=this.getGui(),e=this.beans.gridOptionsService.getDocument();t.contains(e.activeElement)&&t.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(t,e){"fullRow"===this.beans.gridOptionsService.get("editType")&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const n=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new wye(t));const i=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&i.appendChild(this.cellEditorGui);const r=this.beans.popupService,s=this.beans.gridOptionsService.get("stopEditingWhenCellsLoseFocus"),o=e??(n.getPopupPosition?n.getPopupPosition():"over"),c=this.beans.gridOptionsService.get("enableRtl"),d={ePopup:i,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:o,alignSide:c?"right":"left",keepWithinBounds:!0},p=r.positionPopupByComponent.bind(r,d),m=this.beans.localeService.getLocaleTextFunc(),y=r.addPopup({modal:s,eChild:i,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:p,ariaLabel:m("ariaLabelCellEditor","Cell Editor")});y&&(this.hideEditorPopup=y.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const t=this.getGui(),e=this.beans.gridOptionsService.getDocument();t.contains(e.activeElement)&&Q6()&&t.focus({preventScroll:!0}),Jo(this.getParentOfValue())}},Sye=class extends Ii{constructor(t,e,n){super(),this.cellComps={},this.beans=e,this.rowCtrl=t;const i=document.createElement("div");i.setAttribute("comp-id",`${this.getCompId()}`),i.setAttribute("style",this.getInitialStyle(n)),this.setTemplateFromElement(i);const r=this.getGui(),s=r.style;this.domOrder=this.rowCtrl.getDomOrder(),so(r,"row");const o=this.rowCtrl.getTabIndex();null!=o&&r.setAttribute("tabindex",o.toString()),t.setComp({setDomOrder:d=>this.domOrder=d,setCellCtrls:d=>this.setCellCtrls(d),showFullWidth:d=>this.showFullWidth(d),getFullWidthCellRenderer:()=>this.getFullWidthCellRenderer(),addOrRemoveCssClass:(d,p)=>this.addOrRemoveCssClass(d,p),setUserStyles:d=>c3(r,d),setTop:d=>s.top=d,setTransform:d=>s.transform=d,setRowIndex:d=>r.setAttribute("row-index",d),setRowId:d=>r.setAttribute("row-id",d),setRowBusinessKey:d=>r.setAttribute("row-business-key",d),refreshFullWidth:d=>this.refreshFullWidth(d)},this.getGui(),n),this.addDestroyFunc(()=>{t.unsetComp(n)})}getInitialStyle(t){const e=this.rowCtrl.getInitialTransform(t);return e?`transform: ${e}`:`top: ${this.rowCtrl.getInitialRowTop(t)}`}showFullWidth(t){const n=t.newAgStackInstance();n&&n.then(i=>{if(this.isAlive()){const r=i.getGui();this.getGui().appendChild(r),this.rowCtrl.setupDetailRowAutoHeight(r),this.setFullWidthRowComp(i)}else this.beans.context.destroyBean(i)})}setCellCtrls(t){const e=Object.assign({},this.cellComps);t.forEach(i=>{const r=i.getInstanceId();null==this.cellComps[r]?this.newCellComp(i):e[r]=null});const n=Hp(e).filter(i=>null!=i);this.destroyCells(n),this.ensureDomOrder(t)}ensureDomOrder(t){if(!this.domOrder)return;const e=[];t.forEach(n=>{const i=this.cellComps[n.getInstanceId()];i&&e.push(i.getGui())}),l3(this.getGui(),e)}newCellComp(t){const e=new Eye(this.beans,t,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[t.getInstanceId()]=e,this.getGui().appendChild(e.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const t=Hp(this.cellComps).filter(e=>null!=e);this.destroyCells(t)}setFullWidthRowComp(t){this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=t,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}getFullWidthCellRenderer(){return this.fullWidthCellRenderer}destroyCells(t){t.forEach(e=>{if(!e)return;const n=e.getCtrl().getInstanceId();this.cellComps[n]===e&&(e.detach(),e.destroy(),this.cellComps[n]=null)})}refreshFullWidth(t){const{fullWidthCellRenderer:e}=this;if(!e||!e.refresh)return!1;const n=t();return e.refresh(n)}},PI=class extends Ii{constructor(){super(function Iye(){const t=Ii.elementGettingCreated.getAttribute("name"),e=Qne.getRowContainerCssClasses(t);let n;return n="center"===t||"topCenter"===t||"stickyTopCenter"===t||"bottomCenter"===t?`<div class="${e.viewport}" ref="eViewport" role="presentation">\n                <div class="${e.container}" ref="eContainer"></div>\n            </div>`:`<div class="${e.container}" ref="eContainer"></div>`,n}()),this.rowComps={},this.name=Ii.elementGettingCreated.getAttribute("name"),this.type=function _ye(t){switch(t){case"center":case"topCenter":case"stickyTopCenter":case"bottomCenter":return"center";case"left":case"topLeft":case"stickyTopLeft":case"bottomLeft":return"left";case"right":case"topRight":case"stickyTopRight":case"bottomRight":return"right";case"fullWidth":case"topFullWidth":case"stickyTopFullWidth":case"bottomFullWidth":return"fullWidth";default:throw Error("Invalid Row Container Type")}}(this.name)}postConstruct(){const t={setViewportHeight:n=>this.eViewport.style.height=n,setRowCtrls:({rowCtrls:n})=>this.setRowCtrls(n),setDomOrder:n=>{this.domOrder=n},setContainerWidth:n=>this.eContainer.style.width=n};this.createManagedBean(new Qne(this.name)).setComp(t,this.eContainer,this.eViewport)}preDestroy(){this.setRowCtrls([])}setRowCtrls(t){const e=Yn({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,t.forEach(i=>{const r=i.getInstanceId(),s=e[r];if(s)this.rowComps[r]=s,delete e[r],this.ensureDomOrder(s.getGui());else{if(!i.getRowNode().displayed)return;const o=new Sye(i,this.beans,this.type);this.rowComps[r]=o,this.appendRow(o.getGui())}}),Hp(e).forEach(i=>{this.eContainer.removeChild(i.getGui()),i.destroy()}),so(this.eContainer,"rowgroup")}appendRow(t){this.domOrder?Kte(this.eContainer,t,this.lastPlacedElement):this.eContainer.appendChild(t),this.lastPlacedElement=t}ensureDomOrder(t){this.domOrder&&(a3(this.eContainer,t,this.lastPlacedElement),this.lastPlacedElement=t)}};N([Y("beans")],PI.prototype,"beans",2),N([fn("eViewport")],PI.prototype,"eViewport",2),N([fn("eContainer")],PI.prototype,"eContainer",2),N([nn],PI.prototype,"postConstruct",1),N([Yl],PI.prototype,"preDestroy",1);var M3=class{constructor(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}onDragEnter(t){if(this.clearColumnsList(),this.gridOptionsService.get("functionsReadOnly"))return;const e=t.dragItem.columns;e&&e.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?Di.ICON_PINNED:Di.ICON_MOVE:null}onDragLeave(t){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(t){}onDragStop(t){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}};N([Y("columnModel")],M3.prototype,"columnModel",2),N([Y("gridOptionsService")],M3.prototype,"gridOptionsService",2);var Ow=class{static attemptMoveColumns(t){const{isFromHeader:e,hDirection:n,xPosition:i,fromEnter:r,fakeEvent:s,pinned:o,gridOptionsService:c,columnModel:d}=t,p=0===n,m=1===n;let{allMovingColumns:y}=t;if(e){let tt=[];y.forEach(zt=>{var Ot;let Se=null,me=zt.getParent();for(;null!=me&&1===me.getDisplayedLeafColumns().length;)Se=me,me=me.getParent();null!=Se?(null!=(Ot=Se.getColGroupDef())&&Ot.marryChildren?Se.getProvidedColumnGroup().getLeafColumns():Se.getLeafColumns()).forEach(et=>{tt.includes(et)||tt.push(et)}):tt.includes(zt)||tt.push(zt)}),y=tt}const A=y.slice();d.sortColumnsLikeGridColumns(A);const k=this.calculateValidMoves({movingCols:A,draggingRight:m,xPosition:i,pinned:o,gridOptionsService:c,columnModel:d}),U=this.calculateOldIndex(A,d);if(0===k.length)return;const X=k[0];let Q=null!==U&&!r;if(e&&(Q=null!==U),Q&&!s&&(p&&X>=U||m&&X<=U))return;const pe=d.getAllDisplayedColumns();let Ie=[],ke=null;for(let tt=0;tt<k.length;tt++){const zt=k[tt],Ot=d.getProposedColumnOrder(A,zt);if(!d.doesOrderPassRules(Ot))continue;const Se=Ot.filter(De=>pe.includes(De));if(null===ke)ke=Se;else if(!ae(Se,ke))break;const me=this.groupFragCount(Ot);Ie.push({move:zt,fragCount:me})}return 0!==Ie.length?(Ie.sort((tt,zt)=>tt.fragCount-zt.fragCount),this.moveColumns(y,Ie[0].move,"uiColumnMoved",!1,d)):void 0}static moveColumns(t,e,n,i,r){return r.moveColumns(t,e,n,i),i?null:{columns:t,toIndex:e}}static calculateOldIndex(t,e){const n=e.getAllGridColumns(),i=je(t.map(d=>n.indexOf(d))),r=i[0];return q(i)-r!=i.length-1?null:r}static groupFragCount(t){function e(i){let r=[],s=i.getOriginalParent();for(;null!=s;)r.push(s),s=s.getOriginalParent();return r}let n=0;for(let i=0;i<t.length-1;i++){let r=e(t[i]),s=e(t[i+1]);[r,s]=r.length>s.length?[r,s]:[s,r],r.forEach(o=>{-1===s.indexOf(o)&&n++})}return n}static calculateValidMoves(t){const{movingCols:e,draggingRight:n,xPosition:i,pinned:r,gridOptionsService:s,columnModel:o}=t;if(s.get("suppressMovableColumns")||e.some(Ie=>Ie.getColDef().suppressMovable))return[];const d=o.getDisplayedColumns(r),p=o.getAllGridColumns(),m=d.filter(Ie=>Nr(e,Ie)),y=d.filter(Ie=>!Nr(e,Ie)),A=p.filter(Ie=>!Nr(e,Ie));let X,k=0,U=i;if(n){let Ie=0;m.forEach(ke=>Ie+=ke.getActualWidth()),U-=Ie}if(U>0){for(let Ie=0;Ie<y.length&&(U-=y[Ie].getActualWidth(),!(U<0));Ie++)k++;n&&k++}k>0?X=A.indexOf(y[k-1])+1:(X=A.indexOf(y[0]),-1===X&&(X=0));const Q=[X],pe=(Ie,ke)=>Ie-ke;if(n){let Ie=X+1;const ke=p.length-1;for(;Ie<=ke;)Q.push(Ie),Ie++;Q.sort(pe)}else{let Ie=X;const ke=p.length-1;let tt=p[Ie];for(;Ie<=ke&&d.indexOf(tt)<0;)Ie++,Q.push(Ie),tt=p[Ie];Ie=X-1;const zt=0;for(;Ie>=zt;)Q.push(Ie),Ie--;Q.sort(pe).reverse()}return Q}static normaliseX(t,e,n,i,r){const s=r.getHeaderRowContainerCtrl(e).getViewport();return n&&(t-=s.getBoundingClientRect().left),i.get("enableRtl")&&(t=s.clientWidth-t),null==e&&(t+=r.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),t}},MI=class{constructor(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=t,this.eContainer=e,this.centerContainer=!$t(t)}init(){this.ctrlsService.whenReady(()=>{this.gridBodyCon=this.ctrlsService.getGridBodyCtrl()})}getIconName(){return this.pinned?Di.ICON_PINNED:Di.ICON_MOVE}onDragEnter(t){const e=t.dragItem.columns;if(0===t.dragSource.type)this.setColumnsVisible(e,!0,"uiColumnDragged");else{const i=t.dragItem.visibleState,r=(e||[]).filter(s=>i[s.getId()]);this.setColumnsVisible(r,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(t,e,n){if(t){const i=t.filter(r=>!r.getColDef().lockVisible);this.columnModel.setColumnsVisible(i,e,n)}}setColumnsPinned(t,e,n){if(t){const i=t.filter(r=>!r.getColDef().lockPinned);this.columnModel.setColumnsPinned(i,e,n)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}checkCenterForScrolling(t){if(this.centerContainer){const e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),n=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.get("enableRtl")?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>n-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(t=this.lastDraggingEvent,e=!1,n=!1,i=!1){var r;if(i){if(this.lastMovedInfo){const{columns:m,toIndex:y}=this.lastMovedInfo;Ow.moveColumns(m,y,"uiColumnMoved",!0,this.columnModel)}return}if(this.lastDraggingEvent=t,hi(t.hDirection))return;const s=Ow.normaliseX(t.x,this.pinned,!1,this.gridOptionsService,this.ctrlsService);e||this.checkCenterForScrolling(s);const o=this.normaliseDirection(t.hDirection),c=t.dragSource.type,d=(null==(r=t.dragSource.getDragItem().columns)?void 0:r.filter(m=>!m.getColDef().lockPinned||m.getPinned()==this.pinned))||[],p=Ow.attemptMoveColumns({allMovingColumns:d,isFromHeader:1===c,hDirection:o,xPosition:s,pinned:this.pinned,fromEnter:e,fakeEvent:n,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel});p&&(this.lastMovedInfo=p)}normaliseDirection(t){if(!this.gridOptionsService.get("enableRtl"))return t;switch(t){case 0:return 1;case 1:return 0;default:console.error(`AG Grid: Unknown direction ${t}`)}}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?Di.ICON_LEFT:Di.ICON_RIGHT,!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Di.ICON_MOVE))}moveInterval(){let t;this.intervalCount++,t=10+5*this.intervalCount,t>100&&(t=100);let e=null;const n=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=n.scrollHorizontally(-t):this.needToMoveRight&&(e=n.scrollHorizontally(t)),0!==e)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const r=this.lastDraggingEvent.dragItem.columns.filter(s=>!s.getColDef().lockPinned);r.length>0&&(this.dragAndDropService.setGhostIcon(Di.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(r,this.needToMoveLeft?"left":"right","uiColumnDragged"),this.dragAndDropService.nudge())}}};N([Y("columnModel")],MI.prototype,"columnModel",2),N([Y("dragAndDropService")],MI.prototype,"dragAndDropService",2),N([Y("gridOptionsService")],MI.prototype,"gridOptionsService",2),N([Y("ctrlsService")],MI.prototype,"ctrlsService",2),N([nn],MI.prototype,"init",1);var NI=class extends Jt{constructor(t,e){super(),this.pinned=t,this.eContainer=e}postConstruct(){this.ctrlsService.whenReady(t=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.leftRowContainerCtrl.getContainerElement()],[t.bottomLeftRowContainerCtrl.getContainerElement()],[t.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.rightRowContainerCtrl.getContainerElement()],[t.bottomRightRowContainerCtrl.getContainerElement()],[t.topRightRowContainerCtrl.getContainerElement()]];break;default:this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.centerRowContainerCtrl.getViewportElement()],[t.bottomCenterRowContainerCtrl.getViewportElement()],[t.topCenterRowContainerCtrl.getViewportElement()]]}})}isInterestedIn(t){return 1===t||0===t&&this.gridOptionsService.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}init(){this.moveColumnFeature=this.createManagedBean(new MI(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new M3(this.pinned)),this.dragAndDropService.addDropTarget(this)}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(t){return this.columnModel.isPivotMode()&&0===t.dragSource.type}onDragEnter(t){this.currentDropListener=this.isDropColumnInPivotMode(t)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(t)}onDragLeave(t){this.currentDropListener.onDragLeave(t)}onDragging(t){this.currentDropListener.onDragging(t)}onDragStop(t){this.currentDropListener.onDragStop(t)}};N([Y("dragAndDropService")],NI.prototype,"dragAndDropService",2),N([Y("columnModel")],NI.prototype,"columnModel",2),N([Y("ctrlsService")],NI.prototype,"ctrlsService",2),N([nn],NI.prototype,"postConstruct",1),N([nn],NI.prototype,"init",1);var OI=class mme extends R3{constructor(e){super(mme.TEMPLATE,e),this.headerCompVersion=0,this.column=e.getColumnGroupChild(),this.pinned=e.getPinned()}postConstruct(){const e=this.getGui();var s,o;s="col-id",null!=(o=this.column.getColId())&&""!=o?e.setAttribute(s,o):e.removeAttribute(s);const i={setWidth:s=>e.style.width=s,addOrRemoveCssClass:(s,o)=>this.addOrRemoveCssClass(s,o),setAriaSort:s=>s?Ote(e,s):Fte(e),setUserCompDetails:s=>this.setUserCompDetails(s),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(i,this.getGui(),this.eResize,this.eHeaderCompWrapper);const r=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",r)}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;const n=this.headerCompVersion;e.newAgStackInstance().then(i=>this.afterCompCreated(n,i))}afterCompCreated(e,n){e==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=n,this.headerCompGui=n.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(n)}};OI.TEMPLATE='<div class="ag-header-cell" role="columnheader">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',N([fn("eResize")],OI.prototype,"eResize",2),N([fn("eHeaderCompWrapper")],OI.prototype,"eHeaderCompWrapper",2),N([nn],OI.prototype,"postConstruct",1),N([Yl],OI.prototype,"destroyHeaderComp",1);var Tye=OI,rk=class vme extends R3{constructor(e){super(vme.TEMPLATE,e)}postConstruct(){const e=this.getGui();e.setAttribute("col-id",this.ctrl.getColId()),this.ctrl.setComp({addOrRemoveCssClass:(r,s)=>this.addOrRemoveCssClass(r,s),setResizableDisplayed:r=>nr(this.eResize,r),setWidth:r=>e.style.width=r,setAriaExpanded:r=>((r,s)=>null!=s?e.setAttribute(r,s):e.removeAttribute(r))("aria-expanded",r),setUserCompDetails:r=>this.setUserCompDetails(r),getUserCompInstance:()=>this.headerGroupComp},e,this.eResize)}setUserCompDetails(e){e.newAgStackInstance().then(n=>this.afterHeaderCompCreated(n))}afterHeaderCompCreated(e){const n=()=>this.destroyBean(e);if(!this.isAlive())return void n();const i=this.getGui(),r=e.getGui();i.appendChild(r),this.addDestroyFunc(n),this.headerGroupComp=e,this.ctrl.setDragSource(i)}};rk.TEMPLATE='<div class="ag-header-group-cell" role="columnheader">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',N([fn("eResize")],rk.prototype,"eResize",2),N([nn],rk.prototype,"postConstruct",1);var Aye=rk,N3=class extends Ii{constructor(t){super(),this.headerComps={},this.ctrl=t,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}init(){V6(this.getGui(),this.ctrl.getAriaRowIndex()),this.ctrl.setComp({setHeight:e=>this.getGui().style.height=e,setTop:e=>this.getGui().style.top=e,setHeaderCtrls:(e,n)=>this.setHeaderCtrls(e,n),setWidth:e=>this.getGui().style.width=e})}destroyHeaderCtrls(){this.setHeaderCtrls([],!1)}setHeaderCtrls(t,e){if(!this.isAlive())return;const n=this.headerComps;if(this.headerComps={},t.forEach(i=>{const r=i.getInstanceId();let s=n[r];delete n[r],null==s&&(s=this.createHeaderComp(i),this.getGui().appendChild(s.getGui())),this.headerComps[r]=s}),ml(n,(i,r)=>{this.getGui().removeChild(r.getGui()),this.destroyBean(r)}),e){const i=Hp(this.headerComps);i.sort((s,o)=>s.getCtrl().getColumnGroupChild().getLeft()-o.getCtrl().getColumnGroupChild().getLeft());const r=i.map(s=>s.getGui());l3(this.getGui(),r)}}createHeaderComp(t){let e;switch(this.ctrl.getType()){case"group":e=new Aye(t);break;case"filter":e=new k_e(t);break;default:e=new Tye(t)}return this.createBean(e),e.setParentComponent(this),e}};N([nn],N3.prototype,"init",1),N([Yl],N3.prototype,"destroyHeaderCtrls",1);var Dye=0,Zm=class _me extends Jt{constructor(e,n,i){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=e,this.parentRowCtrl=i,this.beans=n,this.instanceId=e.getUniqueId()+"-"+Dye++}postConstruct(){this.addManagedPropertyListeners(["suppressHeaderFocus"],()=>this.refreshTabIndex())}shouldStopEventPropagation(e){const{headerRowIndex:n,column:i}=this.focusService.getFocusedHeader();return rne(this.gridOptionsService,e,n,i)}getWrapperHasFocus(){return this.gridOptionsService.getDocument().activeElement===this.eGui}setGui(e){this.eGui=e,this.addDomData(),this.addManagedListener(this.beans.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onDisplayedColumnsChanged(){!this.comp||!this.column||(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())}refreshFirstAndLastStyles(){const{comp:e,column:n,beans:i}=this;tk.refreshFirstAndLastStyles(e,n,i.columnModel)}refreshAriaColIndex(){const{beans:e,column:n}=this,i=e.columnModel.getAriaColumnIndex(n);G6(this.eGui,i)}addResizeAndMoveKeyboardListeners(){this.resizeFeature&&(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))}refreshTabIndex(){this.gridOptionsService.get("suppressHeaderFocus")?this.eGui.removeAttribute("tabindex"):this.eGui.setAttribute("tabindex","-1")}onGuiKeyDown(e){var n;const r=this.gridOptionsService.getDocument().activeElement,s=e.key===Qe.LEFT||e.key===Qe.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),r!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||s)&&(e.preventDefault(),e.stopImmediatePropagation()),!s))return;const o=e.key===Qe.LEFT!==this.gridOptionsService.get("enableRtl"),c=Nne[o?"Left":"Right"];if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const d=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(d,e.shiftKey),null==(n=this.resizeFeature)||n.toggleColumnResizing(!0)}else this.moveHeader(c)}getViewportAdjustedResizeDiff(e){let n=this.getResizeDiff(e);if(this.column.getPinned()){const r=this.pinnedWidthService.getPinnedLeftWidth(),s=this.pinnedWidthService.getPinnedRightWidth(),o=ww(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(r+s+n>o){if(!(o>r+s))return 0;n=o-r-s}}return n}getResizeDiff(e){let n=e.key===Qe.LEFT!==this.gridOptionsService.get("enableRtl");const i=this.column.getPinned(),r=this.gridOptionsService.get("enableRtl");return i&&r!==("right"===i)&&(n=!n),(n?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout(()=>{var e;null==(e=this.resizeFeature)||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){const n=this.getWrapperHasFocus();switch(e.key){case Qe.PAGE_DOWN:case Qe.PAGE_UP:case Qe.PAGE_HOME:case Qe.PAGE_END:n&&e.preventDefault()}}addDomData(){const e=_me.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,e,this),this.addDestroyFunc(()=>this.gridOptionsService.setDomData(this.eGui,e,null))}getGui(){return this.eGui}focus(e){return!!this.eGui&&(this.lastFocusEvent=e||null,this.eGui.focus(),!0)}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,n,i){const r=e??n;this.gridOptionsService.get("preventDefaultOnContextMenu")&&r.preventDefault();const s=i instanceof f?i:void 0;this.menuService.isHeaderContextMenuEnabled(s)&&this.menuService.showHeaderContextMenu(s,e,n),this.dispatchColumnMouseEvent(W.EVENT_COLUMN_HEADER_CONTEXT_MENU,i)}dispatchColumnMouseEvent(e,n){this.eventService.dispatchEvent({type:e,column:n})}destroy(){super.destroy(),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null}};Zm.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",N([Y("pinnedWidthService")],Zm.prototype,"pinnedWidthService",2),N([Y("focusService")],Zm.prototype,"focusService",2),N([Y("userComponentFactory")],Zm.prototype,"userComponentFactory",2),N([Y("ctrlsService")],Zm.prototype,"ctrlsService",2),N([Y("dragAndDropService")],Zm.prototype,"dragAndDropService",2),N([Y("menuService")],Zm.prototype,"menuService",2),N([nn],Zm.prototype,"postConstruct",1);var sk=Zm,ok=class extends Jt{constructor(t,e,n,i){super(),this.columnOrGroup=t,this.eCell=e,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=i,this.beans=n}setColsSpanning(t){this.colsSpanning=t,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?q(this.colsSpanning):this.columnOrGroup}postConstruct(){this.addManagedListener(this.columnOrGroup,f.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))}setLeftFirstTime(){const t=this.beans.gridOptionsService.get("suppressColumnMoveAnimation"),e=$t(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&e&&!t?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const t=this.getColumnOrGroup(),e=t.getLeft(),n=t.getOldLeft(),i=this.modifyLeftForPrintLayout(t,n),r=this.modifyLeftForPrintLayout(t,e);this.setLeft(i),this.actualLeft=r,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===r&&this.setLeft(r)})}onLeftChanged(){const t=this.getColumnOrGroup(),e=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,e),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(t,e){if(!this.beans.gridOptionsService.isDomLayout("print")||"left"===t.getPinned())return e;const i=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===t.getPinned()?i+this.beans.columnModel.getBodyContainerWidth()+e:i+e}setLeft(t){let e;if($t(t)&&(this.eCell.style.left=`${t}px`),this.columnOrGroup instanceof f)e=this.columnOrGroup;else{const i=this.columnOrGroup.getLeafColumns();if(!i.length)return;i.length>1&&Nte(this.ariaEl,i.length),e=i[0]}}};N([nn],ok.prototype,"postConstruct",1);var a1=class extends Jt{constructor(t,e){super(),this.columns=t,this.element=e}postConstruct(){this.gridOptionsService.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}};N([Y("columnHoverService")],a1.prototype,"columnHoverService",2),N([nn],a1.prototype,"postConstruct",1);var xye=class extends sk{constructor(t,e,n){super(t,e,n),this.iconCreated=!1,this.column=t}setComp(t,e,n,i){this.comp=t,this.eButtonShowMainFilter=n,this.eFloatingFilterBody=i,this.setGui(e),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,f.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))}resizeHeader(){}moveHeader(){}setupActive(){const t=this.column.getColDef();this.active=!!t.filter&&!!t.floatingFilter}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const t=ks("filter",this.gridOptionsService,this.column);t&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(t))}setupFocus(){this.createManagedBean(new cy(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const t=this.localeService.getLocaleTextFunc();vf(this.eButtonShowMainFilter,t("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(t){if(this.gridOptionsService.getDocument().activeElement===this.eGui)return;const r=this.focusService.findNextFocusableElement(this.eGui,null,t.shiftKey);if(r)return this.beans.headerNavigationService.scrollToColumn(this.column),t.preventDefault(),void r.focus();const s=this.findNextColumnWithFloatingFilter(t.shiftKey);s&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:s},event:t})&&t.preventDefault()}findNextColumnWithFloatingFilter(t){const e=this.beans.columnModel;let n=this.column;do{if(n=t?e.getDisplayedColBefore(n):e.getDisplayedColAfter(n),!n)break}while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(t){super.handleKeyDown(t);const e=this.getWrapperHasFocus();switch(t.key){case Qe.UP:case Qe.DOWN:e||t.preventDefault();case Qe.LEFT:case Qe.RIGHT:if(e)return;t.stopPropagation();case Qe.ENTER:e&&this.focusService.focusInto(this.eGui)&&t.preventDefault();break;case Qe.ESCAPE:e||this.eGui.focus()}}onFocusIn(t){if(this.eGui.contains(t.relatedTarget))return;const n=!!t.relatedTarget&&!t.relatedTarget.classList.contains("ag-floating-filter"),i=!!t.relatedTarget&&bw(t.relatedTarget,"ag-floating-filter");if(n&&i&&t.target===this.eGui){const s=this.lastFocusEvent;s&&s&&s.key===Qe.TAB&&this.focusService.focusInto(this.eGui,s.shiftKey)}const r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.column)}setupHover(){this.createManagedBean(new a1([this.column],this.eGui));const t=()=>{if(!this.gridOptionsService.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",e)};this.addManagedListener(this.eventService,W.EVENT_COLUMN_HOVER_CHANGED,t),t()}setupLeft(){const t=new ok(this.column,this.eGui,this.beans);this.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;const t=this.beans.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());t&&this.setCompDetails(t)}setCompDetails(t){this.userCompDetails=t,this.comp.setCompDetails(t)}showParentFilter(){this.menuService.showFilterMenu({column:this.column,buttonElement:this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(){if(!this.active)return;const{filterManager:t}=this.beans,e=n=>{const i=this.comp.getFloatingFilterComp();i&&i.then(r=>{if(r){const s=t.getCurrentFloatingFilterParentModel(this.column);r.onParentModelChanged(s,n)}})};this.destroySyncListener=this.addManagedListener(this.column,f.EVENT_FILTER_CHANGED,e),t.isFilterActive(this.column)&&e(null)}setupWidth(){const t=()=>{const e=`${this.column.getActualWidth()}px`;this.comp.setWidth(e)};this.addManagedListener(this.column,f.EVENT_WIDTH_CHANGED,t),t()}setupFilterChangedListener(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,f.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const t=this.beans.filterManager.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(){var t,e;const n=this.active;this.setupActive();const i=!n&&this.active;n&&!this.active&&(null==(t=this.destroySyncListener)||t.call(this),null==(e=this.destroyFilterChangedListener)||e.call(this));const r=this.active?this.beans.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();s&&r?s.then(o=>{var c;!o||this.beans.filterManager.areFilterCompsDifferent(null!=(c=this.userCompDetails)?c:null,r)?this.updateCompDetails(r,i):this.updateFloatingFilterParams(r)}):this.updateCompDetails(r,i)}updateCompDetails(t,e){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),e&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))}updateFloatingFilterParams(t){var e;if(!t)return;const n=t.params;null==(e=this.comp.getFloatingFilterComp())||e.then(i=>{let r=!1;i?.refresh&&"function"==typeof i.refresh&&null!==i.refresh(n)&&(r=!0),!r&&i?.onParamsUpdated&&"function"==typeof i.onParamsUpdated&&null!==i.onParamsUpdated(n)&&ei("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null}},FI=class extends Jt{constructor(t,e,n,i,r){super(),this.pinned=t,this.column=e,this.eResize=n,this.comp=i,this.ctrl=r}postConstruct(){const t=[];let e,n;const i=()=>{if(nr(this.eResize,e),!e)return;const o=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(t.push(o),n){const c=this.gridOptionsService.get("skipHeaderOnAutoSize"),d=()=>{this.columnModel.autoSizeColumn(this.column,"uiColumnResized",c)};this.eResize.addEventListener("dblclick",d);const p=new za(this.eResize);p.addEventListener(za.EVENT_DOUBLE_TAP,d),t.push(()=>{this.eResize.removeEventListener("dblclick",d),p.removeEventListener(za.EVENT_DOUBLE_TAP,d),p.destroy()})}},r=()=>{t.forEach(o=>o()),t.length=0},s=()=>{const o=this.column.isResizable(),c=!this.gridOptionsService.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==e||c!==n)&&(e=o,n=c,r(),i())};s(),this.addDestroyFunc(r),this.ctrl.addRefreshFunction(s)}onResizing(t,e){const{column:n,lastResizeAmount:i,resizeStartWidth:r}=this,s=this.normaliseResizeAmount(e),c=[{key:n,newWidth:r+s}];this.column.getPinned()&&this.pinnedWidthService.getPinnedLeftWidth()+this.pinnedWidthService.getPinnedRightWidth()+(s-i)>ww(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50||(this.lastResizeAmount=s,this.columnModel.setColumnWidths(c,this.resizeWithShiftKey,t,"uiColumnResized"),t&&this.toggleColumnResizing(!1))}onResizeStart(t){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=t,this.toggleColumnResizing(!0)}toggleColumnResizing(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)}normaliseResizeAmount(t){let e=t;const n="left"!==this.pinned,i="right"===this.pinned;return this.gridOptionsService.get("enableRtl")?n&&(e*=-1):i&&(e*=-1),e}};N([Y("horizontalResizeService")],FI.prototype,"horizontalResizeService",2),N([Y("pinnedWidthService")],FI.prototype,"pinnedWidthService",2),N([Y("ctrlsService")],FI.prototype,"ctrlsService",2),N([Y("columnModel")],FI.prototype,"columnModel",2),N([nn],FI.prototype,"postConstruct",1);var O3=class extends Jt{constructor(t){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=t}onSpaceKeyDown(t){const e=this.cbSelectAll,n=this.gridOptionsService.getDocument();e.isDisplayed()&&!e.getGui().contains(n.activeElement)&&(t.preventDefault(),e.setValue(!e.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(t){this.headerCellCtrl=t,this.cbSelectAll=this.createManagedBean(new YL),this.cbSelectAll.addCssClass("ag-header-select-all"),so(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,W.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),Ux(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const t=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(t);const e=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!e),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const t=this.localeService.getLocaleTextFunc(),n=this.cbSelectAll.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),i=t("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",this.cbSelectAllVisible?`${i} (${n})`:null),this.cbSelectAll.setInputAriaLabel(`${i} (${n})`),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(t){return"multiple"===this.gridOptionsService.get("rowSelection")||(console.warn(`AG Grid: ${t} is only available if using 'multiple' rowSelection.`),!1)}checkRightRowModelType(t){const e=this.rowModel.getType();return"clientSide"===e||"serverSide"===e||(console.warn(`AG Grid: ${t} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${e}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const t=this.cbSelectAll.getValue(),e=this.isFilteredOnly(),n=this.isCurrentPageOnly();let i="uiSelectAll";n?i="uiSelectAllCurrentPage":e&&(i="uiSelectAllFiltered");const r={source:i,justFiltered:e,justCurrentPage:n};t?this.selectionService.selectAllRowNodes(r):this.selectionService.deselectAllRowNodes(r)}isCheckboxSelection(){let t=this.column.getColDef().headerCheckboxSelection;return"function"==typeof t&&(t=t(this.gridOptionsService.addGridCommonParams({column:this.column,colDef:this.column.getColDef()}))),!!t&&this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection")}isFilteredOnly(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}};N([Y("rowModel")],O3.prototype,"rowModel",2),N([Y("selectionService")],O3.prototype,"selectionService",2);var Pye=class extends sk{constructor(t,e,n){super(t,e,n),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=t}setComp(t,e,n,i){this.comp=t,this.setGui(e),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(i),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new FI(this.getPinned(),this.column,n,t,this)),this.createManagedBean(new a1([this.column],e)),this.createManagedBean(new ok(this.column,e,this.beans)),this.createManagedBean(new cy(e,{shouldStopEventPropagation:r=>this.shouldStopEventPropagation(r),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,f.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}resizeHeader(t,e){var n,i;if(!this.column.isResizable())return;const r=this.column.getActualWidth(),s=null!=(n=this.column.getMinWidth())?n:0,o=null!=(i=this.column.getMaxWidth())?i:Number.MAX_SAFE_INTEGER,c=Math.min(Math.max(r+t,s),o);this.beans.columnModel.setColumnWidths([{key:this.column,newWidth:c}],e,!0,"uiColumnResized")}moveHeader(t){const{eGui:e,column:n,gridOptionsService:i,ctrlsService:r}=this,s=this.getPinned(),o=e.getBoundingClientRect().left,c=n.getActualWidth(),d=i.get("enableRtl"),m=Ow.normaliseX(0===t!==d?o-20:o+c+20,s,!0,i,r);Ow.attemptMoveColumns({allMovingColumns:[n],isFromHeader:!0,hDirection:t,xPosition:m,pinned:s,fromEnter:!1,fakeEvent:!1,gridOptionsService:i,columnModel:this.beans.columnModel}),r.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(n,"auto")}setupUserComp(){const t=this.lookupUserCompDetails();this.setCompDetails(t)}setCompDetails(t){this.userCompDetails=t,this.comp.setUserCompDetails(t)}lookupUserCompDetails(){const t=this.createParams(),e=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(e,t)}createParams(){return this.gridOptionsService.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:e=>{this.menuService.showColumnMenu({column:this.column,buttonElement:e,positionBy:"button"})},showColumnMenuAfterMouseClick:e=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:e,positionBy:"mouse"})},showFilter:e=>{this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"columnFilter",positionBy:"button"})},progressSort:e=>{this.beans.sortController.progressSort(this.column,!!e,"uiColumnSorted")},setSort:(e,n)=>{this.beans.sortController.setSortForColumn(this.column,e,!!n,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(e,n)=>{this.setupTooltip(e,n)}})}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new O3(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(t){super.handleKeyDown(t),t.key===Qe.SPACE&&this.selectAllFeature.onSpaceKeyDown(t),t.key===Qe.ENTER&&this.onEnterKeyDown(t),t.key===Qe.DOWN&&t.altKey&&this.showMenuOnKeyPress(t,!1)}onEnterKeyDown(t){t.ctrlKey||t.metaKey?this.showMenuOnKeyPress(t,!0):this.sortable&&this.beans.sortController.progressSort(this.column,t.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(t,e){const n=this.comp.getUserCompInstance();!n||!(n instanceof w3)||n.onMenuKeyboardShortcut(e)&&t.preventDefault()}onFocusIn(t){if(!this.getGui().contains(t.relatedTarget)){const e=this.getRowIndex();this.focusService.setFocusedHeader(e,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(t,e){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const n="whenTruncated"===this.gridOptionsService.get("tooltipShowMode"),i=this.eGui,r=this.column.getColDef();!e&&n&&!r.headerComponent&&(e=()=>{const c=i.querySelector(".ag-header-cell-text");return!c||c.scrollWidth>c.clientWidth});const o=this.createManagedBean(new Ym({getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>i,getLocation:()=>"header",getTooltipValue:()=>t??this.column.getColDef().headerTooltip,shouldDisplayTooltip:e}));this.refreshFunctions.push(()=>o.refreshToolTip())}setupClassesFromColDef(){const t=()=>{const e=this.column.getColDef(),n=tk.getHeaderClassesFromColDef(e,this.gridOptionsService,this.column,null),i=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(r=>{i.has(r)?i.delete(r):this.comp.addOrRemoveCssClass(r,!0)}),i.forEach(r=>this.comp.addOrRemoveCssClass(r,!1))};this.refreshFunctions.push(t),t()}setDragSource(t){if(this.dragSourceElement=t,this.removeDragSource(),!t||!this.draggable)return;const{column:e,beans:n,displayName:i,dragAndDropService:r,gridOptionsService:s}=this,{columnModel:o}=n;let c=!this.gridOptionsService.get("suppressDragLeaveHidesColumns");const d=this.dragSource={type:1,eElement:t,getDefaultIconName:()=>c?Di.ICON_HIDE:Di.ICON_NOT_ALLOWED,getDragItem:()=>this.createDragItem(e),dragItemName:i,onDragStarted:()=>{c=!s.get("suppressDragLeaveHidesColumns"),e.setMoving(!0,"uiColumnMoved")},onDragStopped:()=>e.setMoving(!1,"uiColumnMoved"),onGridEnter:p=>{var m;if(c){const y=(null==(m=p?.columns)?void 0:m.filter(A=>!A.getColDef().lockVisible))||[];o.setColumnsVisible(y,!0,"uiColumnMoved")}},onGridExit:p=>{var m;if(c){const y=(null==(m=p?.columns)?void 0:m.filter(A=>!A.getColDef().lockVisible))||[];o.setColumnsVisible(y,!1,"uiColumnMoved")}}};r.addDragSource(d,!0)}createDragItem(t){const e={};return e[t.getId()]=t.isVisible(),{columns:[t],visibleState:e}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(t){this.refreshFunctions.push(t)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(t=>t())}refreshHeaderComp(){const t=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==t.componentClass&&this.attemptHeaderCompRefresh(t.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)}attemptHeaderCompRefresh(t){const e=this.comp.getUserCompInstance();return!(!e||!e.refresh)&&e.refresh(t)}calculateDisplayName(){return this.beans.columnModel.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const t=this.column.getColDef();return!(this.gridOptionsService.get("suppressMovableColumns")||t.suppressMovable||t.lockPosition)||!!t.enableRowGroup||!!t.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){const t=()=>{const e=this.column.getActualWidth();this.comp.setWidth(`${e}px`)};this.addManagedListener(this.column,f.EVENT_WIDTH_CHANGED,t),t()}setupMovingCss(){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListener(this.column,f.EVENT_MOVING_CHANGED,t),t()}setupMenuClass(){const t=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListener(this.column,f.EVENT_MENU_VISIBLE_CHANGED,t),t()}setupSortableClass(){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.addRefreshFunction(t),this.addManagedListener(this.eventService,f.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))}setupFilterClass(){const t=()=>{const e=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",e),this.refreshAria()};this.addManagedListener(this.column,f.EVENT_FILTER_ACTIVE_CHANGED,t),t()}setupWrapTextClass(){const t=()=>{const e=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",e)};t(),this.addRefreshFunction(t)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:t,column:e,comp:n,beans:i}=this;if(!e.isSpanHeaderHeight())return t.style.removeProperty("top"),t.style.removeProperty("height"),n.addOrRemoveCssClass("ag-header-span-height",!1),void n.addOrRemoveCssClass("ag-header-span-total",!1);const{numberOfParents:r,isSpanningTotal:s}=this.column.getColumnGroupPaddingInfo();n.addOrRemoveCssClass("ag-header-span-height",r>0);const{columnModel:o}=i,c=o.getColumnHeaderRowHeight();if(0===r)return n.addOrRemoveCssClass("ag-header-span-total",!1),t.style.setProperty("top","0px"),void t.style.setProperty("height",`${c}px`);n.addOrRemoveCssClass("ag-header-span-total",s);const m=r*(o.isPivotMode()?o.getPivotGroupHeaderHeight():o.getGroupHeaderHeight());t.style.setProperty("top",-m+"px"),t.style.setProperty("height",`${c+m}px`)}setupAutoHeight(t){const{columnModel:e,resizeObserverService:n}=this.beans,i=p=>{if(!this.isAlive())return;const{paddingTop:m,paddingBottom:y,borderBottomWidth:A,borderTopWidth:k}=ly(this.getGui()),Q=t.offsetHeight+(m+y+A+k);if(p<5){const pe=this.beans.gridOptionsService.getDocument();if(!pe||!pe.contains(t)||0==Q)return void window.setTimeout(()=>i(p+1),0)}e.setColumnHeaderHeight(this.column,Q)};let s,r=!1;const o=()=>{const p=this.column.isAutoHeaderHeight();p&&!r&&c(),!p&&r&&d()},c=()=>{r=!0,i(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),s=n.observeResize(t,()=>i(0))},d=()=>{r=!1,s&&s(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),s=void 0};o(),this.addDestroyFunc(()=>d()),this.addManagedListener(this.column,f.EVENT_WIDTH_CHANGED,()=>r&&i(0)),this.addManagedListener(this.eventService,f.EVENT_SORT_CHANGED,()=>{r&&window.setTimeout(()=>i(0))}),this.addRefreshFunction(o)}refreshAriaSort(){if(this.sortable){const t=this.localeService.getLocaleTextFunc(),e=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(Ete(e)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",t("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",t("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const t=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",t("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(t,e){null!=e?this.ariaDescriptionProperties.set(t,e):this.ariaDescriptionProperties.delete(t)}announceAriaDescription(){const t=this.beans.gridOptionsService.getDocument();if(!this.eGui.contains(t.activeElement))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((n,i)=>"filter"===n?-1:i.charCodeAt(0)-n.charCodeAt(0)).map(n=>this.ariaDescriptionProperties.get(n)).join(". ");this.beans.ariaAnnouncementService.announceValue(e)}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(){const t=()=>{if(!this.gridOptionsService.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",e)};this.addManagedListener(this.eventService,W.EVENT_COLUMN_HOVER_CHANGED,t),t()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(){const t=i=>this.handleMouseOverChange("mouseenter"===i.type);this.addManagedListener(this.getGui(),"mouseenter",t),this.addManagedListener(this.getGui(),"mouseleave",t),this.addManagedListener(this.getGui(),"click",()=>this.dispatchColumnMouseEvent(W.EVENT_COLUMN_HEADER_CLICKED,this.column)),this.addManagedListener(this.getGui(),"contextmenu",i=>this.handleContextMenuMouseEvent(i,void 0,this.column))}handleMouseOverChange(t){this.setActiveHeader(t),this.eventService.dispatchEvent({type:t?W.EVENT_COLUMN_HEADER_MOUSE_OVER:W.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column})}setActiveHeader(t){this.comp.addOrRemoveCssClass("ag-header-active",t)}getAnchorElementForMenu(t){const e=this.comp.getUserCompInstance();return e instanceof w3?e.getAnchorElementForMenu(t):this.getGui()}destroy(){super.destroy(),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null}},l1=class extends Jt{constructor(t,e,n,i){super(),this.eResize=e,this.comp=t,this.pinned=n,this.columnGroup=i}postConstruct(){if(!this.columnGroup.isResizable())return void this.comp.setResizableDisplayed(!1);const t=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(t),!this.gridOptionsService.get("suppressAutoSize")){const e=this.gridOptionsService.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const n=[];this.columnGroup.getDisplayedLeafColumns().forEach(r=>{r.getColDef().suppressAutoSize||n.push(r.getColId())}),n.length>0&&this.columnModel.autoSizeColumns({columns:n,skipHeader:e,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(t){const e=this.getInitialValues(t);this.storeLocalValues(e),this.toggleColumnResizing(!0)}onResizing(t,e,n="uiColumnResized"){const i=this.normaliseDragChange(e);this.resizeColumnsFromLocalValues(this.resizeStartWidth+i,n,t)}getInitialValues(t){const e=this.getColumnsToResize(),n=this.getInitialSizeOfColumns(e),r={columnsToResize:e,resizeStartWidth:n,resizeRatios:this.getSizeRatiosOfColumns(e,n)};let s=null;if(t&&(s=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),s){const o=s.getDisplayedLeafColumns(),c=r.groupAfterColumns=o.filter(p=>p.isResizable()),d=r.groupAfterStartWidth=this.getInitialSizeOfColumns(c);r.groupAfterRatios=this.getSizeRatiosOfColumns(c,d)}else r.groupAfterColumns=void 0,r.groupAfterStartWidth=void 0,r.groupAfterRatios=void 0;return r}storeLocalValues(t){const{columnsToResize:e,resizeStartWidth:n,resizeRatios:i,groupAfterColumns:r,groupAfterStartWidth:s,groupAfterRatios:o}=t;this.resizeCols=e,this.resizeStartWidth=n,this.resizeRatios=i,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=o}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(t){const e=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();e>n.resizeStartWidth&&this.resizeColumns(n,e,t,!0)}resizeColumnsFromLocalValues(t,e,n=!0){var i,r,s;if(!this.resizeCols||!this.resizeRatios)return;const o={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:null!=(i=this.resizeTakeFromCols)?i:void 0,groupAfterStartWidth:null!=(r=this.resizeTakeFromStartWidth)?r:void 0,groupAfterRatios:null!=(s=this.resizeTakeFromRatios)?s:void 0};this.resizeColumns(o,t,e,n)}resizeColumns(t,e,n,i=!0){const{columnsToResize:r,resizeStartWidth:s,resizeRatios:o,groupAfterColumns:c,groupAfterStartWidth:d,groupAfterRatios:p}=t,m=[];m.push({columns:r,ratios:o,width:e}),c&&m.push({columns:c,ratios:p,width:d-(e-s)}),this.columnModel.resizeColumnSets({resizeSets:m,finished:i,source:n}),i&&this.toggleColumnResizing(!1)}toggleColumnResizing(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(e=>e.isResizable())}getInitialSizeOfColumns(t){return t.reduce((e,n)=>e+n.getActualWidth(),0)}getSizeRatiosOfColumns(t,e){return t.map(n=>n.getActualWidth()/e)}normaliseDragChange(t){let e=t;return this.gridOptionsService.get("enableRtl")?"left"!==this.pinned&&(e*=-1):"right"===this.pinned&&(e*=-1),e}destroy(){super.destroy(),this.clearLocalValues()}};N([Y("horizontalResizeService")],l1.prototype,"horizontalResizeService",2),N([Y("autoWidthCalculator")],l1.prototype,"autoWidthCalculator",2),N([Y("columnModel")],l1.prototype,"columnModel",2),N([nn],l1.prototype,"postConstruct",1);var Jne=class extends Jt{constructor(t,e){super(),this.removeChildListenersFuncs=[],this.columnGroup=e,this.comp=t}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,da.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const t=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(e=>{e.addEventListener("widthChanged",t),e.addEventListener("visibleChanged",t),this.removeChildListenersFuncs.push(()=>{e.removeEventListener("widthChanged",t),e.removeEventListener("visibleChanged",t)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(t=>t()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const t=this.columnGroup.getActualWidth();this.comp.setWidth(`${t}px`),this.comp.addOrRemoveCssClass("ag-hidden",0===t)}};N([nn],Jne.prototype,"postConstruct",1);var Mye=class extends sk{constructor(t,e,n){super(t,e,n),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const i=this.getGui();this.setDragSource(i)}},this.column=t}setComp(t,e,n){this.comp=t,this.setGui(e),this.displayName=this.beans.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.addDestroyFunc(()=>{this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature))}),this.setupUserComp(),this.addHeaderMouseListeners();const i=this.getParentRowCtrl().getPinned(),r=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new a1(r,e)),this.createManagedBean(new ok(this.column,e,this.beans)),this.createManagedBean(new Jne(t,this.column)),this.resizeFeature=this.createManagedBean(new l1(t,n,i,this.column)),this.createManagedBean(new cy(e,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener(W.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()}resizeHeader(t,e){if(!this.resizeFeature)return;const n=this.resizeFeature.getInitialValues(e);this.resizeFeature.resizeColumns(n,n.resizeStartWidth+t,"uiColumnResized",!0)}moveHeader(t){const{beans:e,eGui:n,column:i,gridOptionsService:r,ctrlsService:s}=this,o=r.get("enableRtl"),c=0===t,d=this.getPinned(),p=n.getBoundingClientRect(),m=p.left,A=Ow.normaliseX(c!==o?m-20:m+p.width+20,d,!0,r,s),k=i.getGroupId(),U=this.focusService.getFocusedHeader();Ow.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:t,xPosition:A,pinned:d,fromEnter:!1,fakeEvent:!1,gridOptionsService:r,columnModel:e.columnModel});const X=i.getDisplayedLeafColumns(),Q=c?X[0]:q(X);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(Q,"auto"),!this.isAlive()&&U&&this.restoreFocus(k,i,U)}restoreFocus(t,e,n){const i=e.getLeafColumns();if(!i.length)return;const r=i[0].getParent();if(!r)return;const s=this.findGroupWidthId(r,t);s&&this.focusService.focusHeaderPosition({headerPosition:ms(Yn({},n),{column:s})})}findGroupWidthId(t,e){for(;t;){if(t.getGroupId()===e)return t;t=t.getParent()}return null}resizeLeafColumnsToFit(t){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(t)}setupUserComp(){const t=this.gridOptionsService.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:n=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),n,"gridInitializing")},setTooltip:(n,i)=>{this.setupTooltip(n,i)}}),e=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(e)}addHeaderMouseListeners(){const t=i=>this.handleMouseOverChange("mouseenter"===i.type);this.addManagedListener(this.getGui(),"mouseenter",t),this.addManagedListener(this.getGui(),"mouseleave",t),this.addManagedListener(this.getGui(),"click",()=>this.dispatchColumnMouseEvent(W.EVENT_COLUMN_HEADER_CLICKED,this.column.getProvidedColumnGroup())),this.addManagedListener(this.getGui(),"contextmenu",i=>this.handleContextMenuMouseEvent(i,void 0,this.column.getProvidedColumnGroup()))}handleMouseOverChange(t){const n={type:t?W.EVENT_COLUMN_HEADER_MOUSE_OVER:W.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(n)}setupTooltip(t,e){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const n=this.column.getColGroupDef(),i="whenTruncated"===this.gridOptionsService.get("tooltipShowMode"),r=this.eGui;!e&&i&&!n?.headerGroupComponent&&(e=()=>{const o=r.querySelector(".ag-header-group-text");return!o||o.scrollWidth>o.clientWidth});const s={getColumn:()=>this.column,getGui:()=>r,getLocation:()=>"headerGroup",getTooltipValue:()=>t??(n&&n.headerTooltip),shouldDisplayTooltip:e};n&&(s.getColDef=()=>n),this.createBean(new Ym(s))}setupExpandable(){const t=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(t,v.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(t,v.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))}refreshExpanded(){const t=this.column;this.expandable=t.isExpandable();const e=t.isExpanded();this.comp.setAriaExpanded(this.expandable?e?"true":"false":void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const t=this.column.getColGroupDef(),e=tk.getHeaderClassesFromColDef(t,this.gridOptionsService,null,this.column);this.column.isPadding()?(e.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(i=>i.isSpanHeaderHeight())&&e.push("ag-header-span-height")):e.push("ag-header-group-cell-with-group"),e.forEach(n=>this.comp.addOrRemoveCssClass(n,!0))}setupMovingCss(){const e=this.column.getProvidedColumnGroup().getLeafColumns(),n=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());e.forEach(i=>{this.addManagedListener(i,f.EVENT_MOVING_CHANGED,n)}),n()}onFocusIn(t){if(!this.eGui.contains(t.relatedTarget)){const e=this.getRowIndex();this.beans.focusService.setFocusedHeader(e,this.column)}}handleKeyDown(t){super.handleKeyDown(t);const e=this.getWrapperHasFocus();if(this.expandable&&e&&t.key===Qe.ENTER){const n=this.column,i=!n.isExpanded();this.beans.columnModel.setColumnGroupOpened(n.getProvidedColumnGroup(),i,"uiColumnExpanded")}}setDragSource(t){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!t))return;const{beans:e,column:n,displayName:i,gridOptionsService:r,dragAndDropService:s}=this,{columnModel:o}=e,c=n.getProvidedColumnGroup().getLeafColumns();let d=!r.get("suppressDragLeaveHidesColumns");const p=this.dragSource={type:1,eElement:t,getDefaultIconName:()=>d?Di.ICON_HIDE:Di.ICON_NOT_ALLOWED,dragItemName:i,getDragItem:()=>this.getDragItemForGroup(n),onDragStarted:()=>{d=!r.get("suppressDragLeaveHidesColumns"),c.forEach(m=>m.setMoving(!0,"uiColumnDragged"))},onDragStopped:()=>c.forEach(m=>m.setMoving(!1,"uiColumnDragged")),onGridEnter:m=>{var y;if(d){const A=(null==(y=m?.columns)?void 0:y.filter(k=>!k.getColDef().lockVisible))||[];o.setColumnsVisible(A,!0,"uiColumnMoved")}},onGridExit:m=>{var y;if(d){const A=(null==(y=m?.columns)?void 0:y.filter(k=>!k.getColDef().lockVisible))||[];o.setColumnsVisible(A,!1,"uiColumnMoved")}}};s.addDragSource(p,!0)}getDragItemForGroup(t){const e=t.getProvidedColumnGroup().getLeafColumns(),n={};e.forEach(r=>n[r.getId()]=r.isVisible());const i=[];return this.beans.columnModel.getAllDisplayedColumns().forEach(r=>{e.indexOf(r)>=0&&(i.push(r),tn(e,r))}),e.forEach(r=>i.push(r)),{columns:i,visibleState:n}}isSuppressMoving(){let t=!1;return this.column.getLeafColumns().forEach(n=>{(n.getColDef().suppressMovable||n.getColDef().lockPosition)&&(t=!0)}),t||this.gridOptionsService.get("suppressMovableColumns")}},Nye=0,c1=class extends Jt{constructor(t,e,n){super(),this.instanceId=Nye++,this.rowIndex=t,this.pinned=e,this.type=n,this.headerRowClass="ag-header-row "+("group"==n?"ag-header-row-column-group":"filter"==n?"ag-header-row-column-filter":"ag-header-row-column")}postConstruct(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.get("ensureDomOrder")}getInstanceId(){return this.instanceId}setComp(t,e=!0){this.comp=t,e&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(){this.addManagedListener(this.eventService,W.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_VIRTUAL_COLUMNS_CHANGED,t=>this.onVirtualColumnsChanged(t.afterScroll)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",t=>this.isEnsureDomOrder=t.currentValue),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))}getHeaderCellCtrl(t){if(this.headerCellCtrls)return sy(this.headerCellCtrls).find(e=>e.getColumnGroupChild()===t)}onDisplayedColumnsChanged(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const t=this.getWidthForRow();this.comp.setWidth(`${t}px`)}getWidthForRow(){const{columnModel:t}=this.beans;return this.isPrintLayout?null!=this.pinned?0:t.getContainerWidth("right")+t.getContainerWidth("left")+t.getContainerWidth(null):t.getContainerWidth(this.pinned)}onRowHeightChanged(){var{topOffset:t,rowHeight:e}=this.getTopAndHeight();this.comp.setTop(t+"px"),this.comp.setHeight(e+"px")}getTopAndHeight(){const{columnModel:t,filterManager:e}=this.beans;let n=t.getHeaderRowCount();const i=[];let r=0;e.hasFloatingFilters()&&(n++,r=1);const s=t.getColumnGroupHeaderRowHeight(),o=t.getColumnHeaderRowHeight(),d=n-(1+r);for(let y=0;y<d;y++)i.push(s);i.push(o);for(let y=0;y<r;y++)i.push(t.getFloatingFiltersHeight());let p=0;for(let y=0;y<this.rowIndex;y++)p+=i[y];return{topOffset:p,rowHeight:i[this.rowIndex]}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(t=!1){const e=this.getHeaderCtrls();this.comp.setHeaderCtrls(e,this.isEnsureDomOrder||this.isPrintLayout,t)}getHeaderCtrls(){const t=this.headerCellCtrls;this.headerCellCtrls=new Map;const e=this.getColumnsInViewport();for(const r of e)this.recycleAndCreateHeaderCtrls(r,t);const n=r=>{const{focusService:s,columnModel:o}=this.beans;return!!s.isHeaderWrapperFocused(r)&&o.isDisplayed(r.getColumnGroupChild())};if(t)for(const[r,s]of t)n(s)?this.headerCellCtrls.set(r,s):this.destroyBean(s);return Array.from(this.headerCellCtrls.values())}recycleAndCreateHeaderCtrls(t,e){if(!this.headerCellCtrls||t.isEmptyGroup())return;const n=t.getUniqueId();let i;if(e&&(i=e.get(n),e.delete(n)),i&&i.getColumnGroupChild()!=t&&(this.destroyBean(i),i=void 0),null==i)switch(this.type){case"filter":i=this.createBean(new xye(t,this.beans,this));break;case"group":i=this.createBean(new Mye(t,this.beans,this));break;default:i=this.createBean(new Pye(t,this.beans,this))}this.headerCellCtrls.set(n,i)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(null!=this.pinned)return[];let t=[];const e=this.getActualDepth(),{columnModel:n}=this.beans;return["left",null,"right"].forEach(i=>{const r=n.getVirtualHeaderGroupRow(i,e);t=t.concat(r)}),t}getActualDepth(){return"filter"==this.type?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())}focusHeader(t,e){if(!this.headerCellCtrls)return!1;const i=Array.from(this.headerCellCtrls.values()).find(r=>r.getColumnGroupChild()==t);return!!i&&i.focus(e)}destroy(){this.headerCellCtrls&&this.headerCellCtrls.forEach(t=>{this.destroyBean(t)}),this.headerCellCtrls=void 0,super.destroy()}};N([Y("beans")],c1.prototype,"beans",2),N([nn],c1.prototype,"postConstruct",1);var Fw=class extends Jt{constructor(t){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=t}setComp(t,e){this.comp=t,this.eViewport=e,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,W.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}setupDragAndDrop(t){const e=new NI(this.pinned,t);this.createManagedBean(e)}refresh(t=!1){const e=new II,n=this.focusService.getFocusHeaderToUseAfterRefresh();(()=>{const c=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let d=0;d<c;d++){const p=this.createBean(new c1(e.next(),this.pinned,"group"));this.groupsRowCtrls.push(p)}})(),(()=>{const c=e.next(),d=!(this.hidden||null!=this.columnsRowCtrl&&t&&this.columnsRowCtrl.getRowIndex()===c);(d||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),d&&(this.columnsRowCtrl=this.createBean(new c1(c,this.pinned,"column")))})(),(()=>{this.includeFloatingFilter=this.filterManager.hasFloatingFilters()&&!this.hidden;const c=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter)return void c();const d=e.next();if(this.filtersRowCtrl){const p=this.filtersRowCtrl.getRowIndex()!==d;(!t||p)&&c()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new c1(d,this.pinned,"filter")))})();const o=this.getAllCtrls();this.comp.setCtrls(o),this.restoreFocusOnHeader(n)}restoreFocusOnHeader(t){null==t||t.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:t})}getAllCtrls(){const t=[...this.groupsRowCtrls];return this.columnsRowCtrl&&t.push(this.columnsRowCtrl),this.filtersRowCtrl&&t.push(this.filtersRowCtrl),t}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const t=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){null==this.pinned&&this.createManagedBean(new DI(t=>this.comp.setCenterWidth(`${t}px`),!0))}setHorizontalScroll(t){this.comp.setViewportScrollLeft(t)}setupPinnedWidth(){if(null==this.pinned)return;const t="left"===this.pinned,e="right"===this.pinned;this.hidden=!0;const n=()=>{const i=t?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(null==i)return;const r=0==i,s=this.hidden!==r,o=this.gridOptionsService.get("enableRtl"),c=this.gridOptionsService.getScrollbarWidth(),p=this.scrollVisibleService.isVerticalScrollShowing()&&(o&&t||!o&&e)?i+c:i;this.comp.setPinnedContainerWidth(`${p}px`),this.comp.setDisplayed(!r),s&&(this.hidden=r,this.refresh())};this.addManagedListener(this.eventService,W.EVENT_LEFT_PINNED_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,W.EVENT_RIGHT_PINNED_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,W.EVENT_SCROLL_VISIBILITY_CHANGED,n),this.addManagedListener(this.eventService,W.EVENT_SCROLLBAR_WIDTH_CHANGED,n)}getHeaderCtrlForColumn(t){if(t instanceof f)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(t):void 0;if(0!==this.groupsRowCtrls.length)for(let e=0;e<this.groupsRowCtrls.length;e++){const n=this.groupsRowCtrls[e].getHeaderCellCtrl(t);if(n)return n}}getHtmlElementForColumnHeader(t){const e=this.getHeaderCtrlForColumn(t);return e?e.getGui():null}getRowType(t){const n=this.getAllCtrls()[t];return n?n.getType():void 0}focusHeader(t,e,n){const r=this.getAllCtrls()[t];return!!r&&r.focusHeader(e,n)}getViewport(){return this.eViewport}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}};N([Y("ctrlsService")],Fw.prototype,"ctrlsService",2),N([Y("scrollVisibleService")],Fw.prototype,"scrollVisibleService",2),N([Y("pinnedWidthService")],Fw.prototype,"pinnedWidthService",2),N([Y("columnModel")],Fw.prototype,"columnModel",2),N([Y("focusService")],Fw.prototype,"focusService",2),N([Y("filterManager")],Fw.prototype,"filterManager",2);var Lw=class kG extends Ii{constructor(e){super(),this.headerRowComps={},this.rowCompsList=[],this.pinned=e}init(){this.selectAndSetTemplate();const e={setDisplayed:i=>this.setDisplayed(i),setCtrls:i=>this.setCtrls(i),setCenterWidth:i=>this.eCenterContainer.style.width=i,setViewportScrollLeft:i=>this.getGui().scrollLeft=i,setPinnedContainerWidth:i=>{const r=this.getGui();r.style.width=i,r.style.maxWidth=i,r.style.minWidth=i}};this.createManagedBean(new Fw(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){this.setTemplate("left"==this.pinned?kG.PINNED_LEFT_TEMPLATE:"right"==this.pinned?kG.PINNED_RIGHT_TEMPLATE:kG.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()}destroyRowComps(){this.setCtrls([])}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){const n=this.headerRowComps;let i;this.headerRowComps={},this.rowCompsList=[];const r=s=>{const o=s.getGui();o.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(o),i&&a3(this.eRowContainer,o,i),i=o};e.forEach(s=>{const o=s.getInstanceId(),c=n[o];delete n[o];const d=c||this.createBean(new N3(s));this.headerRowComps[o]=d,this.rowCompsList.push(d),r(d)}),Hp(n).forEach(s=>this.destroyRowComp(s))}};Lw.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="rowgroup"></div>',Lw.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="rowgroup"></div>',Lw.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',N([fn("eCenterContainer")],Lw.prototype,"eCenterContainer",2),N([nn],Lw.prototype,"init",1),N([Yl],Lw.prototype,"destroyRowComps",1);var F3=Lw,kw=class extends Jt{constructor(){super(...arguments),this.currentHeaderRowWithoutSpan=-1}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl});const t=this.gridOptionsService.getDocument();this.addManagedListener(t,"mousedown",()=>this.setCurrentHeaderRowWithoutSpan(-1))}getHeaderRowCount(){const t=this.ctrlsService.getHeaderRowContainerCtrl();return t?t.getRowCount():0}navigateVertically(t,e,n){if(e||(e=this.focusService.getFocusedHeader()),!e)return!1;const{headerRowIndex:i,column:r}=e,s=this.getHeaderRowCount(),o=0===t;let{headerRowIndex:c,column:d,headerRowIndexWithoutSpan:p}=o?this.headerPositionUtils.getColumnVisibleParent(r,i):this.headerPositionUtils.getColumnVisibleChild(r,i),m=!1;return c<0&&(c=0,d=r,m=!0),c>=s?(c=-1,this.setCurrentHeaderRowWithoutSpan(-1)):void 0!==p&&(this.currentHeaderRowWithoutSpan=p),!(!m&&!d)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:d},allowUserOverride:!0,event:n})}setCurrentHeaderRowWithoutSpan(t){this.currentHeaderRowWithoutSpan=t}navigateHorizontally(t,e=!1,n){const i=this.focusService.getFocusedHeader(),r=2===t,s=this.gridOptionsService.get("enableRtl");let o,c;return-1!==this.currentHeaderRowWithoutSpan?i.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=i.headerRowIndex,r!==s?(c="Before",o=this.headerPositionUtils.findHeader(i,c)):(c="After",o=this.headerPositionUtils.findHeader(i,c)),o||!e?this.focusService.focusHeaderPosition({headerPosition:o,direction:c,fromTab:e,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(i,c,n)}focusNextHeaderRow(t,e,n){const i=t.headerRowIndex;let s,r=null;if("Before"===e?i>0&&(s=i-1,this.currentHeaderRowWithoutSpan-=1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"end")):(s=i+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),r=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"start")),!r)return!1;const{column:o,headerRowIndex:c}=this.headerPositionUtils.getHeaderIndexToFocus(r.column,r?.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:c},direction:e,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(t,e="After"){if(t.getPinned())return;let n;if(t instanceof da){const i=t.getDisplayedLeafColumns();n="Before"===e?q(i):i[0]}else n=t;this.gridBodyCon.getScrollFeature().ensureColumnVisible(n)}};N([Y("focusService")],kw.prototype,"focusService",2),N([Y("headerPositionUtils")],kw.prototype,"headerPositionUtils",2),N([Y("ctrlsService")],kw.prototype,"ctrlsService",2),N([nn],kw.prototype,"postConstruct",1),kw=N([bn("headerNavigationService")],kw);var Vw=class extends Jt{setComp(t,e,n){this.comp=t,this.eGui=e,this.createManagedBean(new cy(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight();const i=this.onHeaderContextMenu.bind(this);this.addManagedListener(this.eGui,"contextmenu",i),this.mockContextMenuForIPad(i),this.ctrlsService.registerGridHeaderCtrl(this)}setupHeaderHeight(){const t=this.setHeaderHeight.bind(this);t(),this.addManagedPropertyListener("headerHeight",t),this.addManagedPropertyListener("pivotHeaderHeight",t),this.addManagedPropertyListener("groupHeaderHeight",t),this.addManagedPropertyListener("pivotGroupHeaderHeight",t),this.addManagedPropertyListener("floatingFiltersHeight",t),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_GRID_STYLES_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,t)}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:t}=this;let i,e=0,n=t.getHeaderRowCount();this.filterManager.hasFloatingFilters()&&(n++,e=1);const s=this.columnModel.getColumnGroupHeaderRowHeight(),o=this.columnModel.getColumnHeaderRowHeight(),d=n-(1+e);i=e*t.getFloatingFiltersHeight(),i+=d*s,i+=o,this.headerHeight!==i&&(this.headerHeight=i,this.comp.setHeightAndMinHeight(`${i+1}px`),this.eventService.dispatchEvent({type:W.EVENT_HEADER_HEIGHT_CHANGED}))}onPivotModeChanged(){const t=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)}onDisplayedColumnsChanged(){const e=this.columnModel.getAllDisplayedColumns().some(n=>n.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",e)}onTabKeyDown(t){const e=this.gridOptionsService.get("enableRtl");(this.headerNavigationService.navigateHorizontally(t.shiftKey!==e?2:3,!0,t)||this.focusService.focusNextGridCoreContainer(t.shiftKey))&&t.preventDefault()}handleKeyDown(t){let e=null;switch(t.key){case Qe.LEFT:e=2;case Qe.RIGHT:$t(e)||(e=3),this.headerNavigationService.navigateHorizontally(e,!1,t);break;case Qe.UP:e=0;case Qe.DOWN:$t(e)||(e=1),this.headerNavigationService.navigateVertically(e,null,t)&&t.preventDefault();break;default:return}}onFocusOut(t){const e=this.gridOptionsService.getDocument(),{relatedTarget:n}=t;!n&&this.eGui.contains(e.activeElement)||this.eGui.contains(n)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(t,e,n){if(!t&&!n||!this.menuService.isHeaderContextMenuEnabled())return;const{target:i}=t??e;(i===this.eGui||i===this.ctrlsService.getHeaderRowContainerCtrl().getViewport())&&this.menuService.showHeaderContextMenu(void 0,t,n)}mockContextMenuForIPad(t){if(!Km())return;const e=new za(this.eGui);this.addManagedListener(e,za.EVENT_LONG_TAP,i=>{t(void 0,i.touchStart,i.touchEvent)}),this.addDestroyFunc(()=>e.destroy())}};N([Y("headerNavigationService")],Vw.prototype,"headerNavigationService",2),N([Y("focusService")],Vw.prototype,"focusService",2),N([Y("columnModel")],Vw.prototype,"columnModel",2),N([Y("ctrlsService")],Vw.prototype,"ctrlsService",2),N([Y("filterManager")],Vw.prototype,"filterManager",2),N([Y("menuService")],Vw.prototype,"menuService",2);var L3=class yme extends Ii{constructor(){super(yme.TEMPLATE)}postConstruct(){const e={addOrRemoveCssClass:(r,s)=>this.addOrRemoveCssClass(r,s),setHeightAndMinHeight:r=>{this.getGui().style.height=r,this.getGui().style.minHeight=r}};this.createManagedBean(new Vw).setComp(e,this.getGui(),this.getFocusableElement());const i=r=>{this.createManagedBean(r),this.appendChild(r)};i(new F3("left")),i(new F3(null)),i(new F3("right"))}};L3.TEMPLATE='<div class="ag-header" role="presentation"/>',N([nn],L3.prototype,"postConstruct",1);var Fye=L3,u1=class extends Jt{addResizeBar(t){const e={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(e),()=>this.dragService.removeDragSource(e)}onDragStart(t,e){this.dragStartX=e.clientX,this.setResizeIcons();const n=e instanceof MouseEvent&&!0===e.shiftKey;t.onResizeStart(n)}setResizeIcons(){const t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!0),t.disableUserSelect(!0)}onDragStop(t,e){t.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!1),t.disableUserSelect(!1)}onDragging(t,e){this.resizeAmount=e.clientX-this.dragStartX,t.onResizing(this.resizeAmount)}};N([Y("dragService")],u1.prototype,"dragService",2),N([Y("ctrlsService")],u1.prototype,"ctrlsService",2),u1=N([bn("horizontalResizeService")],u1);var dy=class extends Jt{hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(t,e,n){this.showPopup(t,i=>{this.popupService.positionPopupUnderMouseEvent({column:t,type:n,mouseEvent:e,ePopup:i})},n,e.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(t,e,n){let i=-1,r="left";const s=this.menuService.isLegacyMenuEnabled();!s&&this.gridOptionsService.get("enableRtl")&&(i=1,r="right");let o=s?void 0:4*i,c=s?void 0:4;this.showPopup(t,d=>{this.popupService.positionPopupByComponent({type:n,eventSource:e,ePopup:d,nudgeX:o,nudgeY:c,alignSide:r,keepWithinBounds:!0,position:"under",column:t})},n,e,s)}showPopup(t,e,n,i,r){const s=t?this.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU"):void 0;if(!s||!t)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const o=document.createElement("div");let c;so(o,"presentation"),o.classList.add("ag-menu"),r||o.classList.add("ag-filter-menu"),this.tabListener=this.addManagedListener(o,"keydown",U=>this.trapFocusWithin(U,o)),s.guiPromise.then(U=>o.appendChild(U));const p=this.menuService.isColumnMenuAnchoringEnabled()?i??this.ctrlsService.getGridBodyCtrl().getGui():void 0,y=this.localeService.getLocaleTextFunc(),A=r&&"columnFilter"!==n?y("ariaLabelColumnMenu","Column Menu"):y("ariaLabelColumnFilter","Column Filter"),k=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:U=>{t.setMenuVisible(!1,"contextMenu");const X=U instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),X&&i&&cd(i)){const Q=this.focusService.findTabbableParent(i);Q&&Q.focus()}(()=>{var U;null==(U=s.filterPromise)||U.then(X=>{var Q;return null==(Q=X?.afterGuiDetached)?void 0:Q.call(X)})})(),this.dispatchVisibleChangedEvent(!1,n,t)},positionCallback:()=>e(o),anchorToElement:p,ariaLabel:A});k&&(this.hidePopup=c=k.hideFunc),s.filterPromise.then(U=>{e(o),U.afterGuiAttached&&U.afterGuiAttached({container:n,hidePopup:c})}),t.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,t)}trapFocusWithin(t,e){t.key!==Qe.TAB||t.defaultPrevented||this.focusService.findNextFocusableElement(e,!1,t.shiftKey)||(t.preventDefault(),this.focusService.focusInto(e,t.shiftKey))}dispatchVisibleChangedEvent(t,e,n){this.eventService.dispatchEvent({type:W.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:t,switchingTab:!1,key:e,column:n??null})}isMenuEnabled(t){var e;return t.isFilterAllowed()&&(null!=(e=t.getColDef().menuTabs)?e:["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}};N([Y("filterManager")],dy.prototype,"filterManager",2),N([Y("popupService")],dy.prototype,"popupService",2),N([Y("focusService")],dy.prototype,"focusService",2),N([Y("ctrlsService")],dy.prototype,"ctrlsService",2),N([Y("menuService")],dy.prototype,"menuService",2),dy=N([bn("filterMenuFactory")],dy);var k3=class extends Jt{constructor(t){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1;const{comp:e,eTopGuard:n,eBottomGuard:i,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:s,focusInnerElement:o,onFocusIn:c,onFocusOut:d,shouldStopEventPropagation:p,onTabKeyDown:m,handleKeyDown:y,eFocusableElement:A}=t;this.comp=e,this.eTopGuard=n,this.eBottomGuard=i,this.providedFocusInnerElement=o,this.eFocusableElement=A,this.focusTrapActive=!!r,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.providedFocusIn=c,this.providedFocusOut=d,this.providedShouldStopEventPropagation=p,this.providedOnTabKeyDown=m,this.providedHandleKeyDown=y}postConstruct(){this.createManagedBean(new cy(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:t=>this.onTabKeyDown(t),handleKeyDown:t=>this.handleKeyDown(t),onFocusIn:t=>this.onFocusIn(t),onFocusOut:t=>this.onFocusOut(t)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(t=>this.addManagedListener(t,"focus",this.onFocus.bind(this)))}handleKeyDown(t){this.providedHandleKeyDown&&this.providedHandleKeyDown(t)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()}activateTabGuards(){if(this.forcingFocusOut)return;const t=this.gridOptionsService.get("tabIndex");this.comp.setTabIndex(t.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(t){if(this.skipTabGuardFocus)return void(this.skipTabGuardFocus=!1);if(this.forceFocusOutWhenTabGuardsAreEmpty&&0===this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length)return void this.findNextElementOutsideAndFocus(t.target===this.eBottomGuard);const e=t.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(e):this.focusInnerElement(e)}findNextElementOutsideAndFocus(t){const e=this.gridOptionsService.getDocument(),n=this.focusService.findFocusableElements(e.body,null,!0),i=n.indexOf(t?this.eTopGuard:this.eBottomGuard);if(-1===i)return;let r,s;t?(r=0,s=i):(r=i+1,s=n.length);const o=n.slice(r,s),c=this.gridOptionsService.get("tabIndex");o.sort((d,p)=>{const m=parseInt(d.getAttribute("tabindex")||"0"),y=parseInt(p.getAttribute("tabindex")||"0");return y===c?1:m===c?-1:0===m?1:0===y?-1:m-y}),o[t?o.length-1:0].focus()}onFocusIn(t){this.focusTrapActive||(this.providedFocusIn&&this.providedFocusIn(t),this.deactivateTabGuards())}onFocusOut(t){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(t),this.eFocusableElement.contains(t.relatedTarget)||this.activateTabGuards())}onTabKeyDown(t){if(this.providedOnTabKeyDown)return void this.providedOnTabKeyDown(t);if(this.focusTrapActive||t.defaultPrevented)return;const e=this.tabGuardsAreActive();e&&this.deactivateTabGuards();const n=this.getNextFocusableElement(t.shiftKey);e&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),t.preventDefault())}focusInnerElement(t=!1){const e=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(e.splice(0,1),e.splice(e.length-1,1)),e.length&&e[t?e.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(t){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,t)}forceFocusOutOfContainer(t=!1){if(this.forcingFocusOut)return;const e=t?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,e.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(t){return t===this.eTopGuard||t===this.eBottomGuard}};N([Y("focusService")],k3.prototype,"focusService",2),N([nn],k3.prototype,"postConstruct",1);var d1=class extends Ii{initialiseTabGuard(t){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();const e=[this.eTopGuard,this.eBottomGuard],n={setTabIndex:i=>{e.forEach(r=>null!=i?r.setAttribute("tabindex",i):r.removeAttribute("tabindex"))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new k3({comp:n,focusTrapActive:!!t.focusTrapActive,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:t.onFocusIn,onFocusOut:t.onFocusOut,focusInnerElement:t.focusInnerElement,handleKeyDown:t.handleKeyDown,onTabKeyDown:t.onTabKeyDown,shouldStopEventPropagation:t.shouldStopEventPropagation,forceFocusOutWhenTabGuardsAreEmpty:t.forceFocusOutWhenTabGuardsAreEmpty}))}createTabGuard(t){const e=document.createElement("div");return e.classList.add("ag-tab-guard","top"===t?"ag-tab-guard-top":"ag-tab-guard-bottom"),so(e,"presentation"),e}addTabGuards(t,e){this.eFocusableElement.insertAdjacentElement("afterbegin",t),this.eFocusableElement.insertAdjacentElement("beforeend",e)}removeAllChildrenExceptTabGuards(){const t=[this.eTopGuard,this.eBottomGuard];Jo(this.getFocusableElement()),this.addTabGuards(...t)}forceFocusOutOfContainer(t=!1){this.tabGuardCtrl.forceFocusOutOfContainer(t)}appendChild(t,e){Yx(t)||(t=t.getGui());const{eBottomGuard:n}=this;n?n.insertAdjacentElement("beforebegin",t):super.appendChild(t,e)}},ak=class Cme extends d1{constructor(e){super(Cme.getTemplate(e.cssClass)),this.items=[],this.tabbedItemScrollMap=new Map,this.params=e}postConstruct(){this.setupHeader(),this.params.items&&this.params.items.forEach(e=>this.addItem(e)),this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc(()=>{var e,n,i;return null==(i=null==(n=null==(e=this.activeItem)?void 0:e.tabbedItem)?void 0:n.afterDetachedCallback)?void 0:i.call(n)})}static getTemplate(e){return`<div class="ag-tabs ${e}">\n            <div ref="eHeader"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body ${e?`${e}-body`:""}"></div>\n        </div>`}setupHeader(){const{enableCloseButton:e,cssClass:n}=this.params,i=(r,s)=>{r.classList.add(`ag-tabs-${s}`),n&&r.classList.add(`${n}-${s}`)};e?(this.setupCloseButton(i),this.eTabHeader=this.gridOptionsService.getDocument().createElement("div"),i(this.eHeader,"header-wrapper"),so(this.eHeader,"presentation"),this.eHeader.appendChild(this.eTabHeader)):this.eTabHeader=this.eHeader,so(this.eTabHeader,"tablist"),i(this.eTabHeader,"header")}setupCloseButton(e){const n=this.gridOptionsService.getDocument(),i=n.createElement("button");e(i,"close-button");const r=ks("close",this.gridOptionsService,void 0,!0);vf(i,this.params.closeButtonAriaLabel),i.appendChild(r),this.addManagedListener(i,"click",()=>{var o,c;return null==(c=(o=this.params).onCloseClicked)?void 0:c.call(o)});const s=n.createElement("div");e(s,"close-button-wrapper"),so(s,"presentation"),s.appendChild(i),this.eHeader.appendChild(s),this.eCloseButton=i}handleKeyDown(e){const n=this.gridOptionsService.getDocument();switch(e.key){case Qe.RIGHT:case Qe.LEFT:if(!this.eTabHeader.contains(n.activeElement))return;const i=e.key===Qe.RIGHT,r=this.gridOptionsService.get("enableRtl"),s=this.items.indexOf(this.activeItem),o=i!==r?Math.min(s+1,this.items.length-1):Math.max(s-1,0);if(s===o)return;e.preventDefault();const c=this.items[o];this.showItemWrapper(c),c.eHeaderButton.focus();break;case Qe.UP:case Qe.DOWN:e.stopPropagation()}}onTabKeyDown(e){var n,i,r,s;if(e.defaultPrevented)return;const{focusService:o,eHeader:c,eBody:d,activeItem:p,params:m}=this,{suppressTrapFocus:y,enableCloseButton:A}=m,U=this.gridOptionsService.getDocument().activeElement,X=e.target,Q=e.shiftKey;if(c.contains(U))return e.preventDefault(),void(!A||!Q||null!=(n=this.eCloseButton)&&n.contains(U)?y&&Q?null==(r=this.focusService.findFocusableElementBeforeTabGuard(this.gridOptionsService.getDocument().body,X))||r.focus():this.focusBody(e.shiftKey):null==(i=this.eCloseButton)||i.focus());let pe=null;if(o.isTargetUnderManagedComponent(d,X)&&(Q&&(pe=this.focusService.findFocusableElementBeforeTabGuard(d,X)),!pe&&!y&&(pe=p.eHeaderButton)),!pe&&d.contains(U)&&(pe=o.findNextFocusableElement(d,!1,Q),!pe))return e.preventDefault(),void(y&&!Q?this.forceFocusOutOfContainer(Q):A&&!Q?null==(s=this.eCloseButton)||s.focus():this.focusHeader());pe&&(e.preventDefault(),pe.focus())}focusInnerElement(e){e?this.focusHeader():this.focusBody(!0)}focusHeader(e){this.activeItem.eHeaderButton.focus({preventScroll:e})}focusBody(e){this.focusService.focusInto(this.eBody,e)}setAfterAttachedParams(e){this.afterAttachedParams=e}showFirstItem(){this.items.length>0&&this.showItemWrapper(this.items[0])}addItem(e){const n=document.createElement("span");so(n,"tab"),n.setAttribute("tabindex","-1"),n.appendChild(e.title),n.classList.add("ag-tab"),this.eTabHeader.appendChild(n),vf(n,e.titleLabel);const i={tabbedItem:e,eHeaderButton:n};this.items.push(i),n.addEventListener("click",this.showItemWrapper.bind(this,i))}showItem(e){const n=this.items.find(i=>i.tabbedItem===e);n&&this.showItemWrapper(n)}showItemWrapper(e){var n,i,r,s,o,c;const{tabbedItem:d,eHeaderButton:p}=e;null==(i=(n=this.params).onItemClicked)||i.call(n,{item:d}),this.activeItem!==e?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),Jo(this.eBody),d.bodyPromise.then(m=>{this.eBody.appendChild(m);const y=!this.focusService.isKeyboardMode();if(this.params.suppressFocusBodyOnOpen||this.focusService.focusInto(this.eBody,!1,y),d.afterAttachedCallback&&d.afterAttachedCallback(this.afterAttachedParams),this.params.keepScrollPosition){const A=d.getScrollableContainer&&d.getScrollableContainer()||m;this.lastScrollListener=this.addManagedListener(A,"scroll",()=>{this.tabbedItemScrollMap.set(d.name,A.scrollTop)});const k=this.tabbedItemScrollMap.get(d.name);void 0!==k&&setTimeout(()=>{A.scrollTop=k},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),null==(c=(o=this.activeItem.tabbedItem).afterDetachedCallback)||c.call(o)),p.classList.add("ag-tab-selected"),this.activeItem=e):null==(s=(r=this.params).onActiveItemClicked)||s.call(r)}};N([Y("focusService")],ak.prototype,"focusService",2),N([fn("eHeader")],ak.prototype,"eHeader",2),N([fn("eBody")],ak.prototype,"eBody",2),N([nn],ak.prototype,"postConstruct",1);var V3=class extends Jt{constructor(){super(...arguments),this.polyfillFunctions=[]}observeResize(t,e){const n=this.gridOptionsService.getWindow(),r=()=>{var c,d;let p=null!=(c=t?.clientWidth)?c:0,m=null!=(d=t?.clientHeight)?d:0,y=!0;const A=()=>{var k,U;if(y){const X=null!=(k=t?.clientWidth)?k:0,Q=null!=(U=t?.clientHeight)?U:0;(X!==p||Q!==m)&&(p=X,m=Q,e()),this.doNextPolyfillTurn(A)}};return A(),()=>y=!1},s=this.gridOptionsService.get("suppressBrowserResizeObserver");return n.ResizeObserver&&!s?(()=>{const c=new n.ResizeObserver(e);return c.observe(t),()=>c.disconnect()})():this.getFrameworkOverrides().wrapIncoming(()=>r(),"resize-observer")}doNextPolyfillTurn(t){this.polyfillFunctions.push(t),this.schedulePolyfill()}schedulePolyfill(){this.polyfillScheduled||(this.polyfillScheduled=!0,window.setTimeout(()=>{const e=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],e.forEach(n=>n())},50))}};V3=N([bn("resizeObserverService")],V3);var LI=class extends Jt{constructor(){super(...arguments),this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(t){const e=this.gridOptionsService.get("pagination");if(this.scrollGoingDown=t>=this.lastScrollTop,e&&0===t){const n=this.paginationProxy.getCurrentPage();n!==this.lastPage&&(this.lastPage=n,this.scrollGoingDown=!0)}this.lastScrollTop=t}init(){this.useAnimationFrame=!this.gridOptionsService.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(t){!1===this.useAnimationFrame&&console.warn(`AG Grid: AnimationFrameService.${t} called but animation frames are off`)}createTask(t,e,n){this.verifyAnimationFrameOn(n);const i={task:t,index:e,createOrder:++this.taskCount};this.addTaskToList(this[n],i),this.schedule()}cancelTask(t){this.cancelledTasks.add(t)}addTaskToList(t,e){t.list.push(e),t.sorted=!1}sortTaskList(t){if(t.sorted)return;const e=this.scrollGoingDown?1:-1;t.list.sort((n,i)=>n.index!==i.index?e*(i.index-n.index):i.createOrder-n.createOrder),t.sorted=!0}addDestroyTask(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()}executeFrame(t){this.verifyAnimationFrameOn("executeFrame");const e=this.createTasksP1,n=e.list,i=this.createTasksP2,r=i.list,s=this.destroyTasks,o=(new Date).getTime();let c=(new Date).getTime()-o;const d=t<=0,p=this.ctrlsService.getGridBodyCtrl();for(;d||c<t;){if(!p.getScrollFeature().scrollGridIfNeeded()){let y;if(n.length)this.sortTaskList(e),y=n.pop().task;else if(r.length)this.sortTaskList(i),y=r.pop().task;else{if(!s.length){this.cancelledTasks.clear();break}y=s.pop()}this.cancelledTasks.has(y)||y()}c=(new Date).getTime()-o}n.length||r.length||s.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const t=this.executeFrame.bind(this,60);this.requestAnimationFrame(t)}requestAnimationFrame(t){const e=this.gridOptionsService.getWindow();e.requestAnimationFrame?e.requestAnimationFrame(t):e.webkitRequestAnimationFrame?e.webkitRequestAnimationFrame(t):e.setTimeout(t,0)}isQueueEmpty(){return!this.ticking}debounce(t){let e=!1;return()=>{this.isOn()?e||(e=!0,this.addDestroyTask(()=>{e=!1,t()})):window.setTimeout(t,0)}}};N([Y("ctrlsService")],LI.prototype,"ctrlsService",2),N([Y("paginationProxy")],LI.prototype,"paginationProxy",2),N([nn],LI.prototype,"init",1),LI=N([bn("animationFrameService")],LI);var h1=class extends Jt{postConstruct(){this.isClientSideRowModel="clientSide"===this.rowModel.getType()}expandRows(t){if(!this.isClientSideRowModel)return;const e=new Set(t);this.rowModel.forEachNode(n=>{n.id&&e.has(n.id)&&(n.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const t=[];return this.rowModel.forEachNode(({expanded:e,id:n})=>{e&&n&&t.push(n)}),t}expandAll(t){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(t)}setRowNodeExpanded(t,e,n){t&&(n&&t.parent&&-1!==t.parent.level&&this.setRowNodeExpanded(t.parent,e,n),t.setExpanded(e))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}};N([Y("rowModel")],h1.prototype,"rowModel",2),N([nn],h1.prototype,"postConstruct",1),h1=N([bn("expansionService")],h1);var bf=class extends Jt{postConstruct(){var t;this.activeMenuFactory=null!=(t=this.enterpriseMenuFactory)?t:this.filterMenuFactory}showColumnMenu(t){this.showColumnMenuCommon(this.activeMenuFactory,t,"columnMenu")}showFilterMenu(t){const e=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(e,t,t.containerType,!0)}showHeaderContextMenu(t,e,n){this.activeMenuFactory.showMenuAfterContextMenuEvent(t,e,n)}showContextMenu(t){var e,n,i;const{column:r,anchorToElement:s,rowNode:o,value:c}=t;null==(i=this.contextMenuFactory)||i.onContextMenu(null!=(e=t.mouseEvent)?e:null,null!=(n=t.touchEvent)?n:null,o??null,r??null,c,s)}showColumnChooser(t){var e;null==(e=this.columnChooserFactory)||e.showColumnChooser(t)}hidePopupMenu(){var t;null==(t=this.contextMenuFactory)||t.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var t;null==(t=this.columnChooserFactory)||t.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(t){const{suppressMenu:e,suppressHeaderMenuButton:n}=t.getColDef();return!(n??e)&&this.activeMenuFactory.isMenuEnabled(t)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(t){return!t.getColDef().suppressHeaderFilterButton&&this.filterManager.isFilterAllowed(t)}isHeaderContextMenuEnabled(t){return!t?.getColDef().suppressHeaderContextMenu&&"new"===this.getColumnMenuType()}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const t=!this.isSuppressMenuHide();return!(Km()&&t)}isHeaderFilterButtonEnabled(t){return this.isFilterMenuInHeaderEnabled(t)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(t)}isFilterMenuItemEnabled(t){return this.filterManager.isFilterAllowed(t)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(t)&&!this.isFloatingFilterButtonDisplayed(t)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return"new"===this.getColumnMenuType()}isLegacyMenuEnabled(){return"legacy"===this.getColumnMenuType()}isFloatingFilterButtonEnabled(t){var e;const n=t.getColDef(),i=null==(e=n.floatingFilterComponentParams)?void 0:e.suppressFilterButton;return null!=i&&ei("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),null==n.suppressFloatingFilterButton?!i:!n.suppressFloatingFilterButton}getColumnMenuType(){var t;return null!=(t=this.gridOptionsService.get("columnMenu"))?t:"legacy"}isFloatingFilterButtonDisplayed(t){return!!t.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(t)}isSuppressMenuHide(){const t=this.gridOptionsService.get("suppressMenuHide");return!this.isLegacyMenuEnabled()&&!this.gridOptionsService.exists("suppressMenuHide")||t}showColumnMenuCommon(t,e,n,i){const{column:r,positionBy:s}=e;if("button"===s){const{buttonElement:o}=e;t.showMenuAfterButtonClick(r,o,n,i)}else if("mouse"===s){const{mouseEvent:o}=e;t.showMenuAfterMouseEvent(r,o,n,i)}else r&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(r,"auto"),this.animationFrameService.requestAnimationFrame(()=>{const o=this.ctrlsService.getHeaderRowContainerCtrl(r.getPinned()).getHeaderCtrlForColumn(r);t.showMenuAfterButtonClick(r,o.getAnchorElementForMenu(i),n,!0)}))}};N([lr("enterpriseMenuFactory")],bf.prototype,"enterpriseMenuFactory",2),N([Y("filterMenuFactory")],bf.prototype,"filterMenuFactory",2),N([lr("contextMenuFactory")],bf.prototype,"contextMenuFactory",2),N([Y("ctrlsService")],bf.prototype,"ctrlsService",2),N([Y("animationFrameService")],bf.prototype,"animationFrameService",2),N([lr("columnChooserFactory")],bf.prototype,"columnChooserFactory",2),N([Y("filterManager")],bf.prototype,"filterManager",2),N([nn],bf.prototype,"postConstruct",1),bf=N([bn("menuService")],bf);var Gw=class extends Jt{postConstruct(){this.ctrlsService.whenReady(t=>{this.centerRowContainerCtrl=t.centerRowContainerCtrl})}getPreferredWidthForColumn(t,e){const n=this.getHeaderCellForColumn(t);if(!n)return-1;const i=this.rowRenderer.getAllCellsForColumn(t);return e||i.push(n),this.addElementsToContainerAndGetWidth(i)}getPreferredWidthForColumnGroup(t){const e=this.getHeaderCellForColumn(t);return e?this.addElementsToContainerAndGetWidth([e]):-1}addElementsToContainerAndGetWidth(t){const e=document.createElement("form");e.style.position="fixed";const n=this.centerRowContainerCtrl.getContainerElement();t.forEach(s=>this.cloneItemIntoDummy(s,e)),n.appendChild(e);const i=e.offsetWidth;return n.removeChild(e),i+this.getAutoSizePadding()}getAutoSizePadding(){return this.gridOptionsService.get("autoSizePadding")}getHeaderCellForColumn(t){let e=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(n=>{const i=n.getHtmlElementForColumnHeader(t);null!=i&&(e=i)}),e}cloneItemIntoDummy(t,e){const n=t.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const i=document.createElement("div"),r=i.classList;["ag-header-cell","ag-header-group-cell"].some(c=>n.classList.contains(c))?(r.add("ag-header","ag-header-row"),i.style.position="static"):r.add("ag-row");let o=t.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(d=>o.classList.contains(d))){for(let d=0;d<o.classList.length;d++){const p=o.classList[d];"ag-row-position-absolute"!=p&&r.add(p)}break}o=o.parentElement}i.appendChild(n),e.appendChild(i)}};N([Y("rowRenderer")],Gw.prototype,"rowRenderer",2),N([Y("ctrlsService")],Gw.prototype,"ctrlsService",2),N([Y("rowCssClassCalculator")],Gw.prototype,"rowCssClassCalculator",2),N([nn],Gw.prototype,"postConstruct",1),Gw=N([bn("autoWidthCalculator")],Gw);var f1=class extends Jt{constructor(t,e){super(),this.createRowCon=t,this.destroyRowCtrls=e,this.stickyRowCtrls=[],this.containerHeight=0}postConstruct(){this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady(t=>{this.gridBodyCtrl=t.gridBodyCtrl})}getStickyRowCtrls(){return this.stickyRowCtrls}checkStickyRows(){let t=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],t);const e=[],n=this.rowRenderer.getFirstVisibleVerticalPixel(),i=s=>{var o,c,d;let p;if(e.push(s),this.isClientSide){let y=s;for(;y.isExpandable()&&y.expanded;)if(y.master)y=y.detailNode;else if(y.childrenAfterSort){if(0===y.childrenAfterSort.length)break;y=q(y.childrenAfterSort)}p=y.rowTop+y.rowHeight}else if(s.master)p=s.detailNode.rowTop+s.detailNode.rowHeight;else{const y=null==(o=s.childStore)?void 0:o.getStoreBounds();p=(null!=(c=y?.heightPx)?c:0)+(null!=(d=y?.topPx)?d:0)}const m=n+t+s.rowHeight;s.stickyRowTop=p<m?t+(p-m):t,t=0,e.forEach(y=>{const A=y.stickyRowTop+y.rowHeight;t<A&&(t=A)})};let r=0;for(;;){const s=n+t,o=this.rowModel.getRowIndexAtPixel(s),c=this.rowModel.getRow(o);if(null==c||c.level<0||100==r++)break;const d=[];let p=c.parent;for(;p.level>=0;)d.push(p),p=p.parent;const m=d.reverse().find(y=>e.indexOf(y)<0&&y.displayed);if(m)i(m);else{if(!(c.isExpandable()&&c.expanded&&c.rowTop<s))break;i(c)}}return this.refreshNodesAndContainerHeight(e,t)}refreshStickyNode(t){const e=[];for(let n=0;n<this.stickyRowCtrls.length;n++){const i=this.stickyRowCtrls[n].getRowNode();i!==t&&e.push(i)}this.refreshNodesAndContainerHeight(e,this.containerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(t,e){let n=!1;const i=this.stickyRowCtrls.filter(c=>-1===t.indexOf(c.getRowNode())),r=t.filter(c=>-1===this.stickyRowCtrls.findIndex(d=>d.getRowNode()===c));(i.length||r.length)&&(n=!0);const s={};i.forEach(c=>{s[c.getRowNode().id]=c,this.stickyRowCtrls=this.stickyRowCtrls.filter(d=>d!==c)});for(const c of Object.values(s))c.getRowNode().sticky=!1;this.destroyRowCtrls(s,!1);const o=r.map(c=>(c.sticky=!0,this.createRowCon(c,!1,!1)));return this.stickyRowCtrls.push(...o),this.stickyRowCtrls.forEach(c=>c.setRowTop(c.getRowNode().stickyRowTop)),this.stickyRowCtrls.sort((c,d)=>d.getRowNode().rowIndex-c.getRowNode().rowIndex),this.containerHeight!==e&&(this.containerHeight=e,this.gridBodyCtrl.setStickyTopHeight(e),n=!0),n}};N([Y("rowModel")],f1.prototype,"rowModel",2),N([Y("rowRenderer")],f1.prototype,"rowRenderer",2),N([Y("ctrlsService")],f1.prototype,"ctrlsService",2),N([nn],f1.prototype,"postConstruct",1);var dd=class extends Jt{constructor(){super(...arguments),this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const t=()=>{this.getAllCellCtrls().forEach(s=>s.onRangeSelectionChanged())},e=()=>{this.getAllCellCtrls().forEach(s=>s.updateRangeBordersIfRangeCount())},n=()=>{this.eventService.addEventListener(W.EVENT_RANGE_SELECTION_CHANGED,t),this.eventService.addEventListener(W.EVENT_COLUMN_MOVED,e),this.eventService.addEventListener(W.EVENT_COLUMN_PINNED,e),this.eventService.addEventListener(W.EVENT_COLUMN_VISIBLE,e)},i=()=>{this.eventService.removeEventListener(W.EVENT_RANGE_SELECTION_CHANGED,t),this.eventService.removeEventListener(W.EVENT_COLUMN_MOVED,e),this.eventService.removeEventListener(W.EVENT_COLUMN_PINNED,e),this.eventService.removeEventListener(W.EVENT_COLUMN_VISIBLE,e)};this.addDestroyFunc(()=>i()),this.addManagedPropertyListener("enableRangeSelection",s=>{s.currentValue?n():i()}),this.gridOptionsService.get("enableRangeSelection")&&n()}}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.initialise()})}initialise(){if(this.addManagedListener(this.eventService,W.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,W.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,W.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.gridOptionsService.isGroupRowsSticky()){const t=this.rowModel.getType();("clientSide"===t||"serverSide"===t)&&(this.stickyRowFeature=this.createManagedBean(new f1(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gridOptionsService.get("keepDetailRows")){const t=this.getKeepDetailRowsCount();this.cachedRowCtrls=new Gye(t??3)}}getKeepDetailRowsCount(){return this.gridOptionsService.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]}updateAllRowCtrls(){const t=Hp(this.rowCtrlsByRowIndex),e=Hp(this.zombieRowCtrls),n=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=e.length>0||n.length>0?[...t,...e,...n]:t}onCellFocusChanged(t){this.getAllCellCtrls().forEach(e=>e.onCellFocused(t)),this.getFullWidthRowCtrls().forEach(e=>e.onFullWidthRowFocused(t))}registerCellEventListeners(){this.addManagedListener(this.eventService,W.EVENT_CELL_FOCUSED,t=>{this.onCellFocusChanged(t)}),this.addManagedListener(this.eventService,W.EVENT_CELL_FOCUS_CLEARED,()=>{this.onCellFocusChanged()}),this.addManagedListener(this.eventService,W.EVENT_FLASH_CELLS,t=>{this.getAllCellCtrls().forEach(e=>e.onFlashCells(t))}),this.addManagedListener(this.eventService,W.EVENT_COLUMN_HOVER_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onColumnHover())}),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onDisplayedColumnsChanged())}),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>{this.printLayout&&this.getAllCellCtrls().forEach(t=>t.onLeftChanged())}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,W.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(t=>t()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getAllGridColumns().forEach(e=>{const n=d=>{this.getAllCellCtrls().forEach(p=>{p.getColumn()===e&&d(p)})},i=()=>{n(d=>d.onLeftChanged())},r=()=>{n(d=>d.onWidthChanged())},s=()=>{n(d=>d.onFirstRightPinnedChanged())},o=()=>{n(d=>d.onLastLeftPinnedChanged())},c=()=>{n(d=>d.onColDefChanged())};e.addEventListener("leftChanged",i),e.addEventListener("widthChanged",r),e.addEventListener("firstRightPinnedChanged",s),e.addEventListener("lastLeftPinnedChanged",o),e.addEventListener("colDefChanged",c),this.destroyFuncsForColumnListeners.push(()=>{e.removeEventListener("leftChanged",i),e.removeEventListener("widthChanged",r),e.removeEventListener("firstRightPinnedChanged",s),e.removeEventListener("lastLeftPinnedChanged",o),e.removeEventListener("colDefChanged",c)})})}onDomLayoutChanged(){const t=this.gridOptionsService.isDomLayout("print"),e=t||this.gridOptionsService.get("embedFullWidthRows"),n=e!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=e,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)}onPageLoaded(t){this.redrawAfterModelUpdate({recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0})}getAllCellsForColumn(t){const e=[];return this.getAllRowCtrls().forEach(n=>{const i=n.getCellElement(t);i&&e.push(i)}),e}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(t,e){t.forEach(n=>{n.destroyFirstPass(),n.destroySecondPass()}),t.length=0,e&&e.forEach(n=>{const i=new Mw(n,this.beans,!1,!1,this.printLayout);t.push(i)})}onPinnedRowDataChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(t,e=!1){var n;if(t.sticky)this.stickyRowFeature.refreshStickyNode(t);else{if(null!=(n=this.cachedRowCtrls)&&n.has(t))return void this.cachedRowCtrls.removeRow(t);{const i=r=>{const s=r[t.rowIndex];s&&s.getRowNode()===t&&(s.destroyFirstPass(),s.destroySecondPass(),r[t.rowIndex]=this.createRowCon(t,!1,!1))};switch(t.rowPinned){case"top":i(this.topRowCtrls);break;case"bottom":i(this.bottomRowCtrls);break;default:i(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}}e||this.dispatchDisplayedRowsChanged(!1)}redrawRows(t){if(null!=t)return t?.forEach(n=>this.redrawRow(n,!0)),void this.dispatchDisplayedRowsChanged(!1);this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(t){const e=t?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==e)return null;const i=this.gridOptionsService.getDocument().activeElement,r=this.gridOptionsService.getDomData(i,Pw.DOM_DATA_KEY_CELL_CTRL),s=this.gridOptionsService.getDomData(i,Mw.DOM_DATA_KEY_ROW_CTRL);return r||s?e:null}redrawAfterModelUpdate(t={}){this.getLockOnRefresh();const e=this.getCellToRestoreFocusToAfterRefresh(t);this.updateContainerHeights(),this.scrollToTopIfNewData(t);const n=!t.domLayoutChanged&&!!t.recycleRows,i=t.animate&&this.gridOptionsService.isAnimateRows(),r=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(r,i),this.gridBodyCtrl.updateRowCount(),t.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=e&&this.restoreFocusedCell(e),this.releaseLockOnRefresh()}scrollToTopIfNewData(t){const e=t.newData||t.newPage,n=this.gridOptionsService.get("suppressScrollOnNewData");e&&!n&&this.gridBodyCtrl.getScrollFeature().scrollToTop()}updateContainerHeights(){if(this.printLayout)return void this.rowContainerHeightService.setModelHeight(null);let t=this.paginationProxy.getCurrentPageHeight();0===t&&(t=1),this.rowContainerHeightService.setModelHeight(t)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0}releaseLockOnRefresh(){this.refreshInProgress=!1}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(t){t&&(this.focusService.setRestoreFocusedCell(t),this.onCellFocusChanged(this.beans.gridOptionsService.addGridCommonParams({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"mock"})))}stopEditing(t=!1){this.getAllRowCtrls().forEach(e=>{e.stopEditing(t)})}getAllCellCtrls(){const t=[],e=this.getAllRowCtrls(),n=e.length;for(let i=0;i<n;i++){const r=e[i].getAllCellCtrls(),s=r.length;for(let o=0;o<s;o++)t.push(r[o])}return t}getAllRowCtrls(){const t=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],e=[...this.topRowCtrls,...this.bottomRowCtrls,...t];for(const n of Object.keys(this.rowCtrlsByRowIndex))e.push(this.rowCtrlsByRowIndex[n]);return e}addRenderedRowListener(t,e,n){const i=this.rowCtrlsByRowIndex[e];i&&i.addEventListener(t,n)}flashCells(t={}){this.getCellCtrls(t.rowNodes,t.columns).forEach(e=>e.flashCell(t))}refreshCells(t={}){const e={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};this.getCellCtrls(t.rowNodes,t.columns).forEach(n=>n.refreshOrDestroyCell(e)),t.rowNodes&&(this.getRowCtrls(t.rowNodes).forEach(n=>{n.isFullWidth()&&(n.refreshFullWidth()||this.redrawRow(n.getRowNode(),!0))}),this.dispatchDisplayedRowsChanged(!1))}getCellRendererInstances(t){var e;const n=this.getCellCtrls(t.rowNodes,t.columns).map(s=>s.getCellRenderer()).filter(s=>null!=s);if(null!=(e=t.columns)&&e.length)return n;const i=[],r=this.mapRowNodes(t.rowNodes);return this.getAllRowCtrls().forEach(s=>{if(r&&!this.isRowInMap(s.getRowNode(),r)||!s.isFullWidth())return;const o=s.getFullWidthCellRenderers();for(let c=0;c<o.length;c++){const d=o[c];null!=d&&i.push(d)}}),[...i,...n]}getCellEditorInstances(t){const e=[];return this.getCellCtrls(t.rowNodes,t.columns).forEach(n=>{const i=n.getCellEditor();i&&e.push(i)}),e}getEditingCells(){const t=[];return this.getAllCellCtrls().forEach(e=>{if(e.isEditing()){const n=e.getCellPosition();t.push(n)}}),t}mapRowNodes(t){if(!t)return;const e={top:{},bottom:{},normal:{}};return t.forEach(n=>{const i=n.id;"top"===n.rowPinned?e.top[i]=n:"bottom"===n.rowPinned?e.bottom[i]=n:e.normal[i]=n}),e}isRowInMap(t,e){const n=t.id,i=t.rowPinned;return"bottom"===i?null!=e.bottom[n]:"top"===i?null!=e.top[n]:null!=e.normal[n]}getRowCtrls(t){const e=this.mapRowNodes(t),n=this.getAllRowCtrls();return t&&e?n.filter(i=>{const r=i.getRowNode();return this.isRowInMap(r,e)}):n}getCellCtrls(t,e){let n;$t(e)&&(n={},e.forEach(r=>{const s=this.columnModel.getGridColumn(r);$t(s)&&(n[s.getId()]=!0)}));const i=[];return this.getRowCtrls(t).forEach(r=>{r.getAllCellCtrls().forEach(s=>{const o=s.getColumn().getId();n&&!n[o]||i.push(s)})}),i}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)}getRowsToRecycle(){const t=[];ml(this.rowCtrlsByRowIndex,(n,i)=>{null==i.getRowNode().id&&t.push(n)}),this.removeRowCtrls(t);const e={};return ml(this.rowCtrlsByRowIndex,(n,i)=>{const r=i.getRowNode();e[r.id]=i}),this.rowCtrlsByRowIndex={},e}removeRowCtrls(t,e=!1){t.forEach(n=>{const i=this.rowCtrlsByRowIndex[n];i&&(i.destroyFirstPass(e),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]})}onBodyScroll(t){"vertical"===t.direction&&this.redraw({afterScroll:!0})}redraw(t={}){const{afterScroll:e}=t;let n;this.stickyRowFeature&&Q6()&&(n=this.getCellToRestoreFocusToAfterRefresh()||void 0);const i=this.firstRenderedRow,r=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let s=!1;if(this.stickyRowFeature&&(s=this.stickyRowFeature.checkStickyRows()),(!e||s||this.firstRenderedRow!==i||this.lastRenderedRow!==r)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,e),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(e&&!s),null!=n)){const c=this.getCellToRestoreFocusToAfterRefresh();null!=n&&null==c&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(n))}}removeRowCompsNotToDraw(t,e){const n={};t.forEach(s=>n[s]=!0);const r=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!n[s]);this.removeRowCtrls(r,e)}calculateIndexesToDraw(t){let e=zte(this.firstRenderedRow,this.lastRenderedRow);const n=(r,s)=>{const o=s.getRowNode().rowIndex;null!=o&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(s)&&e.push(o)};ml(this.rowCtrlsByRowIndex,n),ml(t,n),e.sort((r,s)=>r-s);const i=[];for(let r=0;r<e.length;r++){const s=e[r],o=this.paginationProxy.getRow(s);o&&!o.sticky&&i.push(s)}return i}recycleRows(t,e=!1,n=!1){const i=this.calculateIndexesToDraw(t);(this.printLayout||n)&&(e=!1),this.removeRowCompsNotToDraw(i,!e);const r=[];i.forEach(s=>{const o=this.createOrUpdateRowCtrl(s,t,e,n);$t(o)&&r.push(o)}),t&&(!n||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout?this.destroyRowCtrls(t,e):this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(t,e),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(t=!1){this.eventService.dispatchEvent({type:W.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:t})}onDisplayedColumnsChanged(){const t=this.columnModel.isPinningLeft(),e=this.columnModel.isPinningRight();(this.pinningLeft!==t||e!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=e,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const t=[];this.getFullWidthRowCtrls().forEach(e=>{const n=e.getRowNode().rowIndex;t.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(t),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(t){const e=this.mapRowNodes(t);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const i=n.getRowNode();return!(null!=e&&!this.isRowInMap(i,e))})}createOrUpdateRowCtrl(t,e,n,i){let r,s=this.rowCtrlsByRowIndex[t];if(s||(r=this.paginationProxy.getRow(t),$t(r)&&$t(e)&&e[r.id]&&r.alreadyRendered&&(s=e[r.id],e[r.id]=null)),!s){if(r||(r=this.paginationProxy.getRow(t)),!$t(r))return;s=this.createRowCon(r,n,i)}return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[t]=s,s}destroyRowCtrls(t,e){const n=[];ml(t,(i,r)=>{if(r){if(this.cachedRowCtrls&&r.isCacheable())return void this.cachedRowCtrls.addRow(r);r.destroyFirstPass(!e),e?(this.zombieRowCtrls[r.getInstanceId()]=r,n.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[r.getInstanceId()]})):r.destroySecondPass()}}),e&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),wL(n))}getRowBuffer(){return this.gridOptionsService.get("rowBuffer")}getRowBufferInPixels(){return this.getRowBuffer()*this.gridOptionsService.getRowHeightAsNumber()}workOutFirstAndLastRowsToRender(){let t,e;if(this.rowContainerHeightService.updateOffset(),this.paginationProxy.isRowsToRender())if(this.printLayout)this.environment.refreshRowHeightVariable(),t=this.paginationProxy.getPageFirstRow(),e=this.paginationProxy.getPageLastRow();else{const c=this.getRowBufferInPixels(),d=this.ctrlsService.getGridBodyCtrl(),p=this.gridOptionsService.get("suppressRowVirtualisation");let y,A,m=!1;do{const pe=this.paginationProxy.getPixelOffset(),{pageFirstPixel:Ie,pageLastPixel:ke}=this.paginationProxy.getCurrentPagePixelRange(),tt=this.rowContainerHeightService.getDivStretchOffset(),zt=d.getScrollFeature().getVScrollPosition(),Ot=zt.top,Se=zt.bottom;p?(y=Ie+tt,A=ke+tt):(y=Math.max(Ot+pe-c,Ie)+tt,A=Math.min(Se+pe+c,ke)+tt),this.firstVisibleVPixel=Math.max(Ot+pe,Ie)+tt,m=this.ensureAllRowsInRangeHaveHeightsCalculated(y,A)}while(m);let k=this.paginationProxy.getRowIndexAtPixel(y),U=this.paginationProxy.getRowIndexAtPixel(A);const X=this.paginationProxy.getPageFirstRow(),Q=this.paginationProxy.getPageLastRow();k<X&&(k=X),U>Q&&(U=Q),t=k,e=U}else t=0,e=-1;const n=this.gridOptionsService.isDomLayout("normal"),i=this.gridOptionsService.get("suppressMaxRenderedRowRestriction"),r=Math.max(this.getRowBuffer(),500);n&&!i&&e-t>r&&(e=t+r),t===this.firstRenderedRow&&e===this.lastRenderedRow||(this.firstRenderedRow=t,this.lastRenderedRow=e,this.eventService.dispatchEvent({type:W.EVENT_VIEWPORT_CHANGED,firstRow:t,lastRow:e}))}dispatchFirstDataRenderedEvent(){if(this.dataFirstRenderedFired)return;this.dataFirstRenderedFired=!0;const t={type:W.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent(t)})}ensureAllRowsInRangeHaveHeightsCalculated(t,e){const n=this.paginationProxy.ensureRowHeightsValid(t,e,-1,-1);return n&&this.updateContainerHeights(),n}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(t){const i=t.getRowNode(),r=this.focusService.isRowNodeFocused(i),s=t.isEditing();return!!(r||s||i.detail)&&!!this.paginationProxy.isRowPresent(i)}createRowCon(t,e,n){const i=this.cachedRowCtrls?this.cachedRowCtrls.getRow(t):null;if(i)return i;const r=this.gridOptionsService.get("suppressAnimationFrame");return new Mw(t,this.beans,e,n&&!r&&!this.printLayout,this.printLayout)}getRenderedNodes(){const t=this.rowCtrlsByRowIndex;return Object.keys(t).map(e=>t[e].getRowNode())}getRowByPosition(t){let e;const{rowIndex:n}=t;switch(t.rowPinned){case"top":e=this.topRowCtrls[n];break;case"bottom":e=this.bottomRowCtrls[n];break;default:e=this.rowCtrlsByRowIndex[n],e||(e=this.getStickyTopRowCtrls().find(i=>i.getRowNode().rowIndex===n)||null)}return e}getRowNode(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}}isRangeInRenderedViewport(t,e){return null!=t&&null!=e&&!(e<this.firstRenderedRow||t>this.lastRenderedRow)}};N([Y("animationFrameService")],dd.prototype,"animationFrameService",2),N([Y("paginationProxy")],dd.prototype,"paginationProxy",2),N([Y("columnModel")],dd.prototype,"columnModel",2),N([Y("pinnedRowModel")],dd.prototype,"pinnedRowModel",2),N([Y("rowModel")],dd.prototype,"rowModel",2),N([Y("focusService")],dd.prototype,"focusService",2),N([Y("beans")],dd.prototype,"beans",2),N([Y("rowContainerHeightService")],dd.prototype,"rowContainerHeightService",2),N([Y("ctrlsService")],dd.prototype,"ctrlsService",2),N([nn],dd.prototype,"postConstruct",1),dd=N([bn("rowRenderer")],dd);var Gye=class{constructor(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}addRow(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){const e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}}getRow(t){if(null==t||null==t.id)return null;const e=this.entriesMap[t.id];return e?(this.removeFromCache(e),e.setCached(!1),e.getRowNode()!=t?null:e):null}has(t){return null!=this.entriesMap[t.id]}removeRow(t){const e=t.id,n=this.entriesMap[e];delete this.entriesMap[e],tn(this.entriesList,n)}removeFromCache(t){const e=t.getRowNode().id;delete this.entriesMap[e],tn(this.entriesList,t)}getEntries(){return this.entriesList}},lk=class extends Jt{formatValue(t,e,n,i,r=!0){let o,s=null;const c=t.getColDef();if(i?o=i:r&&(o=c.valueFormatter),o){const d=this.gridOptionsService.addGridCommonParams({value:n,node:e,data:e?e.data:null,colDef:c,column:t});s="function"==typeof o?o(d):this.expressionService.evaluate(o,d)}else if(c.refData)return c.refData[n]||"";return null==s&&Array.isArray(n)&&(s=n.join(", ")),s}};N([Y("expressionService")],lk.prototype,"expressionService",2),lk=N([bn("valueFormatterService")],lk);var p1=class extends Jt{init(){this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",()=>this.setPinnedTopRowData()),this.addManagedPropertyListener("pinnedBottomRowData",()=>this.setPinnedBottomRowData())}isEmpty(t){return ql("top"===t?this.pinnedTopRows:this.pinnedBottomRows)}isRowsToRender(t){return!this.isEmpty(t)}getRowAtPixel(t,e){const n="top"===e?this.pinnedTopRows:this.pinnedBottomRows;if(ql(n))return 0;for(let i=0;i<n.length;i++){const r=n[i];if(r.rowTop+r.rowHeight-1>=t)return i}return n.length-1}setPinnedTopRowData(){const t=this.gridOptionsService.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(t,!0),this.eventService.dispatchEvent({type:W.EVENT_PINNED_ROW_DATA_CHANGED})}setPinnedBottomRowData(){const t=this.gridOptionsService.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(t,!1),this.eventService.dispatchEvent({type:W.EVENT_PINNED_ROW_DATA_CHANGED})}createNodesFromData(t,e){const n=[];if(t){let i=0;t.forEach((r,s)=>{const o=new qi(this.beans);o.data=r,o.id=(e?qi.ID_PREFIX_TOP_PINNED:qi.ID_PREFIX_BOTTOM_PINNED)+s,o.rowPinned=e?"top":"bottom",o.setRowTop(i),o.setRowHeight(this.gridOptionsService.getRowHeightForNode(o).height),o.setRowIndex(s),i+=o.rowHeight,n.push(o)})}return n}getPinnedTopRowData(){return this.pinnedTopRows}getPinnedBottomRowData(){return this.pinnedBottomRows}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedTopRowCount(){return this.pinnedTopRows?this.pinnedTopRows.length:0}getPinnedBottomRowCount(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0}getPinnedTopRow(t){return this.pinnedTopRows[t]}getPinnedBottomRow(t){return this.pinnedBottomRows[t]}forEachPinnedTopRow(t){ql(this.pinnedTopRows)||this.pinnedTopRows.forEach(t)}forEachPinnedBottomRow(t){ql(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(t)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getTotalHeight(t){if(!t||0===t.length)return 0;const e=q(t);return e.rowTop+e.rowHeight}};N([Y("beans")],p1.prototype,"beans",2),N([nn],p1.prototype,"init",1),p1=N([bn("pinnedRowModel")],p1);var ck=class{constructor(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(t,e){if(t.children)for(let n=0;n<t.children.length;n++)this.depthFirstSearchChangedPath(t.children[n],e);e(t.rowNode)}depthFirstSearchEverything(t,e,n){if(t.childrenAfterGroup)for(let i=0;i<t.childrenAfterGroup.length;i++){const r=t.childrenAfterGroup[i];r.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[i],e,n):n&&e(r)}e(t)}forEachChangedNodeDepthFirst(t,e=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)}executeFromRootNode(t){t(this.pathRoot.rowNode)}createPathItems(t){let e=t,n=0;for(;!this.mapToItems[e.id];)this.mapToItems[e.id]={rowNode:e,children:null},n++,e=e.parent;return n}populateColumnsMap(t,e){if(!this.keepingColumns||!e)return;let n=t;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),e.forEach(i=>this.nodeIdsToColumns[n.id][i.getId()]=!0),n=n.parent}linkPathItems(t,e){let n=t;for(let i=0;i<e;i++){const r=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(r),n=n.parent}}addParentNode(t,e){if(!t||t.isRowPinned())return;const n=this.createPathItems(t);this.linkPathItems(t,n),this.populateColumnsMap(t,e)}canSkip(t){return this.active&&!this.mapToItems[t.id]}getValueColumnsForNode(t,e){if(!this.keepingColumns)return e;const n=this.nodeIdsToColumns[t.id];return e.filter(r=>n[r.getId()])}getNotValueColumnsForNode(t,e){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[t.id];return e.filter(r=>!n[r.getId()])}},kI=class ZE extends Jt{constructor(e){super(),this.state=ZE.STATE_WAITING_TO_LOAD,this.version=0,this.id=e}getId(){return this.id}load(){this.state=ZE.STATE_LOADING,this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state=ZE.STATE_WAITING_TO_LOAD}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state=ZE.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,n){this.successCommon(e,n)}pageLoaded(e,n,i){this.successCommon(e,{rowData:n,rowCount:i})}isRequestMostRecentAndLive(e){const n=e===this.version,i=this.isAlive();return n&&i}successCommon(e,n){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state=ZE.STATE_LOADED,this.processServerResult(n))}dispatchLoadCompleted(e=!0){this.dispatchEvent({type:ZE.EVENT_LOAD_COMPLETE,success:e,block:this})}};kI.EVENT_LOAD_COMPLETE="loadComplete",kI.STATE_WAITING_TO_LOAD="needsLoading",kI.STATE_LOADING="loading",kI.STATE_LOADED="loaded",kI.STATE_FAILED="failed";var G3=kI,Kp=class extends Jt{constructor(){super(...arguments),this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const t=this.gridOptionsService.get("blockLoadDebounceMillis");t&&t>0&&(this.checkBlockToLoadDebounce=$i.debounce(this.performCheckBlocksToLoad.bind(this),t))}setBeans(t){this.logger=t.create("RowNodeBlockLoader")}getMaxConcurrentDatasourceRequests(){const t=this.gridOptionsService.get("maxConcurrentDatasourceRequests");return null==t?2:t<=0?void 0:t}addBlock(t){this.blocks.push(t),t.addEventListener(G3.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(t){$i.removeFromArray(this.blocks,t)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:Kp.BLOCK_LOADED_EVENT}),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:Kp.BLOCK_LOADER_FINISHED_EVENT})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");const t=this.getAvailableLoadingCount(),e=this.blocks.filter(n=>n.getState()===G3.STATE_WAITING_TO_LOAD).slice(0,t);this.registerLoads(e.length),e.forEach(n=>n.load()),this.printCacheStatus()}getBlockState(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();const t={};return this.blocks.forEach(e=>{const{id:n,state:i}=e.getBlockStateJson();t[n]=i}),t}printCacheStatus(){this.logger.isLogging()&&this.logger.log(`printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(t){this.activeBlockLoadsCount+=t}getAvailableLoadingCount(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}};Kp.BLOCK_LOADED_EVENT="blockLoaded",Kp.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",N([Y("rowModel")],Kp.prototype,"rowModel",2),N([nn],Kp.prototype,"postConstruct",1),N([ld(0,Eu("loggerFactory"))],Kp.prototype,"setBeans",1),Kp=N([bn("rowNodeBlockLoader")],Kp);var g1=class extends Jt{constructor(){super(...arguments),this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.pixelOffset=0,this.masterRowCount=0}postConstruct(){this.active=this.gridOptionsService.get("pagination"),this.pageSizeFromGridOptions=this.gridOptionsService.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,W.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()}ensureRowHeightsValid(t,e,n,i){const r=this.rowModel.ensureRowHeightsValid(t,e,this.getPageFirstRow(),this.getPageLastRow());return r&&this.calculatePages(),r}isPaginateChildRows(){return!(!this.gridOptionsService.get("groupRemoveSingleChildren")&&!this.gridOptionsService.get("groupRemoveLowestSingleChildren"))||this.gridOptionsService.get("paginateChildRows")}onModelUpdated(t){this.calculatePages(),this.eventService.dispatchEvent({type:W.EVENT_PAGINATION_CHANGED,animate:!!t&&t.animate,newData:!!t&&t.newData,newPage:!!t&&t.newPage,newPageSize:!!t&&t.newPageSize,keepRenderedRows:!!t&&t.keepRenderedRows})}onPaginationGridOptionChanged(){this.active=this.gridOptionsService.get("pagination"),this.calculatePages(),this.eventService.dispatchEvent({type:W.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gridOptionsService.get("paginationPageSize"),"gridOptions")}goToPage(t){this.active&&this.currentPage!==t&&"number"==typeof this.currentPage&&(this.currentPage=t,this.onModelUpdated({type:W.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,newPageSize:!1}))}getPixelOffset(){return this.pixelOffset}getRow(t){return this.rowModel.getRow(t)}getRowNode(t){return this.rowModel.getRowNode(t)}getRowIndexAtPixel(t){return this.rowModel.getRowIndexAtPixel(t)}getCurrentPageHeight(){return hi(this.topRowBounds)||hi(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}}isRowPresent(t){return!!this.rowModel.isRowPresent(t)&&t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex}isEmpty(){return this.rowModel.isEmpty()}isRowsToRender(){return this.rowModel.isRowsToRender()}forEachNode(t){return this.rowModel.forEachNode(t)}forEachNodeOnPage(t){const e=this.getPageFirstRow(),n=this.getPageLastRow();for(let i=e;i<=n;i++){const r=this.getRow(i);r&&t(r)}}getType(){return this.rowModel.getType()}getRowBounds(t){const e=this.rowModel.getRowBounds(t);return e.rowIndex=t,e}getPageFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getPageLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getRowCount(){return this.rowModel.getRowCount()}getPageForIndex(t){return Math.floor(t/this.pageSize)}goToPageWithIndex(t){if(!this.active)return;const e=this.getPageForIndex(t);this.goToPage(e)}isRowInPage(t){return!this.active||this.getPageForIndex(t.rowIndex)===this.currentPage}isLastPageFound(){return this.rowModel.isLastRowIndexKnown()}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const t=this.rowModel.getRowCount(),e=Math.floor(t/this.pageSize);this.goToPage(e)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(t){this.currentPage=t}get pageSize(){return $t(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:$t(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:$t(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:$t(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}unsetAutoCalculatedPageSize(){if(void 0===this.pageSizeAutoCalculated)return;const t=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==t&&this.onModelUpdated({type:W.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})}setPageSize(t,e){const n=this.pageSize;switch(e){case"autoCalculated":this.pageSizeAutoCalculated=t;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=t,0!==this.currentPage&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=t;break;case"gridOptions":this.pageSizeFromGridOptions=t,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,0!==this.currentPage&&this.goToFirstPage()}n!==this.pageSize&&this.onModelUpdated({type:W.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset($t(this.topRowBounds)?this.topRowBounds.rowTop:0)}setPixelOffset(t){this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:W.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)return void this.setZeroRows();const t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid();let n=this.pageSize*(this.currentPage+1)-1;if(n>t&&(n=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),n===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const i=this.rowModel.getTopLevelRowDisplayedIndex(n+1);this.bottomDisplayedRowIndex=i-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),0===this.masterRowCount)return void this.setZeroRows();const t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)}calculatedPagesNotActive(){this.setPageSize(this.masterRowCount,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}};N([Y("rowModel")],g1.prototype,"rowModel",2),N([nn],g1.prototype,"postConstruct",1),g1=N([bn("paginationProxy")],g1);var uk=class extends Jt{processAllCellClasses(t,e,n,i){this.processClassRules(void 0,t.cellClassRules,e,n,i),this.processStaticCellClasses(t,e,n)}processClassRules(t,e,n,i,r){if(null==e&&null==t)return;const s={},o={},c=(d,p)=>{d.split(" ").forEach(m=>{""!=m.trim()&&p(m)})};if(e){const d=Object.keys(e);for(let p=0;p<d.length;p++){const m=d[p],y=e[m];let A;"string"==typeof y?A=this.expressionService.evaluate(y,n):"function"==typeof y&&(A=y(n)),c(m,k=>{A?s[k]=!0:o[k]=!0})}}t&&r&&Object.keys(t).forEach(d=>c(d,p=>{s[p]||(o[p]=!0)})),r&&Object.keys(o).forEach(r),Object.keys(s).forEach(i)}getStaticCellClasses(t,e){const{cellClass:n}=t;if(!n)return[];let i;return i="function"==typeof n?n(e):n,"string"==typeof i&&(i=[i]),i||[]}processStaticCellClasses(t,e,n){this.getStaticCellClasses(t,e).forEach(r=>{n(r)})}};N([Y("expressionService")],uk.prototype,"expressionService",2),uk=N([bn("stylingService")],uk);var Zne=class extends YL{constructor(t){super(t,"ag-toggle-button")}setValue(t,e){return super.setValue(t,e),this.addOrRemoveCssClass("ag-selected",this.getValue()),this}},Hye=class extends yf{constructor(t){super(t,"ag-text-area",null,"textarea")}setValue(t,e){const n=super.setValue(t,e);return this.eInput.value=t,n}setCols(t){return this.eInput.cols=t,this}setRows(t){return this.eInput.rows=t,this}},Uye=class extends Iw{constructor(t){super(t,"ag-date-field","date")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));const t=jp();this.addManagedListener(this.eInput,"mousedown",()=>{this.isDisabled()||t||this.eInput.focus()}),this.eInput.step="any"}onWheel(t){document.activeElement===this.eInput&&t.preventDefault()}setMin(t){var e;const n=t instanceof Date?null!=(e=oh(t??null,!1))?e:void 0:t;return this.min===n||(this.min=n,$p(this.eInput,"min",n)),this}setMax(t){var e;const n=t instanceof Date?null!=(e=oh(t??null,!1))?e:void 0:t;return this.max===n||(this.max=n,$p(this.eInput,"max",n)),this}setStep(t){return this.step===t||(this.step=t,$p(this.eInput,"step",t)),this}getDate(){var t;if(this.eInput.validity.valid)return null!=(t=Su(this.getValue()))?t:void 0}setDate(t,e){this.setValue(oh(t??null,!1),e)}},Wye=class extends yf{constructor(t){super(t,"ag-range-field","range")}postConstruct(){super.postConstruct();const{min:t,max:e,step:n}=this.config;null!=t&&this.setMinValue(t),null!=e&&this.setMaxValue(e),this.setStep(n||1)}addInputListeners(){this.addManagedListener(this.eInput,"input",t=>{this.setValue(t.target.value)})}setMinValue(t){return this.min=t,this.eInput.setAttribute("min",t.toString()),this}setMaxValue(t){return this.max=t,this.eInput.setAttribute("max",t.toString()),this}setStep(t){return this.eInput.setAttribute("step",t.toString()),this}setValue(t,e){null!=this.min&&(t=Math.max(parseFloat(t),this.min).toString()),null!=this.max&&(t=Math.min(parseFloat(t),this.max).toString());const n=super.setValue(t,e);return this.eInput.value=t,n}},B3=class extends Ii{constructor(t,e){super('<div class="ag-rich-select-row" role="presentation"></div>'),this.params=t,this.wrapperEl=e}postConstruct(){this.addManagedListener(this.getGui(),"click",this.onClick.bind(this))}setState(t){let e="";this.params.valueFormatter&&(e=this.params.valueFormatter(t)),this.populateWithRenderer(t,e)||this.populateWithoutRenderer(t,e),this.value=t}highlightString(t){const{parsedValue:e}=this;if(this.params.cellRenderer||!$t(e))return;let n=$t(t);if(n){const i=e?.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());if(i>=0){const r=i+t.length,s=ha(e.slice(0,i),!0),o=ha(e.slice(i,r),!0),c=ha(e.slice(r));this.renderValueWithoutRenderer(`${s}<span class="ag-rich-select-row-text-highlight">${o}</span>${c}`)}else n=!1}n||this.renderValueWithoutRenderer(e)}updateHighlighted(t){var e;const n=this.getGui(),i=`ag-rich-select-row-${this.getCompId()}`;null==(e=n.parentElement)||e.setAttribute("id",i),t&&(k6(this.getParentComponent().getAriaElement(),i),this.wrapperEl.setAttribute("data-active-option",i)),bI(n.parentElement,t),this.addOrRemoveCssClass("ag-rich-select-row-selected",t)}populateWithoutRenderer(t,e){const n=this.gridOptionsService.getDocument(),i=this.getGui(),r=n.createElement("span");r.style.overflow="hidden",r.style.textOverflow="ellipsis";const s=ha($t(e)?e:t,!0);this.parsedValue=$t(s)?s:null,i.appendChild(r),this.renderValueWithoutRenderer(s),this.setTooltip({newTooltipText:this.parsedValue,shouldDisplayTooltip:()=>r.scrollWidth>r.clientWidth})}renderValueWithoutRenderer(t){const e=this.getGui().querySelector("span");e&&(e.innerHTML=$t(t)?t:"&nbsp;")}populateWithRenderer(t,e){let n,i;return this.params.cellRenderer&&(i=this.userComponentFactory.getCellRendererDetails(this.params,{value:t,valueFormatted:e,setTooltip:(r,s)=>{this.setTooltip({newTooltipText:r,shouldDisplayTooltip:s})}})),i&&(n=i.newAgStackInstance()),n&&d3(n,this.getGui()),!!n&&(n.then(r=>{this.addDestroyFunc(()=>{this.getContext().destroyBean(r)})}),!0)}onClick(){const t=this.getParentComponent(),e={type:W.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};t?.dispatchEvent(e)}};N([Y("userComponentFactory")],B3.prototype,"userComponentFactory",2),N([nn],B3.prototype,"postConstruct",1);var m1=class bme extends d1{constructor(e){super(bme.getTemplate(e?.cssIdentifier||"default")),this.renderedRows=new Map,this.rowHeight=20,this.isHeightFromTheme=!0;const{cssIdentifier:n="default",ariaRole:i="listbox",listName:r}=e||{};this.cssIdentifier=n,this.ariaRole=i,this.listName=r}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e),focusInnerElement:e=>this.focusInnerElement(e),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)}),this.setAriaProperties(),this.addManagedListener(this.eventService,W.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))}onGridStylesChanged(){this.rowHeight=this.getItemHeight(),this.refresh()}setAriaProperties(){const n=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),i=this.eContainer;so(i,this.ariaRole),vf(i,n)}addResizeObserver(){const n=this.resizeObserverService.observeResize(this.getGui(),()=>this.animationFrameService.requestAnimationFrame(()=>this.drawVirtualRows()));this.addDestroyFunc(n)}focusInnerElement(e){this.focusRow(e?this.model.getRowCount()-1:0)}onFocusIn(e){const n=e.target;n.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=Ste(n)-1)}onFocusOut(e){this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null)}handleKeyDown(e){switch(e.key){case Qe.UP:case Qe.DOWN:this.navigate(e.key===Qe.UP)&&e.preventDefault()}}onTabKeyDown(e){this.navigate(e.shiftKey)?e.preventDefault():(gf(e),this.forceFocusOutOfContainer(e.shiftKey))}navigate(e){if(null==this.lastFocusedRowIndex)return!1;const n=this.lastFocusedRowIndex+(e?-1:1);return!(n<0||n>=this.model.getRowCount()||(this.focusRow(n),0))}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(e){this.ensureIndexVisible(e),window.setTimeout(()=>{if(!this.isAlive())return;const n=this.renderedRows.get(e);n&&n.eDiv.focus()},10)}getComponentAt(e){const n=this.renderedRows.get(e);return n&&n.rowComponent}forEachRenderedRow(e){this.renderedRows.forEach((n,i)=>e(n.rowComponent,i))}static getTemplate(e){return`<div class="ag-virtual-list-viewport ag-${e}-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-${e}-virtual-list-container" ref="eContainer"></div>\n            </div>`}getItemHeight(){return this.isHeightFromTheme?this.environment.getListItemHeight():this.rowHeight}ensureIndexVisible(e,n=!0){const i=this.model.getRowCount();if("number"!=typeof e||e<0||e>=i)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e),!1;const r=e*this.rowHeight,s=r+this.rowHeight,o=this.getGui(),c=o.scrollTop,d=o.offsetHeight,m=n?0:this.rowHeight,A=c+d<s-m;return c>r+m?(o.scrollTop=r,!0):!!A&&(o.scrollTop=s-d,!0)}setComponentCreator(e){this.componentCreator=e}setComponentUpdater(e){this.componentUpdater=e}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(e){this.isHeightFromTheme=!1,this.rowHeight=e,this.refresh()}refresh(e){if(null==this.model||!this.isAlive())return;const n=this.model.getRowCount();this.eContainer.style.height=n*this.rowHeight+"px",SL(()=>this.eContainer.clientHeight>=n*this.rowHeight,()=>{this.isAlive()&&(this.canSoftRefresh(e)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))})}canSoftRefresh(e){return!!(e&&this.renderedRows.size&&"function"==typeof this.model.areRowsEqual&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach((e,n)=>this.removeRow(n))}drawVirtualRows(e){if(!this.isAlive()||!this.model)return;const n=this.getGui(),i=n.scrollTop,r=i+n.offsetHeight,s=Math.floor(i/this.rowHeight),o=Math.floor(r/this.rowHeight);this.ensureRowsRendered(s,o,e)}ensureRowsRendered(e,n,i){this.renderedRows.forEach((r,s)=>{(s<e||s>n)&&s!==this.lastFocusedRowIndex&&this.removeRow(s)}),i&&this.refreshRows();for(let r=e;r<=n;r++)this.renderedRows.has(r)||r<this.model.getRowCount()&&this.insertRow(r)}insertRow(e){const n=this.model.getRow(e),i=document.createElement("div");i.classList.add("ag-virtual-list-item",`ag-${this.cssIdentifier}-virtual-list-item`),so(i,"tree"===this.ariaRole?"treeitem":"option"),OL(i,this.model.getRowCount()),FL(i,e+1),i.setAttribute("tabindex","-1"),i.style.height=`${this.rowHeight}px`,i.style.top=this.rowHeight*e+"px";const r=this.componentCreator(n,i);r.addGuiEventListener("focusin",()=>this.lastFocusedRowIndex=e),i.appendChild(r.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",i):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",i):this.eContainer.appendChild(i),this.renderedRows.set(e,{rowComponent:r,eDiv:i,value:n})}removeRow(e){const n=this.renderedRows.get(e);this.eContainer.removeChild(n.eDiv),this.destroyBean(n.rowComponent),this.renderedRows.delete(e)}refreshRows(){const e=this.model.getRowCount();this.renderedRows.forEach((n,i)=>{var r,s;if(i>=e)this.removeRow(i);else{const o=this.model.getRow(i);null!=(s=(r=this.model).areRowsEqual)&&s.call(r,n.value,o)?this.componentUpdater(o,n.rowComponent):this.removeRow(i)}})}addScrollListener(){this.addGuiEventListener("scroll",()=>this.drawVirtualRows(),{passive:!0})}setModel(e){this.model=e}getAriaElement(){return this.eContainer}destroy(){this.isAlive()&&(this.clearVirtualRows(),super.destroy())}};N([Y("resizeObserverService")],m1.prototype,"resizeObserverService",2),N([Y("animationFrameService")],m1.prototype,"animationFrameService",2),N([fn("eContainer")],m1.prototype,"eContainer",2),N([nn],m1.prototype,"postConstruct",1);var eie=m1,H3=class extends Sw{constructor(t){var e,n;super(ms(Yn({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:null!=(e=t?.template)?e:'\n    <div class="ag-picker-field" role="presentation">\n        <div ref="eLabel"></div>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">\n            <div ref="eDisplayField" class="ag-picker-field-display"></div>\n            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>\n            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n        </div>\n    </div>',modalPicker:!1},t),{maxPickerHeight:null!=(n=t?.maxPickerHeight)?n:"calc(var(--ag-row-height) * 6.5)"})),this.searchString="",this.highlightedItem=-1,this.lastRowHovered=-1,this.searchStringCreator=null;const{cellRowHeight:i,value:r,valueList:s,searchStringCreator:o}=t||{};null!=i&&(this.cellRowHeight=i),void 0!==r&&(this.value=r),null!=s&&(this.values=s),o&&(this.searchStringCreator=o)}postConstruct(){super.postConstruct(),this.createLoadingElement(),this.createListComponent();const{allowTyping:t,placeholder:e}=this.config;t?(this.eInput.setAutoComplete(!1).setInputPlaceholder(e),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");const{searchDebounceDelay:n=300}=this.config;this.clearSearchString=vl(this.clearSearchString,n),this.renderSelectedValue(),t&&(this.eInput.onValueChange(i=>this.searchTextFromString(i)),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}createLoadingElement(){const t=this.gridOptionsService.getDocument(),e=this.localeService.getLocaleTextFunc(),n=t.createElement("div");n.classList.add("ag-loading-text"),n.innerText=e("loadingOoo","Loading..."),this.eLoading=n}createListComponent(){this.listComponent=this.createBean(new eie({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this)),this.listComponent.setComponentUpdater((c,d)=>{}),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,W.EVENT_FIELD_PICKER_VALUE_SELECTED,c=>{this.onListValueSelected(c.value,c.fromEnterKey)});const{cellRowHeight:e}=this;e&&this.listComponent.setRowHeight(e);const n=this.listComponent.getGui(),i=this.listComponent.getAriaElement();this.addManagedListener(n,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(n,"mousedown",c=>c.preventDefault()),n.classList.add("ag-rich-select-list");const r=`ag-rich-select-list-${this.listComponent.getCompId()}`;i.setAttribute("id",r),vf(i,this.localeService.getLocaleTextFunc()(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue)),B6(this.eWrapper,i)}renderSelectedValue(){const{value:t,eDisplayField:e,config:n}=this,{allowTyping:i,initialInputValue:r}=this.config,s=this.config.valueFormatter?this.config.valueFormatter(t):t;if(i)return void this.eInput.setValue(r??s);let o,c;if(n.cellRenderer&&(o=this.userComponentFactory.getCellRendererDetails(this.config,{value:t,valueFormatted:s})),o&&(c=o.newAgStackInstance()),c)Jo(e),d3(c,e),c.then(d=>{this.addDestroyFunc(()=>this.getContext().destroyBean(d))});else{if($t(this.value))e.innerText=s,e.classList.remove("ag-display-as-placeholder");else{const{placeholder:d}=n;$t(d)?(e.innerHTML=`${ha(d)}`,e.classList.add("ag-display-as-placeholder")):Jo(e)}this.setTooltip({newTooltipText:s??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth})}}getCurrentValueIndex(){const{currentList:t,value:e}=this;if(null==e||!t)return-1;for(let n=0;n<t.length;n++)if(t[n]===e)return n;return-1}highlightFilterMatch(){var t;null==(t=this.listComponent)||t.forEachRenderedRow((e,n)=>{e.highlightString(this.searchString)})}highlightSelectedValue(t){var e;null==t&&(t=this.getCurrentValueIndex()),this.highlightedItem=t,null==(e=this.listComponent)||e.forEachRenderedRow((n,i)=>{n.updateHighlighted(-1!==t&&this.highlightedItem===i)})}setRowHeight(t){t!==this.cellRowHeight&&(this.cellRowHeight=t),this.listComponent&&this.listComponent.setRowHeight(t)}createPickerComponent(){const{values:t}=this;return t&&this.setValueList({valueList:t}),this.listComponent}setSearchStringCreator(t){this.searchStringCreator=t}setValueList(t){const{valueList:e,refresh:n}=t;this.listComponent&&this.currentList!==e&&(this.currentList=e,this.listComponent.setModel({getRowCount:()=>e.length,getRow:i=>e[i],areRowsEqual:(i,r)=>i===r}),n&&(this.values?this.listComponent.refresh(!0):(this.values=e,this.isPickerDisplayed&&this.showCurrentValueInPicker())))}showPicker(){super.showPicker(),this.showCurrentValueInPicker(),this.displayOrHidePicker()}showCurrentValueInPicker(){var t,e;if(!this.listComponent)return;if(!this.currentList)return void(this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading));null!=(t=this.eLoading)&&t.offsetParent&&(null==(e=this.eLoading.parentElement)||e.removeChild(this.eLoading));const n=this.getCurrentValueIndex();-1!==n?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(n),this.listComponent.refresh(!0),this.highlightSelectedValue(n)):this.listComponent.refresh()}beforeHidePicker(){this.highlightedItem=-1,super.beforeHidePicker()}onWrapperFocus(){if(!this.eInput)return;const t=this.eInput.getFocusableElement();t.focus(),t.select()}onWrapperFocusOut(t){this.eWrapper.contains(t.relatedTarget)||this.hidePicker()}buildSearchStringFromKeyboardEvent(t){let{key:e}=t;if(e===Qe.BACKSPACE)this.searchString=this.searchString.slice(0,-1),e="";else if(!UL(t))return;t.preventDefault(),this.searchTextFromCharacter(e)}searchTextFromCharacter(t){this.searchString+=t,this.runSearch(),this.clearSearchString()}searchTextFromString(t){null==t&&(t=""),this.searchString=t,this.runSearch()}buildSearchStrings(t){const{valueFormatter:e=(i=>i)}=this.config;let n;return"number"==typeof t[0]||"string"==typeof t[0]?n=t.map(i=>e(i)):"object"==typeof t[0]&&this.searchStringCreator&&(n=this.searchStringCreator(t)),n}getSuggestionsAndFilteredValues(t,e){let n=[],i=[];if(!t.length)return{suggestions:n,filteredValues:i};const{searchType:r="fuzzy",filterList:s}=this.config;if("fuzzy"===r){const o=Xx(this.searchString,e,!0);n=o.values;const c=o.indices;if(s&&c.length)for(let d=0;d<c.length;d++)i.push(this.values[c[d]])}else n=e.filter((o,c)=>{const d=o.toLocaleLowerCase(),p=this.searchString.toLocaleLowerCase(),m="match"===r?d.startsWith(p):-1!==d.indexOf(p);return s&&m&&i.push(this.values[c]),m});return{suggestions:n,filteredValues:i}}filterListModel(t){const{filterList:e}=this.config;e&&(this.setValueList({valueList:t,refresh:!0}),this.alignPickerToComponent())}runSearch(){var t,e;const{values:n}=this,i=this.buildSearchStrings(n);if(!i)return void this.highlightSelectedValue(-1);const{suggestions:r,filteredValues:s}=this.getSuggestionsAndFilteredValues(this.searchString,i),{filterList:o,highlightMatch:c,searchType:d="fuzzy"}=this.config,p=s.length,m=!(!o||""===this.searchString);if(this.filterListModel(m?s:n),r.length){const y=m?0:i.indexOf(r[0]);this.selectListItem(y)}else if(this.highlightSelectedValue(-1),!m||p)null==(t=this.listComponent)||t.ensureIndexVisible(0);else if(m){this.getAriaElement().removeAttribute("data-active-option");const y=null==(e=this.listComponent)?void 0:e.getAriaElement();y&&k6(y,null)}c&&"fuzzy"!==d&&this.highlightFilterMatch(),this.displayOrHidePicker()}displayOrHidePicker(){var t;const e=null==(t=this.listComponent)?void 0:t.getGui(),n=!!this.currentList&&0===this.currentList.length;e?.classList.toggle("ag-hidden",n)}clearSearchString(){this.searchString=""}selectListItem(t,e){!this.isPickerDisplayed||!this.currentList||!this.listComponent||t<0||t>=this.currentList.length||(this.listComponent.ensureIndexVisible(t,!e)&&!e&&this.listComponent.refresh(!0),this.highlightSelectedValue(t))}setValue(t,e,n){const i=this.currentList?this.currentList.indexOf(t):-1;return-1===i?this:(this.value=t,n||this.selectListItem(i),this.renderSelectedValue(),super.setValue(t,e))}createRowComponent(t){const e=new B3(this.config,this.eWrapper);e.setParentComponent(this.listComponent),this.getContext().createBean(e),e.setState(t);const{highlightMatch:n,searchType:i="fuzzy"}=this.config;return n&&"fuzzy"!==i&&e.highlightString(this.searchString),e}getRowForMouseEvent(t){const{listComponent:e}=this;if(!e)return-1;const i=(e?.getGui()).getBoundingClientRect(),r=e.getScrollTop();return Math.floor((t.clientY-i.top+r)/e.getRowHeight())}onPickerMouseMove(t){if(!this.listComponent)return;const e=this.getRowForMouseEvent(t);-1!==e&&e!=this.lastRowHovered&&(this.lastRowHovered=e,this.selectListItem(e,!0))}onNavigationKeyDown(t,e){t.preventDefault();const n=e===Qe.DOWN;if(!this.isPickerDisplayed&&n)return void this.showPicker();const i=this.highlightedItem;this.selectListItem(-1===i?0:i+(n?1:-1))}onEnterKeyDown(t){this.isPickerDisplayed&&(t.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))}onTabKeyDown(){!this.isPickerDisplayed||!this.currentList||this.setValue(this.currentList[this.highlightedItem],!1,!0)}onListValueSelected(t,e){this.setValue(t,!1,!0),this.dispatchPickerEvent(t,e),this.hidePicker()}dispatchPickerEvent(t,e){this.dispatchEvent({type:W.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:e,value:t})}getFocusableElement(){const{allowTyping:t}=this.config;return t?this.eInput.getFocusableElement():super.getFocusableElement()}onKeyDown(t){const e=t.key,{allowTyping:n}=this.config;switch(e){case Qe.LEFT:case Qe.RIGHT:case Qe.PAGE_HOME:case Qe.PAGE_END:n||t.preventDefault();break;case Qe.PAGE_UP:case Qe.PAGE_DOWN:t.preventDefault();break;case Qe.DOWN:case Qe.UP:this.onNavigationKeyDown(t,e);break;case Qe.ESCAPE:this.isPickerDisplayed&&(cd(this.listComponent.getGui())&&(t.preventDefault(),gf(t)),this.hidePicker());break;case Qe.ENTER:this.onEnterKeyDown(t);break;case Qe.TAB:this.onTabKeyDown();break;default:n||this.buildSearchStringFromKeyboardEvent(t)}}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,super.destroy()}};N([Y("userComponentFactory")],H3.prototype,"userComponentFactory",2),N([fn("eInput")],H3.prototype,"eInput",2);var VI=class wme extends g3{constructor(e){super(e,wme.TEMPLATE),this.labelAlignment="top"}init(){this.eSlider.addCssClass("ag-slider-field");const{minValue:e,maxValue:n,textFieldWidth:i,step:r,value:s,onValueChange:o}=this.config;null!=e&&this.setMinValue(e),null!=n&&this.setMaxValue(n),null!=i&&this.setTextFieldWidth(i),null!=r&&this.setStep(r),null!=s&&this.setValue(s),null!=o&&this.onValueChange(o)}onValueChange(e){const n=W.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,n,()=>{const i=parseFloat(this.eText.getValue());this.eSlider.setValue(i.toString(),!0),e(i||0)}),this.addManagedListener(this.eSlider,n,()=>{const i=this.eSlider.getValue();this.eText.setValue(i,!0),e(parseFloat(i))}),this}setSliderWidth(e){return this.eSlider.setWidth(e),this}setTextFieldWidth(e){return this.eText.setWidth(e),this}setMinValue(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this}setMaxValue(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this}getValue(){return this.eText.getValue()}setValue(e,n){return this.getValue()===e||(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),n||this.dispatchEvent({type:W.EVENT_FIELD_VALUE_CHANGED})),this}setStep(e){return this.eSlider.setStep(e),this.eText.setStep(e),this}};VI.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',N([fn("eLabel")],VI.prototype,"eLabel",2),N([fn("eSlider")],VI.prototype,"eSlider",2),N([fn("eText")],VI.prototype,"eText",2),N([nn],VI.prototype,"init",1);var jye=VI,hy=class TA extends Ii{constructor(e={}){super(TA.getTemplate(e)),this.params=e,this.suppressEnabledCheckbox=!0,this.suppressToggleExpandOnEnableChange=!1;const{enabled:n,items:i,suppressEnabledCheckbox:r,expanded:s,suppressToggleExpandOnEnableChange:o,useToggle:c}=e;this.cssIdentifier=e.cssIdentifier||"default",this.enabled=n??!0,this.items=i||[],this.useToggle=c??!1,this.alignItems=e.alignItems||"center",this.expanded=s??!0,null!=r&&(this.suppressEnabledCheckbox=r),null!=o&&(this.suppressToggleExpandOnEnableChange=o)}static getTemplate(e){const n=e.cssIdentifier||"default";return`\n            <div class="ag-group ag-${n}-group" role="presentation">\n                <div ref="eToolbar" class="ag-group-toolbar ag-${n}-group-toolbar">\n                    <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n                </div>\n                <div ref="eContainer" class="ag-group-container ag-group-container-${e.direction||"vertical"} ag-${n}-group-container"></div>\n            </div>\n        `}postConstruct(){if(this.setupTitleBar(),this.items.length){const r=this.items;this.items=[],this.addItems(r)}const e=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(e("enabled","Enabled")),this.enabled&&this.setEnabled(this.enabled,void 0,!0),this.setAlignItems(this.alignItems);const{onEnableChange:n,suppressOpenCloseIcons:i}=this.params;this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(i??!1),this.refreshChildDisplay(),nr(this.eContainer,this.expanded),this.cbGroupEnabled.onValueChange(r=>{this.setEnabled(r,!0,this.suppressToggleExpandOnEnableChange),this.dispatchEnableChangeEvent(r)}),null!=n&&this.onEnableChange(n)}refreshChildDisplay(){var e;nr(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),null==(e=this.eTitleBar)||e.refreshOnExpand(this.expanded)}isExpanded(){return this.expanded}setAlignItems(e){return this.alignItems!==e&&this.removeCssClass(`ag-group-item-alignment-${this.alignItems}`),this.alignItems=e,this.addCssClass(`ag-group-item-alignment-${this.alignItems}`),this}toggleGroupExpand(e){var n;let i=!1;if(null!=(n=this.eTitleBar)&&n.isSuppressCollapse()&&!this.useToggle)e=!0,i=!0;else if(this.expanded===(e=e??!this.expanded))return this;return this.expanded=e,this.refreshChildDisplay(),nr(this.eContainer,e),i||this.dispatchEvent({type:e?TA.EVENT_EXPANDED:TA.EVENT_COLLAPSED}),this}addItems(e){e.forEach(n=>this.addItem(n))}prependItem(e){this.insertItem(e,!0)}addItem(e){this.insertItem(e,!1)}insertItem(e,n){const i=this.eContainer,r=e instanceof Ii?e.getGui():e;r.classList.add("ag-group-item",`ag-${this.cssIdentifier}-group-item`),n?(i.insertAdjacentElement("afterbegin",r),this.items.unshift(r)):(i.appendChild(r),this.items.push(r))}hideItem(e,n){nr(this.items[n],!e)}getItemIndex(e){const n=e instanceof Ii?e.getGui():e;return this.items.indexOf(n)}setTitle(e){var n;return null==(n=this.eTitleBar)||n.setTitle(e),this}addCssClassToTitleBar(e){var n;null==(n=this.eTitleBar)||n.addCssClass(e)}dispatchEnableChangeEvent(e){this.dispatchEvent({type:TA.EVENT_ENABLE_CHANGE,enabled:e})}setEnabled(e,n,i){var r;return this.enabled=e,this.refreshDisabledStyles(),i||this.toggleGroupExpand(e),n||(this.cbGroupEnabled.setValue(e),null==(r=this.eToggle)||r.setValue(e)),this}isEnabled(){return this.enabled}onEnableChange(e){return this.addManagedListener(this,TA.EVENT_ENABLE_CHANGE,n=>e(n.enabled)),this}hideEnabledCheckbox(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this}hideOpenCloseIcons(e){var n;return null==(n=this.eTitleBar)||n.hideOpenCloseIcons(e),this}refreshDisabledStyles(){var e;const n=!this.enabled;this.eContainer.classList.toggle("ag-disabled",n),null==(e=this.eTitleBar)||e.refreshDisabledStyles(this.suppressEnabledCheckbox&&n),this.eContainer.classList.toggle("ag-disabled-group-container",n)}setupTitleBar(){const e=this.useToggle?this.createToggleTitleBar():this.createDefaultTitleBar();this.eToolbar.insertAdjacentElement("beforebegin",e.getGui())}createDefaultTitleBar(){const e=this.createManagedBean(new tie(this.params));return this.eTitleBar=e,e.refreshOnExpand(this.expanded),this.addManagedListener(e,tie.EVENT_EXPAND_CHANGED,n=>this.toggleGroupExpand(n.expanded)),e}createToggleTitleBar(){var e;const n=this.createManagedBean(new Zne({value:this.enabled,label:this.params.title,labelAlignment:"left",labelWidth:"flex",onValueChange:i=>{this.setEnabled(i,!0),this.dispatchEnableChangeEvent(i)}}));return n.addCssClass("ag-group-title-bar"),n.addCssClass(`ag-${null!=(e=this.params.cssIdentifier)?e:"default"}-group-title-bar ag-unselectable`),this.eToggle=n,this.toggleGroupExpand(this.enabled),n}};hy.EVENT_EXPANDED="expanded",hy.EVENT_COLLAPSED="collapsed",hy.EVENT_ENABLE_CHANGE="enableChange",N([fn("eToolbar")],hy.prototype,"eToolbar",2),N([fn("cbGroupEnabled")],hy.prototype,"cbGroupEnabled",2),N([fn("eContainer")],hy.prototype,"eContainer",2),N([nn],hy.prototype,"postConstruct",1);var $ye=hy,GI=class JQ extends Ii{constructor(e={}){super(JQ.getTemplate(e)),this.suppressOpenCloseIcons=!1;const{title:n,suppressOpenCloseIcons:i}=e;this.title=n,null!=i&&(this.suppressOpenCloseIcons=i)}static getTemplate(e){var n;const i=null!=(n=e.cssIdentifier)?n:"default";return`\n            <div class="ag-group-title-bar ag-${i}-group-title-bar ag-unselectable" role="button">\n                <span class="ag-group-title-bar-icon ag-${i}-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-${i}-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-${i}-group-title"></span>\n            </div>\n        `}postConstruct(){this.setTitle(this.title),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract()}setupExpandContract(){this.eGroupClosedIcon.appendChild(lh("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(lh("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.getGui(),"click",()=>this.dispatchExpandChanged()),this.addManagedListener(this.getGui(),"keydown",e=>{switch(e.key){case Qe.ENTER:case Qe.SPACE:e.preventDefault(),this.dispatchExpandChanged();break;case Qe.RIGHT:case Qe.LEFT:e.preventDefault(),this.dispatchExpandChanged(e.key===Qe.RIGHT)}})}refreshOnExpand(e){this.refreshAriaStatus(e),this.refreshOpenCloseIcons(e)}refreshAriaStatus(e){this.suppressOpenCloseIcons||qm(this.getGui(),e)}refreshOpenCloseIcons(e){const n=!this.suppressOpenCloseIcons;nr(this.eGroupOpenedIcon,n&&e),nr(this.eGroupClosedIcon,n&&!e)}isSuppressCollapse(){return this.suppressOpenCloseIcons}dispatchExpandChanged(e){this.dispatchEvent({type:JQ.EVENT_EXPAND_CHANGED,expanded:e})}setTitle(e){return this.eTitle.innerText=e||"",nr(this.getGui(),null!=e),this}hideOpenCloseIcons(e){return this.suppressOpenCloseIcons=e,e&&this.dispatchExpandChanged(!0),this}refreshDisabledStyles(e){const n=this.getGui();e?(n.classList.add("ag-disabled-group-title-bar"),n.removeAttribute("tabindex")):(n.classList.remove("ag-disabled-group-title-bar"),"string"==typeof this.title?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex"))}};GI.EVENT_EXPAND_CHANGED="expandedChanged",N([fn("eGroupOpenedIcon")],GI.prototype,"eGroupOpenedIcon",2),N([fn("eGroupClosedIcon")],GI.prototype,"eGroupClosedIcon",2),N([fn("eTitle")],GI.prototype,"eTitle",2),N([nn],GI.prototype,"postConstruct",1);var tie=GI,U3=class extends d1{constructor(t=0,e){super('<div class="ag-menu-list" role="tree"></div>'),this.level=t,this.menuItems=[],this.params=e??{column:null,node:null,value:null}}postConstruct(){this.initialiseTabGuard({onTabKeyDown:t=>this.onTabKeyDown(t),handleKeyDown:t=>this.handleKeyDown(t),onFocusIn:t=>this.handleFocusIn(t),onFocusOut:t=>this.handleFocusOut(t)})}onTabKeyDown(t){const e=this.getParentComponent(),n=e&&e.getGui();n&&n.classList.contains("ag-focus-managed")||t.preventDefault(),t.shiftKey&&this.closeIfIsChild(t)}handleKeyDown(t){switch(t.key){case Qe.UP:case Qe.RIGHT:case Qe.DOWN:case Qe.LEFT:t.preventDefault(),this.handleNavKey(t.key);break;case Qe.ESCAPE:this.closeIfIsChild()&&gf(t)}}handleFocusIn(t){var e,n;const i=t.relatedTarget;!this.tabGuardCtrl.isTabGuard(i)&&(this.getGui().contains(i)||null!=(n=null==(e=this.activeMenuItem)?void 0:e.getSubMenuGui())&&n.contains(i))||(this.activeMenuItem?this.activeMenuItem.activate():this.activateFirstItem())}handleFocusOut(t){var e;const n=t.relatedTarget;!this.activeMenuItem||this.getGui().contains(n)||null!=(e=this.activeMenuItem.getSubMenuGui())&&e.contains(n)||this.activeMenuItem.isSubMenuOpening()||this.activeMenuItem.deactivate()}clearActiveItem(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)}addMenuItems(t){null!=t&&Tu.all(t.map(e=>"separator"===e?Tu.resolve({eGui:this.createSeparator()}):"string"==typeof e?(console.warn(`AG Grid: unrecognised menu item ${e}`),Tu.resolve({eGui:null})):this.addItem(e))).then(e=>{e.forEach(n=>{n?.eGui&&(this.appendChild(n.eGui),n.comp&&this.menuItems.push(n.comp))})})}addItem(t){const e=this.createManagedBean(new dk);return e.init({menuItemDef:t,isAnotherSubMenuOpen:()=>this.menuItems.some(n=>n.isSubMenuOpen()),level:this.level,contextParams:this.params}).then(()=>(e.setParentComponent(this),this.addManagedListener(e,dk.EVENT_CLOSE_MENU,n=>{this.dispatchEvent(n)}),this.addManagedListener(e,dk.EVENT_MENU_ITEM_ACTIVATED,n=>{this.activeMenuItem&&this.activeMenuItem!==n.menuItem&&this.activeMenuItem.deactivate(),this.activeMenuItem=n.menuItem}),{comp:e,eGui:e.getGui()}))}activateFirstItem(){const t=this.menuItems.filter(e=>!e.isDisabled())[0];t&&t.activate()}createSeparator(){return Iu('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>')}handleNavKey(t){switch(t){case Qe.UP:case Qe.DOWN:const n=this.findNextItem(t===Qe.UP);return void(n&&n!==this.activeMenuItem&&n.activate())}t===(this.gridOptionsService.get("enableRtl")?Qe.RIGHT:Qe.LEFT)?this.closeIfIsChild():this.openChild()}closeIfIsChild(t){const e=this.getParentComponent();return!!(e&&e instanceof dk)&&(t&&t.preventDefault(),e.closeSubMenu(),e.getGui().focus(),!0)}openChild(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)}findNextItem(t){const e=this.menuItems.filter(r=>!r.isDisabled());if(!e.length)return;if(!this.activeMenuItem)return t?q(e):e[0];t&&e.reverse();let n,i=!1;for(let r=0;r<e.length;r++){const s=e[r];if(i){n=s;break}s===this.activeMenuItem&&(i=!0)}return i&&!n?e[0]:n||this.activeMenuItem}destroy(){this.clearActiveItem(),super.destroy()}};N([Y("focusService")],U3.prototype,"focusService",2),N([nn],U3.prototype,"postConstruct",1);var nie=class extends d1{constructor(t){super(),this.wrappedComponent=t,this.setTemplateFromElement(t.getGui())}postConstruct(){this.initialiseTabGuard({onTabKeyDown:t=>this.onTabKeyDown(t),handleKeyDown:t=>this.handleKeyDown(t)})}handleKeyDown(t){t.key===Qe.ESCAPE&&this.closePanel()}onTabKeyDown(t){t.defaultPrevented||(this.closePanel(),t.preventDefault())}closePanel(){const t=this.parentComponent;t.closeSubMenu(),setTimeout(()=>t.getGui().focus(),0)}};N([nn],nie.prototype,"postConstruct",1);var Bw=class AA extends Jt{constructor(){super(...arguments),this.isActive=!1,this.subMenuIsOpen=!1,this.subMenuIsOpening=!1,this.suppressRootStyles=!0,this.suppressAria=!0,this.suppressFocus=!0}init(e){var n,i;const{menuItemDef:r,isAnotherSubMenuOpen:s,level:o,childComponent:c,contextParams:d}=e;return this.params=e.menuItemDef,this.level=o,this.isAnotherSubMenuOpen=s,this.childComponent=c,this.contextParams=d,this.cssClassPrefix=null!=(i=null==(n=this.params.menuItemParams)?void 0:n.cssClassPrefix)?i:"ag-menu-option",this.userComponentFactory.getMenuItemCompDetails(this.params,ms(Yn({},r),{level:o,isAnotherSubMenuOpen:s,openSubMenu:m=>this.openSubMenu(m),closeSubMenu:()=>this.closeSubMenu(),closeMenu:m=>this.closeMenu(m),updateTooltip:(m,y)=>this.refreshTooltip(m,y),onItemActivated:()=>this.onItemActivated()})).newAgStackInstance().then(m=>{var y;this.menuItemComp=m;const A=null==(y=m.configureDefaults)?void 0:y.call(m);A&&this.configureDefaults(!0===A?void 0:A)})}addListeners(e,n){n?.suppressClick||this.addManagedListener(e,"click",i=>this.onItemSelected(i)),n?.suppressKeyboardSelect||this.addManagedListener(e,"keydown",i=>{(i.key===Qe.ENTER||i.key===Qe.SPACE)&&(i.preventDefault(),this.onItemSelected(i))}),n?.suppressMouseDown||this.addManagedListener(e,"mousedown",i=>{i.stopPropagation(),i.preventDefault()}),n?.suppressMouseOver||(this.addManagedListener(e,"mouseenter",()=>this.onMouseEnter()),this.addManagedListener(e,"mouseleave",()=>this.onMouseLeave()))}isDisabled(){return!!this.params.disabled}openSubMenu(e=!1){var n,i;if(this.closeSubMenu(),!this.params.subMenu)return;this.subMenuIsOpening=!0;const r=Iu('<div class="ag-menu" role="presentation"></div>');this.eSubMenuGui=r;let s,o=()=>{this.subMenuIsOpening=!1};if(this.childComponent){const m=this.createBean(new nie(this.childComponent));m.setParentComponent(this);const y=m.getGui(),A="mouseenter",k=()=>this.cancelDeactivate();y.addEventListener(A,k),s=()=>y.removeEventListener(A,k),r.appendChild(y),this.childComponent.afterGuiAttached&&(o=()=>{this.childComponent.afterGuiAttached(),this.subMenuIsOpening=!1})}else if(this.params.subMenu){const m=this.createBean(new U3(this.level+1,this.contextParams));m.setParentComponent(this),m.addMenuItems(this.params.subMenu),r.appendChild(m.getGui()),this.addManagedListener(m,AA.EVENT_CLOSE_MENU,y=>this.dispatchEvent(y)),m.addGuiEventListener("mouseenter",()=>this.cancelDeactivate()),s=()=>this.destroyBean(m),e&&(o=()=>{m.activateFirstItem(),this.subMenuIsOpening=!1})}const c=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:this.eGui,ePopup:r}),d=this.localeService.getLocaleTextFunc(),p=this.popupService.addPopup({modal:!0,eChild:r,positionCallback:c,anchorToElement:this.eGui,ariaLabel:d("ariaLabelSubMenu","SubMenu"),afterGuiAttached:o});this.subMenuIsOpen=!0,this.setAriaExpanded(!0),this.hideSubMenu=()=>{var m,y;p&&p.hideFunc(),this.subMenuIsOpen=!1,this.setAriaExpanded(!1),s(),null==(y=(m=this.menuItemComp).setExpanded)||y.call(m,!1),this.eSubMenuGui=void 0},null==(i=(n=this.menuItemComp).setExpanded)||i.call(n,!0)}setAriaExpanded(e){this.suppressAria||qm(this.eGui,e)}closeSubMenu(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,this.setAriaExpanded(!1))}isSubMenuOpen(){return this.subMenuIsOpen}isSubMenuOpening(){return this.subMenuIsOpening}activate(e){var n,i;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.suppressRootStyles||this.eGui.classList.add(`${this.cssClassPrefix}-active`),null==(i=(n=this.menuItemComp).setActive)||i.call(n,!0),this.suppressFocus||this.eGui.focus({preventScroll:!0}),e&&this.params.subMenu&&window.setTimeout(()=>{this.isAlive()&&this.isActive&&this.openSubMenu()},300),this.onItemActivated())}deactivate(){var e,n;this.cancelDeactivate(),this.suppressRootStyles||this.eGui.classList.remove(`${this.cssClassPrefix}-active`),null==(n=(e=this.menuItemComp).setActive)||n.call(e,!1),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()}getGui(){return this.menuItemComp.getGui()}getParentComponent(){return this.parentComponent}setParentComponent(e){this.parentComponent=e}getSubMenuGui(){return this.eSubMenuGui}onItemSelected(e){var n,i;null==(i=(n=this.menuItemComp).select)||i.call(n),this.params.action?this.getFrameworkOverrides().wrapOutgoing(()=>this.params.action(this.gridOptionsService.addGridCommonParams(Yn({},this.contextParams)))):this.openSubMenu(e&&"keydown"===e.type),!(this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect)&&this.closeMenu(e)}closeMenu(e){this.dispatchEvent({type:AA.EVENT_CLOSE_MENU,event:e})}onItemActivated(){this.dispatchEvent({type:AA.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})}cancelActivate(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)}cancelDeactivate(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)}onMouseEnter(){this.cancelDeactivate(),this.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(()=>this.activate(!0),AA.ACTIVATION_DELAY):this.activate(!0)}onMouseLeave(){this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(()=>this.deactivate(),AA.ACTIVATION_DELAY):this.deactivate()}configureDefaults(e){var n,i,r;if(this.tooltip=this.params.tooltip,!this.menuItemComp)return void setTimeout(()=>this.configureDefaults(e));let s=this.menuItemComp.getGui();const o=null==(i=(n=this.menuItemComp).getRootElement)?void 0:i.call(n);o&&(e?.suppressRootStyles||s.classList.add("ag-menu-option-custom"),s=o),this.eGui=s,this.suppressRootStyles=!!e?.suppressRootStyles,this.suppressRootStyles||(s.classList.add(this.cssClassPrefix),null==(r=this.params.cssClasses)||r.forEach(c=>s.classList.add(c)),this.params.disabled&&s.classList.add(`${this.cssClassPrefix}-disabled`)),e?.suppressTooltip||this.refreshTooltip(),this.suppressAria=!!e?.suppressAria,this.suppressAria||(so(s,"treeitem"),Rte(s,this.level+1),this.params.disabled&&L6(s,!0)),e?.suppressTabIndex||s.setAttribute("tabindex","-1"),this.params.disabled||this.addListeners(s,e),this.suppressFocus=!!e?.suppressFocus}refreshTooltip(e,n){this.tooltip=e,this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),e&&this.menuItemComp&&(this.tooltipFeature=this.createBean(new Ym({getGui:()=>this.getGui(),getTooltipValue:()=>this.tooltip,getLocation:()=>"menu",shouldDisplayTooltip:n})))}destroy(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}};Bw.EVENT_CLOSE_MENU="closeMenu",Bw.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",Bw.ACTIVATION_DELAY=80,N([Y("popupService")],Bw.prototype,"popupService",2),N([Y("userComponentFactory")],Bw.prototype,"userComponentFactory",2),N([Y("beans")],Bw.prototype,"beans",2);var dk=Bw,Hw=class ZQ extends Ii{constructor(e){super(ZQ.getTemplate(e)),this.config=e,this.closable=!0}static getTemplate(e){const n=e.cssIdentifier||"default";return`<div class="ag-panel ag-${n}-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-${n}-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-${n}-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-${n}-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-${n}-panel-content-wrapper"></div>\n        </div>`}postConstruct(){const{component:e,closable:n,hideTitleBar:i,title:r,minWidth:s=250,width:o,minHeight:c=250,height:d,centered:p,popup:m,x:y,y:A}=this.config;this.positionableFeature=new TI(this.getGui(),{minWidth:s,width:o,minHeight:c,height:d,centered:p,x:y,y:A,popup:m,calculateTopBuffer:()=>this.positionableFeature.getHeight()-this.getBodyHeight()}),this.createManagedBean(this.positionableFeature);const k=this.getGui();e&&this.setBodyComponent(e),i?nr(this.eTitleBar,!1):(r&&this.setTitle(r),this.setClosable(n??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",U=>{const X=this.gridOptionsService.getDocument();if(k.contains(U.relatedTarget)||k.contains(X.activeElement)||this.eTitleBarButtons.contains(U.target))return void U.preventDefault();const Q=this.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");Q&&Q.focus()}),(!m||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")}renderComponent(){const e=this.getGui();e.focus(),this.close=()=>{e.parentElement.removeChild(e),this.destroy()}}getHeight(){return this.positionableFeature.getHeight()}setHeight(e){this.positionableFeature.setHeight(e)}getWidth(){return this.positionableFeature.getWidth()}setWidth(e){this.positionableFeature.setWidth(e)}setClosable(e){if(e!==this.closable&&(this.closable=e),e){const n=this.closeButtonComp=new Ii(ZQ.CLOSE_BTN_TEMPLATE);this.getContext().createBean(n);const i=n.getGui(),r=ks("close",this.gridOptionsService);r.classList.add("ag-panel-title-bar-button-icon"),i.appendChild(r),this.addTitleBarButton(n),n.addManagedListener(i,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){const n=this.closeButtonComp.getGui();n.parentElement.removeChild(n),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}}setBodyComponent(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())}addTitleBarButton(e,n){const i=this.eTitleBarButtons,r=i.children,s=r.length;null==n&&(n=s),n=Math.max(0,Math.min(n,s)),e.addCssClass("ag-panel-title-bar-button");const o=e.getGui();0===n?i.insertAdjacentElement("afterbegin",o):n===s?i.insertAdjacentElement("beforeend",o):r[n-1].insertAdjacentElement("afterend",o),e.setParentComponent(this)}getBodyHeight(){return Wx(this.eContentWrapper)}getBodyWidth(){return ww(this.eContentWrapper)}setTitle(e){this.eTitle.innerText=e}onBtClose(){this.close()}destroy(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));const e=this.getGui();e&&cd(e)&&this.close(),super.destroy()}};Hw.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',N([fn("eContentWrapper")],Hw.prototype,"eContentWrapper",2),N([fn("eTitleBar")],Hw.prototype,"eTitleBar",2),N([fn("eTitleBarButtons")],Hw.prototype,"eTitleBarButtons",2),N([fn("eTitle")],Hw.prototype,"eTitle",2),N([nn],Hw.prototype,"postConstruct",1);var qye=Hw;N([Y("popupService")],class extends qye{constructor(t){super(ms(Yn({},t),{popup:!0})),this.isMaximizable=!1,this.isMaximized=!1,this.maximizeListeners=[],this.resizeListenerDestroy=null,this.lastPosition={x:0,y:0,width:0,height:0}}postConstruct(){const t=this.getGui(),{movable:e,resizable:n,maximizable:i}=this.config;this.addCssClass("ag-dialog"),super.postConstruct(),this.addManagedListener(t,"focusin",r=>{this.popupService.bringPopupToFront(t)}),e&&this.setMovable(e),i&&this.setMaximizable(i),n&&this.setResizable(n)}renderComponent(){const t=this.getGui(),{alwaysOnTop:e,modal:n,title:i,afterGuiAttached:r}=this.config,s=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({modal:n,eChild:t,closeOnEsc:!0,closedCallback:this.onClosed.bind(this),alwaysOnTop:e,ariaLabel:i||s("ariaLabelDialog","Dialog"),afterGuiAttached:r});o&&(this.close=o.hideFunc)}onClosed(t){var e,n;this.destroy(),null==(n=(e=this.config).closedCallback)||n.call(e,t)}toggleMaximize(){const t=this.positionableFeature.getPosition();if(this.isMaximized){const{x:e,y:n,width:i,height:r}=this.lastPosition;this.setWidth(i),this.setHeight(r),this.positionableFeature.offsetElement(e,n)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=t.x,this.lastPosition.y=t.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()}refreshMaximizeIcon(){nr(this.maximizeIcon,!this.isMaximized),nr(this.minimizeIcon,this.isMaximized)}clearMaximizebleListeners(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(t=>t()),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)}destroy(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),super.destroy()}setResizable(t){this.positionableFeature.setResizable(t)}setMovable(t){this.positionableFeature.setMovable(t,this.eTitleBar)}setMaximizable(t){if(!t)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));const e=this.eTitleBar;if(!e||t===this.isMaximizable)return;const n=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),n.addManagedListener(n.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(n,0),this.maximizeListeners.push(this.addManagedListener(e,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",()=>{this.isMaximized=!1,this.refreshMaximizeIcon()})}buildMaximizeAndMinimizeElements(){const t=this.maximizeButtonComp=this.createBean(new Ii('<div class="ag-dialog-button"></span>')),e=t.getGui();return this.maximizeIcon=ks("maximize",this.gridOptionsService),e.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=ks("minimize",this.gridOptionsService),e.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),t}}.prototype,"popupService",2);var Yye=0,ev=class extends Jt{constructor(){super(...arguments),this.popupList=[]}postConstruct(){this.ctrlsService.whenReady(t=>{this.gridCtrl=t.gridCtrl}),this.addManagedListener(this.eventService,W.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))}getPopupParent(){return this.gridOptionsService.get("popupParent")||this.gridCtrl.getGui()}positionPopupForMenu(t){const{eventSource:e,ePopup:n}=t,i=this.getPopupIndex(n);-1!==i&&(this.popupList[i].alignedToElement=e);const r=e.getBoundingClientRect(),s=this.getParentRect(),o=this.keepXYWithinBounds(n,r.top-s.top,0),c=n.clientWidth>0?n.clientWidth:200;n.style.minWidth=`${c}px`;const p=s.right-s.left-c;let m;function y(){return r.right-s.left-2}function A(){return r.left-s.left-c}this.gridOptionsService.get("enableRtl")?(m=A(),m<0&&(m=y(),this.setAlignedStyles(n,"left")),m>p&&(m=0,this.setAlignedStyles(n,"right"))):(m=y(),m>p&&(m=A(),this.setAlignedStyles(n,"right")),m<0&&(m=0,this.setAlignedStyles(n,"left"))),n.style.left=`${m}px`,n.style.top=`${o}px`}positionPopupUnderMouseEvent(t){const{ePopup:e,nudgeX:n,nudgeY:i,skipObserver:r}=t;this.positionPopup({ePopup:e,nudgeX:n,nudgeY:i,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(t.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(t.type,t.ePopup,null,t.mouseEvent,t.column,t.rowNode)})}calculatePointerAlign(t){const e=this.getParentRect();return{x:t.clientX-e.left,y:t.clientY-e.top}}positionPopupByComponent(t){const{ePopup:e,nudgeX:n,nudgeY:i,keepWithinBounds:r,eventSource:s,alignSide:o="left",position:c="over",column:d,rowNode:p,type:m}=t,y=s.getBoundingClientRect(),A=this.getParentRect(),k=this.getPopupIndex(e);-1!==k&&(this.popupList[k].alignedToElement=s),this.positionPopup({ePopup:e,nudgeX:n,nudgeY:i,keepWithinBounds:r,updatePosition:()=>{let Q,X=y.left-A.left;return"right"===o&&(X-=e.offsetWidth-y.width),"over"===c?(Q=y.top-A.top,this.setAlignedStyles(e,"over")):(this.setAlignedStyles(e,"under"),Q="under"===this.shouldRenderUnderOrAbove(e,y,A,t.nudgeY||0)?y.top-A.top+y.height:y.top-e.offsetHeight-2*(i||0)-A.top),{x:X,y:Q}},postProcessCallback:()=>this.callPostProcessPopup(m,e,s,null,d,p)})}shouldRenderUnderOrAbove(t,e,n,i){const r=n.bottom-e.bottom,s=e.top-n.top,o=t.offsetHeight+i;return r>o?"under":s>o||s>r?"above":"under"}setAlignedStyles(t,e){const n=this.getPopupIndex(t);if(-1===n)return;const i=this.popupList[n],{alignedToElement:r}=i;!r||(["right","left","over","above","under"].forEach(o=>{r.classList.remove(`ag-has-popup-positioned-${o}`),t.classList.remove(`ag-popup-positioned-${o}`)}),!e)||(r.classList.add(`ag-has-popup-positioned-${e}`),t.classList.add(`ag-popup-positioned-${e}`))}callPostProcessPopup(t,e,n,i,r,s){const o=this.gridOptionsService.getCallback("postProcessPopup");o&&o({column:r,rowNode:s,ePopup:e,type:t,eventSource:n,mouseEvent:i})}positionPopup(t){const{ePopup:e,keepWithinBounds:n,nudgeX:i,nudgeY:r,skipObserver:s,updatePosition:o}=t,c={width:0,height:0},d=(p=!1)=>{let{x:m,y}=o();p&&e.clientWidth===c.width&&e.clientHeight===c.height||(c.width=e.clientWidth,c.height=e.clientHeight,i&&(m+=i),r&&(y+=r),n&&(m=this.keepXYWithinBounds(e,m,1),y=this.keepXYWithinBounds(e,y,0)),e.style.left=`${m}px`,e.style.top=`${y}px`,t.postProcessCallback&&t.postProcessCallback())};if(d(),!s){const p=this.resizeObserverService.observeResize(e,()=>d(!0));setTimeout(()=>p(),ev.WAIT_FOR_POPUP_CONTENT_RESIZE)}}getActivePopups(){return this.popupList.map(t=>t.element)}getPopupList(){return this.popupList}getParentRect(){const t=this.gridOptionsService.getDocument();let e=this.getPopupParent();return e===t.body?e=t.documentElement:"static"===getComputedStyle(e).position&&(e=e.offsetParent),s3(e)}keepXYWithinBounds(t,e,n){const i=0===n,r=i?"clientHeight":"clientWidth",s=i?"top":"left",o=i?"offsetHeight":"offsetWidth",c=i?"scrollTop":"scrollLeft",d=this.gridOptionsService.getDocument(),p=d.documentElement,m=this.getPopupParent(),y=m.getBoundingClientRect(),A=d.documentElement.getBoundingClientRect(),k=m===d.body,U=t[o];let Q=k?(i?r3:zx)(p)+p[c]:m[r];k&&(Q-=Math.abs(A[s]-y[s]));const pe=Q-U;return Math.min(Math.max(e,0),Math.abs(pe))}addPopup(t){const e=this.gridOptionsService.getDocument(),{eChild:n,ariaLabel:i,alwaysOnTop:r,positionCallback:s,anchorToElement:o}=t;if(!e)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:()=>{}};const c=this.getPopupIndex(n);if(-1!==c)return{hideFunc:this.popupList[c].hideFunc};this.initialisePopupPosition(n);const d=this.createPopupWrapper(n,i,!!r),p=this.addEventListenersToPopup(ms(Yn({},t),{wrapperEl:d}));return s&&s(),this.addPopupToPopupList(n,d,p,o),{hideFunc:p}}initialisePopupPosition(t){const n=this.getPopupParent().getBoundingClientRect();$t(t.style.top)||(t.style.top=-1*n.top+"px"),$t(t.style.left)||(t.style.left=-1*n.left+"px")}createPopupWrapper(t,e,n){const i=this.getPopupParent(),r=document.createElement("div"),{allThemes:s}=this.environment.getTheme();return s.length&&r.classList.add(...s),r.classList.add("ag-popup"),t.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),t.hasAttribute("role")||so(t,"dialog"),vf(t,e),r.appendChild(t),i.appendChild(r),n?this.setAlwaysOnTop(t,!0):this.bringPopupToFront(t),r}handleThemeChange(){const{allThemes:t}=this.environment.getTheme();for(const e of this.popupList){for(const n of Array.from(e.wrapper.classList))n.startsWith("ag-theme-")&&e.wrapper.classList.remove(n);t.length&&e.wrapper.classList.add(...t)}}addEventListenersToPopup(t){const e=this.gridOptionsService.getDocument(),n=this.getPopupParent(),{wrapperEl:i,eChild:r,closedCallback:o,afterGuiAttached:c,closeOnEsc:d,modal:p}=t;let m=!1;const y=X=>{i.contains(e.activeElement)&&X.key===Qe.ESCAPE&&!mf(X)&&U({keyboardEvent:X})},A=X=>U({mouseEvent:X}),k=X=>U({touchEvent:X}),U=(X={})=>{const{mouseEvent:Q,touchEvent:pe,keyboardEvent:Ie}=X;this.isEventFromCurrentPopup({mouseEvent:Q,touchEvent:pe},r)||m||(m=!0,n.removeChild(i),e.removeEventListener("keydown",y),e.removeEventListener("mousedown",A),e.removeEventListener("touchstart",k),e.removeEventListener("contextmenu",A),this.eventService.removeEventListener(W.EVENT_DRAG_STARTED,A),o&&o(Q||pe||Ie),this.removePopupFromPopupList(r))};return c&&c({hidePopup:U}),window.setTimeout(()=>{d&&e.addEventListener("keydown",y),p&&(e.addEventListener("mousedown",A),this.eventService.addEventListener(W.EVENT_DRAG_STARTED,A),e.addEventListener("touchstart",k),e.addEventListener("contextmenu",A))},0),U}addPopupToPopupList(t,e,n,i){this.popupList.push({element:t,wrapper:e,hideFunc:n,instanceId:Yye++,isAnchored:!!i}),i&&this.setPopupPositionRelatedToElement(t,i)}getPopupIndex(t){return this.popupList.findIndex(e=>e.element===t)}setPopupPositionRelatedToElement(t,e){const n=this.getPopupIndex(t);if(-1===n)return;const i=this.popupList[n];if(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(s=>s&&s()),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!e)return;const r=this.keepPopupPositionedRelativeTo({element:e,ePopup:t,hidePopup:i.hideFunc});return i.stopAnchoringPromise=r,i.isAnchored=!0,r}removePopupFromPopupList(t){this.setAlignedStyles(t,null),this.setPopupPositionRelatedToElement(t,null),this.popupList=this.popupList.filter(e=>e.element!==t)}keepPopupPositionedRelativeTo(t){const e=this.getPopupParent(),n=e.getBoundingClientRect(),{element:i,ePopup:r}=t,s=i.getBoundingClientRect(),o=n.top-s.top,c=n.left-s.left;let d=o,p=c;const m=r.style.top,y=parseInt(m.substring(0,m.length-1),10),A=r.style.left,k=parseInt(A.substring(0,A.length-1),10);return new Tu(U=>{this.getFrameworkOverrides().setInterval(()=>{const X=e.getBoundingClientRect(),Q=i.getBoundingClientRect();if(0==Q.top&&0==Q.left&&0==Q.height&&0==Q.width)return void t.hidePopup();const Ie=X.top-Q.top;if(Ie!=d){const tt=this.keepXYWithinBounds(r,y+o-Ie,0);r.style.top=`${tt}px`}d=Ie;const ke=X.left-Q.left;if(ke!=p){const tt=this.keepXYWithinBounds(r,k+c-ke,1);r.style.left=`${tt}px`}p=ke},200).then(X=>{U(()=>{null!=X&&window.clearInterval(X)})})})}hasAnchoredPopup(){return this.popupList.some(t=>t.isAnchored)}isEventFromCurrentPopup(t,e){const{mouseEvent:n,touchEvent:i}=t,r=n||i;if(!r)return!1;const s=this.getPopupIndex(e);if(-1===s)return!1;for(let o=s;o<this.popupList.length;o++)if(DL(this.popupList[o].element,r))return!0;return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(t){const e=this.gridOptionsService.getDocument();for(;t&&t!==e.body;){if(t.classList.contains("ag-custom-component-popup")||null===t.parentElement)return!0;t=t.parentElement}return!1}getWrapper(t){for(;!t.classList.contains("ag-popup")&&t.parentElement;)t=t.parentElement;return t.classList.contains("ag-popup")?t:null}setAlwaysOnTop(t,e){const n=this.getWrapper(t);n&&(n.classList.toggle("ag-always-on-top",!!e),e&&this.bringPopupToFront(n))}bringPopupToFront(t){const e=this.getPopupParent(),n=Array.prototype.slice.call(e.querySelectorAll(".ag-popup")),i=n.length,r=Array.prototype.slice.call(e.querySelectorAll(".ag-popup.ag-always-on-top")),s=r.length,o=this.getWrapper(t);if(!o||i<=1||!e.contains(t))return;const c=n.indexOf(o),d=o.querySelectorAll("div"),p=[];for(d.forEach(m=>{0!==m.scrollTop&&p.push([m,m.scrollTop])}),s?o.classList.contains("ag-always-on-top")?c!==i-1&&q(r).insertAdjacentElement("afterend",o):c!==i-s-1&&r[0].insertAdjacentElement("beforebegin",o):c!==i-1&&q(n).insertAdjacentElement("afterend",o);p.length;){const m=p.pop();m[0].scrollTop=m[1]}}};ev.WAIT_FOR_POPUP_CONTENT_RESIZE=200,N([Y("focusService")],ev.prototype,"focusService",2),N([Y("ctrlsService")],ev.prototype,"ctrlsService",2),N([Y("resizeObserverService")],ev.prototype,"resizeObserverService",2),N([nn],ev.prototype,"postConstruct",1),ev=N([bn("popupService")],ev);var Xye=class extends Ii{constructor(){super('\n        <div class="ag-autocomplete-row" role="presentation">\n            <div class="ag-autocomplete-row-label"></div>\n        </div>'),this.hasHighlighting=!1}setState(t,e){this.value=t,this.render(),this.updateSelected(e)}updateSelected(t){this.addOrRemoveCssClass("ag-autocomplete-row-selected",t)}setSearchString(t){var e;let n=!1;if($t(t)){const i=null==(e=this.value)?void 0:e.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());if(i>=0){n=!0,this.hasHighlighting=!0;const r=i+t.length,s=ha(this.value.slice(0,i)),o=ha(this.value.slice(i,r)),c=ha(this.value.slice(r));this.getGui().lastElementChild.innerHTML=`${s}<b>${o}</b>${c}`}}!n&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())}render(){var t;this.getGui().lastElementChild.innerHTML=null!=(t=ha(this.value))?t:"&nbsp;"}},hk=class Eme extends Tw{constructor(e){super(Eme.TEMPLATE),this.params=e,this.searchString=""}destroy(){super.destroy()}init(){this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new eie({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:()=>this.autocompleteEntries.length,getRow:n=>this.autocompleteEntries[n]});const e=this.virtualList.getGui();this.addManagedListener(e,"click",()=>this.params.onConfirmed()),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",n=>n.preventDefault()),this.setSelectedValue(0)}onNavigationKeyDown(e,n){e.preventDefault();const i=this.autocompleteEntries.indexOf(this.selectedValue);this.checkSetSelectedValue(n===Qe.UP?i-1:i+1)}setSearch(e){this.searchString=e,$t(e)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()}runContainsSearch(e,n){let i,r=!1;const s=e.toLocaleLowerCase(),o=n.filter(c=>{const p=c.toLocaleLowerCase().indexOf(s),m=0===p,y=p>=0;return y&&(!i||!r&&m||r===m&&c.length<i.length)&&(i=c,r=m),y});return!i&&o.length&&(i=o[0]),{topMatch:i,allMatches:o}}runSearch(){var e,n;const{autocompleteEntries:i}=this.params,r=i.map(p=>{var m;return null!=(m=p.displayValue)?m:p.key});let s,o;if(this.params.useFuzzySearch)s=Xx(this.searchString,r,!0).values,o=s.length?s[0]:void 0;else{const p=this.runContainsSearch(this.searchString,r);s=p.allMatches,o=p.topMatch}let c=i.filter(({key:p,displayValue:m})=>s.includes(m??p));if(!c.length&&this.selectedValue&&null!=(n=null==(e=this.params)?void 0:e.forceLastSelection)&&n.call(e,this.selectedValue,this.searchString)&&(c=[this.selectedValue]),this.autocompleteEntries=c,this.virtualList.refresh(),!o)return;const d=s.indexOf(o);this.checkSetSelectedValue(d)}updateSearchInList(){this.virtualList.forEachRenderedRow(e=>e.setSearchString(this.searchString))}checkSetSelectedValue(e){e>=0&&e<this.autocompleteEntries.length&&this.setSelectedValue(e)}setSelectedValue(e){const n=this.autocompleteEntries[e];this.selectedValue!==n&&(this.selectedValue=n,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow((i,r)=>{i.updateSelected(e===r)}))}createRowComponent(e){var n;const i=new Xye;return this.getContext().createBean(i),i.setState(null!=(n=e.displayValue)?n:e.key,e===this.selectedValue),i}onMouseMove(e){const n=this.virtualList.getGui().getBoundingClientRect(),i=this.virtualList.getScrollTop(),s=Math.floor((e.clientY-n.top+i)/this.virtualList.getRowHeight());this.checkSetSelectedValue(s)}afterGuiAttached(){this.virtualList.refresh()}getSelectedValue(){var e;return this.autocompleteEntries.length&&null!=(e=this.selectedValue)?e:null}};hk.TEMPLATE='<div class="ag-autocomplete-list-popup">\n            <div ref="eList" class="ag-autocomplete-list"></div>\n        <div>',N([fn("eList")],hk.prototype,"eList",2),N([nn],hk.prototype,"init",1);var Qye=hk,fy=class hN extends Ii{constructor(){super('\n            <div class="ag-autocomplete" role="presentation">\n                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>\n            </div>'),this.isListOpen=!1,this.lastPosition=0,this.valid=!0}postConstruct(){this.eAutocompleteInput.onValueChange(e=>this.onValueChanged(e)),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(()=>{this.destroyBean(this.autocompleteList)}),this.addGuiEventListener("focusout",()=>this.onFocusOut())}onValueChanged(e){const n=nh(e);this.updateValue(n),this.updateAutocompleteList(n)}updateValue(e){this.updateLastPosition(),this.dispatchEvent({type:hN.EVENT_VALUE_CHANGED,value:e}),this.validate(e)}updateAutocompleteList(e){var n,i,r,s;const o=null!=(i=null==(n=this.listGenerator)?void 0:n.call(this,e,this.lastPosition))?i:{enabled:!1};if((!o.type||o.type!==(null==(r=this.autocompleteListParams)?void 0:r.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=o,null!=(s=this.autocompleteListParams)&&s.enabled){this.isListOpen||this.openList();const{searchString:c}=this.autocompleteListParams;this.autocompleteList.setSearch(c??"")}else this.isListOpen&&this.closeList()}onKeyDown(e){const n=e.key;switch(this.updateLastPosition(),n){case Qe.ENTER:this.onEnterKeyDown(e);break;case Qe.TAB:this.onTabKeyDown(e);break;case Qe.DOWN:case Qe.UP:this.onUpDownKeyDown(e,n);break;case Qe.LEFT:case Qe.RIGHT:case Qe.PAGE_HOME:case Qe.PAGE_END:setTimeout(()=>{this.updatePositionAndList()});break;case Qe.ESCAPE:this.onEscapeKeyDown(e);break;case Qe.SPACE:e.ctrlKey&&!this.isListOpen&&(e.preventDefault(),this.forceOpenList())}}confirmSelection(){var e;const n=null==(e=this.autocompleteList)?void 0:e.getSelectedValue();n&&(this.closeList(),this.dispatchEvent({type:hN.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:n,autocompleteType:this.autocompleteListParams.type}))}onTabKeyDown(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.confirmSelection())}onEnterKeyDown(e){e.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()}onUpDownKeyDown(e,n){var i;e.preventDefault(),this.isListOpen?null==(i=this.autocompleteList)||i.onNavigationKeyDown(e,n):this.forceOpenList()}onEscapeKeyDown(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))}onFocusOut(){this.isListOpen&&this.closeList()}updatePositionAndList(){var e;this.updateLastPosition(),this.updateAutocompleteList(null!=(e=this.eAutocompleteInput.getValue())?e:null)}setCaret(e,n){const i=this.gridOptionsService.getDocument();n&&i.activeElement===i.body&&this.eAutocompleteInput.getFocusableElement().focus();const r=this.eAutocompleteInput.getInputElement();r.setSelectionRange(e,e),e===r.value.length&&(r.scrollLeft=r.scrollWidth)}forceOpenList(){this.onValueChanged(this.eAutocompleteInput.getValue())}updateLastPosition(){var e;this.lastPosition=null!=(e=this.eAutocompleteInput.getInputElement().selectionStart)?e:0}validate(e){var n;this.validator&&(this.validationMessage=this.validator(e),this.eAutocompleteInput.getInputElement().setCustomValidity(null!=(n=this.validationMessage)?n:""),this.valid=!this.validationMessage,this.dispatchEvent({type:hN.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))}openList(){this.isListOpen=!0,this.autocompleteList=this.createBean(new Qye({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:()=>this.confirmSelection(),forceLastSelection:this.forceLastSelection}));const e=this.autocompleteList.getGui(),n={ePopup:e,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.get("enableRtl")?"right":"left",keepWithinBounds:!0},i=this.popupService.addPopup({eChild:e,anchorToElement:this.getGui(),positionCallback:()=>this.popupService.positionPopupByComponent(n),ariaLabel:this.listAriaLabel});this.hidePopup=i.hideFunc,this.autocompleteList.afterGuiAttached()}closeList(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null}onCompleted(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:hN.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})}getValue(){return nh(this.eAutocompleteInput.getValue())}setInputPlaceholder(e){return this.eAutocompleteInput.setInputPlaceholder(e),this}setInputAriaLabel(e){return this.eAutocompleteInput.setInputAriaLabel(e),this}setListAriaLabel(e){return this.listAriaLabel=e,this}setListGenerator(e){return this.listGenerator=e,this}setValidator(e){return this.validator=e,this}isValid(){return this.valid}setValue(e){const{value:n,position:i,silent:r,updateListOnlyIfOpen:s,restoreFocus:o}=e;this.eAutocompleteInput.setValue(n,!0),this.setCaret(i??this.lastPosition,o),r||this.updateValue(n),(!s||this.isListOpen)&&this.updateAutocompleteList(n)}setForceLastSelection(e){return this.forceLastSelection=e,this}setInputDisabled(e){return this.eAutocompleteInput.setDisabled(e),this}};fy.EVENT_VALUE_CHANGED="eventValueChanged",fy.EVENT_VALUE_CONFIRMED="eventValueConfirmed",fy.EVENT_OPTION_SELECTED="eventOptionSelected",fy.EVENT_VALID_CHANGED="eventValidChanged",N([Y("popupService")],fy.prototype,"popupService",2),N([fn("eAutocompleteInput")],fy.prototype,"eAutocompleteInput",2),N([nn],fy.prototype,"postConstruct",1);var Jye=fy,py=class VG extends Ii{constructor(e,n,i,r){super(),this.dragSourceDropTarget=e,this.ghost=n,this.horizontal=i,this.template=r}init(){var e;this.setTemplate(null!=(e=this.template)?e:VG.TEMPLATE);const n=this.getGui();this.addElementClasses(n),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(ks("columnDrag",this.gridOptionsService)),this.eButton.appendChild(ks("cancel",this.gridOptionsService)),this.setupComponents(),!this.ghost&&this.isDraggable()&&this.addDragSource(),this.setupAria(),this.setupTooltip(),this.activateTabIndex(),this.refreshDraggable()}isDraggable(){return!0}refreshDraggable(){this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!this.isDraggable())}setupAria(){const e=this.localeService.getLocaleTextFunc(),n=[this.getAriaDisplayName()];this.addAdditionalAriaInstructions(n,e),vf(this.getGui(),n.join(". "))}addAdditionalAriaInstructions(e,n){if(this.isRemovable()){const i=n("ariaDropZoneColumnComponentDescription","Press DELETE to remove");e.push(i)}}setupTooltip(){const e=()=>{const n=this.getTooltip();this.setTooltip({newTooltipText:n})};e(),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,e)}getDragSourceId(){}getDefaultIconName(){return Di.ICON_NOT_ALLOWED}addDragSource(){const{dragAndDropService:e,eDragHandle:n}=this,i=this.createGetDragItem(),r=this.getDefaultIconName(),s={type:this.getDragSourceType(),sourceId:this.getDragSourceId(),eElement:n,getDefaultIconName:()=>r,getDragItem:i,dragItemName:this.getDisplayName()};e.addDragSource(s,!0),this.addDestroyFunc(()=>e.removeDragSource(s))}setupComponents(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost")}isRemovable(){return!0}refreshRemove(){nr(this.eButton,this.isRemovable())}setupRemove(){this.refreshRemove();const e={type:VG.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",i=>this.onKeyDown(i)),this.addManagedListener(this.eButton,"click",i=>{this.dispatchEvent(e),i.stopPropagation()});const n=new za(this.eButton);this.addManagedListener(n,za.EVENT_TAP,()=>{this.dispatchEvent(e)}),this.addDestroyFunc(n.destroy.bind(n))}onKeyDown(e){e.key===Qe.DELETE&&this.isRemovable()&&(e.preventDefault(),this.dispatchEvent({type:VG.EVENT_COLUMN_REMOVE}))}getDisplayValue(){return this.getDisplayName()}setTextValue(){const n=ha(this.getDisplayValue());this.eText.innerHTML=n}addElementClasses(e,n){e.classList.add("ag-column-drop-cell"+(n=n?`-${n}`:""),`ag-column-drop-${this.horizontal?"horizontal":"vertical"}-cell${n}`)}destroy(){super.destroy(),this.dragSourceDropTarget=null}};py.EVENT_COLUMN_REMOVE="columnRemove",py.TEMPLATE='<span role="option">\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>\n          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>\n          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>\n        </span>',N([Y("dragAndDropService")],py.prototype,"dragAndDropService",2),N([fn("eText")],py.prototype,"eText",2),N([fn("eDragHandle")],py.prototype,"eDragHandle",2),N([fn("eButton")],py.prototype,"eButton",2),N([nn],py.prototype,"init",1);var Zye=py,v1=class bg extends Ii{constructor(e){super('<div class="ag-unselectable" role="presentation"></div>'),this.horizontal=e,this.state=bg.STATE_NOT_DRAGGING,this.guiDestroyFunctions=[],this.childPillComponents=[],this.resizeEnabled=!1,this.addElementClasses(this.getGui()),this.ePillDropList=document.createElement("div"),this.addElementClasses(this.ePillDropList,"list"),so(this.ePillDropList,"listbox")}isHorizontal(){return this.horizontal}toggleResizable(e){this.positionableFeature.setResizable(!!e&&{bottom:!0}),this.resizeEnabled=e}isSourceEventFromTarget(e){const{dropZoneTarget:n,dragSource:i}=e;return n.contains(i.eElement)}destroy(){this.destroyGui(),super.destroy()}destroyGui(){this.guiDestroyFunctions.forEach(e=>e()),this.guiDestroyFunctions.length=0,this.childPillComponents.length=0,Jo(this.getGui()),Jo(this.ePillDropList)}init(e){this.params=e??{},this.createManagedBean(new cy(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.setupDropTarget(),this.positionableFeature=new TI(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),vf(this.ePillDropList,this.getAriaLabel())}handleKeyDown(e){let i=e.key===Qe.DOWN,r=e.key===Qe.UP;if(this.horizontal){const o=this.gridOptionsService.get("enableRtl");i=!o&&e.key===Qe.RIGHT||o&&e.key===Qe.LEFT,r=!o&&e.key===Qe.LEFT||o&&e.key===Qe.RIGHT}if(!i&&!r)return;const s=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,r);s&&(e.preventDefault(),s.focus())}addElementClasses(e,n){e.classList.add("ag-column-drop"+(n=n?`-${n}`:""),`ag-column-drop-${this.horizontal?"horizontal":"vertical"}${n}`)}setupDropTarget(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.dragAndDropService.addDropTarget(this.dropTarget)}minimumAllowedNewInsertIndex(){return 0}checkInsertIndex(e){const n=this.getNewInsertIndex(e);if(n<0)return!1;const i=this.minimumAllowedNewInsertIndex(),r=Math.max(i,n),s=r!==this.insertIndex;return s&&(this.insertIndex=r),s}getNewInsertIndex(e){const n=e.event,i=this.horizontal?n.clientX:n.clientY,r=this.childPillComponents.map(o=>o.getGui().getBoundingClientRect()),s=r.findIndex(o=>this.horizontal?o.right>i&&o.left<i:o.top<i&&o.bottom>i);if(-1===s){const o=this.gridOptionsService.get("enableRtl");return r.every(p=>i>(this.horizontal?p.right:p.bottom))?o&&this.horizontal?0:this.childPillComponents.length:r.every(p=>i<(this.horizontal?p.left:p.top))?o&&this.horizontal?this.childPillComponents.length:0:this.insertIndex}return this.insertIndex<=s?s+1:s}checkDragStartedBySelf(e){this.state===bg.STATE_NOT_DRAGGING&&(this.state=bg.STATE_REARRANGE_ITEMS,this.potentialDndItems=this.getItems(e.dragSource.getDragItem()),this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())}onDragging(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()}handleDragEnterEnd(e){}onDragEnter(e){const n=this.getItems(e.dragSource.getDragItem());this.state=bg.STATE_NEW_ITEMS_IN;const i=n.filter(s=>this.isItemDroppable(s,e)),r=i.every(s=>-1!==this.childPillComponents.map(o=>o.getItem()).indexOf(s));if(0!==i.length){if(this.potentialDndItems=i,r)return void(this.state=bg.STATE_NOT_DRAGGING);this.handleDragEnterEnd(e),this.checkInsertIndex(e),this.refreshGui()}}isPotentialDndItems(){return B(this.potentialDndItems)}handleDragLeaveEnd(e){}onDragLeave(e){if(this.state===bg.STATE_REARRANGE_ITEMS){const n=this.getItems(e.dragSource.getDragItem());this.removeItems(n)}this.isPotentialDndItems()&&(this.handleDragLeaveEnd(e),this.potentialDndItems=[],this.refreshGui()),this.state=bg.STATE_NOT_DRAGGING}refreshOnDragStop(){return!0}onDragStop(){if(this.isPotentialDndItems()){let e=!1;this.state===bg.STATE_NEW_ITEMS_IN?(this.addItems(this.potentialDndItems),e=!0):e=this.rearrangeItems(this.potentialDndItems),this.potentialDndItems=[],(this.refreshOnDragStop()||!e)&&this.refreshGui()}this.state=bg.STATE_NOT_DRAGGING}removeItems(e){const n=this.getExistingItems().filter(i=>!Nr(e,i));this.updateItems(n)}addItems(e){if(!e)return;const n=this.getExistingItems().slice(),i=e.filter(r=>n.indexOf(r)<0);cr(n,i,this.insertIndex),this.updateItems(n)}addItem(e){this.insertIndex=this.getExistingItems().length,this.addItems([e]),this.refreshGui()}rearrangeItems(e){const n=this.getNonGhostItems().slice();return cr(n,e,this.insertIndex),!ae(n,this.getExistingItems())&&(this.updateItems(n),!0)}refreshGui(){const e=this.ePillDropList.scrollTop,n=this.resizeEnabled,i=this.getFocusedItem();let r=this.focusService.findNextFocusableElement();r||(r=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addItemsToGui(),this.isHorizontal()||(this.ePillDropList.scrollTop=e),n&&this.toggleResizable(n),this.focusService.isKeyboardMode()&&this.restoreFocus(i,r)}getFocusedItem(){const e=this.getGui(),n=this.gridOptionsService.getDocument().activeElement;return e.contains(n)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(n):-1}restoreFocus(e,n){const i=this.getGui(),r=Array.from(i.querySelectorAll(".ag-column-drop-cell"));if(-1===e)return;0===r.length&&n.focus();const o=r[Math.min(r.length-1,e)];o&&o.focus()}focusList(e){this.restoreFocus(e?this.childPillComponents.length-1:0,this.getFocusableElement())}getNonGhostItems(){const e=this.getExistingItems();return this.isPotentialDndItems()?e.filter(n=>!Nr(this.potentialDndItems,n)):e}addItemsToGui(){const n=this.getNonGhostItems().map(i=>this.createItemComponent(i,!1));if(this.isPotentialDndItems()){const i=this.potentialDndItems.map(r=>this.createItemComponent(r,!0));this.insertIndex>=n.length?n.push(...i):n.splice(this.insertIndex,0,...i)}this.appendChild(this.ePillDropList),n.forEach((i,r)=>{r>0&&this.addArrow(this.ePillDropList),this.ePillDropList.appendChild(i.getGui())}),this.addAriaLabelsToComponents()}addAriaLabelsToComponents(){this.childPillComponents.forEach((e,n)=>{const i=e.getGui();FL(i,n+1),OL(i,this.childPillComponents.length)})}createItemComponent(e,n){const i=this.createPillComponent(e,this.dropTarget,n,this.horizontal);return i.addEventListener(Zye.EVENT_COLUMN_REMOVE,this.removeItems.bind(this,[e])),this.context.createBean(i),this.guiDestroyFunctions.push(()=>this.destroyBean(i)),n||this.childPillComponents.push(i),i}addIconAndTitleToGui(){const{title:e,icon:n}=this.params;if(!e||!n)return;const i=document.createElement("div");if(Ux(i,!0),this.addElementClasses(i,"title-bar"),this.addElementClasses(n,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingItemsEmpty()),i.appendChild(n),!this.horizontal){const r=document.createElement("span");this.addElementClasses(r,"title"),r.innerHTML=e,i.appendChild(r)}this.appendChild(i)}isExistingItemsEmpty(){return 0===this.getExistingItems().length}addEmptyMessageToGui(){const{emptyMessage:e}=this.params;if(!e||!this.isExistingItemsEmpty()||this.isPotentialDndItems())return;const n=document.createElement("span");n.innerHTML=e,this.addElementClasses(n,"empty-message"),this.ePillDropList.appendChild(n)}addArrow(e){if(this.horizontal){const i=ks(this.gridOptionsService.get("enableRtl")?"smallLeft":"smallRight",this.gridOptionsService);this.addElementClasses(i,"cell-separator"),e.appendChild(i)}}};v1.STATE_NOT_DRAGGING="notDragging",v1.STATE_NEW_ITEMS_IN="newItemsIn",v1.STATE_REARRANGE_ITEMS="rearrangeItems",N([Y("focusService")],v1.prototype,"focusService",2),N([Y("dragAndDropService")],v1.prototype,"dragAndDropService",2);var eCe=["touchstart","touchend","touchmove","touchcancel"],iie=class{constructor(t="javascript"){this.frameworkName=t,this.renderingEngine="vanilla",this.wrapIncoming=e=>e(),this.wrapOutgoing=e=>e()}setInterval(t,e){return new Tu(n=>{n(window.setInterval(t,e))})}addEventListener(t,e,n,i){const r=Nr(eCe,e);t.addEventListener(e,n,{capture:!!i,passive:r})}get shouldWrapOutgoing(){return!1}frameworkComponent(t){return null}isFrameworkComponent(t){return!1}getDocLink(t){return`https://www.ag-grid.com/${"solid"===this.frameworkName?"react":this.frameworkName}-data-grid${t?`/${t}`:""}`}},gy=class extends Jt{getNextCellToFocus(t,e,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(t,e):this.getNextCellToFocusWithoutCtrlPressed(t,e)}getNextCellToFocusWithCtrlPressed(t,e){const n=t===Qe.UP,r=t===Qe.LEFT;let s,o;if(n||t===Qe.DOWN)o=n?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),s=e.column;else{const c=this.columnModel.getAllDisplayedColumns(),d=this.gridOptionsService.get("enableRtl");o=e.rowIndex,s=r!==d?c[0]:q(c)}return{rowIndex:o,rowPinned:null,column:s}}getNextCellToFocusWithoutCtrlPressed(t,e){let n=e,i=!1;for(;!i;){switch(t){case Qe.UP:n=this.getCellAbove(n);break;case Qe.DOWN:n=this.getCellBelow(n);break;case Qe.RIGHT:n=this.gridOptionsService.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case Qe.LEFT:n=this.gridOptionsService.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,console.warn("AG Grid: unknown key for navigation "+t)}i=!n||this.isCellGoodToFocusOn(n)}return n}isCellGoodToFocusOn(t){const e=t.column;let n;switch(t.rowPinned){case"top":n=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case"bottom":n=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:n=this.rowModel.getRow(t.rowIndex)}return!!n&&!e.isSuppressNavigable(n)}getCellToLeft(t){if(!t)return null;const e=this.columnModel.getDisplayedColBefore(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null}getCellToRight(t){if(!t)return null;const e=this.columnModel.getDisplayedColAfter(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null}getRowBelow(t){const e=t.rowIndex,n=t.rowPinned;if(this.isLastRowInContainer(t))switch(n){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}const i=this.rowModel.getRow(t.rowIndex);return this.getNextStickyPosition(i)||{rowIndex:e+1,rowPinned:n}}getNextStickyPosition(t,e){if(!this.gridOptionsService.isGroupRowsSticky()||!t||!t.sticky)return;const n=[...this.rowRenderer.getStickyTopRowCtrls()].sort((o,c)=>o.getRowNode().rowIndex-c.getRowNode().rowIndex),i=e?-1:1,r=n.findIndex(o=>o.getRowNode().rowIndex===t.rowIndex),s=n[r+i];return s?{rowIndex:s.getRowNode().rowIndex,rowPinned:null}:void 0}getCellBelow(t){if(!t)return null;const e=this.getRowBelow(t);return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null}isLastRowInContainer(t){const e=t.rowPinned,n=t.rowIndex;return"top"===e?this.pinnedRowModel.getPinnedTopRowData().length-1<=n:"bottom"===e?this.pinnedRowModel.getPinnedBottomRowData().length-1<=n:this.paginationProxy.getPageLastRow()<=n}getRowAbove(t){const e=t.rowIndex,n=t.rowPinned;if(n?0===e:e===this.paginationProxy.getPageFirstRow())return"top"===n?null:n&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;const r=this.rowModel.getRow(t.rowIndex);return this.getNextStickyPosition(r,!0)||{rowIndex:e-1,rowPinned:n}}getCellAbove(t){if(!t)return null;const e=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}}getNextTabbedCell(t,e){return e?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)}getNextTabbedCellForwards(t){const e=this.columnModel.getAllDisplayedColumns();let n=t.rowIndex,i=t.rowPinned,r=this.columnModel.getDisplayedColAfter(t.column);if(!r){r=e[0];const s=this.getRowBelow(t);if(hi(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;n=s?s.rowIndex:null,i=s?s.rowPinned:null}return{rowIndex:n,column:r,rowPinned:i}}getNextTabbedCellBackwards(t){const e=this.columnModel.getAllDisplayedColumns();let n=t.rowIndex,i=t.rowPinned,r=this.columnModel.getDisplayedColBefore(t.column);if(!r){r=q(e);const s=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(hi(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;n=s?s.rowIndex:null,i=s?s.rowPinned:null}return{rowIndex:n,column:r,rowPinned:i}}};N([Y("columnModel")],gy.prototype,"columnModel",2),N([Y("rowModel")],gy.prototype,"rowModel",2),N([Y("rowRenderer")],gy.prototype,"rowRenderer",2),N([Y("pinnedRowModel")],gy.prototype,"pinnedRowModel",2),N([Y("paginationProxy")],gy.prototype,"paginationProxy",2),gy=N([bn("cellNavigationService")],gy);var Uw=class extends Jt{constructor(){super(...arguments),this.consuming=!1}setBeans(t){this.logger=t.create("AlignedGridsService")}getAlignedGridApis(){var t;let e=null!=(t=this.gridOptionsService.get("alignedGrids"))?t:[];const n="function"==typeof e;"function"==typeof e&&(e=e());const i=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map(s=>{var o;if(!s)return wu("alignedGrids contains an undefined option."),n||wu('You may want to configure via a callback to avoid setup race conditions:\n                     "alignedGrids: () => [linkedGrid]"'),void wu(i());if(s instanceof Qi)return s;const c=s;return"current"in c?null==(o=c.current)?void 0:o.api:(c.api||wu(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${i()}`),c.api)}).filter(s=>!!s&&!s.isDestroyed())}init(){this.addManagedListener(this.eventService,W.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,W.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))}fireEvent(t){this.consuming||this.getAlignedGridApis().forEach(e=>{const n=e.__getAlignedGridService();t(n)})}onEvent(t){this.consuming=!0,t(),this.consuming=!1}fireColumnEvent(t){this.fireEvent(e=>{e.onColumnEvent(t)})}fireScrollEvent(t){"horizontal"===t.direction&&this.fireEvent(e=>{e.onScrollEvent(t)})}onScrollEvent(t){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(t.left,!0)})}getMasterColumns(t){const e=[];return t.columns?t.columns.forEach(n=>{e.push(n)}):t.column&&e.push(t.column),e}getColumnIds(t){const e=[];return t.columns?t.columns.forEach(n=>{e.push(n.getColId())}):t.column&&e.push(t.column.getColId()),e}onColumnEvent(t){this.onEvent(()=>{switch(t.type){case W.EVENT_COLUMN_MOVED:case W.EVENT_COLUMN_VISIBLE:case W.EVENT_COLUMN_PINNED:case W.EVENT_COLUMN_RESIZED:this.processColumnEvent(t);break;case W.EVENT_COLUMN_GROUP_OPENED:this.processGroupOpenedEvent(t);break;case W.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})}processGroupOpenedEvent(t){t.columnGroups.forEach(e=>{let n=null;if(e){const i=e.getGroupId();n=this.columnModel.getProvidedColumnGroup(i)}e&&!n||(this.logger.log("onColumnEvent-> processing "+t+" expanded = "+e.isExpanded()),this.columnModel.setColumnGroupOpened(n,e.isExpanded(),"alignedGridChanged"))})}processColumnEvent(t){var e;const n=t.column;let i=null;if(n&&(i=this.columnModel.getPrimaryColumn(n.getColId())),n&&!i)return;const r=this.getMasterColumns(t);switch(t.type){case W.EVENT_COLUMN_MOVED:{const p=t,y=t.api.getColumnState().map(A=>({colId:A.colId}));this.columnModel.applyColumnState({state:y,applyOrder:!0},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${t.type} toIndex = ${p.toIndex}`)}break;case W.EVENT_COLUMN_VISIBLE:{const p=t,y=t.api.getColumnState().map(A=>({colId:A.colId,hide:A.hide}));this.columnModel.applyColumnState({state:y},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${t.type} visible = ${p.visible}`)}break;case W.EVENT_COLUMN_PINNED:{const p=t,y=t.api.getColumnState().map(A=>({colId:A.colId,pinned:A.pinned}));this.columnModel.applyColumnState({state:y},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${t.type} pinned = ${p.pinned}`)}break;case W.EVENT_COLUMN_RESIZED:const c=t,d={};r.forEach(p=>{this.logger.log(`onColumnEvent-> processing ${t.type} actualWidth = ${p.getActualWidth()}`),d[p.getId()]={key:p.getColId(),newWidth:p.getActualWidth()}}),null==(e=c.flexColumns)||e.forEach(p=>{d[p.getId()]&&delete d[p.getId()]}),this.columnModel.setColumnWidths(Object.values(d),!1,c.finished,"alignedGridChanged")}const o=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(c=>{c.setGridOption("alwaysShowVerticalScroll",o)})}};N([Y("columnModel")],Uw.prototype,"columnModel",2),N([Y("ctrlsService")],Uw.prototype,"ctrlsService",2),N([ld(0,Eu("loggerFactory"))],Uw.prototype,"setBeans",1),N([nn],Uw.prototype,"init",1),Uw=N([bn("alignedGridsService")],Uw);var Ww=class extends Jt{constructor(){super(...arguments),this.selectedNodes=new Map,this.lastRowNode=null}init(){this.rowSelection=this.gridOptionsService.get("rowSelection"),this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.deselectAllRowNodes({source:"api"})}),this.addManagedListener(this.eventService,W.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))}destroy(){super.destroy(),this.resetNodes(),this.lastRowNode=null}isMultiselect(){return"multiple"===this.rowSelection}setNodesSelected(t){var e;const{newValue:n,clearSelection:i,suppressFinishActions:r,rangeSelect:s,nodes:o,event:c,source:d="api"}=t;if(0===o.length)return 0;if(o.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;const p=this.groupSelectsChildren&&!0===t.groupSelectsFiltered,m=o.map(A=>A.footer?A.sibling:A);if(s){if(o.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;let A=null;if("checkboxSelected"===d&&!1===n&&this.lastRowNode&&(this.lastRowNode.id?A=this.lastRowNode:this.lastRowNode=null),null==A&&(A=this.getLastSelectedNode()),A){const k=m[0];if(k!==A&&this.isMultiselect())return this.selectRange(k,A,n,d)}}this.lastRowNode=n?null:m[0];let y=0;for(let A=0;A<m.length;A++){const k=m[A];p&&k.group||k.selectThisNode(n,c,d)&&y++,this.groupSelectsChildren&&null!=(e=k.childrenAfterGroup)&&e.length&&(y+=this.selectChildren(k,n,p,d))}return!r&&(n&&(i||!this.isMultiselect())&&(y+=this.clearOtherNodes(m[0],d)),y>0)&&(this.updateGroupsFromChildrenSelections(d),this.eventService.dispatchEvent({type:W.EVENT_SELECTION_CHANGED,source:d})),y}selectRange(t,e,n=!0,i){const r=this.rowModel.getNodesInRangeForSelection(t,e);let s=0;return r.forEach(c=>{c.group&&this.groupSelectsChildren||c.selectThisNode(n,void 0,i)&&s++}),this.updateGroupsFromChildrenSelections(i),this.eventService.dispatchEvent({type:W.EVENT_SELECTION_CHANGED,source:i}),s}selectChildren(t,e,n,i){const r=n?t.childrenAfterAggFilter:t.childrenAfterGroup;return hi(r)?0:this.setNodesSelected({newValue:e,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:n,source:i,nodes:r})}getLastSelectedNode(){const t=Array.from(this.selectedNodes.keys());return 0==t.length?null:this.selectedNodes.get(q(t))||null}getSelectedNodes(){const t=[];return this.selectedNodes.forEach(e=>{e&&t.push(e)}),t}getSelectedRows(){const t=[];return this.selectedNodes.forEach(e=>{e&&e.data&&t.push(e.data)}),t}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(t){const e=new Map;this.selectedNodes.forEach((n,i)=>{n&&t(n)&&e.set(i,n)}),this.selectedNodes=e}updateGroupsFromChildrenSelections(t,e){if(!this.groupSelectsChildren||"clientSide"!==this.rowModel.getType())return!1;const i=this.rowModel.getRootNode();e||(e=new ck(!0,i)).setInactive();let r=!1;return e.forEachChangedNodeDepthFirst(s=>{if(s!==i){const o=s.calculateSelectedFromChildren();r=s.selectThisNode(null!==o&&o,void 0,t)||r}}),r}clearOtherNodes(t,e){const n=new Map;let i=0;return this.selectedNodes.forEach(r=>{if(r&&r.id!==t.id){const s=this.selectedNodes.get(r.id);i+=s.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:e}),this.groupSelectsChildren&&r.parent&&n.set(r.parent.id,r.parent)}}),n.forEach(r=>{const s=r.calculateSelectedFromChildren();r.selectThisNode(null!==s&&s,void 0,e)}),i}onRowSelected(t){const e=t.node;this.groupSelectsChildren&&e.group||(e.isSelected()?this.selectedNodes.set(e.id,e):this.selectedNodes.delete(e.id))}syncInRowNode(t,e){this.syncInOldRowNode(t,e),this.syncInNewRowNode(t)}syncInOldRowNode(t,e){$t(e)&&t.id!==e.id&&e&&this.selectedNodes.get(e.id)==t&&this.selectedNodes.set(e.id,e)}syncInNewRowNode(t){this.selectedNodes.has(t.id)?(t.setSelectedInitialValue(!0),this.selectedNodes.set(t.id,t)):t.setSelectedInitialValue(!1)}reset(t){const e=this.getSelectionCount();this.resetNodes(),e&&this.eventService.dispatchEvent({type:W.EVENT_SELECTION_CHANGED,source:t})}resetNodes(){var t;null==(t=this.selectedNodes)||t.clear()}getBestCostNodeSelection(){if("clientSide"!==this.rowModel.getType())return;const e=this.rowModel.getTopLevelNodes();if(null===e)return;const n=[];return function i(r){for(let s=0,o=r.length;s<o;s++){const c=r[s];c.isSelected()?n.push(c):c.group&&c.children&&i(c.children)}}(e),n}isEmpty(){let t=0;return this.selectedNodes.forEach(e=>{e&&t++}),0===t}deselectAllRowNodes(t){const e=c=>c.selectThisNode(!1,void 0,i),n="clientSide"===this.rowModel.getType(),{source:i,justFiltered:r,justCurrentPage:s}=t;if(s||r){if(!n)return void console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(r,s).forEach(e)}else this.selectedNodes.forEach(c=>{c&&e(c)}),this.reset(i);n&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(i),this.eventService.dispatchEvent({type:W.EVENT_SELECTION_CHANGED,source:i})}getSelectedCounts(t,e){let n=0,i=0;return this.getNodesToSelect(t,e).forEach(s=>{this.groupSelectsChildren&&s.group||(s.isSelected()?n++:s.selectable&&i++)}),{selectedCount:n,notSelectedCount:i}}getSelectAllState(t,e){const{selectedCount:n,notSelectedCount:i}=this.getSelectedCounts(t,e);return(0!==n||0!==i)&&(n>0&&i>0?null:n>0)}hasNodesToSelect(t=!1,e=!1){return this.getNodesToSelect(t,e).filter(n=>n.selectable).length>0}getNodesToSelect(t=!1,e=!1){if("clientSide"!==this.rowModel.getType())throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const n=[];if(e)return this.paginationProxy.forEachNodeOnPage(r=>{if(r.group)if(r.expanded)this.groupSelectsChildren||n.push(r);else{const s=o=>{var c;n.push(o),null!=(c=o.childrenAfterFilter)&&c.length&&o.childrenAfterFilter.forEach(s)};s(r)}else n.push(r)}),n;const i=this.rowModel;return t?(i.forEachNodeAfterFilter(r=>{n.push(r)}),n):(i.forEachNode(r=>{n.push(r)}),n)}selectAllRowNodes(t){if("clientSide"!==this.rowModel.getType())throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const{source:e,justFiltered:n,justCurrentPage:i}=t;this.getNodesToSelect(n,i).forEach(o=>o.selectThisNode(!0,void 0,e)),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(e),this.eventService.dispatchEvent({type:W.EVENT_SELECTION_CHANGED,source:e})}getSelectionState(){const t=[];return this.selectedNodes.forEach(e=>{e?.id&&t.push(e.id)}),t.length?t:null}setSelectionState(t,e){if(!Array.isArray(t))return;const n=new Set(t),i=[];this.rowModel.forEachNode(r=>{n.has(r.id)&&i.push(r)}),this.setNodesSelected({newValue:!0,nodes:i,source:e})}};N([Y("rowModel")],Ww.prototype,"rowModel",2),N([Y("paginationProxy")],Ww.prototype,"paginationProxy",2),N([nn],Ww.prototype,"init",1),Ww=N([bn("selectionService")],Ww);var zw=class{constructor(t){this.viaApi=(e,...n)=>(ei(`Since v31, 'columnApi.${e}' is deprecated and moved to 'api.${e}'.`),this.api[e](...n)),this.api=t}sizeColumnsToFit(t){this.viaApi("sizeColumnsToFit",t)}setColumnGroupOpened(t,e){this.viaApi("setColumnGroupOpened",t,e)}getColumnGroup(t,e){return this.viaApi("getColumnGroup",t,e)}getProvidedColumnGroup(t){return this.viaApi("getProvidedColumnGroup",t)}getDisplayNameForColumn(t,e){return this.viaApi("getDisplayNameForColumn",t,e)}getDisplayNameForColumnGroup(t,e){return this.viaApi("getDisplayNameForColumnGroup",t,e)}getColumn(t){return this.viaApi("getColumn",t)}getColumns(){return this.viaApi("getColumns")}applyColumnState(t){return this.viaApi("applyColumnState",t)}getColumnState(){return this.viaApi("getColumnState")}resetColumnState(){this.viaApi("resetColumnState")}getColumnGroupState(){return this.viaApi("getColumnGroupState")}setColumnGroupState(t){this.viaApi("setColumnGroupState",t)}resetColumnGroupState(){this.viaApi("resetColumnGroupState")}isPinning(){return this.viaApi("isPinning")}isPinningLeft(){return this.viaApi("isPinningLeft")}isPinningRight(){return this.viaApi("isPinningRight")}getDisplayedColAfter(t){return this.viaApi("getDisplayedColAfter",t)}getDisplayedColBefore(t){return this.viaApi("getDisplayedColBefore",t)}setColumnVisible(t,e){this.viaApi("setColumnVisible",t,e)}setColumnsVisible(t,e){this.viaApi("setColumnsVisible",t,e)}setColumnPinned(t,e){this.viaApi("setColumnPinned",t,e)}setColumnsPinned(t,e){this.viaApi("setColumnsPinned",t,e)}getAllGridColumns(){return this.viaApi("getAllGridColumns")}getDisplayedLeftColumns(){return this.viaApi("getDisplayedLeftColumns")}getDisplayedCenterColumns(){return this.viaApi("getDisplayedCenterColumns")}getDisplayedRightColumns(){return this.viaApi("getDisplayedRightColumns")}getAllDisplayedColumns(){return this.viaApi("getAllDisplayedColumns")}getAllDisplayedVirtualColumns(){return this.viaApi("getAllDisplayedVirtualColumns")}moveColumn(t,e){this.viaApi("moveColumn",t,e)}moveColumnByIndex(t,e){this.viaApi("moveColumnByIndex",t,e)}moveColumns(t,e){this.viaApi("moveColumns",t,e)}moveRowGroupColumn(t,e){this.viaApi("moveRowGroupColumn",t,e)}setColumnAggFunc(t,e){this.viaApi("setColumnAggFunc",t,e)}setColumnWidth(t,e,n=!0,i){this.viaApi("setColumnWidth",t,e,n,i)}setColumnWidths(t,e=!0,n){this.viaApi("setColumnWidths",t,e,n)}setPivotMode(t){this.viaApi("setPivotMode",t)}isPivotMode(){return this.viaApi("isPivotMode")}getPivotResultColumn(t,e){return this.viaApi("getPivotResultColumn",t,e)}setValueColumns(t){this.viaApi("setValueColumns",t)}getValueColumns(){return this.viaApi("getValueColumns")}removeValueColumn(t){this.viaApi("removeValueColumn",t)}removeValueColumns(t){this.viaApi("removeValueColumns",t)}addValueColumn(t){this.viaApi("addValueColumn",t)}addValueColumns(t){this.viaApi("addValueColumns",t)}setRowGroupColumns(t){this.viaApi("setRowGroupColumns",t)}removeRowGroupColumn(t){this.viaApi("removeRowGroupColumn",t)}removeRowGroupColumns(t){this.viaApi("removeRowGroupColumns",t)}addRowGroupColumn(t){this.viaApi("addRowGroupColumn",t)}addRowGroupColumns(t){this.viaApi("addRowGroupColumns",t)}getRowGroupColumns(){return this.viaApi("getRowGroupColumns")}setPivotColumns(t){this.viaApi("setPivotColumns",t)}removePivotColumn(t){this.viaApi("removePivotColumn",t)}removePivotColumns(t){this.viaApi("removePivotColumns",t)}addPivotColumn(t){this.viaApi("addPivotColumn",t)}addPivotColumns(t){this.viaApi("addPivotColumns",t)}getPivotColumns(){return this.viaApi("getPivotColumns")}getLeftDisplayedColumnGroups(){return this.viaApi("getLeftDisplayedColumnGroups")}getCenterDisplayedColumnGroups(){return this.viaApi("getCenterDisplayedColumnGroups")}getRightDisplayedColumnGroups(){return this.viaApi("getRightDisplayedColumnGroups")}getAllDisplayedColumnGroups(){return this.viaApi("getAllDisplayedColumnGroups")}autoSizeColumn(t,e){return this.viaApi("autoSizeColumn",t,e)}autoSizeColumns(t,e){this.viaApi("autoSizeColumns",t,e)}autoSizeAllColumns(t){this.viaApi("autoSizeAllColumns",t)}setPivotResultColumns(t){this.viaApi("setPivotResultColumns",t)}getPivotResultColumns(){return this.viaApi("getPivotResultColumns")}};N([Y("gridApi")],zw.prototype,"api",2),zw=N([bn("columnApi")],zw);var my=class extends Jt{constructor(){super(...arguments),this.initialised=!1,this.isSsrm=!1}init(){this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.get("enableCellExpressions"),this.isTreeData=this.gridOptionsService.get("treeData"),this.initialised=!0;const t=n=>this.callColumnCellValueChangedHandler(n),e=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(W.EVENT_CELL_VALUE_CHANGED,t,e),this.addDestroyFunc(()=>this.eventService.removeEventListener(W.EVENT_CELL_VALUE_CHANGED,t,e)),this.addManagedPropertyListener("treeData",n=>this.isTreeData=n.currentValue)}getValue(t,e,n=!1,i=!1){if(this.initialised||this.init(),!e)return;const r=t.getColDef(),s=r.field,o=t.getColId(),c=e.data;let d;const p=e.groupData&&void 0!==e.groupData[o],m=!i&&e.aggData&&void 0!==e.aggData[o],y=this.isSsrm&&i&&!!t.getColDef().aggFunc,A=this.isSsrm&&e.footer&&e.field&&(!0===t.getColDef().showRowGroup||t.getColDef().showRowGroup===e.field);if(n&&r.filterValueGetter?d=this.executeFilterValueGetter(r.filterValueGetter,c,t,e):this.isTreeData&&m?d=e.aggData[o]:this.isTreeData&&r.valueGetter?d=this.executeValueGetter(r.valueGetter,c,t,e):this.isTreeData&&s&&c?d=zm(c,s,t.isFieldContainsDots()):p?d=e.groupData[o]:m?d=e.aggData[o]:r.valueGetter?d=this.executeValueGetter(r.valueGetter,c,t,e):A?d=zm(c,e.field,t.isFieldContainsDots()):s&&c&&!y&&(d=zm(c,s,t.isFieldContainsDots())),this.cellExpressions&&"string"==typeof d&&0===d.indexOf("=")){const k=d.substring(1);d=this.executeValueGetter(k,c,t,e)}if(null==d){const k=this.getOpenedGroup(e,t);if(null!=k)return k}return d}getOpenedGroup(t,e){if(!this.gridOptionsService.get("showOpenedGroup")||!e.getColDef().showRowGroup)return;const i=e.getColDef().showRowGroup;let r=t.parent;for(;null!=r;){if(r.rowGroupColumn&&(!0===i||i===r.rowGroupColumn.getColId()))return r.key;r=r.parent}}setValue(t,e,n,i){const r=this.columnModel.getPrimaryColumn(e);if(!t||!r)return!1;hi(t.data)&&(t.data={});const{field:s,valueSetter:o}=r.getColDef();if(hi(s)&&hi(o))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(r,n))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;const c=this.gridOptionsService.addGridCommonParams({node:t,data:t.data,oldValue:this.getValue(r,t),newValue:n,colDef:r.getColDef(),column:r});let d;return c.newValue=n,d=$t(o)?"function"==typeof o?o(c):this.expressionService.evaluate(o,c):this.setValueUsingField(t.data,s,n,r.isFieldContainsDots()),void 0===d&&(d=!0),!!d&&(t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),c.newValue=this.getValue(r,t),this.eventService.dispatchEvent({type:W.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:c.column,api:c.api,columnApi:c.columnApi,colDef:c.colDef,context:c.context,data:t.data,node:t,oldValue:c.oldValue,newValue:c.newValue,value:c.newValue,source:i}),!0)}callColumnCellValueChangedHandler(t){const e=t.colDef.onCellValueChanged;"function"==typeof e&&this.getFrameworkOverrides().wrapOutgoing(()=>{e({node:t.node,data:t.data,oldValue:t.oldValue,newValue:t.newValue,colDef:t.colDef,column:t.column,api:t.api,columnApi:t.columnApi,context:t.context})})}setValueUsingField(t,e,n,i){if(!e)return!1;let r=!1;if(i){const s=e.split(".");let o=t;for(;s.length>0&&o;){const c=s.shift();0===s.length?(r=o[c]===n,r||(o[c]=n)):o=o[c]}}else r=t[e]===n,r||(t[e]=n);return!r}executeFilterValueGetter(t,e,n,i){const r=this.gridOptionsService.addGridCommonParams({data:e,node:i,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,i)});return"function"==typeof t?t(r):this.expressionService.evaluate(t,r)}executeValueGetter(t,e,n,i){const r=n.getColId(),s=this.valueCache.getValue(i,r);if(void 0!==s)return s;const o=this.gridOptionsService.addGridCommonParams({data:e,node:i,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,i)});let c;return c="function"==typeof t?t(o):this.expressionService.evaluate(t,o),this.valueCache.setValue(i,r,c),c}getValueCallback(t,e){const n=this.columnModel.getPrimaryColumn(e);return n?this.getValue(n,t):null}getKeyForNode(t,e){const n=this.getValue(t,e),i=t.getColDef().keyCreator;let r=n;return i&&(r=i(this.gridOptionsService.addGridCommonParams({value:n,colDef:t.getColDef(),column:t,node:e,data:e.data}))),"string"==typeof r||null==r||(r=String(r),"[object Object]"===r&&ei("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),r}};N([Y("expressionService")],my.prototype,"expressionService",2),N([Y("columnModel")],my.prototype,"columnModel",2),N([Y("valueCache")],my.prototype,"valueCache",2),N([Y("dataTypeService")],my.prototype,"dataTypeService",2),N([nn],my.prototype,"init",1),my=N([bn("valueService")],my);var fk=class extends Jt{constructor(){super(...arguments),this.expressionToFunctionCache={}}setBeans(t){this.logger=t.create("ExpressionService")}evaluate(t,e){if("string"==typeof t)return this.evaluateExpression(t,e);console.error("AG Grid: value should be either a string or a function",t)}evaluateExpression(t,e){try{return this.createExpressionFunction(t)(e.value,e.context,e.oldValue,e.newValue,e.value,e.node,e.data,e.colDef,e.rowIndex,e.api,e.columnApi,e.getValue,e.column,e.columnGroup)}catch(n){return console.log("Processing of the expression failed"),console.log("Expression = "+t),console.log("Params =",e),console.log("Exception = "+n),null}}createExpressionFunction(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];const e=this.createFunctionBody(t),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",e);return this.expressionToFunctionCache[t]=n,n}createFunctionBody(t){return t.indexOf("return")>=0?t:"return "+t+";"}};N([ld(0,Eu("loggerFactory"))],fk.prototype,"setBeans",1),fk=N([bn("expressionService")],fk);var W3=class extends Jt{constructor(){super(...arguments),this.templateCache={},this.waitingCallbacks={}}getTemplate(t,e){const n=this.templateCache[t];if(n)return n;let i=this.waitingCallbacks[t];const r=this;if(!i){i=[],this.waitingCallbacks[t]=i;const s=new XMLHttpRequest;s.onload=function(){r.handleHttpResult(this,t)},s.open("GET",t),s.send()}return e&&i.push(e),null}handleHttpResult(t,e){if(200!==t.status||null===t.response)return void console.warn(`AG Grid: Unable to get template error ${t.status} - ${e}`);this.templateCache[e]=t.response||t.responseText;const n=this.waitingCallbacks[e];for(let i=0;i<n.length;i++)(0,n[i])()}};W3=N([bn("templateService")],W3);var pk=class extends Jt{setBeans(t){this.logging=t.get("debug")}create(t){return new z3(t,this.isLogging.bind(this))}isLogging(){return this.logging}};N([ld(0,Eu("gridOptionsService"))],pk.prototype,"setBeans",1),pk=N([bn("loggerFactory")],pk);var z3=class{constructor(t,e){this.name=t,this.isLoggingFunc=e}isLogging(){return this.isLoggingFunc()}log(t){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+t)}},jw=class extends Jt{setComp(t,e,n){this.view=t,this.eGridHostDiv=e,this.eGui=n,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:r=>1===r||0===r,getIconName:()=>Di.ICON_NOT_ALLOWED}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(e),this.createManagedBean(new ek(this.view)),this.addRtlSupport();const i=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>i()),this.ctrlsService.registerGridCtrl(this)}isDetailGrid(){var t;const e=this.focusService.findTabbableParent(this.getGui());return(null==(t=e?.getAttribute("row-id"))?void 0:t.startsWith("detail"))||!1}showDropZones(){return Mr.__isRegistered("@ag-grid-enterprise/row-grouping",this.context.getGridId())}showSideBar(){return Mr.__isRegistered("@ag-grid-enterprise/side-bar",this.context.getGridId())}showStatusBar(){return Mr.__isRegistered("@ag-grid-enterprise/status-bar",this.context.getGridId())}showWatermark(){return Mr.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId())}onGridSizeChanged(){this.eventService.dispatchEvent({type:W.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}addRtlSupport(){const t=this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(t)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(t){this.view.setCursor(t?"ew-resize":null)}disableUserSelect(t){this.view.setUserSelect(t?"none":null)}focusNextInnerContainer(t){const e=this.gridOptionsService.getDocument(),n=this.view.getFocusableContainers(),r=n.findIndex(s=>s.contains(e.activeElement))+(t?-1:1);return!(r<=0||r>=n.length)&&this.focusService.focusInto(n[r])}focusInnerElement(t){const e=this.view.getFocusableContainers(),n=this.columnModel.getAllDisplayedColumns();if(t){if(e.length>1)return this.focusService.focusInto(q(e),!0);const i=q(n);if(this.focusService.focusGridView(i,!0))return!0}if(0===this.gridOptionsService.get("headerHeight")||this.gridOptionsService.get("suppressHeaderFocus")){if(this.focusService.focusGridView(n[0]))return!0;for(let i=1;i<e.length;i++)if(this.focusService.focusInto(e[i]))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(t=!1){this.view.forceFocusOutOfContainer(t)}};N([Y("focusService")],jw.prototype,"focusService",2),N([Y("resizeObserverService")],jw.prototype,"resizeObserverService",2),N([Y("columnModel")],jw.prototype,"columnModel",2),N([Y("ctrlsService")],jw.prototype,"ctrlsService",2),N([Y("mouseEventService")],jw.prototype,"mouseEventService",2),N([Y("dragAndDropService")],jw.prototype,"dragAndDropService",2);var $w=class extends d1{constructor(t){super(),this.eGridDiv=t}postConstruct(){this.logger=this.loggerFactory.create("GridComp");const t={destroyGridUi:()=>this.destroyBean(this),setRtlClass:n=>this.addCssClass(n),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:n=>{this.getGui().style.userSelect=n??"",this.getGui().style.webkitUserSelect=n??""},setCursor:n=>{this.getGui().style.cursor=n??""}};this.ctrl=this.createManagedBean(new jw);const e=this.createTemplate();this.setTemplate(e),this.ctrl.setComp(t,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:n=>this.ctrl.focusInnerElement(n),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){const t=this.getGui();this.eGridDiv.appendChild(t),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(t),this.logger.log("Grid removed from DOM")})}updateLayoutClasses(t,e){const n=this.eRootWrapperBody.classList;n.toggle("ag-layout-auto-height",e.autoHeight),n.toggle("ag-layout-normal",e.normal),n.toggle("ag-layout-print",e.print),this.addOrRemoveCssClass("ag-layout-auto-height",e.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",e.normal),this.addOrRemoveCssClass("ag-layout-print",e.print)}createTemplate(){return`<div class="ag-root-wrapper" role="presentation">\n                ${this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":""}\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    ${this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':""}\n                </div>\n                ${this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':""}\n                <ag-pagination></ag-pagination>\n                ${this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":""}\n            </div>`}getFocusableElement(){return this.eRootWrapperBody}getFocusableContainers(){const t=[this.gridBodyComp.getGui()];return this.sideBarComp&&t.push(this.sideBarComp.getGui()),t.filter(e=>cd(e))}};N([Y("loggerFactory")],$w.prototype,"loggerFactory",2),N([fn("gridBody")],$w.prototype,"gridBodyComp",2),N([fn("sideBar")],$w.prototype,"sideBarComp",2),N([fn("rootWrapperBody")],$w.prototype,"eRootWrapperBody",2),N([nn],$w.prototype,"postConstruct",1);var qw=class extends Jt{progressSort(t,e,n){const i=this.getNextSortDirection(t);this.setSortForColumn(t,i,e,n)}setSortForColumn(t,e,n,i){"asc"!==e&&"desc"!==e&&(e=null);let s=[t];if(this.gridOptionsService.isColumnsSortingCoupledToGroup()&&t.getColDef().showRowGroup){const d=this.columnModel.getSourceColumnsForGroupColumn(t),p=d?.filter(m=>m.isSortable());p&&(s=[t,...p])}s.forEach(d=>d.setSort(e,i));const c=[];if(!n&&!this.gridOptionsService.get("alwaysMultiSort")||this.gridOptionsService.get("suppressMultiSort")){const d=this.clearSortBarTheseColumns(s,i);c.push(...d)}this.updateSortIndex(t),c.push(...s),this.dispatchSortChangedEvents(i,c)}updateSortIndex(t){const e=this.gridOptionsService.isColumnsSortingCoupledToGroup(),n=this.columnModel.getGroupDisplayColumnForGroup(t.getId()),i=e&&n||t,r=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(c=>c.setSortIndex(null));const s=r.filter(c=>!(e&&c.getColDef().showRowGroup||c===i));(i.getSort()?[...s,i]:s).forEach((c,d)=>{c.setSortIndex(d)})}onSortChanged(t,e){this.dispatchSortChangedEvents(t,e)}isSortActive(){const e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(n=>!!n.getSort());return e&&e.length>0}dispatchSortChangedEvents(t,e){const n={type:W.EVENT_SORT_CHANGED,source:t};e&&(n.columns=e),this.eventService.dispatchEvent(n)}clearSortBarTheseColumns(t,e){const n=[];return this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(i=>{t.includes(i)||(i.getSort()&&n.push(i),i.setSort(void 0,e))}),n}getNextSortDirection(t){let e;if(e=t.getColDef().sortingOrder?t.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?this.gridOptionsService.get("sortingOrder"):qw.DEFAULT_SORTING_ORDER,!Array.isArray(e)||e.length<=0)return console.warn(`AG Grid: sortingOrder must be an array with at least one element, currently it's ${e}`),null;const n=e.indexOf(t.getSort());let s;return s=n<0||n==e.length-1?e[0]:e[n+1],qw.DEFAULT_SORTING_ORDER.indexOf(s)<0?(console.warn("AG Grid: invalid sort type "+s),null):s}getIndexedSortMap(){let t=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(s=>!!s.getSort());if(this.columnModel.isPivotMode()){const s=this.gridOptionsService.isColumnsSortingCoupledToGroup();t=t.filter(o=>{const c=!!o.getAggFunc(),d=!o.isPrimary(),p=s?this.columnModel.getGroupDisplayColumnForGroup(o.getId()):o.getColDef().showRowGroup;return c||d||p})}const e=this.columnModel.getRowGroupColumns().filter(s=>!!s.getSort()),n={};t.forEach((s,o)=>n[s.getId()]=o),t.sort((s,o)=>{const c=s.getSortIndex(),d=o.getSortIndex();return null!=c&&null!=d?c-d:null==c&&null==d?n[s.getId()]>n[o.getId()]?1:-1:null==d?-1:1});const i=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!e.length;i&&(t=[...new Set(t.map(s=>{var o;return null!=(o=this.columnModel.getGroupDisplayColumnForGroup(s.getId()))?o:s}))]);const r=new Map;return t.forEach((s,o)=>r.set(s,o)),i&&e.forEach(s=>{const o=this.columnModel.getGroupDisplayColumnForGroup(s.getId());r.set(s,r.get(o))}),r}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([t,e],[n,i])=>e-i).map(([t])=>t)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(t=>t.getSort()).map(t=>({sort:t.getSort(),colId:t.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(t=>t.getSort()).map(t=>({sort:t.getSort(),column:t}))}canColumnDisplayMixedSort(t){const e=this.gridOptionsService.isColumnsSortingCoupledToGroup(),n=!!t.getColDef().showRowGroup;return e&&n}getDisplaySortForColumn(t){const e=this.columnModel.getSourceColumnsForGroupColumn(t);if(!this.canColumnDisplayMixedSort(t)||!e?.length)return t.getSort();const i=null!=t.getColDef().field||t.getColDef().valueGetter?[t,...e]:e,r=i[0].getSort();return i.every(o=>o.getSort()==r)?r:"mixed"}getDisplaySortIndexForColumn(t){return this.getIndexedSortMap().get(t)}};qw.DEFAULT_SORTING_ORDER=["asc","desc",null],N([Y("columnModel")],qw.prototype,"columnModel",2),qw=N([bn("sortController")],qw);var ts=class extends Jt{static addKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",ts.toggleKeyboardMode),t.addEventListener("mousedown",ts.toggleKeyboardMode))}static removeKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",ts.toggleKeyboardMode),t.addEventListener("mousedown",ts.toggleKeyboardMode))}static toggleKeyboardMode(t){const n="keydown"===t.type;n&&(t.ctrlKey||t.metaKey||t.altKey)||ts.keyboardModeActive!==n&&(ts.keyboardModeActive=n)}static unregisterGridCompController(t){ts.removeKeyboardModeEvents(t)}init(){const t=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_GROUP_OPENED,t),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(e=>{this.gridCtrl=e.gridCtrl})}registerKeyboardFocusEvents(){const t=this.gridOptionsService.getDocument();ts.addKeyboardModeEvents(t),ts.instanceCount++,this.addDestroyFunc(()=>{ts.instanceCount--,ts.unregisterGridCompController(t)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const t=this.focusedCellPosition.column,e=this.columnModel.getGridColumn(t.getId());t!==e&&this.clearFocusedCell()}isKeyboardMode(){return ts.keyboardModeActive}getFocusCellToUseAfterRefresh(){const t=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(t.activeElement,Mw.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){const t=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(t.activeElement,sk.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(t,e){let n=t;for(;n;){if(this.gridOptionsService.getDomData(n,e))return!1;n=n.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(t){return!!this.isCellRestoreFocused(t)&&(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0)}isCellRestoreFocused(t){return null!=this.restoredFocusedCellPosition&&this.cellPositionUtils.equals(t,this.restoredFocusedCellPosition)}setRestoreFocusedCell(t){"react"===this.getFrameworkOverrides().renderingEngine&&(this.restoredFocusedCellPosition=t)}getFocusEventParams(){const{rowIndex:t,rowPinned:e,column:n}=this.focusedCellPosition,i={rowIndex:t,rowPinned:e,column:n,isFullWidthCell:!1},r=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:e});return r&&(i.isFullWidthCell=r.isFullWidth()),i}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,null==this.focusedCellPosition)return;const t=Yn({type:W.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(t)}setFocusedCell(t){const{column:e,rowIndex:n,rowPinned:i,forceBrowserFocus:r=!1,preventScrollOnBrowserFocus:s=!1}=t,o=this.columnModel.getGridColumn(e);if(!o)return void(this.focusedCellPosition=null);this.focusedCellPosition=o?{rowIndex:n,rowPinned:nh(i),column:o}:null;const c=ms(Yn({type:W.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:r,preventScrollOnBrowserFocus:s,floating:null});this.eventService.dispatchEvent(c)}isCellFocused(t){return null!=this.focusedCellPosition&&this.cellPositionUtils.equals(t,this.focusedCellPosition)}isRowNodeFocused(t){return this.isRowFocused(t.rowIndex,t.rowPinned)}isHeaderWrapperFocused(t){if(null==this.focusedHeaderPosition)return!1;const e=t.getColumnGroupChild(),n=t.getRowIndex(),i=t.getPinned(),{column:r,headerRowIndex:s}=this.focusedHeaderPosition;return e===r&&n===s&&i==r.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(t,e){this.focusedHeaderPosition={headerRowIndex:t,column:e}}focusHeaderPosition(t){if(this.gridOptionsService.get("suppressHeaderFocus"))return!1;const{direction:e,fromTab:n,allowUserOverride:i,event:r,fromCell:s,rowWithoutSpanValue:o}=t;let{headerPosition:c}=t;if(s&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(c);if(i){const m=this.getFocusedHeader(),y=this.headerNavigationService.getHeaderRowCount();if(n){const A=this.gridOptionsService.getCallback("tabToNextHeader");A&&(c=A({backwards:"Before"===e,previousHeaderPosition:m,nextHeaderPosition:c,headerRowCount:y}))}else{const A=this.gridOptionsService.getCallback("navigateToNextHeader");A&&r&&(c=A({key:r.key,previousHeaderPosition:m,nextHeaderPosition:c,headerRowCount:y,event:r}))}}if(!c)return!1;if(-1===c.headerRowIndex)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(c):this.focusGridView(c.column);this.headerNavigationService.scrollToColumn(c.column,e);const p=this.ctrlsService.getHeaderRowContainerCtrl(c.column.getPinned()).focusHeader(c.headerRowIndex,c.column,r);return p&&(null!=o||s)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(o??-1),p}focusFirstHeader(){let t=this.columnModel.getAllDisplayedColumns()[0];if(!t)return!1;t.getParent()&&(t=this.columnModel.getColumnGroupAtLevel(t,0));const e=this.headerPositionUtils.getHeaderIndexToFocus(t,0);return this.focusHeaderPosition({headerPosition:e,rowWithoutSpanValue:0})}focusLastHeader(t){const e=this.headerNavigationService.getHeaderRowCount()-1,n=q(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:e,column:n},rowWithoutSpanValue:-1,event:t})}focusPreviousFromFirstCell(t){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(t)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(t,e){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===nh(e)}findFocusableElements(t,e,n=!1){let r=n3;e&&(r+=", "+e),n&&(r+=', [tabindex="-1"]');const s=Array.prototype.slice.apply(t.querySelectorAll($te)).filter(d=>cd(d)),o=Array.prototype.slice.apply(t.querySelectorAll(r));return o.length?(p=o,s.filter(m=>-1===p.indexOf(m))):s;var p}focusInto(t,e=!1,n=!1){const i=this.findFocusableElements(t,null,n),r=e?q(i):i[0];return!!r&&(r.focus({preventScroll:!0}),!0)}findFocusableElementBeforeTabGuard(t,e){if(!e)return null;const n=this.findFocusableElements(t),i=n.indexOf(e);if(-1===i)return null;let r=-1;for(let s=i-1;s>=0;s--)if(n[s].classList.contains("ag-tab-guard-top")){r=s;break}return r<=0?null:n[r-1]}findNextFocusableElement(t=this.eGridDiv,e,n){const i=this.findFocusableElements(t,e?':not([tabindex="-1"])':null),s=this.gridOptionsService.getDocument().activeElement;let o;o=e?i.findIndex(d=>d.contains(s)):i.indexOf(s);const c=o+(n?-1:1);return c<0||c>=i.length?null:i[c]}isTargetUnderManagedComponent(t,e){if(!e)return!1;const n=t.querySelectorAll(`.${cy.FOCUS_MANAGED_CLASS}`);if(!n.length)return!1;for(let i=0;i<n.length;i++)if(n[i].contains(e))return!0;return!1}findTabbableParent(t,e=5){let n=0;for(;t&&null===GL(t)&&++n<=e;)t=t.parentElement;return null===GL(t)?null:t}focusGridView(t,e){if(this.gridOptionsService.get("suppressCellFocus"))return e?this.gridOptionsService.get("suppressHeaderFocus")?this.focusNextGridCoreContainer(!0,!0):this.focusLastHeader():this.focusNextGridCoreContainer(!1);const n=e?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!n)return!1;const{rowIndex:i,rowPinned:r}=n,s=this.getFocusedHeader();return!t&&s&&(t=s.column),!(null==i||!t)&&(this.navigationService.ensureCellVisible({rowIndex:i,column:t,rowPinned:r}),this.setFocusedCell({rowIndex:i,column:t,rowPinned:nh(r),forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:i,rowPinned:r,column:t}),!0)}focusNextGridCoreContainer(t,e=!1){return!(e||!this.gridCtrl.focusNextInnerContainer(t))||((e||!t&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(t),!1)}focusAdvancedFilter(t){return this.advancedFilterFocusColumn=t?.column,this.advancedFilterService.getCtrl().focusHeaderComp()}focusNextFromAdvancedFilter(t,e){var n,i;const r=null!=(i=e?void 0:this.advancedFilterFocusColumn)?i:null==(n=this.columnModel.getAllDisplayedColumns())?void 0:n[0];return t?this.focusHeaderPosition({headerPosition:{column:r,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(r)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}};ts.keyboardModeActive=!1,ts.instanceCount=0,N([Y("eGridDiv")],ts.prototype,"eGridDiv",2),N([Y("columnModel")],ts.prototype,"columnModel",2),N([Y("headerNavigationService")],ts.prototype,"headerNavigationService",2),N([Y("headerPositionUtils")],ts.prototype,"headerPositionUtils",2),N([Y("rowRenderer")],ts.prototype,"rowRenderer",2),N([Y("rowPositionUtils")],ts.prototype,"rowPositionUtils",2),N([Y("cellPositionUtils")],ts.prototype,"cellPositionUtils",2),N([lr("rangeService")],ts.prototype,"rangeService",2),N([Y("navigationService")],ts.prototype,"navigationService",2),N([Y("ctrlsService")],ts.prototype,"ctrlsService",2),N([Y("filterManager")],ts.prototype,"filterManager",2),N([lr("advancedFilterService")],ts.prototype,"advancedFilterService",2),N([nn],ts.prototype,"init",1),ts=N([bn("focusService")],ts);var j3=class extends Jt{setMouseOver(t){this.selectedColumns=t,this.eventService.dispatchEvent({type:W.EVENT_COLUMN_HOVER_CHANGED})}clearMouseOver(){this.selectedColumns=null,this.eventService.dispatchEvent({type:W.EVENT_COLUMN_HOVER_CHANGED})}isHovered(t){return!!this.selectedColumns&&this.selectedColumns.indexOf(t)>=0}};j3=N([bn("columnHoverService")],j3);var _1=class extends Jt{constructor(){super(...arguments),this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.ctrlsService.whenReady(t=>this.gridBodyCtrl=t.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(t){this.suppressAnimation=t}start(){this.active||this.gridOptionsService.get("suppressColumnMoveAnimation")||this.gridOptionsService.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)}finish(){this.active&&this.flush(()=>{this.active=!1})}executeNextVMTurn(t){this.active?this.executeNextFuncs.push(t):t()}executeLaterVMTurn(t){this.active?this.executeLaterFuncs.push(t):t()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const t=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===t&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(t){if(0===this.executeNextFuncs.length&&0===this.executeLaterFuncs.length)return void t();const e=n=>{for(;n.length;){const i=n.pop();i&&i()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>e(this.executeNextFuncs),0),window.setTimeout(()=>{e(this.executeLaterFuncs),t()},200)})}};N([Y("ctrlsService")],_1.prototype,"ctrlsService",2),N([nn],_1.prototype,"postConstruct",1),_1=N([bn("columnAnimationService")],_1);var BI=class extends Jt{postConstruct(){this.ctrlsService.whenReady(t=>{this.centerRowContainerCon=t.centerRowContainerCtrl,this.addManagedListener(this.eventService,W.EVENT_BODY_HEIGHT_CHANGED,this.checkPageSize.bind(this)),this.addManagedListener(this.eventService,W.EVENT_SCROLL_VISIBILITY_CHANGED,this.checkPageSize.bind(this)),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gridOptionsService.get("paginationAutoPageSize")||null==this.centerRowContainerCon}onPaginationAutoSizeChanged(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const t=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(t>0){const e=()=>{const n=this.gridOptionsService.getRowHeightAsNumber(),i=Math.floor(t/n);this.paginationProxy.setPageSize(i,"autoCalculated")};this.isBodyRendered?vl(()=>e(),50)():(e(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};N([Y("ctrlsService")],BI.prototype,"ctrlsService",2),N([Y("paginationProxy")],BI.prototype,"paginationProxy",2),N([nn],BI.prototype,"postConstruct",1),BI=N([bn("paginationAutoPageSizeService")],BI);var gk=class extends Jt{constructor(){super(...arguments),this.cacheVersion=0}init(){this.active=this.gridOptionsService.get("valueCache"),this.neverExpires=this.gridOptionsService.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(t,e,n){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[e]=n)}getValue(t,e){if(this.active&&t.__cacheVersion===this.cacheVersion)return t.__cacheData[e]}};N([nn],gk.prototype,"init",1),gk=N([bn("valueCache")],gk);var HI=class extends Jt{init(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,W.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))}onCellValueChanged(t){"paste"!==t.source&&this.doChangeDetection(t.node,t.column)}doChangeDetection(t,e){if(this.gridOptionsService.get("suppressChangeDetection"))return;const n=[t];if(this.clientSideRowModel&&!t.isRowPinned()){const i=this.gridOptionsService.get("aggregateOnlyChangedColumns"),r=new ck(i,this.clientSideRowModel.getRootNode());r.addParentNode(t.parent,[e]),this.clientSideRowModel.doAggregate(r),r.forEachChangedNodeDepthFirst(s=>{n.push(s)})}this.rowRenderer.refreshCells({rowNodes:n})}};N([Y("rowModel")],HI.prototype,"rowModel",2),N([Y("rowRenderer")],HI.prototype,"rowRenderer",2),N([nn],HI.prototype,"init",1),HI=N([bn("changeDetectionService")],HI);var mk=class extends Jt{adaptFunction(t,e){const n=this.componentMetadataProvider.retrieve(t);return n&&n.functionAdapter?n.functionAdapter(e):null}adaptCellRendererFunction(t){return class e{refresh(i){return!1}getGui(){return this.eGui}init(i){const r=t(i),s=typeof r;this.eGui="string"!==s&&"number"!==s&&"boolean"!==s?null!=r?r:Iu("<span></span>"):Iu("<span>"+r+"</span>")}}}doesImplementIComponent(t){return!!t&&t.prototype&&"getGui"in t.prototype}};N([Y("componentMetadataProvider")],mk.prototype,"componentMetadataProvider",2),mk=N([bn("agComponentUtils")],mk);var y1=class extends Jt{postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(t){return this.componentMetaData[t]}};N([Y("agComponentUtils")],y1.prototype,"agComponentUtils",2),N([nn],y1.prototype,"postConstruct",1),y1=N([bn("componentMetadataProvider")],y1);var sCe={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:260}},oie={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},C1=class extends Jt{constructor(){super(...arguments),this.calculatedSizes={}}postConstruct(){var t;const e=null!=(t=this.getTheme().el)?t:this.eGridDiv;this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.mutationObserver=new MutationObserver(()=>{this.calculatedSizes={},this.fireGridStylesChangedEvent()}),this.mutationObserver.observe(e||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})}fireGridStylesChangedEvent(){this.eventService.dispatchEvent({type:W.EVENT_GRID_STYLES_CHANGED})}getSassVariable(t){const{themeFamily:e,el:n}=this.getTheme();if(e&&0===e.indexOf("ag-theme"))return this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[e]||(this.calculatedSizes[e]={}),this.calculatedSizes[e][t]??(this.calculatedSizes[e][t]=this.calculateValueForSassProperty(t,e,n),this.calculatedSizes[e][t])}calculateValueForSassProperty(t,e,n){const i="ag-theme-"+(e.match("material")?"material":e.match("balham")?"balham":e.match("alpine")?"alpine":"custom"),r=sCe[i][t],s=this.gridOptionsService.getDocument();if(n||(n=this.eGridDiv),!oie[t])return r;const o=oie[t],c=s.createElement("div"),d=Array.from(n.classList);c.classList.add(e,...d),c.style.position="absolute";const p=o.reduce((y,A)=>{const k=s.createElement("div");return k.style.position="static",k.classList.add(A),y.appendChild(k),k},c);let m=0;if(s.body){s.body.appendChild(c);const y=-1!==t.toLowerCase().indexOf("height")?"height":"width";m=parseInt(window.getComputedStyle(p)[y],10),s.body.removeChild(c)}return m||r}isThemeDark(){const{theme:t}=this.getTheme();return!!t&&t.indexOf("dark")>=0}chartMenuPanelWidth(){return this.getSassVariable("chartMenuPanelWidth")}getTheme(){const t=/\bag-(material|(?:theme-([\w\-]*)))\b/g;let e=this.eGridDiv,n=null,i=[];for(;e;){if(n=t.exec(e.className),n){const s=e.className.match(t);s&&(i=s);break}e=e.parentElement||void 0}if(!n)return{allThemes:i};const r=n[0];return{theme:r,el:e,themeFamily:r.replace(/-dark$/,""),allThemes:i}}getFromTheme(t,e){var n;return null!=(n=this.getSassVariable(e))?n:t}getDefaultRowHeight(){return this.getFromTheme(25,"rowHeight")}getListItemHeight(){return this.getFromTheme(20,"listItemHeight")}refreshRowHeightVariable(){const t=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),e=this.gridOptionsService.get("rowHeight");if(null==e||isNaN(e)||!isFinite(e))return null!==t&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const n=`${e}px`;return t!=n?(this.eGridDiv.style.setProperty("--ag-line-height",n),e):""!=t?parseFloat(t):-1}getMinColWidth(){const t=this.getFromTheme(null,"headerCellMinWidth");return $t(t)?Math.max(t,10):10}destroy(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),super.destroy()}};N([Y("eGridDiv")],C1.prototype,"eGridDiv",2),N([nn],C1.prototype,"postConstruct",1),C1=N([bn("environment")],C1);var UI=class extends Jt{constructor(){super(...arguments),this.scrollY=0,this.uiBodyHeight=0}agWire(t){this.logger=t.create("RowContainerHeightService")}postConstruct(){this.addManagedListener(this.eventService,W.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=kte(),this.logger.log("maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,n=this.getUiBodyHeight();(e!==this.scrollY||n!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=n,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const t=this.scrollY/this.maxScrollY,e=t*this.pixelsToShave;this.logger.log(`Div Stretch Offset = ${e} (${this.pixelsToShave} * ${t})`),this.setDivStretchOffset(e)}setUiContainerHeight(t){t!==this.uiContainerHeight&&(this.uiContainerHeight=t,this.eventService.dispatchEvent({type:W.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(t){const e="number"==typeof t?Math.floor(t):null;this.divStretchOffset!==e&&(this.divStretchOffset=e,this.eventService.dispatchEvent({type:W.EVENT_HEIGHT_SCALE_CHANGED}))}setModelHeight(t){this.modelHeight=t,this.stretching=null!=t&&this.maxDivHeight>0&&t>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(t){return t-this.divStretchOffset}getUiBodyHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(t){if(this.pixelsToShave<=0)return t;const e=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(t/e)}};N([Y("ctrlsService")],UI.prototype,"ctrlsService",2),N([ld(0,Eu("loggerFactory"))],UI.prototype,"agWire",1),N([nn],UI.prototype,"postConstruct",1),UI=N([bn("rowContainerHeightService")],UI);var WI=class extends Jt{init(){this.addManagedPropertyListener("isRowSelectable",()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(t=!1){const e=!!this.gridOptionsService.get("rowSelection"),n=this.gridOptionsService.get("isRowSelectable");if(!e||!n)return;const i=this.gridOptionsService.get("groupSelectsChildren"),r="clientSide"===this.rowModel.getType()&&i,s=[],o=c=>{if(t&&!c.group)return;if(r&&c.group){const p=c.childrenAfterGroup.some(m=>!0===m.selectable);return void c.setRowSelectable(p,!0)}const d=!n||n(c);c.setRowSelectable(d,!0),!d&&c.isSelected()&&s.push(c)};r?new ck(!1,this.rowModel.getRootNode()).forEachChangedNodeDepthFirst(o,!0,!0):this.rowModel.forEachNode(o),s.length&&this.selectionService.setNodesSelected({nodes:s,newValue:!1,source:"selectableChanged"}),r&&this.selectionService instanceof Ww&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}};N([Y("rowModel")],WI.prototype,"rowModel",2),N([Y("selectionService")],WI.prototype,"selectionService",2),N([nn],WI.prototype,"init",1),WI=N([bn("selectableService")],WI);var Du=class extends Ii{constructor(){super(),this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1}postConstruct(){const t=this.gridOptionsService.get("enableRtl");this.setTemplate(this.getTemplate());const{btFirst:e,btPrevious:n,btNext:i,btLast:r}=this;this.activateTabIndex([e,n,i,r]),e.insertAdjacentElement("afterbegin",ks(t?"last":"first",this.gridOptionsService)),n.insertAdjacentElement("afterbegin",ks(t?"next":"previous",this.gridOptionsService)),i.insertAdjacentElement("afterbegin",ks(t?"previous":"next",this.gridOptionsService)),r.insertAdjacentElement("afterbegin",ks(t?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()}onPaginationChanged(){const e=this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel");this.setDisplayed(e),e&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedListener(this.eventService,W.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(t=>{const{el:e,fn:n}=t;this.addManagedListener(e,"click",n),this.addManagedListener(e,"keydown",i=>{(i.key===Qe.ENTER||i.key===Qe.SPACE)&&(i.preventDefault(),n())})}),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()}setCurrentPageLabel(){const t=this.paginationProxy.getTotalPages()>0,e=this.paginationProxy.getCurrentPage();this.lbCurrent.textContent=this.formatNumber(t?e+1:0)}formatNumber(t){const e=this.gridOptionsService.getCallback("paginationNumberFormatter");if(e)return e({value:t});const n=this.localeService.getLocaleTextFunc();return Z6(t,n("thousandSeparator",","),n("decimalSeparator","."))}getTemplate(){const t=this.localeService.getLocaleTextFunc(),e=t("page","Page"),n=t("to","to"),i=t("of","of"),r=t("firstPage","First Page"),s=t("previousPage","Previous Page"),o=t("nextPage","Next Page"),c=t("lastPage","Last Page"),d=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${d}">\n                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-${d}-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${d}-to">${n}</span>\n                    <span id="ag-${d}-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${d}-of">${i}</span>\n                    <span id="ag-${d}-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>\n                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-${d}-start-page">${e}</span>\n                        <span id="ag-${d}-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-${d}-of-page">${i}</span>\n                        <span id="ag-${d}-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>\n                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${c}"></div>\n                </span>\n            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()}enableOrDisableButtons(){const t=this.paginationProxy.getCurrentPage(),e=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===t,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const i=this.isZeroPagesToDisplay();this.nextButtonDisabled=t===n-1||i,this.lastButtonDisabled=!e||i||t===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(t,e){L6(t,e),t.classList.toggle("ag-disabled",e)}updateRowLabels(){const t=this.paginationProxy.getCurrentPage(),e=this.paginationProxy.getPageSize(),n=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;let r,s;if(this.isZeroPagesToDisplay()?r=s=0:(r=e*t+1,s=r+e-1,n&&s>i&&(s=i)),this.lbFirstRowOnPage.textContent=this.formatNumber(r),this.rowNodeBlockLoader.isLoading()){const o=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=o("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(s)}isZeroPagesToDisplay(){const t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages();return t&&0===e}setTotalLabels(){const t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages(),n=t?this.paginationProxy.getMasterRowCount():null;if(1===n){const i=this.paginationProxy.getRow(0);if(i&&i.group&&!i.groupData&&!i.aggData)return void this.setTotalLabelsToZero()}if(t)this.lbTotal.textContent=this.formatNumber(e),this.lbRecordCount.textContent=this.formatNumber(n);else{const i=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=i,this.lbRecordCount.innerHTML=i}}setTotalLabelsToZero(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)}};N([Y("paginationProxy")],Du.prototype,"paginationProxy",2),N([Y("rowNodeBlockLoader")],Du.prototype,"rowNodeBlockLoader",2),N([fn("btFirst")],Du.prototype,"btFirst",2),N([fn("btPrevious")],Du.prototype,"btPrevious",2),N([fn("btNext")],Du.prototype,"btNext",2),N([fn("btLast")],Du.prototype,"btLast",2),N([fn("lbRecordCount")],Du.prototype,"lbRecordCount",2),N([fn("lbFirstRowOnPage")],Du.prototype,"lbFirstRowOnPage",2),N([fn("lbLastRowOnPage")],Du.prototype,"lbLastRowOnPage",2),N([fn("lbCurrent")],Du.prototype,"lbCurrent",2),N([fn("lbTotal")],Du.prototype,"lbTotal",2),N([fn("pageSizeComp")],Du.prototype,"pageSizeComp",2),N([nn],Du.prototype,"postConstruct",1);var b1=class Sme extends Ii{constructor(){super(Sme.TEMPLATE),this.inProgress=!1,this.destroyRequested=!1}updateLayoutClasses(e,n){const i=this.eOverlayWrapper.classList;i.toggle("ag-layout-auto-height",n.autoHeight),i.toggle("ag-layout-normal",n.normal),i.toggle("ag-layout-print",n.print)}postConstruct(){this.createManagedBean(new ek(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)}setWrapperTypeClass(e){const n=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&n.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,n.toggle(e,!0)}showOverlay(e,n,i){this.inProgress||(this.setWrapperTypeClass(n),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(r=>{this.inProgress=!1,this.eOverlayWrapper.appendChild(r.getGui()),this.activeOverlay=r,this.updateListenerDestroyFunc=i,this.destroyRequested&&(this.destroyRequested=!1,this.destroyActiveOverlay())}),this.setDisplayed(!0,{skipAriaHidden:!0}))}destroyActiveOverlay(){var e;this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),null==(e=this.updateListenerDestroyFunc)||e.call(this),Jo(this.eOverlayWrapper))}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.destroyActiveOverlay(),super.destroy()}};b1.TEMPLATE='\n        <div class="ag-overlay" role="presentation">\n            <div class="ag-overlay-panel" role="presentation">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper" role="presentation"></div>\n            </div>\n        </div>',N([Y("overlayService")],b1.prototype,"overlayService",2),N([fn("eOverlayWrapper")],b1.prototype,"eOverlayWrapper",2),N([nn],b1.prototype,"postConstruct",1);var oCe=b1,zI=class extends Jt{getFirstRow(){let e,t=0;return this.pinnedRowModel.getPinnedTopRowCount()?e="top":this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(e="bottom"),void 0===e?null:{rowIndex:t,rowPinned:e}}getLastRow(){let t,e=null;const n=this.pinnedRowModel.getPinnedBottomRowCount(),i=this.pinnedRowModel.getPinnedTopRowCount();return n?(e="bottom",t=n-1):this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageLastRow()):i&&(e="top",t=i-1),void 0===t?null:{rowIndex:t,rowPinned:e}}getRowNode(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}}sameRow(t,e){return!t&&!e||!(t&&!e||!t&&e)&&t.rowIndex===e.rowIndex&&t.rowPinned==e.rowPinned}before(t,e){switch(t.rowPinned){case"top":if("top"!==e.rowPinned)return!0;break;case"bottom":if("bottom"!==e.rowPinned)return!1;break;default:if($t(e.rowPinned))return"top"!==e.rowPinned}return t.rowIndex<e.rowIndex}rowMax(t){let e;return t.forEach(n=>{(void 0===e||this.before(e,n))&&(e=n)}),e}rowMin(t){let e;return t.forEach(n=>{(void 0===e||this.before(n,e))&&(e=n)}),e}};N([Y("rowModel")],zI.prototype,"rowModel",2),N([Y("pinnedRowModel")],zI.prototype,"pinnedRowModel",2),N([Y("paginationProxy")],zI.prototype,"paginationProxy",2),zI=N([bn("rowPositionUtils")],zI);var X3=class extends Jt{createId(t){const{rowIndex:e,rowPinned:n,column:i}=t;return this.createIdFromValues({rowIndex:e,column:i,rowPinned:n})}createIdFromValues(t){const{rowIndex:e,rowPinned:n,column:i}=t;return`${e}.${n??"null"}.${i.getId()}`}equals(t,e){return t.column===e.column&&t.rowPinned===e.rowPinned&&t.rowIndex===e.rowIndex}};X3=N([bn("cellPositionUtils")],X3);var w1=class{constructor(t){this.cellValueChanges=t}},Q3=class extends w1{constructor(t,e,n,i){super(t),this.initialRange=e,this.finalRange=n,this.ranges=i}},aie=class Ime{constructor(e){this.actionStack=[],this.maxStackSize=e||Ime.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}};aie.DEFAULT_STACK_SIZE=10;var lie=aie,uh=class extends Jt{constructor(){super(...arguments),this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=t=>{const e={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned},n=null!==this.activeCellEdit&&this.cellPositionUtils.equals(this.activeCellEdit,e),i=null!==this.activeRowEdit&&this.rowPositionUtils.sameRow(this.activeRowEdit,e);if(!(n||i||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:o,column:c,oldValue:d,value:p}=t,m={rowPinned:s,rowIndex:o,columnId:c.getColId(),newValue:p,oldValue:d};this.cellValueChanges.push(m)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}init(){if(!this.gridOptionsService.get("undoRedoCellEditing"))return;const t=this.gridOptionsService.get("undoRedoCellEditingLimit");t<=0||(this.undoStack=new lie(t),this.redoStack=new lie(t),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,W.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,W.EVENT_MODEL_UPDATED,e=>{e.keepUndoRedoStack||this.clearStacks()}),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,W.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,W.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,W.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()}))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(t){this.eventService.dispatchEvent({type:W.EVENT_UNDO_STARTED,source:t});const n=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:W.EVENT_UNDO_ENDED,source:t,operationPerformed:n})}redo(t){this.eventService.dispatchEvent({type:W.EVENT_REDO_STARTED,source:t});const n=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:W.EVENT_REDO_ENDED,source:t,operationPerformed:n})}undoRedo(t,e,n,i,r){if(!t)return!1;const s=t.pop();return!(!s||!s.cellValueChanges||(this.processAction(s,o=>o[i],r),s instanceof Q3?this.processRange(s.ranges||[s[n]]):this.processCell(s.cellValueChanges),e.push(s),0))}processAction(t,e,n){t.cellValueChanges.forEach(i=>{const{rowIndex:r,rowPinned:s,columnId:o}=i,d=this.getRowNode({rowIndex:r,rowPinned:s});d.displayed&&d.setDataValue(o,e(i),n)})}processRange(t){let e;this.rangeService.removeAllCellRanges(!0),t.forEach((n,i)=>{if(!n)return;const r=n.startRow,s=n.endRow;i===t.length-1&&(e={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(e)),this.rangeService.addCellRange({rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:n.startColumn,columns:n.columns})})}processCell(t){const e=t[0],{rowIndex:n,rowPinned:i}=e,s=this.getRowNode({rowIndex:n,rowPinned:i});this.setLastFocusedCell({rowPinned:e.rowPinned,rowIndex:s.rowIndex,columnId:e.columnId},!!this.rangeService)}setLastFocusedCell(t,e){const{rowIndex:n,columnId:i,rowPinned:r}=t,s=this.gridBodyCtrl.getScrollFeature(),o=this.columnModel.getGridColumn(i);if(!o)return;s.ensureIndexVisible(n),s.ensureColumnVisible(o);const c={rowIndex:n,column:o,rowPinned:r};this.focusService.setFocusedCell(ms(Yn({},c),{forceBrowserFocus:!0})),e&&this.rangeService.setRangeToCell(c)}addRowEditingListeners(){this.addManagedListener(this.eventService,W.EVENT_ROW_EDITING_STARTED,t=>{this.activeRowEdit={rowIndex:t.rowIndex,rowPinned:t.rowPinned}}),this.addManagedListener(this.eventService,W.EVENT_ROW_EDITING_STOPPED,()=>{const t=new w1(this.cellValueChanges);this.pushActionsToUndoStack(t),this.activeRowEdit=null})}addCellEditingListeners(){this.addManagedListener(this.eventService,W.EVENT_CELL_EDITING_STARTED,t=>{this.activeCellEdit={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned}}),this.addManagedListener(this.eventService,W.EVENT_CELL_EDITING_STOPPED,t=>{if(this.activeCellEdit=null,t.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new w1(this.cellValueChanges);this.pushActionsToUndoStack(n)}})}addPasteListeners(){this.addManagedListener(this.eventService,W.EVENT_PASTE_START,()=>{this.isPasting=!0}),this.addManagedListener(this.eventService,W.EVENT_PASTE_END,()=>{const t=new w1(this.cellValueChanges);this.pushActionsToUndoStack(t),this.isPasting=!1})}addFillListeners(){this.addManagedListener(this.eventService,W.EVENT_FILL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,W.EVENT_FILL_END,t=>{const e=new Q3(this.cellValueChanges,t.initialRange,t.finalRange);this.pushActionsToUndoStack(e),this.isRangeInAction=!1})}addCellKeyListeners(){this.addManagedListener(this.eventService,W.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,W.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,()=>{let t;t=this.rangeService&&this.gridOptionsService.get("enableRangeSelection")?new Q3(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):new w1(this.cellValueChanges),this.pushActionsToUndoStack(t),this.isRangeInAction=!1})}pushActionsToUndoStack(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()}getRowNode(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}}};N([Y("focusService")],uh.prototype,"focusService",2),N([Y("ctrlsService")],uh.prototype,"ctrlsService",2),N([Y("rowModel")],uh.prototype,"rowModel",2),N([Y("pinnedRowModel")],uh.prototype,"pinnedRowModel",2),N([Y("cellPositionUtils")],uh.prototype,"cellPositionUtils",2),N([Y("rowPositionUtils")],uh.prototype,"rowPositionUtils",2),N([Y("columnModel")],uh.prototype,"columnModel",2),N([lr("rangeService")],uh.prototype,"rangeService",2),N([nn],uh.prototype,"init",1),uh=N([bn("undoRedoService")],uh);var E1=class extends Jt{findHeader(t,e){let n,i,r;if(t.column instanceof da?(i=`getDisplayedGroup${e}`,n=this.columnModel[i](t.column)):(r=`getDisplayedCol${e}`,n=this.columnModel[r](t.column)),!n)return;let{headerRowIndex:s}=t;if("filter"!==this.getHeaderRowType(s)){const d=[n];for(;n.getParent();)n=n.getParent(),d.push(n);n=d[d.length-1-s]}const{column:o,headerRowIndex:c}=this.getHeaderIndexToFocus(n,s);return{column:o,headerRowIndex:c}}getHeaderIndexToFocus(t,e){let n;if(t instanceof da&&this.isAnyChildSpanningHeaderHeight(t)&&t.isPadding()){const i=t;n=i.getLeafColumns()[0];let r=n;for(;r!==i;)e++,r=r.getParent()}return{column:n||t,headerRowIndex:e}}isAnyChildSpanningHeaderHeight(t){return!!t&&t.getLeafColumns().some(e=>e.isSpanHeaderHeight())}getColumnVisibleParent(t,e){const n=this.getHeaderRowType(e),r="column"===n;let s="filter"===n?t:t.getParent(),o=e-1,c=o;if(r&&this.isAnyChildSpanningHeaderHeight(t.getParent())){for(;s&&s.isPadding();)s=s.getParent(),o--;c=o,o<0&&(s=t,o=e,c=void 0)}return{column:s,headerRowIndex:o,headerRowIndexWithoutSpan:c}}getColumnVisibleChild(t,e,n="After"){let r=t,s=e+1,o=s;if("group"===this.getHeaderRowType(e)){const c=t.getDisplayedLeafColumns(),d="After"===n?c[0]:q(c),p=[];let m=d;for(;m.getParent()!==t;)m=m.getParent(),p.push(m);if(r=d,d.isSpanHeaderHeight())for(let y=p.length-1;y>=0;y--){const A=p[y];if(!A.isPadding()){r=A;break}s++}else r=q(p),r||(r=d)}return{column:r,headerRowIndex:s,headerRowIndexWithoutSpan:o}}getHeaderRowType(t){const e=this.ctrlsService.getHeaderRowContainerCtrl();if(e)return e.getRowType(t)}findColAtEdgeForHeaderRow(t,e){const n=this.columnModel.getAllDisplayedColumns(),i=n["start"===e?0:n.length-1];if(!i)return;const s=this.ctrlsService.getHeaderRowContainerCtrl(i.getPinned()).getRowType(t);return"group"==s?{headerRowIndex:t,column:this.columnModel.getColumnGroupAtLevel(i,t)}:{headerRowIndex:null==s?-1:t,column:i}}};N([Y("columnModel")],E1.prototype,"columnModel",2),N([Y("ctrlsService")],E1.prototype,"ctrlsService",2),E1=N([bn("headerPositionUtils")],E1);var J3=class{buildColumnDefs(t,e,n){const i=[],r={};return t.forEach(s=>{let c=!0,d=this.createDefFromColumn(s,e,n),p=s.getOriginalParent(),m=null;for(;p;){let y=null;if(p.isPadding()){p=p.getOriginalParent();continue}const A=r[p.getGroupId()];if(A){A.children.push(d),c=!1;break}if(y=this.createDefFromGroup(p),y&&(y.children=[d],r[y.groupId]=y,d=y,p=p.getOriginalParent()),null!=p&&m===p){c=!1;break}m=p}c&&i.push(d)}),i}createDefFromGroup(t){const e=gI(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e}createDefFromColumn(t,e,n){const i=gI(t.getColDef());return i.colId=t.getColId(),i.width=t.getActualWidth(),i.rowGroup=t.isRowGroupActive(),i.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,i.pivot=t.isPivotActive(),i.pivotIndex=t.isPivotActive()?n.indexOf(t):null,i.aggFunc=t.isValueActive()?t.getAggFunc():null,i.hide=!t.isVisible()||void 0,i.pinned=t.isPinned()?t.getPinned():null,i.sort=t.getSort()?t.getSort():null,i.sortIndex=null!=t.getSortIndex()?t.getSortIndex():null,i}};J3=N([bn("columnDefFactory")],J3);var S1=class{getInitialRowClasses(t){const e=[];return $t(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),Wp(e,this.processClassesFromGridOptions(t.rowNode)),Wp(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&("left"===t.pinned&&e.push("ag-cell-last-left-pinned"),"right"===t.pinned&&e.push("ag-cell-first-right-pinned")),e}processClassesFromGridOptions(t){const e=[],n=s=>{"string"==typeof s?e.push(s):Array.isArray(s)&&s.forEach(o=>e.push(o))},i=this.gridOptionsService.get("rowClass");if(i){if("function"==typeof i)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];n(i)}const r=this.gridOptionsService.getCallback("getRowClass");return r&&n(r({data:t.data,node:t,rowIndex:t.rowIndex})),e}preProcessRowClassRules(t){const e=[];return this.processRowClassRules(t,n=>{e.push(n)},n=>{}),e}processRowClassRules(t,e,n){const i=this.gridOptionsService.addGridCommonParams({data:t.data,node:t,rowIndex:t.rowIndex});this.stylingService.processClassRules(void 0,this.gridOptionsService.get("rowClassRules"),i,e,n)}calculateRowLevel(t){return t.group?t.level:t.parent?t.parent.level+1:0}};N([Y("stylingService")],S1.prototype,"stylingService",2),N([Y("gridOptionsService")],S1.prototype,"gridOptionsService",2),S1=N([bn("rowCssClassCalculator")],S1);var jI=class extends Jt{init(){this.isAccentedSort=this.gridOptionsService.get("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup())}doFullSort(t,e){const i=t.map((r,s)=>({currentPos:s,rowNode:r}));return i.sort(this.compareRowNodes.bind(this,e)),i.map(r=>r.rowNode)}compareRowNodes(t,e,n){const i=e.rowNode,r=n.rowNode;for(let s=0,o=t.length;s<o;s++){const c=t[s],d="desc"===c.sort,p=this.getValue(i,c.column),m=this.getValue(r,c.column);let y;const A=this.getComparator(c,i);if(y=A?A(p,m,i,r,d):$i.defaultComparator(p,m,this.isAccentedSort),!isNaN(y)&&0!==y)return"asc"===c.sort?y:-1*y}return e.currentPos-n.currentPos}getComparator(t,e){const n=t.column,i=n.getColDef().comparator;if(null!=i)return i;if(!n.getColDef().showRowGroup)return;const r=!e.group&&n.getColDef().field;if(!r)return;const s=this.columnModel.getPrimaryColumn(r);return s?s.getColDef().comparator:void 0}getValue(t,e){var n,i;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(e,t,!1,!1);if(t.rowGroupColumn===e){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){const c=null==(n=t.allLeafChildren)?void 0:n[0];return c?this.valueService.getValue(e,c,!1,!1):void 0}const o=this.columnModel.getGroupDisplayColumnForGroup(e.getId());return o?null==(i=t.groupData)?void 0:i[o.getId()]:void 0}return t.group&&e.getColDef().showRowGroup?void 0:this.valueService.getValue(e,t,!1,!1)}};N([Y("valueService")],jI.prototype,"valueService",2),N([Y("columnModel")],jI.prototype,"columnModel",2),N([nn],jI.prototype,"init",1),jI=N([bn("rowNodeSorter")],jI);var I1=class extends Jt{constructor(){super(...arguments),this.ready=!1,this.readyCallbacks=[]}checkReady(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.stickyTopCenterRowContainerCtrl&&null!=this.stickyTopLeftRowContainerCtrl&&null!=this.stickyTopRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollComp&&null!=this.fakeVScrollComp&&null!=this.gridHeaderCtrl,this.ready){const t=this.createReadyParams();this.readyCallbacks.forEach(e=>e(t)),this.readyCallbacks.length=0}}whenReady(t){this.ready?t(this.createReadyParams()):this.readyCallbacks.push(t)}createReadyParams(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}}registerFakeHScrollComp(t){this.fakeHScrollComp=t,this.checkReady()}registerFakeVScrollComp(t){this.fakeVScrollComp=t,this.checkReady()}registerGridHeaderCtrl(t){this.gridHeaderCtrl=t,this.checkReady()}registerCenterRowContainerCtrl(t){this.centerRowContainerCtrl=t,this.checkReady()}registerLeftRowContainerCtrl(t){this.leftRowContainerCtrl=t,this.checkReady()}registerRightRowContainerCtrl(t){this.rightRowContainerCtrl=t,this.checkReady()}registerTopCenterRowContainerCtrl(t){this.topCenterRowContainerCtrl=t,this.checkReady()}registerTopLeftRowContainerCon(t){this.topLeftRowContainerCtrl=t,this.checkReady()}registerTopRightRowContainerCtrl(t){this.topRightRowContainerCtrl=t,this.checkReady()}registerStickyTopCenterRowContainerCtrl(t){this.stickyTopCenterRowContainerCtrl=t,this.checkReady()}registerStickyTopLeftRowContainerCon(t){this.stickyTopLeftRowContainerCtrl=t,this.checkReady()}registerStickyTopRightRowContainerCtrl(t){this.stickyTopRightRowContainerCtrl=t,this.checkReady()}registerBottomCenterRowContainerCtrl(t){this.bottomCenterRowContainerCtrl=t,this.checkReady()}registerBottomLeftRowContainerCtrl(t){this.bottomLeftRowContainerCtrl=t,this.checkReady()}registerBottomRightRowContainerCtrl(t){this.bottomRightRowContainerCtrl=t,this.checkReady()}registerHeaderContainer(t,e){switch(e){case"left":this.leftHeaderRowContainerCtrl=t;break;case"right":this.rightHeaderRowContainerCtrl=t;break;default:this.centerHeaderRowContainerCtrl=t}this.checkReady()}registerGridBodyCtrl(t){this.gridBodyCtrl=t,this.checkReady()}registerGridCtrl(t){this.gridCtrl=t,this.checkReady()}getFakeHScrollComp(){return this.fakeHScrollComp}getFakeVScrollComp(){return this.fakeVScrollComp}getGridHeaderCtrl(){return this.gridHeaderCtrl}getGridCtrl(){return this.gridCtrl}getCenterRowContainerCtrl(){return this.centerRowContainerCtrl}getTopCenterRowContainerCtrl(){return this.topCenterRowContainerCtrl}getBottomCenterRowContainerCtrl(){return this.bottomCenterRowContainerCtrl}getStickyTopCenterRowContainerCtrl(){return this.stickyTopCenterRowContainerCtrl}getGridBodyCtrl(){return this.gridBodyCtrl}getHeaderRowContainerCtrls(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]}getHeaderRowContainerCtrl(t){switch(t){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}}};I1.NAME="ctrlsService",I1=N([bn(I1.NAME)],I1);var Z3=class extends Jt{constructor(){super(...arguments),this.registry={}}register(t){this.registry[t.controllerName]=t.controllerClass}getInstance(t){const e=this.registry[t];if(null!=e)return new e}};Z3=N([bn("ctrlsFactory")],Z3);var Kw=class extends Ii{constructor(t,e){super(t),this.direction=e,this.hideTimeout=null}postConstruct(){this.addManagedListener(this.eventService,W.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",X6()||Km())}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=J6(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const n=this.getGui();["mouseenter","mousedown","touchstart"].forEach(i=>this.addManagedListener(n,i,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0))),["mouseleave","touchend"].forEach(i=>this.addManagedListener(n,i,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1)))}onScrollVisibilityChanged(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedListener(this.eventService,W.EVENT_BODY_SCROLL,t=>{t.direction===this.direction&&(null!==this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,W.EVENT_BODY_SCROLL_END,()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)})}attemptSettingScrollPosition(t){const e=this.getViewport();SL(()=>cd(e),()=>this.setScrollPosition(t),100)}getViewport(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(t){this.addManagedListener(this.getViewport(),"scroll",t)}};N([fn("eViewport")],Kw.prototype,"eViewport",2),N([fn("eContainer")],Kw.prototype,"eContainer",2),N([Y("scrollVisibleService")],Kw.prototype,"scrollVisibleService",2),N([Y("ctrlsService")],Kw.prototype,"ctrlsService",2),N([Y("animationFrameService")],Kw.prototype,"animationFrameService",2);var Yw=class Tme extends Kw{constructor(){super(Tme.TEMPLATE,"horizontal")}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,W.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new DI(n=>this.eContainer.style.width=`${n}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gridOptionsService.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let n=this.columnModel.getDisplayedColumnsRightWidth();const i=!this.enableRtl&&e,r=this.gridOptionsService.getScrollbarWidth();i&&(n+=r),ah(this.eRightSpacer,n),this.eRightSpacer.classList.toggle("ag-scroller-corner",n<=r);let s=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&e&&(s+=r),ah(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=r)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),n=this.invisibleScrollbar,i=this.gridOptionsService.get("suppressHorizontalScroll"),r=e&&this.gridOptionsService.getScrollbarWidth()||0,o=i?0:0===r&&n?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),Ew(this.getGui(),o),Ew(this.eViewport,o),Ew(this.eContainer,o),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return $x(this.getViewport(),this.enableRtl)}setScrollPosition(e){cd(this.getViewport())||this.attemptSettingScrollPosition(e),qx(this.getViewport(),e,this.enableRtl)}};Yw.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',N([fn("eLeftSpacer")],Yw.prototype,"eLeftSpacer",2),N([fn("eRightSpacer")],Yw.prototype,"eRightSpacer",2),N([Y("columnModel")],Yw.prototype,"columnModel",2),N([Y("pinnedRowModel")],Yw.prototype,"pinnedRowModel",2),N([nn],Yw.prototype,"postConstruct",1);var aCe=Yw,T1=class extends Jt{postConstruct(){const t=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedPropertyListener("domLayout",t)}checkContainerWidths(){const t=this.gridOptionsService.isDomLayout("print"),e=t?0:this.columnModel.getDisplayedColumnsLeftWidth(),n=t?0:this.columnModel.getDisplayedColumnsRightWidth();e!=this.leftWidth&&(this.leftWidth=e,this.eventService.dispatchEvent({type:W.EVENT_LEFT_PINNED_WIDTH_CHANGED})),n!=this.rightWidth&&(this.rightWidth=n,this.eventService.dispatchEvent({type:W.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}};N([Y("columnModel")],T1.prototype,"columnModel",2),N([nn],T1.prototype,"postConstruct",1),T1=N([bn("pinnedWidthService")],T1);var $I=class extends Jt{constructor(){super(...arguments),this.events=[]}postConstruct(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(t){null!=this.clientSideRowModel?(this.events.push(t),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(n=>this.eventService.dispatchEvent(n)),this.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(t)}};N([Y("animationFrameService")],$I.prototype,"animationFrameService",2),N([Y("rowModel")],$I.prototype,"rowModel",2),N([nn],$I.prototype,"postConstruct",1),$I=N([bn("rowNodeEventThrottle")],$I);var vy=(t,e)=>{var n;return"clientSide"===(null!=(n=e.rowModelType)?n:"clientSide")?{module:"@ag-grid-enterprise/row-grouping"}:null},cCe={enableRowGroup:vy,rowGroup:vy,rowGroupIndex:vy,enablePivot:vy,enableValue:vy,pivot:vy,pivotIndex:vy,aggFunc:vy,cellEditor:t=>"agRichSelect"===t.cellEditor||"agRichSelectCellEditor"===t.cellEditor?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:t=>{var e;const n=["columnsMenuTab","generalMenuTab"];return null!=(e=t.menuTabs)&&e.some(i=>n.includes(i))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:(t,{rowSelection:e})=>"multiple"===e?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:(t,{rowSelection:e})=>"multiple"===e?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:(t,{rowSelection:e})=>"multiple"===e?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>qI},qI={objectName:"colDef",allProperties:O_e.ALL_PROPERTIES,docsUrl:"column-properties/",deprecations:{columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},dndSource:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."},dndSourceOnRowDrag:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."}},validations:cCe},dCe={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"\t",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,pivotMaxGeneratedColumns:-1},hCe={sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",dependencies:t=>{var e;const n=null!=(e=t.rowModelType)?e:"clientSide";switch(n){case"clientSide":return t.getDataPath?null:`treeData requires 'getDataPath' in the ${n} row model.`;case"serverSide":return t.isServerSideGroup&&t.getServerSideGroupKey?null:`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${n} row model.`}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:t=>{var e;switch(null!=(e=t.rowModelType)?e:"clientSide"){case"clientSide":return null;case"serverSide":return t.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},columnDefs:()=>qI,defaultColDef:()=>qI,defaultColGroupDef:()=>qI,autoGroupColumnDef:()=>qI},fCe={objectName:"gridOptions",allProperties:[...zp.ALL_PROPERTIES,...ML.EVENT_CALLBACKS],propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:{enableChartToolPanelsButton:{version:"29"},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."}},validations:hCe},Or=class{constructor(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new ih,this.globalEventHandlerFactory=t=>(e,n)=>{if(this.destroyed)return;const i=PL.has(e);if(i&&!t||!i&&t)return;const r=ML.getCallbackForEvent(e),s=this.gridOptions[r];"function"==typeof s&&this.frameworkOverrides.wrapOutgoing(()=>{s(n)})}}get context(){return this.gridOptions.context}init(){this.columnApi=new zw(this.api);const t=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth()}destroy(){this.destroyed=!0,this.columnApi=void 0}get(t){var e;return null!=(e=this.gridOptions[t])?e:dCe[t]}getCallback(t){return this.mergeGridCommonParams(this.gridOptions[t])}exists(t){return $t(this.gridOptions[t])}mergeGridCommonParams(t){return t&&(n=>{const i=n;return i.api=this.api,i.columnApi=this.columnApi,i.context=this.context,t(i)})}static toBoolean(t){return"boolean"==typeof t?t:"string"==typeof t&&("TRUE"===t.toUpperCase()||""==t)}static toNumber(t){if("number"==typeof t)return t;if("string"==typeof t){const e=parseInt(t);return isNaN(e)?void 0:e}}static toConstrainedNum(t,e){return n=>{const i=Or.toNumber(n);if(!(null==i||i<t||i>e))return i}}static getCoercedValue(t,e){const n=Or.PROPERTY_COERCIONS.get(t);return n?n(e):e}static getCoercedGridOptions(t){const e={};return Object.entries(t).forEach(([n,i])=>{const r=Or.getCoercedValue(n,i);e[n]=r}),e}updateGridOptions({options:t,source:e="api"}){const n={id:Or.changeSetId++,properties:[]},i=[];Object.entries(t).forEach(([r,s])=>{"api"===e&&Tve[r]&&ei(`${r} is an initial property and cannot be updated.`);const o=Or.getCoercedValue(r,s),d=this.gridOptions[r];("object"==typeof o&&"api"===e||d!==o)&&(this.gridOptions[r]=o,i.push({type:r,currentValue:o,previousValue:d,changeSet:n,source:e}))}),this.validationService.processGridOptions(this.gridOptions),n.properties=i.map(r=>r.type),i.forEach(r=>{this.gridOptions.debug&&console.log(`AG Grid: Updated property ${r.type} from `,r.previousValue," to  ",r.currentValue),this.propertyEventService.dispatchEvent(r)})}addEventListener(t,e){this.propertyEventService.addEventListener(t,e)}removeEventListener(t,e){this.propertyEventService.removeEventListener(t,e)}getScrollbarWidth(){if(null==this.scrollbarWidth){const e="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Bte();null!=e&&(this.scrollbarWidth=e,this.eventService.dispatchEvent({type:W.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth}isRowModelType(t){return this.gridOptions.rowModelType===t||"clientSide"===t&&hi(this.gridOptions.rowModelType)}isDomLayout(t){var e;return(null!=(e=this.gridOptions.domLayout)?e:"normal")===t}isRowSelection(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection}useAsyncEvents(){return!this.get("suppressAsyncEvents")}isGetRowHeightFunction(){return"function"==typeof this.gridOptions.getRowHeight}getRowHeightForNode(t,e=!1,n){if(null==n&&(n=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(e)return{height:n,estimated:!0};const r={node:t,data:t.data},s=this.getCallback("getRowHeight")(r);if(this.isNumeric(s))return 0===s&&ei("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,s),estimated:!1}}return t.detail&&this.get("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:n,estimated:!1}}getMasterDetailRowHeight(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||hi(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();const t=this.environment.refreshRowHeightVariable();return-1!==t?t:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(t){return!isNaN(t)&&"number"==typeof t&&isFinite(t)}getDomDataKey(){return this.domDataKey}getDomData(t,e){const n=t[this.getDomDataKey()];return n?n[e]:void 0}setDomData(t,e,n){const i=this.getDomDataKey();let r=t[i];hi(r)&&(r={},t[i]=r),r[e]=n}getDocument(){let t=null;return this.gridOptions.getDocument&&$t(this.gridOptions.getDocument)?t=this.gridOptions.getDocument():this.eGridDiv&&(t=this.eGridDiv.ownerDocument),t&&$t(t)?t:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getAsyncTransactionWaitMillis(){return $t(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return!this.get("ensureDomOrder")&&this.get("animateRows")}isGroupRowsSticky(){return!(this.get("suppressGroupRowsSticky")||this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))}isColumnsSortingCoupledToGroup(){const t=this.gridOptions.autoGroupColumnDef;return!t?.comparator&&!this.get("treeData")}getGroupAggFiltering(){const t=this.gridOptions.groupAggFiltering;return"function"==typeof t?this.getCallback("groupAggFiltering"):!0===t?()=>!0:void 0}isGroupIncludeFooterTrueOrCallback(){const t=this.gridOptions.groupIncludeFooter;return!0===t||"function"==typeof t}getGroupIncludeFooter(){const t=this.gridOptions.groupIncludeFooter;return"function"==typeof t?this.getCallback("groupIncludeFooter"):!0===t?()=>!0:()=>!1}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?"multipleColumns"===this.gridOptions.groupDisplayType:this.get("groupHideOpenParents")}isGroupUseEntireRow(t){return!t&&"groupRows"===this.gridOptions.groupDisplayType}getGridCommonParams(){return{api:this.api,columnApi:this.columnApi,context:this.context}}addGridCommonParams(t){const e=t;return e.api=this.api,e.columnApi=this.columnApi,e.context=this.context,e}};Or.PROPERTY_COERCIONS=new Map([...zp.BOOLEAN_PROPERTIES.map(t=>[t,Or.toBoolean]),...zp.NUMBER_PROPERTIES.map(t=>[t,Or.toNumber]),["groupAggFiltering",t=>"function"==typeof t?t:Or.toBoolean(t)],["pageSize",Or.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",Or.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",Or.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",Or.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",Or.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",Or.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",Or.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",Or.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",Or.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",Or.toConstrainedNum(0,Number.MAX_VALUE)]]),Or.changeSetId=0,N([Y("gridOptions")],Or.prototype,"gridOptions",2),N([Y("eventService")],Or.prototype,"eventService",2),N([Y("environment")],Or.prototype,"environment",2),N([Y("frameworkOverrides")],Or.prototype,"frameworkOverrides",2),N([Y("eGridDiv")],Or.prototype,"eGridDiv",2),N([Y("validationService")],Or.prototype,"validationService",2),N([Y("gridApi")],Or.prototype,"api",2),N([nn],Or.prototype,"init",1),N([Yl],Or.prototype,"destroy",1),Or=N([bn("gridOptionsService")],Or);var eW=class extends Jt{getLocaleTextFunc(){const t=this.gridOptionsService.getCallback("getLocaleText");if(t)return(n,i,r)=>t({key:n,defaultValue:i,variableValues:r});const e=this.gridOptionsService.get("localeText");return(n,i,r)=>{let s=e&&e[n];if(s&&r&&r.length){let o=0;for(;!(o>=r.length||-1===s.indexOf("${variable}"));)s=s.replace("${variable}",r[o++])}return s??i}}};eW=N([bn("localeService")],eW);var tW=class Ame extends Kw{constructor(){super(Ame.TEMPLATE,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new nk(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,W.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),n=this.invisibleScrollbar,i=e&&this.gridOptionsService.getScrollbarWidth()||0,r=0===i&&n?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),ah(this.getGui(),r),ah(this.eViewport,r),ah(this.eContainer,r),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,i=e.getGridBodyCtrl().getBodyViewportElement(),r=this.getScrollPosition(),s=i.scrollTop;r!=s&&this.setScrollPosition(s,!0)}getScrollPosition(){return this.getViewport().scrollTop}setScrollPosition(e,n){!n&&!cd(this.getViewport())&&this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e}};tW.TEMPLATE='<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>\n            </div>\n        </div>',N([nn],tW.prototype,"postConstruct",1);var pCe=tW,cie={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},uie=["january","february","march","april","may","june","july","august","september","october","november","december"],tv=class extends Jt{constructor(){super(...arguments),this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}init(){this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",t=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(CI(t.source))})}processDataTypeDefinitions(){var t;const e=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(e).forEach(([i,r])=>{this.dataTypeDefinitions[i]=ms(Yn({},r),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)})});const n=null!=(t=this.gridOptionsService.get("dataTypeDefinitions"))?t:{};this.dataTypeMatchers={},Object.entries(n).forEach(([i,r])=>{const s=this.processDataTypeDefinition(r,n,[i],e);s&&(this.dataTypeDefinitions[i]=s,r.dataTypeMatcher&&(this.dataTypeMatchers[i]=r.dataTypeMatcher))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(i=>{const r=this.dataTypeMatchers[i];r&&delete this.dataTypeMatchers[i],this.dataTypeMatchers[i]=r??e[i].dataTypeMatcher})}mergeDataTypeDefinitions(t,e){const n=Yn(Yn({},t),e);return t.columnTypes&&e.columnTypes&&e.appendColumnTypes&&(n.columnTypes=[...this.convertColumnTypes(t.columnTypes),...this.convertColumnTypes(e.columnTypes)]),n}processDataTypeDefinition(t,e,n,i){let r;const s=t.extendsDataType;if(t.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),t.extendsDataType===t.baseDataType){let o=i[s];const c=e[s];if(o&&c&&(o=c),!this.validateDataTypeDefinition(t,o,s))return;r=this.mergeDataTypeDefinitions(o,t)}else{if(n.includes(s))return void ei('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');const o=e[s];if(!this.validateDataTypeDefinition(t,o,s))return;const c=this.processDataTypeDefinition(o,e,[...n,s],i);if(!c)return;r=this.mergeDataTypeDefinitions(c,t)}return ms(Yn({},r),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)})}validateDataTypeDefinition(t,e,n){return e?e.baseDataType===t.baseDataType||(ei('The "baseDataType" property of a data type definition must match that of its parent.'),!1):(ei(`The data type definition ${n} does not exist.`),!1)}createGroupSafeValueFormatter(t){if(t.valueFormatter)return e=>{var n,i;if(null!=(n=e.node)&&n.group){const r=e.column.getAggFunc();if(r){if("first"===r||"last"===r)return t.valueFormatter(e);if("number"===t.baseDataType&&"count"!==r){if("number"==typeof e.value)return t.valueFormatter(e);if("object"==typeof e.value){if(!e.value)return;if("toNumber"in e.value)return t.valueFormatter(ms(Yn({},e),{value:e.value.toNumber()}));if("value"in e.value)return t.valueFormatter(ms(Yn({},e),{value:e.value.value}))}}}if(!this.gridOptionsService.get("suppressGroupMaintainValueType"))return}else if(this.groupHideOpenParents&&e.column.isRowGroupActive()){if("string"!=typeof e.value||null!=(i=t.dataTypeMatcher)&&i.call(t,e.value))return t.valueFormatter(e);if(!this.gridOptionsService.get("suppressGroupMaintainValueType"))return}return t.valueFormatter(e)}}updateColDefAndGetDataTypeDefinitionColumnType(t,e,n){let{cellDataType:i}=e;const{field:r}=e;if(void 0===i&&(i=t.cellDataType),(null==i||!0===i)&&(i=!!this.canInferCellDataType(t,e)&&this.inferCellDataType(r,n)),!i)return void(t.cellDataType=!1);const s=this.dataTypeDefinitions[i];if(s)return t.cellDataType=i,s.groupSafeValueFormatter&&(t.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(t.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(t,s,n),s.columnTypes;ei(`Missing data type definition - "${i}"`)}updateColDefAndGetColumnType(t,e,n){var i,r;const s=this.updateColDefAndGetDataTypeDefinitionColumnType(t,e,n),o=null!=(r=null!=(i=e.type)?i:s)?r:t.type;return t.type=o,o?this.convertColumnTypes(o):void 0}addColumnListeners(t){if(!this.isWaitingForRowData)return;const e=this.columnStateUpdatesPendingInference[t.getColId()];if(!e)return;const n=i=>{e.add(i.key)};t.addEventListener(f.EVENT_STATE_UPDATED,n),this.columnStateUpdateListenerDestroyFuncs.push(()=>t.removeEventListener(f.EVENT_STATE_UPDATED,n))}canInferCellDataType(t,e){var n;if("clientSide"!==this.rowModel.getType())return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(e,i))return!1;const r=null===e.type?t.type:e.type;if(r){const s=null!=(n=this.gridOptionsService.get("columnTypes"))?n:{};if(this.convertColumnTypes(r).some(c=>{const d=s[c.trim()];return d&&this.doColDefPropsPreventInference(d,i)}))return!1}return!this.doColDefPropsPreventInference(t,i)}doColDefPropsPreventInference(t,e){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,i])=>this.doesColDefPropPreventInference(t,e,n,i))}doesColDefPropPreventInference(t,e,n,i){if(!e[n])return!1;const r=t[n];return null===r?(e[n]=!1,!1):void 0===i?!!r:r===i}inferCellDataType(t,e){var n;if(!t)return;let i;const r=this.getInitialData();if(r){const o=t.indexOf(".")>=0&&!this.gridOptionsService.get("suppressFieldDotNotation");i=zm(r,t,o)}else this.initWaitForRowData(e);if(null==i)return;const[s]=null!=(n=Object.entries(this.dataTypeMatchers).find(([o,c])=>c(i)))?n:["object"];return s}getInitialData(){const t=this.gridOptionsService.get("rowData");if(t?.length)return t[0];if(this.initialData)return this.initialData;{const e=this.rowModel.getRootNode().allLeafChildren;if(e?.length)return e[0].data}return null}initWaitForRowData(t){if(this.columnStateUpdatesPendingInference[t]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const e=this.isColumnTypeOverrideInDataTypeDefinitions;e&&this.columnModel.queueResizeOperations();const n=this.addManagedListener(this.eventService,W.EVENT_ROW_DATA_UPDATE_STARTED,i=>{const{firstRowData:r}=i;r&&(n?.(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(r,e),this.columnStateUpdatesPendingInference={},e&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:W.EVENT_DATA_TYPES_INFERRED}))})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(t,e){this.initialData=t;const n=[];this.columnStateUpdateListenerDestroyFuncs.forEach(s=>s()),this.columnStateUpdateListenerDestroyFuncs=[];const i={},r={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([s,o])=>{const c=this.columnModel.getGridColumn(s);if(!c)return;const d=c.getColDef();if(!this.columnModel.resetColumnDefIntoColumn(c,"cellDataTypeInferred"))return;const p=c.getColDef();if(e&&p.type&&p.type!==d.type){const m=this.getUpdatedColumnState(c,o);m.rowGroup&&null==m.rowGroupIndex&&(i[s]=m),m.pivot&&null==m.pivotIndex&&(r[s]=m),n.push(m)}}),e&&n.push(...this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(i,r)),n.length&&this.columnModel.applyColumnState({state:n},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(t,e){const n=this.columnModel.getColumnStateFromColDef(t);return e.forEach(i=>{delete n[i],"rowGroup"===i?delete n.rowGroupIndex:"pivot"===i&&delete n.pivotIndex}),n}checkObjectValueHandlers(t){const e=this.dataTypeDefinitions.object,n=t.object;this.hasObjectValueParser=e.valueParser!==n.valueParser,this.hasObjectValueFormatter=e.valueFormatter!==n.valueFormatter}convertColumnTypes(t){let e=[];return t instanceof Array?t.some(i=>"string"!=typeof i)?console.warn("if colDef.type is supplied an array it should be of type 'string[]'"):e=t:"string"==typeof t?e=t.split(","):console.warn("colDef.type should be of type 'string' | 'string[]'"),e}getDateStringTypeDefinition(t){var e;return t&&null!=(e=this.getDataTypeDefinition(t))?e:this.dataTypeDefinitions.dateString}getDateParserFunction(t){return this.getDateStringTypeDefinition(t).dateParser}getDateFormatterFunction(t){return this.getDateStringTypeDefinition(t).dateFormatter}getDataTypeDefinition(t){const e=t.getColDef();if(e.cellDataType)return this.dataTypeDefinitions[e.cellDataType]}getBaseDataType(t){var e;return null==(e=this.getDataTypeDefinition(t))?void 0:e.baseDataType}checkType(t,e){var n;if(null==e)return!0;const i=null==(n=this.getDataTypeDefinition(t))?void 0:n.dataTypeMatcher;return!i||i(e)}validateColDef(t){"object"===t.cellDataType&&(t.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&ei('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),t.editable&&t.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&ei('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))}setColDefPropertiesForBaseDataType(t,e,n){const i=(c,d,p)=>{let m=c.getColDef().valueFormatter;return m===e.groupSafeValueFormatter&&(m=e.valueFormatter),this.valueFormatterService.formatValue(c,d,p,m)},r=Mr.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()),s=this.localeService.getLocaleTextFunc(),o=c=>{const{filterParams:d}=t;t.filterParams="object"==typeof d?Yn(Yn({},d),c):c};switch(e.baseDataType){case"number":t.cellEditor="agNumberCellEditor",r&&o({comparator:(c,d)=>{const p=null==c?0:parseInt(c),m=null==d?0:parseInt(d);return p===m?0:p>m?1:-1}});break;case"boolean":t.cellEditor="agCheckboxCellEditor",t.cellRenderer="agCheckboxCellRenderer",t.suppressKeyboardEvent=c=>!!c.colDef.editable&&c.event.key===Qe.SPACE,o(r?{valueFormatter:c=>$t(c.value)?s(String(c.value),c.value?"True":"False"):s("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(c,d)=>d,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(c,d)=>!1===d,numberOfInputs:0}]});break;case"date":t.cellEditor="agDateCellEditor",t.keyCreator=c=>i(c.column,c.node,c.value),r&&o({valueFormatter:c=>{const d=i(c.column,c.node,c.value);return $t(d)?d:s("blanks","(Blanks)")},treeList:!0,treeListFormatter:(c,d)=>{if(1===d&&null!=c){const p=uie[Number(c)-1];return s(p,cie[p])}return c??s("blanks","(Blanks)")}});break;case"dateString":{t.cellEditor="agDateStringCellEditor",t.keyCreator=d=>i(d.column,d.node,d.value);const c=e.dateParser;o(r?{valueFormatter:d=>{const p=i(d.column,d.node,d.value);return $t(p)?p:s("blanks","(Blanks)")},treeList:!0,treeListPathGetter:d=>{const p=c(d??void 0);return p?[String(p.getFullYear()),String(p.getMonth()+1),String(p.getDate())]:null},treeListFormatter:(d,p)=>{if(1===p&&null!=d){const m=uie[Number(d)-1];return s(m,cie[m])}return d??s("blanks","(Blanks)")}}:{comparator:(d,p)=>{const m=c(p);return null==p||m<d?-1:m>d?1:0}});break}case"object":t.cellEditorParams={useFormatter:!0},t.comparator=(c,d)=>{const p=this.columnModel.getPrimaryColumn(n),m=p?.getColDef();if(!p||!m)return 0;const y=null==c?"":i(p,null,c),A=null==d?"":i(p,null,d);return y===A?0:y>A?1:-1},t.keyCreator=c=>i(c.column,c.node,c.value),r?o({valueFormatter:c=>{const d=i(c.column,c.node,c.value);return $t(d)?d:s("blanks","(Blanks)")}}):t.filterValueGetter=c=>i(c.column,c.node,this.valueService.getValue(c.column,c.node))}}getDefaultDataTypes(){const t=n=>!!n.match("^\\d{4}-\\d{2}-\\d{2}$"),e=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:n=>{var i,r;return""===(null==(r=null==(i=n.newValue)?void 0:i.trim)?void 0:r.call(i))?null:Number(n.newValue)},valueFormatter:n=>null==n.value?"":"number"!=typeof n.value||isNaN(n.value)?e("invalidNumber","Invalid Number"):String(n.value),dataTypeMatcher:n=>"number"==typeof n},text:{baseDataType:"text",valueParser:n=>""===n.newValue?null:ry(n.newValue),dataTypeMatcher:n=>"string"==typeof n},boolean:{baseDataType:"boolean",valueParser:n=>{var i,r;return null==n.newValue?n.newValue:""===(null==(r=null==(i=n.newValue)?void 0:i.trim)?void 0:r.call(i))?null:"true"===String(n.newValue).toLowerCase()},valueFormatter:n=>null==n.value?"":String(n.value),dataTypeMatcher:n=>"boolean"==typeof n},date:{baseDataType:"date",valueParser:n=>Su(null==n.newValue?null:String(n.newValue)),valueFormatter:n=>{var i;return null==n.value?"":n.value instanceof Date&&!isNaN(n.value.getTime())?null!=(i=oh(n.value,!1))?i:"":e("invalidDate","Invalid Date")},dataTypeMatcher:n=>n instanceof Date},dateString:{baseDataType:"dateString",dateParser:n=>{var i;return null!=(i=Su(n))?i:void 0},dateFormatter:n=>{var i;return null!=(i=oh(n??null,!1))?i:void 0},valueParser:n=>t(String(n.newValue))?n.newValue:null,valueFormatter:n=>t(String(n.value))?n.value:"",dataTypeMatcher:n=>"string"==typeof n&&t(n)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:n=>{var i;return null!=(i=ry(n.value))?i:""}}}}};N([Y("rowModel")],tv.prototype,"rowModel",2),N([Y("columnModel")],tv.prototype,"columnModel",2),N([Y("columnUtils")],tv.prototype,"columnUtils",2),N([Y("valueService")],tv.prototype,"valueService",2),N([Y("valueFormatterService")],tv.prototype,"valueFormatterService",2),N([nn],tv.prototype,"init",1),tv=N([bn("dataTypeService")],tv);var vk=class extends Jt{parseValue(t,e,n,i){const r=t.getColDef(),s=this.gridOptionsService.addGridCommonParams({node:e,data:e?.data,oldValue:i,newValue:n,colDef:r,column:t}),o=r.valueParser;return $t(o)?"function"==typeof o?o(s):this.expressionService.evaluate(o,s):n}};N([Y("expressionService")],vk.prototype,"expressionService",2),vk=N([bn("valueParserService")],vk);var Xw=class extends Jt{constructor(){super(...arguments),this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",t=>this.setColumnDefs(t))}start(){this.ctrlsService.whenReady(()=>{const t=this.gridOptionsService.get("columnDefs");t?this.setColumnsAndData(t):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(t){this.columnModel.setColumnDefs(t??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.dispatchGridReadyEvent();const t=Mr.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId());new z3("AG Grid",()=>this.gridOptionsService.get("debug")).log(`initialised successfully, enterprise = ${t}`)}dispatchGridReadyEvent(){this.eventService.dispatchEvent({type:W.EVENT_GRID_READY})}setColumnDefs(t){const e=this.gridOptionsService.get("columnDefs");if(e){if(this.waitingForColumns)return this.waitingForColumns=!1,void this.setColumnsAndData(e);this.columnModel.setColumnDefs(e,CI(t.source))}}};N([Y("ctrlsService")],Xw.prototype,"ctrlsService",2),N([Y("columnModel")],Xw.prototype,"columnModel",2),N([Y("rowModel")],Xw.prototype,"rowModel",2),N([nn],Xw.prototype,"postConstruct",1),Xw=N([bn("syncService")],Xw);var Qw=class extends Jt{constructor(){super(...arguments),this.manuallyDisplayed=!1}postConstruct(){this.addManagedListener(this.eventService,W.EVENT_ROW_DATA_UPDATED,()=>this.onRowDataUpdated()),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,()=>this.onNewColumnsLoaded())}registerOverlayWrapperComp(t){this.overlayWrapperComp=t,(!this.gridOptionsService.get("columnDefs")||this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData"))&&this.showLoadingOverlay()}showLoadingOverlay(){if(this.gridOptionsService.get("suppressLoadingOverlay"))return;const e=this.userComponentFactory.getLoadingOverlayCompDetails({});this.showOverlay(e,"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}showNoRowsOverlay(){if(this.gridOptionsService.get("suppressNoRowsOverlay"))return;const e=this.userComponentFactory.getNoRowsOverlayCompDetails({});this.showOverlay(e,"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}showOverlay(t,e,n){const i=t.newAgStackInstance(),r=this.addManagedPropertyListener(n,({currentValue:s})=>{i.then(o=>{o.refresh&&o.refresh(this.gridOptionsService.addGridCommonParams(Yn({},s??{})))})});this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(i,e,r)}hideOverlay(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()}showOrHideOverlay(){const t=this.paginationProxy.isEmpty(),e=this.gridOptionsService.get("suppressNoRowsOverlay");t&&!e?this.showNoRowsOverlay():this.hideOverlay()}onRowDataUpdated(){this.showOrHideOverlay()}onNewColumnsLoaded(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()}};N([Y("userComponentFactory")],Qw.prototype,"userComponentFactory",2),N([Y("paginationProxy")],Qw.prototype,"paginationProxy",2),N([Y("columnModel")],Qw.prototype,"columnModel",2),N([nn],Qw.prototype,"postConstruct",1),Qw=N([bn("overlayService")],Qw);var zc=class extends Jt{constructor(){super(...arguments),this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=vl(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=vl(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=vl(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){var t;this.isClientSideRowModel="clientSide"===this.rowModel.getType(),this.cachedState=null!=(t=this.gridOptionsService.get("initialState"))?t:{},this.ctrlsService.whenReady(()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const e=this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,({source:r})=>{"gridInitializing"===r&&(e?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))}),n=this.addManagedListener(this.eventService,W.EVENT_ROW_COUNT_READY,()=>{n?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())}),i=this.addManagedListener(this.eventService,W.EVENT_FIRST_DATA_RENDERED,()=>{i?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,W.EVENT_TOOL_PANEL_VISIBLE_CHANGED,()=>this.updateCachedState("sideBar",this.getSideBarState())),this.addManagedListener(this.eventService,W.EVENT_SIDE_BAR_UPDATED,()=>this.updateCachedState("sideBar",this.getSideBarState()))}setupStateOnColumnsInitialised(){var t;const e=null!=(t=this.gridOptionsService.get("initialState"))?t:{};this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VALUE_CHANGED,()=>this.updateColumnState(["aggregation"])),this.addManagedListener(this.eventService,W.EVENT_COLUMN_MOVED,()=>this.updateColumnState(["columnOrder"])),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PINNED,()=>this.updateColumnState(["columnPinning"])),this.addManagedListener(this.eventService,W.EVENT_COLUMN_RESIZED,()=>this.updateColumnState(["columnSizing"])),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VISIBLE,()=>this.updateColumnState(["columnVisibility"])),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_CHANGED,()=>this.updateColumnState(["pivot"])),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.updateColumnState(["pivot"])),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateColumnState(["rowGroup"])),this.addManagedListener(this.eventService,W.EVENT_SORT_CHANGED,()=>this.updateColumnState(["sort"])),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"])),this.addManagedListener(this.eventService,W.EVENT_COLUMN_GROUP_OPENED,()=>this.updateCachedState("columnGroup",this.getColumnGroupState()))}setupStateOnRowCountReady(){var t;const{filter:e,rowGroupExpansion:n,rowSelection:i,pagination:r}=null!=(t=this.gridOptionsService.get("initialState"))?t:{},s=this.gridOptionsService.get("advancedFilterModel");(e||s)&&this.setFilterState(e,s),n&&this.setRowGroupExpansionState(n),i&&this.setRowSelectionState(i),r&&this.setPaginationState(r),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,W.EVENT_FILTER_CHANGED,()=>this.updateCachedState("filter",this.getFilterState())),this.addManagedListener(this.eventService,W.EVENT_ROW_GROUP_OPENED,()=>this.onRowGroupOpenedDebounced()),this.addManagedListener(this.eventService,W.EVENT_EXPAND_COLLAPSE_ALL,()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())),this.addManagedListener(this.eventService,W.EVENT_SELECTION_CHANGED,()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()}),this.addManagedListener(this.eventService,W.EVENT_PAGINATION_CHANGED,o=>{(o.newPage||o.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())})}setupStateOnFirstDataRendered(){var t;const{scroll:e,rangeSelection:n,focusedCell:i,columnOrder:r}=null!=(t=this.gridOptionsService.get("initialState"))?t:{};i&&this.setFocusedCellState(i),n&&this.setRangeSelectionState(n),e&&this.setScrollState(e),this.setColumnPivotState(!!r?.orderedColIds),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,W.EVENT_CELL_FOCUSED,()=>this.updateCachedState("focusedCell",this.getFocusedCellState())),this.addManagedListener(this.eventService,W.EVENT_RANGE_SELECTION_CHANGED,s=>{s.finished&&this.updateCachedState("rangeSelection",this.getRangeSelectionState())}),this.addManagedListener(this.eventService,W.EVENT_BODY_SCROLL_END,()=>this.updateCachedState("scroll",this.getScrollState()))}getColumnState(){const t=this.columnModel.isPivotMode(),e=[],n=[],i=[],r=[],s=[],o=[],c=[],d=[],p=[],m=this.columnModel.getColumnState();for(let y=0;y<m.length;y++){const{colId:A,sort:k,sortIndex:U,rowGroup:X,rowGroupIndex:Q,aggFunc:pe,pivot:Ie,pivotIndex:ke,pinned:tt,hide:zt,width:Ot,flex:Se}=m[y];p.push(A),k&&(e[U??0]={colId:A,sort:k}),X&&(n[Q??0]=A),"string"==typeof pe&&i.push({colId:A,aggFunc:pe}),Ie&&(r[ke??0]=A),tt&&("right"===tt?o:s).push(A),zt&&c.push(A),(Se||Ot)&&d.push({colId:A,flex:Se??void 0,width:Ot})}return{sort:e.length?{sortModel:e}:void 0,rowGroup:n.length?{groupColIds:n}:void 0,aggregation:i.length?{aggregationModel:i}:void 0,pivot:r.length||t?{pivotMode:t,pivotColIds:r}:void 0,columnPinning:s.length||o.length?{leftColIds:s,rightColIds:o}:void 0,columnVisibility:c.length?{hiddenColIds:c}:void 0,columnSizing:d.length?{columnSizingModel:d}:void 0,columnOrder:p.length?{orderedColIds:p}:void 0}}setColumnState(t){const{sort:e,rowGroup:n,aggregation:i,pivot:r,columnPinning:s,columnVisibility:o,columnSizing:c,columnOrder:d}=t,p={},m=U=>{let X=p[U];return X||(X={colId:U},p[U]=X,X)};e&&e.sortModel.forEach(({colId:U,sort:X},Q)=>{const pe=m(U);pe.sort=X,pe.sortIndex=Q}),n&&n.groupColIds.forEach((U,X)=>{const Q=m(U);Q.rowGroup=!0,Q.rowGroupIndex=X}),i&&i.aggregationModel.forEach(({colId:U,aggFunc:X})=>{m(U).aggFunc=X}),r&&(r.pivotColIds.forEach((U,X)=>{const Q=m(U);Q.pivot=!0,Q.pivotIndex=X}),this.gridOptionsService.updateGridOptions({options:{pivotMode:r.pivotMode},source:"gridInitializing"})),s&&(s.leftColIds.forEach(U=>{m(U).pinned="left"}),s.rightColIds.forEach(U=>{m(U).pinned="right"})),o&&o.hiddenColIds.forEach(U=>{m(U).hide=!0}),c&&c.columnSizingModel.forEach(({colId:U,flex:X,width:Q})=>{const pe=m(U);pe.flex=X??null,pe.width=Q});const y=d?.orderedColIds,A=!!y?.length,k=A?y.map(U=>m(U)):Object.values(p);k.length&&(this.columnStates=k,this.columnModel.applyColumnState({state:k,applyOrder:A,defaultState:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null}},"gridInitializing"))}setColumnPivotState(t){const e=this.columnStates;this.columnStates=void 0;const n=this.columnGroupStates;if(this.columnGroupStates=void 0,this.columnModel.isSecondaryColumnsPresent()){if(e){let i=[];for(const r of e)this.columnModel.getSecondaryColumn(r.colId)&&i.push(r);this.columnModel.applyColumnState({state:i,applyOrder:t},"gridInitializing")}n&&this.columnModel.setColumnGroupState(n,"gridInitializing")}}getColumnGroupState(){const t=this.columnModel.getColumnGroupState(),e=[];return t.forEach(({groupId:n,open:i})=>{i&&e.push(n)}),e.length?{openColumnGroupIds:e}:void 0}setColumnGroupState(t){var e;if(!t.hasOwnProperty("columnGroup"))return;const n=new Set(null==(e=t.columnGroup)?void 0:e.openColumnGroupIds),r=this.columnModel.getColumnGroupState().map(({groupId:s})=>{const o=n.has(s);return o&&n.delete(s),{groupId:s,open:o}});n.forEach(s=>{r.push({groupId:s,open:!0})}),r.length&&(this.columnGroupStates=r),this.columnModel.setColumnGroupState(r,"gridInitializing")}getFilterState(){var t;let e=this.filterManager.getFilterModel();e&&0===Object.keys(e).length&&(e=void 0);const n=null!=(t=this.filterManager.getAdvancedFilterModel())?t:void 0;return e||n?{filterModel:e,advancedFilterModel:n}:void 0}setFilterState(t,e){const{filterModel:n,advancedFilterModel:i}=t??{advancedFilterModel:e};n&&this.filterManager.setFilterModel(n,"columnFilter"),i&&this.filterManager.setAdvancedFilterModel(i)}getRangeSelectionState(){var t;const e=null==(t=this.rangeService)?void 0:t.getCellRanges().map(n=>{const{id:i,type:r,startRow:s,endRow:o,columns:c,startColumn:d}=n;return{id:i,type:r,startRow:s,endRow:o,colIds:c.map(p=>p.getColId()),startColId:d.getColId()}});return e?.length?{cellRanges:e}:void 0}setRangeSelectionState(t){var e;if(!this.gridOptionsService.get("enableRangeSelection"))return;const n=t.cellRanges.map(i=>ms(Yn({},i),{columns:i.colIds.map(r=>this.columnModel.getGridColumn(r)),startColumn:this.columnModel.getGridColumn(i.startColId)}));null==(e=this.rangeService)||e.setCellRanges(n)}getScrollState(){var t,e,n;if(!this.isClientSideRowModel)return;const i=null==(t=this.ctrlsService.getGridBodyCtrl())?void 0:t.getScrollFeature(),{left:r}=null!=(e=i?.getHScrollPosition())?e:{left:0},{top:s}=null!=(n=i?.getVScrollPosition())?n:{top:0};return s||r?{top:s,left:r}:void 0}setScrollState(t){var e;if(!this.isClientSideRowModel)return;const{top:n,left:i}=t;null==(e=this.ctrlsService.getGridBodyCtrl())||e.getScrollFeature().setScrollPosition(n,i)}getSideBarState(){var t,e;return null==(e=null==(t=this.sideBarService)?void 0:t.getSideBarComp())?void 0:e.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const t=this.focusService.getFocusedCell();if(t){const{column:e,rowIndex:n,rowPinned:i}=t;return{colId:e.getColId(),rowIndex:n,rowPinned:i}}}setFocusedCellState(t){if(!this.isClientSideRowModel)return;const{colId:e,rowIndex:n,rowPinned:i}=t;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(e),rowIndex:n,rowPinned:i,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const t=this.paginationProxy.getCurrentPage(),e=this.gridOptionsService.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(t||e)return{page:t,pageSize:e}}setPaginationState(t){t.pageSize&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(t.pageSize,"initialState"),"number"==typeof t.page&&this.paginationProxy.setPage(t.page)}getRowSelectionState(){var t;const e=this.selectionService.getSelectionState();return e&&(Array.isArray(e)||!1!==e.selectAll&&!1!==e.selectAllChildren||null!=(t=e?.toggledNodes)&&t.length)?e:void 0}setRowSelectionState(t){this.selectionService.setSelectionState(t,"gridInitializing")}getRowGroupExpansionState(){const t=this.expansionService.getExpandedRows();return t.length?{expandedRowGroupIds:t}:void 0}setRowGroupExpansionState(t){this.expansionService.expandRows(t.expandedRowGroupIds)}updateColumnState(t){const e=this.getColumnState();let n=!1;Object.entries(e).forEach(([i,r])=>{yL(r,this.cachedState[i])||(n=!0)}),this.cachedState=Yn(Yn({},this.cachedState),e),n&&this.dispatchStateUpdateEvent(t)}updateCachedState(t,e){const n=this.cachedState[t];this.setCachedStateValue(t,e),yL(e,n)||this.dispatchStateUpdateEvent([t])}setCachedStateValue(t,e){this.cachedState=ms(Yn({},this.cachedState),{[t]:e})}refreshStaleState(){this.staleStateKeys.forEach(t=>{"rowSelection"===t&&this.setCachedStateValue(t,this.getRowSelectionState())}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(t){this.suppressEvents||(t.forEach(e=>this.queuedUpdateSources.add(e)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const t=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:W.EVENT_STATE_UPDATED,sources:t,state:this.cachedState})}suppressEventsAndDispatchInitEvent(t){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),t(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}};N([Y("filterManager")],zc.prototype,"filterManager",2),N([lr("rangeService")],zc.prototype,"rangeService",2),N([Y("ctrlsService")],zc.prototype,"ctrlsService",2),N([lr("sideBarService")],zc.prototype,"sideBarService",2),N([Y("focusService")],zc.prototype,"focusService",2),N([Y("columnModel")],zc.prototype,"columnModel",2),N([Y("paginationProxy")],zc.prototype,"paginationProxy",2),N([Y("rowModel")],zc.prototype,"rowModel",2),N([Y("selectionService")],zc.prototype,"selectionService",2),N([Y("expansionService")],zc.prototype,"expansionService",2),N([Y("columnAnimationService")],zc.prototype,"columnAnimationService",2),N([nn],zc.prototype,"postConstruct",1),zc=N([bn("stateService")],zc);var A1=class extends Jt{init(){this.processGridOptions(this.gridOptions)}processGridOptions(t){this.processOptions(t,fCe)}processColumnDefs(t){this.processOptions(t,qI)}processOptions(t,e){const{validations:n,deprecations:i,allProperties:r,propertyExceptions:s,objectName:o,docsUrl:c}=e;r&&!0!==this.gridOptions.suppressPropertyNamesCheck&&this.checkProperties(t,[...s??[],...Object.keys(i)],r,o,c);const d=new Set;Object.keys(t).forEach(m=>{var y;const A=i[m];if(A)if("renamed"in A){const{renamed:ke,version:tt}=A;d.add(`As of v${tt}, ${String(m)} is deprecated. Please use ${String(ke)} instead.`),t[ke]=t[m]}else{const{message:ke,version:tt}=A;d.add(`As of v${tt}, ${String(m)} is deprecated. ${ke??""}`)}const k=t[m];if(null==k||!1===k)return;const U=n[m];let X;if(!U)return;if("function"==typeof U){const ke=U(t,this.gridOptions);if(!ke)return;if("objectName"in ke){const tt=t[m];return Array.isArray(tt)?void tt.forEach(zt=>{this.processOptions(zt,ke)}):void this.processOptions(t[m],ke)}X=ke}else X=U;const{module:Q,dependencies:pe,supportedRowModels:Ie}=X;if(Ie){const ke=null!=(y=this.gridOptions.rowModelType)?y:"clientSide";if(!Ie.includes(ke))return void d.add(`${String(m)} is not supported with the '${ke}' row model.`)}if(Q){const ke=Array.isArray(Q)?Q:[Q];let tt=!0;if(ke.forEach(zt=>{Mr.__assertRegistered(zt,String(m),this.context.getGridId())||(tt=!1,d.add(`${String(m)} is only available when ${zt} is loaded.`))}),!tt)return}if(pe){const ke=this.checkForWarning(m,pe,t);if(ke)return void d.add(ke)}}),d.size>0&&d.forEach(m=>{ei(m)})}checkForWarning(t,e,n){if("function"==typeof e)return e(n,this.gridOptions);const r=Object.entries(e).find(([c,d])=>!d.includes(n[c]));if(!r)return null;const[s,o]=r;return o.length>1?`'${String(t)}' requires '${s}' to be one of [${o.join(", ")}].`:`'${String(t)}' requires '${s}' to be ${o[0]}.`}checkProperties(t,e,n,i,r){const o=ene(Object.getOwnPropertyNames(t),["__ob__","__v_skip","__metadata__",...e,...n],n);if(ml(o,(c,d)=>{ei(`invalid ${i} property '${c}' did you mean any of these: ${d.slice(0,8).join(", ")}`)}),Object.keys(o).length>0&&r){const c=this.getFrameworkOverrides().getDocLink(r);ei(`to see all the valid ${i} properties please check: ${c}`)}}};N([Y("gridOptions")],A1.prototype,"gridOptions",2),N([nn],A1.prototype,"init",1),A1=N([bn("validationService")],A1);var _k=class extends Jt{constructor(){super(...arguments),this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new TL(this.getFrameworkOverrides())}addEventListener(t,e){const n=this.frameworkEventWrappingService.wrap(e),i=this.gridOptionsService.useAsyncEvents()&&!PL.has(t),r=i?this.asyncEventListeners:this.syncEventListeners;r.has(t)||r.set(t,new Set),r.get(t).add(n),this.eventService.addEventListener(t,n,i)}removeEventListener(t,e){var n;const i=this.frameworkEventWrappingService.unwrap(e),r=this.asyncEventListeners.get(t),s=!!r?.delete(i);s||null==(n=this.syncEventListeners.get(t))||n.delete(i),this.eventService.removeEventListener(t,i,s)}addGlobalListener(t){const e=this.frameworkEventWrappingService.wrapGlobal(t);if(this.gridOptionsService.useAsyncEvents()){const i=(s,o)=>{PL.has(s)&&e(s,o)},r=(s,o)=>{PL.has(s)||e(s,o)};this.globalEventListenerPairs.set(t,{syncListener:i,asyncListener:r}),this.eventService.addGlobalListener(i,!1),this.eventService.addGlobalListener(r,!0)}else this.syncGlobalEventListeners.add(e),this.eventService.addGlobalListener(e,!1)}removeGlobalListener(t){const e=this.frameworkEventWrappingService.unwrapGlobal(t);if(this.globalEventListenerPairs.has(e)){const{syncListener:i,asyncListener:r}=this.globalEventListenerPairs.get(e);this.eventService.removeGlobalListener(i,!1),this.eventService.removeGlobalListener(r,!0),this.globalEventListenerPairs.delete(t)}else this.syncGlobalEventListeners.delete(e),this.eventService.removeGlobalListener(e,!1)}destroyEventListeners(t,e){t.forEach((n,i)=>{n.forEach(r=>this.eventService.removeEventListener(i,r,e)),n.clear()}),t.clear()}destroyGlobalListeners(t,e){t.forEach(n=>this.eventService.removeGlobalListener(n,e)),t.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:t,asyncListener:e})=>{this.eventService.removeGlobalListener(t,!1),this.eventService.removeGlobalListener(e,!0)}),this.globalEventListenerPairs.clear()}};N([nn],_k.prototype,"postConstruct",1),_k=N([bn("apiEventService")],_k);var R1=class extends Ii{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const t=this.selectPageSizeComp.getValue();if(!t)return;const e=Number(t);isNaN(e)||e<1||e===this.paginationProxy.getPageSize()||(this.paginationProxy.setPageSize(e,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}init(){this.addManagedPropertyListener("paginationPageSizeSelector",()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedListener(this.eventService,W.EVENT_PAGINATION_CHANGED,t=>this.handlePaginationChanged(t))}handlePaginationChanged(t){if(!this.selectPageSizeComp||!t?.newPageSize)return;const e=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(e)?this.selectPageSizeComp.setValue(e.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(t){this.selectPageSizeComp&&this.reset(),t&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))}reset(){Jo(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel")&&!this.gridOptionsService.get("paginationAutoPageSize")&&!1!==this.gridOptionsService.get("paginationPageSizeSelector")}reloadPageSizesSelector(){const t=this.getPageSizeSelectorValues(),e=this.paginationProxy.getPageSize(),n=!e||!t.includes(e);n&&(t.unshift(""),ei("The paginationPageSize grid option is set to a value that is not in the list of page size options.\n                Please make sure that the paginationPageSize grid option is set to one of the values in the \n                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.")),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);const i=this.localeService.getLocaleTextFunc(),r=i("pageSizeSelectorLabel","Page Size:"),s=t.map(c=>({value:String(c),text:String(c)})),o=i("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new KL).addOptions(s).setValue(String(n?"":e)).setAriaLabel(o).setLabel(r).onValueChange(()=>this.handlePageSizeItemSelected()),this.hasEmptyOption=n}getPageSizeSelectorValues(){const e=this.gridOptionsService.get("paginationPageSizeSelector");return Array.isArray(e)&&this.validateValues(e)?[...e].sort((n,i)=>n-i):[20,50,100]}validateValues(t){if(!t.length)return ei("The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.\n                If you want to hide the page size selector, please set the paginationPageSizeSelector to false."),!1;for(let e=0;e<t.length;e++){const n=t[e],r=n>0;if("number"!=typeof n)return ei("The paginationPageSizeSelector grid option contains a non-numeric value.\n                    Please make sure that all values in the paginationPageSizeSelector array are numbers."),!1;if(!r)return ei("The paginationPageSizeSelector grid option contains a negative number or zero.\n                    Please make sure that all values in the paginationPageSizeSelector array are positive."),!1}return!0}destroy(){this.toggleSelectDisplay(!1),super.destroy()}};N([Y("localeService")],R1.prototype,"localeService",2),N([Y("gridOptionsService")],R1.prototype,"gridOptionsService",2),N([Y("paginationProxy")],R1.prototype,"paginationProxy",2),N([nn],R1.prototype,"init",1);var D1=class extends Jt{constructor(){super(),this.descriptionContainer=null,this.announceValue=vl(this.announceValue.bind(this),200)}postConstruct(){const t=this.gridOptionsService.getDocument(),e=this.descriptionContainer=t.createElement("div");e.classList.add("ag-aria-description-container"),F6(e,"polite"),Ate(e,"additions text"),Tte(e,!0),this.eGridDiv.appendChild(e)}announceValue(t){this.descriptionContainer&&(this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=t)},50))}destroy(){super.destroy();const{descriptionContainer:t}=this;t&&(Jo(t),t.parentElement&&t.parentElement.removeChild(t)),this.descriptionContainer=null,this.eGridDiv=null}};N([Y("eGridDiv")],D1.prototype,"eGridDiv",2),N([nn],D1.prototype,"postConstruct",1),D1=N([bn("ariaAnnouncementService")],D1);var mCe=1,die=class{create(t,e,n,i,r){var s;const o=!!e.debug,c=null!=(s=e.gridId)?s:String(mCe++),d=this.getRegisteredModules(r,c),p=this.createBeansList(e.rowModelType,d,c),m=this.createProvidedBeans(t,e,r);if(!p)return void wu("Failed to create grid.");const y={providedBeanInstances:m,beanClasses:p,debug:o,gridId:c},A=new z3("Context",()=>y.debug),k=new ute(y,A),U=k.getBean("beans");return this.registerModuleUserComponents(U,d),this.registerStackComponents(U,d),this.registerControllers(U,d),n(k),U.syncService.start(),i&&i(k),U.gridApi}registerControllers(t,e){e.forEach(n=>{n.controllers&&n.controllers.forEach(i=>t.ctrlsFactory.register(i))})}registerStackComponents(t,e){const n=this.createAgStackComponentsList(e);t.agStackComponentsRegistry.setupComponents(n)}getRegisteredModules(t,e){const n=t?t.modules:null,i=Mr.__getRegisteredModules(e),r=[],s={},o=(c,d,p)=>{var y;s[(y=d).moduleName]||(s[y.moduleName]=!0,r.push(y),Mr.__register(y,c,p)),d.dependantModules&&d.dependantModules.forEach(y=>o(c,y,p))};return n&&n.forEach(c=>o(!0,c,e)),i&&i.forEach(c=>o(!Mr.__isPackageBased(),c,void 0)),r}registerModuleUserComponents(t,e){this.extractModuleEntity(e,i=>i.userComponents?i.userComponents:[]).forEach(i=>{t.userComponentRegistry.registerDefaultComponent(i.componentName,i.componentClass)})}createProvidedBeans(t,e,n){let i=n?n.frameworkOverrides:null;hi(i)&&(i=new iie);const r={gridOptions:e,eGridDiv:t,globalEventListener:n?n.globalEventListener:null,globalSyncEventListener:n?n.globalSyncEventListener:null,frameworkOverrides:i};return n&&n.providedBeanInstances&&Object.assign(r,n.providedBeanInstances),r}createAgStackComponentsList(t){let e=[{componentName:"AgCheckbox",componentClass:YL},{componentName:"AgRadioButton",componentClass:_ne},{componentName:"AgToggleButton",componentClass:Zne},{componentName:"AgInputTextField",componentClass:Iw},{componentName:"AgInputTextArea",componentClass:Hye},{componentName:"AgInputNumberField",componentClass:_3},{componentName:"AgInputDateField",componentClass:Uye},{componentName:"AgInputRange",componentClass:Wye},{componentName:"AgRichSelect",componentClass:H3},{componentName:"AgSelect",componentClass:KL},{componentName:"AgSlider",componentClass:jye},{componentName:"AgGridBody",componentClass:qp},{componentName:"AgHeaderRoot",componentClass:Fye},{componentName:"AgSortIndicator",componentClass:b3},{componentName:"AgPagination",componentClass:Du},{componentName:"AgPageSizeSelector",componentClass:R1},{componentName:"AgOverlayWrapper",componentClass:oCe},{componentName:"AgGroupComponent",componentClass:$ye},{componentName:"AgRowContainer",componentClass:PI},{componentName:"AgFakeHorizontalScroll",componentClass:aCe},{componentName:"AgFakeVerticalScroll",componentClass:pCe},{componentName:"AgAutocomplete",componentClass:Jye}];const n=this.extractModuleEntity(t,i=>i.agStackComponents?i.agStackComponents:[]);return e=e.concat(n),e}createBeansList(t="clientSide",e,n){const i=e.filter(d=>!d.rowModel||d.rowModel===t),r={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!r[t])return void wu("Could not find row model for rowModelType = "+t);if(!Mr.__assertRegistered(r[t],`rowModelType = '${t}'`,n))return;const s=[Ei,zI,X3,E1,BI,Qi,r1,mk,y1,V3,uy,UI,u1,eW,A1,p1,s1,M6,ih,Or,ev,Ww,ch,Ra,kw,g1,dd,fk,_I,W3,Uw,Ql,gk,my,pk,P6,Gw,dy,Di,zw,ts,Jm,C1,gy,lk,uk,xI,qw,j3,_1,WI,Hx,HI,LI,uh,N6,J3,S1,Kp,jI,I1,T1,$I,Z3,tv,vk,Au,Xw,Qw,zc,h1,_k,D1,bf],o=this.extractModuleEntity(i,d=>d.beans?d.beans:[]);s.push(...o);const c=[];return s.forEach(d=>{c.indexOf(d)<0&&c.push(d)}),c}extractModuleEntity(t,e){return[].concat(...t.map(e))}},vCe=class{wrap(t,e,n=[],i){const r=this.createWrapper(t,i);return e.forEach(s=>{this.createMethod(r,s,!0)}),n.forEach(s=>{this.createMethod(r,s,!1)}),r}unwrap(t){return t}createMethod(t,e,n){t.addMethod(e,this.createMethodProxy(t,e,n))}createMethodProxy(t,e,n){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(n&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}}},KI=typeof global>"u"?{}:global;KI.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement,KI.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement,KI.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement,KI.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement,KI.Node=typeof Node>"u"?{}:Node,KI.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var nW=class fN{constructor(e,n,i,r,s,o){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gridOptionsService=n,this.eventService=i,this.columnModel=r,this.beans=o,this.selectionService=s,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=fN.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return $i.cloneObject(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if("string"==typeof e)return void console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);const n=this.rootNode,i=this.rootNode.sibling;n.childrenAfterFilter=null,n.childrenAfterGroup=null,n.childrenAfterAggFilter=null,n.childrenAfterSort=null,n.childrenMapped=null,n.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?n.allLeafChildren=e.map(r=>this.createNode(r,this.rootNode,fN.TOP_LEVEL)):(n.allLeafChildren=[],n.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=n.childrenAfterFilter,i.childrenAfterGroup=n.childrenAfterGroup,i.childrenAfterAggFilter=n.childrenAfterAggFilter,i.childrenAfterSort=n.childrenAfterSort,i.childrenMapped=n.childrenMapped,i.allLeafChildren=n.allLeafChildren)}updateRowData(e,n){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);const i={remove:[],update:[],add:[]},r=[];return this.executeRemove(e,i,r),this.executeUpdate(e,i,r),this.executeAdd(e,i),this.updateSelection(r,"rowDataChanged"),n&&$i.sortRowNodesByOrder(this.rootNode.allLeafChildren,n),i}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:W.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:e?.length?e[0]:null})}updateSelection(e,n){const i=e.length>0;i&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:n}),this.selectionService.updateGroupsFromChildrenSelections(n),i&&this.eventService.dispatchEvent({type:W.EVENT_SELECTION_CHANGED,source:n})}executeAdd(e,n){var i;const{add:r,addIndex:s}=e;if($i.missingOrEmpty(r))return;const o=r.map(c=>this.createNode(c,this.rootNode,fN.TOP_LEVEL));if("number"==typeof s&&s>=0){const{allLeafChildren:c}=this.rootNode,d=c.length;let p=s;if(this.gridOptionsService.get("treeData")&&s>0&&d>0)for(let k=0;k<d;k++)if((null==(i=c[k])?void 0:i.rowIndex)==s-1){p=k+1;break}const y=c.slice(0,p),A=c.slice(p,c.length);this.rootNode.allLeafChildren=[...y,...o,...A]}else this.rootNode.allLeafChildren=[...this.rootNode.allLeafChildren,...o];this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),n.add=o}executeRemove(e,n,i){const{remove:r}=e;if($i.missingOrEmpty(r))return;const s={};r.forEach(o=>{const c=this.lookupRowNode(o);c&&(c.isSelected()&&i.push(c),c.clearRowTopAndRowIndex(),s[c.id]=!0,delete this.allNodesMap[c.id],n.remove.push(c))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(o=>!s[o.id]),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,n,i){const{update:r}=e;$i.missingOrEmpty(r)||r.forEach(s=>{const o=this.lookupRowNode(s);o&&(o.updateData(s),!o.selectable&&o.isSelected()&&i.push(o),this.setMasterForRow(o,s,fN.TOP_LEVEL,!1),n.update.push(o))})}lookupRowNode(e){const n=this.gridOptionsService.getCallback("getRowId");let i;if(n){const r=n({data:e,level:0});if(i=this.allNodesMap[r],!i)return console.error(`AG Grid: could not find row id=${r}, data item was not found for this id`),null}else if(i=this.rootNode.allLeafChildren.find(r=>r.data===e),!i)return console.error("AG Grid: could not find data item as object was not found",e),console.error("Consider using getRowId to help the Grid find matching row data"),null;return i||null}createNode(e,n,i){const r=new qi(this.beans);r.group=!1,this.setMasterForRow(r,e,i,!0);const s=this.gridOptionsService.get("suppressParentsInRowNodes");return n&&!s&&(r.parent=n),r.level=i,r.setDataAndId(e,this.nextId.toString()),this.allNodesMap[r.id]&&console.warn(`AG Grid: duplicate node id '${r.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[r.id]=r,this.nextId++,r}setMasterForRow(e,n,i,r){if(this.gridOptionsService.get("treeData"))e.setMaster(!1),r&&(e.expanded=!1);else{if(this.gridOptionsService.get("masterDetail")){const c=this.gridOptionsService.get("isRowMaster");e.setMaster(!c||c(n))}else e.setMaster(!1);if(r){const c=this.columnModel.getRowGroupColumns();e.expanded=!!e.master&&this.isExpanded(i+(c?c.length:0))}}}isExpanded(e){const n=this.gridOptionsService.get("groupDefaultExpanded");return-1===n||e<n}};nW.TOP_LEVEL=0,nW.ROOT_NODE_ID="ROOT_NODE_ID";var yCe=nW,Jl=class extends Jt{constructor(){super(...arguments),this.onRowHeightChanged_debounced=$i.debounce(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}init(){const t=this.refreshModel.bind(this,{step:"group"}),e=!this.gridOptionsService.get("suppressAnimationFrame"),n=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:e});this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,n),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:"pivot"})),this.addManagedListener(this.eventService,W.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this)),this.addManagedListener(this.eventService,W.EVENT_GRID_READY,()=>this.onGridReady()),this.addPropertyListeners(),this.rootNode=new qi(this.beans),this.nodeManager=new yCe(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)}addPropertyListeners(){const t=new Set(["treeData","masterDetail"]),e=new Set(["suppressParentsInRowNodes","groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),n=new Set(["excludeChildrenWhenTreeDataFiltering"]),i=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),r=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly"]),s=new Set(["postSortRows","groupDisplayType","accentedSort"]),o=new Set([]),c=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"]),d=[...t,...e,...n,...i,...i,...r,...s,...o,...c];this.addManagedPropertyListeners(d,p=>{var m;const y=null==(m=p.changeSet)?void 0:m.properties;if(!y)return;const A=k=>y.some(U=>k.has(U));A(t)?this.setRowData(this.rootNode.allLeafChildren.map(k=>k.data)):A(e)?this.refreshModel({step:"group"}):A(n)?this.refreshModel({step:"filter"}):A(i)?this.refreshModel({step:"pivot"}):A(r)?this.refreshModel({step:"aggregate"}):A(s)?this.refreshModel({step:"sort"}):A(o)?this.refreshModel({step:"filter_aggregates"}):A(c)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const t=this.gridOptionsService.get("rowData");t&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(t))}ensureRowHeightsValid(t,e,n,i){let r,s=!1;do{r=!1;const o=this.getRowIndexAtPixel(t),c=this.getRowIndexAtPixel(e),d=Math.max(o,n),p=Math.min(c,i);for(let m=d;m<=p;m++){const y=this.getRow(m);if(y.rowHeightEstimated){const A=this.gridOptionsService.getRowHeightForNode(y);y.setRowHeight(A.height),r=!0,s=!0}}r&&this.setRowTopAndRowIndex()}while(r);return s}setRowTopAndRowIndex(){const t=this.environment.getDefaultRowHeight();let e=0;const n=new Set,i=this.gridOptionsService.isDomLayout("normal");for(let r=0;r<this.rowsToDisplay.length;r++){const s=this.rowsToDisplay[r];if(null!=s.id&&n.add(s.id),null==s.rowHeight){const o=this.gridOptionsService.getRowHeightForNode(s,i,t);s.setRowHeight(o.height,o.estimated)}s.setRowTop(e),s.setRowIndex(r),e+=s.rowHeight}return n}clearRowTopAndRowIndex(t,e){const n=t.isActive(),i=s=>{s&&null!=s.id&&!e.has(s.id)&&s.clearRowTopAndRowIndex()},r=s=>{i(s),i(s.detailNode),i(s.sibling),s.hasChildren()&&s.childrenAfterGroup&&(n&&-1!=s.level&&!s.expanded||s.childrenAfterGroup.forEach(r))};r(this.rootNode)}ensureRowsAtPixel(t,e,n=0){const i=this.getRowIndexAtPixel(e),r=this.getRow(i),s=!this.gridOptionsService.get("suppressAnimationFrame");return r!==t[0]&&(t.forEach(o=>{$i.removeFromArray(this.rootNode.allLeafChildren,o)}),t.forEach((o,c)=>{$i.insertIntoArray(this.rootNode.allLeafChildren,o,Math.max(i+n,0)+c)}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:s}),!0)}highlightRowAtPixel(t,e){const n=null!=e?this.getRowIndexAtPixel(e):null,i=null!=n?this.getRow(n):null;if(!i||!t||i===t||null==e)return void(this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null));const r=this.getHighlightPosition(e,i);this.lastHighlightedRow&&this.lastHighlightedRow!==i&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),i.setHighlighted(r),this.lastHighlightedRow=i}getHighlightPosition(t,e){if(!e){const r=this.getRowIndexAtPixel(t);if(!(e=this.getRow(r||0)))return 1}const{rowTop:n,rowHeight:i}=e;return t-n<i/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const e=this.rootNode.childrenAfterAggFilter;return e?e.length:0}getTopLevelRowDisplayedIndex(t){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return t;let n=this.rootNode.childrenAfterSort[t];if(this.gridOptionsService.get("groupHideOpenParents"))for(;n.expanded&&n.childrenAfterSort&&n.childrenAfterSort.length>0;)n=n.childrenAfterSort[0];return n.rowIndex}getRowBounds(t){if($i.missing(this.rowsToDisplay))return null;const e=this.rowsToDisplay[t];return e?{rowTop:e.rowTop,rowHeight:e.rowHeight}:null}onRowGroupOpened(){const t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:"map",keepRenderedRows:!0,animate:t})}onFilterChanged(t){if(t.afterDataChange)return;const e=this.gridOptionsService.isAnimateRows(),i=0===t.columns.length||t.columns.some(r=>r.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:i,keepRenderedRows:!0,animate:e})}onSortChanged(){const t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:"sort",keepRenderedRows:!0,animate:t,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(t){const e=$i.missingOrEmpty(t),n=new ck(!1,this.rootNode);return(e||this.gridOptionsService.get("treeData"))&&n.setInactive(),n}isSuppressModelUpdateAfterUpdateTransaction(t){if(!this.gridOptionsService.get("suppressModelUpdateAfterUpdateTransaction")||null==t.rowNodeTransactions)return!1;const e=t.rowNodeTransactions.filter(i=>null!=i.add&&i.add.length>0||null!=i.remove&&i.remove.length>0);return null==e||0==e.length}buildRefreshModelParams(t){let e="group";const n={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",sort:"sort",pivot:"pivot"};if($i.exists(t)&&(e=n[t]),!$i.missing(e))return{step:e,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gridOptionsService.get("suppressAnimationFrame")};console.error(`AG Grid: invalid step ${t}, available steps are ${Object.keys(n).join(", ")}`)}refreshModel(t){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.shouldRowModelIgnoreRefresh())return;let e="object"==typeof t&&"step"in t?t:this.buildRefreshModelParams(t);if(!e||this.isSuppressModelUpdateAfterUpdateTransaction(e))return;const n=this.createChangePath(e.rowNodeTransactions);switch(this.isRefreshingModel=!0,e.step){case"group":this.doRowGrouping(e.rowNodeTransactions,e.rowNodeOrder,n,!!e.afterColumnsChanged);case"filter":this.doFilter(n);case"pivot":this.doPivot(n);case"aggregate":this.doAggregate(n);case"filter_aggregates":this.doFilterAggregates(n);case"sort":this.doSort(e.rowNodeTransactions,n);case"map":this.doRowsToDisplay()}const i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(n,i),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:W.EVENT_MODEL_UPDATED,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){const t=$i.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return $i.missing(this.rootNode)||t||!this.columnModel.isReady()}isRowsToRender(){return $i.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(t,e){let n=!e,i=!1;const r=[],s=this.gridOptionsService.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(o=>{if(!i)if(n&&(o===e||o===t)&&(i=!0,o.group&&s))r.push(...o.allLeafChildren);else{if(!n){if(o!==e&&o!==t)return;n=!0}o.group&&s||r.push(o)}}),r}setDatasource(t){console.error("AG Grid: should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(t){return this.rowsToDisplay[t]}isRowPresent(t){return this.rowsToDisplay.indexOf(t)>=0}getRowIndexAtPixel(t){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;let e=0,n=this.rowsToDisplay.length-1;if(t<=0)return 0;if($i.last(this.rowsToDisplay).rowTop<=t)return this.rowsToDisplay.length-1;let r=-1,s=-1;for(;;){const o=Math.floor((e+n)/2),c=this.rowsToDisplay[o];if(this.isRowInPixel(c,t)||(c.rowTop<t?e=o+1:c.rowTop>t&&(n=o-1),r===e&&s===n))return o;r=e,s=n}}isRowInPixel(t,e){return t.rowTop<=e&&t.rowTop+t.rowHeight>e}forEachLeafNode(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((e,n)=>t(e,n))}forEachNode(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:t,recursionType:0,index:0,includeFooterNodes:e})}forEachNodeAfterFilter(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:t,recursionType:1,index:0,includeFooterNodes:e})}forEachNodeAfterFilterAndSort(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:t,recursionType:2,index:0,includeFooterNodes:e})}forEachPivotNode(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:t,recursionType:3,index:0,includeFooterNodes:e})}recursivelyWalkNodesAndCallback(t){var e;const{nodes:n,callback:i,recursionType:r,includeFooterNodes:s}=t;let{index:o}=t;for(let p=0;p<n.length;p++){const m=n[p];if(i(m,o++),m.hasChildren()&&!m.footer){let y=null;switch(r){case 0:y=m.childrenAfterGroup;break;case 1:y=m.childrenAfterAggFilter;break;case 2:y=m.childrenAfterSort;break;case 3:y=m.leafGroup?null:m.childrenAfterSort}y&&(o=this.recursivelyWalkNodesAndCallback({nodes:[...y],callback:i,recursionType:r,index:o,includeFooterNodes:s}))}}const c=null==(e=n[0])?void 0:e.parent;if(!s||!c)return o;if(c===this.rootNode){if(!this.gridOptionsService.get("groupIncludeTotalFooter"))return o}else if(!this.gridOptionsService.getGroupIncludeFooter()({node:c}))return o;return c.createFooter(),i(c.sibling,o++),o}doAggregate(t){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:t})}doFilterAggregates(t){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:t}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(t){const e=this.gridOptionsService.get("treeData"),n=this.columnModel.isPivotActive(),i=o=>{o&&o.forEach(c=>{const d=()=>{c.expanded=t,i(c.childrenAfterGroup)};e?$i.exists(c.childrenAfterGroup)&&d():n?!c.leafGroup&&d():c.group&&d()})};this.rootNode&&i(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:W.EVENT_EXPAND_COLLAPSE_ALL,source:t?"expandAll":"collapseAll"})}doSort(t,e){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:e})}doRowGrouping(t,e,n,i){this.groupStage?(this.groupStage.execute(t?{rowNode:this.rootNode,rowNodeTransactions:t,rowNodeOrder:e,changedPath:n}:{rowNode:this.rootNode,changedPath:n,afterColumnsChanged:i}),this.gridOptionsService.get("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",n)&&this.eventService.dispatchEvent({type:W.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"})):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren()),this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:W.EVENT_ROW_COUNT_READY}))}doFilter(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})}doPivot(t){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:t})}getCopyOfNodesMap(){return this.nodeManager.getCopyOfNodesMap()}getRowNode(t){if("string"==typeof t&&0==t.indexOf(qi.ID_PREFIX_ROW_GROUP)){let n;return this.forEachNode(i=>{i.id===t&&(n=i)}),n}return this.nodeManager.getRowNode(t)}setRowData(t){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(t),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:W.EVENT_ROW_DATA_UPDATED}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(t,e){if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];const n=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:e})}flushAsyncTransactions(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const t=[],e=[];let n=!1;this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(i=>{const r=this.nodeManager.updateRowData(i.rowDataTransaction,void 0);e.push(r),i.callback&&t.push(i.callback.bind(null,r)),"number"==typeof i.rowDataTransaction.addIndex&&(n=!0)}),this.commonUpdateRowData(e,void 0,n),t.length>0&&window.setTimeout(()=>{t.forEach(i=>i())},0),e.length>0&&this.eventService.dispatchEvent({type:W.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:e}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(t,e){this.valueCache.onDataChanged();const n=this.nodeManager.updateRowData(t,e);return this.commonUpdateRowData([n],e,"number"==typeof t.addIndex),n}createRowNodeOrder(){if(this.gridOptionsService.get("suppressMaintainUnsortedOrder"))return;const e={};if(this.rootNode&&this.rootNode.allLeafChildren)for(let n=0;n<this.rootNode.allLeafChildren.length;n++)e[this.rootNode.allLeafChildren[n].id]=n;return e}commonUpdateRowData(t,e,n){if(!this.hasStarted)return;const i=!this.gridOptionsService.get("suppressAnimationFrame");n&&(e=this.createRowNodeOrder()),this.eventService.dispatchEvent({type:W.EVENT_ROW_DATA_UPDATED}),this.refreshModel({step:"group",rowNodeTransactions:t,rowNodeOrder:e,keepRenderedRows:!0,keepEditingRows:!0,animate:i})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const t=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let t=!1;return this.forEachNode(e=>{e.setRowHeight(e.rowHeight,!0);const n=e.detailNode;n&&n.setRowHeight(n.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t=!0}),t}onGridStylesChanges(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}};N([Y("columnModel")],Jl.prototype,"columnModel",2),N([Y("selectionService")],Jl.prototype,"selectionService",2),N([Y("filterManager")],Jl.prototype,"filterManager",2),N([Y("valueCache")],Jl.prototype,"valueCache",2),N([Y("beans")],Jl.prototype,"beans",2),N([Y("filterStage")],Jl.prototype,"filterStage",2),N([Y("sortStage")],Jl.prototype,"sortStage",2),N([Y("flattenStage")],Jl.prototype,"flattenStage",2),N([lr("groupStage")],Jl.prototype,"groupStage",2),N([lr("aggregationStage")],Jl.prototype,"aggregationStage",2),N([lr("pivotStage")],Jl.prototype,"pivotStage",2),N([lr("filterAggregatesStage")],Jl.prototype,"filterAggregatesStage",2),N([nn],Jl.prototype,"init",1),Jl=N([bn("rowModel")],Jl);var yk=class extends Jt{execute(t){const{changedPath:e}=t;this.filterService.filter(e)}};N([Y("filterService")],yk.prototype,"filterService",2),yk=N([bn("filterStage")],yk);var x1=class extends Jt{execute(t){const e=this.sortController.getSortOptions(),n=$i.exists(e)&&e.length>0,i=n&&$i.exists(t.rowNodeTransactions)&&this.gridOptionsService.get("deltaSort"),r=e.some(s=>this.gridOptionsService.isColumnsSortingCoupledToGroup()?s.column.isPrimary()&&s.column.isRowGroupActive():!!s.column.getColDef().showRowGroup);this.sortService.sort(e,n,i,t.rowNodeTransactions,t.changedPath,r)}};N([Y("sortService")],x1.prototype,"sortService",2),N([Y("sortController")],x1.prototype,"sortController",2),x1=N([bn("sortStage")],x1);var P1=class extends Jt{execute(t){const e=t.rowNode,n=[],i=this.columnModel.isPivotMode(),r=i&&e.leafGroup,s=r?[e]:e.childrenAfterSort,o=this.getFlattenDetails();return this.recursivelyAddToRowsToDisplay(o,s,n,i,0),!r&&n.length>0&&o.groupIncludeTotalFooter&&(e.createFooter(),this.addRowNodeToRowsToDisplay(o,e.sibling,n,0)),n}getFlattenDetails(){const t=this.gridOptionsService.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!t&&this.gridOptionsService.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:t,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.get("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.get("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}}recursivelyAddToRowsToDisplay(t,e,n,i,r){if(!$i.missingOrEmpty(e))for(let s=0;s<e.length;s++){const o=e[s],c=o.hasChildren(),p=t.groupRemoveSingleChildren&&c&&1===o.childrenAfterGroup.length,m=t.groupRemoveLowestSingleChildren&&c&&o.leafGroup&&1===o.childrenAfterGroup.length;if(!(i&&!c)&&!(t.hideOpenParents&&o.expanded&&!o.master&&(!i||!o.leafGroup))&&!p&&!m&&this.addRowNodeToRowsToDisplay(t,o,n,r),!i||!o.leafGroup)if(c){const U=p||m;if(o.expanded||U){const X=U?r:r+1;this.recursivelyAddToRowsToDisplay(t,o.childrenAfterSort,n,i,X),t.getGroupIncludeFooter({node:o})?(o.createFooter(),this.addRowNodeToRowsToDisplay(t,o.sibling,n,X)):o.destroyFooter()}}else if(o.master&&o.expanded){const U=this.createDetailNode(o);this.addRowNodeToRowsToDisplay(t,U,n,r)}}}addRowNodeToRowsToDisplay(t,e,n,i){n.push(e),e.setUiLevel(t.isGroupMultiAutoColumn?0:i)}createDetailNode(t){if($i.exists(t.detailNode))return t.detailNode;const e=new qi(this.beans);return e.detail=!0,e.selectable=!1,e.parent=t,$i.exists(t.id)&&(e.id="detail_"+t.id),e.data=t.data,e.level=t.level+1,t.detailNode=e,e}};N([Y("columnModel")],P1.prototype,"columnModel",2),N([Y("beans")],P1.prototype,"beans",2),P1=N([bn("flattenStage")],P1);var M1=class extends Jt{sort(t,e,n,i,r,s){const o=this.gridOptionsService.get("groupMaintainOrder"),c=this.columnModel.getAllGridColumns().some(A=>A.isRowGroupActive());let d={};n&&i&&(d=this.calculateDirtyNodes(i));const p=this.columnModel.isPivotMode(),m=this.gridOptionsService.getCallback("postSortRows");r&&r.forEachChangedNodeDepthFirst(A=>{var k;this.pullDownGroupDataForHideOpenParents(A.childrenAfterAggFilter,!0);const U=p&&A.leafGroup;if(o&&c&&!A.leafGroup&&!s){const Q=null==(k=this.columnModel.getRowGroupColumns())?void 0:k[A.level+1],pe=null===Q?.getSort(),Ie=A.childrenAfterAggFilter.slice(0);if(A.childrenAfterSort&&!pe){const ke={};A.childrenAfterSort.forEach((tt,zt)=>{ke[tt.id]=zt}),Ie.sort((tt,zt)=>{var Ot,Se;return(null!=(Ot=ke[tt.id])?Ot:0)-(null!=(Se=ke[zt.id])?Se:0)})}A.childrenAfterSort=Ie}else A.childrenAfterSort=!e||U?A.childrenAfterAggFilter.slice(0):n?this.doDeltaSort(A,d,r,t):this.rowNodeSorter.doFullSort(A.childrenAfterAggFilter,t);A.sibling&&(A.sibling.childrenAfterSort=A.childrenAfterSort),this.updateChildIndexes(A),m&&m({nodes:A.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(r)}calculateDirtyNodes(t){const e={},n=i=>{i&&i.forEach(r=>e[r.id]=!0)};return t&&t.forEach(i=>{n(i.add),n(i.update),n(i.remove)}),e}doDeltaSort(t,e,n,i){const r=t.childrenAfterAggFilter,s=t.childrenAfterSort;if(!s)return this.rowNodeSorter.doFullSort(r,i);const o={},c=[];r.forEach(y=>{e[y.id]||!n.canSkip(y)?c.push(y):o[y.id]=!0});const d=s.filter(y=>o[y.id]),p=(y,A)=>({currentPos:A,rowNode:y}),m=c.map(p).sort((y,A)=>this.rowNodeSorter.compareRowNodes(i,y,A));return this.mergeSortedArrays(i,m,d.map(p)).map(({rowNode:y})=>y)}mergeSortedArrays(t,e,n){const i=[];let r=0,s=0;for(;r<e.length&&s<n.length;)this.rowNodeSorter.compareRowNodes(t,e[r],n[s])<0?i.push(e[r++]):i.push(n[s++]);for(;r<e.length;)i.push(e[r++]);for(;s<n.length;)i.push(n[s++]);return i}updateChildIndexes(t){if($i.missing(t.childrenAfterSort))return;const e=t.childrenAfterSort;for(let n=0;n<e.length;n++){const i=e[n],s=n===t.childrenAfterSort.length-1;i.setFirstChild(0===n),i.setLastChild(s),i.setChildIndex(n)}}updateGroupDataForHideOpenParents(t){if(!this.gridOptionsService.get("groupHideOpenParents"))return;if(this.gridOptionsService.get("treeData"))return $i.warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const e=n=>{this.pullDownGroupDataForHideOpenParents(n.childrenAfterSort,!1),n.childrenAfterSort.forEach(i=>{i.hasChildren()&&e(i)})};t&&t.executeFromRootNode(n=>e(n))}pullDownGroupDataForHideOpenParents(t,e){!this.gridOptionsService.get("groupHideOpenParents")||$i.missing(t)||t.forEach(n=>{this.columnModel.getGroupDisplayColumns().forEach(r=>{const s=r.getColDef().showRowGroup;if("string"!=typeof s)return void console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");const c=this.columnModel.getPrimaryColumn(s);if(c!==n.rowGroupColumn)if(e)n.setGroupValue(r.getId(),void 0);else{const p=n.getFirstChildOfFirstChild(c);p&&n.setGroupValue(r.getId(),p.key)}})})}};N([Y("columnModel")],M1.prototype,"columnModel",2),N([Y("rowNodeSorter")],M1.prototype,"rowNodeSorter",2),M1=N([bn("sortService")],M1);var Ck=class extends Jt{filter(t){const e=this.filterManager.isChildFilterPresent();this.filterNodes(e,t)}filterNodes(t,e){const n=(i,r)=>{i.childrenAfterFilter=i.hasChildren()&&t&&!r?i.childrenAfterGroup.filter(s=>{const o=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,c=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return o||c}):i.childrenAfterGroup,i.sibling&&(i.sibling.childrenAfterFilter=i.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const i=(s,o)=>{if(s.childrenAfterGroup)for(let c=0;c<s.childrenAfterGroup.length;c++){const d=s.childrenAfterGroup[c],p=o||this.filterManager.doesRowPassFilter({rowNode:d});d.childrenAfterGroup?i(s.childrenAfterGroup[c],p):n(d,p)}n(s,o)};e.executeFromRootNode(s=>i(s,!1))}else e.forEachChangedNodeDepthFirst(r=>n(r,!1),!0)}doingTreeDataFiltering(){return this.gridOptionsService.get("treeData")&&!this.gridOptionsService.get("excludeChildrenWhenTreeDataFiltering")}};N([Y("filterManager")],Ck.prototype,"filterManager",2),Ck=N([bn("filterService")],Ck);var Jw=class extends Jt{postConstruct(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const t=this.gridOptionsService.exists("getRowId");return!this.gridOptionsService.get("resetRowDataOnUpdate")&&t}setRowData(t){const e=this.createTransactionForRowData(t);if(!e)return;const[n,i]=e;this.clientSideRowModel.updateRowData(n,i)}createTransactionForRowData(t){if($i.missing(this.clientSideRowModel))return void console.error("AG Grid: ImmutableService only works with ClientSideRowModel");const e=this.gridOptionsService.getCallback("getRowId");if(null==e)return void console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");const n={remove:[],update:[],add:[]},i=this.clientSideRowModel.getCopyOfNodesMap(),s=this.gridOptionsService.get("suppressMaintainUnsortedOrder")?void 0:{};return $i.exists(t)&&t.forEach((o,c)=>{const d=e({data:o,level:0}),p=i[d];s&&(s[d]=c),p?(p.data!==o&&n.update.push(o),i[d]=void 0):n.add.push(o)}),$i.iterateObject(i,(o,c)=>{c&&n.remove.push(c.data)}),[n,s]}onRowDataUpdated(){const t=this.gridOptionsService.get("rowData");t&&(this.isActive()?this.setRowData(t):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(t)))}};N([Y("rowModel")],Jw.prototype,"rowModel",2),N([Y("rowRenderer")],Jw.prototype,"rowRenderer",2),N([Y("selectionService")],Jw.prototype,"selectionService",2),N([nn],Jw.prototype,"postConstruct",1);var bCe={version:"31.2.1",moduleName:"@ag-grid-community/client-side-row-model",rowModel:"clientSide",beans:[Jl,yk,x1,P1,M1,Ck,Jw=N([bn("immutableService")],Jw)]},wCe=Object.defineProperty,ECe=Object.getOwnPropertyDescriptor,jc=(t,e,n,i)=>{for(var o,r=i>1?void 0:i?ECe(e,n):e,s=t.length-1;s>=0;s--)(o=t[s])&&(r=(i?o(e,n,r):o(r))||r);return i&&r&&wCe(e,n,r),r},N1=class extends G3{constructor(t,e,n){super(t),this.parentCache=e,this.params=n,this.startRow=t*n.blockSize,this.endRow=this.startRow+n.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(t,e,n){$i.exists(e)?t.setDataAndId(e,n.toString()):t.setDataAndId(void 0,void 0)}loadFromDatasource(){const t=this.createLoadParams();$i.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(()=>{this.params.datasource.getRows(t)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.getGridCommonParams().context}}forEachNode(t,e,n){this.rowNodes.forEach((i,r)=>{this.startRow+r<n&&t(i,e.next())})}getLastAccessed(){return this.lastAccessed}getRow(t,e=!1){return e||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[t-this.startRow]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let t=0;t<this.params.blockSize;t++){const e=this.startRow+t,n=new qi(this.beans);n.setRowHeight(this.params.rowHeight),n.uiLevel=0,n.setRowIndex(e),n.setRowTop(this.params.rowHeight*e),this.rowNodes.push(n)}}processServerResult(t){this.rowNodes.forEach((n,i)=>{const r=t.rowData?t.rowData[i]:void 0;!n.id&&n.alreadyRendered&&r&&(this.rowNodes[i]=new qi(this.beans),this.rowNodes[i].setRowIndex(n.rowIndex),this.rowNodes[i].setRowTop(n.rowTop),this.rowNodes[i].setRowHeight(n.rowHeight),n.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[i],r,this.startRow+i)}),this.parentCache.pageLoaded(this,null!=t.rowCount&&t.rowCount>=0?t.rowCount:void 0)}destroyRowNodes(){this.rowNodes.forEach(t=>{t.clearRowTopAndRowIndex()})}};jc([Y("beans")],N1.prototype,"beans",2),jc([nn],N1.prototype,"postConstruct",1),jc([Yl],N1.prototype,"destroyRowNodes",1);var e,YI=class Rme extends Jt{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}setBeans(e){this.logger=e.create("InfiniteCache")}getRow(e,n=!1){const i=Math.floor(e/this.params.blockSize);let r=this.blocks[i];if(!r){if(n)return;r=this.createBlock(i)}return r.getRow(e)}createBlock(e){const n=this.createBean(new N1(e,this,this.params));return this.blocks[n.getId()]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),this.params.rowNodeBlockLoader.addBlock(n),n}refreshCache(){0!=this.blockCount?(this.getBlocksInOrder().forEach(n=>n.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()):this.purgeCache()}destroyAllBlocks(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e))}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,n){this.isAlive()&&(this.logger.log(`onPageLoaded: page = ${e.getId()}, lastRow = ${n}`),this.checkRowCount(e,n),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const n=this.getBlocksInOrder().filter(c=>c!=e);n.sort((c,d)=>d.getLastAccessed()-c.getLastAccessed());const r=this.params.maxBlocksInCache>0,s=r?this.params.maxBlocksInCache-1:null,o=Rme.MAX_EMPTY_BLOCKS_TO_KEEP-1;n.forEach((c,d)=>{if(c.getState()===N1.STATE_WAITING_TO_LOAD&&d>=o||r&&d>=s){if(this.isBlockCurrentlyDisplayed(c)||this.isBlockFocused(c))return;this.removeBlockFromCache(c)}})}isBlockFocused(e){const n=this.focusService.getFocusCellToUseAfterRefresh();if(!n||null!=n.rowPinned)return!1;const i=e.getStartRow(),r=e.getEndRow();return n.rowIndex>=i&&n.rowIndex<r}isBlockCurrentlyDisplayed(e){const n=e.getStartRow(),i=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(n,i)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,n){if("number"==typeof n&&n>=0)this.rowCount=n,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const r=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<r&&(this.rowCount=r)}}setRowCount(e,n){this.rowCount=e,$i.exists(n)&&(this.lastRowIndexKnown=n),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const n=new II;this.getBlocksInOrder().forEach(i=>i.forEachNode(e,n,this.rowCount))}getBlocksInOrder(){return $i.getAllValuesInObject(this.blocks).sort((i,r)=>i.getId()-r.getId())}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:W.EVENT_STORE_UPDATED}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(n=>{n.getId()*this.params.blockSize>=this.rowCount&&e.push(n)}),e.length>0&&e.forEach(n=>this.destroyBlock(n))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,n){const i=[];let r=-1,s=!1;const o=new II;$i.missing(e)&&(s=!0);let c=!1;return this.getBlocksInOrder().forEach(p=>{if(!c){if(s&&r+1!==p.getId())return void(c=!0);r=p.getId(),p.forEachNode(m=>{const y=m===e||m===n;(s||y)&&i.push(m),y&&(s=!s)},o,this.rowCount)}}),c||s?[]:i}};YI.MAX_EMPTY_BLOCKS_TO_KEEP=2,jc([Y("rowRenderer")],YI.prototype,"rowRenderer",2),jc([Y("focusService")],YI.prototype,"focusService",2),jc([(0,e=Eu("loggerFactory"),(n,i)=>e(n,i,0))],YI.prototype,"setBeans",1),jc([Yl],YI.prototype,"destroyAllBlocks",1);var ICe=YI,Yp=class extends Jt{getRowBounds(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}}ensureRowHeightsValid(t,e,n,i){return!1}init(){this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gridOptionsService.exists("initialGroupOrderComparator")&&$i.warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gridOptionsService.get("datasource"))}destroyDatasource(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedListener(this.eventService,W.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,W.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this)),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gridOptionsService.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let t;t=!this.cacheParams||this.isSortModelDifferent(),t&&this.reset()}isSortModelDifferent(){return!$i.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(t){this.destroyDatasource(),this.datasource=t,t&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(t,e){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,e):[]}reset(){this.datasource&&(null!=this.gridOptionsService.getCallback("getRowId")||this.selectionService.reset("rowDataChanged"),this.resetCache())}createModelUpdatedEvent(){return{type:W.EVENT_MODEL_UPDATED,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gridOptionsService.get("infiniteInitialRowCount"),maxBlocksInCache:this.gridOptionsService.get("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.gridOptionsService.get("cacheOverflowSize"),blockSize:this.gridOptionsService.get("cacheBlockSize"),lastAccessedSequence:new II},this.infiniteCache=this.createBean(new ICe(this.cacheParams)),this.eventService.dispatchEventOnce({type:W.EVENT_ROW_COUNT_READY});const t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)});const t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){const t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)}getRow(t){if(this.infiniteCache&&!(t>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(t)}getRowNode(t){let e;return this.forEachNode(n=>{n.id===t&&(e=n)}),e}forEachNode(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(t){return t}getRowIndexAtPixel(t){if(0!==this.rowHeight){const e=Math.floor(t/this.rowHeight),n=this.getRowCount()-1;return e>n?n:e}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(t){return!!this.getRowNode(t.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()}setRowCount(t,e){this.infiniteCache&&this.infiniteCache.setRowCount(t,e)}};jc([Y("filterManager")],Yp.prototype,"filterManager",2),jc([Y("sortController")],Yp.prototype,"sortController",2),jc([Y("selectionService")],Yp.prototype,"selectionService",2),jc([Y("rowRenderer")],Yp.prototype,"rowRenderer",2),jc([Y("rowNodeBlockLoader")],Yp.prototype,"rowNodeBlockLoader",2),jc([nn],Yp.prototype,"init",1),jc([Yl],Yp.prototype,"destroyDatasource",1);var ACe={version:"31.2.1",moduleName:"@ag-grid-community/infinite-row-model",rowModel:"infinite",beans:[Yp=jc([bn("rowModel")],Yp)]},hie=Object.defineProperty,RCe=Object.defineProperties,DCe=Object.getOwnPropertyDescriptor,xCe=Object.getOwnPropertyDescriptors,fie=Object.getOwnPropertySymbols,PCe=Object.prototype.hasOwnProperty,MCe=Object.prototype.propertyIsEnumerable,pie=(t,e,n)=>e in t?hie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gie=(t,e)=>{for(var n in e||(e={}))PCe.call(e,n)&&pie(t,n,e[n]);if(fie)for(var n of fie(e))MCe.call(e,n)&&pie(t,n,e[n]);return t},mie=(t,e)=>RCe(t,xCe(e)),Zl=(t,e,n,i)=>{for(var o,r=i>1?void 0:i?DCe(e,n):e,s=t.length-1;s>=0;s--)(o=t[s])&&(r=(i?o(e,n,r):o(r))||r);return i&&r&&hie(e,n,r),r},O1=(t,e,n)=>new Promise((i,r)=>{var s=d=>{try{c(n.next(d))}catch(p){r(p)}},o=d=>{try{c(n.throw(d))}catch(p){r(p)}},c=d=>d.done?i(d.value):Promise.resolve(d.value).then(s,o);c((n=n.apply(t,e)).next())}),NCe=class{setBeans(t){this.beans=t}getFileName(t){const e=this.getDefaultFileExtension();return(null==t||!t.length)&&(t=this.getDefaultFileName()),-1===t.indexOf(".")?`${t}.${e}`:t}getData(t){const e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},OCe=class{constructor(t){this.groupColumns=[];const{columnModel:e,valueService:n,gridOptionsService:i,valueFormatterService:r,valueParserService:s,processCellCallback:o,processHeaderCallback:c,processGroupHeaderCallback:d,processRowGroupCallback:p}=t;this.columnModel=e,this.valueService=n,this.gridOptionsService=i,this.valueFormatterService=r,this.valueParserService=s,this.processCellCallback=o,this.processHeaderCallback=c,this.processGroupHeaderCallback=d,this.processRowGroupCallback=p}prepare(t){this.groupColumns=t.filter(e=>!!e.getColDef().showRowGroup)}extractHeaderValue(t){return this.getHeaderName(this.processHeaderCallback,t)??""}extractRowCellValue(t,e,n,i,r){const o=this.gridOptionsService.get("groupHideOpenParents")&&!r.footer||!this.shouldRenderGroupSummaryCell(r,t,e)?this.valueService.getValue(t,r):this.createValueForGroupNode(t,r);return this.processCell({accumulatedRowIndex:n,rowNode:r,column:t,value:o,processCellCallback:this.processCellCallback,type:i})}shouldRenderGroupSummaryCell(t,e,n){var i;if(!t||!t.group)return!1;if(-1!==this.groupColumns.indexOf(e)){if(null!=(null==(i=t.groupData)?void 0:i[e.getId()])||this.gridOptionsService.isRowModelType("serverSide")&&t.group)return!0;if(t.footer&&-1===t.level){const c=e.getColDef();return null==c||!0===c.showRowGroup||c.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}const o=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===n&&o}getHeaderName(t,e){return t?t(this.gridOptionsService.addGridCommonParams({column:e})):this.columnModel.getDisplayNameForColumn(e,"csv",!0)}createValueForGroupNode(t,e){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gridOptionsService.addGridCommonParams({column:t,node:e}));const n=this.gridOptionsService.get("treeData"),i=this.gridOptionsService.get("suppressGroupMaintainValueType"),r=d=>{var p,m;if(n||i)return d.key;const y=null==(p=d.groupData)?void 0:p[t.getId()];return y&&d.rowGroupColumn&&!1!==d.rowGroupColumn.getColDef().useValueFormatterForExport&&null!=(m=this.valueFormatterService.formatValue(d.rowGroupColumn,d,y))?m:y},s=e.footer,o=[r(e)];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;e.parent;)o.push(r(e=e.parent));const c=o.reverse().join(" -> ");return s?`Total ${c}`:c}processCell(t){var e;const{accumulatedRowIndex:n,rowNode:i,column:r,value:s,processCellCallback:o,type:c}=t;return o?{value:null!=(e=o(this.gridOptionsService.addGridCommonParams({accumulatedRowIndex:n,column:r,node:i,value:s,type:c,parseValue:d=>this.valueParserService.parseValue(r,i,d,this.valueService.getValue(r,i)),formatValue:d=>{var p;return null!=(p=this.valueFormatterService.formatValue(r,i,d))?p:d}})))?e:""}:!1!==r.getColDef().useValueFormatterForExport?{value:s??"",valueFormatted:this.valueFormatterService.formatValue(r,i,s)}:{value:s??""}}},FCe=class{static download(t,e){const n=document.defaultView||window;if(!n)return void console.warn("AG Grid: There is no `window` associated with the current `document`");const i=document.createElement("a"),r=n.URL.createObjectURL(e);i.setAttribute("href",r),i.setAttribute("download",t),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(i),n.setTimeout(()=>{n.URL.revokeObjectURL(r)},0)}},LCe=class extends OCe{constructor(t){super(t),this.isFirstLine=!0,this.result="";const{suppressQuotes:e,columnSeparator:n}=t;this.suppressQuotes=e,this.columnSeparator=n}addCustomContent(t){t&&("string"==typeof t?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,"\r\n"),this.result+=t):t.forEach(e=>{this.beginNewLine(),e.forEach((n,i)=>{0!==i&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(t,e,n,i){0!=n&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(i)}appendEmptyCells(t){for(let e=1;e<=t;e++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(t,e){0!=e&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(t,e,n){var i;0!=e&&(this.result+=this.columnSeparator);const r=this.extractRowCellValue(t,e,e,"csv",n);this.result+=this.putInQuotes(null!=(i=r.valueFormatted)?i:r.value)}putInQuotes(t){if(this.suppressQuotes)return t;if(null==t)return'""';let e;return"string"==typeof t?e=t:"function"==typeof t.toString?e=t.toString():(console.warn("AG Grid: unknown value type during csv conversion"),e=""),'"'+e.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1}},Xp=class extends NCe{postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})}getMergedParams(t){const e=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},e,t)}export(t){if(this.isExportSuppressed())return void console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration.");const e=this.getMergedParams(t),n=this.getData(e),i=new Blob(["\ufeff",n],{type:"text/plain"}),r="function"==typeof e.fileName?e.fileName(this.gridOptionsService.getGridCommonParams()):e.fileName;FCe.download(this.getFileName(r),i)}exportDataAsCsv(t){this.export(t)}getDataAsCsv(t,e=!1){const n=e?Object.assign({},t):this.getMergedParams(t);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(t){const{columnModel:e,valueService:n,gridOptionsService:i,valueFormatterService:r,valueParserService:s}=this,{processCellCallback:o,processHeaderCallback:c,processGroupHeaderCallback:d,processRowGroupCallback:p,suppressQuotes:m,columnSeparator:y}=t;return new LCe({columnModel:e,valueService:n,gridOptionsService:i,valueFormatterService:r,valueParserService:s,processCellCallback:o||void 0,processHeaderCallback:c||void 0,processGroupHeaderCallback:d||void 0,processRowGroupCallback:p||void 0,suppressQuotes:m||!1,columnSeparator:y||","})}isExportSuppressed(){return this.gridOptionsService.get("suppressCsvExport")}};Zl([Y("columnModel")],Xp.prototype,"columnModel",2),Zl([Y("valueService")],Xp.prototype,"valueService",2),Zl([Y("gridSerializer")],Xp.prototype,"gridSerializer",2),Zl([Y("gridOptionsService")],Xp.prototype,"gridOptionsService",2),Zl([Y("valueFormatterService")],Xp.prototype,"valueFormatterService",2),Zl([Y("valueParserService")],Xp.prototype,"valueParserService",2),Zl([nn],Xp.prototype,"postConstruct",1),Xp=Zl([bn("csvCreator")],Xp);var Qp=class extends Jt{serialize(t,e={}){const{allColumns:n,columnKeys:i,skipRowGroups:r}=e,s=this.getColumnsToExport(n,r,i);return $i.compose(this.prepareSession(s),this.prependContent(e),this.exportColumnGroups(e,s),this.exportHeaders(e,s),this.processPinnedTopRows(e,s),this.processRows(e,s),this.processPinnedBottomRows(e,s),this.appendContent(e))(t).parse()}processRow(t,e,n,i){const r=e.shouldRowBeSkipped||(()=>!1),s=this.gridOptionsService.get("groupRemoveSingleChildren"),o=this.gridOptionsService.get("groupRemoveLowestSingleChildren"),d=null!=e.rowPositions||!!e.onlySelected,p=this.gridOptionsService.get("groupHideOpenParents")&&!d,m=this.columnModel.isPivotMode()?i.leafGroup:!i.group,y=!!i.footer;if(!m&&!y&&(e.skipRowGroups||1===i.allChildrenCount&&(s||o&&i.leafGroup)||p)||e.onlySelected&&!i.isSelected()||e.skipPinnedTop&&"top"===i.rowPinned||e.skipPinnedBottom&&"bottom"===i.rowPinned||-1===i.level&&!m&&!y||r(this.gridOptionsService.addGridCommonParams({node:i})))return;const pe=t.onNewBodyRow(i);if(n.forEach((Ie,ke)=>{pe.onColumn(Ie,ke,i)}),e.getCustomContentBelowRow){const Ie=e.getCustomContentBelowRow(this.gridOptionsService.addGridCommonParams({node:i}));Ie&&t.addCustomContent(Ie)}}appendContent(t){return e=>{const n=t.appendContent;return n&&e.addCustomContent(n),e}}prependContent(t){return e=>{const n=t.prependContent;return n&&e.addCustomContent(n),e}}prepareSession(t){return e=>(e.prepare(t),e)}exportColumnGroups(t,e){return n=>{if(!t.skipColumnGroupHeaders){const i=new mte,r=this.displayedGroupCreator.createDisplayedGroups(e,i,null);this.recursivelyAddHeaderGroups(r,n,t.processGroupHeaderCallback)}return n}}exportHeaders(t,e){return n=>{if(!t.skipColumnHeaders){const i=n.onNewHeaderRow();e.forEach((r,s)=>{i.onColumn(r,s,void 0)})}return n}}processPinnedTopRows(t,e){return n=>{const i=this.processRow.bind(this,n,t,e);return t.rowPositions?t.rowPositions.filter(r=>"top"===r.rowPinned).sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel.getPinnedTopRow(r.rowIndex)).forEach(i):this.pinnedRowModel.forEachPinnedTopRow(i),n}}processRows(t,e){return n=>{const i=this.rowModel,r=i.getType(),s="clientSide"===r,o="serverSide"===r,c=!s&&t.onlySelected,d=this.processRow.bind(this,n,t,e),{exportedRows:p="filteredAndSorted"}=t;if(t.rowPositions)t.rowPositions.filter(m=>null==m.rowPinned).sort((m,y)=>m.rowIndex-y.rowIndex).map(m=>i.getRow(m.rowIndex)).forEach(d);else if(this.columnModel.isPivotMode())s?i.forEachPivotNode(d,!0):o?i.forEachNodeAfterFilterAndSort(d,!0):i.forEachNode(d);else if(t.onlySelectedAllPages||c){const m=this.selectionService.getSelectedNodes();this.replicateSortedOrder(m),m.forEach(d)}else"all"===p?i.forEachNode(d):s||o?i.forEachNodeAfterFilterAndSort(d,!0):i.forEachNode(d);return n}}replicateSortedOrder(t){const e=this.sortController.getSortOptions(),n=(i,r)=>{var s,o,c,d;return null!=i.rowIndex&&null!=r.rowIndex?i.rowIndex-r.rowIndex:i.level===r.level?(null==(s=i.parent)?void 0:s.id)===(null==(o=r.parent)?void 0:o.id)?this.rowNodeSorter.compareRowNodes(e,{rowNode:i,currentPos:null!=(c=i.rowIndex)?c:-1},{rowNode:r,currentPos:null!=(d=r.rowIndex)?d:-1}):n(i.parent,r.parent):i.level>r.level?n(i.parent,r):n(i,r.parent)};t.sort(n)}processPinnedBottomRows(t,e){return n=>{const i=this.processRow.bind(this,n,t,e);return t.rowPositions?t.rowPositions.filter(r=>"bottom"===r.rowPinned).sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel.getPinnedBottomRow(r.rowIndex)).forEach(i):this.pinnedRowModel.forEachPinnedBottomRow(i),n}}getColumnsToExport(t=!1,e=!1,n){const i=this.columnModel.isPivotMode();if(n&&n.length)return this.columnModel.getGridColumns(n);const r=this.gridOptionsService.get("treeData");let s=[];return s=t&&!i?this.columnModel.getAllGridColumns():this.columnModel.getAllDisplayedColumns(),e&&!r&&(s=s.filter(o=>o.getColId()!==yI)),s}recursivelyAddHeaderGroups(t,e,n){const i=[];t.forEach(r=>{r.getChildren&&r.getChildren().forEach(o=>i.push(o))}),t.length>0&&t[0]instanceof da&&this.doAddHeaderHeader(e,t,n),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,e,n)}doAddHeaderHeader(t,e,n){const i=t.onNewHeaderGroupingRow();let r=0;e.forEach(s=>{const o=s;let c;c=n?n(this.gridOptionsService.addGridCommonParams({columnGroup:o})):this.columnModel.getDisplayNameForColumnGroup(o,"header");const d=o.getLeafColumns().reduce((p,m,y,A)=>{let k=$i.last(p);return"open"===m.getColumnGroupShow()?(!k||null!=k[1])&&(k=[y],p.push(k)):k&&null==k[1]&&(k[1]=y-1),y===A.length-1&&k&&null==k[1]&&(k[1]=y),p},[]);i.onColumn(o,c||"",r++,o.getLeafColumns().length-1,d)})}};Zl([Y("displayedGroupCreator")],Qp.prototype,"displayedGroupCreator",2),Zl([Y("columnModel")],Qp.prototype,"columnModel",2),Zl([Y("rowModel")],Qp.prototype,"rowModel",2),Zl([Y("pinnedRowModel")],Qp.prototype,"pinnedRowModel",2),Zl([Y("selectionService")],Qp.prototype,"selectionService",2),Zl([Y("rowNodeSorter")],Qp.prototype,"rowNodeSorter",2),Zl([Y("sortController")],Qp.prototype,"sortController",2);var GCe={version:"31.2.1",moduleName:"@ag-grid-community/csv-export",beans:[Xp,Qp=Zl([bn("gridSerializer")],Qp)]};function ec(t,e){let n="";for(let i=0;i<e;i++)n+=String.fromCharCode(255&t),t>>>=8;return n}var yie=t=>t.length?(t=>{if(!t.length)return 0;let e=-1,n=0,i=0,r=0;for(let s=0;s<t.length;s++)n=t[s],i=255&(e^n),r=UCe[i],e=e>>>8^r;return~e})("string"==typeof t?(new TextEncoder).encode(t):t):0,UCe=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),{utf8_encode:jCe}=$i,$Ce=(t,e)=>O1(void 0,null,function*(){const{content:n}=t,{size:i,content:r}=n?bie(n):{size:0,content:Uint8Array.from([])};let s,o,c=!1;if("file"===t.type&&r&&i>0){const m=yield(t=>O1(void 0,null,function*(){const e=new Blob([t]),{size:n,content:i}=yield(t=>O1(void 0,null,function*(){let e=0;const n=[],i=new WritableStream({write:o=>{n.push(o),e+=o.length}}),r=new ReadableStream({start:o=>{const c=new FileReader;c.onload=d=>{var p;null!=(p=d.target)&&p.result&&o.enqueue(d.target.result),o.close()},c.readAsArrayBuffer(t)}}),s=new window.CompressionStream("deflate-raw");return yield r.pipeThrough(s).pipeTo(i),{size:e,content:new Blob(n)}}))(e);return{size:n,content:new Uint8Array(yield i.arrayBuffer())}}))(r);s=m.content,o=m.size,c=!0}const p=Cie(t,c,e,i,r,o);return mie(gie({},p),{content:s||r,isCompressed:c})}),qCe=(t,e)=>{const{content:n}=t,{content:i}=n?bie(n):{content:Uint8Array.from([])},r=Cie(t,!1,e,i.length,i,void 0);return mie(gie({},r),{content:i,isCompressed:!1})},Cie=(t,e,n,i,r,s)=>{const{content:o,path:c,created:d}=t,p=(t=>{let e=t.getHours();return e<<=6,e|=t.getMinutes(),e<<=5,e|=t.getSeconds()/2,e})(d),m=(t=>{let e=t.getFullYear()-1980;return e<<=4,e|=t.getMonth()+1,e<<=5,e|=t.getDate(),e})(d),y=yie(r),A=void 0!==s?s:i,k=jCe(c),U=k!==c;let X="";if(U){const ke=ec(1,1)+ec(yie(k),4)+k;X="up"+ec(ke.length,2)+ke}const Q="\x14\0"+(U?"\0\b":"\0\0")+ec(e?8:0,2)+ec(p,2)+ec(m,2)+ec(A?y:0,4)+ec(s??i,4)+ec(i,4)+ec(k.length,2)+ec(X.length,2),pe="PK\x03\x04"+Q+k+X,Ie="PK\x01\x02\x14\0"+Q+"\0\0\0\0\0\0"+(o?"\0\0\0\0":"\x10\0\0\0")+ec(n,4)+k+X;return{localFileHeader:Uint8Array.from(pe,ke=>ke.charCodeAt(0)),centralDirectoryHeader:Uint8Array.from(Ie,ke=>ke.charCodeAt(0))}},bie=t=>{let e;return e="string"==typeof t?(t=>{const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e})(atob(t.split(";base64,")[1])):t,{size:e.length,content:e}},wie=class{static addFolders(t){t.forEach(this.addFolder.bind(this))}static addFolder(t){this.folders.push({path:t,created:new Date,isBase64:!1,type:"folder"})}static addFile(t,e,n=!1){this.files.push({path:t,created:new Date,content:n?e:(new TextEncoder).encode(e),isBase64:n,type:"file"})}static getZipFile(t="application/zip"){return O1(this,null,function*(){const e=yield this.buildCompressedFileStream();return this.clearStream(),new Blob([e],{type:t})})}static getUncompressedZipFile(t="application/zip"){const e=this.buildFileStream();return this.clearStream(),new Blob([e],{type:t})}static clearStream(){this.folders=[],this.files=[]}static packageFiles(t){let e=new Uint8Array(0),n=new Uint8Array(0),i=0,r=0;for(const c of t){const{localFileHeader:d,centralDirectoryHeader:p,content:m}=c,y=new Uint8Array(e.length+d.length);y.set(e),y.set(d,e.length),e=y;const A=new Uint8Array(e.length+m.length);A.set(e),A.set(m,e.length),e=A;const k=new Uint8Array(n.length+p.length);k.set(n),k.set(p,n.length),n=k,i+=d.length+m.length,r+=p.length}const s=((t,e,n)=>{const i="PK\x05\x06\0\0\0\0"+ec(t,2)+ec(t,2)+ec(e,4)+ec(n,4)+"\0\0";return Uint8Array.from(i,r=>r.charCodeAt(0))})(t.length,r,i),o=new Uint8Array(e.length+n.length+s.length);return o.set(e),o.set(n,e.length),o.set(s,e.length+n.length),o}static buildCompressedFileStream(){return O1(this,null,function*(){const t=[...this.folders,...this.files],e=[];let n=0;for(const i of t){const r=yield $Ce(i,n),{localFileHeader:s,content:o}=r;e.push(r),n+=s.length+o.length}return this.packageFiles(e)})}static buildFileStream(){const t=[...this.folders,...this.files],e=[];let n=0;for(const i of t){const r=qCe(i,n),{localFileHeader:s,content:o}=r;e.push(r),n+=s.length+o.length}return this.packageFiles(e)}};wie.folders=[],wie.files=[],Mr.__registerModules([bCe,ACe,GCe],!1,void 0);let Eie=(()=>{class t extends iie{constructor(n){super("angular"),this._ngZone=n,this.isRunningWithinTestZone=!1,this.wrapIncoming=(i,r)=>this.runOutside(i,r),this.wrapOutgoing=i=>this.runInsideAngular(i),this.isRunningWithinTestZone=window?.AG_GRID_UNDER_TEST??!!window?.Zone?.AsyncTestZoneSpec,this.runOutside=this._ngZone?this.isRunningWithinTestZone?(i,r)=>"resize-observer"===r?this._ngZone.runOutsideAngular(i):i():i=>this._ngZone.runOutsideAngular(i):i=>i()}get shouldWrapOutgoing(){return this._ngZone&&h.SKi.isInAngularZone()}isFrameworkComponent(n){if(!n)return!1;const i=n.prototype;return i&&"agInit"in i}runInsideAngular(n){return this._ngZone?this._ngZone.run(n):n()}runOutsideAngular(n,i){return this.runOutside(n,i)}}return t.\u0275fac=function(n){return new(n||t)(h.KVO(h.SKi))},t.\u0275prov=h.jDH({token:t,factory:t.\u0275fac}),t})(),Sie=(()=>{class t extends vCe{setViewContainerRef(n,i){this.viewContainerRef=n,this.angularFrameworkOverrides=i}createWrapper(n,i){let r=this.angularFrameworkOverrides,s=this,c=new class o extends XCe{init(p){r.runInsideAngular(()=>{super.init(p),this._componentRef.changeDetectorRef.detectChanges()})}createComponent(){return r.runInsideAngular(()=>s.createComponent(n))}hasMethod(p){return null!=c.getFrameworkComponentInstance()[p]}callMethod(p,m){const y=this.getFrameworkComponentInstance();return r.runInsideAngular(()=>c.getFrameworkComponentInstance()[p].apply(y,m))}addMethod(p,m){c[p]=m}};return c}createComponent(n){return this.viewContainerRef.createComponent(n)}}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=h.xGo(t)))(i||t)}})(),t.\u0275prov=h.jDH({token:t,factory:t.\u0275fac}),t})();class XCe{init(e){this._params=e,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}getRootElement(){return this._eGui.firstChild}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}let QCe=(()=>{class t{constructor(n,i,r,s){this.viewContainerRef=i,this.angularFrameworkOverrides=r,this.frameworkComponentWrapper=s,this._initialised=!1,this._destroyed=!1,this._fullyReady=Tu.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.columnMenu=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipShowMode=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeHiddenColumnsFromQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.advancedFilterModel=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.enableChartToolPanelsButton=void 0,this.suppressChartToolPanelsButton=void 0,this.chartToolPanelsDef=void 0,this.chartMenuItems=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotMaxGeneratedColumns=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDuration=void 0,this.cellFlashDelay=void 0,this.cellFadeDuration=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.suppressGroupMaintainValueType=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideInfiniteScroll=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideEnableClientSideSort=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSideFilterAllLevels=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressHeaderFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new h.bkB,this.toolPanelSizeChanged=new h.bkB,this.columnMenuVisibleChanged=new h.bkB,this.cutStart=new h.bkB,this.cutEnd=new h.bkB,this.pasteStart=new h.bkB,this.pasteEnd=new h.bkB,this.columnVisible=new h.bkB,this.columnPinned=new h.bkB,this.columnResized=new h.bkB,this.columnMoved=new h.bkB,this.columnValueChanged=new h.bkB,this.columnPivotModeChanged=new h.bkB,this.columnPivotChanged=new h.bkB,this.columnGroupOpened=new h.bkB,this.newColumnsLoaded=new h.bkB,this.gridColumnsChanged=new h.bkB,this.displayedColumnsChanged=new h.bkB,this.virtualColumnsChanged=new h.bkB,this.columnEverythingChanged=new h.bkB,this.columnHeaderMouseOver=new h.bkB,this.columnHeaderMouseLeave=new h.bkB,this.columnHeaderClicked=new h.bkB,this.columnHeaderContextMenu=new h.bkB,this.componentStateChanged=new h.bkB,this.cellValueChanged=new h.bkB,this.cellEditRequest=new h.bkB,this.rowValueChanged=new h.bkB,this.cellEditingStarted=new h.bkB,this.cellEditingStopped=new h.bkB,this.rowEditingStarted=new h.bkB,this.rowEditingStopped=new h.bkB,this.undoStarted=new h.bkB,this.undoEnded=new h.bkB,this.redoStarted=new h.bkB,this.redoEnded=new h.bkB,this.rangeDeleteStart=new h.bkB,this.rangeDeleteEnd=new h.bkB,this.filterOpened=new h.bkB,this.filterChanged=new h.bkB,this.filterModified=new h.bkB,this.advancedFilterBuilderVisibleChanged=new h.bkB,this.chartCreated=new h.bkB,this.chartRangeSelectionChanged=new h.bkB,this.chartOptionsChanged=new h.bkB,this.chartDestroyed=new h.bkB,this.cellKeyDown=new h.bkB,this.gridReady=new h.bkB,this.gridPreDestroyed=new h.bkB,this.firstDataRendered=new h.bkB,this.gridSizeChanged=new h.bkB,this.modelUpdated=new h.bkB,this.virtualRowRemoved=new h.bkB,this.viewportChanged=new h.bkB,this.bodyScroll=new h.bkB,this.bodyScrollEnd=new h.bkB,this.dragStarted=new h.bkB,this.dragStopped=new h.bkB,this.stateUpdated=new h.bkB,this.paginationChanged=new h.bkB,this.rowDragEnter=new h.bkB,this.rowDragMove=new h.bkB,this.rowDragLeave=new h.bkB,this.rowDragEnd=new h.bkB,this.columnRowGroupChanged=new h.bkB,this.rowGroupOpened=new h.bkB,this.expandOrCollapseAll=new h.bkB,this.pivotMaxColumnsExceeded=new h.bkB,this.pinnedRowDataChanged=new h.bkB,this.rowDataUpdated=new h.bkB,this.asyncTransactionsFlushed=new h.bkB,this.storeRefreshed=new h.bkB,this.cellClicked=new h.bkB,this.cellDoubleClicked=new h.bkB,this.cellFocused=new h.bkB,this.cellMouseOver=new h.bkB,this.cellMouseOut=new h.bkB,this.cellMouseDown=new h.bkB,this.rowClicked=new h.bkB,this.rowDoubleClicked=new h.bkB,this.rowSelected=new h.bkB,this.selectionChanged=new h.bkB,this.cellContextMenu=new h.bkB,this.rangeSelectionChanged=new h.bkB,this.tooltipShow=new h.bkB,this.tooltipHide=new h.bkB,this.sortChanged=new h.bkB,this.columnRowGroupChangeRequest=new h.bkB,this.columnPivotChangeRequest=new h.bkB,this.columnValueChangeRequest=new h.bkB,this.columnAggFuncChangeRequest=new h.bkB,this._nativeElement=n.nativeElement}ngAfterViewInit(){this.angularFrameworkOverrides.runOutsideAngular(()=>{this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef,this.angularFrameworkOverrides);const n=ML.combineAttributesAndGridOptions(this.gridOptions,this);this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]};const i=function gCe(t,e,n){if(!e)return wu("No gridOptions provided to createGrid"),{};const i=Or.getCoercedGridOptions(e),r=(new die).create(t,i,s=>{const o=new $w(t);s.createBean(o)},void 0,n);if(!Object.isFrozen(e)&&!n?.frameworkOverrides){const s="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(e,"api",{get:()=>{wu(`gridOptions.api is no longer supported. See ${s}.`)},configurable:!0}),Object.defineProperty(e,"columnApi",{get:()=>{wu(`gridOptions.columnApi is no longer supported and all methods moved to the grid api. See ${s}.`)},configurable:!0})}return r}(this._nativeElement,n,this.gridParams);i&&(this.api=i,this.columnApi=new zw(i));const r=this.gridPreDestroyed;(r.observed??r.observers.length>0)&&console.warn('AG Grid: gridPreDestroyed event listener registered via (gridPreDestroyed)="method($event)" will be ignored! Please assign via gridOptions.gridPreDestroyed and pass to the grid as [gridOptions]="gridOptions"'),this._initialised=!0,this._fullyReady.resolveNow(null,s=>s)})}ngOnChanges(n){this._initialised&&this.angularFrameworkOverrides.runOutsideAngular(()=>{const i={};Object.entries(n).forEach(([r,s])=>{i[r]=s.currentValue}),ML.processOnChange(i,this.api)})}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy())}isEmitterUsed(n){const r=this[n],s=r?.observed??r?.observers?.length>0,o=`on${n.charAt(0).toUpperCase()}${n.substring(1)}`;return s||!!this.gridOptions&&!!this.gridOptions[o]}globalEventListener(n,i){if(this._destroyed)return;const r=this[n];if(r&&this.isEmitterUsed(n)){const s=()=>this.angularFrameworkOverrides.runInsideAngular(()=>r.emit(i));"gridReady"===n?this._fullyReady.then(()=>s()):s()}}}return t.\u0275fac=function(n){return new(n||t)(h.rXU(h.aKT),h.rXU(h.c1b),h.rXU(Eie),h.rXU(Sie))},t.\u0275cmp=h.VBU({type:t,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",columnMenu:"columnMenu",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",tooltipShowMode:"tooltipShowMode",tooltipInteraction:"tooltipInteraction",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",suppressCutToClipboard:"suppressCutToClipboard",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",autoSizeStrategy:"autoSizeStrategy",components:"components",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",enterNavigatesVertically:"enterNavigatesVertically",enterNavigatesVerticallyAfterEdit:"enterNavigatesVerticallyAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeHiddenColumnsFromQuickFilter:"excludeHiddenColumnsFromQuickFilter",includeHiddenColumnsInQuickFilter:"includeHiddenColumnsInQuickFilter",quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableAdvancedFilter:"enableAdvancedFilter",advancedFilterModel:"advancedFilterModel",includeHiddenColumnsInAdvancedFilter:"includeHiddenColumnsInAdvancedFilter",advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",enableChartToolPanelsButton:"enableChartToolPanelsButton",suppressChartToolPanelsButton:"suppressChartToolPanelsButton",chartToolPanelsDef:"chartToolPanelsDef",chartMenuItems:"chartMenuItems",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotMaxGeneratedColumns:"pivotMaxGeneratedColumns",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",alwaysAggregateAtRootLevel:"alwaysAggregateAtRootLevel",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDuration:"cellFlashDuration",cellFlashDelay:"cellFlashDelay",cellFadeDuration:"cellFadeDuration",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",suppressGroupMaintainValueType:"suppressGroupMaintainValueType",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",suppressGroupRowsSticky:"suppressGroupRowsSticky",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideEnableClientSideSort:"serverSideEnableClientSideSort",serverSideOnlyRefreshFilteredGroups:"serverSideOnlyRefreshFilteredGroups",serverSideFilterAllLevels:"serverSideFilterAllLevels",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellFocus:"suppressCellFocus",suppressHeaderFocus:"suppressHeaderFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",gridId:"gridId",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",initialState:"initialState",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",columnMenuVisibleChanged:"columnMenuVisibleChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",columnHeaderMouseOver:"columnHeaderMouseOver",columnHeaderMouseLeave:"columnHeaderMouseLeave",columnHeaderClicked:"columnHeaderClicked",columnHeaderContextMenu:"columnHeaderContextMenu",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",gridPreDestroyed:"gridPreDestroyed",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pivotMaxColumnsExceeded:"pivotMaxColumnsExceeded",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},standalone:!0,features:[h.Jv_([Eie,Sie]),h.OA$,h.aNF],decls:0,vars:0,template:function(n,i){},encapsulation:2}),t})();const Ln=function(t,e){if(!t)throw XI(e)},XI=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},Iie=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},rW={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,c=o?t[r+1]:0,d=r+2<t.length,p=d?t[r+2]:0;let A=(15&c)<<2|p>>6,k=63&p;d||(k=64,o||(A=64)),i.push(n[s>>2],n[(3&s)<<4|c>>4],n[A],n[k])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Iie(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const d=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(1023&d))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],c=r<t.length?n[t.charAt(r)]:0;++r;const p=r<t.length?n[t.charAt(r)]:64;++r;const y=r<t.length?n[t.charAt(r)]:64;if(++r,null==s||null==c||null==p||null==y)throw new ZCe;i.push(s<<2|c>>4),64!==p&&(i.push(c<<4&240|p>>2),64!==y&&i.push(p<<6&192|y))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZCe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tie=function(t){const e=Iie(t);return rW.encodeByteArray(e,!0)},wk=function(t){return Tie(t).replace(/\./g,"")},Ek=function(t){try{return rW.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ebe(t){return Aie(void 0,t)}function Aie(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!tbe(n)||(t[n]=Aie(t[n],e[n]));return t}function tbe(t){return"__proto__"!==t}const Sk=()=>{try{return function nbe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ek(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},Rie=t=>{var e,n;return null===(n=null===(e=Sk())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},Ik=t=>{const e=Rie(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Die=()=>{var t;return null===(t=Sk())||void 0===t?void 0:t.config},xie=t=>{var e;return null===(e=Sk())||void 0===e?void 0:e[`_${t}`]};class Tk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,i))}}}function sW(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wk(JSON.stringify({alg:"none",type:"JWT"})),wk(JSON.stringify(o)),""].join(".")}function Zo(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function oW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zo())}function aW(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Pie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _y(){try{return"object"==typeof indexedDB}catch{return!1}}function QI(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e((null===(s=r.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Ak(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class xu extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,xu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jp.prototype.create)}}class Jp{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?function dbe(t,e){return t.replace(hbe,(n,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new xu(r,`${this.serviceName}: ${o} (${r}).`,i)}}const hbe=/\{\$([^}]+)}/g;function F1(t){return JSON.parse(t)}function yl(t){return JSON.stringify(t)}const Rk=function(t){let e={},n={},i={},r="";try{const s=t.split(".");e=F1(Ek(s[0])||""),n=F1(Ek(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}};function Zp(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function JI(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function lW(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Dk(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function Zw(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(Nie(s)&&Nie(o)){if(!Zw(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Nie(t){return null!==t&&"object"==typeof t}function ZI(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function L1(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function k1(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class gbe{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if("string"==typeof e)for(let y=0;y<16;y++)i[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)i[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const A=i[y-3]^i[y-8]^i[y-14]^i[y-16];i[y]=4294967295&(A<<1|A>>>31)}let p,m,r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],c=this.chain_[3],d=this.chain_[4];for(let y=0;y<80;y++){y<40?y<20?(p=c^s&(o^c),m=1518500249):(p=s^o^c,m=1859775393):y<60?(p=s&o|c&(s|o),m=2400959708):(p=s^o^c,m=3395469782);const A=(r<<5|r>>>27)+p+d+m+i[y]&4294967295;d=c,c=o,o=4294967295&(s<<30|s>>>2),s=r,r=A}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const i=n-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<n;){if(0===o)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<n;)if(s[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<n;)if(s[o]=e[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&n,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}class vbe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(void 0===e&&void 0===n&&void 0===i)throw new Error("Missing Observer.");r=function _be(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:i},void 0===r.next&&(r.next=cW),void 0===r.error&&(r.error=cW),void 0===r.complete&&(r.complete=cW);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cW(){}const xk=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e},Cbe=1e3,bbe=2,wbe=144e5,Ebe=.5;function uW(t,e=Cbe,n=bbe){const i=e*Math.pow(n,t),r=Math.round(Ebe*i*(Math.random()-.5)*2);return Math.min(wbe,i+r)}function Hr(t){return t&&t._delegate?t._delegate:t}class ja{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const eE="[DEFAULT]";class Ibe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Tk;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e?.identifier),r=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Abe(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:eE})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=eE){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,te.A)(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...n.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=eE){return this.instances.has(e)}getOptions(e=eE){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(s)&&o.resolve(r);return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Tbe(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=eE){return this.component?this.component.multipleInstances?e:eE:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Tbe(t){return t===eE?void 0:t}class Rbe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ibe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const dW=[];var ir=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ir||{});const Oie={debug:ir.DEBUG,verbose:ir.VERBOSE,info:ir.INFO,warn:ir.WARN,error:ir.ERROR,silent:ir.SILENT},Dbe=ir.INFO,xbe={[ir.DEBUG]:"log",[ir.VERBOSE]:"log",[ir.INFO]:"info",[ir.WARN]:"warn",[ir.ERROR]:"error"},Pbe=(t,e,...n)=>{if(e<t.logLevel)return;const i=(new Date).toISOString(),r=xbe[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${t.name}:`,...n)};class tE{constructor(e){this.name=e,this._logLevel=Dbe,this._logHandler=Pbe,this._userLogHandler=null,dW.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ir))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Oie[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ir.DEBUG,...e),this._logHandler(this,ir.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ir.VERBOSE,...e),this._logHandler(this,ir.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ir.INFO,...e),this._logHandler(this,ir.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ir.WARN,...e),this._logHandler(this,ir.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ir.ERROR,...e),this._logHandler(this,ir.ERROR,...e)}}const Mbe=(t,e)=>e.some(n=>t instanceof n);let Fie,Lie;const kie=new WeakMap,hW=new WeakMap,Vie=new WeakMap,fW=new WeakMap,pW=new WeakMap;let gW={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return hW.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Vie.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return iv(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Gbe(t){return"function"==typeof t?function Vbe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Obe(){return Lie||(Lie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(mW(this),e),iv(kie.get(this))}:function(...e){return iv(t.apply(mW(this),e))}:function(e,...n){const i=t.call(mW(this),e,...n);return Vie.set(i,e.sort?e.sort():[e]),iv(i)}}(t):(t instanceof IDBTransaction&&function Lbe(t){if(hW.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});hW.set(t,e)}(t),Mbe(t,function Nbe(){return Fie||(Fie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,gW):t)}function iv(t){if(t instanceof IDBRequest)return function Fbe(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(iv(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&kie.set(n,t)}).catch(()=>{}),pW.set(e,t),e}(t);if(fW.has(t))return fW.get(t);const e=Gbe(t);return e!==t&&(fW.set(t,e),pW.set(e,t)),e}const mW=t=>pW.get(t);function G1(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),c=iv(o);return i&&o.addEventListener("upgradeneeded",d=>{i(iv(o.result),d.oldVersion,d.newVersion,iv(o.transaction),d)}),n&&o.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{s&&d.addEventListener("close",()=>s()),r&&d.addEventListener("versionchange",p=>r(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}function vW(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",i=>e(i.oldVersion,i)),iv(n).then(()=>{})}const Bbe=["get","getKey","getAll","getAllKeys","count"],Hbe=["put","add","delete","clear"],_W=new Map;function Gie(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(_W.get(e))return _W.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=Hbe.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Bbe.includes(n))return;const s=function(){var o=(0,te.A)(function*(c,...d){const p=this.transaction(c,r?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(d.shift())),(yield Promise.all([m[n](...d),r&&p.done]))[0]});return function(d){return o.apply(this,arguments)}}();return _W.set(e,s),s}!function kbe(t){gW=t(gW)}(t=>({...t,get:(e,n,i)=>Gie(e,n)||t.get(e,n,i),has:(e,n)=>!!Gie(e,n)||t.has(e,n)}));class Ube{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Wbe(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}return null}).filter(n=>n).join(" ")}}const Pk="@firebase/app",yW="0.10.13",rv=new tE("@firebase/app"),Mk="[DEFAULT]",vwe={[Pk]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},nE=new Map,B1=new Map,H1=new Map;function Bie(t,e){try{t.container.addComponent(e)}catch(n){rv.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cl(t){const e=t.name;if(H1.has(e))return rv.debug(`There were multiple attempts to register component ${e}.`),!1;H1.set(e,t);for(const n of nE.values())Bie(n,t);for(const n of B1.values())Bie(n,t);return!0}function Pu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sv(t){return void 0!==t.settings}const dh=new Jp("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Hie{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dh.create("app-deleted",{appName:this._name})}}const ov="10.14.1";function Uie(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:Mk,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!=typeof r||!r)throw dh.create("bad-app-name",{appName:String(r)});if(n||(n=Die()),!n)throw dh.create("no-options");const s=nE.get(r);if(s){if(Zw(n,s.options)&&Zw(i,s.config))return s;throw dh.create("duplicate-app",{appName:r})}const o=new Rbe(r);for(const d of H1.values())o.addComponent(d);const c=new Hie(n,i,o);return nE.set(r,c),c}function eg(t=Mk){const e=nE.get(t);if(!e&&t===Mk&&Die())return Uie();if(!e)throw dh.create("no-app",{appName:t});return e}function Wie(){return Array.from(nE.values())}function Zi(t,e,n){var i;let r=null!==(i=vwe[t])&&void 0!==i?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${r}" with version "${e}":`];return s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void rv.warn(c.join(" "))}Cl(new ja(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const wwe="firebase-heartbeat-database",Ewe=1,U1="firebase-heartbeat-store";let bW=null;function zie(){return bW||(bW=G1(wwe,Ewe,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(U1)}catch(n){console.warn(n)}}}).catch(t=>{throw dh.create("idb-open",{originalErrorMessage:t.message})})),bW}function wW(){return wW=(0,te.A)(function*(t){try{const n=(yield zie()).transaction(U1),i=yield n.objectStore(U1).get($ie(t));return yield n.done,i}catch(e){if(e instanceof xu)rv.warn(e.message);else{const n=dh.create("idb-get",{originalErrorMessage:e?.message});rv.warn(n.message)}}}),wW.apply(this,arguments)}function jie(t,e){return EW.apply(this,arguments)}function EW(){return EW=(0,te.A)(function*(t,e){try{const i=(yield zie()).transaction(U1,"readwrite");yield i.objectStore(U1).put(e,$ie(t)),yield i.done}catch(n){if(n instanceof xu)rv.warn(n.message);else{const i=dh.create("idb-set",{originalErrorMessage:n?.message});rv.warn(i.message)}}}),EW.apply(this,arguments)}function $ie(t){return`${t.name}!${t.options.appId}`}class Awe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Dwe(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var e=this;return(0,te.A)(function*(){var n,i;try{const s=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=qie();return null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(i=e._heartbeatsCache)||void 0===i?void 0:i.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===o||e._heartbeatsCache.heartbeats.some(c=>c.date===o)?void 0:(e._heartbeatsCache.heartbeats.push({date:o,agent:s}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=2592e6}),e._storage.overwrite(e._heartbeatsCache))}catch(r){rv.warn(r)}})()}getHeartbeatsHeader(){var e=this;return(0,te.A)(function*(){var n;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const i=qie(),{heartbeatsToSend:r,unsentEntries:s}=function Rwe(t,e=1024){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Kie(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Kie(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(e._heartbeatsCache.heartbeats),o=wk(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=i,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o}catch(i){return rv.warn(i),""}})()}}function qie(){return(new Date).toISOString().substring(0,10)}class Dwe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,te.A)(function*(){return!!_y()&&QI().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,te.A)(function*(){if(yield e._canUseIndexedDBPromise){const i=yield function Swe(t){return wW.apply(this,arguments)}(e.app);return i?.heartbeats?i:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return(0,te.A)(function*(){var i;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return jie(n.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return(0,te.A)(function*(){var i;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return jie(n.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function Kie(t){return wk(JSON.stringify({version:2,heartbeats:t})).length}!function xwe(t){Cl(new ja("platform-logger",e=>new Ube(e),"PRIVATE")),Cl(new ja("heartbeat",e=>new Awe(e),"PRIVATE")),Zi(Pk,yW,t),Zi(Pk,yW,"esm2017"),Zi("fire-js","")}(""),Zi("firebase","10.14.1","app");const Fwe=new class Owe extends Em{}(class Nwe extends V_{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}}),Mu=new h.RxE("ANGULARFIRE2_VERSION"),SW=t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`;function tg(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const wf=(t,e)=>{const n=e?[e]:Wie(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i};class eT{constructor(){return wf(Lwe)}}const Lwe="app-check";function tT(){}class Yie{zone;delegate;constructor(e,n=Fwe){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{e.apply(this,[o])})},n,i)}}class kwe{zone;task=null;constructor(e){this.zone=e}call(e,n){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",tT,{},tT,tT)),n.pipe(ri({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ef=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Yie(Zone.current)),this.insideAngular=n.run(()=>new Yie(Zone.current,_0)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(h.KVO(h.SKi))};static \u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function nT(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function iE(t){return nT().ngZone.run(()=>t())}function Gwe(t){return function Bwe(t){return function(n){return(n=n.lift(new kwe(t.ngZone))).pipe(tp(t.outsideAngular),ep(t.insideAngular))}}(nT())(t)}const Hwe=(t,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),iE(()=>t.apply(void 0,i))},ea=(t,e)=>function(){let n;const i=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof i[s]&&(e&&(n||=iE(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",tT,{},tT,tT))),i[s]=Hwe(i[s],n));const r=function Vwe(t){return nT().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,i));if(!e){if(r instanceof Bn.c){const s=nT();return r.pipe(tp(s.outsideAngular),ep(s.insideAngular))}return iE(()=>r)}return r instanceof Bn.c?r.pipe(Gwe):r instanceof Promise?iE(()=>new Promise((s,o)=>r.then(c=>iE(()=>s(c)),c=>iE(()=>o(c))))):"function"==typeof r&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),r.apply(this,arguments)}:iE(()=>r)};class hd{constructor(e){return e}}class Sf{constructor(){return Wie()}}const IW=new h.nKC("angularfire2._apps"),Wwe={provide:hd,useFactory:function Uwe(t){return t&&1===t.length?t[0]:new hd(eg())},deps:[[new h.Xx1,IW]]},zwe={provide:Sf,deps:[[new h.Xx1,IW]]};function jwe(t){return(e,n)=>{const i=n.get(h.Agw);Zi("angularfire",Mu.full,"core"),Zi("angularfire",Mu.full,"app"),Zi("angular",h.xvI.full,i.toString());const r=e.runOutsideAngular(()=>t(n));return new hd(r)}}const qwe=ea(Uie,!0),Xie=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},Qie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,c=o?t[r+1]:0,d=r+2<t.length,p=d?t[r+2]:0;let A=(15&c)<<2|p>>6,k=63&p;d||(k=64,o||(A=64)),i.push(n[s>>2],n[(3&s)<<4|c>>4],n[A],n[k])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Xie(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const d=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(1023&d))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],c=r<t.length?n[t.charAt(r)]:0;++r;const p=r<t.length?n[t.charAt(r)]:64;++r;const y=r<t.length?n[t.charAt(r)]:64;if(++r,null==s||null==c||null==p||null==y)throw new Qwe;i.push(s<<2|c>>4),64!==p&&(i.push(c<<4&240|p>>2),64!==y&&i.push(p<<6&192|y))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Qwe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nk=function(t){return function(t){const e=Xie(t);return Qie.encodeByteArray(e,!0)}(t).replace(/\./g,"")},W1=function(t){try{return Qie.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Ok=()=>{try{return function eEe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&W1(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},Zie=()=>{var t;return null===(t=Ok())||void 0===t?void 0:t.config};class ere{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,i))}}}function fd(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class yy extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,yy.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,z1.prototype.create)}}class z1{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?function gEe(t,e){return t.replace(mEe,(n,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new yy(r,`${this.serviceName}: ${o} (${r}).`,i)}}const mEe=/\{\$([^}]+)}/g;function AW(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(nre(s)&&nre(o)){if(!AW(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function nre(t){return null!==t&&"object"==typeof t}function RW(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}class _Ee{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(void 0===e&&void 0===n&&void 0===i)throw new Error("Missing Observer.");r=function yEe(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:i},void 0===r.next&&(r.next=DW),void 0===r.error&&(r.error=DW),void 0===r.complete&&(r.complete=DW);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DW(){}function iT(t){return t&&t._delegate?t._delegate:t}class rT{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const rE="[DEFAULT]";class IEe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new ere;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e?.identifier),r=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function AEe(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:rE})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=rE){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,te.A)(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...n.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=rE){return this.instances.has(e)}getOptions(e=rE){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(s)&&o.resolve(r);return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:TEe(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=rE){return this.component?this.component.multipleInstances?e:rE:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function TEe(t){return t===rE?void 0:t}class REe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IEe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const PW=[];var vs=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(vs||{});const ire={debug:vs.DEBUG,verbose:vs.VERBOSE,info:vs.INFO,warn:vs.WARN,error:vs.ERROR,silent:vs.SILENT},DEe=vs.INFO,xEe={[vs.DEBUG]:"log",[vs.VERBOSE]:"log",[vs.INFO]:"info",[vs.WARN]:"warn",[vs.ERROR]:"error"},PEe=(t,e,...n)=>{if(e<t.logLevel)return;const i=(new Date).toISOString(),r=xEe[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${t.name}:`,...n)};class rre{constructor(e){this.name=e,this._logLevel=DEe,this._logHandler=PEe,this._userLogHandler=null,PW.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vs))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?ire[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,vs.DEBUG,...e),this._logHandler(this,vs.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,vs.VERBOSE,...e),this._logHandler(this,vs.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,vs.INFO,...e),this._logHandler(this,vs.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,vs.WARN,...e),this._logHandler(this,vs.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,vs.ERROR,...e),this._logHandler(this,vs.ERROR,...e)}}class MEe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function NEe(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}return null}).filter(n=>n).join(" ")}}const Lk="@firebase/app",av=new rre("@firebase/app"),kk="[DEFAULT]",aSe={[Lk]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},sE=new Map,j1=new Map,$1=new Map;function sre(t,e){try{t.container.addComponent(e)}catch(n){av.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sT(t){const e=t.name;if($1.has(e))return av.debug(`There were multiple attempts to register component ${e}.`),!1;$1.set(e,t);for(const n of sE.values())sre(n,t);for(const n of j1.values())sre(n,t);return!0}function Cy(t){return null!=t&&void 0!==t.settings}const hh=new z1("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class are{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new rT("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hh.create("app-deleted",{appName:this._name})}}const NW="11.3.1";function by(t,e,n){var i;let r=null!==(i=aSe[t])&&void 0!==i?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${r}" with version "${e}":`];return s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void av.warn(c.join(" "))}sT(new rT(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const pSe="firebase-heartbeat-database",gSe=1,q1="firebase-heartbeat-store";let FW=null;function cre(){return FW||(FW=G1(pSe,gSe,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(q1)}catch(n){console.warn(n)}}}).catch(t=>{throw hh.create("idb-open",{originalErrorMessage:t.message})})),FW}function LW(){return LW=(0,te.A)(function*(t){try{const n=(yield cre()).transaction(q1),i=yield n.objectStore(q1).get(dre(t));return yield n.done,i}catch(e){if(e instanceof yy)av.warn(e.message);else{const n=hh.create("idb-get",{originalErrorMessage:e?.message});av.warn(n.message)}}}),LW.apply(this,arguments)}function ure(t,e){return kW.apply(this,arguments)}function kW(){return kW=(0,te.A)(function*(t,e){try{const i=(yield cre()).transaction(q1,"readwrite");yield i.objectStore(q1).put(e,dre(t)),yield i.done}catch(n){if(n instanceof yy)av.warn(n.message);else{const i=hh.create("idb-set",{originalErrorMessage:n?.message});av.warn(i.message)}}}),kW.apply(this,arguments)}function dre(t){return`${t.name}!${t.options.appId}`}class ySe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bSe(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var e=this;return(0,te.A)(function*(){var n,i;try{const s=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=hre();if(null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(i=e._heartbeatsCache)||void 0===i?void 0:i.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===o||e._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(e._heartbeatsCache.heartbeats.push({date:o,agent:s}),e._heartbeatsCache.heartbeats.length>30){const c=function wSe(t){if(0===t.length)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}(e._heartbeatsCache.heartbeats);e._heartbeatsCache.heartbeats.splice(c,1)}return e._storage.overwrite(e._heartbeatsCache)}catch(r){av.warn(r)}})()}getHeartbeatsHeader(){var e=this;return(0,te.A)(function*(){var n;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const i=hre(),{heartbeatsToSend:r,unsentEntries:s}=function CSe(t,e=1024){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),fre(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),fre(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(e._heartbeatsCache.heartbeats),o=Nk(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=i,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o}catch(i){return av.warn(i),""}})()}}function hre(){return(new Date).toISOString().substring(0,10)}class bSe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,te.A)(function*(){return!!function hEe(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function fEe(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e((null===(s=r.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,te.A)(function*(){if(yield e._canUseIndexedDBPromise){const i=yield function mSe(t){return LW.apply(this,arguments)}(e.app);return i?.heartbeats?i:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return(0,te.A)(function*(){var i;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return ure(n.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return(0,te.A)(function*(){var i;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return ure(n.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function fre(t){return Nk(JSON.stringify({version:2,heartbeats:t})).length}!function ESe(t){sT(new rT("platform-logger",e=>new MEe(e),"PRIVATE")),sT(new rT("heartbeat",e=>new ySe(e),"PRIVATE")),by(Lk,"0.11.1",t),by(Lk,"0.11.1","esm2017"),by("fire-js","")}("");const SSe=function pre(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},gre=new z1("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Vk=new rre("@firebase/auth");function Gk(t,...e){Vk.logLevel<=vs.ERROR&&Vk.error(`Auth (${NW}): ${t}`,...e)}function Nu(t,...e){throw GW(t,...e)}function fh(t,...e){return GW(t,...e)}function VW(t,e,n){const i=Object.assign(Object.assign({},SSe()),{[e]:n});return new z1("auth","Firebase",i).create(e,{appName:t.name})}function $a(t){return VW(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function GW(t,...e){if("string"!=typeof t){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return gre.create(t,...e)}function Cn(t,e,...n){if(!t)throw GW(e,...n)}function ng(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gk(e),new Error(e)}function wy(t,e){t||ng(e)}function mre(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function TSe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function BW(){return"http:"===mre()||"https:"===mre()}()||function uEe(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class Y1{constructor(e,n){this.shortDelay=e,this.longDelay=n,wy(n>e,"Short delay should be less than long delay!"),this.isMobile=function oEe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fd())}()||function dEe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return TSe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class vre{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ng("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ng("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ng("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const RSe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},DSe=new Y1(3e4,6e4);function Vs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Gs(t,e,n,i){return UW.apply(this,arguments)}function UW(){return UW=(0,te.A)(function*(t,e,n,i,r={}){return _re(t,r,(0,te.A)(function*(){let s={},o={};i&&("GET"===e?o=i:s={body:JSON.stringify(i)});const c=RW(Object.assign({key:t.config.apiKey},o)).slice(1),d=yield t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},s);return function cEe(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(p.referrerPolicy="no-referrer"),vre.fetch()(yre(t,t.config.apiHost,n,c),p)}))}),UW.apply(this,arguments)}function _re(t,e,n){return WW.apply(this,arguments)}function WW(){return WW=(0,te.A)(function*(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},RSe),e);try{const r=new PSe(t),s=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw X1(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[d,p]=c.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===d)throw X1(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===d)throw X1(t,"email-already-in-use",o);if("USER_DISABLED"===d)throw X1(t,"user-disabled",o);const m=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw VW(t,m,p);Nu(t,m)}}catch(r){if(r instanceof yy)throw r;Nu(t,"network-request-failed",{message:String(r)})}}),WW.apply(this,arguments)}function yre(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?function HW(t,e){wy(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,r):`${t.config.apiScheme}://${r}`}class PSe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(fh(this.auth,"network-request-failed")),DSe.get())})}}function X1(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=fh(t,e,i);return r.customData._tokenResponse=n,r}function qW(){return qW=(0,te.A)(function*(t,e){return Gs(t,"POST","/v1/accounts:delete",e)}),qW.apply(this,arguments)}function Sre(t,e){return YW.apply(this,arguments)}function YW(){return YW=(0,te.A)(function*(t,e){return Gs(t,"POST","/v1/accounts:lookup",e)}),YW.apply(this,arguments)}function Q1(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function XW(){return XW=(0,te.A)(function*(t,e=!1){const n=iT(t),i=yield n.getIdToken(e),r=Bk(i);Cn(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Q1(QW(r.auth_time)),issuedAtTime:Q1(QW(r.iat)),expirationTime:Q1(QW(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}),XW.apply(this,arguments)}function QW(t){return 1e3*Number(t)}function Bk(t){const[e,n,i]=t.split(".");if(void 0===e||void 0===n||void 0===i)return Gk("JWT malformed, contained fewer than 3 sections"),null;try{const r=W1(n);return r?JSON.parse(r):(Gk("Failed to decode base64 JWT payload"),null)}catch(r){return Gk("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Ire(t){const e=Bk(t);return Cn(e,"internal-error"),Cn(typeof e.exp<"u","internal-error"),Cn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function cv(t,e){return JW.apply(this,arguments)}function JW(){return JW=(0,te.A)(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(i){throw i instanceof yy&&function LSe({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}}),JW.apply(this,arguments)}class kSe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout((0,te.A)(function*(){yield n.iteration()}),i)}iteration(){var e=this;return(0,te.A)(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class ZW{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Q1(this.lastLoginAt),this.creationTime=Q1(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function J1(t){return e8.apply(this,arguments)}function e8(){return e8=(0,te.A)(function*(t){var e;const n=t.auth,i=yield t.getIdToken(),r=yield cv(t,Sre(n,{idToken:i}));Cn(r?.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?Tre(s.providerUserInfo):[],c=function GSe(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}(t.providerData,o),m=!!t.isAnonymous&&!(t.email&&s.passwordHash||c?.length),y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new ZW(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(t,y)}),e8.apply(this,arguments)}function t8(){return t8=(0,te.A)(function*(t){const e=iT(t);yield J1(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),t8.apply(this,arguments)}function Tre(t){return t.map(e=>{var{providerId:n}=e,i=ii(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function n8(){return n8=(0,te.A)(function*(t,e){const n=yield _re(t,{},(0,te.A)(function*(){const i=RW({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=yre(t,r,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",vre.fetch()(o,{method:"POST",headers:c,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}),n8.apply(this,arguments)}function i8(){return i8=(0,te.A)(function*(t,e){return Gs(t,"POST","/v2/accounts:revokeToken",Vs(t,e))}),i8.apply(this,arguments)}class aT{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Cn(e.idToken,"internal-error"),Cn(typeof e.idToken<"u","internal-error"),Cn(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ire(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Cn(0!==e.length,"internal-error");const n=Ire(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){var i=this;return(0,te.A)(function*(){return n||!i.accessToken||i.isExpired?(Cn(i.refreshToken,e,"user-token-expired"),i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null):i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var i=this;return(0,te.A)(function*(){const{accessToken:r,refreshToken:s,expiresIn:o}=yield function BSe(t,e){return n8.apply(this,arguments)}(e,n);i.updateTokensAndExpiration(r,s,Number(o))})()}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new aT;return i&&(Cn("string"==typeof i,"internal-error",{appName:e}),o.refreshToken=i),r&&(Cn("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),s&&(Cn("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new aT,this.toJSON())}_performRefresh(){return ng("not implemented")}}function Ey(t,e){Cn("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class uv{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=ii(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kSe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ZW(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return(0,te.A)(function*(){const i=yield cv(n,n.stsTokenManager.getToken(n.auth,e));return Cn(i,n.auth,"internal-error"),n.accessToken!==i&&(n.accessToken=i,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),i})()}getIdTokenResult(e){return function FSe(t){return XW.apply(this,arguments)}(this,e)}reload(){return function VSe(t){return t8.apply(this,arguments)}(this)}_assign(e){this!==e&&(Cn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new uv(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Cn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var i=this;return(0,te.A)(function*(){let r=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield J1(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return(0,te.A)(function*(){if(Cy(e.auth.app))return Promise.reject($a(e.auth));const n=yield e.getIdToken();return yield cv(e,function NSe(t,e){return qW.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,c,d,p,m;const y=null!==(i=n.displayName)&&void 0!==i?i:void 0,A=null!==(r=n.email)&&void 0!==r?r:void 0,k=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,U=null!==(o=n.photoURL)&&void 0!==o?o:void 0,X=null!==(c=n.tenantId)&&void 0!==c?c:void 0,Q=null!==(d=n._redirectEventId)&&void 0!==d?d:void 0,pe=null!==(p=n.createdAt)&&void 0!==p?p:void 0,Ie=null!==(m=n.lastLoginAt)&&void 0!==m?m:void 0,{uid:ke,emailVerified:tt,isAnonymous:zt,providerData:Ot,stsTokenManager:Se}=n;Cn(ke&&Se,e,"internal-error");const me=aT.fromJSON(this.name,Se);Cn("string"==typeof ke,e,"internal-error"),Ey(y,e.name),Ey(A,e.name),Cn("boolean"==typeof tt,e,"internal-error"),Cn("boolean"==typeof zt,e,"internal-error"),Ey(k,e.name),Ey(U,e.name),Ey(X,e.name),Ey(Q,e.name),Ey(pe,e.name),Ey(Ie,e.name);const De=new uv({uid:ke,auth:e,email:A,emailVerified:tt,displayName:y,isAnonymous:zt,photoURL:U,phoneNumber:k,tenantId:X,stsTokenManager:me,createdAt:pe,lastLoginAt:Ie});return Ot&&Array.isArray(Ot)&&(De.providerData=Ot.map(Ke=>Object.assign({},Ke))),Q&&(De._redirectEventId=Q),De}static _fromIdTokenResponse(e,n,i=!1){return(0,te.A)(function*(){const r=new aT;r.updateFromServerResponse(n);const s=new uv({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield J1(s),s})()}static _fromGetAccountInfoResponse(e,n,i){return(0,te.A)(function*(){const r=n.users[0];Cn(void 0!==r.localId,"internal-error");const s=void 0!==r.providerUserInfo?Tre(r.providerUserInfo):[],o=!(r.email&&r.passwordHash||s?.length),c=new aT;c.updateFromIdToken(i);const d=new uv({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:o}),p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new ZW(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||s?.length)};return Object.assign(d,p),d})()}}const Are=new Map;function dv(t){wy(t instanceof Function,"Expected a class definition");let e=Are.get(t);return e?(wy(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Are.set(t,e),e)}const Rre=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,te.A)(function*(){return!0})()}_set(n,i){var r=this;return(0,te.A)(function*(){r.storage[n]=i})()}_get(n){var i=this;return(0,te.A)(function*(){const r=i.storage[n];return void 0===r?null:r})()}_remove(n){var i=this;return(0,te.A)(function*(){delete i.storage[n]})()}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})();function Hk(t,e,n){return`firebase:${t}:${e}:${n}`}class lT{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Hk(this.userKey,r.apiKey,s),this.fullPersistenceKey=Hk("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,te.A)(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?uv._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return(0,te.A)(function*(){if(n.persistence===e)return;const i=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,i?n.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return(0,te.A)(function*(){if(!n.length)return new lT(dv(Rre),e,i);const r=(yield Promise.all(n.map(function(){var p=(0,te.A)(function*(m){if(yield m._isAvailable())return m});return function(m){return p.apply(this,arguments)}}()))).filter(p=>p);let s=r[0]||dv(Rre);const o=Hk(i,e.config.apiKey,e.name);let c=null;for(const p of n)try{const m=yield p._get(o);if(m){const y=uv._fromJSON(e,m);p!==s&&(c=y),s=p;break}}catch{}const d=r.filter(p=>p._shouldAllowMigration);return s._shouldAllowMigration&&d.length?(s=d[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(function(){var p=(0,te.A)(function*(m){if(m!==s)try{yield m._remove(o)}catch{}});return function(m){return p.apply(this,arguments)}}())),new lT(s,e,i)):new lT(s,e,i)})()}}function Dre(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function Nre(t=fd()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function xre(t=fd()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function Fre(t=fd()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function Lre(t=fd()){return/webos/i.test(t)}(e))return"Webos";if(function Pre(t=fd()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function Mre(t=fd()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function Ore(t=fd()){return/android/i.test(t)}(e))return"Android";{const i=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function kre(t,e=[]){let n;switch(t){case"Browser":n=Dre(fd());break;case"Worker":n=`${Dre(fd())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${NW}/${i}`}class zSe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,c)=>{try{o(e(s))}catch(d){c(d)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return(0,te.A)(function*(){if(n.auth.currentUser===e)return;const i=[];try{for(const r of n.queue)yield r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const s of i)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}function s8(){return s8=(0,te.A)(function*(t,e={}){return Gs(t,"GET","/v2/passwordPolicy",Vs(t,e))}),s8.apply(this,arguments)}class qSe{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(i=e.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=null===(n=d.meetsMinPasswordLength)||void 0===n||n),d.isValid&&(d.isValid=null===(i=d.meetsMaxPasswordLength)||void 0===i||i),d.isValid&&(d.isValid=null===(r=d.containsLowercaseLetter)||void 0===r||r),d.isValid&&(d.isValid=null===(s=d.containsUppercaseLetter)||void 0===s||s),d.isValid&&(d.isValid=null===(o=d.containsNumericCharacter)||void 0===o||o),d.isValid&&(d.isValid=null===(c=d.containsNonAlphanumericCharacter)||void 0===c||c),d}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){let i;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class KSe{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vre(this),this.idTokenSubscription=new Vre(this),this.beforeStateQueue=new zSe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gre,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var i=this;return n&&(this._popupRedirectResolver=dv(n)),this._initializationPromise=this.queue((0,te.A)(function*(){var r,s;if(!i._deleted&&(i.persistenceManager=yield lT.create(i,e),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(n),i.lastNotifiedUid=(null===(s=i.currentUser)||void 0===s?void 0:s.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,te.A)(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUserFromIdToken(e){var n=this;return(0,te.A)(function*(){try{const i=yield Sre(n,{idToken:e}),r=yield uv._fromGetAccountInfoResponse(n,i,e);yield n.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),yield n.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var n=this;return(0,te.A)(function*(){var i;if(Cy(n.app)){const c=n.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>n.initializeCurrentUserFromIdToken(c).then(d,d))}):n.directlySetCurrentUser(null)}const r=yield n.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const c=null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId,d=s?._redirectEventId,p=yield n.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(s=p.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(c){s=r,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(c))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return Cn(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return(0,te.A)(function*(){let i=null;try{i=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var n=this;return(0,te.A)(function*(){try{yield J1(e)}catch(i){if("auth/network-request-failed"!==i?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function ASe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return(0,te.A)(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return(0,te.A)(function*(){if(Cy(n.app))return Promise.reject($a(n));const i=e?iT(e):null;return i&&Cn(i.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(i&&i._clone(n))})()}_updateCurrentUser(e,n=!1){var i=this;return(0,te.A)(function*(){if(!i._deleted)return e&&Cn(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),n||(yield i.beforeStateQueue.runMiddleware(e)),i.queue((0,te.A)(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,te.A)(function*(){return Cy(e.app)?Promise.reject($a(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var n=this;return Cy(this.app)?Promise.reject($a(this)):this.queue((0,te.A)(function*(){yield n.assertedPersistence.setPersistence(dv(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return(0,te.A)(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const i=n._getPasswordPolicyInternal();return i.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,te.A)(function*(){const n=yield function jSe(t){return s8.apply(this,arguments)}(e),i=new qSe(n);null===e.tenantId?e._projectPasswordPolicy=i:e._tenantPasswordPolicies[e.tenantId]=i})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new z1("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){var n=this;return(0,te.A)(function*(){if(n.currentUser){const i=yield n.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};null!=n.tenantId&&(r.tenantId=n.tenantId),yield function HSe(t,e){return i8.apply(this,arguments)}(n,r)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var i=this;return(0,te.A)(function*(){const r=yield i.getOrInitRedirectPersistenceManager(n);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return(0,te.A)(function*(){if(!n.redirectPersistenceManager){const i=e&&dv(e)||n._popupRedirectResolver;Cn(i,n,"argument-error"),n.redirectPersistenceManager=yield lT.create(n,[dv(i._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return(0,te.A)(function*(){var i,r;return n._isInitialized&&(yield n.queue((0,te.A)(function*(){}))),(null===(i=n._currentUser)||void 0===i?void 0:i._redirectEventId)===e?n._currentUser:(null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return(0,te.A)(function*(){if(e===n.currentUser)return n.queue((0,te.A)(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Cn(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),"function"==typeof n){const d=e.addObserver(n,i,r);return()=>{o=!0,d()}}{const d=e.addObserver(n);return()=>{o=!0,d()}}}directlySetCurrentUser(e){var n=this;return(0,te.A)(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Cn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kre(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,te.A)(function*(){var n;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const r=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const s=yield e._getAppCheckToken();return s&&(i["X-Firebase-AppCheck"]=s),i})()}_getAppCheckToken(){var e=this;return(0,te.A)(function*(){var n;if(Cy(e.app)&&e.app.settings.appCheckToken)return e.app.settings.appCheckToken;const i=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return i?.error&&function ISe(t,...e){Vk.logLevel<=vs.WARN&&Vk.warn(`Auth (${NW}): ${t}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}class Vre{constructor(e){this.auth=e,this.observer=null,this.addObserver=function vEe(t,e){const n=new _Ee(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return Cn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Z1={loadJS:()=>(0,te.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tse(t,e,n,i){return iT(t).onIdTokenChanged(e,n,i)}(function Gre(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Y1(3e4,6e4),new Y1(2e3,1e4),new Y1(3e4,6e4),new Y1(5e3,15e3),encodeURIComponent("fac");var bse="@firebase/auth";class YIe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return(0,te.A)(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Cn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function nTe(t){return new Bn.c(function(e){var n=function z0e(t,e,n,i){return iT(t).onAuthStateChanged(e,n,i)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}function Sse(t){return new Bn.c(function(e){return{unsubscribe:tse(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}Ok(),function YSe(t){Z1=t}({loadJS:t=>new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=fh("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",function tTe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(i)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function QIe(t){sT(new rT("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=i.options;Cn(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kre(t)},p=new KSe(i,r,s,d);return function l0e(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(dv);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),sT(new rT("auth-internal",e=>{const n=function ta(t){return iT(t)}(e.getProvider("auth").getImmediate());return new YIe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),by(bse,"1.9.0",function XIe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(t)),by(bse,"1.9.0","esm2017")}("Browser");const iTe=function Ise(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Tse=new Jp("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Zk=new tE("@firebase/auth");function eV(t,...e){Zk.logLevel<=ir.ERROR&&Zk.error(`Auth (${ov}): ${t}`,...e)}function Ou(t,...e){throw Xz(t,...e)}function gh(t,...e){return Xz(t,...e)}function Yz(t,e,n){const i=Object.assign(Object.assign({},iTe()),{[e]:n});return new Jp("auth","Firebase",i).create(e,{appName:t.name})}function qa(t){return Yz(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xz(t,...e){if("string"!=typeof t){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Tse.create(t,...e)}function Tn(t,e,...n){if(!t)throw Xz(e,...n)}function ig(t){const e="INTERNAL ASSERTION FAILED: "+t;throw eV(e),new Error(e)}function Iy(t,e){t||ig(e)}function cP(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function Ase(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class uP{constructor(e,n){this.shortDelay=e,this.longDelay=n,Iy(n>e,"Short delay should be less than long delay!"),this.isMobile=oW()||Pie()}get(){return function sTe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Qz(){return"http:"===Ase()||"https:"===Ase()}()||aW()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jz(t,e){Iy(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Rse{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ig("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ig("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ig("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const aTe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},lTe=new uP(3e4,6e4);function Bs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Hs(t,e,n,i){return Zz.apply(this,arguments)}function Zz(){return Zz=(0,te.A)(function*(t,e,n,i,r={}){return Dse(t,r,(0,te.A)(function*(){let s={},o={};i&&("GET"===e?o=i:s={body:JSON.stringify(i)});const c=ZI(Object.assign({key:t.config.apiKey},o)).slice(1),d=yield t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},s);return function lbe(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(p.referrerPolicy="no-referrer"),Rse.fetch()(xse(t,t.config.apiHost,n,c),p)}))}),Zz.apply(this,arguments)}function Dse(t,e,n){return ej.apply(this,arguments)}function ej(){return ej=(0,te.A)(function*(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},aTe),e);try{const r=new uTe(t),s=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw dP(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[d,p]=c.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===d)throw dP(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===d)throw dP(t,"email-already-in-use",o);if("USER_DISABLED"===d)throw dP(t,"user-disabled",o);const m=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Yz(t,m,p);Ou(t,m)}}catch(r){if(r instanceof xu)throw r;Ou(t,"network-request-failed",{message:String(r)})}}),ej.apply(this,arguments)}function pv(t,e,n,i){return tj.apply(this,arguments)}function tj(){return tj=(0,te.A)(function*(t,e,n,i,r={}){const s=yield Hs(t,e,n,i,r);return"mfaPendingCredential"in s&&Ou(t,"multi-factor-auth-required",{_serverResponse:s}),s}),tj.apply(this,arguments)}function xse(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?Jz(t.config,r):`${t.config.apiScheme}://${r}`}function cTe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uTe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(gh(this.auth,"network-request-failed")),lTe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dP(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=gh(t,e,i);return r.customData._tokenResponse=n,r}function Mse(t){return void 0!==t&&void 0!==t.enterprise}class Nse{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return cTe(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function ij(){return ij=(0,te.A)(function*(t,e){return Hs(t,"GET","/v2/recaptchaConfig",Bs(t,e))}),ij.apply(this,arguments)}function rj(){return rj=(0,te.A)(function*(t,e){return Hs(t,"POST","/v1/accounts:delete",e)}),rj.apply(this,arguments)}function Fse(t,e){return oj.apply(this,arguments)}function oj(){return oj=(0,te.A)(function*(t,e){return Hs(t,"POST","/v1/accounts:lookup",e)}),oj.apply(this,arguments)}function hP(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function aj(){return aj=(0,te.A)(function*(t,e=!1){const n=Hr(t),i=yield n.getIdToken(e),r=tV(i);Tn(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:hP(lj(r.auth_time)),issuedAtTime:hP(lj(r.iat)),expirationTime:hP(lj(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}),aj.apply(this,arguments)}function lj(t){return 1e3*Number(t)}function tV(t){const[e,n,i]=t.split(".");if(void 0===e||void 0===n||void 0===i)return eV("JWT malformed, contained fewer than 3 sections"),null;try{const r=Ek(n);return r?JSON.parse(r):(eV("Failed to decode base64 JWT payload"),null)}catch(r){return eV("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Lse(t){const e=tV(t);return Tn(e,"internal-error"),Tn(typeof e.exp<"u","internal-error"),Tn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function gv(t,e){return cj.apply(this,arguments)}function cj(){return cj=(0,te.A)(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(i){throw i instanceof xu&&function gTe({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}}),cj.apply(this,arguments)}class mTe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout((0,te.A)(function*(){yield n.iteration()}),i)}iteration(){var e=this;return(0,te.A)(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class uj{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hP(this.lastLoginAt),this.creationTime=hP(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fP(t){return dj.apply(this,arguments)}function dj(){return dj=(0,te.A)(function*(t){var e;const n=t.auth,i=yield t.getIdToken(),r=yield gv(t,Fse(n,{idToken:i}));Tn(r?.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?kse(s.providerUserInfo):[],c=function _Te(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}(t.providerData,o),m=!!t.isAnonymous&&!(t.email&&s.passwordHash||c?.length),y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new uj(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(t,y)}),dj.apply(this,arguments)}function hj(){return hj=(0,te.A)(function*(t){const e=Hr(t);yield fP(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),hj.apply(this,arguments)}function kse(t){return t.map(e=>{var{providerId:n}=e,i=ii(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function fj(){return fj=(0,te.A)(function*(t,e){const n=yield Dse(t,{},(0,te.A)(function*(){const i=ZI({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=xse(t,r,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Rse.fetch()(o,{method:"POST",headers:c,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}),fj.apply(this,arguments)}function pj(){return pj=(0,te.A)(function*(t,e){return Hs(t,"POST","/v2/accounts:revokeToken",Bs(t,e))}),pj.apply(this,arguments)}class dT{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tn(e.idToken,"internal-error"),Tn(typeof e.idToken<"u","internal-error"),Tn(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Lse(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Tn(0!==e.length,"internal-error");const n=Lse(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){var i=this;return(0,te.A)(function*(){return n||!i.accessToken||i.isExpired?(Tn(i.refreshToken,e,"user-token-expired"),i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null):i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var i=this;return(0,te.A)(function*(){const{accessToken:r,refreshToken:s,expiresIn:o}=yield function yTe(t,e){return fj.apply(this,arguments)}(e,n);i.updateTokensAndExpiration(r,s,Number(o))})()}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new dT;return i&&(Tn("string"==typeof i,"internal-error",{appName:e}),o.refreshToken=i),r&&(Tn("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),s&&(Tn("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dT,this.toJSON())}_performRefresh(){return ig("not implemented")}}function Ty(t,e){Tn("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class mv{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=ii(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mTe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new uj(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return(0,te.A)(function*(){const i=yield gv(n,n.stsTokenManager.getToken(n.auth,e));return Tn(i,n.auth,"internal-error"),n.accessToken!==i&&(n.accessToken=i,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),i})()}getIdTokenResult(e){return function pTe(t){return aj.apply(this,arguments)}(this,e)}reload(){return function vTe(t){return hj.apply(this,arguments)}(this)}_assign(e){this!==e&&(Tn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mv(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Tn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var i=this;return(0,te.A)(function*(){let r=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield fP(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return(0,te.A)(function*(){if(sv(e.auth.app))return Promise.reject(qa(e.auth));const n=yield e.getIdToken();return yield gv(e,function hTe(t,e){return rj.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,c,d,p,m;const y=null!==(i=n.displayName)&&void 0!==i?i:void 0,A=null!==(r=n.email)&&void 0!==r?r:void 0,k=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,U=null!==(o=n.photoURL)&&void 0!==o?o:void 0,X=null!==(c=n.tenantId)&&void 0!==c?c:void 0,Q=null!==(d=n._redirectEventId)&&void 0!==d?d:void 0,pe=null!==(p=n.createdAt)&&void 0!==p?p:void 0,Ie=null!==(m=n.lastLoginAt)&&void 0!==m?m:void 0,{uid:ke,emailVerified:tt,isAnonymous:zt,providerData:Ot,stsTokenManager:Se}=n;Tn(ke&&Se,e,"internal-error");const me=dT.fromJSON(this.name,Se);Tn("string"==typeof ke,e,"internal-error"),Ty(y,e.name),Ty(A,e.name),Tn("boolean"==typeof tt,e,"internal-error"),Tn("boolean"==typeof zt,e,"internal-error"),Ty(k,e.name),Ty(U,e.name),Ty(X,e.name),Ty(Q,e.name),Ty(pe,e.name),Ty(Ie,e.name);const De=new mv({uid:ke,auth:e,email:A,emailVerified:tt,displayName:y,isAnonymous:zt,photoURL:U,phoneNumber:k,tenantId:X,stsTokenManager:me,createdAt:pe,lastLoginAt:Ie});return Ot&&Array.isArray(Ot)&&(De.providerData=Ot.map(Ke=>Object.assign({},Ke))),Q&&(De._redirectEventId=Q),De}static _fromIdTokenResponse(e,n,i=!1){return(0,te.A)(function*(){const r=new dT;r.updateFromServerResponse(n);const s=new mv({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield fP(s),s})()}static _fromGetAccountInfoResponse(e,n,i){return(0,te.A)(function*(){const r=n.users[0];Tn(void 0!==r.localId,"internal-error");const s=void 0!==r.providerUserInfo?kse(r.providerUserInfo):[],o=!(r.email&&r.passwordHash||s?.length),c=new dT;c.updateFromIdToken(i);const d=new mv({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:o}),p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new uj(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||s?.length)};return Object.assign(d,p),d})()}}const Vse=new Map;function vv(t){Iy(t instanceof Function,"Expected a class definition");let e=Vse.get(t);return e?(Iy(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Vse.set(t,e),e)}const Gse=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,te.A)(function*(){return!0})()}_set(n,i){var r=this;return(0,te.A)(function*(){r.storage[n]=i})()}_get(n){var i=this;return(0,te.A)(function*(){const r=i.storage[n];return void 0===r?null:r})()}_remove(n){var i=this;return(0,te.A)(function*(){delete i.storage[n]})()}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})();function nV(t,e,n){return`firebase:${t}:${e}:${n}`}class hT{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=nV(this.userKey,r.apiKey,s),this.fullPersistenceKey=nV("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,te.A)(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?mv._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return(0,te.A)(function*(){if(n.persistence===e)return;const i=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,i?n.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return(0,te.A)(function*(){if(!n.length)return new hT(vv(Gse),e,i);const r=(yield Promise.all(n.map(function(){var p=(0,te.A)(function*(m){if(yield m._isAvailable())return m});return function(m){return p.apply(this,arguments)}}()))).filter(p=>p);let s=r[0]||vv(Gse);const o=nV(i,e.config.apiKey,e.name);let c=null;for(const p of n)try{const m=yield p._get(o);if(m){const y=mv._fromJSON(e,m);p!==s&&(c=y),s=p;break}}catch{}const d=r.filter(p=>p._shouldAllowMigration);return s._shouldAllowMigration&&d.length?(s=d[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(function(){var p=(0,te.A)(function*(m){if(m!==s)try{yield m._remove(o)}catch{}});return function(m){return p.apply(this,arguments)}}())),new hT(s,e,i)):new hT(s,e,i)})()}}function Bse(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zse(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Hse(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($se(e))return"Blackberry";if(qse(e))return"Webos";if(Use(e))return"Safari";if((e.includes("chrome/")||Wse(e))&&!e.includes("edge/"))return"Chrome";if(jse(e))return"Android";{const i=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function Hse(t=Zo()){return/firefox\//i.test(t)}function Use(t=Zo()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wse(t=Zo()){return/crios\//i.test(t)}function zse(t=Zo()){return/iemobile/i.test(t)}function jse(t=Zo()){return/android/i.test(t)}function $se(t=Zo()){return/blackberry/i.test(t)}function qse(t=Zo()){return/webos/i.test(t)}function gj(t=Zo()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Kse(t=Zo()){return gj(t)||jse(t)||qse(t)||$se(t)||/windows phone/i.test(t)||zse(t)}function Yse(t,e=[]){let n;switch(t){case"Browser":n=Bse(Zo());break;case"Worker":n=`${Bse(Zo())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ov}/${i}`}class ETe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,c)=>{try{o(e(s))}catch(d){c(d)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return(0,te.A)(function*(){if(n.auth.currentUser===e)return;const i=[];try{for(const r of n.queue)yield r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const s of i)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}function mj(){return mj=(0,te.A)(function*(t,e={}){return Hs(t,"GET","/v2/passwordPolicy",Bs(t,e))}),mj.apply(this,arguments)}class TTe{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(i=e.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=null===(n=d.meetsMinPasswordLength)||void 0===n||n),d.isValid&&(d.isValid=null===(i=d.meetsMaxPasswordLength)||void 0===i||i),d.isValid&&(d.isValid=null===(r=d.containsLowercaseLetter)||void 0===r||r),d.isValid&&(d.isValid=null===(s=d.containsUppercaseLetter)||void 0===s||s),d.isValid&&(d.isValid=null===(o=d.containsNumericCharacter)||void 0===o||o),d.isValid&&(d.isValid=null===(c=d.containsNonAlphanumericCharacter)||void 0===c||c),d}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){let i;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class ATe{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xse(this),this.idTokenSubscription=new Xse(this),this.beforeStateQueue=new ETe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tse,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var i=this;return n&&(this._popupRedirectResolver=vv(n)),this._initializationPromise=this.queue((0,te.A)(function*(){var r,s;if(!i._deleted&&(i.persistenceManager=yield hT.create(i,e),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(n),i.lastNotifiedUid=(null===(s=i.currentUser)||void 0===s?void 0:s.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,te.A)(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUserFromIdToken(e){var n=this;return(0,te.A)(function*(){try{const i=yield Fse(n,{idToken:e}),r=yield mv._fromGetAccountInfoResponse(n,i,e);yield n.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),yield n.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var n=this;return(0,te.A)(function*(){var i;if(sv(n.app)){const c=n.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>n.initializeCurrentUserFromIdToken(c).then(d,d))}):n.directlySetCurrentUser(null)}const r=yield n.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const c=null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId,d=s?._redirectEventId,p=yield n.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(s=p.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(c){s=r,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(c))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return Tn(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return(0,te.A)(function*(){let i=null;try{i=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var n=this;return(0,te.A)(function*(){try{yield fP(e)}catch(i){if("auth/network-request-failed"!==i?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function oTe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return(0,te.A)(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return(0,te.A)(function*(){if(sv(n.app))return Promise.reject(qa(n));const i=e?Hr(e):null;return i&&Tn(i.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(i&&i._clone(n))})()}_updateCurrentUser(e,n=!1){var i=this;return(0,te.A)(function*(){if(!i._deleted)return e&&Tn(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),n||(yield i.beforeStateQueue.runMiddleware(e)),i.queue((0,te.A)(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,te.A)(function*(){return sv(e.app)?Promise.reject(qa(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var n=this;return sv(this.app)?Promise.reject(qa(this)):this.queue((0,te.A)(function*(){yield n.assertedPersistence.setPersistence(vv(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return(0,te.A)(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const i=n._getPasswordPolicyInternal();return i.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,te.A)(function*(){const n=yield function STe(t){return mj.apply(this,arguments)}(e),i=new TTe(n);null===e.tenantId?e._projectPasswordPolicy=i:e._tenantPasswordPolicies[e.tenantId]=i})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jp("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){var n=this;return(0,te.A)(function*(){if(n.currentUser){const i=yield n.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};null!=n.tenantId&&(r.tenantId=n.tenantId),yield function CTe(t,e){return pj.apply(this,arguments)}(n,r)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var i=this;return(0,te.A)(function*(){const r=yield i.getOrInitRedirectPersistenceManager(n);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return(0,te.A)(function*(){if(!n.redirectPersistenceManager){const i=e&&vv(e)||n._popupRedirectResolver;Tn(i,n,"argument-error"),n.redirectPersistenceManager=yield hT.create(n,[vv(i._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return(0,te.A)(function*(){var i,r;return n._isInitialized&&(yield n.queue((0,te.A)(function*(){}))),(null===(i=n._currentUser)||void 0===i?void 0:i._redirectEventId)===e?n._currentUser:(null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return(0,te.A)(function*(){if(e===n.currentUser)return n.queue((0,te.A)(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tn(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),"function"==typeof n){const d=e.addObserver(n,i,r);return()=>{o=!0,d()}}{const d=e.addObserver(n);return()=>{o=!0,d()}}}directlySetCurrentUser(e){var n=this;return(0,te.A)(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yse(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,te.A)(function*(){var n;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const r=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const s=yield e._getAppCheckToken();return s&&(i["X-Firebase-AppCheck"]=s),i})()}_getAppCheckToken(){var e=this;return(0,te.A)(function*(){var n;const i=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return i?.error&&function rTe(t,...e){Zk.logLevel<=ir.WARN&&Zk.warn(`Auth (${ov}): ${t}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function na(t){return Hr(t)}class Xse{constructor(e){this.auth=e,this.observer=null,this.addObserver=function mbe(t,e){const n=new vbe(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return Tn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pP={loadJS:()=>(0,te.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vj(t){return pP.loadJS(t)}function Qse(t){return`__${t}${Math.floor(1e6*Math.random())}`}class Jse{constructor(e){this.type="recaptcha-enterprise",this.auth=na(e)}verify(e="verify",n=!1){var i=this;return(0,te.A)(function*(){function s(){return s=(0,te.A)(function*(c){if(!n){if(null==c.tenantId&&null!=c._agentRecaptchaConfig)return c._agentRecaptchaConfig.siteKey;if(null!=c.tenantId&&void 0!==c._tenantRecaptchaConfigs[c.tenantId])return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(function(){var d=(0,te.A)(function*(p,m){(function Ose(t,e){return ij.apply(this,arguments)})(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(void 0!==y.recaptchaKey){const A=new Nse(y);return null==c.tenantId?c._agentRecaptchaConfig=A:c._tenantRecaptchaConfigs[c.tenantId]=A,p(A.siteKey)}m(new Error("recaptcha Enterprise site key undefined"))}).catch(y=>{m(y)})});return function(p,m){return d.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(c,d,p){const m=window.grecaptcha;Mse(m)?m.enterprise.ready(()=>{m.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d("NO_RECAPTCHA")})}):p(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((c,d)=>{(function r(c){return s.apply(this,arguments)})(i.auth).then(p=>{if(!n&&Mse(window.grecaptcha))o(p,c,d);else{if(typeof window>"u")return void d(new Error("RecaptchaVerifier is only supported in browser"));let m=function xTe(){return pP.recaptchaEnterpriseScript}();0!==m.length&&(m+=p),vj(m).then(()=>{o(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})})()}}function Zse(t,e,n){return _j.apply(this,arguments)}function _j(){return _j=(0,te.A)(function*(t,e,n,i=!1){const r=new Jse(t);let s;try{s=yield r.verify(n)}catch{s=yield r.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,i?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}),_j.apply(this,arguments)}function gP(t,e,n,i){return yj.apply(this,arguments)}function yj(){return yj=(0,te.A)(function*(t,e,n,i){var r;if(null!==(r=t._getRecaptchaConfig())&&void 0!==r&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield Zse(t,e,n,"getOobCode"===n);return i(t,s)}return i(t,e).catch(function(){var s=(0,te.A)(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=yield Zse(t,e,n,"getOobCode"===n);return i(t,c)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}())}),yj.apply(this,arguments)}function eoe(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function toe(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class mP{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ig("not implemented")}_getIdTokenResponse(e){return ig("not implemented")}_linkToIdToken(e,n){return ig("not implemented")}_getReauthenticationResolver(e){return ig("not implemented")}}function HTe(t,e){return Ej.apply(this,arguments)}function Ej(){return Ej=(0,te.A)(function*(t,e){return Hs(t,"POST","/v1/accounts:signUp",e)}),Ej.apply(this,arguments)}function WTe(t,e){return Ij.apply(this,arguments)}function Ij(){return Ij=(0,te.A)(function*(t,e){return pv(t,"POST","/v1/accounts:signInWithPassword",Bs(t,e))}),Ij.apply(this,arguments)}function Pj(){return Pj=(0,te.A)(function*(t,e){return pv(t,"POST","/v1/accounts:signInWithEmailLink",Bs(t,e))}),Pj.apply(this,arguments)}function Mj(){return Mj=(0,te.A)(function*(t,e){return pv(t,"POST","/v1/accounts:signInWithEmailLink",Bs(t,e))}),Mj.apply(this,arguments)}class vP extends mP{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new vP(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new vP(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return(0,te.A)(function*(){switch(n.signInMethod){case"password":return gP(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",WTe);case"emailLink":return function KTe(t,e){return Pj.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Ou(e,"internal-error")}})()}_linkToIdToken(e,n){var i=this;return(0,te.A)(function*(){switch(i.signInMethod){case"password":return gP(e,{idToken:n,returnSecureToken:!0,email:i._email,password:i._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HTe);case"emailLink":return function YTe(t,e){return Mj.apply(this,arguments)}(e,{idToken:n,email:i._email,oobCode:i._password});default:Ou(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function _v(t,e){return Nj.apply(this,arguments)}function Nj(){return Nj=(0,te.A)(function*(t,e){return pv(t,"POST","/v1/accounts:signInWithIdp",Bs(t,e))}),Nj.apply(this,arguments)}class CP{constructor(e){var n,i,r,s,o,c;const d=L1(k1(e)),p=null!==(n=d.apiKey)&&void 0!==n?n:null,m=null!==(i=d.oobCode)&&void 0!==i?i:null,y=function nAe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=d.mode)&&void 0!==r?r:null);Tn(p&&m&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=m,this.continueUrl=null!==(s=d.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=d.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(c=d.tenantId)&&void 0!==c?c:null}static parseLink(e){const n=function iAe(t){const e=L1(k1(t)).link,n=e?L1(k1(e)).deep_link_id:null,i=L1(k1(t)).deep_link_id;return(i?L1(k1(i)).link:null)||i||n||e||t}(e);try{return new CP(n)}catch{return null}}}let ioe=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,i){return vP._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){const r=CP.parseLink(i);return Tn(r,"argument-error"),vP._fromEmailAndCode(n,r.code,r.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class yv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class rAe extends yv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class mh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return(0,te.A)(function*(){const s=yield mv._fromIdTokenResponse(e,i,r),o=soe(i);return new mh({user:s,providerId:o,_tokenResponse:i,operationType:n})})()}static _forOperation(e,n,i){return(0,te.A)(function*(){yield e._updateTokensIfNecessary(i,!0);const r=soe(i);return new mh({user:e,providerId:r,_tokenResponse:i,operationType:n})})()}}function soe(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class sV extends xu{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,sV.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new sV(e,n,i,r)}}function ooe(t,e,n,i){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?sV._fromErrorAndOperation(t,s,e,i):s})}function Wj(){return Wj=(0,te.A)(function*(t,e,n=!1){const i=yield gv(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return mh._forOperation(t,"link",i)}),Wj.apply(this,arguments)}function jj(){return jj=(0,te.A)(function*(t,e,n=!1){const{auth:i}=t;if(sv(i.app))return Promise.reject(qa(i));const r="reauthenticate";try{const s=yield gv(t,ooe(i,r,e,t),n);Tn(s.idToken,i,"internal-error");const o=tV(s.idToken);Tn(o,i,"internal-error");const{sub:c}=o;return Tn(t.uid===c,i,"user-mismatch"),mh._forOperation(t,r,s)}catch(s){throw"auth/user-not-found"===s?.code&&Ou(i,"user-mismatch"),s}}),jj.apply(this,arguments)}function coe(t,e){return $j.apply(this,arguments)}function $j(){return $j=(0,te.A)(function*(t,e,n=!1){if(sv(t.app))return Promise.reject(qa(t));const i="signIn",r=yield ooe(t,i,e),s=yield mh._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(s.user)),s}),$j.apply(this,arguments)}function Kj(){return Kj=(0,te.A)(function*(t,e){return coe(na(t),e)}),Kj.apply(this,arguments)}function n7(){return n7=(0,te.A)(function*(t){const e=na(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())}),n7.apply(this,arguments)}function dAe(t,e,n){return sv(t.app)?Promise.reject(qa(t)):function qj(t,e){return Kj.apply(this,arguments)}(Hr(t),ioe.credential(e,n)).catch(function(){var i=(0,te.A)(function*(r){throw"auth/password-does-not-meet-requirements"===r.code&&function t7(t){return n7.apply(this,arguments)}(t),r});return function(r){return i.apply(this,arguments)}}())}function bAe(t){return Hr(t).signOut()}const lV="__sak";class hoe{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lV,"1"),this.storage.removeItem(lV),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const RAe=(()=>{class t extends hoe{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kse(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),s=this.localCache[i];r!==s&&n(i,s,r)}}onStorageEvent(n,i=!1){if(!n.key)return void this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});const r=n.key;i?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(r);!i&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);!function wTe(){return function cbe(){const t=Zo();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,i){this.localCache[n]=i;const r=this.listeners[n];if(r)for(const s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,i){var r=()=>super._set,s=this;return(0,te.A)(function*(){yield r().call(s,n,i),s.localCache[n]=JSON.stringify(i)})()}_get(n){var i=()=>super._get,r=this;return(0,te.A)(function*(){const s=yield i().call(r,n);return r.localCache[n]=JSON.stringify(s),s})()}_remove(n){var i=()=>super._remove,r=this;return(0,te.A)(function*(){yield i().call(r,n),delete r.localCache[n]})()}}return t.type="LOCAL",t})(),foe=(()=>{class t extends hoe{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})();let xAe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const i=this.receivers.find(s=>s.isListeningto(n));if(i)return i;const r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){var i=this;return(0,te.A)(function*(){const r=n,{eventId:s,eventType:o,data:c}=r.data,d=i.handlersMap[o];if(!d?.size)return;r.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(d).map(function(){var y=(0,te.A)(function*(A){return A(r.origin,c)});return function(A){return y.apply(this,arguments)}}()),m=yield function DAe(t){return Promise.all(t.map(function(){var e=(0,te.A)(function*(n){try{return{fulfilled:!0,value:yield n}}catch(i){return{fulfilled:!1,reason:i}}});return function(n){return e.apply(this,arguments)}}()))}(p);r.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})})()}_subscribe(n,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function E7(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(10*Math.random());return t+n}class PAe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){var r=this;return(0,te.A)(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((d,p)=>{const m=E7("",20);s.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(A){const k=A;if(k.data.eventId===m)switch(k.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(k.data.response);break;default:clearTimeout(y),clearTimeout(o),p(new Error("invalid_response"))}}},r.handlers.add(c),s.port1.addEventListener("message",c.onMessage),r.target.postMessage({eventType:e,eventId:m,data:n},[s.port2])}).finally(()=>{c&&r.removeMessageHandler(c)})})()}}function ga(){return window}function S7(){return typeof ga().WorkerGlobalScope<"u"&&"function"==typeof ga().importScripts}function I7(){return(I7=(0,te.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const poe="firebaseLocalStorageDb",cV="firebaseLocalStorage",goe="fbase_key";class EP{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uV(t,e){return t.transaction([cV],e?"readwrite":"readonly").objectStore(cV)}function T7(){const t=indexedDB.open(poe,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(cV,{keyPath:goe})}catch(r){n(r)}}),t.addEventListener("success",(0,te.A)(function*(){const i=t.result;i.objectStoreNames.contains(cV)?e(i):(i.close(),yield function kAe(){const t=indexedDB.deleteDatabase(poe);return new EP(t).toPromise()}(),e(yield T7()))}))})}function moe(t,e,n){return A7.apply(this,arguments)}function A7(){return A7=(0,te.A)(function*(t,e,n){const i=uV(t,!0).put({[goe]:e,value:n});return new EP(i).toPromise()}),A7.apply(this,arguments)}function R7(){return R7=(0,te.A)(function*(t,e){const n=uV(t,!1).get(e),i=yield new EP(n).toPromise();return void 0===i?null:i.value}),R7.apply(this,arguments)}function voe(t,e){const n=uV(t,!0).delete(e);return new EP(n).toPromise()}const HAe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return(0,te.A)(function*(){return n.db||(n.db=yield T7()),n.db})()}_withRetries(n){var i=this;return(0,te.A)(function*(){let r=0;for(;;)try{const s=yield i._openDb();return yield n(s)}catch(s){if(r++>3)throw s;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return(0,te.A)(function*(){return S7()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return(0,te.A)(function*(){n.receiver=xAe._getInstance(function FAe(){return S7()?self:null}()),n.receiver._subscribe("keyChanged",function(){var i=(0,te.A)(function*(r,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(r,s){return i.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var i=(0,te.A)(function*(r,s){return["keyChanged"]});return function(r,s){return i.apply(this,arguments)}}())})()}initializeSender(){var n=this;return(0,te.A)(function*(){var i,r;if(n.activeServiceWorker=yield function NAe(){return I7.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new PAe(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(i=s[0])&&void 0!==i&&i.fulfilled&&null!==(r=s[0])&&void 0!==r&&r.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var i=this;return(0,te.A)(function*(){if(i.sender&&i.activeServiceWorker&&function OAe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:n},i.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,te.A)(function*(){try{if(!indexedDB)return!1;const n=yield T7();return yield moe(n,lV,"1"),yield voe(n,lV),!0}catch{}return!1})()}_withPendingWrite(n){var i=this;return(0,te.A)(function*(){i.pendingWrites++;try{yield n()}finally{i.pendingWrites--}})()}_set(n,i){var r=this;return(0,te.A)(function*(){return r._withPendingWrite((0,te.A)(function*(){return yield r._withRetries(s=>moe(s,n,i)),r.localCache[n]=i,r.notifyServiceWorker(n)}))})()}_get(n){var i=this;return(0,te.A)(function*(){const r=yield i._withRetries(s=>function VAe(t,e){return R7.apply(this,arguments)}(s,n));return i.localCache[n]=r,r})()}_remove(n){var i=this;return(0,te.A)(function*(){return i._withPendingWrite((0,te.A)(function*(){return yield i._withRetries(r=>voe(r,n)),delete i.localCache[n],i.notifyServiceWorker(n)}))})()}_poll(){var n=this;return(0,te.A)(function*(){const i=yield n._withRetries(o=>{const c=uV(o,!1).getAll();return new EP(c).toPromise()});if(!i)return[];if(0!==n.pendingWrites)return[];const r=[],s=new Set;if(0!==i.length)for(const{fbase_key:o,value:c}of i)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(c)&&(n.notifyListeners(o,c),r.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),r.push(o));return r})()}notifyListeners(n,i){this.localCache[n]=i;const r=this.listeners[n];if(r)for(const s of Array.from(r))s(i)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval((0,te.A)(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();Qse("rcb"),new uP(3e4,6e4);class k7 extends mP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _v(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _v(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _v(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nRe(t){return coe(t.auth,new k7(t),t.bypassAuthState)}function iRe(t){const{auth:e,user:n}=t;return Tn(n,e,"internal-error"),function loe(t,e){return jj.apply(this,arguments)}(n,new k7(t),t.bypassAuthState)}function rRe(t){return V7.apply(this,arguments)}function V7(){return V7=(0,te.A)(function*(t){const{auth:e,user:n}=t;return Tn(n,e,"internal-error"),function Uj(t,e){return Wj.apply(this,arguments)}(n,new k7(t),t.bypassAuthState)}),V7.apply(this,arguments)}class sRe{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=(0,te.A)(function*(i,r){e.pendingPromise={resolve:i,reject:r};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(i,r){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return(0,te.A)(function*(){const{urlResponse:i,sessionId:r,postBody:s,tenantId:o,error:c,type:d}=e;if(c)return void n.reject(c);const p={auth:n.auth,requestUri:i,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(d)(p))}catch(m){n.reject(m)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nRe;case"linkViaPopup":case"linkViaRedirect":return rRe;case"reauthViaPopup":case"reauthViaRedirect":return iRe;default:Ou(this.auth,"internal-error")}}resolve(e){Iy(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Iy(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new uP(2e3,1e4);const oRe="pendingRedirect",SP=new Map;class aRe extends sRe{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){var e=()=>super.execute,n=this;return(0,te.A)(function*(){let i=SP.get(n.auth._key());if(!i){try{const s=(yield function lRe(t,e){return W7.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;i=()=>Promise.resolve(s)}catch(r){i=()=>Promise.reject(r)}SP.set(n.auth._key(),i)}return n.bypassAuthState||SP.set(n.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,i=this;return(0,te.A)(function*(){if("signInViaRedirect"===e.type)return n().call(i,e);if("unknown"!==e.type){if(e.eventId){const r=yield i.auth._redirectUserForId(e.eventId);if(r)return i.user=r,n().call(i,e);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return(0,te.A)(function*(){})()}cleanUp(){}}function W7(){return W7=(0,te.A)(function*(t,e){const n=function Coe(t){return nV(oRe,t.config.apiKey,t.name)}(e),i=function yoe(t){return vv(t._redirectPersistence)}(t);if(!(yield i._isAvailable()))return!1;const r="true"===(yield i._get(n));return yield i._remove(n),r}),W7.apply(this,arguments)}function cRe(t,e){SP.set(t._key(),e)}function boe(t,e){return X7.apply(this,arguments)}function X7(){return X7=(0,te.A)(function*(t,e,n=!1){if(sv(t.app))return Promise.reject(qa(t));const i=na(t),r=function cE(t,e){return e?vv(e):(Tn(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(i,e),o=yield new aRe(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o}),X7.apply(this,arguments)}class pRe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function gRe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Soe(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Soe(e)){const r=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";n.onError(gh(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Eoe(e))}saveEventToCache(e){this.cachedEventUids.add(Eoe(e)),this.lastProcessedEventTime=Date.now()}}function Eoe(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Soe({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function J7(){return J7=(0,te.A)(function*(t,e={}){return Hs(t,"GET","/v1/projects",e)}),J7.apply(this,arguments)}const vRe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_Re=/^https?/;function Z7(){return Z7=(0,te.A)(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function mRe(t){return J7.apply(this,arguments)}(t);for(const n of e)try{if(CRe(n))return}catch{}Ou(t,"unauthorized-domain")}),Z7.apply(this,arguments)}function CRe(t){const e=cP(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===i?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===i}if(!_Re.test(n))return!1;if(vRe.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const bRe=new uP(3e4,6e4);function Ioe(){const t=ga().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let hV=null;const SRe=new uP(5e3,15e3),IRe="__/auth/iframe",TRe="emulator/auth/iframe",ARe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RRe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DRe(t){const e=t.config;Tn(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jz(e,TRe):`https://${t.config.authDomain}/${IRe}`,i={apiKey:e.apiKey,appName:t.name,v:ov},r=RRe.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${ZI(i).slice(1)}`}function e$(){return e$=(0,te.A)(function*(t){const e=yield function ERe(t){return hV=hV||function wRe(t){return new Promise((e,n)=>{var i,r,s;function o(){Ioe(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ioe(),n(gh(t,"network-request-failed"))},timeout:bRe.get()})}if(null!==(r=null===(i=ga().gapi)||void 0===i?void 0:i.iframes)&&void 0!==r&&r.Iframe)e(gapi.iframes.getContext());else{if(null===(s=ga().gapi)||void 0===s||!s.load){const c=Qse("iframefcb");return ga()[c]=()=>{gapi.load?o():n(gh(t,"network-request-failed"))},vj(`${function PTe(){return pP.gapiScript}()}?onload=${c}`).catch(d=>n(d))}o()}}).catch(e=>{throw hV=null,e})}(t),hV}(t),n=ga().gapi;return Tn(n,t,"internal-error"),e.open({where:document.body,url:DRe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ARe,dontclear:!0},i=>new Promise(function(){var r=(0,te.A)(function*(s,o){yield i.restyle({setHideOnLeave:!1});const c=gh(t,"network-request-failed"),d=ga().setTimeout(()=>{o(c)},SRe.get());function p(){ga().clearTimeout(d),s(i)}i.ping(p).then(p,()=>{o(c)})});return function(s,o){return r.apply(this,arguments)}}()))}),e$.apply(this,arguments)}const PRe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Toe{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const VRe="__/auth/handler",GRe="emulator/auth/handler",BRe=encodeURIComponent("fac");function Aoe(t,e,n,i,r,s){return t$.apply(this,arguments)}function t$(){return t$=(0,te.A)(function*(t,e,n,i,r,s){Tn(t.config.authDomain,t,"auth-domain-config-required"),Tn(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ov,eventId:r};if(e instanceof yv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",lW(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries(s||{}))o[m]=y}if(e instanceof rAe){const m=e.getScopes().filter(y=>""!==y);m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const m of Object.keys(c))void 0===c[m]&&delete c[m];const d=yield t._getAppCheckToken(),p=d?`#${BRe}=${encodeURIComponent(d)}`:"";return`${function HRe({config:t}){return t.emulator?Jz(t,GRe):`https://${t.authDomain}/${VRe}`}(t)}?${ZI(c).slice(1)}${p}`}),t$.apply(this,arguments)}const n$="webStorageSupport",WRe=class URe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=foe,this._completeRedirectFn=boe,this._overrideRedirectResult=cRe}_openPopup(e,n,i,r){var s=this;return(0,te.A)(function*(){var o;Iy(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const c=yield Aoe(e,n,i,cP(),r);return function LRe(t,e,n,i=500,r=600){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const d=Object.assign(Object.assign({},PRe),{width:i.toString(),height:r.toString(),top:s,left:o}),p=Zo().toLowerCase();n&&(c=Wse(p)?"_blank":n),Hse(p)&&(e=e||"http://localhost",d.scrollbars="yes");const m=Object.entries(d).reduce((A,[k,U])=>`${A}${k}=${U},`,"");if(function bTe(t=Zo()){var e;return gj(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(p)&&"_self"!==c)return function kRe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(e||"",c),new Toe(null);const y=window.open(e||"",c,m);Tn(y,t,"popup-blocked");try{y.focus()}catch{}return new Toe(y)}(e,c,E7())})()}_openRedirect(e,n,i,r){var s=this;return(0,te.A)(function*(){return yield s._originValidation(e),function MAe(t){ga().location.href=t}(yield Aoe(e,n,i,cP(),r)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Iy(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){var n=this;return(0,te.A)(function*(){const i=yield function xRe(t){return e$.apply(this,arguments)}(e),r=new pRe(e);return i.register("authEvent",s=>(Tn(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:r},n.iframes[e._key()]=i,r})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(n$,{type:n$},r=>{var s;const o=null===(s=r?.[0])||void 0===s?void 0:s[n$];void 0!==o&&n(!!o),Ou(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function yRe(t){return Z7.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Kse()||Use()||gj()}};var Poe="@firebase/auth";class zRe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return(0,te.A)(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const KRe=xie("authIdTokenMaxAge")||300;let Noe=null;const YRe=t=>function(){var e=(0,te.A)(function*(n){const i=n&&(yield n.getIdTokenResult()),r=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>KRe)return;const s=i?.token;Noe!==s&&(Noe=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function XRe(t=eg()){const e=Pu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function FTe(t,e){const n=Pu(t,"auth");if(n.isInitialized()){const r=n.getImmediate();if(Zw(n.getOptions(),e??{}))return r;Ou(r,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:WRe,persistence:[HAe,RAe,foe]}),i=xie("authTokenSyncURL");if(i&&"boolean"==typeof isSecureContext&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=YRe(s.toString());(function CAe(t,e,n){Hr(t).beforeAuthStateChanged(e,n)})(n,o,()=>o(n.currentUser)),function yAe(t,e,n,i){Hr(t).onIdTokenChanged(e,n,i)}(n,c=>o(c))}}const r=Rie("auth");return r&&function kTe(t,e,n){const i=na(t);Tn(i._canInitEmulator,i,"emulator-config-failed"),Tn(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!n?.disableWarnings,s=eoe(e),{host:o,port:c}=function VTe(t){const e=eoe(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:toe(i.substr(s.length+1))}}{const[s,o]=i.split(":");return{host:s,port:toe(o)}}}(e);i.config.emulator={url:`${s}//${o}${null===c?"":`:${c}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function GTe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${r}`),n}(function RTe(t){pP=t})({loadJS:t=>new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=gh("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",function QRe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(i)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function $Re(t){Cl(new ja("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=i.options;Tn(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yse(t)},p=new ATe(i,r,s,d);return function LTe(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(vv);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Cl(new ja("auth-internal",e=>{const n=na(e.getProvider("auth").getImmediate());return new zRe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zi(Poe,"1.7.9",function jRe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(t)),Zi(Poe,"1.7.9","esm2017")}("Browser");class pT{constructor(e){return e}}class IP{constructor(){return wf("auth")}}const r$=new h.nKC("angularfire2.auth-instances");function ZRe(t){return(e,n)=>{const i=e.runOutsideAngular(()=>t(n));return new pT(i)}}const eDe={provide:IP,deps:[[new h.Xx1,r$]]},tDe={provide:pT,useFactory:function JRe(t,e){const n=tg("auth",t,e);return n&&new pT(n)},deps:[[new h.Xx1,r$],hd]},iDe=ea(nTe,!0),rDe=ea(Sse,!0),sDe=ea(XRe,!0),oDe=ea(dAe,!0),aDe=ea(bAe,!0);var uE,koe,Foe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Loe={};(function(){var t;function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(Se,me,De){De||(De=0);var Ke=Array(16);if("string"==typeof me)for(var et=0;16>et;++et)Ke[et]=me.charCodeAt(De++)|me.charCodeAt(De++)<<8|me.charCodeAt(De++)<<16|me.charCodeAt(De++)<<24;else for(et=0;16>et;++et)Ke[et]=me[De++]|me[De++]<<8|me[De++]<<16|me[De++]<<24;var pt=Se.g[3],Oe=(me=Se.g[0])+(pt^(De=Se.g[1])&((et=Se.g[2])^pt))+Ke[0]+3614090360&4294967295;Oe=(De=(et=(pt=(me=(De=(et=(pt=(me=(De=(et=(pt=(me=(De=(et=(pt=(me=(De=(et=(pt=(me=(De=(et=(pt=(me=(De=(et=(pt=(me=(De=(et=(pt=(me=(De=(et=(pt=(me=(De=(et=(pt=(me=(De=(et=(pt=(me=(De=(et=(pt=(me=(De=(et=(pt=(me=(De=(et=(pt=(me=(De=(et=(pt=(me=De+(Oe<<7&4294967295|Oe>>>25))+((Oe=pt+(et^me&(De^et))+Ke[1]+3905402710&4294967295)<<12&4294967295|Oe>>>20))+((Oe=et+(De^pt&(me^De))+Ke[2]+606105819&4294967295)<<17&4294967295|Oe>>>15))+((Oe=De+(me^et&(pt^me))+Ke[3]+3250441966&4294967295)<<22&4294967295|Oe>>>10))+((Oe=me+(pt^De&(et^pt))+Ke[4]+4118548399&4294967295)<<7&4294967295|Oe>>>25))+((Oe=pt+(et^me&(De^et))+Ke[5]+1200080426&4294967295)<<12&4294967295|Oe>>>20))+((Oe=et+(De^pt&(me^De))+Ke[6]+2821735955&4294967295)<<17&4294967295|Oe>>>15))+((Oe=De+(me^et&(pt^me))+Ke[7]+4249261313&4294967295)<<22&4294967295|Oe>>>10))+((Oe=me+(pt^De&(et^pt))+Ke[8]+1770035416&4294967295)<<7&4294967295|Oe>>>25))+((Oe=pt+(et^me&(De^et))+Ke[9]+2336552879&4294967295)<<12&4294967295|Oe>>>20))+((Oe=et+(De^pt&(me^De))+Ke[10]+4294925233&4294967295)<<17&4294967295|Oe>>>15))+((Oe=De+(me^et&(pt^me))+Ke[11]+2304563134&4294967295)<<22&4294967295|Oe>>>10))+((Oe=me+(pt^De&(et^pt))+Ke[12]+1804603682&4294967295)<<7&4294967295|Oe>>>25))+((Oe=pt+(et^me&(De^et))+Ke[13]+4254626195&4294967295)<<12&4294967295|Oe>>>20))+((Oe=et+(De^pt&(me^De))+Ke[14]+2792965006&4294967295)<<17&4294967295|Oe>>>15))+((Oe=De+(me^et&(pt^me))+Ke[15]+1236535329&4294967295)<<22&4294967295|Oe>>>10))+((Oe=me+(et^pt&(De^et))+Ke[1]+4129170786&4294967295)<<5&4294967295|Oe>>>27))+((Oe=pt+(De^et&(me^De))+Ke[6]+3225465664&4294967295)<<9&4294967295|Oe>>>23))+((Oe=et+(me^De&(pt^me))+Ke[11]+643717713&4294967295)<<14&4294967295|Oe>>>18))+((Oe=De+(pt^me&(et^pt))+Ke[0]+3921069994&4294967295)<<20&4294967295|Oe>>>12))+((Oe=me+(et^pt&(De^et))+Ke[5]+3593408605&4294967295)<<5&4294967295|Oe>>>27))+((Oe=pt+(De^et&(me^De))+Ke[10]+38016083&4294967295)<<9&4294967295|Oe>>>23))+((Oe=et+(me^De&(pt^me))+Ke[15]+3634488961&4294967295)<<14&4294967295|Oe>>>18))+((Oe=De+(pt^me&(et^pt))+Ke[4]+3889429448&4294967295)<<20&4294967295|Oe>>>12))+((Oe=me+(et^pt&(De^et))+Ke[9]+568446438&4294967295)<<5&4294967295|Oe>>>27))+((Oe=pt+(De^et&(me^De))+Ke[14]+3275163606&4294967295)<<9&4294967295|Oe>>>23))+((Oe=et+(me^De&(pt^me))+Ke[3]+4107603335&4294967295)<<14&4294967295|Oe>>>18))+((Oe=De+(pt^me&(et^pt))+Ke[8]+1163531501&4294967295)<<20&4294967295|Oe>>>12))+((Oe=me+(et^pt&(De^et))+Ke[13]+2850285829&4294967295)<<5&4294967295|Oe>>>27))+((Oe=pt+(De^et&(me^De))+Ke[2]+4243563512&4294967295)<<9&4294967295|Oe>>>23))+((Oe=et+(me^De&(pt^me))+Ke[7]+1735328473&4294967295)<<14&4294967295|Oe>>>18))+((Oe=De+(pt^me&(et^pt))+Ke[12]+2368359562&4294967295)<<20&4294967295|Oe>>>12))+((Oe=me+(De^et^pt)+Ke[5]+4294588738&4294967295)<<4&4294967295|Oe>>>28))+((Oe=pt+(me^De^et)+Ke[8]+2272392833&4294967295)<<11&4294967295|Oe>>>21))+((Oe=et+(pt^me^De)+Ke[11]+1839030562&4294967295)<<16&4294967295|Oe>>>16))+((Oe=De+(et^pt^me)+Ke[14]+4259657740&4294967295)<<23&4294967295|Oe>>>9))+((Oe=me+(De^et^pt)+Ke[1]+2763975236&4294967295)<<4&4294967295|Oe>>>28))+((Oe=pt+(me^De^et)+Ke[4]+1272893353&4294967295)<<11&4294967295|Oe>>>21))+((Oe=et+(pt^me^De)+Ke[7]+4139469664&4294967295)<<16&4294967295|Oe>>>16))+((Oe=De+(et^pt^me)+Ke[10]+3200236656&4294967295)<<23&4294967295|Oe>>>9))+((Oe=me+(De^et^pt)+Ke[13]+681279174&4294967295)<<4&4294967295|Oe>>>28))+((Oe=pt+(me^De^et)+Ke[0]+3936430074&4294967295)<<11&4294967295|Oe>>>21))+((Oe=et+(pt^me^De)+Ke[3]+3572445317&4294967295)<<16&4294967295|Oe>>>16))+((Oe=De+(et^pt^me)+Ke[6]+76029189&4294967295)<<23&4294967295|Oe>>>9))+((Oe=me+(De^et^pt)+Ke[9]+3654602809&4294967295)<<4&4294967295|Oe>>>28))+((Oe=pt+(me^De^et)+Ke[12]+3873151461&4294967295)<<11&4294967295|Oe>>>21))+((Oe=et+(pt^me^De)+Ke[15]+530742520&4294967295)<<16&4294967295|Oe>>>16))+((Oe=De+(et^pt^me)+Ke[2]+3299628645&4294967295)<<23&4294967295|Oe>>>9))+((Oe=me+(et^(De|~pt))+Ke[0]+4096336452&4294967295)<<6&4294967295|Oe>>>26))+((Oe=pt+(De^(me|~et))+Ke[7]+1126891415&4294967295)<<10&4294967295|Oe>>>22))+((Oe=et+(me^(pt|~De))+Ke[14]+2878612391&4294967295)<<15&4294967295|Oe>>>17))+((Oe=De+(pt^(et|~me))+Ke[5]+4237533241&4294967295)<<21&4294967295|Oe>>>11))+((Oe=me+(et^(De|~pt))+Ke[12]+1700485571&4294967295)<<6&4294967295|Oe>>>26))+((Oe=pt+(De^(me|~et))+Ke[3]+2399980690&4294967295)<<10&4294967295|Oe>>>22))+((Oe=et+(me^(pt|~De))+Ke[10]+4293915773&4294967295)<<15&4294967295|Oe>>>17))+((Oe=De+(pt^(et|~me))+Ke[1]+2240044497&4294967295)<<21&4294967295|Oe>>>11))+((Oe=me+(et^(De|~pt))+Ke[8]+1873313359&4294967295)<<6&4294967295|Oe>>>26))+((Oe=pt+(De^(me|~et))+Ke[15]+4264355552&4294967295)<<10&4294967295|Oe>>>22))+((Oe=et+(me^(pt|~De))+Ke[6]+2734768916&4294967295)<<15&4294967295|Oe>>>17))+((Oe=De+(pt^(et|~me))+Ke[13]+1309151649&4294967295)<<21&4294967295|Oe>>>11))+((pt=(me=De+((Oe=me+(et^(De|~pt))+Ke[4]+4149444226&4294967295)<<6&4294967295|Oe>>>26))+((Oe=pt+(De^(me|~et))+Ke[11]+3174756917&4294967295)<<10&4294967295|Oe>>>22))^((et=pt+((Oe=et+(me^(pt|~De))+Ke[2]+718787259&4294967295)<<15&4294967295|Oe>>>17))|~me))+Ke[9]+3951481745&4294967295,Se.g[0]=Se.g[0]+me&4294967295,Se.g[1]=Se.g[1]+(et+(Oe<<21&4294967295|Oe>>>11))&4294967295,Se.g[2]=Se.g[2]+et&4294967295,Se.g[3]=Se.g[3]+pt&4294967295}function o(Se,me){this.h=me;for(var De=[],Ke=!0,et=Se.length-1;0<=et;et--){var pt=0|Se[et];Ke&&pt==me||(De[et]=pt,Ke=!1)}this.g=De}(function e(Se,me){function De(){}De.prototype=me.prototype,Se.D=me.prototype,Se.prototype=new De,Se.prototype.constructor=Se,Se.C=function(Ke,et,pt){for(var Oe=Array(arguments.length-2),yh=2;yh<arguments.length;yh++)Oe[yh-2]=arguments[yh];return me.prototype[et].apply(Ke,Oe)}})(i,function n(){this.blockSize=-1}),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},i.prototype.u=function(Se,me){void 0===me&&(me=Se.length);for(var De=me-this.blockSize,Ke=this.B,et=this.h,pt=0;pt<me;){if(0==et)for(;pt<=De;)r(this,Se,pt),pt+=this.blockSize;if("string"==typeof Se){for(;pt<me;)if(Ke[et++]=Se.charCodeAt(pt++),et==this.blockSize){r(this,Ke),et=0;break}}else for(;pt<me;)if(Ke[et++]=Se[pt++],et==this.blockSize){r(this,Ke),et=0;break}}this.h=et,this.o+=me},i.prototype.v=function(){var Se=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Se[0]=128;for(var me=1;me<Se.length-8;++me)Se[me]=0;var De=8*this.o;for(me=Se.length-8;me<Se.length;++me)Se[me]=255&De,De/=256;for(this.u(Se),Se=Array(16),me=De=0;4>me;++me)for(var Ke=0;32>Ke;Ke+=8)Se[De++]=this.g[me]>>>Ke&255;return Se};var c={};function d(Se){return-128<=Se&&128>Se?function s(Se,me){var De=c;return Object.prototype.hasOwnProperty.call(De,Se)?De[Se]:De[Se]=me(Se)}(Se,function(me){return new o([0|me],0>me?-1:0)}):new o([0|Se],0>Se?-1:0)}function p(Se){if(isNaN(Se)||!isFinite(Se))return y;if(0>Se)return Q(p(-Se));for(var me=[],De=1,Ke=0;Se>=De;Ke++)me[Ke]=Se/De|0,De*=4294967296;return new o(me,0)}var y=d(0),A=d(1),k=d(16777216);function U(Se){if(0!=Se.h)return!1;for(var me=0;me<Se.g.length;me++)if(0!=Se.g[me])return!1;return!0}function X(Se){return-1==Se.h}function Q(Se){for(var me=Se.g.length,De=[],Ke=0;Ke<me;Ke++)De[Ke]=~Se.g[Ke];return new o(De,~Se.h).add(A)}function pe(Se,me){return Se.add(Q(me))}function Ie(Se,me){for(;(65535&Se[me])!=Se[me];)Se[me+1]+=Se[me]>>>16,Se[me]&=65535,me++}function ke(Se,me){this.g=Se,this.h=me}function tt(Se,me){if(U(me))throw Error("division by zero");if(U(Se))return new ke(y,y);if(X(Se))return me=tt(Q(Se),me),new ke(Q(me.g),Q(me.h));if(X(me))return me=tt(Se,Q(me)),new ke(Q(me.g),me.h);if(30<Se.g.length){if(X(Se)||X(me))throw Error("slowDivide_ only works with positive integers.");for(var De=A,Ke=me;0>=Ke.l(Se);)De=zt(De),Ke=zt(Ke);var et=Ot(De,1),pt=Ot(Ke,1);for(Ke=Ot(Ke,2),De=Ot(De,2);!U(Ke);){var Oe=pt.add(Ke);0>=Oe.l(Se)&&(et=et.add(De),pt=Oe),Ke=Ot(Ke,1),De=Ot(De,1)}return me=pe(Se,et.j(me)),new ke(et,me)}for(et=y;0<=Se.l(me);){for(De=Math.max(1,Math.floor(Se.m()/me.m())),Ke=48>=(Ke=Math.ceil(Math.log(De)/Math.LN2))?1:Math.pow(2,Ke-48),Oe=(pt=p(De)).j(me);X(Oe)||0<Oe.l(Se);)Oe=(pt=p(De-=Ke)).j(me);U(pt)&&(pt=A),et=et.add(pt),Se=pe(Se,Oe)}return new ke(et,Se)}function zt(Se){for(var me=Se.g.length+1,De=[],Ke=0;Ke<me;Ke++)De[Ke]=Se.i(Ke)<<1|Se.i(Ke-1)>>>31;return new o(De,Se.h)}function Ot(Se,me){var De=me>>5;me%=32;for(var Ke=Se.g.length-De,et=[],pt=0;pt<Ke;pt++)et[pt]=0<me?Se.i(pt+De)>>>me|Se.i(pt+De+1)<<32-me:Se.i(pt+De);return new o(et,Se.h)}(t=o.prototype).m=function(){if(X(this))return-Q(this).m();for(var Se=0,me=1,De=0;De<this.g.length;De++){var Ke=this.i(De);Se+=(0<=Ke?Ke:4294967296+Ke)*me,me*=4294967296}return Se},t.toString=function(Se){if(2>(Se=Se||10)||36<Se)throw Error("radix out of range: "+Se);if(U(this))return"0";if(X(this))return"-"+Q(this).toString(Se);for(var me=p(Math.pow(Se,6)),De=this,Ke="";;){var et=tt(De,me).g,pt=((0<(De=pe(De,et.j(me))).g.length?De.g[0]:De.h)>>>0).toString(Se);if(U(De=et))return pt+Ke;for(;6>pt.length;)pt="0"+pt;Ke=pt+Ke}},t.i=function(Se){return 0>Se?0:Se<this.g.length?this.g[Se]:this.h},t.l=function(Se){return X(Se=pe(this,Se))?-1:U(Se)?0:1},t.abs=function(){return X(this)?Q(this):this},t.add=function(Se){for(var me=Math.max(this.g.length,Se.g.length),De=[],Ke=0,et=0;et<=me;et++){var pt=Ke+(65535&this.i(et))+(65535&Se.i(et)),Oe=(pt>>>16)+(this.i(et)>>>16)+(Se.i(et)>>>16);Ke=Oe>>>16,De[et]=(Oe&=65535)<<16|(pt&=65535)}return new o(De,-2147483648&De[De.length-1]?-1:0)},t.j=function(Se){if(U(this)||U(Se))return y;if(X(this))return X(Se)?Q(this).j(Q(Se)):Q(Q(this).j(Se));if(X(Se))return Q(this.j(Q(Se)));if(0>this.l(k)&&0>Se.l(k))return p(this.m()*Se.m());for(var me=this.g.length+Se.g.length,De=[],Ke=0;Ke<2*me;Ke++)De[Ke]=0;for(Ke=0;Ke<this.g.length;Ke++)for(var et=0;et<Se.g.length;et++){var pt=this.i(Ke)>>>16,Oe=65535&this.i(Ke),yh=Se.i(et)>>>16,qE=65535&Se.i(et);De[2*Ke+2*et]+=Oe*qE,Ie(De,2*Ke+2*et),De[2*Ke+2*et+1]+=pt*qE,Ie(De,2*Ke+2*et+1),De[2*Ke+2*et+1]+=Oe*yh,Ie(De,2*Ke+2*et+1),De[2*Ke+2*et+2]+=pt*yh,Ie(De,2*Ke+2*et+2)}for(Ke=0;Ke<me;Ke++)De[Ke]=De[2*Ke+1]<<16|De[2*Ke];for(Ke=me;Ke<2*me;Ke++)De[Ke]=0;return new o(De,0)},t.A=function(Se){return tt(this,Se).h},t.and=function(Se){for(var me=Math.max(this.g.length,Se.g.length),De=[],Ke=0;Ke<me;Ke++)De[Ke]=this.i(Ke)&Se.i(Ke);return new o(De,this.h&Se.h)},t.or=function(Se){for(var me=Math.max(this.g.length,Se.g.length),De=[],Ke=0;Ke<me;Ke++)De[Ke]=this.i(Ke)|Se.i(Ke);return new o(De,this.h|Se.h)},t.xor=function(Se){for(var me=Math.max(this.g.length,Se.g.length),De=[],Ke=0;Ke<me;Ke++)De[Ke]=this.i(Ke)^Se.i(Ke);return new o(De,this.h^Se.h)},i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,koe=Loe.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=p,o.fromString=function m(Se,me){if(0==Se.length)throw Error("number format error: empty string");if(2>(me=me||10)||36<me)throw Error("radix out of range: "+me);if("-"==Se.charAt(0))return Q(m(Se.substring(1),me));if(0<=Se.indexOf("-"))throw Error('number format error: interior "-" character');for(var De=p(Math.pow(me,8)),Ke=y,et=0;et<Se.length;et+=8){var pt=Math.min(8,Se.length-et),Oe=parseInt(Se.substring(et,et+pt),me);8>pt?(pt=p(Math.pow(me,pt)),Ke=Ke.j(pt).add(p(Oe))):Ke=(Ke=Ke.j(De)).add(p(Oe))}return Ke},uE=Loe.Integer=o}).apply(typeof Foe<"u"?Foe:typeof self<"u"?self:typeof window<"u"?window:{});var Voe,TP,Goe,gV,s$,Boe,Hoe,Uoe,pV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cv={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(S,G,$){return S==Array.prototype||S==Object.prototype||(S[G]=$.value),S},i=function n(S){S=["object"==typeof globalThis&&globalThis,S,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof pV&&pV];for(var G=0;G<S.length;++G){var $=S[G];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}(this);!function r(S,G){if(G)e:{var $=i;S=S.split(".");for(var de=0;de<S.length-1;de++){var ct=S[de];if(!(ct in $))break e;$=$[ct]}(G=G(de=$[S=S[S.length-1]]))!=de&&null!=G&&e($,S,{configurable:!0,writable:!0,value:G})}}("Array.prototype.values",function(S){return S||function(){return function s(S,G){S instanceof String&&(S+="");var $=0,de=!1,ct={next:function(){if(!de&&$<S.length){var kt=$++;return{value:G(kt,S[kt]),done:!1}}return de=!0,{done:!0,value:void 0}}};return ct[Symbol.iterator]=function(){return ct},ct}(this,function(G,$){return $})}});var o=o||{},c=this||self;function d(S){var G=typeof S;return"array"==(G="object"!=G?G:S?Array.isArray(S)?"array":G:"null")||"object"==G&&"number"==typeof S.length}function p(S){var G=typeof S;return"object"==G&&null!=S||"function"==G}function m(S,G,$){return S.call.apply(S.bind,arguments)}function y(S,G,$){if(!S)throw Error();if(2<arguments.length){var de=Array.prototype.slice.call(arguments,2);return function(){var ct=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ct,de),S.apply(G,ct)}}return function(){return S.apply(G,arguments)}}function A(S,G,$){return(A=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:y).apply(null,arguments)}function k(S,G){var $=Array.prototype.slice.call(arguments,1);return function(){var de=$.slice();return de.push.apply(de,arguments),S.apply(this,de)}}function U(S,G){function $(){}$.prototype=G.prototype,S.aa=G.prototype,S.prototype=new $,S.prototype.constructor=S,S.Qb=function(de,ct,kt){for(var xn=Array(arguments.length-2),Cs=2;Cs<arguments.length;Cs++)xn[Cs-2]=arguments[Cs];return G.prototype[ct].apply(de,xn)}}function X(S){const G=S.length;if(0<G){const $=Array(G);for(let de=0;de<G;de++)$[de]=S[de];return $}return[]}function Q(S,G){for(let $=1;$<arguments.length;$++){const de=arguments[$];if(d(de)){const ct=S.length||0,kt=de.length||0;S.length=ct+kt;for(let xn=0;xn<kt;xn++)S[ct+xn]=de[xn]}else S.push(de)}}function Ie(S){return/^[\s\xa0]*$/.test(S)}function ke(){var S=c.navigator;return S&&(S=S.userAgent)?S:""}function tt(S){return tt[" "](S),S}tt[" "]=function(){};var zt=!(-1==ke().indexOf("Gecko")||-1!=ke().toLowerCase().indexOf("webkit")&&-1==ke().indexOf("Edge")||-1!=ke().indexOf("Trident")||-1!=ke().indexOf("MSIE")||-1!=ke().indexOf("Edge"));function Ot(S,G,$){for(const de in S)G.call($,S[de],de,S)}function me(S){const G={};for(const $ in S)G[$]=S[$];return G}const De="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ke(S,G){let $,de;for(let ct=1;ct<arguments.length;ct++){for($ in de=arguments[ct],de)S[$]=de[$];for(let kt=0;kt<De.length;kt++)$=De[kt],Object.prototype.hasOwnProperty.call(de,$)&&(S[$]=de[$])}}function et(S){var G=1;S=S.split(":");const $=[];for(;0<G&&S.length;)$.push(S.shift()),G--;return S.length&&$.push(S.join(":")),$}function pt(S){c.setTimeout(()=>{throw S},0)}function Oe(){var S=SQ;let G=null;return S.g&&(G=S.g,S.g=S.g.next,S.g||(S.h=null),G.next=null),G}var qE=new class pe{constructor(G,$){this.i=G,this.j=$,this.h=0,this.g=null}get(){let G;return 0<this.h?(this.h--,G=this.g,this.g=G.next,G.next=null):G=this.i(),G}}(()=>new dHe,S=>S.reset());class dHe{constructor(){this.next=this.g=this.h=null}set(G,$){this.h=G,this.g=$,this.next=null}reset(){this.next=this.g=this.h=null}}let jM,$M=!1,SQ=new class yh{constructor(){this.h=this.g=null}add(G,$){const de=qE.get();de.set(G,$),this.h?this.h.next=de:this.g=de,this.h=de}},Qpe=()=>{const S=c.Promise.resolve(void 0);jM=()=>{S.then(hHe)}};var hHe=()=>{for(var S;S=Oe();){try{S.h.call(S.g)}catch($){pt($)}var G=qE;G.j(S),100>G.h&&(G.h++,S.next=G.g,G.g=S)}$M=!1};function tC(){this.s=this.s,this.C=this.C}function oc(S,G){this.type=S,this.g=this.target=G,this.defaultPrevented=!1}tC.prototype.s=!1,tC.prototype.ma=function(){this.s||(this.s=!0,this.N())},tC.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},oc.prototype.h=function(){this.defaultPrevented=!0};var fHe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var S=!1,G=Object.defineProperty({},"passive",{get:function(){S=!0}});try{const $=()=>{};c.addEventListener("test",$,G),c.removeEventListener("test",$,G)}catch{}return S}();function qM(S,G){if(oc.call(this,S?S.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,S){var $=this.type=S.type,de=S.changedTouches&&S.changedTouches.length?S.changedTouches[0]:null;if(this.target=S.target||S.srcElement,this.g=G,G=S.relatedTarget){if(zt){e:{try{tt(G.nodeName);var ct=!0;break e}catch{}ct=!1}ct||(G=null)}}else"mouseover"==$?G=S.fromElement:"mouseout"==$&&(G=S.toElement);this.relatedTarget=G,de?(this.clientX=void 0!==de.clientX?de.clientX:de.pageX,this.clientY=void 0!==de.clientY?de.clientY:de.pageY,this.screenX=de.screenX||0,this.screenY=de.screenY||0):(this.clientX=void 0!==S.clientX?S.clientX:S.pageX,this.clientY=void 0!==S.clientY?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0),this.button=S.button,this.key=S.key||"",this.ctrlKey=S.ctrlKey,this.altKey=S.altKey,this.shiftKey=S.shiftKey,this.metaKey=S.metaKey,this.pointerId=S.pointerId||0,this.pointerType="string"==typeof S.pointerType?S.pointerType:pHe[S.pointerType]||"",this.state=S.state,this.i=S,S.defaultPrevented&&qM.aa.h.call(this)}}U(qM,oc);var pHe={2:"touch",3:"pen",4:"mouse"};qM.prototype.h=function(){qM.aa.h.call(this);var S=this.i;S.preventDefault?S.preventDefault():S.returnValue=!1};var KM="closure_listenable_"+(1e6*Math.random()|0),gHe=0;function mHe(S,G,$,de,ct){this.listener=S,this.proxy=null,this.src=G,this.type=$,this.capture=!!de,this.ha=ct,this.key=++gHe,this.da=this.fa=!1}function vG(S){S.da=!0,S.listener=null,S.proxy=null,S.src=null,S.ha=null}function _G(S){this.src=S,this.g={},this.h=0}function IQ(S,G){var $=G.type;if($ in S.g){var kt,de=S.g[$],ct=Array.prototype.indexOf.call(de,G,void 0);(kt=0<=ct)&&Array.prototype.splice.call(de,ct,1),kt&&(vG(G),0==S.g[$].length&&(delete S.g[$],S.h--))}}function TQ(S,G,$,de){for(var ct=0;ct<S.length;++ct){var kt=S[ct];if(!kt.da&&kt.listener==G&&kt.capture==!!$&&kt.ha==de)return ct}return-1}_G.prototype.add=function(S,G,$,de,ct){var kt=S.toString();(S=this.g[kt])||(S=this.g[kt]=[],this.h++);var xn=TQ(S,G,de,ct);return-1<xn?(G=S[xn],$||(G.fa=!1)):((G=new mHe(G,this.src,kt,!!de,ct)).fa=$,S.push(G)),G};var AQ="closure_lm_"+(1e6*Math.random()|0),RQ={};function Jpe(S,G,$,de,ct){if(de&&de.once)return ege(S,G,$,de,ct);if(Array.isArray(G)){for(var kt=0;kt<G.length;kt++)Jpe(S,G[kt],$,de,ct);return null}return $=MQ($),S&&S[KM]?S.K(G,$,p(de)?!!de.capture:!!de,ct):Zpe(S,G,$,!1,de,ct)}function Zpe(S,G,$,de,ct,kt){if(!G)throw Error("Invalid event type");var xn=p(ct)?!!ct.capture:!!ct,Cs=xQ(S);if(Cs||(S[AQ]=Cs=new _G(S)),($=Cs.add(G,$,de,xn,kt)).proxy)return $;if(de=function vHe(){const G=_He;return function S($){return G.call(S.src,S.listener,$)}}(),$.proxy=de,de.src=S,de.listener=$,S.addEventListener)fHe||(ct=xn),void 0===ct&&(ct=!1),S.addEventListener(G.toString(),de,ct);else if(S.attachEvent)S.attachEvent(nge(G.toString()),de);else{if(!S.addListener||!S.removeListener)throw Error("addEventListener and attachEvent are unavailable.");S.addListener(de)}return $}function ege(S,G,$,de,ct){if(Array.isArray(G)){for(var kt=0;kt<G.length;kt++)ege(S,G[kt],$,de,ct);return null}return $=MQ($),S&&S[KM]?S.L(G,$,p(de)?!!de.capture:!!de,ct):Zpe(S,G,$,!0,de,ct)}function tge(S,G,$,de,ct){if(Array.isArray(G))for(var kt=0;kt<G.length;kt++)tge(S,G[kt],$,de,ct);else de=p(de)?!!de.capture:!!de,$=MQ($),S&&S[KM]?(S=S.i,(G=String(G).toString())in S.g&&-1<($=TQ(kt=S.g[G],$,de,ct))&&(vG(kt[$]),Array.prototype.splice.call(kt,$,1),0==kt.length&&(delete S.g[G],S.h--))):S&&(S=xQ(S))&&(G=S.g[G.toString()],S=-1,G&&(S=TQ(G,$,de,ct)),($=-1<S?G[S]:null)&&DQ($))}function DQ(S){if("number"!=typeof S&&S&&!S.da){var G=S.src;if(G&&G[KM])IQ(G.i,S);else{var $=S.type,de=S.proxy;G.removeEventListener?G.removeEventListener($,de,S.capture):G.detachEvent?G.detachEvent(nge($),de):G.addListener&&G.removeListener&&G.removeListener(de),($=xQ(G))?(IQ($,S),0==$.h&&($.src=null,G[AQ]=null)):vG(S)}}}function nge(S){return S in RQ?RQ[S]:RQ[S]="on"+S}function _He(S,G){if(S.da)S=!0;else{G=new qM(G,this);var $=S.listener,de=S.ha||S.src;S.fa&&DQ(S),S=$.call(de,G)}return S}function xQ(S){return(S=S[AQ])instanceof _G?S:null}var PQ="__closure_events_fn_"+(1e9*Math.random()>>>0);function MQ(S){return"function"==typeof S?S:(S[PQ]||(S[PQ]=function(G){return S.handleEvent(G)}),S[PQ])}function ac(){tC.call(this),this.i=new _G(this),this.M=this,this.F=null}function Xc(S,G){var $,de=S.F;if(de)for($=[];de;de=de.F)$.push(de);if(S=S.M,de=G.type||G,"string"==typeof G)G=new oc(G,S);else if(G instanceof oc)G.target=G.target||S;else{var ct=G;Ke(G=new oc(de,S),ct)}if(ct=!0,$)for(var kt=$.length-1;0<=kt;kt--){var xn=G.g=$[kt];ct=yG(xn,de,!0,G)&&ct}if(ct=yG(xn=G.g=S,de,!0,G)&&ct,ct=yG(xn,de,!1,G)&&ct,$)for(kt=0;kt<$.length;kt++)ct=yG(xn=G.g=$[kt],de,!1,G)&&ct}function yG(S,G,$,de){if(!(G=S.i.g[String(G)]))return!0;G=G.concat();for(var ct=!0,kt=0;kt<G.length;++kt){var xn=G[kt];if(xn&&!xn.da&&xn.capture==$){var Cs=xn.listener,Tl=xn.ha||xn.src;xn.fa&&IQ(S.i,xn),ct=!1!==Cs.call(Tl,de)&&ct}}return ct&&!de.defaultPrevented}function ige(S,G,$){if("function"==typeof S)$&&(S=A(S,$));else{if(!S||"function"!=typeof S.handleEvent)throw Error("Invalid listener argument");S=A(S.handleEvent,S)}return 2147483647<Number(G)?-1:c.setTimeout(S,G||0)}function rge(S){S.g=ige(()=>{S.g=null,S.i&&(S.i=!1,rge(S))},S.l);const G=S.h;S.h=null,S.m.apply(null,G)}U(ac,tC),ac.prototype[KM]=!0,ac.prototype.removeEventListener=function(S,G,$,de){tge(this,S,G,$,de)},ac.prototype.N=function(){if(ac.aa.N.call(this),this.i){var G,S=this.i;for(G in S.g){for(var $=S.g[G],de=0;de<$.length;de++)vG($[de]);delete S.g[G],S.h--}}this.F=null},ac.prototype.K=function(S,G,$,de){return this.i.add(String(S),G,!1,$,de)},ac.prototype.L=function(S,G,$,de){return this.i.add(String(S),G,!0,$,de)};class yHe extends tC{constructor(G,$){super(),this.m=G,this.l=$,this.h=null,this.i=!1,this.g=null}j(G){this.h=arguments,this.g?this.i=!0:rge(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function YM(S){tC.call(this),this.h=S,this.g={}}U(YM,tC);var sge=[];function oge(S){Ot(S.g,function(G,$){this.g.hasOwnProperty($)&&DQ(G)},S),S.g={}}YM.prototype.N=function(){YM.aa.N.call(this),oge(this)},YM.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var NQ=c.JSON.stringify,CHe=c.JSON.parse,bHe=class{stringify(S){return c.JSON.stringify(S,void 0)}parse(S){return c.JSON.parse(S,void 0)}};function OQ(){}function lge(){}OQ.prototype.h=null;var XM={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function FQ(){oc.call(this,"d")}function LQ(){oc.call(this,"c")}U(FQ,oc),U(LQ,oc);var KE={},cge=null;function CG(){return cge=cge||new ac}function uge(S){oc.call(this,KE.La,S)}function QM(S){const G=CG();Xc(G,new uge(G))}function dge(S,G){oc.call(this,KE.STAT_EVENT,S),this.stat=G}function Qc(S){const G=CG();Xc(G,new dge(G,S))}function hge(S,G){oc.call(this,KE.Ma,S),this.size=G}function JM(S,G){if("function"!=typeof S)throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){S()},G)}function ZM(){this.g=!0}function CA(S,G,$,de){S.info(function(){return"XMLHTTP TEXT ("+G+"): "+function IHe(S,G){if(!S.g)return G;if(!G)return null;try{var $=JSON.parse(G);if($)for(S=0;S<$.length;S++)if(Array.isArray($[S])){var de=$[S];if(!(2>de.length)){var ct=de[1];if(Array.isArray(ct)&&!(1>ct.length)){var kt=ct[0];if("noop"!=kt&&"stop"!=kt&&"close"!=kt)for(var xn=1;xn<ct.length;xn++)ct[xn]=""}}}return NQ($)}catch{return G}}(S,$)+(de?" "+de:"")})}KE.La="serverreachability",U(uge,oc),KE.STAT_EVENT="statevent",U(dge,oc),KE.Ma="timingevent",U(hge,oc),ZM.prototype.xa=function(){this.g=!1},ZM.prototype.info=function(){};var kQ,bG={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fge={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function wG(){}function nC(S,G,$,de){this.j=S,this.i=G,this.l=$,this.R=de||1,this.U=new YM(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pge}function pge(){this.i=null,this.g="",this.h=!1}U(wG,OQ),wG.prototype.g=function(){return new XMLHttpRequest},wG.prototype.i=function(){return{}},kQ=new wG;var gge={},VQ={};function GQ(S,G,$){S.L=1,S.v=TG(Ov(G)),S.m=$,S.P=!0,mge(S,null)}function mge(S,G){S.F=Date.now(),EG(S),S.A=Ov(S.v);var $=S.A,de=S.R;Array.isArray(de)||(de=[String(de)]),xge($.i,"t",de),S.C=0,$=S.j.J,S.h=new pge,S.g=Kge(S.j,$?G:null,!S.m),0<S.O&&(S.M=new yHe(A(S.Y,S,S.g),S.O)),G=S.U,$=S.g,de=S.ca;var ct="readystatechange";Array.isArray(ct)||(ct&&(sge[0]=ct.toString()),ct=sge);for(var kt=0;kt<ct.length;kt++){var xn=Jpe($,ct[kt],de||G.handleEvent,!1,G.h||G);if(!xn)break;G.g[xn.key]=xn}G=S.H?me(S.H):{},S.m?(S.u||(S.u="POST"),G["Content-Type"]="application/x-www-form-urlencoded",S.g.ea(S.A,S.u,S.m,G)):(S.u="GET",S.g.ea(S.A,S.u,null,G)),QM(),function wHe(S,G,$,de,ct,kt){S.info(function(){if(S.g)if(kt)for(var xn="",Cs=kt.split("&"),Tl=0;Tl<Cs.length;Tl++){var Wr=Cs[Tl].split("=");if(1<Wr.length){var lc=Wr[0];Wr=Wr[1];var cc=lc.split("_");xn=2<=cc.length&&"type"==cc[1]?xn+(lc+"=")+Wr+"&":xn+(lc+"=redacted&")}}else xn=null;else xn=kt;return"XMLHTTP REQ ("+de+") [attempt "+ct+"]: "+G+"\n"+$+"\n"+xn})}(S.i,S.u,S.A,S.l,S.R,S.m)}function vge(S){return!!S.g&&"GET"==S.u&&2!=S.L&&S.j.Ca}function THe(S,G){var $=S.C,de=G.indexOf("\n",$);return-1==de?VQ:($=Number(G.substring($,de)),isNaN($)?gge:(de+=1)+$>G.length?VQ:(G=G.slice(de,de+$),S.C=de+$,G))}function EG(S){S.S=Date.now()+S.I,_ge(S,S.I)}function _ge(S,G){if(null!=S.B)throw Error("WatchDog timer not null");S.B=JM(A(S.ba,S),G)}function BQ(S){S.B&&(c.clearTimeout(S.B),S.B=null)}function eN(S){0==S.j.G||S.J||zge(S.j,S)}function YE(S){BQ(S);var G=S.M;G&&"function"==typeof G.ma&&G.ma(),S.M=null,oge(S.U),S.g&&(G=S.g,S.g=null,G.abort(),G.ma())}function HQ(S,G){try{var $=S.j;if(0!=$.G&&($.g==S||UQ($.h,S)))if(!S.K&&UQ($.h,S)&&3==$.G){try{var de=$.Da.g.parse(G)}catch{de=null}if(Array.isArray(de)&&3==de.length){var ct=de;if(0==ct[0]){e:if(!$.u){if($.g){if(!($.g.F+3e3<S.F))break e;PG($),DG($)}$Q($),Qc(18)}}else $.za=ct[1],0<$.za-$.T&&37500>ct[2]&&$.F&&0==$.v&&!$.C&&($.C=JM(A($.Za,$),6e3));if(1>=bge($.h)&&$.ca){try{$.ca()}catch{}$.ca=void 0}}else QE($,11)}else if((S.K||$.g==S)&&PG($),!Ie(G))for(ct=$.Da.g.parse(G),G=0;G<ct.length;G++){let Wr=ct[G];if($.T=Wr[0],Wr=Wr[1],2==$.G)if("c"==Wr[0]){$.K=Wr[1],$.ia=Wr[2];const lc=Wr[3];null!=lc&&($.la=lc,$.j.info("VER="+$.la));const cc=Wr[4];null!=cc&&($.Aa=cc,$.j.info("SVER="+$.Aa));const EA=Wr[5];null!=EA&&"number"==typeof EA&&0<EA&&($.L=de=1.5*EA,$.j.info("backChannelRequestTimeoutMs_="+de)),de=$;const Mf=S.g;if(Mf){const NG=Mf.g?Mf.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(NG){var kt=de.h;kt.g||-1==NG.indexOf("spdy")&&-1==NG.indexOf("quic")&&-1==NG.indexOf("h2")||(kt.j=kt.l,kt.g=new Set,kt.h&&(WQ(kt,kt.h),kt.h=null))}if(de.D){const KQ=Mf.g?Mf.g.getResponseHeader("X-HTTP-Session-Id"):null;KQ&&(de.ya=KQ,Ws(de.I,de.D,KQ))}}$.G=3,$.l&&$.l.ua(),$.ba&&($.R=Date.now()-S.F,$.j.info("Handshake RTT: "+$.R+"ms"));var xn=S;if((de=$).qa=qge(de,de.J?de.ia:null,de.W),xn.K){wge(de.h,xn);var Cs=xn,Tl=de.L;Tl&&(Cs.I=Tl),Cs.B&&(BQ(Cs),EG(Cs)),de.g=xn}else Uge(de);0<$.i.length&&xG($)}else"stop"!=Wr[0]&&"close"!=Wr[0]||QE($,7);else 3==$.G&&("stop"==Wr[0]||"close"==Wr[0]?"stop"==Wr[0]?QE($,7):jQ($):"noop"!=Wr[0]&&$.l&&$.l.ta(Wr),$.v=0)}QM()}catch{}}nC.prototype.ca=function(S){S=S.target;const G=this.M;G&&3==Fv(S)?G.j():this.Y(S)},nC.prototype.Y=function(S){try{if(S==this.g)e:{const cc=Fv(this.g);var G=this.g.Ba();if(this.g.Z(),!(3>cc)&&(3!=cc||this.g&&(this.h.h||this.g.oa()||kge(this.g)))){this.J||4!=cc||7==G||QM(),BQ(this);var $=this.g.Z();this.X=$;t:if(vge(this)){var de=kge(this.g);S="";var ct=de.length,kt=4==Fv(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){YE(this),eN(this);var xn="";break t}this.h.i=new c.TextDecoder}for(G=0;G<ct;G++)this.h.h=!0,S+=this.h.i.decode(de[G],{stream:!(kt&&G==ct-1)});de.length=0,this.h.g+=S,this.C=0,xn=this.h.g}else xn=this.g.oa();if(this.o=200==$,function EHe(S,G,$,de,ct,kt,xn){S.info(function(){return"XMLHTTP RESP ("+de+") [ attempt "+ct+"]: "+G+"\n"+$+"\n"+kt+" "+xn})}(this.i,this.u,this.A,this.l,this.R,cc,$),this.o){if(this.T&&!this.K){t:{if(this.g){var Cs,Tl=this.g;if((Cs=Tl.g?Tl.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ie(Cs)){var Wr=Cs;break t}}Wr=null}if(!($=Wr)){this.o=!1,this.s=3,Qc(12),YE(this),eN(this);break e}CA(this.i,this.l,$,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,HQ(this,$)}if(this.P){let Mf;for($=!0;!this.J&&this.C<xn.length;){if(Mf=THe(this,xn),Mf==VQ){4==cc&&(this.s=4,Qc(14),$=!1),CA(this.i,this.l,null,"[Incomplete Response]");break}if(Mf==gge){this.s=4,Qc(15),CA(this.i,this.l,xn,"[Invalid Chunk]"),$=!1;break}CA(this.i,this.l,Mf,null),HQ(this,Mf)}if(vge(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=cc||0!=xn.length||this.h.h||(this.s=1,Qc(16),$=!1),this.o=this.o&&$,$){if(0<xn.length&&!this.W){this.W=!0;var lc=this.j;lc.g==this&&lc.ba&&!lc.M&&(lc.j.info("Great, no buffering proxy detected. Bytes received: "+xn.length),qQ(lc),lc.M=!0,Qc(11))}}else CA(this.i,this.l,xn,"[Invalid Chunked Response]"),YE(this),eN(this)}else CA(this.i,this.l,xn,null),HQ(this,xn);4==cc&&YE(this),this.o&&!this.J&&(4==cc?zge(this.j,this):(this.o=!1,EG(this)))}else(function WHe(S){const G={};S=(S.g&&2<=Fv(S)&&S.g.getAllResponseHeaders()||"").split("\r\n");for(let de=0;de<S.length;de++){if(Ie(S[de]))continue;var $=et(S[de]);const ct=$[0];if("string"!=typeof($=$[1]))continue;$=$.trim();const kt=G[ct]||[];G[ct]=kt,kt.push($)}!function Se(S,G){for(const $ in S)G.call(void 0,S[$],$,S)}(G,function(de){return de.join(", ")})})(this.g),400==$&&0<xn.indexOf("Unknown SID")?(this.s=3,Qc(12)):(this.s=0,Qc(13)),YE(this),eN(this)}}}catch{}},nC.prototype.cancel=function(){this.J=!0,YE(this)},nC.prototype.ba=function(){this.B=null;const S=Date.now();0<=S-this.S?(function SHe(S,G){S.info(function(){return"TIMEOUT: "+G})}(this.i,this.A),2!=this.L&&(QM(),Qc(17)),YE(this),this.s=2,eN(this)):_ge(this,this.S-S)};var AHe=class{constructor(S,G){this.g=S,this.map=G}};function yge(S){this.l=S||10,S=c.PerformanceNavigationTiming?0<(S=c.performance.getEntriesByType("navigation")).length&&("hq"==S[0].nextHopProtocol||"h2"==S[0].nextHopProtocol):!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=S?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cge(S){return!!S.h||!!S.g&&S.g.size>=S.j}function bge(S){return S.h?1:S.g?S.g.size:0}function UQ(S,G){return S.h?S.h==G:!!S.g&&S.g.has(G)}function WQ(S,G){S.g?S.g.add(G):S.h=G}function wge(S,G){S.h&&S.h==G?S.h=null:S.g&&S.g.has(G)&&S.g.delete(G)}function Ege(S){if(null!=S.h)return S.i.concat(S.h.D);if(null!=S.g&&0!==S.g.size){let G=S.i;for(const $ of S.g.values())G=G.concat($.D);return G}return X(S.i)}function Sge(S,G){if(S.forEach&&"function"==typeof S.forEach)S.forEach(G,void 0);else if(d(S)||"string"==typeof S)Array.prototype.forEach.call(S,G,void 0);else for(var $=function DHe(S){if(S.na&&"function"==typeof S.na)return S.na();if(!S.V||"function"!=typeof S.V){if(typeof Map<"u"&&S instanceof Map)return Array.from(S.keys());if(!(typeof Set<"u"&&S instanceof Set)){if(d(S)||"string"==typeof S){var G=[];S=S.length;for(var $=0;$<S;$++)G.push($);return G}G=[],$=0;for(const de in S)G[$++]=de;return G}}}(S),de=function RHe(S){if(S.V&&"function"==typeof S.V)return S.V();if(typeof Map<"u"&&S instanceof Map||typeof Set<"u"&&S instanceof Set)return Array.from(S.values());if("string"==typeof S)return S.split("");if(d(S)){for(var G=[],$=S.length,de=0;de<$;de++)G.push(S[de]);return G}for(de in G=[],$=0,S)G[$++]=S[de];return G}(S),ct=de.length,kt=0;kt<ct;kt++)G.call(void 0,de[kt],$&&$[kt],S)}yge.prototype.cancel=function(){if(this.i=Ege(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const S of this.g.values())S.cancel();this.g.clear()}};var Ige=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XE(S){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,S instanceof XE){this.h=S.h,SG(this,S.j),this.o=S.o,this.g=S.g,IG(this,S.s),this.l=S.l;var G=S.i,$=new iN;$.i=G.i,G.g&&($.g=new Map(G.g),$.h=G.h),Tge(this,$),this.m=S.m}else S&&(G=String(S).match(Ige))?(this.h=!1,SG(this,G[1]||"",!0),this.o=tN(G[2]||""),this.g=tN(G[3]||"",!0),IG(this,G[4]),this.l=tN(G[5]||"",!0),Tge(this,G[6]||"",!0),this.m=tN(G[7]||"")):(this.h=!1,this.i=new iN(null,this.h))}function Ov(S){return new XE(S)}function SG(S,G,$){S.j=$?tN(G,!0):G,S.j&&(S.j=S.j.replace(/:$/,""))}function IG(S,G){if(G){if(G=Number(G),isNaN(G)||0>G)throw Error("Bad port number "+G);S.s=G}else S.s=null}function Tge(S,G,$){G instanceof iN?(S.i=G,function LHe(S,G){G&&!S.j&&(iC(S),S.i=null,S.g.forEach(function($,de){var ct=de.toLowerCase();de!=ct&&(Rge(this,de),xge(this,ct,$))},S)),S.j=G}(S.i,S.h)):($||(G=nN(G,OHe)),S.i=new iN(G,S.h))}function Ws(S,G,$){S.i.set(G,$)}function TG(S){return Ws(S,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),S}function tN(S,G){return S?G?decodeURI(S.replace(/%25/g,"%2525")):decodeURIComponent(S):""}function nN(S,G,$){return"string"==typeof S?(S=encodeURI(S).replace(G,PHe),$&&(S=S.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S):null}function PHe(S){return"%"+((S=S.charCodeAt(0))>>4&15).toString(16)+(15&S).toString(16)}XE.prototype.toString=function(){var S=[],G=this.j;G&&S.push(nN(G,Age,!0),":");var $=this.g;return($||"file"==G)&&(S.push("//"),(G=this.o)&&S.push(nN(G,Age,!0),"@"),S.push(encodeURIComponent(String($)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=($=this.s)&&S.push(":",String($))),($=this.l)&&(this.g&&"/"!=$.charAt(0)&&S.push("/"),S.push(nN($,"/"==$.charAt(0)?NHe:MHe,!0))),($=this.i.toString())&&S.push("?",$),($=this.m)&&S.push("#",nN($,FHe)),S.join("")};var Age=/[#\/\?@]/g,MHe=/[#\?:]/g,NHe=/[#\?]/g,OHe=/[#\?@]/g,FHe=/#/g;function iN(S,G){this.h=this.g=null,this.i=S||null,this.j=!!G}function iC(S){S.g||(S.g=new Map,S.h=0,S.i&&function xHe(S,G){if(S){S=S.split("&");for(var $=0;$<S.length;$++){var de=S[$].indexOf("="),ct=null;if(0<=de){var kt=S[$].substring(0,de);ct=S[$].substring(de+1)}else kt=S[$];G(kt,ct?decodeURIComponent(ct.replace(/\+/g," ")):"")}}}(S.i,function(G,$){S.add(decodeURIComponent(G.replace(/\+/g," ")),$)}))}function Rge(S,G){iC(S),G=bA(S,G),S.g.has(G)&&(S.i=null,S.h-=S.g.get(G).length,S.g.delete(G))}function Dge(S,G){return iC(S),G=bA(S,G),S.g.has(G)}function xge(S,G,$){Rge(S,G),0<$.length&&(S.i=null,S.g.set(bA(S,G),X($)),S.h+=$.length)}function bA(S,G){return G=String(G),S.j&&(G=G.toLowerCase()),G}function rC(S,G,$,de,ct){try{ct&&(ct.onload=null,ct.onerror=null,ct.onabort=null,ct.ontimeout=null),de($)}catch{}}function GHe(){this.g=new bHe}function BHe(S,G,$){const de=$||"";try{Sge(S,function(ct,kt){let xn=ct;p(ct)&&(xn=NQ(ct)),G.push(de+kt+"="+encodeURIComponent(xn))})}catch(ct){throw G.push(de+"type="+encodeURIComponent("_badmap")),ct}}function rN(S){this.l=S.Ub||null,this.j=S.eb||!1}function AG(S,G){ac.call(this),this.D=S,this.o=G,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pge(S){S.j.read().then(S.Pa.bind(S)).catch(S.ga.bind(S))}function sN(S){S.readyState=4,S.l=null,S.j=null,S.v=null,oN(S)}function oN(S){S.onreadystatechange&&S.onreadystatechange.call(S)}function Mge(S){let G="";return Ot(S,function($,de){G+=de,G+=":",G+=$,G+="\r\n"}),G}function zQ(S,G,$){e:{for(de in $){var de=!1;break e}de=!0}de||($=Mge($),"string"==typeof S?null!=$&&encodeURIComponent(String($)):Ws(S,G,$))}function zo(S){ac.call(this),this.headers=new Map,this.o=S||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=iN.prototype).add=function(S,G){iC(this),this.i=null,S=bA(this,S);var $=this.g.get(S);return $||this.g.set(S,$=[]),$.push(G),this.h+=1,this},t.forEach=function(S,G){iC(this),this.g.forEach(function($,de){$.forEach(function(ct){S.call(G,ct,de,this)},this)},this)},t.na=function(){iC(this);const S=Array.from(this.g.values()),G=Array.from(this.g.keys()),$=[];for(let de=0;de<G.length;de++){const ct=S[de];for(let kt=0;kt<ct.length;kt++)$.push(G[de])}return $},t.V=function(S){iC(this);let G=[];if("string"==typeof S)Dge(this,S)&&(G=G.concat(this.g.get(bA(this,S))));else{S=Array.from(this.g.values());for(let $=0;$<S.length;$++)G=G.concat(S[$])}return G},t.set=function(S,G){return iC(this),this.i=null,Dge(this,S=bA(this,S))&&(this.h-=this.g.get(S).length),this.g.set(S,[G]),this.h+=1,this},t.get=function(S,G){return S&&0<(S=this.V(S)).length?String(S[0]):G},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const S=[],G=Array.from(this.g.keys());for(var $=0;$<G.length;$++){var de=G[$];const kt=encodeURIComponent(String(de)),xn=this.V(de);for(de=0;de<xn.length;de++){var ct=kt;""!==xn[de]&&(ct+="="+encodeURIComponent(String(xn[de]))),S.push(ct)}}return this.i=S.join("&")},U(rN,OQ),rN.prototype.g=function(){return new AG(this.l,this.j)},rN.prototype.i=function(S){return function(){return S}}({}),U(AG,ac),(t=AG.prototype).open=function(S,G){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=S,this.A=G,this.readyState=1,oN(this)},t.send=function(S){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const G={headers:this.u,method:this.B,credentials:this.m,cache:void 0};S&&(G.body=S),(this.D||c).fetch(new Request(this.A,G)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sN(this)),this.readyState=0},t.Sa=function(S){if(this.g&&(this.l=S,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=S.headers,this.readyState=2,oN(this)),this.g&&(this.readyState=3,oN(this),this.g)))if("arraybuffer"===this.responseType)S.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in S){if(this.j=S.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pge(this)}else S.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(S){if(this.g){if(this.o&&S.value)this.response.push(S.value);else if(!this.o){var G=S.value?S.value:new Uint8Array(0);(G=this.v.decode(G,{stream:!S.done}))&&(this.response=this.responseText+=G)}S.done?sN(this):oN(this),3==this.readyState&&Pge(this)}},t.Ra=function(S){this.g&&(this.response=this.responseText=S,sN(this))},t.Qa=function(S){this.g&&(this.response=S,sN(this))},t.ga=function(){this.g&&sN(this)},t.setRequestHeader=function(S,G){this.u.append(S,G)},t.getResponseHeader=function(S){return this.h&&this.h.get(S.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const S=[],G=this.h.entries();for(var $=G.next();!$.done;)S.push(($=$.value)[0]+": "+$[1]),$=G.next();return S.join("\r\n")},Object.defineProperty(AG.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(S){this.m=S?"include":"same-origin"}}),U(zo,ac);var HHe=/^https?$/i,UHe=["POST","PUT"];function Nge(S,G){S.h=!1,S.g&&(S.j=!0,S.g.abort(),S.j=!1),S.l=G,S.m=5,Oge(S),RG(S)}function Oge(S){S.A||(S.A=!0,Xc(S,"complete"),Xc(S,"error"))}function Fge(S){if(S.h&&typeof o<"u"&&(!S.v[1]||4!=Fv(S)||2!=S.Z()))if(S.u&&4==Fv(S))ige(S.Ea,0,S);else if(Xc(S,"readystatechange"),4==Fv(S)){S.h=!1;try{const xn=S.Z();e:switch(xn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var G=!0;break e;default:G=!1}var $;if(!($=G)){var de;if(de=0===xn){var ct=String(S.D).match(Ige)[1]||null;!ct&&c.self&&c.self.location&&(ct=c.self.location.protocol.slice(0,-1)),de=!HHe.test(ct?ct.toLowerCase():"")}$=de}if($)Xc(S,"complete"),Xc(S,"success");else{S.m=6;try{var kt=2<Fv(S)?S.g.statusText:""}catch{kt=""}S.l=kt+" ["+S.Z()+"]",Oge(S)}}finally{RG(S)}}}function RG(S,G){if(S.g){Lge(S);const $=S.g,de=S.v[0]?()=>{}:null;S.g=null,S.v=null,G||Xc(S,"ready");try{$.onreadystatechange=de}catch{}}}function Lge(S){S.I&&(c.clearTimeout(S.I),S.I=null)}function Fv(S){return S.g?S.g.readyState:0}function kge(S){try{if(!S.g)return null;if("response"in S.g)return S.g.response;switch(S.H){case"":case"text":return S.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in S.g)return S.g.mozResponseArrayBuffer}return null}catch{return null}}function aN(S,G,$){return $&&$.internalChannelParams&&$.internalChannelParams[S]||G}function Vge(S){this.Aa=0,this.i=[],this.j=new ZM,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=aN("failFast",!1,S),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=aN("baseRetryDelayMs",5e3,S),this.cb=aN("retryDelaySeedMs",1e4,S),this.Wa=aN("forwardChannelMaxRetries",2,S),this.wa=aN("forwardChannelRequestTimeoutMs",2e4,S),this.pa=S&&S.xmlHttpFactory||void 0,this.Xa=S&&S.Tb||void 0,this.Ca=S&&S.useFetchStreams||!1,this.L=void 0,this.J=S&&S.supportsCrossDomainXhr||!1,this.K="",this.h=new yge(S&&S.concurrentRequestLimit),this.Da=new GHe,this.P=S&&S.fastHandshake||!1,this.O=S&&S.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=S&&S.Rb||!1,S&&S.xa&&this.j.xa(),S&&S.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&S&&S.detectBufferingProxy||!1,this.ja=void 0,S&&S.longPollingTimeout&&0<S.longPollingTimeout&&(this.ja=S.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function jQ(S){if(Gge(S),3==S.G){var G=S.U++,$=Ov(S.I);if(Ws($,"SID",S.K),Ws($,"RID",G),Ws($,"TYPE","terminate"),lN(S,$),(G=new nC(S,S.j,G)).L=2,G.v=TG(Ov($)),$=!1,c.navigator&&c.navigator.sendBeacon)try{$=c.navigator.sendBeacon(G.v.toString(),"")}catch{}!$&&c.Image&&((new Image).src=G.v,$=!0),$||(G.g=Kge(G.j,null),G.g.ea(G.v)),G.F=Date.now(),EG(G)}$ge(S)}function DG(S){S.g&&(qQ(S),S.g.cancel(),S.g=null)}function Gge(S){DG(S),S.u&&(c.clearTimeout(S.u),S.u=null),PG(S),S.h.cancel(),S.s&&("number"==typeof S.s&&c.clearTimeout(S.s),S.s=null)}function xG(S){if(!Cge(S.h)&&!S.s){S.s=!0;var G=S.Ga;jM||Qpe(),$M||(jM(),$M=!0),SQ.add(G,S),S.B=0}}function Bge(S,G){var $;$=G?G.l:S.U++;const de=Ov(S.I);Ws(de,"SID",S.K),Ws(de,"RID",$),Ws(de,"AID",S.T),lN(S,de),S.m&&S.o&&zQ(de,S.m,S.o),$=new nC(S,S.j,$,S.B+1),null===S.m&&($.H=S.o),G&&(S.i=G.D.concat(S.i)),G=Hge(S,$,1e3),$.I=Math.round(.5*S.wa)+Math.round(.5*S.wa*Math.random()),WQ(S.h,$),GQ($,de,G)}function lN(S,G){S.H&&Ot(S.H,function($,de){Ws(G,de,$)}),S.l&&Sge({},function($,de){Ws(G,de,$)})}function Hge(S,G,$){$=Math.min(S.i.length,$);var de=S.l?A(S.l.Na,S.l,S):null;e:{var ct=S.i;let kt=-1;for(;;){const xn=["count="+$];-1==kt?0<$?(kt=ct[0].g,xn.push("ofs="+kt)):kt=0:xn.push("ofs="+kt);let Cs=!0;for(let Tl=0;Tl<$;Tl++){let Wr=ct[Tl].g;const lc=ct[Tl].map;if(Wr-=kt,0>Wr)kt=Math.max(0,ct[Tl].g-100),Cs=!1;else try{BHe(lc,xn,"req"+Wr+"_")}catch{de&&de(lc)}}if(Cs){de=xn.join("&");break e}}}return S=S.i.splice(0,$),G.D=S,de}function Uge(S){if(!S.g&&!S.u){S.Y=1;var G=S.Fa;jM||Qpe(),$M||(jM(),$M=!0),SQ.add(G,S),S.v=0}}function $Q(S){return!(S.g||S.u||3<=S.v||(S.Y++,S.u=JM(A(S.Fa,S),jge(S,S.v)),S.v++,0))}function qQ(S){null!=S.A&&(c.clearTimeout(S.A),S.A=null)}function Wge(S){S.g=new nC(S,S.j,"rpc",S.Y),null===S.m&&(S.g.H=S.o),S.g.O=0;var G=Ov(S.qa);Ws(G,"RID","rpc"),Ws(G,"SID",S.K),Ws(G,"AID",S.T),Ws(G,"CI",S.F?"0":"1"),!S.F&&S.ja&&Ws(G,"TO",S.ja),Ws(G,"TYPE","xmlhttp"),lN(S,G),S.m&&S.o&&zQ(G,S.m,S.o),S.L&&(S.g.I=S.L);var $=S.g;S=S.ia,$.L=1,$.v=TG(Ov(G)),$.m=null,$.P=!0,mge($,S)}function PG(S){null!=S.C&&(c.clearTimeout(S.C),S.C=null)}function zge(S,G){var $=null;if(S.g==G){PG(S),qQ(S),S.g=null;var de=2}else{if(!UQ(S.h,G))return;$=G.D,wge(S.h,G),de=1}if(0!=S.G)if(G.o)if(1==de){$=G.m?G.m.length:0,G=Date.now()-G.F;var ct=S.B;Xc(de=CG(),new hge(de,$)),xG(S)}else Uge(S);else if(3==(ct=G.s)||0==ct&&0<G.X||!(1==de&&function zHe(S,G){return!(bge(S.h)>=S.h.j-(S.s?1:0)||(S.s?(S.i=G.D.concat(S.i),0):1==S.G||2==S.G||S.B>=(S.Va?0:S.Wa)||(S.s=JM(A(S.Ga,S,G),jge(S,S.B)),S.B++,0)))}(S,G)||2==de&&$Q(S)))switch($&&0<$.length&&(G=S.h,G.i=G.i.concat($)),ct){case 1:QE(S,5);break;case 4:QE(S,10);break;case 3:QE(S,6);break;default:QE(S,2)}}function jge(S,G){let $=S.Ta+Math.floor(Math.random()*S.cb);return S.isActive()||($*=2),$*G}function QE(S,G){if(S.j.info("Error code "+G),2==G){var $=A(S.fb,S),de=S.Xa;const ct=!de;de=new XE(de||"//www.google.com/images/cleardot.gif"),c.location&&"http"==c.location.protocol||SG(de,"https"),TG(de),ct?function kHe(S,G){const $=new ZM;if(c.Image){const de=new Image;de.onload=k(rC,$,"TestLoadImage: loaded",!0,G,de),de.onerror=k(rC,$,"TestLoadImage: error",!1,G,de),de.onabort=k(rC,$,"TestLoadImage: abort",!1,G,de),de.ontimeout=k(rC,$,"TestLoadImage: timeout",!1,G,de),c.setTimeout(function(){de.ontimeout&&de.ontimeout()},1e4),de.src=S}else G(!1)}(de.toString(),$):function VHe(S,G){new ZM;const de=new AbortController,ct=setTimeout(()=>{de.abort(),rC(0,0,!1,G)},1e4);fetch(S,{signal:de.signal}).then(kt=>{clearTimeout(ct),rC(0,0,!!kt.ok,G)}).catch(()=>{clearTimeout(ct),rC(0,0,!1,G)})}(de.toString(),$)}else Qc(2);S.G=0,S.l&&S.l.sa(G),$ge(S),Gge(S)}function $ge(S){if(S.G=0,S.ka=[],S.l){const G=Ege(S.h);(0!=G.length||0!=S.i.length)&&(Q(S.ka,G),Q(S.ka,S.i),S.h.i.length=0,X(S.i),S.i.length=0),S.l.ra()}}function qge(S,G,$){var de=$ instanceof XE?Ov($):new XE($);if(""!=de.g)G&&(de.g=G+"."+de.g),IG(de,de.s);else{var ct=c.location;de=ct.protocol,G=G?G+"."+ct.hostname:ct.hostname,ct=+ct.port;var kt=new XE(null);de&&SG(kt,de),G&&(kt.g=G),ct&&IG(kt,ct),$&&(kt.l=$),de=kt}return G=S.ya,($=S.D)&&G&&Ws(de,$,G),Ws(de,"VER",S.la),lN(S,de),de}function Kge(S,G,$){if(G&&!S.J)throw Error("Can't create secondary domain capable XhrIo object.");return(G=new zo(S.Ca&&!S.pa?new rN({eb:$}):S.pa)).Ha(S.J),G}function Yge(){}function MG(){}function yd(S,G){ac.call(this),this.g=new Vge(G),this.l=S,this.h=G&&G.messageUrlParams||null,S=G&&G.messageHeaders||null,G&&G.clientProtocolHeaderRequired&&(S?S["X-Client-Protocol"]="webchannel":S={"X-Client-Protocol":"webchannel"}),this.g.o=S,S=G&&G.initMessageHeaders||null,G&&G.messageContentType&&(S?S["X-WebChannel-Content-Type"]=G.messageContentType:S={"X-WebChannel-Content-Type":G.messageContentType}),G&&G.va&&(S?S["X-WebChannel-Client-Profile"]=G.va:S={"X-WebChannel-Client-Profile":G.va}),this.g.S=S,(S=G&&G.Sb)&&!Ie(S)&&(this.g.m=S),this.v=G&&G.supportsCrossDomainXhr||!1,this.u=G&&G.sendRawJson||!1,(G=G&&G.httpSessionIdParam)&&!Ie(G)&&(this.g.D=G,null!==(S=this.h)&&G in S&&G in(S=this.h)&&delete S[G]),this.j=new wA(this)}function Xge(S){FQ.call(this),S.__headers__&&(this.headers=S.__headers__,this.statusCode=S.__status__,delete S.__headers__,delete S.__status__);var G=S.__sm__;if(G){e:{for(const $ in G){S=$;break e}S=void 0}(this.i=S)&&(S=this.i,G=null!==G&&S in G?G[S]:void 0),this.data=G}else this.data=S}function Qge(){LQ.call(this),this.status=1}function wA(S){this.g=S}(t=zo.prototype).Ha=function(S){this.J=S},t.ea=function(S,G,$,de){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+S);G=G?G.toUpperCase():"GET",this.D=S,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kQ.g(),this.v=function age(S){return S.h||(S.h=S.i())}(this.o?this.o:kQ),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(G,String(S),!0),this.B=!1}catch(kt){return void Nge(this,kt)}if(S=$||"",$=new Map(this.headers),de)if(Object.getPrototypeOf(de)===Object.prototype)for(var ct in de)$.set(ct,de[ct]);else{if("function"!=typeof de.keys||"function"!=typeof de.get)throw Error("Unknown input type for opt_headers: "+String(de));for(const kt of de.keys())$.set(kt,de.get(kt))}de=Array.from($.keys()).find(kt=>"content-type"==kt.toLowerCase()),ct=c.FormData&&S instanceof c.FormData,!(0<=Array.prototype.indexOf.call(UHe,G,void 0))||de||ct||$.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[kt,xn]of $)this.g.setRequestHeader(kt,xn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lge(this),this.u=!0,this.g.send(S),this.u=!1}catch(kt){Nge(this,kt)}},t.abort=function(S){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=S||7,Xc(this,"complete"),Xc(this,"abort"),RG(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),RG(this,!0)),zo.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Fge(this):this.bb())},t.bb=function(){Fge(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<Fv(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(S){if(this.g){var G=this.g.responseText;return S&&0==G.indexOf(S)&&(G=G.substring(S.length)),CHe(G)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=Vge.prototype).la=8,t.G=1,t.connect=function(S,G,$,de){Qc(0),this.W=S,this.H=G||{},$&&void 0!==de&&(this.H.OSID=$,this.H.OAID=de),this.F=this.X,this.I=qge(this,null,this.W),xG(this)},t.Ga=function(S){if(this.s)if(this.s=null,1==this.G){if(!S){this.U=Math.floor(1e5*Math.random()),S=this.U++;const ct=new nC(this,this.j,S);let kt=this.o;if(this.S&&(kt?(kt=me(kt),Ke(kt,this.S)):kt=this.S),null!==this.m||this.O||(ct.H=kt,kt=null),this.P)e:{for(var G=0,$=0;$<this.i.length;$++){var de=this.i[$];if(void 0===(de="__data__"in de.map&&"string"==typeof(de=de.map.__data__)?de.length:void 0))break;if(4096<(G+=de)){G=$;break e}if(4096===G||$===this.i.length-1){G=$+1;break e}}G=1e3}else G=1e3;G=Hge(this,ct,G),Ws($=Ov(this.I),"RID",S),Ws($,"CVER",22),this.D&&Ws($,"X-HTTP-Session-Id",this.D),lN(this,$),kt&&(this.O?G="headers="+encodeURIComponent(String(Mge(kt)))+"&"+G:this.m&&zQ($,this.m,kt)),WQ(this.h,ct),this.Ua&&Ws($,"TYPE","init"),this.P?(Ws($,"$req",G),Ws($,"SID","null"),ct.T=!0,GQ(ct,$,null)):GQ(ct,$,G),this.G=2}}else 3==this.G&&(S?Bge(this,S):0==this.i.length||Cge(this.h)||Bge(this))},t.Fa=function(){if(this.u=null,Wge(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var S=2*this.R;this.j.info("BP detection timer enabled: "+S),this.A=JM(A(this.ab,this),S)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qc(10),DG(this),Wge(this))},t.Za=function(){null!=this.C&&(this.C=null,DG(this),$Q(this),Qc(19))},t.fb=function(S){S?(this.j.info("Successfully pinged google.com"),Qc(2)):(this.j.info("Failed to ping google.com"),Qc(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=Yge.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},MG.prototype.g=function(S,G){return new yd(S,G)},U(yd,ac),yd.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yd.prototype.close=function(){jQ(this.g)},yd.prototype.o=function(S){var G=this.g;if("string"==typeof S){var $={};$.__data__=S,S=$}else this.u&&(($={}).__data__=NQ(S),S=$);G.i.push(new AHe(G.Ya++,S)),3==G.G&&xG(G)},yd.prototype.N=function(){this.g.l=null,delete this.j,jQ(this.g),delete this.g,yd.aa.N.call(this)},U(Xge,FQ),U(Qge,LQ),U(wA,Yge),wA.prototype.ua=function(){Xc(this.g,"a")},wA.prototype.ta=function(S){Xc(this.g,new Xge(S))},wA.prototype.sa=function(S){Xc(this.g,new Qge)},wA.prototype.ra=function(){Xc(this.g,"b")},MG.prototype.createWebChannel=MG.prototype.g,yd.prototype.send=yd.prototype.o,yd.prototype.open=yd.prototype.m,yd.prototype.close=yd.prototype.close,Uoe=Cv.createWebChannelTransport=function(){return new MG},Hoe=Cv.getStatEventTarget=function(){return CG()},Boe=Cv.Event=KE,s$=Cv.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bG.NO_ERROR=0,bG.TIMEOUT=8,bG.HTTP_ERROR=6,gV=Cv.ErrorCode=bG,fge.COMPLETE="complete",Goe=Cv.EventType=fge,lge.EventType=XM,XM.OPEN="a",XM.CLOSE="b",XM.ERROR="c",XM.MESSAGE="d",ac.prototype.listen=ac.prototype.K,TP=Cv.WebChannel=lge,Cv.FetchXmlHttpFactory=rN,zo.prototype.listenOnce=zo.prototype.L,zo.prototype.getLastError=zo.prototype.Ka,zo.prototype.getLastErrorCode=zo.prototype.Ba,zo.prototype.getStatus=zo.prototype.Z,zo.prototype.getResponseJson=zo.prototype.Oa,zo.prototype.getResponseText=zo.prototype.oa,zo.prototype.send=zo.prototype.ea,zo.prototype.setWithCredentials=zo.prototype.Ha,Voe=Cv.XhrIo=zo}).apply(typeof pV<"u"?pV:typeof self<"u"?self:typeof window<"u"?window:{});const Woe="@firebase/firestore";class Ka{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ka.UNAUTHENTICATED=new Ka(null),Ka.GOOGLE_CREDENTIALS=new Ka("google-credentials-uid"),Ka.FIRST_PARTY=new Ka("first-party-uid"),Ka.MOCK_USER=new Ka("mock-user");let gT="10.14.0";const Ay=new tE("@firebase/firestore");function mT(){return Ay.logLevel}function on(t,...e){if(Ay.logLevel<=ir.DEBUG){const n=e.map(o$);Ay.debug(`Firestore (${gT}): ${t}`,...n)}}function ia(t,...e){if(Ay.logLevel<=ir.ERROR){const n=e.map(o$);Ay.error(`Firestore (${gT}): ${t}`,...n)}}function vh(t,...e){if(Ay.logLevel<=ir.WARN){const n=e.map(o$);Ay.warn(`Firestore (${gT}): ${t}`,...n)}}function o$(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function qn(t="Unexpected state"){const e=`FIRESTORE (${gT}) INTERNAL ASSERTION FAILED: `+t;throw ia(e),new Error(e)}function Qn(t,e){t||qn()}function Dn(t,e){return t}const At={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class an extends xu{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ya{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class zoe{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cDe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ka.UNAUTHENTICATED))}shutdown(){}}class uDe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dDe{constructor(e){this.t=e,this.currentUser=Ka.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var i=this;Qn(void 0===this.o);let r=this.i;const s=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let o=new Ya;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ya,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const p=o;e.enqueueRetryable((0,te.A)(function*(){yield p.promise,yield s(i.currentUser)}))},d=p=>{on("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(on("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ya)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(on("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qn("string"==typeof i.accessToken),new zoe(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qn(null===e||"string"==typeof e),new Ka(e)}}class hDe{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Ka.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fDe{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new hDe(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ka.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class joe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pDe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Qn(void 0===this.o);const i=s=>{null!=s.error&&on("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,on("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{on("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):on("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qn("string"==typeof n.token),this.R=n.token,new joe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gDe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class $oe{static newId(){const n=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=gDe(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function ki(t,e){return t<e?-1:t>e?1:0}function vT(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}class Io{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new an(At.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new an(At.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new an(At.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new an(At.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Io.fromMillis(Date.now())}static fromDate(e){return Io.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Io(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ki(this.nanoseconds,e.nanoseconds):ki(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class oi{constructor(e){this.timestamp=e}static fromTimestamp(e){return new oi(e)}static min(){return new oi(new Io(0,0))}static max(){return new oi(new Io(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class AP{constructor(e,n,i){void 0===n?n=0:n>e.length&&qn(),void 0===i?i=e.length-n:i>e.length-n&&qn(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return 0===AP.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof AP?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Cr extends AP{construct(e,n,i){return new Cr(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new an(At.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Cr(n)}static emptyPath(){return new Cr([])}}const mDe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ao extends AP{construct(e,n,i){return new ao(e,n,i)}static isValidIdentifier(e){return mDe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ao.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ao(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(0===i.length)throw new an(At.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const c=e[r];if("\\"===c){if(r+1===e.length)throw new an(At.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[r+1];if("\\"!==d&&"."!==d&&"`"!==d)throw new an(At.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,r+=2}else"`"===c?(o=!o,r++):"."!==c||o?(i+=c,r++):(s(),r++)}if(s(),o)throw new an(At.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ao(n)}static emptyPath(){return new ao([])}}class kn{constructor(e){this.path=e}static fromPath(e){return new kn(Cr.fromString(e))}static fromName(e){return new kn(Cr.fromString(e).popFirst(5))}static empty(){return new kn(Cr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Cr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Cr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kn(new Cr(e.slice()))}}function Yoe(t){return new pd(t.readTime,t.key,-1)}class pd{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new pd(oi.min(),kn.empty(),-1)}static max(){return new pd(oi.max(),kn.empty(),-1)}}function l$(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=kn.comparator(t.documentKey,e.documentKey),0!==n?n:ki(t.largestBatchId,e.largestBatchId))}const Xoe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qoe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ry(t){return c$.apply(this,arguments)}function c$(){return c$=(0,te.A)(function*(t){if(t.code!==At.FAILED_PRECONDITION||t.message!==Xoe)throw t;on("LocalStore","Unexpectedly lost primary lease")}),c$.apply(this,arguments)}class ht{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ht((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ht?n:ht.resolve(n)}catch(n){return ht.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ht.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ht.reject(n)}static resolve(e){return new ht((n,i)=>{n(e)})}static reject(e){return new ht((n,i)=>{i(e)})}static waitFor(e){return new ht((n,i)=>{let r=0,s=0,o=!1;e.forEach(c=>{++r,c.next(()=>{++s,o&&s===r&&n()},d=>i(d))}),o=!0,s===r&&n()})}static or(e){let n=ht.resolve(!1);for(const i of e)n=n.next(r=>r?ht.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new ht((i,r)=>{const s=e.length,o=new Array(s);let c=0;for(let d=0;d<s;d++){const p=d;n(e[p]).next(m=>{o[p]=m,++c,c===s&&i(o)},m=>r(m))}})}static doWhile(e,n){return new ht((i,r)=>{const s=()=>{!0===e()?n().next(()=>{s()},r):i()};s()})}}function Dy(t){return"IndexedDbTransactionError"===t.name}let gd=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function DP(t){return null==t}function xP(t){return 0===t&&1/t==-1/0}function aae(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xy(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cae(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class As{constructor(e,n){this.comparator=e,this.root=n||bl.EMPTY}insert(e,n){return new As(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bl.BLACK,null,null))}remove(e){return new As(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bl.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _V(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _V(this.root,e,this.comparator,!1)}getReverseIterator(){return new _V(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _V(this.root,e,this.comparator,!0)}}class _V{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bl{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??bl.RED,this.left=r??bl.EMPTY,this.right=s??bl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new bl(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):0===s?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return bl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(e,r.key)){if(r.right.isEmpty())return bl.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qn();const e=this.left.check();if(e!==this.right.check())throw qn();return e+(this.isRed()?0:1)}}bl.EMPTY=null,bl.RED=!0,bl.BLACK=!1,bl.EMPTY=new class{constructor(){this.size=0}get key(){throw qn()}get value(){throw qn()}get color(){throw qn()}get left(){throw qn()}get right(){throw qn()}copy(e,n,i,r,s){return this}insert(e,n,i){return new bl(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class as{constructor(e){this.comparator=e,this.data=new As(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uae(this.data.getIterator())}getIteratorFrom(e){return new uae(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof as)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new as(this.comparator);return n.data=e,n}}class uae{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fu{constructor(e){this.fields=e,e.sort(ao.comparator)}static empty(){return new Fu([])}unionWith(e){let n=new as(ao.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Fu(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vT(this.fields,e.fields,(n,i)=>n.isEqual(i))}}class dae extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Uo{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new dae("Invalid base64 string: "+s):s}}(e);return new Uo(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new Uo(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ki(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Uo.EMPTY_BYTE_STRING=new Uo("");const UDe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bv(t){if(Qn(!!t),"string"==typeof t){let e=0;const n=UDe.exec(t);if(Qn(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:lo(t.seconds),nanos:lo(t.nanos)}}function lo(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function wv(t){return"string"==typeof t?Uo.fromBase64String(t):Uo.fromUint8Array(t)}function yV(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function CV(t){const e=t.mapValue.fields.__previous_value__;return yV(e)?CV(e):e}function PP(t){const e=bv(t.mapValue.fields.__local_write_time__.timestampValue);return new Io(e.seconds,e.nanos)}class WDe{constructor(e,n,i,r,s,o,c,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=p}}class pE{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new pE("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof pE&&e.projectId===this.projectId&&e.database===this.database}}const Py={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function My(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yV(t)?4:mae(t)?9007199254740991:SV(t)?10:11:qn()}function og(t,e){if(t===e)return!0;const n=My(t);if(n!==My(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return PP(t).isEqual(PP(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=bv(r.timestampValue),c=bv(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,wv(t.bytesValue).isEqual(wv(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return lo(r.geoPointValue.latitude)===lo(s.geoPointValue.latitude)&&lo(r.geoPointValue.longitude)===lo(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return lo(r.integerValue)===lo(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=lo(r.doubleValue),c=lo(s.doubleValue);return o===c?xP(o)===xP(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return vT(t.arrayValue.values||[],e.arrayValue.values||[],og);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},c=s.mapValue.fields||{};if(aae(o)!==aae(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(void 0===c[d]||!og(o[d],c[d])))return!1;return!0}(t,e);default:return qn()}var s}function MP(t,e){return void 0!==(t.values||[]).find(n=>og(n,e))}function Ny(t,e){if(t===e)return 0;const n=My(t),i=My(e);if(n!==i)return ki(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ki(t.booleanValue,e.booleanValue);case 2:return function(s,o){const c=lo(s.integerValue||s.doubleValue),d=lo(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return hae(t.timestampValue,e.timestampValue);case 4:return hae(PP(t),PP(e));case 5:return ki(t.stringValue,e.stringValue);case 6:return function(s,o){const c=wv(s),d=wv(o);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const c=s.split("/"),d=o.split("/");for(let p=0;p<c.length&&p<d.length;p++){const m=ki(c[p],d[p]);if(0!==m)return m}return ki(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const c=ki(lo(s.latitude),lo(o.latitude));return 0!==c?c:ki(lo(s.longitude),lo(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return fae(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,d,p,m;const k=null===(c=(s.fields||{}).value)||void 0===c?void 0:c.arrayValue,U=null===(d=(o.fields||{}).value)||void 0===d?void 0:d.arrayValue,X=ki((null===(p=k?.values)||void 0===p?void 0:p.length)||0,(null===(m=U?.values)||void 0===m?void 0:m.length)||0);return 0!==X?X:fae(k,U)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Py.mapValue&&o===Py.mapValue)return 0;if(s===Py.mapValue)return 1;if(o===Py.mapValue)return-1;const c=s.fields||{},d=Object.keys(c),p=o.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let y=0;y<d.length&&y<m.length;++y){const A=ki(d[y],m[y]);if(0!==A)return A;const k=Ny(c[d[y]],p[m[y]]);if(0!==k)return k}return ki(d.length,m.length)}(t.mapValue,e.mapValue);default:throw qn()}}function hae(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ki(t,e);const n=bv(t),i=bv(e),r=ki(n.seconds,i.seconds);return 0!==r?r:ki(n.nanos,i.nanos)}function fae(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Ny(n[r],i[r]);if(s)return s}return ki(n.length,i.length)}function bT(t){return f$(t)}function f$(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=bv(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?wv(t.bytesValue).toBase64():"referenceValue"in t?kn.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=f$(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${f$(n.fields[o])}`;return r+"}"}(t.mapValue):qn()}function p$(t){return!!t&&"integerValue"in t}function NP(t){return!!t&&"arrayValue"in t}function pae(t){return!!t&&"nullValue"in t}function gae(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function EV(t){return!!t&&"mapValue"in t}function SV(t){var e,n;return"__vector__"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function OP(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xy(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=OP(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=OP(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mae(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class wl{constructor(e){this.value=e}static empty(){return new wl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!EV(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=OP(n)}setAll(e){let n=ao.emptyPath(),i={},r=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,i,r),i={},r=[],n=c.popLast()}o?i[c.lastSegment()]=OP(o):r.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());EV(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return og(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];EV(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){xy(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new wl(OP(this.value))}}function Cae(t){const e=[];return xy(t.fields,(n,i)=>{const r=new ao([n]);if(EV(i)){const s=Cae(i.mapValue).fields;if(0===s.length)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new Fu(e)}class Us{constructor(e,n,i,r,s,o,c){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Us(e,0,oi.min(),oi.min(),oi.min(),wl.empty(),0)}static newFoundDocument(e,n,i,r){return new Us(e,1,n,oi.min(),i,r,0)}static newNoDocument(e,n){return new Us(e,2,n,oi.min(),oi.min(),wl.empty(),0)}static newUnknownDocument(e,n){return new Us(e,3,n,oi.min(),oi.min(),wl.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oi.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oi.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Us&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Us(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oy{constructor(e,n){this.position=e,this.inclusive=n}}function bae(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(i=s.field.isKeyField()?kn.comparator(kn.fromName(o.referenceValue),n.key):Ny(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function wae(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!og(t.position[n],e.position[n]))return!1;return!0}class FP{constructor(e,n="asc"){this.field=e,this.dir=n}}function $De(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Eae{}class br extends Eae{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,i):new qDe(e,n,i):"array-contains"===n?new XDe(e,i):"in"===n?new Dae(e,i):"not-in"===n?new QDe(e,i):"array-contains-any"===n?new JDe(e,i):new br(e,n,i)}static createKeyFieldInFilter(e,n,i){return"in"===n?new KDe(e,i):new YDe(e,i)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ny(n,this.value)):null!==n&&My(this.value)===My(n)&&this.matchesComparison(Ny(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ss extends Eae{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ss(e,n)}matches(e){return wT(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function wT(t){return"and"===t.op}function m$(t){return function Sae(t){for(const e of t.filters)if(e instanceof ss)return!1;return!0}(t)&&wT(t)}function v$(t){if(t instanceof br)return t.field.canonicalString()+t.op.toString()+bT(t.value);if(m$(t))return t.filters.map(e=>v$(e)).join(",");{const e=t.filters.map(n=>v$(n)).join(",");return`${t.op}(${e})`}}function Iae(t,e){return t instanceof br?(i=t,(r=e)instanceof br&&i.op===r.op&&i.field.isEqual(r.field)&&og(i.value,r.value)):t instanceof ss?function(i,r){return r instanceof ss&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((s,o,c)=>s&&Iae(o,r.filters[c]),!0)}(t,e):void qn();var i,r}function Aae(t){return t instanceof br?`${(n=t).field.canonicalString()} ${n.op} ${bT(n.value)}`:t instanceof ss?function(n){return n.op.toString()+" {"+n.getFilters().map(Aae).join(" ,")+"}"}(t):"Filter";var n}class qDe extends br{constructor(e,n,i){super(e,n,i),this.key=kn.fromName(i.referenceValue)}matches(e){const n=kn.comparator(e.key,this.key);return this.matchesComparison(n)}}class KDe extends br{constructor(e,n){super(e,"in",n),this.keys=Rae(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class YDe extends br{constructor(e,n){super(e,"not-in",n),this.keys=Rae(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Rae(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(i=>kn.fromName(i.referenceValue))}class XDe extends br{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return NP(n)&&MP(n.arrayValue,this.value)}}class Dae extends br{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&MP(this.value.arrayValue,n)}}class QDe extends br{constructor(e,n){super(e,"not-in",n)}matches(e){if(MP(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!MP(this.value.arrayValue,n)}}class JDe extends br{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!NP(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>MP(this.value.arrayValue,i))}}class ZDe{constructor(e,n=null,i=[],r=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}}function _$(t,e=null,n=[],i=[],r=null,s=null,o=null){return new ZDe(t,e,n,i,r,s,o)}function mE(t){const e=Dn(t);if(null===e.ue){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>v$(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),DP(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>bT(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>bT(i)).join(",")),e.ue=n}return e.ue}function LP(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$De(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Iae(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wae(t.startAt,e.startAt)&&wae(t.endAt,e.endAt)}function IV(t){return kn.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Ev{constructor(e,n=null,i=[],r=[],s=null,o="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=d,this.ce=null,this.le=null,this.he=null}}function ET(t){return new Ev(t)}function Nae(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function ST(t){const e=Dn(t);if(null===e.ce){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new as(ao.comparator);return o.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new FP(s,i))}),n.has(ao.keyField().canonicalString())||e.ce.push(new FP(ao.keyField(),i))}return e.ce}function nc(t){const e=Dn(t);return e.le||(e.le=function Fae(t,e){if("F"===t.limitType)return _$(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>new FP(r.field,"desc"===r.dir?"asc":"desc"));const n=t.endAt?new Oy(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Oy(t.startAt.position,t.startAt.inclusive):null;return _$(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}(e,ST(t))),e.le}function AV(t,e,n){return new Ev(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kP(t,e){return LP(nc(t),nc(e))&&t.limitType===e.limitType}function Lae(t){return`${mE(nc(t))}|lt:${t.limitType}`}function IT(t){return`Query(target=${function(n){let i=n.path.canonicalString();return null!==n.collectionGroup&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>Aae(r)).join(", ")}]`),DP(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>bT(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>bT(r)).join(",")),`Target(${i})`}(nc(t))}; limitType=${t.limitType})`}function VP(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):kn.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of ST(i))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&(r=e,!((i=t).startAt&&!function(o,c,d){const p=bae(o,c,d);return o.inclusive?p<=0:p<0}(i.startAt,ST(i),r)||i.endAt&&!function(o,c,d){const p=bae(o,c,d);return o.inclusive?p>=0:p>0}(i.endAt,ST(i),r)));var i,r}function Vae(t){return(e,n)=>{let i=!1;for(const r of ST(t)){const s=exe(r,e,n);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function exe(t,e,n){const i=t.field.isKeyField()?kn.comparator(e.key,n.key):function(s,o,c){const d=o.data.field(s),p=c.data.field(s);return null!==d&&null!==p?Ny(d,p):qn()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return qn()}}class Sv{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){xy(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return cae(this.inner)}size(){return this.innerSize}}const txe=new As(kn.comparator);function Lu(){return txe}const Gae=new As(kn.comparator);function GP(...t){let e=Gae;for(const n of t)e=e.insert(n.key,n);return e}function Bae(t){let e=Gae;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function ag(){return BP()}function Hae(){return BP()}function BP(){return new Sv(t=>t.toString(),(t,e)=>t.isEqual(e))}const nxe=new As(kn.comparator),ixe=new as(kn.comparator);function Xi(...t){let e=ixe;for(const n of t)e=e.add(n);return e}const rxe=new as(ki);function w$(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xP(e)?"-0":e}}function Uae(t){return{integerValue:""+t}}function Wae(t,e){return function eae(t){return"number"==typeof t&&Number.isInteger(t)&&!xP(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?Uae(e):w$(t,e)}class RV{constructor(){this._=void 0}}function sxe(t,e,n){return t instanceof TT?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&yV(s)&&(s=CV(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof vE?jae(t,e):t instanceof _E?$ae(t,e):function(r,s){const o=zae(r,s),c=qae(o)+qae(r.Pe);return p$(o)&&p$(r.Pe)?Uae(c):w$(r.serializer,c)}(t,e)}function oxe(t,e,n){return t instanceof vE?jae(t,e):t instanceof _E?$ae(t,e):n}function zae(t,e){return t instanceof AT?p$(i=e)||(s=i)&&"doubleValue"in s?e:{integerValue:0}:null;var i,s}class TT extends RV{}class vE extends RV{constructor(e){super(),this.elements=e}}function jae(t,e){const n=Kae(e);for(const i of t.elements)n.some(r=>og(r,i))||n.push(i);return{arrayValue:{values:n}}}class _E extends RV{constructor(e){super(),this.elements=e}}function $ae(t,e){let n=Kae(e);for(const i of t.elements)n=n.filter(r=>!og(r,i));return{arrayValue:{values:n}}}class AT extends RV{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function qae(t){return lo(t.integerValue||t.doubleValue)}function Kae(t){return NP(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class lxe{constructor(e,n){this.version=e,this.transformResults=n}}class co{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new co}static exists(e){return new co(void 0,e)}static updateTime(e){return new co(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function DV(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class xV{}function Yae(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new DT(t.key,co.none()):new RT(t.key,t.data,co.none());{const n=t.data,i=wl.empty();let r=new as(ao.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new Iv(t.key,i,new Fu(r.toArray()),co.none())}}function cxe(t,e,n){t instanceof RT?function(r,s,o){const c=r.value.clone(),d=Jae(r.fieldTransforms,s,o.transformResults);c.setAll(d),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Iv?function(r,s,o){if(!DV(r.precondition,s))return void s.convertToUnknownDocument(o.version);const c=Jae(r.fieldTransforms,s,o.transformResults),d=s.data;d.setAll(Qae(r)),d.setAll(c),s.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function UP(t,e,n,i){return t instanceof RT?function(s,o,c,d){if(!DV(s.precondition,o))return c;const p=s.value.clone(),m=Zae(s.fieldTransforms,d,o);return p.setAll(m),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),null}(t,e,n,i):t instanceof Iv?function(s,o,c,d){if(!DV(s.precondition,o))return c;const p=Zae(s.fieldTransforms,d,o),m=o.data;return m.setAll(Qae(s)),m.setAll(p),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),null===c?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(y=>y.field))}(t,e,n,i):(c=n,DV(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function uxe(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=zae(i.transform,r||null);null!=s&&(null===n&&(n=wl.empty()),n.set(i.field,s))}return n||null}function Xae(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(i=t.fieldTransforms)&&void 0===r||i&&r&&vT(i,r,(s,o)=>function axe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(i=t.transform)instanceof vE&&r instanceof vE||i instanceof _E&&r instanceof _E?vT(i.elements,r.elements,og):i instanceof AT&&r instanceof AT?og(i.Pe,r.Pe):i instanceof TT&&r instanceof TT);var i,r}(s,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var i,r}class RT extends xV{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Iv extends xV{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Qae(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Jae(t,e,n){const i=new Map;Qn(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,c=e.data.field(s.field);i.set(s.field,oxe(o,c,n[r]))}return i}function Zae(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,sxe(s,o,e))}return i}class DT extends xV{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class E$ extends xV{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class S${constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&cxe(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=UP(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=UP(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Hae();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=n.has(r.key)?null:c;const d=Yae(o,c);null!==d&&i.set(r.key,d),o.isValidDocument()||o.convertToNoDocument(oi.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xi())}isEqual(e){return this.batchId===e.batchId&&vT(this.mutations,e.mutations,(n,i)=>Xae(n,i))&&vT(this.baseMutations,e.baseMutations,(n,i)=>Xae(n,i))}}class I${constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Qn(e.mutations.length===i.length);let r=function(){return nxe}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new I$(e,n,i,r)}}class T${constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class dxe{constructor(e,n){this.count=e,this.unchangedNames=n}}var ma,xr;function nle(t){if(void 0===t)return ia("GRPC error has no .code"),At.UNKNOWN;switch(t){case ma.OK:return At.OK;case ma.CANCELLED:return At.CANCELLED;case ma.UNKNOWN:return At.UNKNOWN;case ma.DEADLINE_EXCEEDED:return At.DEADLINE_EXCEEDED;case ma.RESOURCE_EXHAUSTED:return At.RESOURCE_EXHAUSTED;case ma.INTERNAL:return At.INTERNAL;case ma.UNAVAILABLE:return At.UNAVAILABLE;case ma.UNAUTHENTICATED:return At.UNAUTHENTICATED;case ma.INVALID_ARGUMENT:return At.INVALID_ARGUMENT;case ma.NOT_FOUND:return At.NOT_FOUND;case ma.ALREADY_EXISTS:return At.ALREADY_EXISTS;case ma.PERMISSION_DENIED:return At.PERMISSION_DENIED;case ma.FAILED_PRECONDITION:return At.FAILED_PRECONDITION;case ma.ABORTED:return At.ABORTED;case ma.OUT_OF_RANGE:return At.OUT_OF_RANGE;case ma.UNIMPLEMENTED:return At.UNIMPLEMENTED;case ma.DATA_LOSS:return At.DATA_LOSS;default:return qn()}}(xr=ma||(ma={}))[xr.OK=0]="OK",xr[xr.CANCELLED=1]="CANCELLED",xr[xr.UNKNOWN=2]="UNKNOWN",xr[xr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xr[xr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xr[xr.NOT_FOUND=5]="NOT_FOUND",xr[xr.ALREADY_EXISTS=6]="ALREADY_EXISTS",xr[xr.PERMISSION_DENIED=7]="PERMISSION_DENIED",xr[xr.UNAUTHENTICATED=16]="UNAUTHENTICATED",xr[xr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xr[xr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xr[xr.ABORTED=10]="ABORTED",xr[xr.OUT_OF_RANGE=11]="OUT_OF_RANGE",xr[xr.UNIMPLEMENTED=12]="UNIMPLEMENTED",xr[xr.INTERNAL=13]="INTERNAL",xr[xr.UNAVAILABLE=14]="UNAVAILABLE",xr[xr.DATA_LOSS=15]="DATA_LOSS";const hxe=new uE([4294967295,4294967295],0);function rle(t){const e=function ile(){return new TextEncoder}().encode(t),n=new koe;return n.update(e),new Uint8Array(n.digest())}function sle(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new uE([n,i],0),new uE([r,s],0)]}class A${constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new WP(`Invalid padding: ${n}`);if(i<0)throw new WP(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new WP(`Invalid hash count: ${i}`);if(0===e.length&&0!==n)throw new WP(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=uE.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(uE.fromNumber(i)));return 1===r.compare(hxe)&&(r=new uE([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const n=rle(e),[i,r]=sle(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new A$(s,r,n);return i.forEach(c=>o.insert(c)),o}insert(e){if(0===this.Ie)return;const n=rle(e),[i,r]=sle(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class WP extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zP{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,jP.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new zP(oi.min(),r,new As(ki),Lu(),Xi())}}class jP{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new jP(i,n,Xi(),Xi(),Xi())}}class MV{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}}class ole{constructor(e,n){this.targetId=e,this.me=n}}class ale{constructor(e,n,i=Uo.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class lle{constructor(){this.fe=0,this.ge=ule(),this.pe=Uo.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Xi(),n=Xi(),i=Xi();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:qn()}}),new jP(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=ule()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class fxe{constructor(e){this.Le=e,this.Be=new Map,this.ke=Lu(),this.qe=cle(),this.Qe=new As(ki)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:qn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){const n=e.targetId,i=e.me.count,r=this.Je(n);if(r){const s=r.target;if(IV(s))if(0===i){const o=new kn(s.path);this.Ue(n,o,Us.newNoDocument(o,oi.min()))}else Qn(1===i);else{const o=this.Ye(n);if(o!==i){const c=this.Ze(e),d=c?this.Xe(c,e,o):1;0!==d&&(this.je(n),this.Qe=this.Qe.insert(n,2===d?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,c;try{o=wv(i).toUint8Array()}catch(d){if(d instanceof dae)return vh("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new A$(o,r,s)}catch(d){return vh(d instanceof WP?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return 0===c.Ie?null:c}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,s,null),r++)}),r}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const c=this.Je(o);if(c){if(s.current&&IV(c.target)){const d=new kn(c.target.path);null!==this.ke.get(d)||this.it(o,d)||this.Ue(o,d,Us.newNoDocument(d,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let i=Xi();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(d=>{const p=this.Je(d);return!p||"TargetPurposeLimboResolution"===p.purpose||(c=!1,!1)}),c&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const r=new zP(e,n,this.Qe,this.ke,i);return this.ke=Lu(),this.qe=cle(),this.Qe=new As(ki),r}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new lle,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new as(ki),this.qe=this.qe.insert(e,n)),n}ze(e){const n=null!==this.Je(e);return n||on("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new lle),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function cle(){return new As(kn.comparator)}function ule(){return new As(kn.comparator)}const pxe={asc:"ASCENDING",desc:"DESCENDING"},gxe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mxe={and:"AND",or:"OR"};class vxe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function R$(t,e){return t.useProto3Json||DP(e)?e:{value:e}}function xT(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dle(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _xe(t,e){return xT(t,e.toTimestamp())}function ra(t){return Qn(!!t),oi.fromTimestamp(function(n){const i=bv(n);return new Io(i.seconds,i.nanos)}(t))}function D$(t,e){return x$(t,e).canonicalString()}function x$(t,e){const n=(r=t,new Cr(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===e?n:n.child(e)}function hle(t){const e=Cr.fromString(t);return Qn(Ele(e)),e}function $P(t,e){return D$(t.databaseId,e.path)}function lg(t,e){const n=hle(e);if(n.get(1)!==t.databaseId.projectId)throw new an(At.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new an(At.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new kn(gle(n))}function fle(t,e){return D$(t.databaseId,e)}function P$(t){return new Cr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gle(t){return Qn(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function mle(t,e,n){return{name:$P(t,e),fields:n.value.mapValue.fields}}function _le(t,e){return{documents:[fle(t,e.path)]}}function NV(t,e){const n={structuredQuery:{}},i=e.path;let r;null!==e.collectionGroup?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=fle(t,r);const s=function(p){if(0!==p.length)return wle(ss.create(p,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(p){if(0!==p.length)return p.map(m=>{return{field:Fy((A=m).field),direction:Exe(A.dir)};var A})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=R$(t,e.limit);return null!==c&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{_t:n,parent:r};var p}function Cle(t){let e=function ple(t){const e=hle(t);return 4===e.length?Cr.emptyPath():gle(e)}(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Qn(1===i);const m=n.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=function(y){const A=ble(y);return A instanceof ss&&m$(A)?A.getFilters():[A]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(A=>{return new FP(PT((U=A).field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction));var U}));let c=null;n.limit&&(c=function(y){let A;return A="object"==typeof y?y.value:y,DP(A)?null:A}(n.limit));let d=null;var y;n.startAt&&(d=new Oy((y=n.startAt).values||[],!!y.before));let p=null;return n.endAt&&(p=function(y){return new Oy(y.values||[],!y.before)}(n.endAt)),function Mae(t,e,n,i,r,s,o,c){return new Ev(t,e,n,i,r,s,o,c)}(e,r,o,s,c,"F",d,p)}function ble(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=PT(n.unaryFilter.field);return br.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=PT(n.unaryFilter.field);return br.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=PT(n.unaryFilter.field);return br.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=PT(n.unaryFilter.field);return br.create(o,"!=",{nullValue:"NULL_VALUE"});default:return qn()}}(t):void 0!==t.fieldFilter?br.create(PT((n=t).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qn()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return ss.create(n.compositeFilter.filters.map(i=>ble(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return qn()}}(n.compositeFilter.op))}(t):qn();var n}function Exe(t){return pxe[t]}function Sxe(t){return gxe[t]}function Ixe(t){return mxe[t]}function Fy(t){return{fieldPath:t.canonicalString()}}function PT(t){return ao.fromServerFormat(t.fieldPath)}function wle(t){return t instanceof br?function(n){if("=="===n.op){if(gae(n.value))return{unaryFilter:{field:Fy(n.field),op:"IS_NAN"}};if(pae(n.value))return{unaryFilter:{field:Fy(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(gae(n.value))return{unaryFilter:{field:Fy(n.field),op:"IS_NOT_NAN"}};if(pae(n.value))return{unaryFilter:{field:Fy(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fy(n.field),op:Sxe(n.op),value:n.value}}}(t):t instanceof ss?function(n){const i=n.getFilters().map(r=>wle(r));return 1===i.length?i[0]:{compositeFilter:{op:Ixe(n.op),filters:i}}}(t):qn()}function Txe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ele(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Tv{constructor(e,n,i,r,s=oi.min(),o=oi.min(),c=Uo.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Tv(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Tv(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Sle{constructor(e){this.ct=e}}function N$(t){const e=Cle({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?AV(e,e.limit,"L"):e}class wE{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(lo(e.integerValue));else if("doubleValue"in e){const i=lo(e.doubleValue);isNaN(i)?this.dt(n,13):(this.dt(n,15),xP(i)?n.At(0):n.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(n,20),"string"==typeof i&&(i=bv(i)),n.Rt(`${i.seconds||""}`),n.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(wv(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const i=e.geoPointValue;this.dt(n,45),n.At(i.latitude||0),n.At(i.longitude||0)}else"mapValue"in e?mae(e)?this.dt(n,Number.MAX_SAFE_INTEGER):SV(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):qn()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const i=e.fields||{};this.dt(n,55);for(const r of Object.keys(i))this.Vt(r,n),this.Tt(i[r],n)}wt(e,n){var i,r;const s=e.fields||{};this.dt(n,53);const o="value",c=(null===(r=null===(i=s[o].arrayValue)||void 0===i?void 0:i.values)||void 0===r?void 0:r.length)||0;this.dt(n,15),n.At(lo(c)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){const i=e.values||[];this.dt(n,50);for(const r of i)this.Tt(r,n)}yt(e,n){this.dt(n,37),kn.fromName(e).path.forEach(i=>{this.dt(n,60),this.Dt(i,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}wE.vt=new wE;class Fxe{constructor(){this.un=new G$}addToCollectionParentIndex(e,n){return this.un.add(n),ht.resolve()}getCollectionParents(e,n){return ht.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ht.resolve()}deleteFieldIndex(e,n){return ht.resolve()}deleteAllFieldIndexes(e){return ht.resolve()}createTargetIndexes(e,n){return ht.resolve()}getDocumentsMatchingTarget(e,n){return ht.resolve(null)}getIndexType(e,n){return ht.resolve(0)}getFieldIndexes(e,n){return ht.resolve([])}getNextCollectionGroupToUpdate(e){return ht.resolve(null)}getMinOffset(e,n){return ht.resolve(pd.min())}getMinOffsetFromCollectionGroup(e,n){return ht.resolve(pd.min())}updateCollectionGroup(e,n,i){return ht.resolve()}updateIndexEntries(e,n){return ht.resolve()}}class G${constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new as(Cr.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new as(Cr.comparator)).toArray()}}new Uint8Array(0);class ic{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ic(e,ic.DEFAULT_COLLECTION_PERCENTILE,ic.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ic.DEFAULT_COLLECTION_PERCENTILE=10,ic.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ic.DEFAULT=new ic(41943040,ic.DEFAULT_COLLECTION_PERCENTILE,ic.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ic.DISABLED=new ic(-1,0,0);class SE{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new SE(0)}static kn(){return new SE(-1)}}class qle{constructor(){this.changes=new Sv(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Us.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return void 0!==i?ht.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Wxe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Jle{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(null!==i&&UP(i.mutation,r,Fu.empty(),Io.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Xi()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Xi()){const r=ag();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=GP();return s.forEach((c,d)=>{o=o.insert(c,d.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=ag();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Xi()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,i,r){let s=Lu();const o=BP(),c=BP();return n.forEach((d,p)=>{const m=i.get(p.key);r.has(p.key)&&(void 0===m||m.mutation instanceof Iv)?s=s.insert(p.key,p):void 0!==m?(o.set(p.key,m.mutation.getFieldMask()),UP(m.mutation,p,m.mutation.getFieldMask(),Io.now())):o.set(p.key,Fu.empty())}),this.recalculateAndSaveOverlays(e,s).next(d=>(d.forEach((p,m)=>o.set(p,m)),n.forEach((p,m)=>{var y;return c.set(p,new Wxe(m,null!==(y=o.get(p))&&void 0!==y?y:null))}),c))}recalculateAndSaveOverlays(e,n){const i=BP();let r=new As((o,c)=>o-c),s=Xi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const c of o)c.keys().forEach(d=>{const p=n.get(d);if(null===p)return;let m=i.get(d)||Fu.empty();m=c.applyToLocalView(p,m),i.set(d,m);const y=(r.get(c.batchId)||Xi()).add(d);r=r.insert(c.batchId,y)})}).next(()=>{const o=[],c=r.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),p=d.key,m=d.value,y=Hae();m.forEach(A=>{if(!s.has(A)){const k=Yae(n.get(A),i.get(A));null!==k&&y.set(A,k),s=s.add(A)}}),o.push(this.documentOverlayCache.saveOverlays(e,p,y))}return ht.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return kn.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function y$(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r);var o}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):ht.resolve(ag());let c=-1,d=s;return o.next(p=>ht.forEach(p,(m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),s.get(m)?ht.resolve():this.remoteDocumentCache.getEntry(e,m).next(A=>{d=d.insert(m,A)}))).next(()=>this.populateOverlays(e,p,s)).next(()=>this.computeViews(e,d,p,Xi())).next(m=>({batchId:c,changes:Bae(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new kn(n)).next(i=>{let r=GP();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=GP();return this.indexManager.getCollectionParents(e,s).next(c=>ht.forEach(c,d=>{const p=(y=n,A=d.child(s),new Ev(A,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,A;return this.getDocumentsMatchingCollectionQuery(e,p,i,r).next(m=>{m.forEach((y,A)=>{o=o.insert(y,A)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((d,p)=>{const m=p.getKey();null===o.get(m)&&(o=o.insert(m,Us.newInvalidDocument(m)))});let c=GP();return o.forEach((d,p)=>{const m=s.get(d);void 0!==m&&UP(m.mutation,p,Fu.empty(),Io.now()),VP(n,p)&&(c=c.insert(d,p))}),c})}}class zxe{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ht.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,{id:(r=n).id,version:r.version,createTime:ra(r.createTime)}),ht.resolve();var r}getNamedQuery(e,n){return ht.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,{name:(r=n).name,query:N$(r.bundledQuery),readTime:ra(r.readTime)}),ht.resolve();var r}}class jxe{constructor(){this.overlays=new As(kn.comparator),this.Ir=new Map}getOverlay(e,n){return ht.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ag();return ht.forEach(n,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),ht.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Ir.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),ht.resolve()}getOverlaysForCollection(e,n,i){const r=ag(),s=n.length+1,o=new kn(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const d=c.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===s&&d.largestBatchId>i&&r.set(d.getKey(),d)}return ht.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new As((p,m)=>p-m);const o=this.overlays.getIterator();for(;o.hasNext();){const p=o.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let m=s.get(p.largestBatchId);null===m&&(m=ag(),s=s.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const c=ag(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,m)=>c.set(p,m)),!(c.size()>=r)););return ht.resolve(c)}ht(e,n,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new T$(n,i));let s=this.Ir.get(n);void 0===s&&(s=Xi(),this.Ir.set(n,s)),this.Ir.set(n,s.add(i.key))}}class $xe{constructor(){this.sessionToken=Uo.EMPTY_BYTE_STRING}getSessionToken(e){return ht.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ht.resolve()}}class B${constructor(){this.Tr=new as(Xa.Er),this.dr=new as(Xa.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new Xa(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new Xa(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){const n=new kn(new Cr([])),i=new Xa(n,e),r=new Xa(n,e+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new kn(new Cr([])),i=new Xa(n,e),r=new Xa(n,e+1);let s=Xi();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Xa(e,0),i=this.Tr.firstAfterOrEqual(n);return null!==i&&e.isEqual(i.key)}}class Xa{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return kn.comparator(e.key,n.key)||ki(e.wr,n.wr)}static Ar(e,n){return ki(e.wr,n.wr)||kn.comparator(e.key,n.key)}}class qxe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new as(Xa.Er)}checkEmpty(e){return ht.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,i,r){const s=this.Sr;this.Sr++;const o=new S$(s,n,i,r);this.mutationQueue.push(o);for(const c of r)this.br=this.br.add(new Xa(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ht.resolve(o)}lookupMutationBatch(e,n){return ht.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=this.vr(n+1),s=r<0?0:r;return ht.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Xa(n,0),r=new Xa(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{const c=this.Dr(o.wr);s.push(c)}),ht.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new as(ki);return n.forEach(r=>{const s=new Xa(r,0),o=new Xa(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{i=i.add(c.wr)})}),ht.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;kn.isDocumentKey(s)||(s=s.child(""));const o=new Xa(new kn(s),0);let c=new as(ki);return this.br.forEachWhile(d=>{const p=d.key.path;return!!i.isPrefixOf(p)&&(p.length===r&&(c=c.add(d.wr)),!0)},o),ht.resolve(this.Cr(c))}Cr(e){const n=[];return e.forEach(i=>{const r=this.Dr(i);null!==r&&n.push(r)}),n}removeMutationBatch(e,n){Qn(0===this.Fr(n.batchId,"removed")),this.mutationQueue.shift();let i=this.br;return ht.forEach(n.mutations,r=>{const s=new Xa(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){const i=new Xa(n,0),r=this.br.firstAfterOrEqual(i);return ht.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return ht.resolve()}Fr(e,n){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Kxe{constructor(e){this.Mr=e,this.docs=new As(kn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ht.resolve(i?i.document.mutableCopy():Us.newInvalidDocument(n))}getEntries(e,n){let i=Lu();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Us.newInvalidDocument(r))}),ht.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Lu();const o=n.path,c=new kn(o.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:p,value:{document:m}}=d.getNext();if(!o.isPrefixOf(p.path))break;p.path.length>o.length+1||l$(Yoe(m),i)<=0||(r.has(m.key)||VP(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return ht.resolve(s)}getAllFromCollectionGroup(e,n,i,r){qn()}Or(e,n){return ht.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new Yxe(this)}getSize(e){return ht.resolve(this.size)}}class Yxe extends qle{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),ht.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}class Xxe{constructor(e){this.persistence=e,this.Nr=new Sv(n=>mE(n),LP),this.lastRemoteSnapshotVersion=oi.min(),this.highestTargetId=0,this.Lr=0,this.Br=new B$,this.targetCount=0,this.kr=SE.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,r)=>n(r)),ht.resolve()}getLastRemoteSnapshotVersion(e){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ht.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),ht.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new SE(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ht.resolve()}updateTargetData(e,n){return this.Kn(n),ht.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ht.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&null===i.get(c.targetId)&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),ht.waitFor(s).next(()=>r)}getTargetCount(e){return ht.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return ht.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),ht.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),ht.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ht.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return ht.resolve(i)}containsKey(e,n){return ht.resolve(this.Br.containsKey(n))}}class H${constructor(e,n){this.qr={},this.overlays={},this.Qr=new gd(0),this.Kr=!1,this.Kr=!0,this.$r=new $xe,this.referenceDelegate=e(this),this.Ur=new Xxe(this),this.indexManager=new Fxe,this.remoteDocumentCache=new Kxe(i=>this.referenceDelegate.Wr(i)),this.serializer=new Sle(n),this.Gr=new zxe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jxe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new qxe(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){on("MemoryPersistence","Starting transaction:",e);const r=new Qxe(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(e,n){return ht.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}}class Qxe extends Qoe{constructor(e){super(),this.currentSequenceNumber=e}}class HV{constructor(e){this.persistence=e,this.Jr=new B$,this.Yr=null}static Zr(e){return new HV(e)}get Xr(){if(this.Yr)return this.Yr;throw qn()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),ht.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),ht.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ht.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.Xr,i=>{const r=kn.fromPath(i);return this.ei(e,r).next(s=>{s||n.removeEntry(r,oi.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ht.or([()=>ht.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class j${constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(e,n){let i=Xi(),r=Xi();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new j$(e,n.fromCache,i,r)}}class Zxe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ece{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function Mie(){return!function obe(){var t;const e=null===(t=Sk())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function Joe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(Zo())>0?6:4}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Zxe;return this.Xi(e,n,o).next(c=>{if(s.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>s.result)}es(e,n,i,r){return i.documentReadCount<this.ji?(mT()<=ir.DEBUG&&on("QueryEngine","SDK will not create cache indexes for query:",IT(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ht.resolve()):(mT()<=ir.DEBUG&&on("QueryEngine","Query:",IT(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(mT()<=ir.DEBUG&&on("QueryEngine","The SDK decides to create cache indexes for query:",IT(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nc(n))):ht.resolve())}Yi(e,n){if(Nae(n))return ht.resolve(null);let i=nc(n);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==n.limit&&1===r&&(n=AV(n,null,"F"),i=nc(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=Xi(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,i).next(d=>{const p=this.ts(n,c);return this.ns(n,p,o,d.readTime)?this.Yi(e,AV(n,null,"F")):this.rs(e,p,n,d)}))})))}Zi(e,n,i,r){return Nae(n)||r.isEqual(oi.min())?ht.resolve(null):this.Ji.getDocuments(e,i).next(s=>{const o=this.ts(n,s);return this.ns(n,o,i,r)?ht.resolve(null):(mT()<=ir.DEBUG&&on("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),IT(n)),this.rs(e,o,n,function Koe(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=oi.fromTimestamp(1e9===i?new Io(n+1,0):new Io(n,i));return new pd(r,kn.empty(),e)}(r,-1)).next(c=>c))})}ts(e,n){let i=new as(Vae(e));return n.forEach((r,s)=>{VP(e,s)&&(i=i.add(s))}),i}ns(e,n,i,r){if(null===e.limit)return!1;if(i.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,n,i){return mT()<=ir.DEBUG&&on("QueryEngine","Using full collection scan to execute query:",IT(n)),this.Ji.getDocumentsMatchingQuery(e,n,pd.min(),i)}rs(e,n,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class e1e{constructor(e,n,i,r){this.persistence=e,this.ss=n,this.serializer=r,this.os=new As(ki),this._s=new Sv(s=>mE(s),LP),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jle(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function nce(t,e){return $$.apply(this,arguments)}function $$(){return $$=(0,te.A)(function*(t,e){const n=Dn(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],c=[];let d=Xi();for(const p of r){o.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}for(const p of s){c.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(i,d).next(p=>({hs:p,removedBatchIds:o,addedBatchIds:c}))})})}),$$.apply(this,arguments)}function ice(t){const e=Dn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function i1e(t,e){const n=Dn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function kT(t,e,n){return q$.apply(this,arguments)}function q$(){return q$=(0,te.A)(function*(t,e,n){const i=Dn(t),r=i.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Dy(o))throw o;on("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.os=i.os.remove(e),i._s.delete(r.target)}),q$.apply(this,arguments)}function zV(t,e,n){const i=Dn(t);let r=oi.min(),s=Xi();return i.persistence.runTransaction("Execute query","readwrite",o=>function(d,p,m){const y=Dn(d),A=y._s.get(m);return void 0!==A?ht.resolve(y.os.get(A)):y.Ur.getTargetData(p,m)}(i,o,nc(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,c.targetId).next(d=>{s=d})}).next(()=>i.ss.getDocumentsMatchingQuery(o,e,n?r:oi.min(),n?s:Xi())).next(c=>(function ace(t,e,n){let i=t.us.get(e)||oi.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.us.set(e,i)}(i,function kae(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),c),{documents:c,Ts:s})))}class J${constructor(){this.activeTargetIds=function b$(){return rxe}()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uce{constructor(){this.so=new J$,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new J$,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class o1e{_o(e){}shutdown(){}}class dce{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){on("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){on("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let qV=null;function e9(){return null===qV?qV=268435456+Math.round(2147483648*Math.random()):qV++,"0x"+qV.toString(16)}const a1e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class l1e{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const rc="WebChannelConnection";class c1e extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${s}`,this.Co="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(n,i,r,s,o){const c=e9(),d=this.xo(n,i.toUriEncodedString());on("RestConnection",`Sending RPC '${n}' ${c}:`,d,r);const p={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(p,s,o),this.No(n,d,p,r).then(m=>(on("RestConnection",`Received RPC '${n}' ${c}: `,m),m),m=>{throw vh("RestConnection",`RPC '${n}' ${c} failed with error: `,m,"url: ",d,"request:",r),m})}Lo(n,i,r,s,o,c){return this.Mo(n,i,r,s,o)}Oo(n,i,r){n["X-Goog-Api-Client"]="gl-js/ fire/"+gT,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}xo(n,i){return`${this.Do}/v1/${i}:${a1e[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,r){const s=e9();return new Promise((o,c)=>{const d=new Voe;d.setWithCredentials(!0),d.listenOnce(Goe.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case gV.NO_ERROR:const m=d.getResponseJson();on(rc,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),o(m);break;case gV.TIMEOUT:on(rc,`RPC '${e}' ${s} timed out`),c(new an(At.DEADLINE_EXCEEDED,"Request time out"));break;case gV.HTTP_ERROR:const y=d.getStatus();if(on(rc,`RPC '${e}' ${s} failed with status:`,y,"response text:",d.getResponseText()),y>0){let A=d.getResponseJson();Array.isArray(A)&&(A=A[0]);const k=A?.error;if(k&&k.status&&k.message){const U=function(Q){const pe=Q.toLowerCase().replace(/_/g,"-");return Object.values(At).indexOf(pe)>=0?pe:At.UNKNOWN}(k.status);c(new an(U,k.message))}else c(new an(At.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new an(At.UNAVAILABLE,"Connection failed."));break;default:qn()}}finally{on(rc,`RPC '${e}' ${s} completed.`)}});const p=JSON.stringify(r);on(rc,`RPC '${e}' ${s} sending request:`,r),d.send(n,"POST",p,i,15)})}Bo(e,n,i){const r=e9(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Uoe(),c=Hoe(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;void 0!==p&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const m=s.join("");on(rc,`Creating RPC '${e}' stream ${r}: ${m}`,d);const y=o.createWebChannel(m,d);let A=!1,k=!1;const U=new l1e({Io:Q=>{k?on(rc,`Not sending because RPC '${e}' stream ${r} is closed:`,Q):(A||(on(rc,`Opening RPC '${e}' stream ${r} transport.`),y.open(),A=!0),on(rc,`RPC '${e}' stream ${r} sending:`,Q),y.send(Q))},To:()=>y.close()}),X=(Q,pe,Ie)=>{Q.listen(pe,ke=>{try{Ie(ke)}catch(tt){setTimeout(()=>{throw tt},0)}})};return X(y,TP.EventType.OPEN,()=>{k||(on(rc,`RPC '${e}' stream ${r} transport opened.`),U.yo())}),X(y,TP.EventType.CLOSE,()=>{k||(k=!0,on(rc,`RPC '${e}' stream ${r} transport closed`),U.So())}),X(y,TP.EventType.ERROR,Q=>{k||(k=!0,vh(rc,`RPC '${e}' stream ${r} transport errored:`,Q),U.So(new an(At.UNAVAILABLE,"The operation could not be completed")))}),X(y,TP.EventType.MESSAGE,Q=>{var pe;if(!k){const Ie=Q.data[0];Qn(!!Ie);const tt=Ie.error||(null===(pe=Ie[0])||void 0===pe?void 0:pe.error);if(tt){on(rc,`RPC '${e}' stream ${r} received error:`,tt);const zt=tt.status;let Ot=function(De){const Ke=ma[De];if(void 0!==Ke)return nle(Ke)}(zt),Se=tt.message;void 0===Ot&&(Ot=At.INTERNAL,Se="Unknown error status: "+zt+" with message "+tt.message),k=!0,U.So(new an(Ot,Se)),y.close()}else on(rc,`RPC '${e}' stream ${r} received:`,Ie),U.bo(Ie)}}),X(c,Boe.STAT_EVENT,Q=>{Q.stat===s$.PROXY?on(rc,`RPC '${e}' stream ${r} detected buffering proxy`):Q.stat===s$.NOPROXY&&on(rc,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{U.wo()},0),U}}function KV(){return typeof document<"u"?document:null}function tM(t){return new vxe(t,!0)}class t9{constructor(e,n,i=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&on("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class fce{constructor(e,n,i,r,s,o,c,d){this.ui=e,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new t9(e,n)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,te.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,te.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){var i=this;return(0,te.A)(function*(){i.u_(),i.c_(),i.t_.cancel(),i.Yo++,4!==e?i.t_.reset():n&&n.code===At.RESOURCE_EXHAUSTED?(ia(n.toString()),ia("Using maximum backoff delay to prevent overloading the backend."),i.t_.Wo()):n&&n.code===At.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.l_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.mo(n)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===n&&this.P_(i,r)},i=>{e(()=>{const r=new an(At.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>1==++this.e_?this.E_(r):this.onNext(r))})}i_(){var e=this;this.state=5,this.t_.Go((0,te.A)(function*(){e.state=0,e.start()}))}I_(e){return on("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(on("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u1e extends fce{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=function Cxe(t,e){let n;if("targetChange"in e){const i="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:qn(),r=e.targetChange.targetIds||[],s=function(p,m){return p.useProto3Json?(Qn(void 0===m||"string"==typeof m),Uo.fromBase64String(m||"")):(Qn(void 0===m||m instanceof Buffer||m instanceof Uint8Array),Uo.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(p){const m=void 0===p.code?At.UNKNOWN:nle(p.code);return new an(m,p.message||"")}(o);n=new ale(i,r,s,c||null)}else if("documentChange"in e){const i=e.documentChange,r=lg(t,i.document.name),s=ra(i.document.updateTime),o=i.document.createTime?ra(i.document.createTime):oi.min(),c=new wl({mapValue:{fields:i.document.fields}}),d=Us.newFoundDocument(r,s,o,c);n=new MV(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){const i=e.documentDelete,r=lg(t,i.document),s=i.readTime?ra(i.readTime):oi.min(),o=Us.newNoDocument(r,s);n=new MV([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const i=e.documentRemove,r=lg(t,i.document);n=new MV([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return qn();{const i=e.filter,{count:r=0,unchangedNames:s}=i,o=new dxe(r,s);n=new ole(i.targetId,o)}}var p;return n}(this.serializer,e),i=function(s){if(!("targetChange"in s))return oi.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?oi.min():o.readTime?ra(o.readTime):oi.min()}(e);return this.listener.d_(n,i)}A_(e){const n={};n.database=P$(this.serializer),n.addTarget=function(s,o){let c;const d=o.target;if(c=IV(d)?{documents:_le(s,d)}:{query:NV(s,d)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=dle(s,o.resumeToken);const p=R$(s,o.expectedCount);null!==p&&(c.expectedCount=p)}else if(o.snapshotVersion.compareTo(oi.min())>0){c.readTime=xT(s,o.snapshotVersion.toTimestamp());const p=R$(s,o.expectedCount);null!==p&&(c.expectedCount=p)}return c}(this.serializer,e);const i=function wxe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qn()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);i&&(n.labels=i),this.a_(n)}R_(e){const n={};n.database=P$(this.serializer),n.removeTarget=e,this.a_(n)}}class d1e extends fce{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Qn(!!e.streamToken),this.lastStreamToken=e.streamToken,Qn(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Qn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=function bxe(t,e){return t&&t.length>0?(Qn(void 0!==e),t.map(n=>function(r,s){let o=ra(r.updateTime?r.updateTime:s);return o.isEqual(oi.min())&&(o=ra(s)),new lxe(o,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),i=ra(e.commitTime);return this.listener.g_(i,n)}p_(){const e={};e.database=P$(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>function qP(t,e){let n;if(e instanceof RT)n={update:mle(t,e.key,e.value)};else if(e instanceof DT)n={delete:$P(t,e.key)};else if(e instanceof Iv)n={update:mle(t,e.key,e.data),updateMask:Txe(e.fieldMask)};else{if(!(e instanceof E$))return qn();n={verify:$P(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const c=o.transform;if(c instanceof TT)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof vE)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof _E)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof AT)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw qn()}(0,i))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:_xe(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:qn()),n;var s}(this.serializer,i))};this.a_(n)}}class h1e extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new an(At.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,x$(n,i),r,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===At.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new an(At.UNKNOWN,s.toString())})}Lo(e,n,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,x$(n,i),r,o,c,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===At.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new an(At.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class f1e{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ia(n),this.D_=!1):on("OnlineStateTracker",n)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class p1e{constructor(e,n,i,r,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(c=>{i.enqueueAndForget((0,te.A)(function*(){var d;Gy(o)&&(on("RemoteStore","Restarting streams for network reachability change."),yield(d=(0,te.A)(function*(m){const y=Dn(m);y.L_.add(4),yield VT(y),y.q_.set("Unknown"),y.L_.delete(4),yield nM(y)}),function p(m){return d.apply(this,arguments)})(o))}))}),this.q_=new f1e(i,r)}}function nM(t){return n9.apply(this,arguments)}function n9(){return n9=(0,te.A)(function*(t){if(Gy(t))for(const e of t.B_)yield e(!0)}),n9.apply(this,arguments)}function VT(t){return i9.apply(this,arguments)}function i9(){return i9=(0,te.A)(function*(t){for(const e of t.B_)yield e(!1)}),i9.apply(this,arguments)}function YV(t,e){const n=Dn(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),o9(n)?s9(n):HT(n).r_()&&r9(n,e))}function GT(t,e){const n=Dn(t),i=HT(n);n.N_.delete(e),i.r_()&&pce(n,e),0===n.N_.size&&(i.r_()?i.o_():Gy(n)&&n.q_.set("Unknown"))}function r9(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oi.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}HT(t).A_(e)}function pce(t,e){t.Q_.xe(e),HT(t).R_(e)}function s9(t){t.Q_=new fxe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),HT(t).start(),t.q_.v_()}function o9(t){return Gy(t)&&!HT(t).n_()&&t.N_.size>0}function Gy(t){return 0===Dn(t).L_.size}function gce(t){t.Q_=void 0}function g1e(t){return a9.apply(this,arguments)}function a9(){return a9=(0,te.A)(function*(t){t.q_.set("Online")}),a9.apply(this,arguments)}function m1e(t){return l9.apply(this,arguments)}function l9(){return l9=(0,te.A)(function*(t){t.N_.forEach((e,n)=>{r9(t,e)})}),l9.apply(this,arguments)}function v1e(t,e){return c9.apply(this,arguments)}function c9(){return c9=(0,te.A)(function*(t,e){gce(t),o9(t)?(t.q_.M_(e),s9(t)):t.q_.set("Unknown")}),c9.apply(this,arguments)}function _1e(t,e,n){return u9.apply(this,arguments)}function u9(){return u9=(0,te.A)(function*(t,e,n){if(t.q_.set("Online"),e instanceof ale&&2===e.state&&e.cause)try{yield(i=(0,te.A)(function*(s,o){const c=o.cause;for(const d of o.targetIds)s.N_.has(d)&&(yield s.remoteSyncer.rejectListen(d,c),s.N_.delete(d),s.Q_.removeTarget(d))}),function r(s,o){return i.apply(this,arguments)})(t,e)}catch(i){on("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield XV(t,i)}else if(e instanceof MV?t.Q_.Ke(e):e instanceof ole?t.Q_.He(e):t.Q_.We(e),!n.isEqual(oi.min()))try{const i=yield ice(t.localStore);n.compareTo(i)>=0&&(yield function(s,o){const c=s.Q_.rt(o);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=s.N_.get(p);m&&s.N_.set(p,m.withResumeToken(d.resumeToken,o))}}),c.targetMismatches.forEach((d,p)=>{const m=s.N_.get(d);if(!m)return;s.N_.set(d,m.withResumeToken(Uo.EMPTY_BYTE_STRING,m.snapshotVersion)),pce(s,d);const y=new Tv(m.target,d,p,m.sequenceNumber);r9(s,y)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(i){on("RemoteStore","Failed to raise snapshot:",i),yield XV(t,i)}var i}),u9.apply(this,arguments)}function XV(t,e,n){return d9.apply(this,arguments)}function d9(){return d9=(0,te.A)(function*(t,e,n){if(!Dy(e))throw e;t.L_.add(1),yield VT(t),t.q_.set("Offline"),n||(n=()=>ice(t.localStore)),t.asyncQueue.enqueueRetryable((0,te.A)(function*(){on("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield nM(t)}))}),d9.apply(this,arguments)}function mce(t,e){return e().catch(n=>XV(t,n,e))}function BT(t){return h9.apply(this,arguments)}function h9(){return h9=(0,te.A)(function*(t){const e=Dn(t),n=By(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;y1e(e);)try{const r=yield i1e(e.localStore,i);if(null===r){0===e.O_.length&&n.o_();break}i=r.batchId,C1e(e,r)}catch(r){yield XV(e,r)}vce(e)&&_ce(e)}),h9.apply(this,arguments)}function y1e(t){return Gy(t)&&t.O_.length<10}function C1e(t,e){t.O_.push(e);const n=By(t);n.r_()&&n.V_&&n.m_(e.mutations)}function vce(t){return Gy(t)&&!By(t).n_()&&t.O_.length>0}function _ce(t){By(t).start()}function b1e(t){return f9.apply(this,arguments)}function f9(){return f9=(0,te.A)(function*(t){By(t).p_()}),f9.apply(this,arguments)}function w1e(t){return p9.apply(this,arguments)}function p9(){return p9=(0,te.A)(function*(t){const e=By(t);for(const n of t.O_)e.m_(n.mutations)}),p9.apply(this,arguments)}function E1e(t,e,n){return g9.apply(this,arguments)}function g9(){return g9=(0,te.A)(function*(t,e,n){const i=t.O_.shift(),r=I$.from(i,e,n);yield mce(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield BT(t)}),g9.apply(this,arguments)}function S1e(t,e){return m9.apply(this,arguments)}function m9(){return m9=(0,te.A)(function*(t,e){var n;e&&By(t).V_&&(yield(n=(0,te.A)(function*(r,s){if(function tle(t){switch(t){default:return qn();case At.CANCELLED:case At.UNKNOWN:case At.DEADLINE_EXCEEDED:case At.RESOURCE_EXHAUSTED:case At.INTERNAL:case At.UNAVAILABLE:case At.UNAUTHENTICATED:return!1;case At.INVALID_ARGUMENT:case At.NOT_FOUND:case At.ALREADY_EXISTS:case At.PERMISSION_DENIED:case At.FAILED_PRECONDITION:case At.ABORTED:case At.OUT_OF_RANGE:case At.UNIMPLEMENTED:case At.DATA_LOSS:return!0}}(c=s.code)&&c!==At.ABORTED){const o=r.O_.shift();By(r).s_(),yield mce(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield BT(r)}var c}),function i(r,s){return n.apply(this,arguments)})(t,e)),vce(t)&&_ce(t)}),m9.apply(this,arguments)}function yce(t,e){return v9.apply(this,arguments)}function v9(){return v9=(0,te.A)(function*(t,e){const n=Dn(t);n.asyncQueue.verifyOperationInProgress(),on("RemoteStore","RemoteStore received new credentials");const i=Gy(n);n.L_.add(3),yield VT(n),i&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield nM(n)}),v9.apply(this,arguments)}function y9(){return y9=(0,te.A)(function*(t,e){const n=Dn(t);e?(n.L_.delete(2),yield nM(n)):e||(n.L_.add(2),yield VT(n),n.q_.set("Unknown"))}),y9.apply(this,arguments)}function HT(t){return t.K_||(t.K_=function(n,i,r){const s=Dn(n);return s.w_(),new u1e(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Eo:g1e.bind(null,t),Ro:m1e.bind(null,t),mo:v1e.bind(null,t),d_:_1e.bind(null,t)}),t.B_.push(function(){var e=(0,te.A)(function*(n){n?(t.K_.s_(),o9(t)?s9(t):t.q_.set("Unknown")):(yield t.K_.stop(),gce(t))});return function(n){return e.apply(this,arguments)}}())),t.K_}function By(t){return t.U_||(t.U_=function(n,i,r){const s=Dn(n);return s.w_(),new d1e(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:b1e.bind(null,t),mo:S1e.bind(null,t),f_:w1e.bind(null,t),g_:E1e.bind(null,t)}),t.B_.push(function(){var e=(0,te.A)(function*(n){n?(t.U_.s_(),yield BT(t)):(yield t.U_.stop(),t.O_.length>0&&(on("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))});return function(n){return e.apply(this,arguments)}}())),t.U_}class C9{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ya,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,c=new C9(e,n,o,r,s);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new an(At.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function UT(t,e){if(ia("AsyncQueue",`${e}: ${t}`),Dy(t))return new an(At.UNAVAILABLE,`${e}: ${t}`);throw t}class WT{constructor(e){this.comparator=e?(n,i)=>e(n,i)||kn.comparator(n.key,i.key):(n,i)=>kn.comparator(n.key,i.key),this.keyedMap=GP(),this.sortedSet=new As(this.comparator)}static emptySet(e){return new WT(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof WT)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const i=new WT;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class Cce{constructor(){this.W_=new As(kn.comparator)}track(e){const n=e.doc.key,i=this.W_.get(n);i?0!==e.type&&3===i.type?this.W_=this.W_.insert(n,e):3===e.type&&1!==i.type?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.W_=this.W_.remove(n):1===e.type&&2===i.type?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):qn():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}}class zT{constructor(e,n,i,r,s,o,c,d,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new zT(e,n,WT.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kP(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}class I1e{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class T1e{constructor(){this.queries=bce(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(n,i){const r=Dn(n),s=r.queries;r.queries=bce(),s.forEach((o,c)=>{for(const d of c.j_)d.onError(i)})}(this,new an(At.ABORTED,"Firestore shutting down"))}}function bce(){return new Sv(t=>Lae(t),kP)}function w9(){return w9=(0,te.A)(function*(t,e){const n=Dn(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.H_()&&e.J_()&&(i=2):(s=new I1e,i=e.J_()?0:1);try{switch(i){case 0:s.z_=yield n.onListen(r,!0);break;case 1:s.z_=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(o){const c=UT(o,`Initialization of query '${IT(e.query)}' failed`);return void e.onError(c)}n.queries.set(r,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&I9(n)}),w9.apply(this,arguments)}function S9(){return S9=(0,te.A)(function*(t,e){const n=Dn(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),0===s.j_.length?r=e.J_()?0:1:!s.H_()&&e.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}),S9.apply(this,arguments)}function A1e(t,e){const n=Dn(t);let i=!1;for(const r of e){const o=n.queries.get(r.query);if(o){for(const c of o.j_)c.X_(r)&&(i=!0);o.z_=r}}i&&I9(n)}function R1e(t,e,n){const i=Dn(t),r=i.queries.get(e);if(r)for(const s of r.j_)s.onError(n);i.queries.delete(e)}function I9(t){t.Y_.forEach(e=>{e.next()})}var T9,wce;(wce=T9||(T9={})).ea="default",wce.Cache="cache";class A9{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new zT(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=zT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==T9.Cache}}class Ice{constructor(e){this.key=e}}class Tce{constructor(e){this.key=e}}class Ace{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Xi(),this.mutatedKeys=Xi(),this.Aa=Vae(e),this.Ra=new WT(this.Aa)}get Va(){return this.Ta}ma(e,n){const i=n?n.fa:new Cce,r=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,c=!1;const d="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,p="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((m,y)=>{const A=r.get(m),k=VP(this.query,y)?y:null,U=!!A&&this.mutatedKeys.has(A.key),X=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let Q=!1;A&&k?A.data.isEqual(k.data)?U!==X&&(i.track({type:3,doc:k}),Q=!0):this.ga(A,k)||(i.track({type:2,doc:k}),Q=!0,(d&&this.Aa(k,d)>0||p&&this.Aa(k,p)<0)&&(c=!0)):!A&&k?(i.track({type:0,doc:k}),Q=!0):A&&!k&&(i.track({type:1,doc:A}),Q=!0,(d||p)&&(c=!0)),Q&&(k?(o=o.add(k),s=X?s.add(m):s.delete(m)):(o=o.delete(m),s=s.delete(m)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const m="F"===this.query.limitType?o.last():o.first();o=o.delete(m.key),s=s.delete(m.key),i.track({type:1,doc:m})}return{Ra:o,fa:i,ns:c,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((m,y)=>function(k,U){const X=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qn()}};return X(k)-X(U)}(m.type,y.type)||this.Aa(m.doc,y.doc)),this.pa(i),r=null!=r&&r;const c=n&&!r?this.ya():[],d=0===this.da.size&&this.current&&!r?1:0,p=d!==this.Ea;return this.Ea=d,0!==o.length||p?{snapshot:new zT(this.query,e.Ra,s,o,e.mutatedKeys,0===d,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Cce,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Xi(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return e.forEach(i=>{this.da.has(i)||n.push(new Tce(i))}),this.da.forEach(i=>{e.has(i)||n.push(new Ice(i))}),n}ba(e){this.Ta=e.Ts,this.da=Xi();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return zT.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class P1e{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class M1e{constructor(e){this.key=e,this.va=!1}}class N1e{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Sv(c=>Lae(c),kP),this.Ma=new Map,this.xa=new Set,this.Oa=new As(kn.comparator),this.Na=new Map,this.La=new B$,this.Ba={},this.ka=new Map,this.qa=SE.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function O1e(t,e){return R9.apply(this,arguments)}function R9(){return R9=(0,te.A)(function*(t,e,n=!0){const i=QV(t);let r;const s=i.Fa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=yield Rce(i,e,n,!0),r}),R9.apply(this,arguments)}function F1e(t,e){return D9.apply(this,arguments)}function D9(){return D9=(0,te.A)(function*(t,e){const n=QV(t);yield Rce(n,e,!0,!1)}),D9.apply(this,arguments)}function Rce(t,e,n,i){return x9.apply(this,arguments)}function x9(){return x9=(0,te.A)(function*(t,e,n,i){const r=yield function LT(t,e){const n=Dn(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ur.getTargetData(i,e).next(s=>s?(r=s,ht.resolve(r)):n.Ur.allocateTargetId(i).next(o=>(r=new Tv(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.os.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}(t.localStore,nc(e)),s=r.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let c;return i&&(c=yield function P9(t,e,n,i,r){return M9.apply(this,arguments)}(t,e,s,"current"===o,r.resumeToken)),t.isPrimaryClient&&n&&YV(t.remoteStore,r),c}),x9.apply(this,arguments)}function M9(){return M9=(0,te.A)(function*(t,e,n,i,r){t.Ka=(y,A,k)=>{return(U=(0,te.A)(function*(Q,pe,Ie,ke){let tt=pe.view.ma(Ie);tt.ns&&(tt=yield zV(Q.localStore,pe.query,!1).then(({documents:me})=>pe.view.ma(me,tt)));const zt=ke&&ke.targetChanges.get(pe.targetId),Ot=ke&&null!=ke.targetMismatches.get(pe.targetId),Se=pe.view.applyChanges(tt,Q.isPrimaryClient,zt,Ot);return W9(Q,pe.targetId,Se.wa),Se.snapshot}),function X(Q,pe,Ie,ke){return U.apply(this,arguments)})(t,y,A,k);var U};const s=yield zV(t.localStore,e,!0),o=new Ace(e,s.Ts),c=o.ma(s.documents),d=jP.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState,r),p=o.applyChanges(c,t.isPrimaryClient,d);W9(t,n,p.wa);const m=new P1e(e,n,o);return t.Fa.set(e,m),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),p.snapshot}),M9.apply(this,arguments)}function L1e(t,e,n){return N9.apply(this,arguments)}function N9(){return N9=(0,te.A)(function*(t,e,n){const i=Dn(t),r=i.Fa.get(e),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!kP(o,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield kT(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&GT(i.remoteStore,r.targetId),jT(i,r.targetId)}).catch(Ry))):(jT(i,r.targetId),yield kT(i.localStore,r.targetId,!0))}),N9.apply(this,arguments)}function k1e(t,e){return O9.apply(this,arguments)}function O9(){return O9=(0,te.A)(function*(t,e){const n=Dn(t),i=n.Fa.get(e),r=n.Ma.get(i.targetId);n.isPrimaryClient&&1===r.length&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),GT(n.remoteStore,i.targetId))}),O9.apply(this,arguments)}function F9(){return F9=(0,te.A)(function*(t,e,n){const i=function eq(t){const e=Dn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B1e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H1e.bind(null,e),e}(t);try{const r=yield function(o,c){const d=Dn(o),p=Io.now(),m=c.reduce((k,U)=>k.add(U.key),Xi());let y,A;return d.persistence.runTransaction("Locally write mutations","readwrite",k=>{let U=Lu(),X=Xi();return d.cs.getEntries(k,m).next(Q=>{U=Q,U.forEach((pe,Ie)=>{Ie.isValidDocument()||(X=X.add(pe))})}).next(()=>d.localDocuments.getOverlayedDocuments(k,U)).next(Q=>{y=Q;const pe=[];for(const Ie of c){const ke=uxe(Ie,y.get(Ie.key).overlayedDocument);null!=ke&&pe.push(new Iv(Ie.key,ke,Cae(ke.value.mapValue),co.exists(!0)))}return d.mutationQueue.addMutationBatch(k,p,pe,c)}).next(Q=>{A=Q;const pe=Q.applyToLocalDocumentSet(y,X);return d.documentOverlayCache.saveOverlays(k,Q.batchId,pe)})}).then(()=>({batchId:A.batchId,changes:Bae(y)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,d){let p=o.Ba[o.currentUser.toKey()];p||(p=new As(ki)),p=p.insert(c,d),o.Ba[o.currentUser.toKey()]=p}(i,r.batchId,n),yield Av(i,r.changes),yield BT(i.remoteStore)}catch(r){const s=UT(r,"Failed to persist write");n.reject(s)}}),F9.apply(this,arguments)}function Dce(t,e){return L9.apply(this,arguments)}function L9(){return L9=(0,te.A)(function*(t,e){const n=Dn(t);try{const i=yield function n1e(t,e){const n=Dn(t),i=e.snapshotVersion;let r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;const c=[];e.targetChanges.forEach((m,y)=>{const A=r.get(y);if(!A)return;c.push(n.Ur.removeMatchingKeys(s,m.removedDocuments,y).next(()=>n.Ur.addMatchingKeys(s,m.addedDocuments,y)));let k=A.withSequenceNumber(s.currentSequenceNumber);var X,Q,pe;null!==e.targetMismatches.get(y)?k=k.withResumeToken(Uo.EMPTY_BYTE_STRING,oi.min()).withLastLimboFreeSnapshotVersion(oi.min()):m.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(m.resumeToken,i)),r=r.insert(y,k),Q=k,pe=m,(0===(X=A).resumeToken.approximateByteSize()||Q.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=3e8||pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0)&&c.push(n.Ur.updateTargetData(s,k))});let d=Lu(),p=Xi();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))}),c.push(function rce(t,e,n){let i=Xi(),r=Xi();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=Lu();return n.forEach((c,d)=>{const p=s.get(c);d.isFoundDocument()!==p.isFoundDocument()&&(r=r.add(c)),d.isNoDocument()&&d.version.isEqual(oi.min())?(e.removeEntry(c,d.readTime),o=o.insert(c,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||0===d.version.compareTo(p.version)&&p.hasPendingWrites?(e.addEntry(d),o=o.insert(c,d)):on("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",d.version)}),{Ps:o,Is:r}})}(s,o,e.documentUpdates).next(m=>{d=m.Ps,p=m.Is})),!i.isEqual(oi.min())){const m=n.Ur.getLastRemoteSnapshotVersion(s).next(y=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(m)}return ht.waitFor(c).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,d,p)).next(()=>d)}).then(s=>(n.os=r,s))}(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.Na.get(s);o&&(Qn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?Qn(o.va):r.removedDocuments.size>0&&(Qn(o.va),o.va=!1))}),yield Av(n,i,e)}catch(i){yield Ry(i)}}),L9.apply(this,arguments)}function xce(t,e,n){const i=Dn(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const r=[];i.Fa.forEach((s,o)=>{const c=o.view.Z_(e);c.snapshot&&r.push(c.snapshot)}),function(o,c){const d=Dn(o);d.onlineState=c;let p=!1;d.queries.forEach((m,y)=>{for(const A of y.j_)A.Z_(c)&&(p=!0)}),p&&I9(d)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function G1e(t,e,n){return k9.apply(this,arguments)}function k9(){return k9=(0,te.A)(function*(t,e,n){const i=Dn(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Na.get(e),s=r&&r.key;if(s){let o=new As(kn.comparator);o=o.insert(s,Us.newNoDocument(s,oi.min()));const c=Xi().add(s),d=new zP(oi.min(),new Map,new As(ki),o,c);yield Dce(i,d),i.Oa=i.Oa.remove(s),i.Na.delete(e),z9(i)}else yield kT(i.localStore,e,!1).then(()=>jT(i,e,n)).catch(Ry)}),k9.apply(this,arguments)}function B1e(t,e){return V9.apply(this,arguments)}function V9(){return V9=(0,te.A)(function*(t,e){const n=Dn(t),i=e.batch.batchId;try{const r=yield function t1e(t,e){const n=Dn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,d,p,m){const y=p.batch,A=y.keys();let k=ht.resolve();return A.forEach(U=>{k=k.next(()=>m.getEntry(d,U)).next(X=>{const Q=p.docVersions.get(U);Qn(null!==Q),X.version.compareTo(Q)<0&&(y.applyToRemoteDocument(X,p),X.isValidDocument()&&(X.setReadTime(p.commitVersion),m.addEntry(X)))})}),k.next(()=>c.mutationQueue.removeMutationBatch(d,y))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=Xi();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}(n.localStore,e);U9(n,i,null),H9(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield Av(n,r)}catch(r){yield Ry(r)}}),V9.apply(this,arguments)}function H1e(t,e,n){return G9.apply(this,arguments)}function G9(){return G9=(0,te.A)(function*(t,e,n){const i=Dn(t);try{const r=yield function(o,c){const d=Dn(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return d.mutationQueue.lookupMutationBatch(p,c).next(y=>(Qn(null!==y),m=y.keys(),d.mutationQueue.removeMutationBatch(p,y))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>d.localDocuments.getDocuments(p,m))})}(i.localStore,e);U9(i,e,n),H9(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield Av(i,r)}catch(r){yield Ry(r)}}),G9.apply(this,arguments)}function H9(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function U9(t,e,n){const i=Dn(t);let r=i.Ba[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function jT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(i=>{t.La.containsKey(i)||Pce(t,i)})}function Pce(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);null!==n&&(GT(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),z9(t))}function W9(t,e,n){for(const i of n)i instanceof Ice?(t.La.addReference(i.key,e),W1e(t,i)):i instanceof Tce?(on("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||Pce(t,i.key)):qn()}function W1e(t,e){const n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(on("SyncEngine","New document in limbo: "+n),t.xa.add(i),z9(t))}function z9(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new kn(Cr.fromString(e)),i=t.qa.next();t.Na.set(i,new M1e(n)),t.Oa=t.Oa.insert(n,i),YV(t.remoteStore,new Tv(nc(ET(n.path)),i,"TargetPurposeLimboResolution",gd.oe))}}function Av(t,e,n){return j9.apply(this,arguments)}function j9(){return j9=(0,te.A)(function*(t,e,n){const i=Dn(t),r=[],s=[],o=[];var c;i.Fa.isEmpty()||(i.Fa.forEach((c,d)=>{o.push(i.Ka(d,e,n).then(p=>{var m;if((p||n)&&i.isPrimaryClient){const y=p?!p.fromCache:null===(m=n?.targetChanges.get(d.targetId))||void 0===m?void 0:m.current;i.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){r.push(p);const y=j$.Wi(d.targetId,p);s.push(y)}}))}),yield Promise.all(o),i.Ca.d_(r),yield(c=(0,te.A)(function*(p,m){const y=Dn(p);try{yield y.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ht.forEach(m,k=>ht.forEach(k.$i,U=>y.persistence.referenceDelegate.addReference(A,k.targetId,U)).next(()=>ht.forEach(k.Ui,U=>y.persistence.referenceDelegate.removeReference(A,k.targetId,U)))))}catch(A){if(!Dy(A))throw A;on("LocalStore","Failed to update sequence numbers: "+A)}for(const A of m){const k=A.targetId;if(!A.fromCache){const U=y.os.get(k),Q=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);y.os=y.os.insert(k,Q)}}}),function d(p,m){return c.apply(this,arguments)})(i.localStore,s))}),j9.apply(this,arguments)}function z1e(t,e){return $9.apply(this,arguments)}function $9(){return $9=(0,te.A)(function*(t,e){const n=Dn(t);if(!n.currentUser.isEqual(e)){on("SyncEngine","User change. New user:",e.toKey());const i=yield nce(n.localStore,e);n.currentUser=e,(s=n).ka.forEach(c=>{c.forEach(d=>{d.reject(new an(At.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ka.clear(),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Av(n,i.hs)}var s}),$9.apply(this,arguments)}function j1e(t,e){const n=Dn(t),i=n.Na.get(e);if(i&&i.va)return Xi().add(i.key);{let r=Xi();const s=n.Ma.get(e);if(!s)return r;for(const o of s){const c=n.Fa.get(o);r=r.unionWith(c.view.Va)}return r}}function QV(t){const e=Dn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dce.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=j1e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=G1e.bind(null,e),e.Ca.d_=A1e.bind(null,e.eventManager),e.Ca.$a=R1e.bind(null,e.eventManager),e}let $T=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){var i=this;return(0,te.A)(function*(){i.serializer=tM(n.databaseInfo.databaseId),i.sharedClientState=i.Wa(n),i.persistence=i.Ga(n),yield i.persistence.start(),i.localStore=i.za(n),i.gcScheduler=i.ja(n,i.localStore),i.indexBackfillerScheduler=i.Ha(n,i.localStore)})()}ja(n,i){return null}Ha(n,i){return null}za(n){return function tce(t,e,n,i){return new e1e(t,e,n,i)}(this.persistence,new ece,n.initialUser,this.serializer)}Ga(n){return new H$(HV.Zr,this.serializer)}Wa(n){return new uce}terminate(){var n=this;return(0,te.A)(function*(){var i,r;null===(i=n.gcScheduler)||void 0===i||i.stop(),null===(r=n.indexBackfillerScheduler)||void 0===r||r.stop(),n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}return t.provider={build:()=>new t},t})(),qT=(()=>{class t{initialize(n,i){var r=this;return(0,te.A)(function*(){r.localStore||(r.localStore=n.localStore,r.sharedClientState=n.sharedClientState,r.datastore=r.createDatastore(i),r.remoteStore=r.createRemoteStore(i),r.eventManager=r.createEventManager(i),r.syncEngine=r.createSyncEngine(i,!n.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>xce(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=z1e.bind(null,r.syncEngine),yield function _9(t,e){return y9.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(n){return new T1e}createDatastore(n){const i=tM(n.databaseInfo.databaseId),r=new c1e(n.databaseInfo);return new h1e(n.authCredentials,n.appCheckCredentials,r,i)}createRemoteStore(n){return r=this.localStore,s=this.datastore,o=n.asyncQueue,c=i=>xce(this.syncEngine,i,0),d=dce.D()?new dce:new o1e,new p1e(r,s,o,c,d);var r,s,o,c,d}createSyncEngine(n,i){return function(s,o,c,d,p,m,y){const A=new N1e(s,o,c,d,p,m);return y&&(A.Qa=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,i)}terminate(){var n=this;return(0,te.A)(function*(){var i,r,s;yield(s=(0,te.A)(function*(c){const d=Dn(c);on("RemoteStore","RemoteStore shutting down."),d.L_.add(5),yield VT(d),d.k_.shutdown(),d.q_.set("Unknown")}),function o(c){return s.apply(this,arguments)})(n.remoteStore),null===(i=n.datastore)||void 0===i||i.terminate(),null===(r=n.eventManager)||void 0===r||r.terminate()})()}}return t.provider={build:()=>new t},t})();class JV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ia("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}class rPe{constructor(e,n,i,r,s){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Ka.UNAUTHENTICATED,this.clientId=$oe.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,function(){var c=(0,te.A)(function*(d){on("FirestoreClient","Received user=",d.uid),yield o.authCredentialListener(d),o.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(on("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ya;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,te.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(i){const r=UT(i,"Failed to shutdown persistence");n.reject(r)}})),n.promise}}function nq(t,e){return iq.apply(this,arguments)}function iq(){return iq=(0,te.A)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),on("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(function(){var r=(0,te.A)(function*(s){i.isEqual(s)||(yield nce(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),iq.apply(this,arguments)}function Lce(t,e){return rq.apply(this,arguments)}function rq(){return rq=(0,te.A)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function sq(t){return oq.apply(this,arguments)}(t);on("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>yce(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>yce(e.remoteStore,r)),t._onlineComponents=e}),rq.apply(this,arguments)}function oq(){return oq=(0,te.A)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){on("FirestoreClient","Using user provided OfflineComponentProvider");try{yield nq(t,t._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(r=e).name?r.code===At.FAILED_PRECONDITION||r.code===At.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code))throw e;vh("Error using user provided cache. Falling back to memory cache: "+e),yield nq(t,new $T)}}else on("FirestoreClient","Using default OfflineComponentProvider"),yield nq(t,new $T);var r;return t._offlineComponents}),oq.apply(this,arguments)}function ZV(t){return aq.apply(this,arguments)}function aq(){return aq=(0,te.A)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(on("FirestoreClient","Using user provided OnlineComponentProvider"),yield Lce(t,t._uninitializedComponentsProvider._online)):(on("FirestoreClient","Using default OnlineComponentProvider"),yield Lce(t,new qT))),t._onlineComponents}),aq.apply(this,arguments)}function cq(){return cq=(0,te.A)(function*(t){const e=yield ZV(t),n=e.eventManager;return n.onListen=O1e.bind(null,e.syncEngine),n.onUnlisten=L1e.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=F1e.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=k1e.bind(null,e.syncEngine),n}),cq.apply(this,arguments)}function Hce(t,e,n={}){const i=new Ya;return t.asyncQueue.enqueueAndForget((0,te.A)(function*(){return function(s,o,c,d,p){const m=new JV({next:A=>{m.Za(),o.enqueueAndForget(()=>function E9(t,e){return S9.apply(this,arguments)}(s,y)),A.fromCache&&"server"===d.source?p.reject(new an(At.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),y=new A9(c,m,{includeMetadataChanges:!0,_a:!0});return function b9(t,e){return w9.apply(this,arguments)}(s,y)}(yield function YT(t){return cq.apply(this,arguments)}(t),t.asyncQueue,e,n,i)})),i.promise}function Uce(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Wce=new Map;function uq(t,e,n){if(!n)throw new an(At.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zce(t){if(!kn.isDocumentKey(t))throw new an(At.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jce(t){if(kn.isDocumentKey(t))throw new an(At.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function e5(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(i=t).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof t?"a function":qn()}function mr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new an(At.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=e5(t);throw new an(At.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class qce{constructor(e){var n,i;if(void 0===e.host){if(void 0!==e.ssl)throw new an(At.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new an(At.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function mPe(t,e,n,i){if(!0===e&&!0===i)throw new an(At.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Uce(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new an(At.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new an(At.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new an(At.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iM{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qce({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new an(At.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new an(At.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qce(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new cDe;switch(i.type){case"firstParty":return new fDe(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new an(At.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,te.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Wce.get(n);i&&(on("ComponentProvider","Removing Datastore"),Wce.delete(n),i.terminate())}(this),Promise.resolve()}}class El{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new El(this.firestore,e,this._query)}}class sa{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sa(this.firestore,e,this._key)}}class cg extends El{constructor(e,n,i){super(e,n,ET(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sa(this.firestore,null,new kn(e))}withConverter(e){return new cg(this.firestore,e,this._path)}}function _Pe(t,e,...n){if(t=Hr(t),uq("collection","path",e),t instanceof iM){const i=Cr.fromString(e,...n);return jce(i),new cg(t,null,i)}{if(!(t instanceof sa||t instanceof cg))throw new an(At.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Cr.fromString(e,...n));return jce(i),new cg(t.firestore,null,i)}}function Kce(t,e,...n){if(t=Hr(t),1===arguments.length&&(e=$oe.newId()),uq("doc","path",e),t instanceof iM){const i=Cr.fromString(e,...n);return zce(i),new sa(t,null,new kn(i))}{if(!(t instanceof sa||t instanceof cg))throw new an(At.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Cr.fromString(e,...n));return zce(i),new sa(t.firestore,t instanceof cg?t.converter:null,new kn(i))}}class Xce{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new t9(this,"async_queue_retry"),this.Vu=()=>{const i=KV();i&&on("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=KV();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=KV();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ya;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,te.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(n){if(!Dy(n))throw n;on("AsyncQueue","Operation failed with retryable error: "+n)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(i=>{throw this.Eu=i,this.du=!1,ia("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(i)),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const r=C9.createAndSchedule(this,e,n,i,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&qn()}verifyOperationInProgress(){}wu(){var e=this;return(0,te.A)(function*(){let n;do{n=e.mu,yield n}while(n!==e.mu)})()}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class _s extends iM{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new Xce,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,te.A)(function*(){if(e._firestoreClient){const n=e._firestoreClient.terminate();e._queue=new Xce(n),e._firestoreClient=void 0,yield n}})()}}function CPe(t,e){const i="string"==typeof t?t:e||"(default)",r=Pu("object"==typeof t?t:eg(),"firestore").getImmediate({identifier:i});if(!r._initialized){const s=Ik("firestore");s&&function vPe(t,e,n,i={}){var r;const s=(t=mr(t,iM))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&vh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=Ka.MOCK_USER;else{c=sW(i.mockUserToken,null===(r=t._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new an(At.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Ka(p)}t._authCredentials=new uDe(new zoe(c,d))}}(r,...s)}return r}function To(t){if(t._terminated)throw new an(At.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||function Qce(t){var e,n,i;const r=t._freezeSettings(),s=(d=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new WDe(t._databaseId,d,t._persistenceKey,(m=r).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Uce(m.experimentalLongPollingOptions),m.useFetchStreams));var d,m;t._componentsProvider||!(null===(n=r.localCache)||void 0===n)&&n._offlineComponentProvider&&!(null===(i=r.localCache)||void 0===i)&&i._onlineComponentProvider&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new rPe(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){const d=c?._online.build();return{_offline:c?._offline.build(d),_online:d}}(t._componentsProvider))}(t),t._firestoreClient}class TE{constructor(e){this._byteString=e}static fromBase64String(e){try{return new TE(Uo.fromBase64String(e))}catch(n){throw new an(At.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new TE(Uo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class AE{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new an(At.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ao(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class XT{constructor(e){this._methodName=e}}class fq{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new an(At.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new an(At.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ki(this._lat,e._lat)||ki(this._long,e._long)}}class t5{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}}const wPe=/^__.*__$/;class Zce{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Iv(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eue(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qn()}}class n5{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n5(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const i=null===(n=this.path)||void 0===n?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var n;const i=null===(n=this.path)||void 0===n?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return s5(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(eue(this.Cu)&&wPe.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class SPe{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||tM(e)}Qu(e,n,i,r=!1){return new n5({Cu:e,methodName:n,qu:i,path:ao.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}class sM extends XT{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sM}}function DE(t,e){if(rue(t=Hr(t)))return Cq("Unsupported field value:",e,t),function iue(t,e){const n={};return cae(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xy(t,(i,r)=>{const s=DE(r,e.Mu(i));null!=s&&(n[i]=s)}),{mapValue:{fields:n}}}(t,e);if(t instanceof XT)return function(i,r){if(!eue(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const c of i){let d=DE(c,r.Lu(o));null==d&&(d={nullValue:"NULL_VALUE"}),s.push(d),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if(null===(i=Hr(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return Wae(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const s=Io.fromDate(i);return{timestampValue:xT(r.serializer,s)}}if(i instanceof Io){const s=new Io(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:xT(r.serializer,s)}}if(i instanceof fq)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof TE)return{bytesValue:dle(r.serializer,i._byteString)};if(i instanceof sa){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:D$(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof t5)return c=r,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:i.toArray().map(d=>{if("number"!=typeof d)throw c.Bu("VectorValues must only contain numeric values.");return w$(c.serializer,d)})}}}}};var c;throw r.Bu(`Unsupported field value: ${e5(i)}`)}(t,e)}function rue(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Io||t instanceof fq||t instanceof TE||t instanceof sa||t instanceof XT||t instanceof t5)}function Cq(t,e,n){if(!rue(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=e5(n);throw e.Bu("an object"===i?t+" a custom object":t+" "+i)}var r}function oM(t,e,n){if((e=Hr(e))instanceof AE)return e._internalPath;if("string"==typeof e)return r5(t,e);throw s5("Field path arguments must be of type string or ",t,!1,void 0,n)}const IPe=new RegExp("[~\\*/\\[\\]]");function r5(t,e,n){if(e.search(IPe)>=0)throw s5(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new AE(...e.split("."))._internalPath}catch{throw s5(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function s5(t,e,n,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(s||o)&&(d+=" (found",s&&(d+=` in field ${i}`),o&&(d+=` in document ${r}`),d+=")"),new an(At.INVALID_ARGUMENT,c+t+d)}function sue(t,e){return t.some(n=>n.isEqual(e))}class aM{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new sa(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new TPe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(o5("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class TPe extends aM{data(){return super.data()}}function o5(t,e){return"string"==typeof e?r5(t,e):e instanceof AE?e._internalPath:e._delegate._internalPath}class hue{convertValue(e,n="none"){switch(My(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw qn()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return xy(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var n,i,r;const s=null===(r=null===(i=null===(n=e.fields)||void 0===n?void 0:n.value.arrayValue)||void 0===i?void 0:i.values)||void 0===r?void 0:r.map(o=>lo(o.doubleValue));return new t5(s)}convertGeoPoint(e){return new fq(lo(e.latitude),lo(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=CV(e);return null==i?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(PP(e));default:return null}}convertTimestamp(e){const n=bv(e);return new Io(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Cr.fromString(e);Qn(Ele(i));const r=new pE(i.get(1),i.get(3)),s=new kn(i.popFirst(5));return r.isEqual(n)||ia(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class xE{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class JT extends aM{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new d5(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(o5("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class d5 extends JT{data(e={}){return super.data(e)}}class ZT{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new xE(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new d5(this._firestore,this._userDataWriter,i.key,i,new xE(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new an(At.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new d5(r._firestore,r._userDataWriter,c.doc.key,c.doc,new xE(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||3!==c.type).map(c=>{const d=new d5(r._firestore,r._userDataWriter,c.doc.key,c.doc,new xE(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let p=-1,m=-1;return 0!==c.type&&(p=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),m=o.indexOf(c.doc.key)),{type:DPe(c.type),doc:d,oldIndex:p,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function DPe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qn()}}class Hy extends hue{constructor(e){super(),this.firestore=e}convertBytes(e){return new TE(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sa(this.firestore,null,n)}}function xPe(t){t=mr(t,El);const e=mr(t.firestore,_s),n=To(e),i=new Hy(e);return function oue(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new an(At.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),Hce(n,t._query).then(r=>new ZT(e,i,t,r))}function PPe(t,e,n,...i){t=mr(t,sa);const r=mr(t.firestore,_s),s=function RE(t){const e=t._freezeSettings(),n=tM(t._databaseId);return new SPe(t._databaseId,!!e.ignoreUndefinedProperties,n)}(r);let o;return o="string"==typeof(e=Hr(e))||e instanceof AE?function yq(t,e,n,i,r,s){const o=t.Qu(1,e,n),c=[oM(e,i,n)],d=[r];if(s.length%2!=0)throw new an(At.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<s.length;A+=2)c.push(oM(e,s[A])),d.push(s[A+1]);const p=[],m=wl.empty();for(let A=c.length-1;A>=0;--A)if(!sue(p,c[A])){const k=c[A];let U=d[A];U=Hr(U);const X=o.Nu(k);if(U instanceof sM)p.push(k);else{const Q=DE(U,X);null!=Q&&(p.push(k),m.set(k,Q))}}const y=new Fu(p);return new Zce(m,y,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,i):function _q(t,e,n,i){const r=t.Qu(1,e,n);Cq("Data must be an object, but it was:",r,i);const s=[],o=wl.empty();xy(i,(d,p)=>{const m=r5(e,d,n);p=Hr(p);const y=r.Nu(m);if(p instanceof sM)s.push(m);else{const A=DE(p,y);null!=A&&(s.push(m),o.set(m,A))}});const c=new Fu(s);return new Zce(o,c,r.fieldTransforms)}(s,"updateDoc",t._key,e),function uM(t,e){return function(i,r){const s=new Ya;return i.asyncQueue.enqueueAndForget((0,te.A)(function*(){return function V1e(t,e,n){return F9.apply(this,arguments)}(yield function lq(t){return ZV(t).then(e=>e.syncEngine)}(i),r,s)})),s.promise}(To(t),e)}(r,[o.toMutation(t._key,co.exists(!0))])}!function(e,n=!0){gT=ov,Cl(new ja("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),c=new _s(new dDe(i.getProvider("auth-internal")),new pDe(i.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new an(At.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pE(p.options.projectId,m)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Zi(Woe,"4.7.3",e),Zi(Woe,"4.7.3","esm2017")}();class f5{constructor(e){return e}}const Iq=new h.nKC("angularfire2.firestore-instances");function $Pe(t){return(e,n)=>{const i=e.runOutsideAngular(()=>t(n));return new f5(i)}}const qPe={provide:class zPe{constructor(){return wf("firestore")}},deps:[[new h.Xx1,Iq]]},KPe={provide:f5,useFactory:function jPe(t,e){const n=tg("firestore",t,e);return n&&new f5(n)},deps:[[new h.Xx1,Iq],hd]},XPe=ea(_Pe,!0),QPe=ea(Kce,!0),JPe=ea(xPe,!0),ZPe=ea(CPe,!0),eMe=ea(PPe,!0);let tMe=(()=>{class t{constructor(){this.fireStore=(0,h.WQX)(f5),this.gridOptions={},this.rowData=[],this.colDefs=[{field:"clientName",headerName:"Client Name",flex:1},{field:"billingPeriod",headerName:"Billing Period",flex:1},{field:"total",headerName:"Total",flex:1},{field:"setteled",headerName:"Setteled",flex:1,editable:!0}]}ngOnInit(){this.get()}get(){var n=this;return(0,te.A)(function*(){try{const i=yield JPe(XPe(n.fireStore,"invoices"));n.rowData=[],i.forEach(r=>{const s=r.data();n.rowData.push({id:r.id,...s})})}catch(i){console.error("Error getting documents: ",i)}})()}save(){var n=this;return(0,te.A)(function*(){try{console.log("Saving changes...",n.rowData);for(const i of n.rowData)if(console.log("Saving invoice:",i.id),i.id){const r=QPe(n.fireStore,"invoices",i.id);yield eMe(r,{clientName:i.clientName,billingPeriod:i.billingPeriod,total:i.total,setteled:i.setteled}),console.log("Invoice updated:",i.id)}console.log("All changes saved.")}catch(i){console.error("Error updating invoices:",i)}})()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=h.VBU({type:t,selectors:[["app-history-data"]],standalone:!0,features:[h.aNF],decls:12,vars:3,consts:[[1,"flex","justify-center","items-center","mx-auto","my-10","p-4"],["appearance","outlined",1,"w-full"],[1,"mb-4"],[1,"ag-theme-quartz",2,"height","250px",3,"columnDefs","rowData","gridOptions"],[1,"flex","w-full","justify-center","gap-2","m-3"],["mat-raised-button","","color","primary",3,"click"]],template:function(i,r){1&i&&(h.j41(0,"section",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"mat-card-title"),h.EFF(4,"Invoice History"),h.k0s()(),h.j41(5,"mat-card-content"),h.nrm(6,"ag-grid-angular",3),h.j41(7,"div",4)(8,"button",5),h.bIt("click",function(){return r.save()}),h.EFF(9,"Save"),h.k0s(),h.j41(10,"button",5),h.bIt("click",function(){return r.get()}),h.EFF(11,"Refresh"),h.k0s()()()()()),2&i&&(h.R7$(6),h.Y8G("columnDefs",r.colDefs)("rowData",r.rowData)("gridOptions",r.gridOptions))},dependencies:[y6,fI,Bp,pL,iy,QCe,Bc]})}}return t})();var nMe=Kt(9107),iMe=Kt(4941),rMe=Kt.n(iMe);let vue=(()=>{class t{getClientViewValue(n){const i=this.clients.find(r=>r.value===n);return i?i.viewValue:"Client Name"}constructor(){this.clients=[{value:"yummy",viewValue:"Yummy Bakery and Sweets"},{value:"technozone",viewValue:"Techno Zone"}]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),sMe=(()=>{class t{generateCustomPDF(n){const i=new nMe.default,s=new Image;s.src="assets/images/logo.png",i.addImage(s,"PNG",10,10,10,10),i.text(this.companyName,23,15),i.setFontSize(20),i.text("INVOICE",80,20),i.setFontSize(12),this.generateInvoiceNumber(),this.formatDateForDisplay(),i.text(`Invoice Number: MS-${this.formattedDateForInvoice}`,this.getXPosition(i,`Invoice Number: MS-${this.formattedDateForInvoice}`,"R"),40),i.text(`Date: ${this.formattedDateForDisplay}`,this.getXPosition(i,`Date: ${this.formattedDateForDisplay}`,"R"),50),i.setFontSize(12),i.text(`Client Name: ${this.clientsService.getClientViewValue(n.clientName)}`,10,40),i.text(`Billing Period: ${n.billingPeriod}`,10,50),rMe()(i,{head:[["Service","Price","Discount %","Final Price"]],body:n.services.map(U=>[U.service||"",U.price||"0",this.handleDiscount(U.discount),`${U.finalPrice||"0"}`]),startY:70});const k=i.lastAutoTable.finalY||90;i.text(`Total: ${n.total}`,this.getXPosition(i,`Total: ${n.total}`,"R")-5,k+10),i.text(`Contact: ${this.contact}`,10,k+20),i.text(`Website: ${this.websiteUrl}`,10,k+30),i.save(`invoice-${n.invoiceNumber}.pdf`)}calculateFinalPrice(n,i){return+(n-n*i/100).toFixed(2)}generateInvoiceNumber(){this.formattedDateForInvoice=this.datePipe.transform(this.todayDate,"ddMMyyyyhhmmss"),this.invoiceNumber="MS-"+this.formattedDateForInvoice}formatDateForDisplay(){this.formattedDateForDisplay=this.datePipe.transform(this.todayDate,"dd-MM-yyyy")}getXPosition(n,i,r){const s=n.internal.pageSize.width,o=n.getTextWidth(i);switch(r){case"L":default:return 10;case"C":return(s-o)/2;case"R":return s-o-10}}constructor(n,i){this.datePipe=n,this.clientsService=i,this.websiteUrl="mosahar.com",this.contact="mosahar.boudh@gmail.com",this.companyName="moSahar",this.todayDate=new Date,this.formattedDateForDisplay="",this.formattedDateForInvoice="",this.invoiceNumber=""}handleDiscount(n){return 100===n?"FREE":null===n||0===n?"":"number"==typeof n?`${n}%`:""}static{this.\u0275fac=function(i){return new(i||t)(h.KVO(ws),h.KVO(vue))}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function oMe(t,e){if(1&t&&(h.j41(0,"mat-option",10),h.EFF(1),h.k0s()),2&t){const n=e.$implicit;h.Y8G("value",n.value),h.R7$(),h.JRh(n.viewValue)}}function aMe(t,e){1&t&&(h.j41(0,"th",32),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&t&&(h.R7$(),h.JRh(h.bMT(2,1,"FORM.SERVICE")))}function lMe(t,e){1&t&&(h.j41(0,"td",33),h.nrm(1,"input",34),h.nI1(2,"translate"),h.k0s()),2&t&&(h.Y8G("formGroupName",e.index),h.R7$(),h.Y8G("placeholder",h.bMT(2,2,"FORM.SERVICE")))}function cMe(t,e){1&t&&(h.j41(0,"th",32),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&t&&(h.R7$(),h.JRh(h.bMT(2,1,"FORM.PRICE")))}function uMe(t,e){1&t&&(h.j41(0,"td",33),h.nrm(1,"input",35),h.nI1(2,"translate"),h.k0s()),2&t&&(h.Y8G("formGroupName",e.index),h.R7$(),h.Y8G("placeholder",h.bMT(2,2,"FORM.PRICE")))}function dMe(t,e){1&t&&(h.j41(0,"th",32),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&t&&(h.R7$(),h.SpI("",h.bMT(2,1,"FORM.DISCOUNT PERCENT")," "))}function hMe(t,e){1&t&&(h.j41(0,"td",33),h.nrm(1,"input",36),h.nI1(2,"translate"),h.k0s()),2&t&&(h.Y8G("formGroupName",e.index),h.R7$(),h.Y8G("placeholder",h.bMT(2,2,"FORM.DISCOUNT PERCENT")))}function fMe(t,e){1&t&&(h.j41(0,"th",32),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&t&&(h.R7$(),h.JRh(h.bMT(2,1,"FORM.FINAL PRICE")))}function pMe(t,e){1&t&&(h.j41(0,"td",33),h.nrm(1,"input",37),h.nI1(2,"translate"),h.k0s()),2&t&&(h.Y8G("formGroupName",e.index),h.R7$(),h.Y8G("placeholder",h.bMT(2,2,"FORM.FINAL PRICE")))}function gMe(t,e){1&t&&(h.j41(0,"th",38),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&t&&(h.R7$(),h.JRh(h.bMT(2,1,"FORM.ACTIONS")))}function mMe(t,e){if(1&t){const n=h.RV6();h.j41(0,"td",39)(1,"button",40),h.bIt("click",function(){const r=h.eBV(n).index,s=h.XpG();return h.Njj(s.deleteRow(r))}),h.j41(2,"mat-icon"),h.EFF(3,"delete"),h.k0s()()()}}function vMe(t,e){1&t&&h.nrm(0,"tr",41)}function _Me(t,e){1&t&&h.nrm(0,"tr",42)}let yMe=(()=>{class t{constructor(n,i,r,s){this.datePipe=n,this.invoiceService=i,this.cdr=r,this.clientsService=s,this.clients=this.clientsService.clients,this.displayedColumns=["service","price","discount","finalPrice","actions"],this.dataSource=new sI([]),this.invoiceForm=new fm({clientName:new jl,billingPeriod:new jl,services:new kR([],[Ta.required,this.minOneRowValidator()]),total:new jl({value:0,disabled:!0})}),this.services.valueChanges.subscribe(()=>this.updateTotal())}updateTotal(){let n=this.services.controls.reduce((i,r)=>{const s=r.get("finalPrice")?.value||0;return i+parseFloat(s)},0);n=Math.round(100*n)/100,this.invoiceForm.get("total")?.setValue(n,{emitEvent:!1})}minOneRowValidator(){return n=>n.length>0?null:{minOneRow:!0}}ngOnInit(){this.addNewService()}deleteRow(n){this.services.removeAt(n),this.updateDataSource()}addNewService(){const n=new fm({service:new jl("",Ta.required),price:new jl("",[Ta.required,Ta.min(0)]),discount:new jl("",[Ta.min(0),Ta.max(100)]),finalPrice:new jl({value:"",disabled:!0})}),i=this.services.length;n.get("price")?.valueChanges.subscribe(()=>{this.calculateFinalPrice(i)}),n.get("discount")?.valueChanges.subscribe(()=>{this.calculateFinalPrice(i)}),this.services.push(n),this.updateDataSource()}updateDataSource(){this.dataSource.data=this.services.controls,this.cdr.detectChanges()}onSubmit(){this.invoiceForm.valid?(this.invoiceForm.get("total")?.enable(),this.services.controls.forEach(i=>{i.get("finalPrice")?.enable()}),console.log(this.invoiceForm),this.invoiceService.generateCustomPDF(this.invoiceForm.value),this.invoiceForm.get("total")?.disable(),this.services.controls.forEach(i=>{i.get("finalPrice")?.disable()})):console.log("Form is invalid!")}get services(){return this.invoiceForm.get("services")}calculateFinalPrice(n){const i=this.services.at(n),r=i.get("price")?.value||0,s=i.get("discount")?.value||0;if(r>=0&&s>=0&&s<=100){const o=this.invoiceService.calculateFinalPrice(r,s);i.get("finalPrice")?.setValue(o,{emitEvent:!1})}else i.get("finalPrice")?.setValue(0,{emitEvent:!1});this.updateTotal(),this.updateDataSource()}static{this.\u0275fac=function(i){return new(i||t)(h.rXU(ws),h.rXU(sMe),h.rXU(h.gRc),h.rXU(vue))}}static{this.\u0275cmp=h.VBU({type:t,selectors:[["app-invoice"]],standalone:!0,features:[h.Jv_([ws]),h.aNF],decls:55,vars:24,consts:[["id","main-card",1,"main-card","mt-8"],[1,"form-container"],[1,"flex","flex-col","space-y-6","items-center","relative"],[1,"header-title"],[3,"ngSubmit","formGroup"],["id","header",1,"header-section"],["id","client-details",1,"client-details"],[1,"client-name"],[1,"client-form-field"],["formControlName","clientName","required",""],[3,"value"],[1,"billing-period"],["matInput","","type","text","formControlName","billingPeriod","required",""],["id","service-list","formArrayName","services",1,"scroll-container"],[1,"service-table-container"],["mat-table","",1,"service-table",3,"dataSource"],["matColumnDef","service"],["mat-header-cell","","class","service-header",4,"matHeaderCellDef"],["mat-cell","","class","service-cell",3,"formGroupName",4,"matCellDef"],["matColumnDef","price"],["matColumnDef","discount"],["matColumnDef","finalPrice"],["matColumnDef","actions"],["mat-header-cell","","class","actions-header",4,"matHeaderCellDef"],["mat-cell","","class","actions-cell",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"total-section"],[1,"total-text"],[1,"action-buttons"],["mat-raised-button","","color","primary","type","button",3,"click"],["mat-raised-button","","color","accent","type","submit",3,"disabled"],["mat-header-cell","",1,"service-header"],["mat-cell","",1,"service-cell",3,"formGroupName"],["matInput","","formControlName","service",1,"w-full",3,"placeholder"],["matInput","","type","number","formControlName","price",1,"w-full",3,"placeholder"],["matInput","","type","number","formControlName","discount",1,"w-full",3,"placeholder"],["matInput","","type","number","formControlName","finalPrice","readonly","",1,"w-full",3,"placeholder"],["mat-header-cell","",1,"actions-header"],["mat-cell","",1,"actions-cell"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,r){if(1&i&&(h.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),h.EFF(4),h.nI1(5,"translate"),h.k0s(),h.j41(6,"form",4),h.bIt("ngSubmit",function(){return r.onSubmit()}),h.j41(7,"section",5)(8,"div",6)(9,"div",7)(10,"mat-form-field",8)(11,"mat-label"),h.EFF(12),h.nI1(13,"translate"),h.k0s(),h.j41(14,"mat-select",9),h.Z7z(15,oMe,2,2,"mat-option",10,h.fX1),h.k0s()()(),h.j41(17,"div",11)(18,"mat-form-field",8)(19,"mat-label"),h.EFF(20),h.nI1(21,"translate"),h.k0s(),h.nrm(22,"input",12),h.k0s()()()(),h.j41(23,"section",13)(24,"div",14)(25,"table",15),h.qex(26,16),h.DNE(27,aMe,3,3,"th",17)(28,lMe,3,4,"td",18),h.bVm(),h.qex(29,19),h.DNE(30,cMe,3,3,"th",17)(31,uMe,3,4,"td",18),h.bVm(),h.qex(32,20),h.DNE(33,dMe,3,3,"th",17)(34,hMe,3,4,"td",18),h.bVm(),h.qex(35,21),h.DNE(36,fMe,3,3,"th",17)(37,pMe,3,4,"td",18),h.bVm(),h.qex(38,22),h.DNE(39,gMe,3,3,"th",23)(40,mMe,4,0,"td",24),h.bVm(),h.DNE(41,vMe,1,0,"tr",25)(42,_Me,1,0,"tr",26),h.k0s()(),h.j41(43,"div",27)(44,"p",28),h.EFF(45),h.nI1(46,"translate"),h.k0s()()(),h.j41(47,"div",29)(48,"button",30),h.bIt("click",function(){return r.addNewService()}),h.EFF(49),h.nI1(50,"translate"),h.k0s(),h.j41(51,"button",31),h.EFF(52),h.nI1(53,"translate"),h.k0s()()()()()(),h.nrm(54,"app-history-data")),2&i){let s;h.R7$(4),h.JRh(h.bMT(5,12,"CORE.HEADER")),h.R7$(2),h.Y8G("formGroup",r.invoiceForm),h.R7$(6),h.JRh(h.bMT(13,14,"FORM.CLIENT NAME")),h.R7$(3),h.Dyx(r.clients),h.R7$(5),h.JRh(h.bMT(21,16,"FORM.BILLING PERIOD")),h.R7$(5),h.Y8G("dataSource",r.dataSource),h.R7$(16),h.Y8G("matHeaderRowDef",r.displayedColumns),h.R7$(),h.Y8G("matRowDefColumns",r.displayedColumns),h.R7$(3),h.Lme("",h.bMT(46,18,"FORM.TOTAL"),": \u20b9",null==(s=r.invoiceForm.get("total"))?null:s.value,""),h.R7$(4),h.JRh(h.bMT(50,20,"FORM.ADD SERVICE")),h.R7$(2),h.Y8G("disabled",!r.invoiceForm.valid),h.R7$(),h.JRh(h.bMT(53,22,"FORM.DOWNLOAD"))}},dependencies:[DJ,XS,bp,QS,yR,E_,ym,wO,x_,NR,ZS,e0,Wb,DF,N0,QD,n2,$U,jU,Y4,Xee,Sx,dw,i6,Tx,Ix,Ax,rI,Z2,tL,s6,t2,rU,CD,Bc,oH,tl,ny,vw,aL,tMe]})}}return t})(),CMe=(()=>{class t{constructor(){this.auth=(0,h.WQX)(pT),this.router=(0,h.WQX)(kc)}canActivate(){var n=this;return(0,te.A)(function*(){return!(!n.auth.currentUser&&null==localStorage.getItem("user")&&(n.router.navigate(["/"]),1))})()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Tq=(()=>{class t{constructor(){this.fireAuth=(0,h.WQX)(pT),this.user$=rDe(this.fireAuth),this.currUserSig=(0,h.vPA)(void 0)}login(n,i){return Jr(oDe(this.fireAuth,n,i).then(s=>{s.user?.getIdToken().then(o=>{localStorage.setItem("userToken",o)}),localStorage.setItem("user",JSON.stringify(s.user)),this.currUserSig.set({email:s.user?.email,userName:s.user?.displayName})}))}logout(){return Jr(aDe(this.fireAuth))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Aq(t){t||((0,h.Af3)(Aq),t=(0,h.WQX)(h.abz));const e=new Bn.c(n=>t.onDestroy(n.next.bind(n)));return n=>n.pipe(_r(e))}function SMe(t,e){if(1&t&&(h.j41(0,"mat-error"),h.EFF(1),h.k0s()),2&t){const n=h.XpG();h.R7$(),h.JRh(n.errorMessage())}}function IMe(t,e){if(1&t&&(h.j41(0,"mat-error"),h.EFF(1),h.k0s()),2&t){const n=h.XpG();h.R7$(),h.JRh(n.errorMessage())}}const TMe=[{path:"",component:(()=>{class t{constructor(){this.authService=(0,h.WQX)(Tq),this.router=(0,h.WQX)(kc),this.email=new jl("",[Ta.required,Ta.email]),this.password=new jl("",[Ta.required]),this.fb=(0,h.WQX)(OB),this.errorMessage=(0,h.vPA)(""),this.loginForm=this.fb.group({email:this.email,password:this.password}),Dp(this.email.statusChanges,this.email.valueChanges).pipe(Aq()).subscribe(()=>this.updateErrorMessage())}login(){this.loginForm.invalid?this.errorMessage.set("Invalid inputs"):this.authService.login(this.email.value,this.password.value).subscribe({next:()=>{console.log("Logged in"),this.router.navigate(["/invoice"])},error:n=>{console.error(n),this.errorMessage.set("Invalid credentials")}})}updateErrorMessage(){this.email.hasError("required")?this.errorMessage.set("You must enter a value"):this.email.hasError("email")?this.errorMessage.set("Not a valid email"):this.errorMessage.set("")}ngOnInit(){(null!=this.authService.currUserSig()||null!=localStorage.getItem("user"))&&this.router.navigate(["/invoice"])}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=h.VBU({type:t,selectors:[["app-login"]],standalone:!0,features:[h.aNF],decls:23,vars:6,consts:[[1,"login-card","mt-16","p-8"],[1,"p-4"],[1,"p-3"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-2","md:gap-4"],["matInput","","placeholder","eMail Address","required","",1,"mb-3",3,"formControl"],["matInput","","placeholder","Password","type","password","required","",1,"mb-3",3,"formControl"],[1,"flex","justify-center"],[1,"flex","flex-col","gap-1","justify-center"],["mat-raised-button","","color","primary","type","submit",3,"click"]],template:function(i,r){1&i&&(h.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),h.EFF(3,"Welcome to Invoice Generator "),h.k0s()(),h.j41(4,"mat-card-content",2)(5,"form",3),h.bIt("ngSubmit",function(){return r.login()}),h.j41(6,"div",4)(7,"mat-form-field")(8,"mat-label"),h.EFF(9,"Enter your email"),h.k0s(),h.nrm(10,"input",5),h.DNE(11,SMe,2,1,"mat-error"),h.k0s(),h.j41(12,"mat-form-field")(13,"mat-label"),h.EFF(14,"Enter your Password"),h.k0s(),h.nrm(15,"input",6),h.DNE(16,IMe,2,1,"mat-error"),h.k0s()()()(),h.j41(17,"mat-card-actions",7)(18,"div",8)(19,"button",9),h.bIt("click",function(){return r.login()}),h.EFF(20,"Login"),h.k0s(),h.j41(21,"mat-error"),h.EFF(22),h.k0s()()()()),2&i&&(h.R7$(5),h.Y8G("formGroup",r.loginForm),h.R7$(5),h.Y8G("formControl",r.email),h.R7$(),h.vxM(11,r.email.invalid?11:-1),h.R7$(4),h.Y8G("formControl",r.password),h.R7$(),h.vxM(16,r.password.invalid?16:-1),h.R7$(6),h.JRh(r.errorMessage()))},dependencies:[CD,Bc,tl,y6,fI,m6,Bp,pL,iy,wO,XS,bp,yR,E_,ym,MR,x_,Wb,DF,N0,AD,QD,n2]})}}return t})()},{path:"invoice",component:yMe,canActivate:[CMe]},{path:"**",redirectTo:"",pathMatch:"full"}];let RMe=(()=>{class t{constructor(n,i,r,s,o){this.doc=n,this.delegate=i,this.zone=r,this.animationType=s,this.moduleImpl=o,this._rendererFactoryPromise=null,this.scheduler=(0,h.WQX)(h.An2,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??Kt.e(8).then(Kt.bind(Kt,8008))).catch(i=>{throw new h.wOt(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:r})=>{this._engine=i(this.animationType,this.doc,this.scheduler);const s=new r(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(n,i){const r=this.delegate.createRenderer(n,i);if(0===r.\u0275type)return r;"boolean"==typeof r.throwOnSyntheticProps&&(r.throwOnSyntheticProps=!1);const s=new DMe(r);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(o=>{const c=o.createRenderer(n,i);s.use(c)}).catch(o=>{s.use(r)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(i){h.QTQ()}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac})}}return t})();class DMe{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,null!==this.replay){for(const n of this.replay)n(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,n){this.delegate.appendChild(e,n)}insertBefore(e,n,i,r){this.delegate.insertBefore(e,n,i,r)}removeChild(e,n,i){this.delegate.removeChild(e,n,i)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){this.shouldReplay(n)&&this.replay.push(r=>r.setProperty(e,n,i)),this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.shouldReplay(n)&&this.replay.push(r=>r.listen(e,n,i)),this.delegate.listen(e,n,i)}shouldReplay(e){return null!==this.replay&&e.startsWith("@")}}let PMe=(()=>{class t{http;prefix;suffix;constructor(n,i="/assets/i18n/",r=".json"){this.http=n,this.prefix=i,this.suffix=r}getTranslation(n){return this.http.get(`${this.prefix}${n}${this.suffix}`)}static \u0275fac=function(i){return new(i||t)(h.KVO($b),h.KVO(String),h.KVO(String))};static \u0275prov=h.jDH({token:t,factory:t.\u0275fac})}return t})();const _ue="@firebase/installations",Rq="0.6.9",yue=1e4,Cue=`w:${Rq}`,bue="FIS_v2",OMe="https://firebaseinstallations.googleapis.com/v1",FMe=36e5,Rv=new Jp("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function wue(t){return t instanceof xu&&t.code.includes("request-failed")}function Dq({projectId:t}){return`${OMe}/projects/${t}/installations`}function Eue(t){return{token:t.token,requestStatus:2,expiresIn:GMe(t.expiresIn),creationTime:Date.now()}}function xq(t,e){return Pq.apply(this,arguments)}function Pq(){return Pq=(0,te.A)(function*(t,e){const i=(yield e.json()).error;return Rv.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}),Pq.apply(this,arguments)}function Sue({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Mq(t){return Nq.apply(this,arguments)}function Nq(){return Nq=(0,te.A)(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),Nq.apply(this,arguments)}function GMe(t){return Number(t.replace("s","000"))}function Oq(){return Oq=(0,te.A)(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=Dq(t),r=Sue(t),s=e.getImmediate({optional:!0});if(s){const p=yield s.getHeartbeatsHeader();p&&r.append("x-firebase-client",p)}const c={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:bue,appId:t.appId,sdkVersion:Cue})},d=yield Mq(()=>fetch(i,c));if(d.ok){const p=yield d.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:Eue(p.authToken)}}throw yield xq("Create Installation",d)}),Oq.apply(this,arguments)}function Tue(t){return new Promise(e=>{setTimeout(e,t)})}const WMe=/^[cdef][\w-]{21}$/,Fq="";function zMe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function jMe(t){return function UMe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return WMe.test(n)?n:Fq}catch{return Fq}}function eA(t){return`${t.appName}!${t.appId}`}const tA=new Map;function Aue(t,e){const n=eA(t);Rue(n,e),function KMe(t,e){const n=function Due(){return!PE&&"BroadcastChannel"in self&&(PE=new BroadcastChannel("[Firebase] FID Change"),PE.onmessage=t=>{Rue(t.data.key,t.data.fid)}),PE}();n&&n.postMessage({key:t,fid:e}),function xue(){0===tA.size&&PE&&(PE.close(),PE=null)}()}(n,e)}function Rue(t,e){const n=tA.get(t);if(n)for(const i of n)i(e)}let PE=null;const YMe="firebase-installations-database",XMe=1,ME="firebase-installations-store";let Lq=null;function kq(){return Lq||(Lq=G1(YMe,XMe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ME)}})),Lq}function p5(t,e){return Vq.apply(this,arguments)}function Vq(){return Vq=(0,te.A)(function*(t,e){const n=eA(t),r=(yield kq()).transaction(ME,"readwrite"),s=r.objectStore(ME),o=yield s.get(n);return yield s.put(e,n),yield r.done,(!o||o.fid!==e.fid)&&Aue(t,e.fid),e}),Vq.apply(this,arguments)}function Gq(t){return Bq.apply(this,arguments)}function Bq(){return Bq=(0,te.A)(function*(t){const e=eA(t),i=(yield kq()).transaction(ME,"readwrite");yield i.objectStore(ME).delete(e),yield i.done}),Bq.apply(this,arguments)}function dM(t,e){return Hq.apply(this,arguments)}function Hq(){return Hq=(0,te.A)(function*(t,e){const n=eA(t),r=(yield kq()).transaction(ME,"readwrite"),s=r.objectStore(ME),o=yield s.get(n),c=e(o);return void 0===c?yield s.delete(n):yield s.put(c,n),yield r.done,c&&(!o||o.fid!==c.fid)&&Aue(t,c.fid),c}),Hq.apply(this,arguments)}function Uq(t){return Wq.apply(this,arguments)}function Wq(){return Wq=(0,te.A)(function*(t){let e;const n=yield dM(t.appConfig,i=>{const r=function QMe(t){return Mue(t||{fid:zMe(),registrationStatus:0})}(i),s=function JMe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Rv.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function ZMe(t,e){return zq.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:eNe(t)}:{installationEntry:e}}(t,r);return e=s.registrationPromise,s.installationEntry});return n.fid===Fq?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Wq.apply(this,arguments)}function zq(){return zq=(0,te.A)(function*(t,e){try{const n=yield function HMe(t,e){return Oq.apply(this,arguments)}(t,e);return p5(t.appConfig,n)}catch(n){throw wue(n)&&409===n.customData.serverCode?yield Gq(t.appConfig):yield p5(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),zq.apply(this,arguments)}function eNe(t){return jq.apply(this,arguments)}function jq(){return jq=(0,te.A)(function*(t){let e=yield Pue(t.appConfig);for(;1===e.registrationStatus;)yield Tue(100),e=yield Pue(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:i}=yield Uq(t);return i||n}return e}),jq.apply(this,arguments)}function Pue(t){return dM(t,e=>{if(!e)throw Rv.create("installation-not-found");return Mue(e)})}function Mue(t){return function tNe(t){return 1===t.registrationStatus&&t.registrationTime+yue<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function $q(){return $q=(0,te.A)(function*({appConfig:t,heartbeatServiceProvider:e},n){const i=function iNe(t,{fid:e}){return`${Dq(t)}/${e}/authTokens:generate`}(t,n),r=function Iue(t,{refreshToken:e}){const n=Sue(t);return n.append("Authorization",function BMe(t){return`${bue} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const p=yield s.getHeartbeatsHeader();p&&r.append("x-firebase-client",p)}const c={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:Cue,appId:t.appId}})},d=yield Mq(()=>fetch(i,c));if(d.ok)return Eue(yield d.json());throw yield xq("Generate Auth Token",d)}),$q.apply(this,arguments)}function qq(t){return Kq.apply(this,arguments)}function Kq(){return Kq=(0,te.A)(function*(t,e=!1){let n;const i=yield dM(t.appConfig,s=>{if(!Oue(s))throw Rv.create("not-registered");const o=s.authToken;if(!e&&function oNe(t){return 2===t.requestStatus&&!function aNe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+FMe}(t)}(o))return s;if(1===o.requestStatus)return n=function rNe(t,e){return Yq.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Rv.create("app-offline");const c=function lNe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function sNe(t,e){return Xq.apply(this,arguments)}(t,c),c}});return n?yield n:i.authToken}),Kq.apply(this,arguments)}function Yq(){return Yq=(0,te.A)(function*(t,e){let n=yield Nue(t.appConfig);for(;1===n.authToken.requestStatus;)yield Tue(100),n=yield Nue(t.appConfig);const i=n.authToken;return 0===i.requestStatus?qq(t,e):i}),Yq.apply(this,arguments)}function Nue(t){return dM(t,e=>{if(!Oue(e))throw Rv.create("not-registered");return function cNe(t){return 1===t.requestStatus&&t.requestTime+yue<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Xq(){return Xq=(0,te.A)(function*(t,e){try{const n=yield function nNe(t,e){return $q.apply(this,arguments)}(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return yield p5(t.appConfig,i),n}catch(n){if(!wue(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield p5(t.appConfig,i)}else yield Gq(t.appConfig);throw n}}),Xq.apply(this,arguments)}function Oue(t){return void 0!==t&&2===t.registrationStatus}function Qq(){return Qq=(0,te.A)(function*(t){const e=t,{installationEntry:n,registrationPromise:i}=yield Uq(e);return i?i.catch(console.error):qq(e).catch(console.error),n.fid}),Qq.apply(this,arguments)}function Jq(){return Jq=(0,te.A)(function*(t,e=!1){const n=t;return yield function hNe(t){return Zq.apply(this,arguments)}(n),(yield qq(n,e)).token}),Jq.apply(this,arguments)}function Zq(){return Zq=(0,te.A)(function*(t){const{registrationPromise:e}=yield Uq(t);e&&(yield e)}),Zq.apply(this,arguments)}function nK(t){return Rv.create("missing-app-config-values",{valueName:t})}const Fue="installations",vNe=t=>{const e=t.getProvider("app").getImmediate(),n=function gNe(t){if(!t||!t.options)throw nK("App Configuration");if(!t.name)throw nK("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw nK(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Pu(e,"heartbeat"),_delete:()=>Promise.resolve()}},_Ne=t=>{const n=Pu(t.getProvider("app").getImmediate(),Fue).getImmediate();return{getId:()=>function uNe(t){return Qq.apply(this,arguments)}(n),getToken:r=>function dNe(t){return Jq.apply(this,arguments)}(n,r)}};(function yNe(){Cl(new ja(Fue,vNe,"PUBLIC")),Cl(new ja("installations-internal",_Ne,"PRIVATE"))})(),Zi(_ue,Rq),Zi(_ue,Rq,"esm2017");const g5="analytics",CNe="firebase_id",bNe="origin",wNe=6e4,ENe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",iK="https://www.googletagmanager.com/gtag/js",Qa=new tE("@firebase/analytics"),$c=new Jp("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function INe(t){if(!t.startsWith(iK)){const e=$c.create("invalid-gtag-resource",{gtagURL:t});return Qa.warn(e.message),""}return t}function Lue(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function rK(){return rK=(0,te.A)(function*(t,e,n,i,r,s){const o=i[r];try{if(o)yield e[o];else{const d=(yield Lue(n)).find(p=>p.measurementId===r);d&&(yield e[d.appId])}}catch(c){Qa.error(c)}t("config",r,s)}),rK.apply(this,arguments)}function sK(){return sK=(0,te.A)(function*(t,e,n,i,r){try{let s=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const c=yield Lue(n);for(const d of o){const p=c.find(y=>y.measurementId===d),m=p&&e[p.appId];if(!m){s=[];break}s.push(m)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",i,r||{})}catch(s){Qa.error(s)}}),sK.apply(this,arguments)}const ONe=30,kue=new class LNe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function kNe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function oK(){return oK=(0,te.A)(function*(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:kNe(i)},s=ENe.replace("{app-id}",n),o=yield fetch(s,r);if(200!==o.status&&304!==o.status){let c="";try{const d=yield o.json();null!==(e=d.error)&&void 0!==e&&e.message&&(c=d.error.message)}catch{}throw $c.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()}),oK.apply(this,arguments)}function aK(){return aK=(0,te.A)(function*(t,e=kue,n){const{appId:i,apiKey:r,measurementId:s}=t.options;if(!i)throw $c.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw $c.create("no-api-key")}const o=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new UNe;return setTimeout((0,te.A)(function*(){c.abort()}),void 0!==n?n:wNe),Vue({appId:i,apiKey:r,measurementId:s},o,c,e)}),aK.apply(this,arguments)}function Vue(t,e,n){return lK.apply(this,arguments)}function lK(){return lK=(0,te.A)(function*(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=kue){var s;const{appId:o,measurementId:c}=t;try{yield function BNe(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(s),i($c.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(i,e)}catch(d){if(c)return Qa.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:o,measurementId:c};throw d}try{const d=yield function VNe(t){return oK.apply(this,arguments)}(t);return r.deleteThrottleMetadata(o),d}catch(d){const p=d;if(!function HNe(t){if(!(t instanceof xu&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(p)){if(r.deleteThrottleMetadata(o),c)return Qa.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:o,measurementId:c};throw d}const m=503===Number(null===(s=p?.customData)||void 0===s?void 0:s.httpStatus)?uW(n,r.intervalMillis,ONe):uW(n,r.intervalMillis),y={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return r.setThrottleMetadata(o,y),Qa.debug(`Calling attemptFetch again in ${m} millis`),Vue(t,y,i,r)}}),lK.apply(this,arguments)}class UNe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let cK,mK;function uK(){return uK=(0,te.A)(function*(t,e,n,i,r){if(r&&r.global)t("event",n,i);else{const s=yield e;t("event",n,Object.assign(Object.assign({},i),{send_to:s}))}}),uK.apply(this,arguments)}function hK(){return hK=(0,te.A)(function*(t,e,n,i){if(i&&i.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})}),hK.apply(this,arguments)}function vK(){return vK=(0,te.A)(function*(){if(!_y())return Qa.warn($c.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield QI()}catch(t){return Qa.warn($c.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0}),vK.apply(this,arguments)}function _K(){return _K=(0,te.A)(function*(t,e,n,i,r,s,o){var c;const d=function GNe(t){return aK.apply(this,arguments)}(t);d.then(k=>{n[k.measurementId]=k.appId,t.options.measurementId&&k.measurementId!==t.options.measurementId&&Qa.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${k.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(k=>Qa.error(k)),e.push(d);const p=function YNe(){return vK.apply(this,arguments)}().then(k=>{if(k)return i.getId()}),[m,y]=yield Promise.all([d,p]);(function NNe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(iK)&&n.src.includes(t))return n;return null})(s)||function ANe(t,e){const n=function TNe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:INe}),i=document.createElement("script"),r=`${iK}?l=${t}&id=${e}`;i.src=n?n?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}(s,m.measurementId),mK&&(r("consent","default",mK),function Gue(t){mK=t}(void 0)),r("js",new Date);const A=null!==(c=o?.config)&&void 0!==c?c:{};return A[bNe]="firebase",A.update=!0,null!=y&&(A[CNe]=y),r("config",m.measurementId,A),cK&&(r("set",cK),function Bue(t){cK=t}(void 0)),m.measurementId}),_K.apply(this,arguments)}class QNe{constructor(e){this.app=e}_delete(){return delete ug[this.app.options.appId],Promise.resolve()}}let ug={},Hue=[];const Uue={};let zue,dg,m5="dataLayer",yK=!1;function ZNe(t,e,n){!function JNe(){const t=[];if(aW()&&t.push("This is a browser extension environment."),Ak()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=$c.create("invalid-analytics-context",{errorInfo:e});Qa.warn(n.message)}}();const i=t.options.appId;if(!i)throw $c.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw $c.create("no-api-key");Qa.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ug[i])throw $c.create("already-exists",{id:i});if(!yK){!function RNe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(m5);const{wrappedGtag:s,gtagCore:o}=function MNe(t,e,n,i,r){let s=function(...o){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(s=window[r]),window[r]=function PNe(t,e,n,i){function s(){return s=(0,te.A)(function*(o,...c){try{if("event"===o){const[d,p]=c;yield function xNe(t,e,n,i,r){return sK.apply(this,arguments)}(t,e,n,d,p)}else if("config"===o){const[d,p]=c;yield function DNe(t,e,n,i,r,s){return rK.apply(this,arguments)}(t,e,n,i,d,p)}else if("consent"===o){const[d,p]=c;t("consent",d,p)}else if("get"===o){const[d,p,m]=c;t("get",d,p,m)}else if("set"===o){const[d]=c;t("set",d)}else t(o,...c)}catch(d){Qa.error(d)}}),s.apply(this,arguments)}return function r(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[r]}}(ug,Hue,Uue,m5,"gtag");dg=s,zue=o,yK=!0}return ug[i]=function XNe(t,e,n,i,r,s,o){return _K.apply(this,arguments)}(t,Hue,Uue,e,zue,m5,n),new QNe(t)}function eOe(t=eg()){const e=Pu(t=Hr(t),g5);return e.isInitialized()?e.getImmediate():function tOe(t,e={}){const n=Pu(t,g5);if(n.isInitialized()){const r=n.getImmediate();if(Zw(e,n.getOptions()))return r;throw $c.create("already-initialized")}return n.initialize({options:e})}(t)}function nOe(){return CK.apply(this,arguments)}function CK(){return(CK=(0,te.A)(function*(){if(aW()||!Ak()||!_y())return!1;try{return yield QI()}catch{return!1}})).apply(this,arguments)}function iOe(t,e,n){t=Hr(t),function jNe(t,e,n,i){return hK.apply(this,arguments)}(dg,ug[t.app.options.appId],e,n).catch(i=>Qa.error(i))}function jue(t,e,n,i){t=Hr(t),function WNe(t,e,n,i,r){return uK.apply(this,arguments)}(dg,ug[t.app.options.appId],e,n,i).catch(r=>Qa.error(r))}const $ue="@firebase/analytics";!function rOe(){Cl(new ja(g5,(e,{options:n})=>ZNe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Cl(new ja("analytics-internal",function t(e){try{const n=e.getProvider(g5).getImmediate();return{logEvent:(i,r,s)=>jue(n,i,r,s)}}catch(n){throw $c.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Zi($ue,"0.10.8"),Zi($ue,"0.10.8","esm2017")}();class hM{constructor(e){return e}}const wK="__angularfire_symbol__analyticsIsSupportedValue",Yue="__angularfire_symbol__analyticsIsSupported";globalThis[Yue]||=nOe().then(t=>globalThis[wK]=t).catch(()=>globalThis[wK]=!1);const v5={async:()=>globalThis[Yue],sync:()=>{const t=globalThis[wK];if(void 0===t)throw new Error(SW("Analytics"));return t}},Xue=v5.async,oOe=ea(eOe,!0),aOe=ea(jue,!0),lOe=ea(iOe,!0);let Que=(()=>{class t{initialized;disposables=[];constructor(n,i,r){let s;Zi("angularfire",Mu.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(o=>{s=o})),Xue().then(()=>{const o=r.get(hM);o?this.disposables=[iDe(n).subscribe(c=>{lOe(o,c?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(n=>n.unsubscribe())}static \u0275fac=function(i){return new(i||t)(h.KVO(pT),h.KVO(h.SKi),h.KVO(h.zZn))};static \u0275prov=h.jDH({token:t,factory:t.\u0275fac})}return t})();const Jue="firebase_screen_id",EK="outlet",fM="screen_class",Zue="screen_name";let COe=Math.floor(Math.random()*(2**32-1))-2**31;const SK={},bOe=t=>{const e=[t[fM],t[EK]].join("#");if(SK.hasOwnProperty(e))return SK[e];{const n=COe++;return SK[e]=n,n}},wOe=(t,e,n)=>t.events.pipe(It(r=>r instanceof DS)).pipe(ve(r=>{const o=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,A=>A.replace("://",":///"))).root.children[r.snapshot.outlet]?.toString()||"",c=t.routerState.root.children.map(A=>A).find(A=>A.outlet===r.snapshot.outlet);if(!c)return Fn(null);let d=c;for(;d.firstChild;)d=d.firstChild;const p=d.pathFromRoot.map(A=>A.routeConfig?.path).filter(A=>A).join("/")||"/",m={[Zue]:p,page_path:`/${o}`,firebase_event_origin:"auto",firebase_screen:p,[EK]:r.snapshot.outlet};e&&(m.page_title=e.getTitle());let y=c.component;if(y){if(y===dt){let A=r.snapshot;for(;A.firstChild;)A=A.firstChild;y=A.component}}else y=r.snapshot.component;if("string"==typeof y)return Fn({...m,[fM]:y});if(y){const A=n.resolveComponentFactory(y);return Fn({...m,[fM]:A.selector})}return Fn(null)}),It(r=>!!r),(0,ti.T)(r=>({firebase_screen_class:r[fM],[Jue]:bOe(r),...r})),function MMe(t,e,n,i){return(0,Pr.N)((r,s)=>{let o;e&&"function"!=typeof e?({duration:n,element:o,connector:i}=e):o=e;const c=new Map,d=U=>{c.forEach(U),U(s)},p=U=>d(X=>X.error(U));let m=0,y=!1;const A=new Oi.H(s,U=>{try{const X=t(U);let Q=c.get(X);if(!Q){c.set(X,Q=i?i():new K.B);const pe=function k(U,X){const Q=new Bn.c(pe=>{m++;const Ie=X.subscribe(pe);return()=>{Ie.unsubscribe(),0==--m&&y&&A.unsubscribe()}});return Q.key=U,Q}(X,Q);if(s.next(pe),n){const Ie=(0,Oi._)(Q,()=>{Q.complete(),Ie?.unsubscribe()},void 0,void 0,()=>c.delete(X));A.add(vo(n(pe)).subscribe(Ie))}}Q.next(o?o(U):U)}catch(X){p(X)}},()=>d(U=>U.complete()),p,()=>c.clear(),()=>(y=!0,0===m));r.subscribe(A)})}(r=>r[EK]),Dr(r=>r.pipe($R((s,o)=>JSON.stringify(s)===JSON.stringify(o)),rt(void 0),function NMe(){return(0,Pr.N)((t,e)=>{let n,i=!1;t.subscribe((0,Oi._)(e,r=>{const s=n;n=r,i&&e.next([s,r]),i=!0}))})}(),(0,ti.T)(([s,o])=>s?{firebase_previous_class:s[fM],firebase_previous_screen:s[Zue],firebase_previous_id:s[Jue],...o}:o))));let EOe=(()=>{class t{disposable;constructor(n,i,r,s,o,c){Zi("angularfire",Mu.full,"screen-tracking"),Xue().then(()=>{const d=c.get(hM);!n||!d||s.runOutsideAngular(()=>{this.disposable=wOe(n,i,r).pipe(ve(function(){var p=(0,te.A)(function*(m){return o&&(yield o.initialized),aOe(d,"screen_view",m)});return function(m){return p.apply(this,arguments)}}())).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}static \u0275fac=function(i){return new(i||t)(h.KVO(kc,8),h.KVO(jn,8),h.KVO(h.OM3),h.KVO(h.SKi),h.KVO(Que,8),h.KVO(h.zZn))};static \u0275prov=h.jDH({token:t,factory:t.\u0275fac})}return t})();const IK=new h.nKC("angularfire2.analytics-instances");function IOe(t){return(e,n)=>{if(!v5.sync())return null;const i=e.runOutsideAngular(()=>t(n));return new hM(i)}}const TOe={provide:class sOe{constructor(){return wf("analytics")}},deps:[[new h.Xx1,IK]]},AOe={provide:hM,useFactory:function SOe(t,e){if(!v5.sync())return null;const n=tg("analytics",t,e);return n&&new hM(n)},deps:[[new h.Xx1,IK],hd]},ede="@firebase/database";let TK="";class DOe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),yl(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:F1(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class xOe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return Zp(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const ide=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new DOe(e)}}catch{}return new xOe},NE=ide("localStorage"),AK=ide("sessionStorage"),nA=new tE("@firebase/database"),rde=function(){let t=1;return function(){return t++}}(),sde=function(t){const e=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,Ln(i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(s<<10)+(t.charCodeAt(i)-56320)}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e}(t),n=new gbe;n.update(e);const i=n.digest();return rW.encodeByteArray(i)},pM=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=pM.apply(null,i):e+="object"==typeof i?yl(i):i,e+=" "}return e};let OE=null,ode=!0;const Ja=function(...t){if(!0===ode&&(ode=!1,null===OE&&!0===AK.get("logging_enabled")&&function(t,e){Ln(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(nA.logLevel=ir.VERBOSE,OE=nA.log.bind(nA),e&&AK.set("logging_enabled",!0)):"function"==typeof t?OE=t:(OE=null,AK.remove("logging_enabled"))}(!0)),OE){const e=pM.apply(null,t);OE(e)}},gM=function(t){return function(...e){Ja(t,...e)}},RK=function(...t){const e="FIREBASE INTERNAL ERROR: "+pM(...t);nA.error(e)},hg=function(...t){const e=`FIREBASE FATAL ERROR: ${pM(...t)}`;throw nA.error(e),new Error(e)},sc=function(...t){const e="FIREBASE WARNING: "+pM(...t);nA.warn(e)},_5=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Wy="[MIN_NAME]",Dv="[MAX_NAME]",FE=function(t,e){if(t===e)return 0;if(t===Wy||e===Dv)return-1;if(e===Wy||t===Dv)return 1;{const n=ude(t),i=ude(e);return null!==n?null!==i?n-i==0?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1}},NOe=function(t,e){return t===e?0:t<e?-1:1},mM=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+yl(e))},DK=function(t){if("object"!=typeof t||null===t)return yl(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)0!==i&&(n+=","),n+=yl(e[i]),n+=":",n+=DK(t[e[i]]);return n+="}",n},lde=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)i.push(t.substring(r,r+e>n?n:r+e));return i};function Za(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const cde=function(t){Ln(!_5(t),"Invalid JSON number");const i=1023;let r,s,o,c,d;0===t?(s=0,o=0,r=1/t==-1/0?1:0):(r=t<0,(t=Math.abs(t))>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),i),s=c+i,o=Math.round(t*Math.pow(2,52-c)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const p=[];for(d=52;d;d-=1)p.push(o%2?1:0),o=Math.floor(o/2);for(d=11;d;d-=1)p.push(s%2?1:0),s=Math.floor(s/2);p.push(r?1:0),p.reverse();const m=p.join("");let y="";for(d=0;d<64;d+=8){let A=parseInt(m.substr(d,8),2).toString(16);1===A.length&&(A="0"+A),y+=A}return y.toLowerCase()},kOe=new RegExp("^-?(0*)\\d{1,10}$"),ude=function(t){if(kOe.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},iA=function(t){try{t()}catch(e){setTimeout(()=>{throw sc("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},vM=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class HOe{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){sc(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class UOe{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(Ja("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',sc(e)}}let _M=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const gde=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,yde="long_polling";class PK{constructor(e,n,i,r,s=!1,o="",c=!1,d=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=NE.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&NE.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Cde(t,e,n){let i;if(Ln("string"==typeof e,"typeof type must == string"),Ln("object"==typeof n,"typeof params must == object"),"websocket"===e)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==yde)throw new Error("Unknown connection type: "+e);i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function WOe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const r=[];return Za(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}class zOe{constructor(){this.counters_={}}incrementCounter(e,n=1){Zp(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return ebe(this.counters_)}}const MK={},NK={};function OK(t){const e=t.toString();return MK[e]||(MK[e]=new zOe),MK[e]}class $Oe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&iA(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class zy{constructor(e,n,i,r,s,o,c){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=gM(e),this.stats_=OK(n),this.urlFn=d=>(this.appCheckToken&&(d.ac=this.appCheckToken),Cde(n,yde,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new $Oe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new FK((...s)=>{const[o,c,d,p,m]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=c,this.password=d;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&gde.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){zy.forceAllow_=!0}static forceDisallow(){zy.forceDisallow_=!0}static isAvailable(){return!(!zy.forceAllow_&&(zy.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=yl(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Tie(n),r=lde(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=yl(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class FK{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=rde(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=FK.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){Ja("frame writing exception"),c.stack&&Ja(c.stack),Ja(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ja("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const o=this.pendingSegs.shift();i=i+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return n+=i,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Ja("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let C5=null;typeof MozWebSocket<"u"?C5=MozWebSocket:typeof WebSocket<"u"&&(C5=WebSocket);let rA=(()=>{class t{constructor(n,i,r,s,o,c,d){this.connId=n,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=gM(this.connId),this.stats_=OK(i),this.connURL=t.connectionURL_(i,c,d,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,r,s,o){const c={v:"5"};return typeof location<"u"&&location.hostname&&gde.test(location.hostname)&&(c.r="f"),i&&(c.s=i),r&&(c.ls=r),s&&(c.ac=s),o&&(c.p=o),Cde(n,"websocket",c)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,NE.set("previous_websocket_failure",!0);try{let r;0,this.mySock=new C5(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&null!==C5&&!t.forceDisallow_}static previouslyFailed(){return NE.isInMemoryStorage||!0===NE.get("previous_websocket_failure")}markConnectionHealthy(){NE.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=F1(i);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(Ln(null===this.frames,"We already have a frame buffer"),n.length<=6){const i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const i=yl(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=lde(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),Ade=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[zy,rA]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const i=rA&&rA.isAvailable();let r=i&&!rA.previouslyFailed();if(n.webSocketOnly&&(i||sc("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[rA];else{const s=this.transports_=[];for(const o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class Ode{constructor(e,n,i,r,s,o,c,d,p,m){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=d,this.onKill_=p,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=gM("c:"+this.id+":"),this.transportManager_=new Ade(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=vM(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=mM("t",e),i=mM("d",e);if("c"===n)this.onSecondaryControl_(i);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=mM("t",e),i=mM("d",e);"c"===n?this.onControl_(i):"d"===n&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=mM("t",e);if("d"in e){const i=e.d;if("h"===n){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(i):"r"===n?this.onReset_(i):"e"===n?RK("Server Error: "+i):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):RK("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==i&&sc("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),vM(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):vM(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(NE.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Fde{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}class Lde{constructor(e){this.allowedEvents_=e,this.listeners_={},Ln(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){Ln(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class b5 extends Lde{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!oW()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new b5}getInitialEvent(e){return Ln("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class ns{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ur(){return new ns("")}function rr(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function jy(t){return t.pieces_.length-t.pieceNum_}function ys(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ns(t.pieces_,e)}function kK(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function yM(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Gde(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ns(e,0)}function uo(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof ns)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ns(n,0)}function sr(t){return t.pieceNum_>=t.pieces_.length}function qc(t,e){const n=rr(t),i=rr(e);if(null===n)return e;if(n===i)return qc(ys(t),ys(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function VK(t,e){if(jy(t)!==jy(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function _h(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(jy(t)>jy(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class gFe{constructor(e,n){this.errorPrefix_=n,this.parts_=yM(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=xk(this.parts_[i]);Bde(this)}}function Bde(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+LE(t))}function LE(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class GK extends Lde{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new GK}getInitialEvent(e){return Ln("visible"===e,"Unknown event type: "+e),[this.visible_]}}const CM=1e3;let E5,kE=(()=>{class t extends Fde{constructor(n,i,r,s,o,c,d,p){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=d,this.authOverride_=p,this.id=t.nextPersistentConnectionId_++,this.log_=gM("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=CM,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");GK.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&b5.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,r){const s=++this.requestNumber_,o={r:s,a:n,b:i};this.log_(yl(o)),Ln(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(n){this.initConnection_();const i=new Tk,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:c=>{const d=c.d;"ok"===c.s?i.resolve(d):i.reject(d)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(n,i,r,s){this.initConnection_();const o=n._queryIdentifier,c=n._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),Ln(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ln(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const d={onComplete:s,hashFn:i,query:n,tag:r};this.listens.get(c).set(o,d),this.connected_&&this.sendListen_(d)}sendGet_(n){const i=this.outstandingGets_[n];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(n){const i=n.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r};n.tag&&(o.q=i._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,d=>{const p=d.d,m=d.s;t.warnOnListenWarnings_(p,i),(this.listens.get(r)&&this.listens.get(r).get(s))===n&&(this.log_("listen response",d),"ok"!==m&&this.removeListen_(r,s),n.onComplete&&n.onComplete(m,p))})}static warnOnListenWarnings_(n,i){if(n&&"object"==typeof n&&Zp(n,"w")){const r=JI(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();sc(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=Rk(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,i=function(t){const n=Rk(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",r={cred:n};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const o=s.s,c=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const i=n.s,r=n.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(n,i){const r=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),Ln(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,n._queryObject,i)}sendUnlisten_(n,i,r,s){this.log_("Unlisten on "+n+" for "+i);const o={p:n};s&&(o.q=r,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:r})}onDisconnectMerge(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:r})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,r,s){const o={p:i,d:r};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,c=>{s&&setTimeout(()=>{s(c.s,c.d)},Math.floor(0))})}put(n,i,r,s){this.putInternal("p",n,i,r,s)}merge(n,i,r,s){this.putInternal("m",n,i,r,s)}putInternal(n,i,r,s,o){this.initConnection_();const c={p:i,d:r};void 0!==o&&(c.h=o),this.outstandingPuts_.push({action:n,request:c,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(n){const i=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,r,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+yl(n));const i=n.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),"d"===n?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===n?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===n?this.onListenRevoked_(i.p,i.q):"ac"===n?this.onAuthRevoked_(i.s,i.d):"apc"===n?this.onAppCheckRevoked_(i.s,i.d):"sd"===n?this.onSecurityDebugPacket_(i):RK("Unrecognized action received from server: "+yl(n)+"\nAre you using the latest client?")}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){Ln(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=CM,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=CM,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=CM),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,te.A)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const i=n.onDataMessage_.bind(n),r=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,c=n.lastSessionId;let d=!1,p=null;const m=function(){p?p.close():(d=!0,s())};n.realtime_={close:m,sendRequest:function(k){Ln(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(k)}};const A=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[k,U]=yield Promise.all([n.authTokenProvider_.getToken(A),n.appCheckTokenProvider_.getToken(A)]);d?Ja("getToken() completed but was canceled"):(Ja("getToken() completed. Creating connection."),n.authToken_=k&&k.accessToken,n.appCheckToken_=U&&U.token,p=new Ode(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,i,r,s,X=>{sc(X+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},c))}catch(k){n.log_("Failed to get token: "+k),d||(n.repoInfo_.nodeAdmin&&sc(k),m())}}})()}interrupt(n){Ja("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ja("Resuming connection for reason: "+n),delete this.interruptReasons_[n],lW(this.interruptReasons_)&&(this.reconnectDelay_=CM,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const i=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let r;r=i?i.map(o=>DK(o)).join("$"):"default";const s=this.removeListen_(n,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,i){const r=new ns(n).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(i),o.delete(i),0===o.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(n,i){Ja("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){Ja("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let i="js";n["sdk."+i+"."+TK.replace(/\./g,"-")]=1,oW()?n["framework.cordova"]=1:Pie()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=b5.getInstance().currentlyOnline();return lW(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class ur{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ur(e,n)}}class w5{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new ur(Wy,e),r=new ur(Wy,n);return 0!==this.compare(i,r)}minPost(){return ur.MIN}}class Wde extends w5{static get __EMPTY_NODE(){return E5}static set __EMPTY_NODE(e){E5=e}compare(e,n){return FE(e.name,n.name)}isDefinedOn(e){throw XI("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ur.MIN}maxPost(){return new ur(Dv,E5)}makePost(e,n){return Ln("string"==typeof e,"KeyIndex indexValue must always be a string."),new ur(e,E5)}toString(){return".key"}}const fg=new Wde;class S5{constructor(e,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let HK,If=(()=>{class t{constructor(n,i,r,s,o){this.key=n,this.value=i,this.color=r??t.RED,this.left=s??ku.EMPTY_NODE,this.right=o??ku.EMPTY_NODE}copy(n,i,r,s,o){return new t(n??this.key,i??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,r){let s=this;const o=r(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,i,r),null):0===o?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(n,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ku.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let r,s;if(r=this,i(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(n,r.key)){if(r.right.isEmpty())return ku.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class ku{constructor(e,n=ku.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ku(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,If.BLACK,null,null))}remove(e){return new ku(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,If.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),0===n)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),0===n){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}n<0?i=i.left:n>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new S5(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new S5(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new S5(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new S5(this.root_,null,this.comparator_,!0,e)}}function EFe(t,e){return FE(t.name,e.name)}function BK(t,e){return FE(t,e)}ku.EMPTY_NODE=new class wFe{copy(e,n,i,r,s){return this}insert(e,n,i){return new If(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const zde=function(t){return"number"==typeof t?"number:"+cde(t):"string:"+t},jde=function(t){if(t.isLeafNode()){const e=t.val();Ln("string"==typeof e||"number"==typeof e||"object"==typeof e&&Zp(e,".sv"),"Priority must be a string or number.")}else Ln(t===HK||t.isEmpty(),"priority of unexpected type.");Ln(t===HK||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let $de,qde,Kde,sA=(()=>{class t{constructor(n,i=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,Ln(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),jde(this.priorityNode_)}static set __childrenNodeConstructor(n){$de=n}static get __childrenNodeConstructor(){return $de}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return sr(n)?this:".priority"===rr(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return".priority"===n?this.updatePriority(i):i.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){const r=rr(n);return null===r?i:i.isEmpty()&&".priority"!==r?this:(Ln(".priority"!==r||1===jy(n),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ys(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+zde(this.priorityNode_.val())+":");const i=typeof this.value_;n+=i+":",n+="number"===i?cde(this.value_):this.value_,this.lazyHash_=sde(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(Ln(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const i=typeof n.value_,r=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(i),o=t.VALUE_TYPE_ORDER.indexOf(r);return Ln(s>=0,"Unknown leaf type: "+i),Ln(o>=0,"Unknown leaf type: "+r),s===o?"object"===r?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const Rs=new class AFe extends w5{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return 0===s?FE(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ur.MIN}maxPost(){return new ur(Dv,new sA("[PRIORITY-POST]",Kde))}makePost(e,n){const i=qde(e);return new ur(n,new sA("[PRIORITY-POST]",i))}toString(){return".priority"}},RFe=Math.log(2);class DFe{constructor(e){this.count=parseInt(Math.log(e+1)/RFe,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const I5=function(t,e,n,i){t.sort(e);const r=function(d,p){const m=p-d;let y,A;if(0===m)return null;if(1===m)return y=t[d],A=n?n(y):y,new If(A,y.node,If.BLACK,null,null);{const k=parseInt(m/2,10)+d,U=r(d,k),X=r(k+1,p);return y=t[k],A=n?n(y):y,new If(A,y.node,If.BLACK,U,X)}},c=function(d){let p=null,m=null,y=t.length;const A=function(U,X){const Q=y-U,pe=y;y-=U;const Ie=r(Q+1,pe),ke=t[Q],tt=n?n(ke):ke;k(new If(tt,ke.node,X,null,Ie))},k=function(U){p?(p.left=U,p=U):(m=U,p=U)};for(let U=0;U<d.count;++U){const X=d.nextBitIsOne(),Q=Math.pow(2,d.count-(U+1));X?A(Q,If.BLACK):(A(Q,If.BLACK),A(Q,If.RED))}return m}(new DFe(t.length));return new ku(i||e,c)};let UK;const oA={};class xv{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Ln(oA&&Rs,"ChildrenNode.ts has not been loaded"),UK=UK||new xv({".priority":oA},{".priority":Rs}),UK}get(e){const n=JI(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ku?n:null}hasIndex(e){return Zp(this.indexSet_,e.toString())}addIndex(e,n){Ln(e!==fg,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator(ur.Wrap);let c,o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();c=r?I5(i,e.getCompare()):oA;const d=e.toString(),p=Object.assign({},this.indexSet_);p[d]=e;const m=Object.assign({},this.indexes_);return m[d]=c,new xv(m,p)}addToIndexes(e,n){const i=Dk(this.indexes_,(r,s)=>{const o=JI(this.indexSet_,s);if(Ln(o,"Missing index implementation for "+s),r===oA){if(o.isDefinedOn(e.node)){const c=[],d=n.getIterator(ur.Wrap);let p=d.getNext();for(;p;)p.name!==e.name&&c.push(p),p=d.getNext();return c.push(e),I5(c,o.getCompare())}return oA}{const c=n.get(e.name);let d=r;return c&&(d=d.remove(new ur(e.name,c))),d.insert(e,e.node)}});return new xv(i,this.indexSet_)}removeFromIndexes(e,n){const i=Dk(this.indexes_,r=>{if(r===oA)return r;{const s=n.get(e.name);return s?r.remove(new ur(e.name,s)):r}});return new xv(i,this.indexSet_)}}let bM,Ki=(()=>{class t{constructor(n,i,r){this.children_=n,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&jde(this.priorityNode_),this.children_.isEmpty()&&Ln(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return bM||(bM=new t(new ku(BK),null,xv.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bM}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const i=this.children_.get(n);return null===i?bM:i}}getChild(n){const i=rr(n);return null===i?this:this.getImmediateChild(i).getChild(ys(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,i){if(Ln(i,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(i);{const r=new ur(n,i);let s,o;i.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(n,i),o=this.indexMap_.addToIndexes(r,this.children_));const c=s.isEmpty()?bM:this.priorityNode_;return new t(s,c,o)}}updateChild(n,i){const r=rr(n);if(null===r)return i;{Ln(".priority"!==rr(n)||1===jy(n),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ys(n),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const i={};let r=0,s=0,o=!0;if(this.forEachChild(Rs,(c,d)=>{i[c]=d.val(n),r++,o&&t.INTEGER_REGEXP_.test(c)?s=Math.max(s,Number(c)):o=!1}),!n&&o&&s<2*r){const c=[];for(const d in i)c[d]=i[d];return c}return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+zde(this.getPriority().val())+":"),this.forEachChild(Rs,(i,r)=>{const s=r.hash();""!==s&&(n+=":"+i+":"+s)}),this.lazyHash_=""===n?"":sde(n)}return this.lazyHash_}getPredecessorChildName(n,i,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new ur(n,i));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const i=this.resolveIndex_(n);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(n){const i=this.getFirstChildName(n);return i?new ur(i,this.children_.get(i)):null}getLastChildName(n){const i=this.resolveIndex_(n);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(n){const i=this.getLastChildName(n);return i?new ur(i,this.children_.get(i)):null}forEachChild(n,i){const r=this.resolveIndex_(n);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,ur.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,ur.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===wM?-1:0}withIndex(n){if(n===fg||this.indexMap_.hasIndex(n))return this;{const i=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===fg||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const i=n;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Rs),s=i.getIterator(Rs);let o=r.getNext(),c=s.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=r.getNext(),c=s.getNext()}return null===o&&null===c}return!1}return!1}}resolveIndex_(n){return n===fg?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const wM=new class xFe extends Ki{constructor(){super(new ku(BK),Ki.EMPTY_NODE,xv.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ki.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(ur,{MIN:{value:new ur(Wy,Ki.EMPTY_NODE)},MAX:{value:new ur(Dv,wM)}}),Wde.__EMPTY_NODE=Ki.EMPTY_NODE,sA.__childrenNodeConstructor=Ki,function SFe(t){HK=t}(wM),function TFe(t){Kde=t}(wM);const PFe=!0;function Ao(t,e=null){if(null===t)return Ki.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Ln(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new sA(t,Ao(e));if(t instanceof Array||!PFe){let n=Ki.EMPTY_NODE;return Za(t,(i,r)=>{if(Zp(t,i)&&"."!==i.substring(0,1)){const s=Ao(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(Ao(e))}{const n=[];let i=!1;if(Za(t,(o,c)=>{if("."!==o.substring(0,1)){const d=Ao(c);d.isEmpty()||(i=i||!d.getPriority().isEmpty(),n.push(new ur(o,d)))}}),0===n.length)return Ki.EMPTY_NODE;const s=I5(n,EFe,o=>o.name,BK);if(i){const o=I5(n,Rs.getCompare());return new Ki(s,Ao(e),new xv({".priority":o},{".priority":Rs}))}return new Ki(s,Ao(e),xv.Default)}}!function IFe(t){qde=t}(Ao);class WK extends w5{constructor(e){super(),this.indexPath_=e,Ln(!sr(e)&&".priority"!==rr(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),s=i.compareTo(r);return 0===s?FE(e.name,n.name):s}makePost(e,n){const i=Ao(e),r=Ki.EMPTY_NODE.updateChild(this.indexPath_,i);return new ur(n,r)}maxPost(){const e=Ki.EMPTY_NODE.updateChild(this.indexPath_,wM);return new ur(Dv,e)}toString(){return yM(this.indexPath_,0).join("/")}}const zK=new class MFe extends w5{compare(e,n){const i=e.node.compareTo(n.node);return 0===i?FE(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ur.MIN}maxPost(){return ur.MAX}makePost(e,n){const i=Ao(e);return new ur(n,i)}toString(){return".value"}};function SM(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class $K{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Rs}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Ln(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ln(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Wy}hasEnd(){return this.endSet_}getIndexEndValue(){return Ln(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ln(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Dv}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Ln(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Rs}copy(){const e=new $K;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Xde(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Rs?n="$priority":t.index_===zK?n="$value":t.index_===fg?n="$key":(Ln(t.index_ instanceof WK,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=yl(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=yl(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+yl(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=yl(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+yl(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Qde(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Rs&&(e.i=t.index_.toString()),e}class A5 extends Fde{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=gM("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(Ln(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=A5.getListenId_(e,i),c={};this.listens_[o]=c;const d=Xde(e._queryParams);this.restRequest_(s+".json",d,(p,m)=>{let y=m;if(404===p&&(y=null,p=null),null===p&&this.onDataUpdate_(s,y,!1,i),JI(this.listens_,o)===c){let A;A=p?401===p?"permission_denied":"rest_error:"+p:"ok",r(A,null)}})}unlisten(e,n){const i=A5.getListenId_(e,n);delete this.listens_[i]}get(e){const n=Xde(e._queryParams),i=e._path.toString(),r=new Tk;return this.restRequest_(i+".json",n,(s,o)=>{let c=o;404===s&&(c=null,s=null),null===s?(this.onDataUpdate_(i,c,!1,null),r.resolve(c)):r.reject(new Error(c))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ZI(n);this.log_("Sending REST request for "+o);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&4===c.readyState){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let d=null;if(c.status>=200&&c.status<300){try{d=F1(c.responseText)}catch{sc("Failed to parse JSON response for "+o+": "+c.responseText)}i(null,d)}else 401!==c.status&&404!==c.status&&sc("Got unsuccessful REST response for "+o+" Status: "+c.status),i(c.status);i=null}},c.open("GET",o,!0),c.send()})}}class BFe{constructor(){this.rootNode_=Ki.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function R5(){return{value:null,children:new Map}}function lA(t,e,n){if(sr(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const i=rr(e);t.children.has(i)||t.children.set(i,R5()),lA(t.children.get(i),e=ys(e),n)}}function XK(t,e,n){null!==t.value?n(e,t.value):function HFe(t,e){t.children.forEach((n,i)=>{e(i,n)})}(t,(i,r)=>{XK(r,new ns(e.toString()+"/"+i),n)})}class UFe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Za(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}class jFe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new UFe(e);const i=1e4+2e4*Math.random();vM(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Za(e,(r,s)=>{s>0&&Zp(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),vM(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var pg=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(pg||{});function ZK(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class D5{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=pg.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(sr(this.path)){if(null!=this.affectedTree.value)return Ln(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ns(e));return new D5(Ur(),n,this.revert)}}return Ln(rr(this.path)===e,"operationForChild called for unrelated child."),new D5(ys(this.path),this.affectedTree,this.revert)}}class VE{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=pg.OVERWRITE}operationForChild(e){return sr(this.path)?new VE(this.source,Ur(),this.snap.getImmediateChild(e)):new VE(this.source,ys(this.path),this.snap)}}class cA{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=pg.MERGE}operationForChild(e){if(sr(this.path)){const n=this.children.subtree(new ns(e));return n.isEmpty()?null:n.value?new VE(this.source,Ur(),n.value):new cA(this.source,Ur(),n)}return Ln(rr(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new cA(this.source,ys(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class $y{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(sr(e))return this.isFullyInitialized()&&!this.filtered_;const n=rr(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function AM(t,e,n,i,r,s){const o=i.filter(c=>c.type===n);o.sort((c,d)=>function YFe(t,e,n){if(null==e.childName||null==n.childName)throw XI("Should only compare child_ events.");const i=new ur(e.childName,e.snapshotNode),r=new ur(n.childName,n.snapshotNode);return t.index_.compare(i,r)}(t,c,d)),o.forEach(c=>{const d=function KFe(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,c,s);r.forEach(p=>{p.respondsTo(c.type)&&e.push(p.createEvent(d,t.query_))})})}function x5(t,e){return{eventCache:t,serverCache:e}}function RM(t,e,n,i){return x5(new $y(e,n,i),t.serverCache)}function Zde(t,e,n,i){return x5(t.eventCache,new $y(e,n,i))}function P5(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function GE(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let eY;class Ds{constructor(e,n=(()=>(eY||(eY=new ku(NOe)),eY))()){this.value=e,this.children=n}static fromObject(e){let n=new Ds(null);return Za(e,(i,r)=>{n=n.set(new ns(i),r)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:Ur(),value:this.value};if(sr(e))return null;{const i=rr(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(ys(e),n);return null!=s?{path:uo(new ns(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(sr(e))return this;{const n=rr(e),i=this.children.get(n);return null!==i?i.subtree(ys(e)):new Ds(null)}}set(e,n){if(sr(e))return new Ds(n,this.children);{const i=rr(e),s=(this.children.get(i)||new Ds(null)).set(ys(e),n),o=this.children.insert(i,s);return new Ds(this.value,o)}}remove(e){if(sr(e))return this.children.isEmpty()?new Ds(null):new Ds(null,this.children);{const n=rr(e),i=this.children.get(n);if(i){const r=i.remove(ys(e));let s;return s=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),null===this.value&&s.isEmpty()?new Ds(null):new Ds(this.value,s)}return this}}get(e){if(sr(e))return this.value;{const n=rr(e),i=this.children.get(n);return i?i.get(ys(e)):null}}setTree(e,n){if(sr(e))return n;{const i=rr(e),s=(this.children.get(i)||new Ds(null)).setTree(ys(e),n);let o;return o=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Ds(this.value,o)}}fold(e){return this.fold_(Ur(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(uo(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Ur(),n)}findOnPath_(e,n,i){const r=!!this.value&&i(n,this.value);if(r)return r;if(sr(e))return null;{const s=rr(e),o=this.children.get(s);return o?o.findOnPath_(ys(e),uo(n,s),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ur(),n)}foreachOnPath_(e,n,i){if(sr(e))return this;{this.value&&i(n,this.value);const r=rr(e),s=this.children.get(r);return s?s.foreachOnPath_(ys(e),uo(n,r),i):new Ds(null)}}foreach(e){this.foreach_(Ur(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(uo(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}class Tf{constructor(e){this.writeTree_=e}static empty(){return new Tf(new Ds(null))}}function DM(t,e,n){if(sr(e))return new Tf(new Ds(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const o=qc(r,e);return s=s.updateChild(o,n),new Tf(t.writeTree_.set(r,s))}{const r=new Ds(n),s=t.writeTree_.setTree(e,r);return new Tf(s)}}}function tY(t,e,n){let i=t;return Za(n,(r,s)=>{i=DM(i,uo(e,r),s)}),i}function ehe(t,e){if(sr(e))return Tf.empty();{const n=t.writeTree_.setTree(e,new Ds(null));return new Tf(n)}}function nY(t,e){return null!=BE(t,e)}function BE(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(qc(n.path,e)):null}function the(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Rs,(i,r)=>{e.push(new ur(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new ur(i,r.value))}),e}function qy(t,e){if(sr(e))return t;{const n=BE(t,e);return new Tf(null!=n?new Ds(n):t.writeTree_.subtree(e))}}function iY(t){return t.writeTree_.isEmpty()}function uA(t,e){return nhe(Ur(),t.writeTree_,e)}function nhe(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?(Ln(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):n=nhe(uo(t,r),s,n)}),!n.getChild(t).isEmpty()&&null!==i&&(n=n.updateChild(uo(t,".priority"),i)),n}}function M5(t,e){return ahe(e,t)}function t2e(t,e){if(t.snap)return _h(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&_h(uo(t.path,n),e))return!0;return!1}function i2e(t){return t.visible}function ihe(t,e,n){let i=Tf.empty();for(let r=0;r<t.length;++r){const s=t[r];if(e(s)){const o=s.path;let c;if(s.snap)_h(n,o)?(c=qc(n,o),i=DM(i,c,s.snap)):_h(o,n)&&(c=qc(o,n),i=DM(i,Ur(),s.snap.getChild(c)));else{if(!s.children)throw XI("WriteRecord should have .snap or .children");if(_h(n,o))c=qc(n,o),i=tY(i,c,s.children);else if(_h(o,n))if(c=qc(o,n),sr(c))i=tY(i,Ur(),s.children);else{const d=JI(s.children,rr(c));if(d){const p=d.getChild(ys(c));i=DM(i,Ur(),p)}}}}}return i}function rhe(t,e,n,i,r){if(i||r){const s=qy(t.visibleWrites,e);return!r&&iY(s)?n:r||null!=n||nY(s,Ur())?uA(ihe(t.allWrites,function(p){return(p.visible||r)&&(!i||!~i.indexOf(p.writeId))&&(_h(p.path,e)||_h(e,p.path))},e),n||Ki.EMPTY_NODE):null}{const s=BE(t.visibleWrites,e);if(null!=s)return s;{const o=qy(t.visibleWrites,e);return iY(o)?n:null!=n||nY(o,Ur())?uA(o,n||Ki.EMPTY_NODE):null}}}function N5(t,e,n,i){return rhe(t.writeTree,t.treePath,e,n,i)}function rY(t,e){return function r2e(t,e,n){let i=Ki.EMPTY_NODE;const r=BE(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Rs,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){const s=qy(t.visibleWrites,e);return n.forEachChild(Rs,(o,c)=>{const d=uA(qy(s,new ns(o)),c);i=i.updateImmediateChild(o,d)}),the(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}return the(qy(t.visibleWrites,e)).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}(t.writeTree,t.treePath,e)}function she(t,e,n,i){return function s2e(t,e,n,i,r){Ln(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=uo(e,n);if(nY(t.visibleWrites,s))return null;{const o=qy(t.visibleWrites,s);return iY(o)?r.getChild(n):uA(o,r.getChild(n))}}(t.writeTree,t.treePath,e,n,i)}function O5(t,e){return function a2e(t,e){return BE(t.visibleWrites,e)}(t.writeTree,uo(t.treePath,e))}function sY(t,e,n){return function o2e(t,e,n,i){const r=uo(e,n),s=BE(t.visibleWrites,r);return null!=s?s:i.isCompleteForChild(n)?uA(qy(t.visibleWrites,r),i.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function ohe(t,e){return ahe(uo(t.treePath,e),t.writeTree)}function ahe(t,e){return{treePath:t,writeTree:e}}class d2e{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;Ln("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),Ln(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(i,SM(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(i,function EM(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}(i,r.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(i,function aA(t,e){return{type:"child_added",snapshotNode:e,childName:t}}(i,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw XI("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,SM(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const lhe=new class h2e{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}};class oY{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new $y(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return sY(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:GE(this.viewCache_),s=function u2e(t,e,n,i,r,s){return function l2e(t,e,n,i,r,s,o){let c;const d=qy(t.visibleWrites,e),p=BE(d,Ur());if(null!=p)c=p;else{if(null==n)return[];c=uA(d,n)}if(c=c.withIndex(o),c.isEmpty()||c.isLeafNode())return[];{const m=[],y=o.getCompare(),A=s?c.getReverseIteratorFrom(i,o):c.getIteratorFrom(i,o);let k=A.getNext();for(;k&&m.length<r;)0!==y(k,i)&&m.push(k),k=A.getNext();return m}}(t.writeTree,t.treePath,e,n,i,r,s)}(this.writes_,r,n,1,i,e);return 0===s.length?null:s[0]}}function che(t,e,n,i,r,s){const o=e.eventCache;if(null!=O5(i,n))return e;{let c,d;if(sr(n))if(Ln(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=GE(e),y=rY(i,p instanceof Ki?p:Ki.EMPTY_NODE);c=t.filter.updateFullNode(e.eventCache.getNode(),y,s)}else{const p=N5(i,GE(e));c=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{const p=rr(n);if(".priority"===p){Ln(1===jy(n),"Can't have a priority with additional path components");const m=o.getNode();d=e.serverCache.getNode();const y=she(i,n,m,d);c=null!=y?t.filter.updatePriority(m,y):o.getNode()}else{const m=ys(n);let y;if(o.isCompleteForChild(p)){d=e.serverCache.getNode();const A=she(i,n,o.getNode(),d);y=null!=A?o.getNode().getImmediateChild(p).updateChild(m,A):o.getNode().getImmediateChild(p)}else y=sY(i,p,e.serverCache);c=null!=y?t.filter.updateChild(o.getNode(),p,y,m,r,s):o.getNode()}}return RM(e,c,o.isFullyInitialized()||sr(n),t.filter.filtersNodes())}}function F5(t,e,n,i,r,s,o,c){const d=e.serverCache;let p;const m=o?t.filter:t.filter.getIndexedFilter();if(sr(n))p=m.updateFullNode(d.getNode(),i,null);else if(m.filtersNodes()&&!d.isFiltered()){const k=d.getNode().updateChild(n,i);p=m.updateFullNode(d.getNode(),k,null)}else{const k=rr(n);if(!d.isCompleteForPath(n)&&jy(n)>1)return e;const U=ys(n),Q=d.getNode().getImmediateChild(k).updateChild(U,i);p=".priority"===k?m.updatePriority(d.getNode(),Q):m.updateChild(d.getNode(),k,Q,U,lhe,null)}const y=Zde(e,p,d.isFullyInitialized()||sr(n),m.filtersNodes());return che(t,y,n,r,new oY(r,y,s),c)}function aY(t,e,n,i,r,s,o){const c=e.eventCache;let d,p;const m=new oY(r,e,s);if(sr(n))p=t.filter.updateFullNode(e.eventCache.getNode(),i,o),d=RM(e,p,!0,t.filter.filtersNodes());else{const y=rr(n);if(".priority"===y)p=t.filter.updatePriority(e.eventCache.getNode(),i),d=RM(e,p,c.isFullyInitialized(),c.isFiltered());else{const A=ys(n),k=c.getNode().getImmediateChild(y);let U;if(sr(A))U=i;else{const X=m.getCompleteChild(y);U=null!=X?".priority"===kK(A)&&X.getChild(Gde(A)).isEmpty()?X:X.updateChild(A,i):Ki.EMPTY_NODE}d=k.equals(U)?e:RM(e,t.filter.updateChild(c.getNode(),y,U,A,m,o),c.isFullyInitialized(),t.filter.filtersNodes())}}return d}function uhe(t,e){return t.eventCache.isCompleteForChild(e)}function dhe(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function lY(t,e,n,i,r,s,o,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p,d=e;p=sr(n)?i:new Ds(null).setTree(n,i);const m=e.serverCache.getNode();return p.children.inorderTraversal((y,A)=>{if(m.hasChild(y)){const U=dhe(0,e.serverCache.getNode().getImmediateChild(y),A);d=F5(t,d,new ns(y),U,r,s,o,c)}}),p.children.inorderTraversal((y,A)=>{const k=!e.serverCache.isCompleteForChild(y)&&null===A.value;if(!m.hasChild(y)&&!k){const X=dhe(0,e.serverCache.getNode().getImmediateChild(y),A);d=F5(t,d,new ns(y),X,r,s,o,c)}}),d}function S2e(t,e){const n=GE(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!sr(e)&&!n.getImmediateChild(rr(e)).isEmpty())?n.getChild(e):null}function phe(t,e,n,i){e.type===pg.MERGE&&null!==e.source.queryId&&(Ln(GE(t.viewCache_),"We should always have a full cache before handling merges"),Ln(P5(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,s=function g2e(t,e,n,i,r){const s=new d2e;let o,c;if(n.type===pg.OVERWRITE){const p=n;p.source.fromUser?o=aY(t,e,p.path,p.snap,i,r,s):(Ln(p.source.fromServer,"Unknown source."),c=p.source.tagged||e.serverCache.isFiltered()&&!sr(p.path),o=F5(t,e,p.path,p.snap,i,r,c,s))}else if(n.type===pg.MERGE){const p=n;p.source.fromUser?o=function v2e(t,e,n,i,r,s,o){let c=e;return i.foreach((d,p)=>{const m=uo(n,d);uhe(e,rr(m))&&(c=aY(t,c,m,p,r,s,o))}),i.foreach((d,p)=>{const m=uo(n,d);uhe(e,rr(m))||(c=aY(t,c,m,p,r,s,o))}),c}(t,e,p.path,p.children,i,r,s):(Ln(p.source.fromServer,"Unknown source."),c=p.source.tagged||e.serverCache.isFiltered(),o=lY(t,e,p.path,p.children,i,r,c,s))}else if(n.type===pg.ACK_USER_WRITE){const p=n;o=p.revert?function C2e(t,e,n,i,r,s){let o;if(null!=O5(i,n))return e;{const c=new oY(i,e,r),d=e.eventCache.getNode();let p;if(sr(n)||".priority"===rr(n)){let m;if(e.serverCache.isFullyInitialized())m=N5(i,GE(e));else{const y=e.serverCache.getNode();Ln(y instanceof Ki,"serverChildren would be complete if leaf node"),m=rY(i,y)}p=t.filter.updateFullNode(d,m,s)}else{const m=rr(n);let y=sY(i,m,e.serverCache);null==y&&e.serverCache.isCompleteForChild(m)&&(y=d.getImmediateChild(m)),p=null!=y?t.filter.updateChild(d,m,y,ys(n),c,s):e.eventCache.getNode().hasChild(m)?t.filter.updateChild(d,m,Ki.EMPTY_NODE,ys(n),c,s):d,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=N5(i,GE(e)),o.isLeafNode()&&(p=t.filter.updateFullNode(p,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=O5(i,Ur()),RM(e,p,o,t.filter.filtersNodes())}}(t,e,p.path,i,r,s):function _2e(t,e,n,i,r,s,o){if(null!=O5(r,n))return e;const c=e.serverCache.isFiltered(),d=e.serverCache;if(null!=i.value){if(sr(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return F5(t,e,n,d.getNode().getChild(n),r,s,c,o);if(sr(n)){let p=new Ds(null);return d.getNode().forEachChild(fg,(m,y)=>{p=p.set(new ns(m),y)}),lY(t,e,n,p,r,s,c,o)}return e}{let p=new Ds(null);return i.foreach((m,y)=>{const A=uo(n,m);d.isCompleteForPath(A)&&(p=p.set(m,d.getNode().getChild(A)))}),lY(t,e,n,p,r,s,c,o)}}(t,e,p.path,p.affectedTree,i,r,s)}else{if(n.type!==pg.LISTEN_COMPLETE)throw XI("Unknown operation type: "+n.type);o=function y2e(t,e,n,i,r){const s=e.serverCache;return che(t,Zde(e,s.getNode(),s.isFullyInitialized()||sr(n),s.isFiltered()),n,i,lhe,r)}(t,e,n.path,i,s)}const d=s.getChanges();return function m2e(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=P5(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(function Yde(t){return{type:"value",snapshotNode:t}}(P5(e)))}}(e,o,d),{viewCache:o,changes:d}}(t.processor_,r,e,n,i);return function p2e(t,e){Ln(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Ln(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),Ln(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,function ghe(t,e,n,i){return function qFe(t,e,n,i){const r=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function NFe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),AM(t,r,"child_removed",e,i,n),AM(t,r,"child_added",e,i,n),AM(t,r,"child_moved",s,i,n),AM(t,r,"child_changed",e,i,n),AM(t,r,"value",e,i,n),r}(t.eventGenerator_,e,n,i?[i]:t.eventRegistrations_)}(t,s.changes,s.viewCache.eventCache.getNode(),null)}let L5,V5;function cY(t,e,n,i){const r=e.source.queryId;if(null!==r){const s=t.views.get(r);return Ln(null!=s,"SyncTree gave us an op for an invalid query."),phe(s,e,n,i)}{let s=[];for(const o of t.views.values())s=s.concat(phe(o,e,n,i));return s}}function Ky(t,e){let n=null;for(const i of t.views.values())n=n||S2e(i,e);return n}class bhe{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ds(null),this.pendingWriteTree_=function c2e(){return{visibleWrites:Tf.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function uY(t,e,n,i,r){return function QFe(t,e,n,i,r){Ln(i>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=DM(t.visibleWrites,e,n)),t.lastWriteId=i}(t.pendingWriteTree_,e,n,i,r),r?dA(t,new VE({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Xy(t,e,n=!1){const i=function ZFe(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}(t.pendingWriteTree_,e);if(function e2e(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);Ln(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const c=t.allWrites[o];c.visible&&(o>=n&&t2e(c,i.path)?r=!1:_h(i.path,c.path)&&(s=!0)),o--}return!!r&&(s?(function n2e(t){t.visibleWrites=ihe(t.allWrites,i2e,Ur()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(i.snap?t.visibleWrites=ehe(t.visibleWrites,i.path):Za(i.children,d=>{t.visibleWrites=ehe(t.visibleWrites,uo(i.path,d))}),!0))}(t.pendingWriteTree_,e)){let s=new Ds(null);return null!=i.snap?s=s.set(Ur(),!0):Za(i.children,o=>{s=s.set(new ns(o),!0)}),dA(t,new D5(i.path,s,n))}return[]}function xM(t,e,n){return dA(t,new VE({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function B5(t,e,n){const r=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,c)=>{const p=Ky(c,qc(o,e));if(p)return p});return rhe(r,e,s,n,!0)}function dA(t,e){return Ehe(e,t.syncPointTree_,null,M5(t.pendingWriteTree_,Ur()))}function Ehe(t,e,n,i){if(sr(t.path))return She(t,e,n,i);{const r=e.get(Ur());null==n&&null!=r&&(n=Ky(r,Ur()));let s=[];const o=rr(t.path),c=t.operationForChild(o),d=e.children.get(o);if(d&&c){const p=n?n.getImmediateChild(o):null,m=ohe(i,o);s=s.concat(Ehe(c,d,p,m))}return r&&(s=s.concat(cY(r,t,i,n))),s}}function She(t,e,n,i){const r=e.get(Ur());null==n&&null!=r&&(n=Ky(r,Ur()));let s=[];return e.children.inorderTraversal((o,c)=>{const d=n?n.getImmediateChild(o):null,p=ohe(i,o),m=t.operationForChild(o);m&&(s=s.concat(She(m,c,d,p)))}),r&&(s=s.concat(cY(r,t,i,n))),s}function hY(t,e){return t.tagToQueryMap.get(e)}function fY(t){const e=t.indexOf("$");return Ln(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ns(t.substr(0,e))}}function pY(t,e,n){const i=t.syncPointTree_.get(e);return Ln(i,"Missing sync point for query tag that we're tracking"),cY(i,n,M5(t.pendingWriteTree_,e),null)}class gY{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new gY(n)}node(){return this.node_}}class mY{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=uo(this.path_,e);return new mY(this.syncTree_,n)}node(){return B5(this.syncTree_,this.path_)}}const j2e=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},The=function(t,e,n){return t&&"object"==typeof t?(Ln(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?$2e(t[".sv"],e,n):"object"==typeof t[".sv"]?q2e(t[".sv"],e):void Ln(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},$2e=function(t,e,n){if("timestamp"===t)return n.timestamp;Ln(!1,"Unexpected server value: "+t)},q2e=function(t,e,n){t.hasOwnProperty("increment")||Ln(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;"number"!=typeof i&&Ln(!1,"Unexpected increment value: "+i);const r=e.node();if(Ln(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return"number"!=typeof o?i:o+i},Ahe=function(t,e,n,i){return _Y(e,new mY(n,t),i)},vY=function(t,e,n){return _Y(t,new gY(e),n)};function _Y(t,e,n){const i=t.getPriority().val(),r=The(i,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,c=The(o.getValue(),e,n);return c!==o.getValue()||r!==o.getPriority().val()?new sA(c,Ao(r)):t}{const o=t;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new sA(r))),o.forEachChild(Rs,(c,d)=>{const p=_Y(d,e.getImmediateChild(c),n);p!==d&&(s=s.updateImmediateChild(c,p))}),s}}class yY{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function U5(t,e){let n=e instanceof ns?e:new ns(e),i=t,r=rr(n);for(;null!==r;){const s=JI(i.node.children,r)||{children:{},childCount:0};i=new yY(r,i,s),n=ys(n),r=rr(n)}return i}function HE(t){return t.node.value}function CY(t,e){t.node.value=e,bY(t)}function Rhe(t){return t.node.childCount>0}function W5(t,e){Za(t.node.children,(n,i)=>{e(new yY(n,t,i))})}function Dhe(t,e,n,i){n&&!i&&e(t),W5(t,r=>{Dhe(r,e,!0,i)}),n&&i&&e(t)}function NM(t){return new ns(null===t.parent?t.name:NM(t.parent)+"/"+t.name)}function bY(t){null!==t.parent&&function X2e(t,e,n){const i=function K2e(t){return void 0===HE(t)&&!Rhe(t)}(n),r=Zp(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,bY(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,bY(t))}(t.parent,t.name,t)}const Q2e=/[\[\].#$\/\u0000-\u001F\u007F]/,J2e=/[\[\].#$\u0000-\u001F\u007F]/,wY=10485760,z5=function(t){return"string"==typeof t&&0!==t.length&&!Q2e.test(t)},FM=function(t,e,n){const i=n instanceof ns?new gFe(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+LE(i));if("function"==typeof e)throw new Error(t+"contains a function "+LE(i)+" with contents = "+e.toString());if(_5(e))throw new Error(t+"contains "+e.toString()+" "+LE(i));if("string"==typeof e&&e.length>wY/3&&xk(e)>wY)throw new Error(t+"contains a string greater than "+wY+" utf8 bytes "+LE(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(Za(e,(o,c)=>{if(".value"===o)r=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!z5(o)))throw new Error(t+" contains an invalid key ("+o+") "+LE(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function mFe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=xk(e),Bde(t)})(i,o),FM(t,c,i),function vFe(t){const e=t.parts_.pop();t.byteLength_-=xk(e),t.parts_.length>0&&(t.byteLength_-=1)}(i)}),r&&s)throw new Error(t+' contains ".value" child '+LE(i)+" in addition to actual children.")}},Mhe=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!z5(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),function(t){return"string"==typeof t&&0!==t.length&&!J2e.test(t)}(t)}(n))throw new Error(function V1(t,e){return`${t} failed: ${e} argument `}(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class nLe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function md(t,e,n){(function j5(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==n&&!VK(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)})(t,n),function Ohe(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];r&&(e(r.path)?(iLe(t.eventLists_[i]),t.eventLists_[i]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,i=>_h(i,e)||_h(e,i))}function iLe(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const i=n.getEventRunner();OE&&Ja("event: "+n.toString()),iA(i)}}}const rLe=25;class sLe{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nLe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=R5(),this.transactionQueueTree_=new yY,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Lhe(t){const n=t.infoData_.getNode(new ns(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function kM(t){return j2e({timestamp:Lhe(t)})}function khe(t,e,n,i,r){t.dataUpdateCount++;const s=new ns(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(i){const d=Dk(n,p=>Ao(p));o=function G2e(t,e,n,i){const r=hY(t,i);if(r){const s=fY(r),o=s.path,c=s.queryId,d=qc(o,e),p=Ds.fromObject(n);return pY(t,o,new cA(ZK(c),d,p))}return[]}(t.serverSyncTree_,s,d,r)}else{const d=Ao(n);o=function whe(t,e,n,i){const r=hY(t,i);if(null!=r){const s=fY(r),o=s.path,c=s.queryId,d=qc(o,e);return pY(t,o,new VE(ZK(c),d,n))}return[]}(t.serverSyncTree_,s,d,r)}else if(i){const d=Dk(n,p=>Ao(p));o=function L2e(t,e,n){const i=Ds.fromObject(n);return dA(t,new cA({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,s,d)}else{const d=Ao(n);o=xM(t.serverSyncTree_,s,d)}let c=s;o.length>0&&(c=fA(t,s)),md(t.eventQueue_,c,o)}function Vhe(t,e){IY(t,"connected",e),!1===e&&function uLe(t){hA(t,"onDisconnectEvents");const e=kM(t),n=R5();XK(t.onDisconnect_,Ur(),(r,s)=>{const o=Ahe(r,s,t.serverSyncTree_,e);lA(n,r,o)});let i=[];XK(n,Ur(),(r,s)=>{i=i.concat(xM(t.serverSyncTree_,r,s));const o=function DY(t,e){const n=NM(Hhe(t,e)),i=U5(t.transactionQueueTree_,e);return function Y2e(t,e,n){let i=n?t:t.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{xY(t,r)}),xY(t,i),Dhe(i,r=>{xY(t,r)}),n}(t,r);fA(t,o)}),t.onDisconnect_=R5(),md(t.eventQueue_,Ur(),i)}(t)}function IY(t,e,n){const i=new ns("/.info/"+e),r=Ao(n);t.infoData_.updateSnapshot(i,r);const s=xM(t.infoSyncTree_,i,r);md(t.eventQueue_,i,s)}function $5(t){return t.nextWriteId_++}function hA(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ja(n,...e)}function RY(t,e,n){return B5(t.serverSyncTree_,e,n)||Ki.EMPTY_NODE}function q5(t,e=t.transactionQueueTree_){if(e||K5(t,e),HE(e)){const n=Uhe(t,e);Ln(n.length>0,"Sending zero length transaction queue"),n.every(r=>0===r.status)&&function vLe(t,e,n){const i=n.map(p=>p.currentWriteId),r=RY(t,e,i);let s=r;const o=r.hash();for(let p=0;p<n.length;p++){const m=n[p];Ln(0===m.status,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const y=qc(e,m.path);s=s.updateChild(y,m.currentOutputSnapshotRaw)}const c=s.val(!0),d=e;t.server_.put(d.toString(),c,p=>{hA(t,"transaction put response",{path:d.toString(),status:p});let m=[];if("ok"===p){const y=[];for(let A=0;A<n.length;A++)n[A].status=2,m=m.concat(Xy(t.serverSyncTree_,n[A].currentWriteId)),n[A].onComplete&&y.push(()=>n[A].onComplete(null,!0,n[A].currentOutputSnapshotResolved)),n[A].unwatcher();K5(t,U5(t.transactionQueueTree_,e)),q5(t,t.transactionQueueTree_),md(t.eventQueue_,e,m);for(let A=0;A<y.length;A++)iA(y[A])}else{if("datastale"===p)for(let y=0;y<n.length;y++)n[y].status=3===n[y].status?4:0;else{sc("transaction at "+d.toString()+" failed: "+p);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=p}fA(t,e)}},o)}(t,NM(e),n)}else Rhe(e)&&W5(e,n=>{q5(t,n)})}function fA(t,e){const n=Hhe(t,e),i=NM(n);return function _Le(t,e,n){if(0===e.length)return;const i=[];let r=[];const o=e.filter(c=>0===c.status).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const d=e[c],p=qc(n,d.path);let y,m=!1;if(Ln(null!==p,"rerunTransactionsUnderNode_: relativePath should not be null."),4===d.status)m=!0,y=d.abortReason,r=r.concat(Xy(t.serverSyncTree_,d.currentWriteId,!0));else if(0===d.status)if(d.retryCount>=rLe)m=!0,y="maxretry",r=r.concat(Xy(t.serverSyncTree_,d.currentWriteId,!0));else{const A=RY(t,d.path,o);d.currentInputSnapshot=A;const k=e[c].update(A.val());if(void 0!==k){FM("transaction failed: Data returned ",k,d.path);let U=Ao(k);"object"==typeof k&&null!=k&&Zp(k,".priority")||(U=U.updatePriority(A.getPriority()));const Q=d.currentWriteId,pe=kM(t),Ie=vY(U,A,pe);d.currentOutputSnapshotRaw=U,d.currentOutputSnapshotResolved=Ie,d.currentWriteId=$5(t),o.splice(o.indexOf(Q),1),r=r.concat(uY(t.serverSyncTree_,d.path,Ie,d.currentWriteId,d.applyLocally)),r=r.concat(Xy(t.serverSyncTree_,Q,!0))}else m=!0,y="nodata",r=r.concat(Xy(t.serverSyncTree_,d.currentWriteId,!0))}md(t.eventQueue_,n,r),r=[],m&&(e[c].status=2,setTimeout(e[c].unwatcher,Math.floor(0)),e[c].onComplete&&i.push("nodata"===y?()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot):()=>e[c].onComplete(new Error(y),!1,null)))}K5(t,t.transactionQueueTree_);for(let c=0;c<i.length;c++)iA(i[c]);q5(t,t.transactionQueueTree_)}(t,Uhe(t,n),i),i}function Hhe(t,e){let n,i=t.transactionQueueTree_;for(n=rr(e);null!==n&&void 0===HE(i);)i=U5(i,n),n=rr(e=ys(e));return i}function Uhe(t,e){const n=[];return Whe(t,e,n),n.sort((i,r)=>i.order-r.order),n}function Whe(t,e,n){const i=HE(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);W5(e,r=>{Whe(t,r,n)})}function K5(t,e){const n=HE(e);if(n){let i=0;for(let r=0;r<n.length;r++)2!==n[r].status&&(n[i]=n[r],i++);n.length=i,CY(e,n.length>0?n:void 0)}W5(e,i=>{K5(t,i)})}function xY(t,e){const n=HE(e);if(n){const i=[];let r=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Ln(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Ln(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(Xy(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?CY(e,void 0):n.length=s+1,md(t.eventQueue_,NM(e),r);for(let o=0;o<i.length;o++)iA(i[o])}}const PY=function(t,e){const n=bLe(t),i=n.namespace;return"firebase.com"===n.domain&&hg(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==n.domain&&hg("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&sc("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new PK(n.host,n.secure,i,"ws"===n.scheme||"wss"===n.scheme,e,"",i!==n.subdomain),path:new ns(n.pathString)}},bLe=function(t){let e="",n="",i="",r="",s="",o=!0,c="https",d=443;if("string"==typeof t){let p=t.indexOf("//");p>=0&&(c=t.substring(0,p-1),t=t.substring(p+2));let m=t.indexOf("/");-1===m&&(m=t.length);let y=t.indexOf("?");-1===y&&(y=t.length),e=t.substring(0,Math.min(m,y)),m<y&&(r=function yLe(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(t.substring(m,y)));const A=function CLe(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const i=n.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):sc(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,y)));p=e.indexOf(":"),p>=0?(o="https"===c||"wss"===c,d=parseInt(e.substring(p+1),10)):p=e.length;const k=e.slice(0,p);if("localhost"===k.toLowerCase())n="localhost";else if(k.split(".").length<=2)n=k;else{const U=e.indexOf(".");i=e.substring(0,U).toLowerCase(),n=e.substring(U+1),s=i}"ns"in A&&(s=A.ns)}return{host:e,port:d,domain:n,subdomain:i,secure:o,scheme:c,pathString:r,namespace:s}};class vd{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return sr(this._path)?null:kK(this._path)}get ref(){return new Af(this._repo,this._path)}get _queryIdentifier(){const e=Qde(this._queryParams),n=DK(e);return"{}"===n?"default":n}get _queryObject(){return Qde(this._queryParams)}isEqual(e){if(!((e=Hr(e))instanceof vd))return!1;const n=this._repo===e._repo,i=VK(this._path,e._path);return n&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function fFe(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class Af extends vd{constructor(e,n){super(e,n,new $K,!1)}get parent(){const e=Gde(this._path);return null===e?null:new Af(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function A2e(t){Ln(!L5,"__referenceConstructor has already been defined"),L5=t})(Af),function M2e(t){Ln(!V5,"__referenceConstructor has already been defined"),V5=t}(Af);const NY={};class BLe{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function oLe(t,e,n){if(t.stats_=OK(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new A5(t.repoInfo_,(i,r,s,o)=>{khe(t,i,r,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Vhe(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{yl(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new kE(t.repoInfo_,e,(i,r,s,o)=>{khe(t,i,r,s,o)},i=>{Vhe(t,i)},i=>{!function aLe(t,e){Za(e,(n,i)=>{IY(t,n,i)})}(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=function jOe(t,e){const n=t.toString();return NK[n]||(NK[n]=e()),NK[n]}(t.repoInfo_,()=>new jFe(t.stats_,t.server_)),t.infoData_=new BFe,t.infoSyncTree_=new bhe({startListening:(i,r,s,o)=>{let c=[];const d=t.infoData_.getNode(i._path);return d.isEmpty()||(c=xM(t.infoSyncTree_,i._path,d),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),IY(t,"connected",!1),t.serverSyncTree_=new bhe({startListening:(i,r,s,o)=>(t.server_.listen(i,s,r,(c,d)=>{const p=o(c,d);md(t.eventQueue_,i._path,p)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Af(this._repo,Ur())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function kLe(t,e){const n=NY[e];(!n||n[t.key]!==t)&&hg(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function Bhe(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&hg("Cannot call "+e+" on a deleted database.")}}function HLe(t=eg(),e){const n=Pu(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=Ik("database");i&&function ULe(t,e,n,i={}){(t=Hr(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&hg("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&hg('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new _M(_M.OWNER);else if(i.mockUserToken){const o="string"==typeof i.mockUserToken?i.mockUserToken:sW(i.mockUserToken,t.app.options.projectId);s=new _M(o)}!function LLe(t,e,n,i){t.repoInfo_=new PK(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}(r,e,n,s)}(n,...i)}return n}kE.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},kE.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function WLe(t){(function nde(t){TK=t})(ov),Cl(new ja("database",(e,{instanceIdentifier:n})=>function Qhe(t,e,n,i,r){let s=i||t.options.databaseURL;void 0===s&&(t.options.projectId||hg("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ja("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let d,p,o=PY(s,r),c=o.repoInfo;typeof process<"u"&&process.env&&(p=process.env.FIREBASE_DATABASE_EMULATOR_HOST),p?(d=!0,s=`http://${p}?ns=${c.namespace}`,o=PY(s,r),c=o.repoInfo):d=!o.repoInfo.secure;const m=r&&d?new _M(_M.OWNER):new UOe(t.name,t.options,e);Mhe("Invalid Firebase Database URL",o),sr(o.path)||hg("Database URL must point to the root of a Firebase Database (not including a child path).");const y=function VLe(t,e,n,i){let r=NY[e.name];r||(r={},NY[e.name]=r);let s=r[t.toURLString()];return s&&hg("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new sLe(t,!1,n,i),r[t.toURLString()]=s,s}(c,t,m,new HOe(t.name,n));return new BLe(y,t)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),Zi(ede,"1.0.8",t),Zi(ede,"1.0.8","esm2017")}();class OY{constructor(e){return e}}const FY=new h.nKC("angularfire2.database-instances");function KLe(t){return(e,n)=>{const i=e.runOutsideAngular(()=>t(n));return new OY(i)}}const YLe={provide:class $Le{constructor(){return wf("database")}},deps:[[new h.Xx1,FY]]},XLe={provide:OY,useFactory:function qLe(t,e){const n=tg("database",t,e);return n&&new OY(n)},deps:[[new h.Xx1,FY],hd]},JLe=ea(HLe,!0),kY="functions";class ike{constructor(e,n,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||n.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i.get().then(r=>this.appCheck=r,()=>{})}getAuthToken(){var e=this;return(0,te.A)(function*(){if(e.auth)try{const n=yield e.auth.getToken();return n?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return(0,te.A)(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(e){var n=this;return(0,te.A)(function*(){if(n.appCheck){const i=e?yield n.appCheck.getLimitedUseToken():yield n.appCheck.getToken();return i.error?null:i.token}return null})()}getContext(e){var n=this;return(0,te.A)(function*(){return{authToken:yield n.getAuthToken(),messagingToken:yield n.getMessagingToken(),appCheckToken:yield n.getAppCheckToken(e)}})()}}const VY="us-central1";class ske{constructor(e,n,i,r,s=VY,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new ike(n,i,r),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(s);this.customDomain=c.origin+("/"===c.pathname?"":c.pathname),this.region=VY}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}const ife="@firebase/functions";function gke(t=eg(),e=VY){const i=Pu(Hr(t),kY).getImmediate({identifier:e}),r=Ik("functions");return r&&function mke(t,e,n){!function oke(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}(Hr(t),e,n)}(i,...r),i}!function pke(t,e){Cl(new ja(kY,(i,{instanceIdentifier:r})=>{const s=i.getProvider("app").getImmediate(),o=i.getProvider("auth-internal"),c=i.getProvider("messaging-internal"),d=i.getProvider("app-check-internal");return new ske(s,o,c,d,r,t)},"PUBLIC").setMultipleInstances(!0)),Zi(ife,"0.11.8",e),Zi(ife,"0.11.8","esm2017")}(fetch.bind(self));class HY{constructor(e){return e}}const UY=new h.nKC("angularfire2.functions-instances");function yke(t){return(e,n)=>{const i=e.runOutsideAngular(()=>t(n));return new HY(i)}}const Cke={provide:class vke{constructor(){return wf("functions")}},deps:[[new h.Xx1,UY]]},bke={provide:HY,useFactory:function _ke(t,e){const n=tg("functions",t,e);return n&&new HY(n)},deps:[[new h.Xx1,UY],hd]},Eke=ea(gke,!0),Ske="/firebase-messaging-sw.js",Ike="/firebase-cloud-messaging-push-scope",ofe="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Tke="https://fcmregistrations.googleapis.com/v1",afe="google.c.a.c_id",Ake="google.c.a.c_l",Rke="google.c.a.ts";var Z5=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Z5||{});function Pv(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Pke(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),r=new Uint8Array(i.length);for(let s=0;s<i.length;++s)r[s]=i.charCodeAt(s);return r}const WY="fcm_token_details_db",Mke=5,lfe="fcm_token_object_Store";function zY(){return zY=(0,te.A)(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(WY))return null;let e=null;return(yield G1(WY,Mke,{upgrade:(i=(0,te.A)(function*(r,s,o,c){var d;if(s<2||!r.objectStoreNames.contains(lfe))return;const p=c.objectStore(lfe),m=yield p.index("fcmSenderId").get(t);if(yield p.clear(),m)if(2===s){const y=m;if(!y.auth||!y.p256dh||!y.endpoint)return;e={token:y.fcmToken,createTime:null!==(d=y.createTime)&&void 0!==d?d:Date.now(),subscriptionOptions:{auth:y.auth,p256dh:y.p256dh,endpoint:y.endpoint,swScope:y.swScope,vapidKey:"string"==typeof y.vapidKey?y.vapidKey:Pv(y.vapidKey)}}}else if(3===s){const y=m;e={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:Pv(y.auth),p256dh:Pv(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:Pv(y.vapidKey)}}}else if(4===s){const y=m;e={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:Pv(y.auth),p256dh:Pv(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:Pv(y.vapidKey)}}}}),function(s,o,c,d){return i.apply(this,arguments)})})).close(),yield vW(WY),yield vW("fcm_vapid_details_db"),yield vW("undefined"),function Oke(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var i}),zY.apply(this,arguments)}const Fke="firebase-messaging-database",Lke=1,WE="firebase-messaging-store";let jY=null;function $Y(){return jY||(jY=G1(Fke,Lke,{upgrade:(t,e)=>{0===e&&t.createObjectStore(WE)}})),jY}function qY(){return qY=(0,te.A)(function*(t){const e=QY(t),i=yield(yield $Y()).transaction(WE).objectStore(WE).get(e);if(i)return i;{const r=yield function Nke(t){return zY.apply(this,arguments)}(t.appConfig.senderId);if(r)return yield KY(t,r),r}}),qY.apply(this,arguments)}function KY(t,e){return YY.apply(this,arguments)}function YY(){return YY=(0,te.A)(function*(t,e){const n=QY(t),r=(yield $Y()).transaction(WE,"readwrite");return yield r.objectStore(WE).put(e,n),yield r.done,e}),YY.apply(this,arguments)}function QY({appConfig:t}){return t.appId}const Sl=new Jp("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Gke(t,e){return JY.apply(this,arguments)}function JY(){return JY=(0,te.A)(function*(t,e){const n=yield nX(t),i=dfe(e),r={method:"POST",headers:n,body:JSON.stringify(i)};let s;try{s=yield(yield fetch(tX(t.appConfig),r)).json()}catch(o){throw Sl.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Sl.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Sl.create("token-subscribe-no-token");return s.token}),JY.apply(this,arguments)}function ZY(){return ZY=(0,te.A)(function*(t,e){const n=yield nX(t),i=dfe(e.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(i)};let s;try{s=yield(yield fetch(`${tX(t.appConfig)}/${e.token}`,r)).json()}catch(o){throw Sl.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Sl.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Sl.create("token-update-no-token");return s.token}),ZY.apply(this,arguments)}function eX(){return eX=(0,te.A)(function*(t,e){const i={method:"DELETE",headers:yield nX(t)};try{const s=yield(yield fetch(`${tX(t.appConfig)}/${e}`,i)).json();if(s.error)throw Sl.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(r){throw Sl.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}}),eX.apply(this,arguments)}function tX({projectId:t}){return`${Tke}/projects/${t}/registrations`}function nX(t){return iX.apply(this,arguments)}function iX(){return iX=(0,te.A)(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}),iX.apply(this,arguments)}function dfe({p256dh:t,auth:e,endpoint:n,vapidKey:i}){const r={web:{endpoint:n,auth:e,p256dh:t}};return i!==ofe&&(r.web.applicationPubKey=i),r}const Hke=6048e5;function rX(){return rX=(0,te.A)(function*(t){const e=yield function jke(t,e){return lX.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Pv(e.getKey("auth")),p256dh:Pv(e.getKey("p256dh"))},i=yield function cfe(t){return qY.apply(this,arguments)}(t.firebaseDependencies);if(i){if(function $ke(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(i.subscriptionOptions,n))return Date.now()>=i.createTime+Hke?function zke(t,e){return oX.apply(this,arguments)}(t,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{yield function ufe(t,e){return eX.apply(this,arguments)}(t.firebaseDependencies,i.token)}catch(r){console.warn(r)}return hfe(t.firebaseDependencies,n)}return hfe(t.firebaseDependencies,n)}),rX.apply(this,arguments)}function oX(){return oX=(0,te.A)(function*(t,e){try{const n=yield function Bke(t,e){return ZY.apply(this,arguments)}(t.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield KY(t.firebaseDependencies,i),n}catch(n){throw n}}),oX.apply(this,arguments)}function hfe(t,e){return aX.apply(this,arguments)}function aX(){return aX=(0,te.A)(function*(t,e){const i={token:yield Gke(t,e),createTime:Date.now(),subscriptionOptions:e};return yield KY(t,i),i.token}),aX.apply(this,arguments)}function lX(){return lX=(0,te.A)(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Pke(e)})}),lX.apply(this,arguments)}function ffe(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function qke(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const i=e.notification.body;i&&(t.notification.body=i);const r=e.notification.image;r&&(t.notification.image=r);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function Kke(t,e){e.data&&(t.data=e.data)}(e,t),function Yke(t,e){var n,i,r,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const c=null!==(r=null===(i=e.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(s=e.notification)||void 0===s?void 0:s.click_action;c&&(t.fcmOptions.link=c);const d=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;d&&(t.fcmOptions.analyticsLabel=d)}(e,t),e}function cX(t){return Sl.create("missing-app-config-values",{valueName:t})}!function Qke(t,e){const n=[];for(let i=0;i<t.length;i++)n.push(t.charAt(i)),i<e.length&&n.push(e.charAt(i));n.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Zke{constructor(e,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function Jke(t){if(!t||!t.options)throw cX("App Configuration Object");if(!t.name)throw cX("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const i of e)if(!n[i])throw cX(i);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}}function uX(){return uX=(0,te.A)(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Ske,{scope:Ike}),t.swRegistration.update().catch(()=>{})}catch(e){throw Sl.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}),uX.apply(this,arguments)}function dX(){return dX=(0,te.A)(function*(t,e){if(!e&&!t.swRegistration&&(yield function pfe(t){return uX.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Sl.create("invalid-sw-registration");t.swRegistration=e}}),dX.apply(this,arguments)}function hX(){return hX=(0,te.A)(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=ofe)}),hX.apply(this,arguments)}function fX(){return fX=(0,te.A)(function*(t,e){if(!navigator)throw Sl.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Sl.create("permission-blocked");return yield function tVe(t,e){return hX.apply(this,arguments)}(t,e?.vapidKey),yield function eVe(t,e){return dX.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Uke(t){return rX.apply(this,arguments)}(t)}),fX.apply(this,arguments)}function pX(){return pX=(0,te.A)(function*(t,e,n){const i=function iVe(t){switch(t){case Z5.NOTIFICATION_CLICKED:return"notification_open";case Z5.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[afe],message_name:n[Ake],message_time:n[Rke],message_device_time:Math.floor(Date.now()/1e3)})}),pX.apply(this,arguments)}function gX(){return gX=(0,te.A)(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Z5.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(ffe(n)):t.onMessageHandler.next(ffe(n)));const i=n.data;(function Xke(t){return"object"==typeof t&&!!t&&afe in t})(i)&&"1"===i["google.c.a.e"]&&(yield function nVe(t,e,n){return pX.apply(this,arguments)}(t,n.messageType,i))}),gX.apply(this,arguments)}const mfe="@firebase/messaging",sVe=t=>{const e=new Zke(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function rVe(t,e){return gX.apply(this,arguments)}(e,n)),e},oVe=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:i=>function gfe(t,e){return fX.apply(this,arguments)}(e,i)}};function _fe(){return mX.apply(this,arguments)}function mX(){return(mX=(0,te.A)(function*(){try{yield QI()}catch{return!1}return typeof window<"u"&&_y()&&Ak()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function uVe(t=eg()){return _fe().then(e=>{if(!e)throw Sl.create("unsupported-browser")},e=>{throw Sl.create("indexed-db-unsupported")}),Pu(Hr(t),"messaging").getImmediate()}!function aVe(){Cl(new ja("messaging",sVe,"PUBLIC")),Cl(new ja("messaging-internal",oVe,"PRIVATE")),Zi(mfe,"0.12.12"),Zi(mfe,"0.12.12","esm2017")}();class yX{constructor(e){return e}}const Cfe="__angularfire_symbol__messagingIsSupported",CX="__angularfire_symbol__messagingIsSupportedValue";globalThis[Cfe]||=_fe().then(t=>globalThis[CX]=t).catch(()=>globalThis[CX]=!1);const eG={async:()=>globalThis[Cfe],sync:()=>{const t=globalThis[CX];if(void 0===t)throw new Error(SW("Messaging"));return t}},bX=new h.nKC("angularfire2.messaging-instances");function fVe(t){return(e,n)=>{if(!eG.sync())return null;const i=e.runOutsideAngular(()=>t(n));return new yX(i)}}const pVe={provide:class dVe{constructor(){return wf("messaging")}},deps:[[new h.Xx1,bX]]},gVe={provide:yX,useFactory:function hVe(t,e){if(!eG.sync())return null;const n=tg("messaging",t,e);return n&&new yX(n)},deps:[[new h.Xx1,bX],hd]},vVe=ea(uVe,!0),bfe="@firebase/performance",wX="0.6.9",wfe=wX,EX="FB-PERF-TRACE-MEASURE",Afe="@firebase/performance/config",Rfe="@firebase/performance/configexpire",Dfe="Performance",Il=new Jp("performance",Dfe,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),vg=new tE(Dfe);let SX,xfe,Pfe,TX;vg.logLevel=ir.INFO;class el{constructor(e){if(this.window=e,!e)throw Il.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,n,i){!this.performance||!this.performance.measure||this.performance.measure(e,n,i)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&Ak()?!!_y()||(vg.info("IndexedDB is not supported by current browser"),!1):(vg.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,n){this.PerformanceObserver&&new this.PerformanceObserver(r=>{for(const s of r.getEntries())n(s)}).observe({entryTypes:[e]})}static getInstance(){return void 0===SX&&(SX=new el(xfe)),SX}}function IX(){return Pfe}function Mfe(t,e){const n=t.length-e.length;if(n<0||n>1)throw Il.create("invalid String merger input");const i=[];for(let r=0;r<t.length;r++)i.push(t.charAt(r)),e.length>r&&i.push(e.charAt(r));return i.join("")}class _d{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Mfe("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Mfe("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===TX&&(TX=new _d),TX}}var BM=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}(BM||{});const IVe=["firebase_","google_","ga_"],TVe=new RegExp("^[a-zA-Z]\\w*$");function DVe(){const t=el.getInstance().navigator;return t?.serviceWorker?t.serviceWorker.controller?2:3:1}function Nfe(){switch(el.getInstance().document.visibilityState){case"visible":return BM.VISIBLE;case"hidden":return BM.HIDDEN;default:return BM.UNKNOWN}}function xVe(){const e=el.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Ofe(t){var e;const n=null===(e=t.options)||void 0===e?void 0:e.appId;if(!n)throw Il.create("no app id");return n}const FVe="0.0.1",Df={loggingEnabled:!0},LVe="FIREBASE_INSTALLATIONS_AUTH";const BVe="Could not fetch config, will use default configs";function Ffe(t){if(!t)return t;const e=_d.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0!==n.fpr_enabled?"true"===String(n.fpr_enabled):Df.loggingEnabled,n.fpr_log_source?e.logSource=Number(n.fpr_log_source):Df.logSource&&(e.logSource=Df.logSource),n.fpr_log_endpoint_url?e.logEndPointUrl=n.fpr_log_endpoint_url:Df.logEndPointUrl&&(e.logEndPointUrl=Df.logEndPointUrl),n.fpr_log_transport_key?e.transportKey=n.fpr_log_transport_key:Df.transportKey&&(e.transportKey=Df.transportKey),void 0!==n.fpr_vc_network_request_sampling_rate?e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):void 0!==Df.networkRequestsSamplingRate&&(e.networkRequestsSamplingRate=Df.networkRequestsSamplingRate),void 0!==n.fpr_vc_trace_sampling_rate?e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):void 0!==Df.tracesSamplingRate&&(e.tracesSamplingRate=Df.tracesSamplingRate),e.logTraceAfterSampling=Lfe(e.tracesSamplingRate),e.logNetworkAfterSampling=Lfe(e.networkRequestsSamplingRate),t}function Lfe(t){return Math.random()<=t}let RX,AX=1;function kfe(t){return AX=2,RX=RX||function zVe(t){return function jVe(){const t=el.getInstance().document;return new Promise(e=>{if(t&&"complete"!==t.readyState){const n=()=>{"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}().then(()=>function EVe(t){const e=t.getId();return e.then(n=>{Pfe=n}),e}(t.installations)).then(e=>function kVe(t,e){const n=function VVe(){const t=el.getInstance().localStorage;if(!t)return;const e=t.getItem(Rfe);if(!e||!function UVe(t){return Number(t)>Date.now()}(e))return;const n=t.getItem(Afe);if(n)try{return JSON.parse(n)}catch{return}}();return n?(Ffe(n),Promise.resolve()):function HVe(t,e){return function SVe(t){const e=t.getToken();return e.then(n=>{}),e}(t.installations).then(n=>{const i=function NVe(t){var e;const n=null===(e=t.options)||void 0===e?void 0:e.projectId;if(!n)throw Il.create("no project id");return n}(t.app),r=function OVe(t){var e;const n=null===(e=t.options)||void 0===e?void 0:e.apiKey;if(!n)throw Il.create("no api key");return n}(t.app),o=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${i}/namespaces/fireperf:fetch?key=${r}`,{method:"POST",headers:{Authorization:`${LVe} ${n}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:n,app_id:Ofe(t.app),app_version:wfe,sdk_version:FVe})});return fetch(o).then(c=>{if(c.ok)return c.json();throw Il.create("RC response not ok")})}).catch(()=>{vg.info(BVe)})}(t,e).then(Ffe).then(i=>function GVe(t){const e=el.getInstance().localStorage;!t||!e||(e.setItem(Afe,JSON.stringify(t)),e.setItem(Rfe,String(Date.now()+60*_d.getInstance().configTimeToLive*60*1e3)))}(i),()=>{})}(t,e)).then(()=>Vfe(),()=>Vfe())}(t),RX}function Vfe(){AX=3}let xX,tG=3,Zy=[],Bfe=!1;function nG(t){setTimeout(()=>{if(0!==tG){if(!Zy.length)return nG(1e4);!function YVe(){const t=Zy.splice(0,1e3),e=t.map(i=>({source_extension_json_proto3:i.message,event_time_ms:String(i.eventTime)}));(function XVe(t,e){return function QVe(t){const e=_d.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then(n=>(n.ok||vg.info("Call to Firebase backend failed."),n.json())).then(n=>{const i=Number(n.nextRequestWaitMillis);let r=1e4;isNaN(i)||(r=Math.max(i,r));const s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&"RETRY_REQUEST_LATER"===s[0].responseAction&&(Zy=[...e,...Zy],vg.info("Retry transport request later.")),tG=3,nG(r)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:_d.getInstance().logSource,log_event:e},t).catch(()=>{Zy=[...t,...Zy],tG--,vg.info(`Tries left: ${tG}.`),nG(1e4)})}()}},t)}function Hfe(t,e){xX||(xX=function ZVe(t){return(...e)=>{!function JVe(t){if(!t.eventTime||!t.message)throw Il.create("invalid cc log");Zy=[...Zy,t]}({message:t(...e),eventTime:Date.now()})}}(t5e)),xX(t,e)}function iG(t){const e=_d.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||el.getInstance().requiredApisAvailable()&&(t.isAuto&&Nfe()!==BM.VISIBLE||(function WVe(){return 3===AX}()?PX(t):kfe(t.performanceController).then(()=>PX(t),()=>PX(t))))}function PX(t){if(!IX())return;const e=_d.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(()=>Hfe(t,1),0)}function t5e(t,e){return 0===e?function n5e(t){const e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:Ufe(t.performanceController.app),network_request_metric:e};return JSON.stringify(n)}(t):function i5e(t){const e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);const n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);const i={application_info:Ufe(t.performanceController.app),trace_metric:e};return JSON.stringify(i)}(t)}function Ufe(t){return{google_app_id:Ofe(t),app_instance_id:IX(),web_app_info:{sdk_version:wfe,page_url:el.getInstance().getUrl(),service_worker_status:DVe(),visibility_state:Nfe(),effective_connection_type:xVe()},application_process_state:0}}const o5e=["_fp","_fcp","_fid"];class eC{constructor(e,n,i=!1,r){this.performanceController=e,this.name=n,this.isAuto=i,this.state=1,this.customAttributes={},this.counters={},this.api=el.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=r||`${EX}-${this.randomId}-${this.name}`,r&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw Il.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw Il.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),iG(this)}record(e,n,i){if(e<=0)throw Il.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw Il.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*n),this.startTimeUs=Math.floor(1e3*e),i&&i.attributes&&(this.customAttributes=Object.assign({},i.attributes)),i&&i.metrics)for(const r of Object.keys(i.metrics))isNaN(Number(i.metrics[r]))||(this.counters[r]=Math.floor(Number(i.metrics[r])));iG(this)}incrementMetric(e,n=1){this.putMetric(e,void 0===this.counters[e]?n:this.counters[e]+n)}putMetric(e,n){if(!function a5e(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith("_wt_")&&o5e.indexOf(t)>-1||!t.startsWith("_"))}(e,this.name))throw Il.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function l5e(t){const e=Math.floor(t);return e<t&&vg.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}(n??0)}getMetric(e){return this.counters[e]||0}putAttribute(e,n){const i=function PVe(t){return!(0===t.length||t.length>40||IVe.some(n=>t.startsWith(n))||!t.match(TVe))}(e),r=function MVe(t){return 0!==t.length&&t.length<=100}(n);if(i&&r)this.customAttributes[e]=n;else{if(!i)throw Il.create("invalid attribute name",{attributeName:e});if(!r)throw Il.create("invalid attribute value",{attributeValue:n})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(1e3*n.duration),this.startTimeUs=Math.floor(1e3*(n.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,n,i,r){const s=el.getInstance().getUrl();if(!s)return;const o=new eC(e,"_wt_"+s,!0),c=Math.floor(1e3*el.getInstance().getTimeOrigin());if(o.setStartTime(c),n&&n[0]&&(o.setDuration(Math.floor(1e3*n[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*n[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*n[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*n[0].loadEventEnd))),i){const m=i.find(A=>"first-paint"===A.name);m&&m.startTime&&o.putMetric("_fp",Math.floor(1e3*m.startTime));const y=i.find(A=>"first-contentful-paint"===A.name);y&&y.startTime&&o.putMetric("_fcp",Math.floor(1e3*y.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}iG(o)}static createUserTimingTrace(e,n){iG(new eC(e,n,!1,n))}}function Wfe(t,e){const n=e;if(!n||void 0===n.responseStart)return;const i=el.getInstance().getTimeOrigin(),r=Math.floor(1e3*(n.startTime+i)),s=n.responseStart?Math.floor(1e3*(n.responseStart-n.startTime)):void 0,o=Math.floor(1e3*(n.responseEnd-n.startTime));!function e5e(t){const e=_d.getInstance();if(!e.instrumentationEnabled)return;const n=t.url,i=e.logEndPointUrl.split("?")[0],r=e.flTransportEndpointUrl.split("?")[0];n===i||n===r||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(()=>Hfe(t,0),0)}({performanceController:t,url:n.name&&n.name.split("?")[0],responsePayloadBytes:n.transferSize,startTimeUs:r,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:o})}function zfe(t){IX()&&(setTimeout(()=>function d5e(t){const e=el.getInstance(),n=e.getEntriesByType("navigation"),i=e.getEntriesByType("paint");if(e.onFirstInputDelay){let r=setTimeout(()=>{eC.createOobTrace(t,n,i),r=void 0},5e3);e.onFirstInputDelay(s=>{r&&(clearTimeout(r),eC.createOobTrace(t,n,i,s))})}else eC.createOobTrace(t,n,i)}(t),0),setTimeout(()=>function u5e(t){const e=el.getInstance(),n=e.getEntriesByType("resource");for(const i of n)Wfe(t,i);e.setupObserver("resource",i=>Wfe(t,i))}(t),0),setTimeout(()=>function h5e(t){const e=el.getInstance(),n=e.getEntriesByType("measure");for(const i of n)jfe(t,i);e.setupObserver("measure",i=>jfe(t,i))}(t),0))}function jfe(t,e){const n=e.name;n.substring(0,EX.length)!==EX&&eC.createUserTimingTrace(t,n)}class f5e{constructor(e,n){this.app=e,this.installations=n,this.initialized=!1}_init(e){this.initialized||(void 0!==e?.dataCollectionEnabled&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==e?.instrumentationEnabled&&(this.instrumentationEnabled=e.instrumentationEnabled),el.getInstance().requiredApisAvailable()?QI().then(n=>{n&&(function KVe(){Bfe||(nG(5500),Bfe=!0)}(),kfe(this).then(()=>zfe(this),()=>zfe(this)),this.initialized=!0)}).catch(n=>{vg.info(`Environment doesn't support IndexedDB: ${n}`)}):vg.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){_d.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return _d.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){_d.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return _d.getInstance().dataCollectionEnabled}}function g5e(t=eg()){return Pu(t=Hr(t),"performance").getImmediate()}const m5e=(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==n.name)throw Il.create("FB not default");if(typeof window>"u")throw Il.create("no window");!function wVe(t){xfe=t}(window);const r=new f5e(n,i);return r._init(e),r};!function v5e(){Cl(new ja("performance",m5e,"PUBLIC")),Zi(bfe,wX),Zi(bfe,wX,"esm2017")}();class MX{constructor(e){return e}}const $fe="performance",NX=new h.nKC("angularfire2.performance-instances");function C5e(t){return(e,n,i)=>{if(!ni(n))return null;const r=e.runOutsideAngular(()=>t(i));return new MX(r)}}const b5e={provide:class _5e{constructor(){return wf($fe)}},deps:[[new h.Xx1,NX]]},w5e={provide:MX,useFactory:function y5e(t,e,n){if(!ni(n))return null;const i=tg($fe,t,e);return i&&new MX(i)},deps:[[new h.Xx1,NX],hd,h.Agw]},S5e=ea(g5e,!0),qfe="firebasestorage.googleapis.com";class Ro extends xu{constructor(e,n,i=0){super(OX(e),`Firebase Storage: ${n} (${OX(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ro.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return OX(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ho=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(ho||{});function OX(t){return"storage/"+t}function LX(t){return new Ro(ho.INVALID_ARGUMENT,t)}function Jfe(){return new Ro(ho.APP_DELETED,"The Firebase app was deleted.")}class Kc{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Kc.makeFromUrl(e,n)}catch{return new Kc(e,"")}if(""===i.path)return i;throw function O5e(t){return new Ro(ho.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)",c=new RegExp("^gs://"+r+"(/(.*))?$","i");function p(tt){tt.path_=decodeURIComponent(tt.path)}const y=n.replace(/[.]/g,"\\."),ke=[{regex:c,indices:{bucket:1,path:3},postModify:function s(tt){"/"===tt.path.charAt(tt.path.length-1)&&(tt.path_=tt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${y}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:p},{regex:new RegExp(`^https?://${n===qfe?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:p}];for(let tt=0;tt<ke.length;tt++){const zt=ke[tt],Ot=zt.regex.exec(e);if(Ot){let me=Ot[zt.indices.path];me||(me=""),i=new Kc(Ot[zt.indices.bucket],me),zt.postModify(i);break}}if(null==i)throw function N5e(t){return new Ro(ho.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return i}}class B5e{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function VX(t,e,n,i){if(i<e)throw LX(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw LX(`Invalid value for '${t}'. Expected ${n} or less.`)}var mA=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(mA||{});class $5e{constructor(e,n,i,r,s,o,c,d,p,m,y,A=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=m,this.connectionFactory_=y,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,U)=>{this.resolve_=k,this.reject_=U,this.start_()})}start_(){const n=(i,r)=>{const s=this.resolve_,o=this.reject_,c=r.connection;if(r.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());!function W5e(t){return void 0!==t}(d)?s():s(d)}catch(d){o(d)}else if(null!==c){const d=function FX(){return new Ro(ho.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();d.serverResponse=c.getErrorText(),o(this.errorCallback_?this.errorCallback_(c,d):d)}else o(r.canceled?this.appDelete_?Jfe():function Xfe(){return new Ro(ho.CANCELED,"User canceled the upload/download.")}():function Yfe(){return new Ro(ho.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new sG(!1,null,!0)):this.backoffId_=function H5e(t,e,n){let i=1,r=null,s=null,o=!1,c=0;function d(){return 2===c}let p=!1;function m(...Q){p||(p=!0,e.apply(null,Q))}function y(Q){r=setTimeout(()=>{r=null,t(k,d())},Q)}function A(){s&&clearTimeout(s)}function k(Q,...pe){if(p)return void A();if(Q)return A(),void m.call(null,Q,...pe);if(d()||o)return A(),void m.call(null,Q,...pe);let ke;i<64&&(i*=2),1===c?(c=2,ke=0):ke=1e3*(i+Math.random()),y(ke)}let U=!1;function X(Q){U||(U=!0,A(),!p&&(null!==r?(Q||(c=2),clearTimeout(r),y(0)):Q||(c=1)))}return y(0),s=setTimeout(()=>{o=!0,X(!0)},n),X}((i,r)=>{if(r)return void i(!1,new sG(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=c=>{null!==this.progressCallback_&&this.progressCallback_(c.loaded,c.lengthComputable?c.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const c=s.getErrorCode()===mA.NO_ERROR,d=s.getStatus();if(!c||function tpe(t,e){const n=t>=500&&t<600,r=-1!==[408,429].indexOf(t),s=-1!==e.indexOf(t);return n||r||s}(d,this.additionalRetryCodes_)&&this.retry){const m=s.getErrorCode()===mA.ABORT;return void i(!1,new sG(!1,null,m))}const p=-1!==this.successCodes_.indexOf(d);i(!0,new sG(p,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function U5e(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class sG{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}class zE{constructor(e,n){this._service=e,this._location=n instanceof Kc?n:Kc.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new zE(e,n)}get root(){const e=new Kc(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function ope(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function oGe(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Kc(this._location.bucket,e);return new zE(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function G5e(t){return new Ro(ho.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function bpe(t,e){const n=e?.storageBucket;return null==n?null:Kc.makeFromBucketSpec(n,t)}class jX{constructor(e,n,i,r,s){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=qfe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Kc.makeFromBucketSpec(r,this._host):bpe(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Kc.makeFromBucketSpec(this._url,e):bpe(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){VX("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){VX("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,te.A)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const i=yield n.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,te.A)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zE(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new B5e(Jfe());{const o=function Q5e(t,e,n,i,r,s,o=!0){const c=function epe(t){const e=encodeURIComponent;let n="?";for(const i in t)t.hasOwnProperty(i)&&(n=n+(e(i)+"=")+e(t[i])+"&");return n=n.slice(0,-1),n}(t.urlParams),d=t.url+c,p=Object.assign({},t.headers);return function Y5e(t,e){e&&(t["X-Firebase-GMPID"]=e)}(p,e),function q5e(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(p,n),function K5e(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(p,s),function X5e(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(p,i),new $5e(d,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}(e,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){var i=this;return(0,te.A)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,n,r,s).getPromise()})()}}const wpe="@firebase/storage";function jGe(t=eg(),e){const i=Pu(t=Hr(t),"storage").getImmediate({identifier:e}),r=Ik("storage");return r&&function $Ge(t,e,n,i={}){!function zGe(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken="string"==typeof r?r:sW(r,t.app.options.projectId))}(t,e,n,i)}(i,...r),i}function qGe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new jX(n,i,r,e,ov)}!function KGe(){Cl(new ja("storage",qGe,"PUBLIC").setMultipleInstances(!0)),Zi(wpe,"0.13.2",""),Zi(wpe,"0.13.2","esm2017")}();class $X{constructor(e){return e}}const qX=new h.nKC("angularfire2.storage-instances");function QGe(t){return(e,n)=>{const i=e.runOutsideAngular(()=>t(n));return new $X(i)}}const JGe={provide:class YGe{constructor(){return wf("storage")}},deps:[[new h.Xx1,qX]]},ZGe={provide:$X,useFactory:function XGe(t,e){const n=tg("storage",t,e);return n&&new $X(n)},deps:[[new h.Xx1,qX],hd]},tBe=ea(jGe,!0),KX="@firebase/remote-config",Ape="remote-config",Gu=new Jp("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function lBe(t=eg()){return Pu(t=Hr(t),Ape).getImmediate()}class fBe{constructor(e,n,i,r){this.client=e,this.storage=n,this.storageCache=i,this.logger=r}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-n,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var n=this;return(0,te.A)(function*(){const[i,r]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(r&&n.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function pBe(t=navigator){return t.languages&&t.languages[0]||t.language}class gBe{constructor(e,n,i,r,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=i,this.projectId=r,this.apiKey=s,this.appId=o}fetch(e){var n=this;return(0,te.A)(function*(){const[i,r]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},d={sdk_version:n.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:n.appId,language_code:pBe()},p={method:"POST",headers:c,body:JSON.stringify(d)},m=fetch(o,p),y=new Promise((pe,Ie)=>{e.signal.addEventListener(()=>{const ke=new Error("The operation was aborted.");ke.name="AbortError",Ie(ke)})});let A;try{yield Promise.race([m,y]),A=yield m}catch(pe){let Ie="fetch-client-network";throw"AbortError"===pe?.name&&(Ie="fetch-timeout"),Gu.create(Ie,{originalErrorMessage:pe?.message})}let k=A.status;const U=A.headers.get("ETag")||void 0;let X,Q;if(200===A.status){let pe;try{pe=yield A.json()}catch(Ie){throw Gu.create("fetch-client-parse",{originalErrorMessage:Ie?.message})}X=pe.entries,Q=pe.state}if("INSTANCE_STATE_UNSPECIFIED"===Q?k=500:"NO_CHANGE"===Q?k=304:("NO_TEMPLATE"===Q||"EMPTY_CONFIG"===Q)&&(X={}),304!==k&&200!==k)throw Gu.create("fetch-status",{httpStatus:k});return{status:k,eTag:U,config:X}})()}}class _Be{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return(0,te.A)(function*(){const i=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:i}){var r=this;return(0,te.A)(function*(){yield function mBe(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(s),i(Gu.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),s}catch(s){if(!function vBe(t){if(!(t instanceof xu&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+uW(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(o),r.attemptFetch(e,o)}})()}}class bBe{constructor(e,n,i,r,s){this.app=e,this._client=n,this._storageCache=i,this._storage=r,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function uG(t,e){const n=t.target.error||void 0;return Gu.create(e,{originalErrorMessage:n&&n?.message})}const jE="app_namespace_store";class IBe{constructor(e,n,i,r=function SBe(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=i=>{e(uG(i,"storage-open"))},n.onsuccess=i=>{t(i.target.result)},n.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(jE,{keyPath:"compositeKey"})}}catch(n){e(Gu.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return(0,te.A)(function*(){const i=yield n.openDbPromise;return new Promise((r,s)=>{const c=i.transaction([jE],"readonly").objectStore(jE),d=n.createCompositeKey(e);try{const p=c.get(d);p.onerror=m=>{s(uG(m,"storage-get"))},p.onsuccess=m=>{const y=m.target.result;r(y?y.value:void 0)}}catch(p){s(Gu.create("storage-get",{originalErrorMessage:p?.message}))}})})()}set(e,n){var i=this;return(0,te.A)(function*(){const r=yield i.openDbPromise;return new Promise((s,o)=>{const d=r.transaction([jE],"readwrite").objectStore(jE),p=i.createCompositeKey(e);try{const m=d.put({compositeKey:p,value:n});m.onerror=y=>{o(uG(y,"storage-set"))},m.onsuccess=()=>{s()}}catch(m){o(Gu.create("storage-set",{originalErrorMessage:m?.message}))}})})()}delete(e){var n=this;return(0,te.A)(function*(){const i=yield n.openDbPromise;return new Promise((r,s)=>{const c=i.transaction([jE],"readwrite").objectStore(jE),d=n.createCompositeKey(e);try{const p=c.delete(d);p.onerror=m=>{s(uG(m,"storage-delete"))},p.onsuccess=()=>{r()}}catch(p){s(Gu.create("storage-delete",{originalErrorMessage:p?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class TBe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,te.A)(function*(){const n=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield i;o&&(e.lastSuccessfulFetchTimestampMillis=o);const c=yield r;c&&(e.activeConfig=c)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function RBe(){return ZX.apply(this,arguments)}function ZX(){return(ZX=(0,te.A)(function*(){if(!_y())return!1;try{return yield QI()}catch{return!1}})).apply(this,arguments)}!function ABe(){Cl(new ja(Ape,function t(e,{instanceIdentifier:n}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Gu.create("registration-window");if(!_y())throw Gu.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:c}=i.options;if(!s)throw Gu.create("registration-project-id");if(!o)throw Gu.create("registration-api-key");if(!c)throw Gu.create("registration-app-id");const d=new IBe(c,i.name,n=n||"firebase"),p=new TBe(d),m=new tE(KX);m.logLevel=ir.ERROR;const y=new gBe(r,ov,n,s,o,c),A=new _Be(y,d),k=new fBe(A,d,p,m),U=new bBe(i,k,p,d,m);return function uBe(t){const e=Hr(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(U),U},"PUBLIC").setMultipleInstances(!0)),Zi(KX,"0.4.9"),Zi(KX,"0.4.9","esm2017")}();class eQ{constructor(e){return e}}const Dpe="remote-config",tQ="__angularfire_symbol__remoteConfigIsSupportedValue",xpe="__angularfire_symbol__remoteConfigIsSupported";globalThis[xpe]||=RBe().then(t=>globalThis[tQ]=t).catch(()=>globalThis[tQ]=!1);const dG={async:()=>globalThis[xpe],sync:()=>{const t=globalThis[tQ];if(void 0===t)throw new Error(SW("RemoteConfig"));return t}},nQ=new h.nKC("angularfire2.remote-config-instances");function PBe(t){return(e,n)=>{if(!dG.sync())return null;const i=e.runOutsideAngular(()=>t(n));return new eQ(i)}}const MBe={provide:class DBe{constructor(){return wf(Dpe)}},deps:[[new h.Xx1,nQ]]},NBe={provide:eQ,useFactory:function xBe(t,e){if(!dG.sync())return null;const n=tg(Dpe,t,e);return n&&new eQ(n)},deps:[[new h.Xx1,nQ],hd]},FBe=ea(lBe,!0);Error;Error;class c4e{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}var kpe="@firebase/vertexai-preview";const aQ="vertexAI",Gpe="us-central1";class m4e{constructor(e,n,i,r){var s;this.app=e,this.options=r;const o=i?.getImmediate({optional:!0}),c=n?.getImmediate({optional:!0});this.auth=c||null,this.appCheck=o||null,this.location=(null===(s=this.options)||void 0===s?void 0:s.location)||Gpe}_delete(){return Promise.resolve()}}function W4e(t=function hSe(t=kk){const e=sE.get(t);if(!e&&t===kk&&Zie())return function dSe(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:kk,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!=typeof r||!r)throw hh.create("bad-app-name",{appName:String(r)});if(n||(n=Zie()),!n)throw hh.create("no-options");const s=sE.get(r);if(s){if(AW(n,s.options)&&AW(i,s.config))return s;throw hh.create("duplicate-app",{appName:r})}const o=new REe(r);for(const d of $1.values())o.addComponent(d);const c=new are(n,i,o);return sE.set(r,c),c}();if(!e)throw hh.create("no-app",{appName:t});return e}(),e){return function ore(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}(t=function l4e(t){return t&&t._delegate?t._delegate:t}(t),aQ).getImmediate({identifier:e?.location||Gpe})}!function z4e(){sT(new c4e(aQ,(t,{instanceIdentifier:e})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new m4e(n,i,r,{location:e})},"PUBLIC").setMultipleInstances(!0)),by(kpe,"0.0.4"),by(kpe,"0.0.4","esm2017")}();class bQ{constructor(e){return e}}const wQ=new h.nKC("angularfire2.vertexai-instances");function q4e(t){return(e,n)=>{const i=e.runOutsideAngular(()=>t(n));return new bQ(i)}}const K4e={provide:class j4e{constructor(){return wf("vertexai")}},deps:[[new h.Xx1,wQ]]},Y4e={provide:bQ,useFactory:function $4e(t,e){const n=tg("vertexai",t,e);return n&&new bQ(n)},deps:[[new h.Xx1,wQ],hd]},Q4e=ea(W4e,!0),Z4e={providers:[function oR(t,...e){return(0,h.EmA)([{provide:Qh,multi:!0,useValue:t},[],{provide:$h,useFactory:eB,deps:[kc]},{provide:h.iLQ,multi:!0,useFactory:tB},e.map(n=>n.\u0275providers)])}(TMe),function xMe(t="animations"){return(0,h.ngT)("NgAsyncAnimations"),(0,h.EmA)([{provide:h._9s,useFactory:(e,n,i)=>new RMe(e,n,i,t),deps:[He,Lt,h.SKi]},{provide:h.bc$,useValue:"noop"===t?"NoopAnimations":"BrowserAnimations"}])}(),ws,(0,h.Jn2)({eventCoalescing:!0}),function qH(...t){const e=[$b,Y_,Yb,{provide:V0,useExisting:Yb},{provide:Om,useExisting:Y_},{provide:Kb,useValue:BD,multi:!0},{provide:VD,useValue:!0},{provide:GD,useClass:$H}];for(const n of t)e.push(...n.\u0275providers);return(0,h.EmA)(e)}(),(0,h.oKB)([ny.forRoot({loader:{provide:Bm,useFactory:t=>new PMe(t,"./assets/i18n/",".json"),deps:[$b]}})]),function $we(t,...e){return(0,h.EmA)([Wwe,zwe,{provide:IW,useFactory:jwe(t),multi:!0,deps:[h.SKi,h.zZn,Ef,...e]}])}(()=>qwe({projectId:"invoicegenerator-ce84e",appId:"1:407010071201:web:082960eec5aa95310c96e0",storageBucket:"invoicegenerator-ce84e.firebasestorage.app",apiKey:"AIzaSyAVwERNXW44fWraABlZTIKnMTghEOm0Ewc",authDomain:"invoicegenerator-ce84e.firebaseapp.com",messagingSenderId:"407010071201",measurementId:"G-J22B49Y3VJ"})),function nDe(t,...e){return Zi("angularfire",Mu.full,"auth"),(0,h.EmA)([tDe,eDe,{provide:r$,useFactory:ZRe(t),multi:!0,deps:[h.SKi,h.zZn,Ef,Sf,[new h.Xx1,eT],...e]}])}(()=>sDe()),function ROe(t,...e){return Zi("angularfire",Mu.full,"analytics"),(0,h.EmA)([AOe,TOe,{provide:h.hnV,useValue:v5.async,multi:!0},{provide:IK,useFactory:IOe(t),multi:!0,deps:[h.SKi,h.zZn,Ef,Sf,...e]}])}(()=>oOe()),EOe,Que,function YPe(t,...e){return Zi("angularfire",Mu.full,"fst"),(0,h.EmA)([KPe,qPe,{provide:Iq,useFactory:$Pe(t),multi:!0,deps:[h.SKi,h.zZn,Ef,Sf,[new h.Xx1,IP],[new h.Xx1,eT],...e]}])}(()=>ZPe()),function QLe(t,...e){return Zi("angularfire",Mu.full,"rtdb"),(0,h.EmA)([XLe,YLe,{provide:FY,useFactory:KLe(t),multi:!0,deps:[h.SKi,h.zZn,Ef,Sf,[new h.Xx1,IP],[new h.Xx1,eT],...e]}])}(()=>JLe()),function wke(t,...e){return Zi("angularfire",Mu.full,"fn"),(0,h.EmA)([bke,Cke,{provide:UY,useFactory:yke(t),multi:!0,deps:[h.SKi,h.zZn,Ef,Sf,[new h.Xx1,IP],[new h.Xx1,eT],...e]}])}(()=>Eke()),function mVe(t,...e){return Zi("angularfire",Mu.full,"fcm"),(0,h.EmA)([gVe,pVe,{provide:h.hnV,useValue:eG.async,multi:!0},{provide:bX,useFactory:fVe(t),multi:!0,deps:[h.SKi,h.zZn,Ef,Sf,...e]}])}(()=>vVe()),function E5e(t,...e){return Zi("angularfire",Mu.full,"perf"),(0,h.EmA)([w5e,b5e,{provide:NX,useFactory:C5e(t),multi:!0,deps:[h.SKi,h.Agw,h.zZn,Ef,Sf,...e]}])}(()=>S5e()),function eBe(t,...e){return Zi("angularfire",Mu.full,"gcs"),(0,h.EmA)([ZGe,JGe,{provide:qX,useFactory:QGe(t),multi:!0,deps:[h.SKi,h.zZn,Ef,Sf,[new h.Xx1,IP],[new h.Xx1,eT],...e]}])}(()=>tBe()),function OBe(t,...e){return Zi("angularfire",Mu.full,"rc"),(0,h.EmA)([NBe,MBe,{provide:h.hnV,useValue:dG.async,multi:!0},{provide:nQ,useFactory:PBe(t),multi:!0,deps:[h.SKi,h.zZn,Ef,Sf,...e]}])}(()=>FBe()),function X4e(t,...e){return Zi("angularfire",Mu.full,"vertexai"),(0,h.EmA)([Y4e,K4e,{provide:wQ,useFactory:q4e(t),multi:!0,deps:[h.SKi,h.zZn,Ef,Sf,[new h.Xx1,eT],...e]}])}(()=>Q4e())]};let EQ=(()=>{class t{constructor(){this.themeSignal=(0,h.vPA)("light")}get theme$(){return this.themeSignal.asReadonly()}get currentTheme(){return this.themeSignal()}toggleTheme(){const n="light"===this.currentTheme?"dark":"light";this.themeSignal.set(n),document.body.classList.remove("light-theme","dark-theme"),document.body.classList.add(`${n}-theme`)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=h.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function eHe(t,e){1&t&&h.nrm(0,"img",5)}function tHe(t,e){1&t&&h.nrm(0,"img",6)}let nHe=(()=>{class t{constructor(){this.themeService=(0,h.WQX)(EQ)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=h.VBU({type:t,selectors:[["app-logo"]],standalone:!0,features:[h.aNF],decls:7,vars:5,consts:[["id","logo-header"],[1,"flex","space-x-4","items-center"],["class","object-contain h-12 w-12 rounded-full","src","assets/images/logo-dark.png","alt","MoSahar Logo",4,"ngIf"],["class","object-contain h-12 w-12 rounded-full","src","assets/images/logo.png","alt","MoSahar Logo",4,"ngIf"],[1,"m-0","p-0","font-semibold","text-2xl","inline-block"],["src","assets/images/logo-dark.png","alt","MoSahar Logo",1,"object-contain","h-12","w-12","rounded-full"],["src","assets/images/logo.png","alt","MoSahar Logo",1,"object-contain","h-12","w-12","rounded-full"]],template:function(i,r){1&i&&(h.j41(0,"section",0)(1,"div",1),h.DNE(2,eHe,1,0,"img",2)(3,tHe,1,0,"img",3),h.j41(4,"p",4),h.EFF(5),h.nI1(6,"translate"),h.k0s()()()),2&i&&(h.R7$(2),h.Y8G("ngIf","dark"===r.themeService.currentTheme),h.R7$(),h.Y8G("ngIf","light"===r.themeService.currentTheme),h.R7$(2),h.JRh(h.bMT(6,3,"CORE.COMPANY NAME")))},dependencies:[ny,vw,Ig]})}}return t})();function iHe(t,e){1&t&&h.nrm(0,"i",12)}function rHe(t,e){1&t&&h.nrm(0,"i",13)}function sHe(t,e){1&t&&h.nrm(0,"i",14)}function oHe(t,e){1&t&&h.nrm(0,"i",15)}function aHe(t,e){if(1&t){const n=h.RV6();h.j41(0,"button",16),h.bIt("click",function(){h.eBV(n);const r=h.XpG();return h.Njj(r.login())}),h.nrm(1,"i",17),h.k0s()}}function lHe(t,e){if(1&t){const n=h.RV6();h.j41(0,"button",18),h.bIt("click",function(){h.eBV(n);const r=h.XpG();return h.Njj(r.logout())}),h.nrm(1,"i",19),h.k0s()}}let cHe=(()=>{class t{logout(){this.authService.logout(),localStorage.removeItem("user"),localStorage.removeItem("userToken"),this.router.navigate(["/"])}constructor(){this.authService=(0,h.WQX)(Tq),this.router=(0,h.WQX)(kc),this.translationService=(0,h.WQX)(hI),this.themeService=(0,h.WQX)(EQ),this.translationService.setDefaultLang("en"),this.translationService.use("en")}switchLanguage(n){this.translationService.use(n)}toggleLanguage(){this.translationService.use("en"===this.translationService.currentLang?"or":"en")}toggleTheme(){console.log("Toggling theme"),console.log(`before: ${this.themeService.currentTheme}`),this.themeService.toggleTheme(),console.log(`after: ${this.themeService.currentTheme}`)}login(){this.router.navigate(["/login"])}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=h.VBU({type:t,selectors:[["app-header"]],standalone:!0,features:[h.aNF],decls:13,vars:6,consts:[[1,"header","fixed","top-0","left-0","w-full","shadow-md","z-50","px-4","py-2"],[1,"flex","justify-between","items-center"],[1,"flex","items-center","justify-between"],[1,"lang-btn",3,"click"],["class","fas fa-globe","matTooltip","Change language to English",4,"ngIf"],["class","fas fa-globe","matTooltip","Change language to Oriya",4,"ngIf"],[1,"theme-toggle-btn",3,"click"],["class","fas fa-moon","matTooltip","Toggle dark mode",4,"ngIf"],["class","fas fa-sun","matTooltip","Toggle light mode",4,"ngIf"],[1,"login-logout-switch"],["matTooltip","Login","type","button",3,"click",4,"ngIf"],["matTooltip","Logout","type","button",3,"click",4,"ngIf"],["matTooltip","Change language to English",1,"fas","fa-globe"],["matTooltip","Change language to Oriya",1,"fas","fa-globe"],["matTooltip","Toggle dark mode",1,"fas","fa-moon"],["matTooltip","Toggle light mode",1,"fas","fa-sun"],["matTooltip","Login","type","button",3,"click"],[1,"fas","fa-sign-in-alt"],["matTooltip","Logout","type","button",3,"click"],[1,"fas","fa-sign-out-alt"]],template:function(i,r){1&i&&(h.j41(0,"header",0)(1,"div",1),h.nrm(2,"app-logo"),h.j41(3,"div",2)(4,"button",3),h.bIt("click",function(){return r.toggleLanguage()}),h.DNE(5,iHe,1,0,"i",4)(6,rHe,1,0,"i",5),h.k0s(),h.j41(7,"button",6),h.bIt("click",function(){return r.toggleTheme()}),h.DNE(8,sHe,1,0,"i",7)(9,oHe,1,0,"i",8),h.k0s(),h.j41(10,"div",9),h.DNE(11,aHe,2,0,"button",10)(12,lHe,2,0,"button",11),h.k0s()()()()),2&i&&(h.R7$(5),h.Y8G("ngIf","or"===r.translationService.currentLang),h.R7$(),h.Y8G("ngIf","en"===r.translationService.currentLang),h.R7$(2),h.Y8G("ngIf","light"===r.themeService.theme$()),h.R7$(),h.Y8G("ngIf","dark"===r.themeService.theme$()),h.R7$(2),h.Y8G("ngIf",null===r.authService.currUserSig()),h.R7$(),h.Y8G("ngIf",null!==r.authService.currUserSig()))},dependencies:[nHe,CD,ny,tl,Ig,aL,c6,t2]})}}return t})(),uHe=(()=>{class t{constructor(){this.currentYear=(new Date).getFullYear()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=h.VBU({type:t,selectors:[["app-footer"]],standalone:!0,features:[h.aNF],decls:5,vars:4,consts:[[1,"footer","w-full","shadow-md","z-50","px-4","py-2"],[1,"flex","justify-center","gap-2"]],template:function(i,r){1&i&&(h.j41(0,"footer",0)(1,"div",1)(2,"p"),h.EFF(3),h.nI1(4,"translate"),h.k0s()()()),2&i&&(h.R7$(3),h.Lme("\xa9 ",r.currentYear," ",h.bMT(4,2,"CORE.COMPANY NAME"),". All rights reserved."))},dependencies:[ny,vw]})}}return t})();(function we(t,e){return(0,h.TL3)({rootComponent:t,...Ge(e)})})((()=>{class t{constructor(){this.title="invoice-generator",this.themeService=(0,h.WQX)(EQ),this.authService=(0,h.WQX)(Tq),this.router=(0,h.WQX)(kc)}toggleTheme(){this.themeService.toggleTheme()}ngOnInit(){document.body.classList.add(`${this.themeService.currentTheme}-theme`),this.authService.user$.subscribe(n=>{this.authService.currUserSig.set(n?{email:n?.email,userName:n?.displayName}:null)}),null!=localStorage.getItem("user")&&this.router.navigate(["/invoice"])}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=h.VBU({type:t,selectors:[["app-root"]],standalone:!0,features:[h.aNF],decls:4,vars:0,consts:[["id","main-container",1,"main-container"]],template:function(i,r){1&i&&(h.nrm(0,"app-header"),h.j41(1,"section",0),h.nrm(2,"router-outlet"),h.k0s(),h.nrm(3,"app-footer"))},dependencies:[tm,tl,cHe,uHe]})}}return t})(),Z4e).catch(t=>console.error(t))},4941:function(is,yi,Kt){var h;typeof globalThis<"u"?globalThis:typeof this<"u"||(typeof window<"u"?window:typeof self<"u"?self:global),is.exports=(h=function(){try{return Kt(9107)}catch{}}(),function(){"use strict";var Jn={172:function(mn,He){var ln=this&&this.__extends||function(){var Be=function(Ct,it){return(Be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ft,Mt){Ft.__proto__=Mt}||function(Ft,Mt){for(var xt in Mt)Object.prototype.hasOwnProperty.call(Mt,xt)&&(Ft[xt]=Mt[xt])})(Ct,it)};return function(Ct,it){if("function"!=typeof it&&null!==it)throw new TypeError("Class extends value "+String(it)+" is not a constructor or null");function Ft(){this.constructor=Ct}Be(Ct,it),Ct.prototype=null===it?Object.create(it):(Ft.prototype=it.prototype,new Ft)}}();Object.defineProperty(He,"__esModule",{value:!0}),He.CellHookData=He.HookData=void 0;var gn=function(){return function Be(Ct,it,Ft){this.table=it,this.pageNumber=it.pageNumber,this.pageCount=this.pageNumber,this.settings=it.settings,this.cursor=Ft,this.doc=Ct.getDocument()}}();He.HookData=gn;var _t=function(Be){function Ct(it,Ft,Mt,xt,st,Ae){var Xe=Be.call(this,it,Ft,Ae)||this;return Xe.cell=Mt,Xe.row=xt,Xe.column=st,Xe.section=xt.section,Xe}return ln(Ct,Be),Ct}(gn);He.CellHookData=_t},340:function(mn,He,ln){Object.defineProperty(He,"__esModule",{value:!0});var gn=ln(4),_t=ln(136),Be=ln(744),Ct=ln(776),it=ln(664),Ft=ln(972);He.default=function Mt(xt){xt.API.autoTable=function(){for(var st=[],Ae=0;Ae<arguments.length;Ae++)st[Ae]=arguments[Ae];var Xe;1===st.length?Xe=st[0]:(console.error("Use of deprecated autoTable initiation"),(Xe=st[2]||{}).columns=st[0],Xe.body=st[1]);var vt=(0,Ct.parseInput)(this,Xe),ut=(0,Ft.createTable)(this,vt);return(0,it.drawTable)(this,ut),this},xt.API.lastAutoTable=!1,xt.API.previousAutoTable=!1,xt.API.autoTable.previous=!1,xt.API.autoTableText=function(st,Ae,Xe,vt){(0,_t.default)(st,Ae,Xe,vt,this)},xt.API.autoTableSetDefaults=function(st){return Be.DocHandler.setDefaults(st,this),this},xt.autoTableSetDefaults=function(st,Ae){Be.DocHandler.setDefaults(st,Ae)},xt.API.autoTableHtmlToJson=function(st,Ae){var Xe;if(void 0===Ae&&(Ae=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var vt=new Be.DocHandler(this),ut=(0,gn.parseHtml)(vt,st,window,Ae,!1),gt=ut.body;return{columns:(null===(Xe=ut.head[0])||void 0===Xe?void 0:Xe.map(function(Wt){return Wt.content}))||[],rows:gt,data:gt}},xt.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var st=this.lastAutoTable;return st&&st.finalY?st.finalY:0},xt.API.autoTableAddPageContent=function(st){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),xt.API.autoTable.globalDefaults||(xt.API.autoTable.globalDefaults={}),xt.API.autoTable.globalDefaults.addPageContent=st,this},xt.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}},136:function(mn,He){Object.defineProperty(He,"__esModule",{value:!0}),He.default=function ln(gn,_t,Be,Ct,it){Ct=Ct||{};var Mt=it.internal.scaleFactor,xt=it.internal.getFontSize()/Mt,Ae=xt*(it.getLineHeightFactor?it.getLineHeightFactor():1.15),vt="",ut=1;if(("middle"===Ct.valign||"bottom"===Ct.valign||"center"===Ct.halign||"right"===Ct.halign)&&(ut=(vt="string"==typeof gn?gn.split(/\r\n|\r|\n/g):gn).length||1),Be+=xt*(2-1.15),"middle"===Ct.valign?Be-=ut/2*Ae:"bottom"===Ct.valign&&(Be-=ut*Ae),"center"===Ct.halign||"right"===Ct.halign){var Fe=xt;if("center"===Ct.halign&&(Fe*=.5),vt&&ut>=1){for(var gt=0;gt<vt.length;gt++)it.text(vt[gt],_t-it.getStringUnitWidth(vt[gt])*Fe,Be),Be+=Ae;return it}_t-=it.getStringUnitWidth(gn)*Fe}return"justify"===Ct.halign?it.text(gn,_t,Be,{maxWidth:Ct.maxWidth||100,align:"justify"}):it.text(gn,_t,Be),it}},420:function(mn,He){function _t(it,Ft){var Mt=it>0,xt=Ft||0===Ft;return Mt&&xt?"DF":Mt?"S":xt?"F":null}function Be(it,Ft){var Mt,xt,st,Ae;if(it=it||Ft,Array.isArray(it)){if(it.length>=4)return{top:it[0],right:it[1],bottom:it[2],left:it[3]};if(3===it.length)return{top:it[0],right:it[1],bottom:it[2],left:it[1]};if(2===it.length)return{top:it[0],right:it[1],bottom:it[0],left:it[1]};it=1===it.length?it[0]:Ft}return"object"==typeof it?("number"==typeof it.vertical&&(it.top=it.vertical,it.bottom=it.vertical),"number"==typeof it.horizontal&&(it.right=it.horizontal,it.left=it.horizontal),{left:null!==(Mt=it.left)&&void 0!==Mt?Mt:Ft,top:null!==(xt=it.top)&&void 0!==xt?xt:Ft,right:null!==(st=it.right)&&void 0!==st?st:Ft,bottom:null!==(Ae=it.bottom)&&void 0!==Ae?Ae:Ft}):("number"!=typeof it&&(it=Ft),{top:it,right:it,bottom:it,left:it})}Object.defineProperty(He,"__esModule",{value:!0}),He.getPageAvailableWidth=He.parseSpacing=He.getFillStyle=He.addTableBorder=He.getStringWidth=void 0,He.getStringWidth=function ln(it,Ft,Mt){return Mt.applyStyles(Ft,!0),(Array.isArray(it)?it:[it]).map(function(Ae){return Mt.getTextWidth(Ae)}).reduce(function(Ae,Xe){return Math.max(Ae,Xe)},0)},He.addTableBorder=function gn(it,Ft,Mt,xt){var st=Ft.settings.tableLineWidth;it.applyStyles({lineWidth:st,lineColor:Ft.settings.tableLineColor});var Xe=_t(st,!1);Xe&&it.rect(Mt.x,Mt.y,Ft.getWidth(it.pageSize().width),xt.y-Mt.y,Xe)},He.getFillStyle=_t,He.parseSpacing=Be,He.getPageAvailableWidth=function Ct(it,Ft){var Mt=Be(Ft.settings.margin,0);return it.pageSize().width-(Mt.left+Mt.right)}},796:function(mn,He){var ln=this&&this.__extends||function(){var Ct=function(it,Ft){return(Ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Mt,xt){Mt.__proto__=xt}||function(Mt,xt){for(var st in xt)Object.prototype.hasOwnProperty.call(xt,st)&&(Mt[st]=xt[st])})(it,Ft)};return function(it,Ft){if("function"!=typeof Ft&&null!==Ft)throw new TypeError("Class extends value "+String(Ft)+" is not a constructor or null");function Mt(){this.constructor=it}Ct(it,Ft),it.prototype=null===Ft?Object.create(Ft):(Mt.prototype=Ft.prototype,new Mt)}}();Object.defineProperty(He,"__esModule",{value:!0}),He.getTheme=He.defaultStyles=He.HtmlRowInput=void 0;var gn=function(Ct){function it(Ft){var Mt=Ct.call(this)||this;return Mt._element=Ft,Mt}return ln(it,Ct),it}(Array);He.HtmlRowInput=gn,He.defaultStyles=function _t(Ct){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/Ct,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}},He.getTheme=function Be(Ct){return{striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[Ct]}},903:function(mn,He,ln){Object.defineProperty(He,"__esModule",{value:!0}),He.parseCss=void 0;var gn=ln(420);function Ct(Mt,xt){var st=it(Mt,xt);if(!st)return null;var Ae=st.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!Ae||!Array.isArray(Ae))return null;var Xe=[parseInt(Ae[1]),parseInt(Ae[2]),parseInt(Ae[3])];return 0===parseInt(Ae[4])||isNaN(Xe[0])||isNaN(Xe[1])||isNaN(Xe[2])?null:Xe}function it(Mt,xt){var st=xt(Mt);return"rgba(0, 0, 0, 0)"===st||"transparent"===st||"initial"===st||"inherit"===st?null==Mt.parentElement?null:it(Mt.parentElement,xt):st}He.parseCss=function _t(Mt,xt,st,Ae,Xe){var vt={},ut=1.3333333333333333,Fe=Ct(xt,function(mt){return Xe.getComputedStyle(mt).backgroundColor});null!=Fe&&(vt.fillColor=Fe);var gt=Ct(xt,function(mt){return Xe.getComputedStyle(mt).color});null!=gt&&(vt.textColor=gt);var Gt=function Ft(Mt,xt){var st=[Mt.paddingTop,Mt.paddingRight,Mt.paddingBottom,Mt.paddingLeft],Ae=96/(72/xt),Xe=(parseInt(Mt.lineHeight)-parseInt(Mt.fontSize))/xt/2,vt=st.map(function(Fe){return parseInt(Fe||"0")/Ae}),ut=(0,gn.parseSpacing)(vt,0);return Xe>ut.top&&(ut.top=Xe),Xe>ut.bottom&&(ut.bottom=Xe),ut}(Ae,st);Gt&&(vt.cellPadding=Gt);var Wt="borderTopColor",Dt=ut*st,xe=Ae.borderTopWidth;if(Ae.borderBottomWidth===xe&&Ae.borderRightWidth===xe&&Ae.borderLeftWidth===xe){var We=(parseFloat(xe)||0)/Dt;We&&(vt.lineWidth=We)}else vt.lineWidth={top:(parseFloat(Ae.borderTopWidth)||0)/Dt,right:(parseFloat(Ae.borderRightWidth)||0)/Dt,bottom:(parseFloat(Ae.borderBottomWidth)||0)/Dt,left:(parseFloat(Ae.borderLeftWidth)||0)/Dt},vt.lineWidth.top||(vt.lineWidth.right?Wt="borderRightColor":vt.lineWidth.bottom?Wt="borderBottomColor":vt.lineWidth.left&&(Wt="borderLeftColor"));var qt=Ct(xt,function(mt){return Xe.getComputedStyle(mt)[Wt]});null!=qt&&(vt.lineColor=qt);var Wn=["left","right","center","justify"];-1!==Wn.indexOf(Ae.textAlign)&&(vt.halign=Ae.textAlign),-1!==(Wn=["middle","bottom","top"]).indexOf(Ae.verticalAlign)&&(vt.valign=Ae.verticalAlign);var St=parseInt(Ae.fontSize||"");isNaN(St)||(vt.fontSize=St/ut);var yt=function Be(Mt){var xt="";return("bold"===Mt.fontWeight||"bolder"===Mt.fontWeight||parseInt(Mt.fontWeight)>=700)&&(xt="bold"),("italic"===Mt.fontStyle||"oblique"===Mt.fontStyle)&&(xt+="italic"),xt}(Ae);yt&&(vt.fontStyle=yt);var cn=(Ae.fontFamily||"").toLowerCase();return-1!==Mt.indexOf(cn)&&(vt.font=cn),vt}},744:function(mn,He){Object.defineProperty(He,"__esModule",{value:!0}),He.DocHandler=void 0;var ln={},gn=function(){function _t(Be){this.jsPDFDocument=Be,this.userStyles={textColor:Be.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:Be.internal.getFontSize(),fontStyle:Be.internal.getFont().fontStyle,font:Be.internal.getFont().fontName,lineWidth:Be.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:Be.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return _t.setDefaults=function(Be,Ct){void 0===Ct&&(Ct=null),Ct?Ct.__autoTableDocumentDefaults=Be:ln=Be},_t.unifyColor=function(Be){return Array.isArray(Be)?Be:"number"==typeof Be?[Be,Be,Be]:"string"==typeof Be?[Be]:null},_t.prototype.applyStyles=function(Be,Ct){var it,Ft,Mt;void 0===Ct&&(Ct=!1),Be.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(Be.fontStyle);var xt=this.jsPDFDocument.internal.getFont(),st=xt.fontStyle,Ae=xt.fontName;if(Be.font&&(Ae=Be.font),Be.fontStyle){st=Be.fontStyle;var Xe=this.getFontList()[Ae];Xe&&-1===Xe.indexOf(st)&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(Xe[0]),st=Xe[0])}if(this.jsPDFDocument.setFont(Ae,st),Be.fontSize&&this.jsPDFDocument.setFontSize(Be.fontSize),!Ct){var vt=_t.unifyColor(Be.fillColor);vt&&(it=this.jsPDFDocument).setFillColor.apply(it,vt),(vt=_t.unifyColor(Be.textColor))&&(Ft=this.jsPDFDocument).setTextColor.apply(Ft,vt),(vt=_t.unifyColor(Be.lineColor))&&(Mt=this.jsPDFDocument).setDrawColor.apply(Mt,vt),"number"==typeof Be.lineWidth&&this.jsPDFDocument.setLineWidth(Be.lineWidth)}},_t.prototype.splitTextToSize=function(Be,Ct,it){return this.jsPDFDocument.splitTextToSize(Be,Ct,it)},_t.prototype.rect=function(Be,Ct,it,Ft,Mt){return this.jsPDFDocument.rect(Be,Ct,it,Ft,Mt)},_t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},_t.prototype.getTextWidth=function(Be){return this.jsPDFDocument.getTextWidth(Be)},_t.prototype.getDocument=function(){return this.jsPDFDocument},_t.prototype.setPage=function(Be){this.jsPDFDocument.setPage(Be)},_t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},_t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},_t.prototype.getGlobalOptions=function(){return ln||{}},_t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},_t.prototype.pageSize=function(){var Be=this.jsPDFDocument.internal.pageSize;return null==Be.width&&(Be={width:Be.getWidth(),height:Be.getHeight()}),Be},_t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},_t.prototype.getLineHeightFactor=function(){var Be=this.jsPDFDocument;return Be.getLineHeightFactor?Be.getLineHeightFactor():1.15},_t.prototype.getLineHeight=function(Be){return Be/this.scaleFactor()*this.getLineHeightFactor()},_t.prototype.pageNumber=function(){var Be=this.jsPDFDocument.internal.getCurrentPageInfo();return Be?Be.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},_t}();He.DocHandler=gn},4:function(mn,He,ln){Object.defineProperty(He,"__esModule",{value:!0}),He.parseHtml=void 0;var gn=ln(903),_t=ln(796);function Ct(Ft,Mt,xt,st,Ae,Xe){for(var vt=new _t.HtmlRowInput(st),ut=0;ut<st.cells.length;ut++){var Fe=st.cells[ut],gt=xt.getComputedStyle(Fe);if(Ae||"none"!==gt.display){var Gt=void 0;Xe&&(Gt=(0,gn.parseCss)(Ft,Fe,Mt,gt,xt)),vt.push({rowSpan:Fe.rowSpan,colSpan:Fe.colSpan,styles:Gt,_element:Fe,content:it(Fe)})}}var Wt=xt.getComputedStyle(st);if(vt.length>0&&(Ae||"none"!==Wt.display))return vt}function it(Ft){var Mt=Ft.cloneNode(!0);return Mt.innerHTML=Mt.innerHTML.replace(/\n/g,"").replace(/ +/g," "),Mt.innerHTML=Mt.innerHTML.split(/<br.*?>/).map(function(xt){return xt.trim()}).join("\n"),Mt.innerText||Mt.textContent||""}He.parseHtml=function Be(Ft,Mt,xt,st,Ae){var Xe,vt,ut;void 0===st&&(st=!1),void 0===Ae&&(Ae=!1),ut="string"==typeof Mt?xt.document.querySelector(Mt):Mt;var Fe=Object.keys(Ft.getFontList()),gt=Ft.scaleFactor(),Gt=[],Wt=[],Dt=[];if(!ut)return console.error("Html table could not be found with input: ",Mt),{head:Gt,body:Wt,foot:Dt};for(var xe=0;xe<ut.rows.length;xe++){var We=ut.rows[xe],qt=null===(vt=null===(Xe=We?.parentElement)||void 0===Xe?void 0:Xe.tagName)||void 0===vt?void 0:vt.toLowerCase(),Wn=Ct(Fe,gt,xt,We,st,Ae);Wn&&("thead"===qt?Gt.push(Wn):"tfoot"===qt?Dt.push(Wn):Wt.push(Wn))}return{head:Gt,body:Wt,foot:Dt}}},776:function(mn,He,ln){Object.defineProperty(He,"__esModule",{value:!0}),He.parseInput=void 0;var gn=ln(4),_t=ln(356),Be=ln(420),Ct=ln(744),it=ln(792);function vt(ut,Fe,gt){var Gt=ut[0]||Fe[0]||gt[0]||[],Wt=[];return Object.keys(Gt).filter(function(Dt){return"_element"!==Dt}).forEach(function(Dt){var We,xe=1;"object"==typeof(We=Array.isArray(Gt)?Gt[parseInt(Dt)]:Gt[Dt])&&!Array.isArray(We)&&(xe=We?.colSpan||1);for(var qt=0;qt<xe;qt++){var Wn;Wn=Array.isArray(Gt)?Wt.length:Dt+(qt>0?"_".concat(qt):""),Wt.push({dataKey:Wn})}}),Wt}He.parseInput=function Ft(ut,Fe){var gt=new Ct.DocHandler(ut),Gt=gt.getDocumentOptions(),Wt=gt.getGlobalOptions();(0,it.default)(gt,Wt,Gt,Fe);var xe,Dt=(0,_t.assign)({},Wt,Gt,Fe);typeof window<"u"&&(xe=window);var We=function Mt(ut,Fe,gt){for(var Gt={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},Wt=function(qt){if("columnStyles"===qt)Gt.columnStyles=(0,_t.assign)({},ut[qt],Fe[qt],gt[qt]);else{var mt=[ut,Fe,gt].map(function(Hn){return Hn[qt]||{}});Gt[qt]=(0,_t.assign)({},mt[0],mt[1],mt[2])}},Dt=0,xe=Object.keys(Gt);Dt<xe.length;Dt++)Wt(xe[Dt]);return Gt}(Wt,Gt,Fe),qt=function xt(ut,Fe,gt){for(var Wt={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},Dt=0,xe=[ut,Fe,gt];Dt<xe.length;Dt++){var We=xe[Dt];We.didParseCell&&Wt.didParseCell.push(We.didParseCell),We.willDrawCell&&Wt.willDrawCell.push(We.willDrawCell),We.didDrawCell&&Wt.didDrawCell.push(We.didDrawCell),We.willDrawPage&&Wt.willDrawPage.push(We.willDrawPage),We.didDrawPage&&Wt.didDrawPage.push(We.didDrawPage)}return Wt}(Wt,Gt,Fe),Wn=function st(ut,Fe){var gt,Gt,Wt,Dt,xe,We,qt,Wn,St,yt,cn,mt,zn,Kn,Hn=(0,Be.parseSpacing)(Fe.margin,40/ut.scaleFactor()),In=null!==(gt=function Ae(ut,Fe){var gt=ut.getLastAutoTable(),Gt=ut.scaleFactor(),Wt=ut.pageNumber(),Dt=!1;return gt&&gt.startPageNumber&&(Dt=gt.startPageNumber+gt.pageNumber-1===Wt),"number"==typeof Fe?Fe:null!=Fe&&!1!==Fe||!Dt||null==gt?.finalY?null:gt.finalY+20/Gt}(ut,Fe.startY))&&void 0!==gt?gt:Hn.top;zn=!0===Fe.showFoot?"everyPage":!1===Fe.showFoot?"never":null!==(Gt=Fe.showFoot)&&void 0!==Gt?Gt:"everyPage",Kn=!0===Fe.showHead?"everyPage":!1===Fe.showHead?"never":null!==(Wt=Fe.showHead)&&void 0!==Wt?Wt:"everyPage";var mi=null!==(Dt=Fe.useCss)&&void 0!==Dt&&Dt,bs=null!==(xe=Fe.horizontalPageBreakRepeat)&&void 0!==xe?xe:null;return{includeHiddenHtml:null!==(We=Fe.includeHiddenHtml)&&void 0!==We&&We,useCss:mi,theme:Fe.theme||(mi?"plain":"striped"),startY:In,margin:Hn,pageBreak:null!==(qt=Fe.pageBreak)&&void 0!==qt?qt:"auto",rowPageBreak:null!==(Wn=Fe.rowPageBreak)&&void 0!==Wn?Wn:"auto",tableWidth:null!==(St=Fe.tableWidth)&&void 0!==St?St:"auto",showHead:Kn,showFoot:zn,tableLineWidth:null!==(yt=Fe.tableLineWidth)&&void 0!==yt?yt:0,tableLineColor:null!==(cn=Fe.tableLineColor)&&void 0!==cn?cn:200,horizontalPageBreak:!!Fe.horizontalPageBreak,horizontalPageBreakRepeat:bs,horizontalPageBreakBehaviour:null!==(mt=Fe.horizontalPageBreakBehaviour)&&void 0!==mt?mt:"afterAllRows"}}(gt,Dt),St=function Xe(ut,Fe,gt){var Gt=Fe.head||[],Wt=Fe.body||[],Dt=Fe.foot||[];if(Fe.html)if(gt){var We=(0,gn.parseHtml)(ut,Fe.html,gt,Fe.includeHiddenHtml,Fe.useCss)||{};Gt=We.head||Gt,Wt=We.body||Gt,Dt=We.foot||Gt}else console.error("Cannot parse html in non browser environment");return{columns:Fe.columns||vt(Gt,Wt,Dt),head:Gt,body:Wt,foot:Dt}}(gt,Dt,xe);return{id:Fe.tableId,content:St,hooks:qt,styles:We,settings:Wn}}},792:function(mn,He){function gn(_t){_t.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),_t.minCellHeight||(_t.minCellHeight=_t.rowHeight)):_t.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),_t.cellWidth||(_t.cellWidth=_t.columnWidth))}Object.defineProperty(He,"__esModule",{value:!0}),He.default=function ln(_t,Be,Ct,it){for(var Ft=function(Ae){Ae&&"object"!=typeof Ae&&console.error("The options parameter should be of type object, is: "+typeof Ae),typeof Ae.extendWidth<"u"&&(Ae.tableWidth=Ae.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof Ae.margins<"u"&&(typeof Ae.margin>"u"&&(Ae.margin=Ae.margins),console.error("Use of deprecated option: margins, use margin instead.")),Ae.startY&&"number"!=typeof Ae.startY&&(console.error("Invalid value for startY option",Ae.startY),delete Ae.startY),!Ae.didDrawPage&&(Ae.afterPageContent||Ae.beforePageContent||Ae.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),Ae.didDrawPage=function(Dt){_t.applyStyles(_t.userStyles),Ae.beforePageContent&&Ae.beforePageContent(Dt),_t.applyStyles(_t.userStyles),Ae.afterPageContent&&Ae.afterPageContent(Dt),_t.applyStyles(_t.userStyles),Ae.afterPageAdd&&Dt.pageNumber>1&&Dt.afterPageAdd(Dt),_t.applyStyles(_t.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(Dt){Ae[Dt]&&console.error('The "'.concat(Dt,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(Dt){var xe=Dt[0],We=Dt[1];Ae[We]&&(console.error("Use of deprecated option ".concat(We,". Use ").concat(xe," instead")),Ae[xe]=Ae[We])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(Dt){var xe="string"==typeof Dt?Dt:Dt[0],We="string"==typeof Dt?Dt:Dt[1];typeof Ae[xe]<"u"&&(typeof Ae.styles[We]>"u"&&(Ae.styles[We]=Ae[xe]),console.error("Use of deprecated option: "+xe+", use the style "+We+" instead."))});for(var Xe=0,vt=["styles","bodyStyles","headStyles","footStyles"];Xe<vt.length;Xe++)gn(Ae[vt[Xe]]||{});for(var Fe=Ae.columnStyles||{},gt=0,Gt=Object.keys(Fe);gt<Gt.length;gt++)gn(Fe[Gt[gt]]||{})},Mt=0,xt=[Be,Ct,it];Mt<xt.length;Mt++)Ft(xt[Mt])}},260:function(mn,He,ln){Object.defineProperty(He,"__esModule",{value:!0}),He.Column=He.Cell=He.Row=He.Table=void 0;var gn=ln(796),_t=ln(172),Be=ln(420),Ct=function(){function xt(st,Ae){this.pageNumber=1,this.pageCount=1,this.id=st.id,this.settings=st.settings,this.styles=st.styles,this.hooks=st.hooks,this.columns=Ae.columns,this.head=Ae.head,this.body=Ae.body,this.foot=Ae.foot}return xt.prototype.getHeadHeight=function(st){return this.head.reduce(function(Ae,Xe){return Ae+Xe.getMaxCellHeight(st)},0)},xt.prototype.getFootHeight=function(st){return this.foot.reduce(function(Ae,Xe){return Ae+Xe.getMaxCellHeight(st)},0)},xt.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},xt.prototype.callCellHooks=function(st,Ae,Xe,vt,ut,Fe){for(var gt=0,Gt=Ae;gt<Gt.length;gt++){var xe=!1===(0,Gt[gt])(new _t.CellHookData(st,this,Xe,vt,ut,Fe));if(Xe.text=Array.isArray(Xe.text)?Xe.text:[Xe.text],xe)return!1}return!0},xt.prototype.callEndPageHooks=function(st,Ae){st.applyStyles(st.userStyles);for(var Xe=0,vt=this.hooks.didDrawPage;Xe<vt.length;Xe++)(0,vt[Xe])(new _t.HookData(st,this,Ae))},xt.prototype.callWillDrawPageHooks=function(st,Ae){for(var Xe=0,vt=this.hooks.willDrawPage;Xe<vt.length;Xe++)(0,vt[Xe])(new _t.HookData(st,this,Ae))},xt.prototype.getWidth=function(st){if("number"==typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce(function(vt,ut){return vt+ut.wrappedWidth},0);var Xe=this.settings.margin;return st-Xe.left-Xe.right},xt}();He.Table=Ct;var it=function(){function xt(st,Ae,Xe,vt,ut){void 0===ut&&(ut=!1),this.height=0,this.raw=st,st instanceof gn.HtmlRowInput&&(this.raw=st._element,this.element=st._element),this.index=Ae,this.section=Xe,this.cells=vt,this.spansMultiplePages=ut}return xt.prototype.getMaxCellHeight=function(st){var Ae=this;return st.reduce(function(Xe,vt){var ut;return Math.max(Xe,(null===(ut=Ae.cells[vt.index])||void 0===ut?void 0:ut.height)||0)},0)},xt.prototype.hasRowSpan=function(st){var Ae=this;return st.filter(function(Xe){var vt=Ae.cells[Xe.index];return!!vt&&vt.rowSpan>1}).length>0},xt.prototype.canEntireRowFit=function(st,Ae){return this.getMaxCellHeight(Ae)<=st},xt.prototype.getMinimumRowHeight=function(st,Ae){var Xe=this;return st.reduce(function(vt,ut){var Fe=Xe.cells[ut.index];if(!Fe)return 0;var gt=Ae.getLineHeight(Fe.styles.fontSize),Wt=Fe.padding("vertical")+gt;return Wt>vt?Wt:vt},0)},xt}();He.Row=it;var Ft=function(){function xt(st,Ae,Xe){var vt,ut;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=Ae,this.section=Xe,this.raw=st;var Fe=st;null==st||"object"!=typeof st||Array.isArray(st)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=st.rowSpan||1,this.colSpan=st.colSpan||1,Fe=null!==(ut=null!==(vt=st.content)&&void 0!==vt?vt:st.title)&&void 0!==ut?ut:st,st._element&&(this.raw=st._element)),this.text=(null!=Fe?""+Fe:"").split(/\r\n|\r|\n/g)}return xt.prototype.getTextPos=function(){var st,Xe;if("top"===this.styles.valign)st=this.y+this.padding("top");else if("bottom"===this.styles.valign)st=this.y+this.height-this.padding("bottom");else{var Ae=this.height-this.padding("vertical");st=this.y+Ae/2+this.padding("top")}if("right"===this.styles.halign)Xe=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var vt=this.width-this.padding("horizontal");Xe=this.x+vt/2+this.padding("left")}else Xe=this.x+this.padding("left");return{x:Xe,y:st}},xt.prototype.getContentHeight=function(st,Ae){void 0===Ae&&(Ae=1.15);var ut=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/st*Ae)+this.padding("vertical");return Math.max(ut,this.styles.minCellHeight)},xt.prototype.padding=function(st){var Ae=(0,Be.parseSpacing)(this.styles.cellPadding,0);return"vertical"===st?Ae.top+Ae.bottom:"horizontal"===st?Ae.left+Ae.right:Ae[st]},xt}();He.Cell=Ft;var Mt=function(){function xt(st,Ae,Xe){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=st,this.raw=Ae,this.index=Xe}return xt.prototype.getMaxCustomCellWidth=function(st){for(var Ae=0,Xe=0,vt=st.allRows();Xe<vt.length;Xe++){var Fe=vt[Xe].cells[this.index];Fe&&"number"==typeof Fe.styles.cellWidth&&(Ae=Math.max(Ae,Fe.styles.cellWidth))}return Ae},xt}();He.Column=Mt},356:function(mn,He){Object.defineProperty(He,"__esModule",{value:!0}),He.assign=void 0,He.assign=function ln(gn,_t,Be,Ct,it){if(null==gn)throw new TypeError("Cannot convert undefined or null to object");for(var Ft=Object(gn),Mt=1;Mt<arguments.length;Mt++){var xt=arguments[Mt];if(null!=xt)for(var st in xt)Object.prototype.hasOwnProperty.call(xt,st)&&(Ft[st]=xt[st])}return Ft}},972:function(mn,He,ln){Object.defineProperty(He,"__esModule",{value:!0}),He.createTable=void 0;var gn=ln(744),_t=ln(260),Be=ln(324),Ct=ln(796),it=ln(356);function xt(ut,Fe,gt,Gt,Wt,Dt){var xe={};return Fe.map(function(qt,Wn){for(var St=0,yt={},cn=0,mt=0,Hn=0,In=gt;Hn<In.length;Hn++){var zn=In[Hn];if(null==xe[zn.index]||0===xe[zn.index].left)if(0===mt){var Kn,mi={};"object"==typeof(Kn=Array.isArray(qt)?qt[zn.index-cn-St]:qt[zn.dataKey])&&!Array.isArray(Kn)&&(mi=Kn?.styles||{});var li=vt(ut,zn,Wn,Wt,Gt,Dt,mi),Nn=new _t.Cell(Kn,li,ut);yt[zn.dataKey]=Nn,yt[zn.index]=Nn,xe[zn.index]={left:Nn.rowSpan-1,times:mt=Nn.colSpan-1}}else mt--,cn++;else xe[zn.index].left--,mt=xe[zn.index].times,St++}return new _t.Row(qt,Wn,ut,yt)})}function st(ut,Fe){var gt={};return ut.forEach(function(Gt){if(null!=Gt.raw){var Wt=function Ae(ut,Fe){if("head"===ut){if("object"==typeof Fe)return Fe.header||Fe.title||null;if("string"==typeof Fe||"number"==typeof Fe)return Fe}else if("foot"===ut&&"object"==typeof Fe)return Fe.footer;return null}(Fe,Gt.raw);null!=Wt&&(gt[Gt.dataKey]=Wt)}}),Object.keys(gt).length>0?gt:null}function vt(ut,Fe,gt,Gt,Wt,Dt,xe){var qt,We=(0,Ct.getTheme)(Gt);"head"===ut?qt=Wt.headStyles:"body"===ut?qt=Wt.bodyStyles:"foot"===ut&&(qt=Wt.footStyles);var Wn=(0,it.assign)({},We.table,We[ut],Wt.styles,qt),yt="body"===ut&&(Wt.columnStyles[Fe.dataKey]||Wt.columnStyles[Fe.index])||{},cn="body"===ut&&gt%2==0?(0,it.assign)({},We.alternateRow,Wt.alternateRowStyles):{},mt=(0,Ct.defaultStyles)(Dt),Hn=(0,it.assign)({},mt,Wn,cn,yt);return(0,it.assign)(Hn,xe)}He.createTable=function Ft(ut,Fe){var gt=new gn.DocHandler(ut),Gt=function Mt(ut,Fe){var Wt,gt=ut.content,Gt=function Xe(ut){return ut.map(function(Fe,gt){var Gt,Wt,Dt;return Dt="object"==typeof Fe&&null!==(Wt=null!==(Gt=Fe.dataKey)&&void 0!==Gt?Gt:Fe.key)&&void 0!==Wt?Wt:gt,new _t.Column(Dt,Fe,gt)})}(gt.columns);0===gt.head.length&&(Wt=st(Gt,"head"))&&gt.head.push(Wt),0===gt.foot.length&&(Wt=st(Gt,"foot"))&&gt.foot.push(Wt);var Dt=ut.settings.theme,xe=ut.styles;return{columns:Gt,head:xt("head",gt.head,Gt,xe,Dt,Fe),body:xt("body",gt.body,Gt,xe,Dt,Fe),foot:xt("foot",gt.foot,Gt,xe,Dt,Fe)}}(Fe,gt.scaleFactor()),Wt=new _t.Table(Fe,Gt);return(0,Be.calculateWidths)(gt,Wt),gt.applyStyles(gt.userStyles),Wt}},664:function(mn,He,ln){Object.defineProperty(He,"__esModule",{value:!0}),He.addPage=He.drawTable=void 0;var gn=ln(420),_t=ln(260),Be=ln(744),Ct=ln(356),it=ln(136),Ft=ln(224);function st(St,yt,cn,mt){var Hn=yt.settings;St.applyStyles(St.userStyles),("firstPage"===Hn.showHead||"everyPage"===Hn.showHead)&&yt.head.forEach(function(In){return Wt(St,yt,In,cn,mt)})}function Xe(St,yt,cn,mt,Hn,In){St.applyStyles(St.userStyles),In=In??yt.body.length;var zn=Math.min(cn+In,yt.body.length),Kn=-1;return yt.body.slice(cn,zn).forEach(function(mi,li){var bs=We(St,yt,cn+li===yt.body.length-1,mt);mi.canEntireRowFit(bs,Hn)&&(Wt(St,yt,mi,mt,Hn),Kn=cn+li)}),Kn}function vt(St,yt,cn,mt){var Hn=yt.settings;St.applyStyles(St.userStyles),("lastPage"===Hn.showFoot||"everyPage"===Hn.showFoot)&&yt.foot.forEach(function(In){return Wt(St,yt,In,cn,mt)})}function ut(St,yt,cn){var mt=cn.getLineHeight(St.styles.fontSize),Hn=St.padding("vertical"),In=Math.floor((yt-Hn)/mt);return Math.max(0,In)}function Gt(St,yt,cn,mt,Hn,In,zn){var Kn=We(St,yt,mt,In);if(cn.canEntireRowFit(Kn,zn))Wt(St,yt,cn,In,zn);else if(function gt(St,yt,cn,mt){var Hn=St.pageSize().height,In=mt.settings.margin,Kn=Hn-(In.top+In.bottom);"body"===yt.section&&(Kn-=mt.getHeadHeight(mt.columns)+mt.getFootHeight(mt.columns));var mi=yt.getMinimumRowHeight(mt.columns,St),li=mi<cn;if(mi>Kn)return console.error("Will not be able to print row ".concat(yt.index," correctly since it's minimum height is larger than page height")),!0;if(!li)return!1;var Nn=yt.hasRowSpan(mt.columns);return yt.getMaxCellHeight(mt.columns)>Kn?(Nn&&console.error("The content of row ".concat(yt.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(Nn||"avoid"===mt.settings.rowPageBreak)}(St,cn,Kn,yt)){var mi=function Fe(St,yt,cn,mt){var Hn={};St.spansMultiplePages=!0,St.height=0;for(var In=0,zn=0,Kn=cn.columns;zn<Kn.length;zn++)if(li=St.cells[(mi=Kn[zn]).index]){Array.isArray(li.text)||(li.text=[li.text]);var Nn=new _t.Cell(li.raw,li.styles,li.section);(Nn=(0,Ct.assign)(Nn,li)).text=[];var bs=ut(li,yt,mt);li.text.length>bs&&(Nn.text=li.text.splice(bs,li.text.length));var fo=mt.scaleFactor(),Jc=mt.getLineHeightFactor();li.contentHeight=li.getContentHeight(fo,Jc),li.contentHeight>=yt&&(li.contentHeight=yt,Nn.styles.minCellHeight-=yt),li.contentHeight>St.height&&(St.height=li.contentHeight),Nn.contentHeight=Nn.getContentHeight(fo,Jc),Nn.contentHeight>In&&(In=Nn.contentHeight),Hn[mi.index]=Nn}var uc=new _t.Row(St.raw,-1,St.section,Hn,!0);uc.height=In;for(var Nf=0,Lv=cn.columns;Nf<Lv.length;Nf++){var mi,li;(Nn=uc.cells[(mi=Lv[Nf]).index])&&(Nn.height=uc.height),(li=St.cells[mi.index])&&(li.height=St.height)}return uc}(cn,Kn,yt,St);Wt(St,yt,cn,In,zn),qt(St,yt,Hn,In,zn),Gt(St,yt,mi,mt,Hn,In,zn)}else qt(St,yt,Hn,In,zn),Gt(St,yt,cn,mt,Hn,In,zn)}function Wt(St,yt,cn,mt,Hn){mt.x=yt.settings.margin.left;for(var In=0,zn=Hn;In<zn.length;In++){var Kn=zn[In],mi=cn.cells[Kn.index];if(mi)if(St.applyStyles(mi.styles),mi.x=mt.x,mi.y=mt.y,!1!==yt.callCellHooks(St,yt.hooks.willDrawCell,mi,cn,Kn,mt)){Dt(St,mi,mt);var Nn=mi.getTextPos();(0,it.default)(mi.text,Nn.x,Nn.y,{halign:mi.styles.halign,valign:mi.styles.valign,maxWidth:Math.ceil(mi.width-mi.padding("left")-mi.padding("right"))},St.getDocument()),yt.callCellHooks(St,yt.hooks.didDrawCell,mi,cn,Kn,mt),mt.x+=Kn.width}else mt.x+=Kn.width;else mt.x+=Kn.width}mt.y+=cn.height}function Dt(St,yt,cn){var mt=yt.styles;if(St.getDocument().setFillColor(St.getDocument().getFillColor()),"number"==typeof mt.lineWidth){var Hn=(0,gn.getFillStyle)(mt.lineWidth,mt.fillColor);Hn&&St.rect(yt.x,cn.y,yt.width,yt.height,Hn)}else"object"==typeof mt.lineWidth&&(mt.fillColor&&St.rect(yt.x,cn.y,yt.width,yt.height,"F"),function xe(St,yt,cn,mt){var Hn,In,zn,Kn;function mi(li,Nn,bs,fo,Jc){St.getDocument().setLineWidth(li),St.getDocument().line(Nn,bs,fo,Jc,"S")}mt.top&&(Hn=cn.x,zn=cn.x+yt.width,mt.right&&(zn+=.5*mt.right),mt.left&&(Hn-=.5*mt.left),mi(mt.top,Hn,In=cn.y,zn,Kn=cn.y)),mt.bottom&&(Hn=cn.x,zn=cn.x+yt.width,mt.right&&(zn+=.5*mt.right),mt.left&&(Hn-=.5*mt.left),mi(mt.bottom,Hn,In=cn.y+yt.height,zn,Kn=cn.y+yt.height)),mt.left&&(In=cn.y,Kn=cn.y+yt.height,mt.top&&(In-=.5*mt.top),mt.bottom&&(Kn+=.5*mt.bottom),mi(mt.left,Hn=cn.x,In,zn=cn.x,Kn)),mt.right&&(In=cn.y,Kn=cn.y+yt.height,mt.top&&(In-=.5*mt.top),mt.bottom&&(Kn+=.5*mt.bottom),mi(mt.right,Hn=cn.x+yt.width,In,zn=cn.x+yt.width,Kn))}(St,yt,cn,mt.lineWidth))}function We(St,yt,cn,mt){var Hn=yt.settings.margin.bottom,In=yt.settings.showFoot;return("everyPage"===In||"lastPage"===In&&cn)&&(Hn+=yt.getFootHeight(yt.columns)),St.pageSize().height-mt.y-Hn}function qt(St,yt,cn,mt,Hn,In){void 0===Hn&&(Hn=[]),void 0===In&&(In=!1),St.applyStyles(St.userStyles),"everyPage"===yt.settings.showFoot&&!In&&yt.foot.forEach(function(Kn){return Wt(St,yt,Kn,mt,Hn)}),yt.callEndPageHooks(St,mt);var zn=yt.settings.margin;(0,gn.addTableBorder)(St,yt,cn,mt),Wn(St),yt.pageNumber++,yt.pageCount++,mt.x=zn.left,mt.y=zn.top,cn.y=zn.top,yt.callWillDrawPageHooks(St,mt),"everyPage"===yt.settings.showHead&&(yt.head.forEach(function(Kn){return Wt(St,yt,Kn,mt,Hn)}),St.applyStyles(St.userStyles))}function Wn(St){var yt=St.pageNumber();return St.setPage(yt+1),St.pageNumber()===yt&&(St.addPage(),!0)}He.drawTable=function Mt(St,yt){var cn=yt.settings,mt=cn.startY,Hn=cn.margin,In={x:Hn.left,y:mt},zn=yt.getHeadHeight(yt.columns)+yt.getFootHeight(yt.columns),Kn=mt+Hn.bottom+zn;"avoid"===cn.pageBreak&&(Kn+=yt.body.reduce(function(fo,Jc){return fo+Jc.height},0));var Nn=new Be.DocHandler(St);("always"===cn.pageBreak||null!=cn.startY&&Kn>Nn.pageSize().height)&&(Wn(Nn),In.y=Hn.top),yt.callWillDrawPageHooks(Nn,In);var bs=(0,Ct.assign)({},In);yt.startPageNumber=Nn.pageNumber(),cn.horizontalPageBreak?function xt(St,yt,cn,mt){var Hn=(0,Ft.calculateAllColumnsCanFitInPage)(St,yt);if("afterAllRows"===yt.settings.horizontalPageBreakBehaviour)Hn.forEach(function(li,Nn){St.applyStyles(St.userStyles),Nn>0?qt(St,yt,cn,mt,li.columns,!0):st(St,yt,mt,li.columns),function Ae(St,yt,cn,mt,Hn){St.applyStyles(St.userStyles),yt.body.forEach(function(In,zn){Gt(St,yt,In,zn===yt.body.length-1,cn,mt,Hn)})}(St,yt,cn,mt,li.columns),vt(St,yt,mt,li.columns)});else for(var zn=-1,Kn=Hn[0],mi=function(){var li=zn;if(Kn){St.applyStyles(St.userStyles);var Nn=Kn.columns;zn>=0?qt(St,yt,cn,mt,Nn,!0):st(St,yt,mt,Nn),li=Xe(St,yt,zn+1,mt,Nn),vt(St,yt,mt,Nn)}var bs=li-zn;Hn.slice(1).forEach(function(fo){St.applyStyles(St.userStyles),qt(St,yt,cn,mt,fo.columns,!0),Xe(St,yt,zn+1,mt,fo.columns,bs),vt(St,yt,mt,fo.columns)}),zn=li};zn<yt.body.length-1;)mi()}(Nn,yt,bs,In):(Nn.applyStyles(Nn.userStyles),("firstPage"===cn.showHead||"everyPage"===cn.showHead)&&yt.head.forEach(function(fo){return Wt(Nn,yt,fo,In,yt.columns)}),Nn.applyStyles(Nn.userStyles),yt.body.forEach(function(fo,Jc){Gt(Nn,yt,fo,Jc===yt.body.length-1,bs,In,yt.columns)}),Nn.applyStyles(Nn.userStyles),("lastPage"===cn.showFoot||"everyPage"===cn.showFoot)&&yt.foot.forEach(function(fo){return Wt(Nn,yt,fo,In,yt.columns)})),(0,gn.addTableBorder)(Nn,yt,bs,In),yt.callEndPageHooks(Nn,In),yt.finalY=In.y,St.lastAutoTable=yt,St.previousAutoTable=yt,St.autoTable&&(St.autoTable.previous=yt),Nn.applyStyles(Nn.userStyles)},He.addPage=qt},224:function(mn,He,ln){Object.defineProperty(He,"__esModule",{value:!0}),He.calculateAllColumnsCanFitInPage=void 0;var gn=ln(420);function _t(Ct,it,Ft){var Mt;void 0===Ft&&(Ft={});var xt=(0,gn.getPageAvailableWidth)(Ct,it),st=new Map,Ae=[],Xe=[],vt=[];Array.isArray(it.settings.horizontalPageBreakRepeat)?vt=it.settings.horizontalPageBreakRepeat:("string"==typeof it.settings.horizontalPageBreakRepeat||"number"==typeof it.settings.horizontalPageBreakRepeat)&&(vt=[it.settings.horizontalPageBreakRepeat]),vt.forEach(function(Gt){var Wt=it.columns.find(function(Dt){return Dt.dataKey===Gt||Dt.index===Gt});Wt&&!st.has(Wt.index)&&(st.set(Wt.index,!0),Ae.push(Wt.index),Xe.push(it.columns[Wt.index]),xt-=Wt.wrappedWidth)});for(var ut=!0,Fe=null!==(Mt=Ft?.start)&&void 0!==Mt?Mt:0;Fe<it.columns.length;)if(st.has(Fe))Fe++;else{var gt=it.columns[Fe].wrappedWidth;if(!(ut||xt>=gt))break;ut=!1,Ae.push(Fe),Xe.push(it.columns[Fe]),xt-=gt,Fe++}return{colIndexes:Ae,columns:Xe,lastIndex:Fe-1}}He.calculateAllColumnsCanFitInPage=function Be(Ct,it){for(var Ft=[],Mt=0;Mt<it.columns.length;Mt++){var xt=_t(Ct,it,{start:Mt});xt.columns.length&&(Ft.push(xt),Mt=xt.lastIndex)}return Ft}},324:function(mn,He,ln){Object.defineProperty(He,"__esModule",{value:!0}),He.ellipsize=He.resizeColumns=He.calculateWidths=void 0;var gn=ln(420);function Ct(Ae,Xe,vt){for(var ut=Xe,Fe=Ae.reduce(function(St,yt){return St+yt.wrappedWidth},0),gt=0;gt<Ae.length;gt++){var Gt=Ae[gt],xe=Gt.width+ut*(Gt.wrappedWidth/Fe),We=vt(Gt),qt=xe<We?We:xe;Xe-=qt-Gt.width,Gt.width=qt}if(Xe=Math.round(1e10*Xe)/1e10){var Wn=Ae.filter(function(St){return!(Xe<0)||St.width>vt(St)});Wn.length&&(Xe=Ct(Wn,Xe,vt))}return Xe}function xt(Ae,Xe,vt,ut,Fe){return Ae.map(function(gt){return function st(Ae,Xe,vt,ut,Fe){var gt=1e4*ut.scaleFactor();if((Xe=Math.ceil(Xe*gt)/gt)>=(0,gn.getStringWidth)(Ae,vt,ut))return Ae;for(;Xe<(0,gn.getStringWidth)(Ae+Fe,vt,ut)&&!(Ae.length<=1);)Ae=Ae.substring(0,Ae.length-1);return Ae.trim()+Fe}(gt,Xe,vt,ut,Fe)})}He.calculateWidths=function _t(Ae,Xe){!function Be(Ae,Xe){var vt=Ae.scaleFactor(),ut=Xe.settings.horizontalPageBreak,Fe=(0,gn.getPageAvailableWidth)(Ae,Xe);Xe.allRows().forEach(function(gt){for(var Gt=0,Wt=Xe.columns;Gt<Wt.length;Gt++){var Dt=Wt[Gt],xe=gt.cells[Dt.index];if(xe){Xe.callCellHooks(Ae,Xe.hooks.didParseCell,xe,gt,Dt,null);var qt=xe.padding("horizontal");xe.contentWidth=(0,gn.getStringWidth)(xe.text,xe.styles,Ae)+qt;var Wn=(0,gn.getStringWidth)(xe.text.join(" ").split(/[^\S\u00A0]+/),xe.styles,Ae);xe.minReadableWidth=Wn+xe.padding("horizontal"),"number"==typeof xe.styles.cellWidth?(xe.minWidth=xe.styles.cellWidth,xe.wrappedWidth=xe.styles.cellWidth):"wrap"===xe.styles.cellWidth||!0===ut?xe.contentWidth>Fe?(xe.minWidth=Fe,xe.wrappedWidth=Fe):(xe.minWidth=xe.contentWidth,xe.wrappedWidth=xe.contentWidth):(xe.minWidth=xe.styles.minCellWidth||10/vt,xe.wrappedWidth=xe.contentWidth,xe.minWidth>xe.wrappedWidth&&(xe.wrappedWidth=xe.minWidth))}}}),Xe.allRows().forEach(function(gt){for(var Gt=0,Wt=Xe.columns;Gt<Wt.length;Gt++){var Dt=Wt[Gt],xe=gt.cells[Dt.index];if(xe&&1===xe.colSpan)Dt.wrappedWidth=Math.max(Dt.wrappedWidth,xe.wrappedWidth),Dt.minWidth=Math.max(Dt.minWidth,xe.minWidth),Dt.minReadableWidth=Math.max(Dt.minReadableWidth,xe.minReadableWidth);else{var We=Xe.styles.columnStyles[Dt.dataKey]||Xe.styles.columnStyles[Dt.index]||{},qt=We.cellWidth||We.minCellWidth;qt&&"number"==typeof qt&&(Dt.minWidth=qt,Dt.wrappedWidth=qt)}xe&&(xe.colSpan>1&&!Dt.minWidth&&(Dt.minWidth=xe.minWidth),xe.colSpan>1&&!Dt.wrappedWidth&&(Dt.wrappedWidth=xe.minWidth))}})}(Ae,Xe);var vt=[],ut=0;Xe.columns.forEach(function(gt){var Gt=gt.getMaxCustomCellWidth(Xe);Gt?gt.width=Gt:(gt.width=gt.wrappedWidth,vt.push(gt)),ut+=gt.width});var Fe=Xe.getWidth(Ae.pageSize().width)-ut;Fe&&(Fe=Ct(vt,Fe,function(gt){return Math.max(gt.minReadableWidth,gt.minWidth)})),Fe&&(Fe=Ct(vt,Fe,function(gt){return gt.minWidth})),Fe=Math.abs(Fe),!Xe.settings.horizontalPageBreak&&Fe>.1/Ae.scaleFactor()&&(Fe=Fe<1?Fe:Math.round(Fe),console.warn("Of the table content, ".concat(Fe," units width could not fit page"))),function Ft(Ae){for(var Xe=Ae.allRows(),vt=0;vt<Xe.length;vt++)for(var ut=Xe[vt],Fe=null,gt=0,Gt=0,Wt=0;Wt<Ae.columns.length;Wt++){var Dt=Ae.columns[Wt];if((Gt-=1)>1&&Ae.columns[Wt+1])gt+=Dt.width,delete ut.cells[Dt.index];else if(Fe){var xe=Fe;delete ut.cells[Dt.index],Fe=null,xe.width=Dt.width+gt}else{if(!(xe=ut.cells[Dt.index]))continue;if(Gt=xe.colSpan,gt=0,xe.colSpan>1){Fe=xe,gt+=Dt.width;continue}xe.width=Dt.width+gt}}}(Xe),function Mt(Ae,Xe){for(var vt={count:0,height:0},ut=0,Fe=Ae.allRows();ut<Fe.length;ut++){for(var gt=Fe[ut],Gt=0,Wt=Ae.columns;Gt<Wt.length;Gt++){var xe=gt.cells[Wt[Gt].index];if(xe){Xe.applyStyles(xe.styles,!0);var We=xe.width-xe.padding("horizontal");if("linebreak"===xe.styles.overflow)xe.text=Xe.splitTextToSize(xe.text,We+1/Xe.scaleFactor(),{fontSize:xe.styles.fontSize});else if("ellipsize"===xe.styles.overflow)xe.text=xt(xe.text,We,xe.styles,Xe,"...");else if("hidden"===xe.styles.overflow)xe.text=xt(xe.text,We,xe.styles,Xe,"");else if("function"==typeof xe.styles.overflow){var qt=xe.styles.overflow(xe.text,We);xe.text="string"==typeof qt?[qt]:qt}xe.contentHeight=xe.getContentHeight(Xe.scaleFactor(),Xe.getLineHeightFactor());var Wn=xe.contentHeight/xe.rowSpan;xe.rowSpan>1&&vt.count*vt.height<Wn*xe.rowSpan?vt={height:Wn,count:xe.rowSpan}:vt&&vt.count>0&&vt.height>Wn&&(Wn=vt.height),Wn>gt.height&&(gt.height=Wn)}}vt.count--}}(Xe,Ae),function it(Ae){for(var Xe={},vt=1,ut=Ae.allRows(),Fe=0;Fe<ut.length;Fe++)for(var gt=ut[Fe],Gt=0,Wt=Ae.columns;Gt<Wt.length;Gt++){var Dt=Wt[Gt],xe=Xe[Dt.index];if(vt>1)vt--,delete gt.cells[Dt.index];else if(xe)xe.cell.height+=gt.height,vt=xe.cell.colSpan,delete gt.cells[Dt.index],xe.left--,xe.left<=1&&delete Xe[Dt.index];else{var We=gt.cells[Dt.index];if(!We)continue;if(We.height=gt.height,We.rowSpan>1){var qt=ut.length-Fe;Xe[Dt.index]={cell:We,left:We.rowSpan>qt?qt:We.rowSpan,row:gt}}}}}(Xe)},He.resizeColumns=Ct,He.ellipsize=xt},964:function(mn){if(typeof h>"u"){var He=new Error("Cannot find module 'undefined'");throw He.code="MODULE_NOT_FOUND",He}mn.exports=h}},wn={};function sn(mn){var He=wn[mn];if(void 0!==He)return He.exports;var ln=wn[mn]={exports:{}};return Jn[mn].call(ln.exports,ln,ln.exports,sn),ln.exports}var En={};return function(){var mn=En;Object.defineProperty(mn,"__esModule",{value:!0}),mn.Cell=mn.Column=mn.Row=mn.Table=mn.CellHookData=mn.__drawTable=mn.__createTable=mn.applyPlugin=void 0;var He=sn(340),ln=sn(776),gn=sn(664),_t=sn(972),Be=sn(260);Object.defineProperty(mn,"Table",{enumerable:!0,get:function(){return Be.Table}});var Ct=sn(172);Object.defineProperty(mn,"CellHookData",{enumerable:!0,get:function(){return Ct.CellHookData}});var it=sn(260);function Ft(Xe){(0,He.default)(Xe)}Object.defineProperty(mn,"Cell",{enumerable:!0,get:function(){return it.Cell}}),Object.defineProperty(mn,"Column",{enumerable:!0,get:function(){return it.Column}}),Object.defineProperty(mn,"Row",{enumerable:!0,get:function(){return it.Row}}),mn.applyPlugin=Ft,mn.__createTable=function xt(Xe,vt){var ut=(0,ln.parseInput)(Xe,vt);return(0,_t.createTable)(Xe,ut)},mn.__drawTable=function st(Xe,vt){(0,gn.drawTable)(Xe,vt)};try{var Ae=sn(964);Ae.jsPDF&&(Ae=Ae.jsPDF),Ft(Ae)}catch{}mn.default=function Mt(Xe,vt){var ut=(0,ln.parseInput)(Xe,vt),Fe=(0,_t.createTable)(Xe,ut);(0,gn.drawTable)(Xe,Fe)}}(),En}())},9107:(is,yi,Kt)=>{"use strict";Kt.r(yi),Kt.d(yi,{AcroForm:()=>hS,AcroFormAppearance:()=>$n,AcroFormButton:()=>Ks,AcroFormCheckBox:()=>qv,AcroFormChoiceField:()=>Hu,AcroFormComboBox:()=>Ah,AcroFormEditBox:()=>Rd,AcroFormListBox:()=>Ad,AcroFormPasswordField:()=>va,AcroFormPushButton:()=>qf,AcroFormRadioButton:()=>Rh,AcroFormTextField:()=>Dd,GState:()=>Wf,ShadingPattern:()=>Sd,TilingPattern:()=>Ih,default:()=>AN,jsPDF:()=>ni});var h=Kt(2284),sn=Uint8Array,En=Uint16Array,mn=Int32Array,He=new sn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ln=new sn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),gn=new sn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_t=function(w,_){for(var b=new En(31),I=0;I<31;++I)b[I]=_+=1<<w[I-1];var x=new mn(b[30]);for(I=1;I<30;++I)for(var D=b[I];D<b[I+1];++D)x[D]=D-b[I]<<5|I;return{b,r:x}},Be=_t(He,2),Ct=Be.b,it=Be.r;Ct[28]=258,it[258]=28;for(var Ft=_t(ln,0),Mt=Ft.b,xt=Ft.r,st=new En(32768),Ae=0;Ae<32768;++Ae){var Xe=(43690&Ae)>>1|(21845&Ae)<<1;st[Ae]=((65280&(Xe=(61680&(Xe=(52428&Xe)>>2|(13107&Xe)<<2))>>4|(3855&Xe)<<4))>>8|(255&Xe)<<8)>>1}var vt=function(w,_,b){for(var I=w.length,x=0,D=new En(_);x<I;++x)w[x]&&++D[w[x]-1];var F,O=new En(_);for(x=1;x<_;++x)O[x]=O[x-1]+D[x-1]<<1;if(b){F=new En(1<<_);var V=15-_;for(x=0;x<I;++x)if(w[x])for(var j=x<<4|w[x],J=_-w[x],ee=O[w[x]-1]++<<J,se=ee|(1<<J)-1;ee<=se;++ee)F[st[ee]>>V]=j}else for(F=new En(I),x=0;x<I;++x)w[x]&&(F[x]=st[O[w[x]-1]++]>>15-w[x]);return F},ut=new sn(288);for(Ae=0;Ae<144;++Ae)ut[Ae]=8;for(Ae=144;Ae<256;++Ae)ut[Ae]=9;for(Ae=256;Ae<280;++Ae)ut[Ae]=7;for(Ae=280;Ae<288;++Ae)ut[Ae]=8;var Fe=new sn(32);for(Ae=0;Ae<32;++Ae)Fe[Ae]=5;var gt=vt(ut,9,0),Gt=vt(ut,9,1),Wt=vt(Fe,5,0),Dt=vt(Fe,5,1),xe=function(w){for(var _=w[0],b=1;b<w.length;++b)w[b]>_&&(_=w[b]);return _},We=function(w,_,b){var I=_/8|0;return(w[I]|w[I+1]<<8)>>(7&_)&b},qt=function(w,_){var b=_/8|0;return(w[b]|w[b+1]<<8|w[b+2]<<16)>>(7&_)},Wn=function(w){return(w+7)/8|0},St=function(w,_,b){return(null==_||_<0)&&(_=0),(null==b||b>w.length)&&(b=w.length),new sn(w.subarray(_,b))},cn=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],mt=function(w,_,b){var I=new Error(_||cn[w]);if(I.code=w,Error.captureStackTrace&&Error.captureStackTrace(I,mt),!b)throw I;return I},In=function(w,_,b){var I=_/8|0;w[I]|=b<<=7&_,w[I+1]|=b>>8},zn=function(w,_,b){var I=_/8|0;w[I]|=b<<=7&_,w[I+1]|=b>>8,w[I+2]|=b>>16},Kn=function(w,_){for(var b=[],I=0;I<w.length;++I)w[I]&&b.push({s:I,f:w[I]});var x=b.length,D=b.slice();if(!x)return{t:uc,l:0};if(1==x){var O=new sn(b[0].s+1);return O[b[0].s]=1,{t:O,l:1}}b.sort(function(qe,Ut){return qe.f-Ut.f}),b.push({s:-1,f:25001});var F=b[0],V=b[1],j=0,J=1,ee=2;for(b[0]={s:-1,f:F.f+V.f,l:F,r:V};J!=x-1;)F=b[b[j].f<b[ee].f?j++:ee++],V=b[j!=J&&b[j].f<b[ee].f?j++:ee++],b[J++]={s:-1,f:F.f+V.f,l:F,r:V};var se=D[0].s;for(I=1;I<x;++I)D[I].s>se&&(se=D[I].s);var z=new En(se+1),ye=mi(b[J-1],z,0);if(ye>_){I=0;var fe=0,be=ye-_,le=1<<be;for(D.sort(function(Ut,ot){return z[ot.s]-z[Ut.s]||Ut.f-ot.f});I<x;++I){var Ce=D[I].s;if(!(z[Ce]>_))break;fe+=le-(1<<ye-z[Ce]),z[Ce]=_}for(fe>>=be;fe>0;){var Le=D[I].s;z[Le]<_?fe-=1<<_-z[Le]++-1:++I}for(;I>=0&&fe;--I){var Ee=D[I].s;z[Ee]==_&&(--z[Ee],++fe)}ye=_}return{t:new sn(z),l:ye}},mi=function(w,_,b){return-1==w.s?Math.max(mi(w.l,_,b+1),mi(w.r,_,b+1)):_[w.s]=b},li=function(w){for(var _=w.length;_&&!w[--_];);for(var b=new En(++_),I=0,x=w[0],D=1,O=function(V){b[I++]=V},F=1;F<=_;++F)if(w[F]==x&&F!=_)++D;else{if(!x&&D>2){for(;D>138;D-=138)O(32754);D>2&&(O(D>10?D-11<<5|28690:D-3<<5|12305),D=0)}else if(D>3){for(O(x),--D;D>6;D-=6)O(8304);D>2&&(O(D-3<<5|8208),D=0)}for(;D--;)O(x);D=1,x=w[F]}return{c:b.subarray(0,I),n:_}},Nn=function(w,_){for(var b=0,I=0;I<_.length;++I)b+=w[I]*_[I];return b},bs=function(w,_,b){var I=b.length,x=Wn(_+2);w[x]=255&I,w[x+1]=I>>8,w[x+2]=255^w[x],w[x+3]=255^w[x+1];for(var D=0;D<I;++D)w[x+D+4]=b[D];return 8*(x+4+I)},fo=function(w,_,b,I,x,D,O,F,V,j,J){In(_,J++,b),++x[256];for(var ee=Kn(x,15),se=ee.t,z=ee.l,ye=Kn(D,15),fe=ye.t,be=ye.l,le=li(se),Ce=le.c,Le=le.n,Ee=li(fe),qe=Ee.c,Ut=Ee.n,ot=new En(19),Pe=0;Pe<Ce.length;++Pe)++ot[31&Ce[Pe]];for(Pe=0;Pe<qe.length;++Pe)++ot[31&qe[Pe]];for(var lt=Kn(ot,7),Lt=lt.t,ce=lt.l,he=19;he>4&&!Lt[gn[he-1]];--he);var wt,Pt,nt,Vt,Ve=j+5<<3,_e=Nn(x,ut)+Nn(D,Fe)+O,Tt=Nn(x,se)+Nn(D,fe)+O+14+3*he+Nn(ot,Lt)+2*ot[16]+3*ot[17]+7*ot[18];if(V>=0&&Ve<=_e&&Ve<=Tt)return bs(_,J,w.subarray(V,V+j));if(In(_,J,1+(Tt<_e)),J+=2,Tt<_e){wt=vt(se,z,0),Pt=se,nt=vt(fe,be,0),Vt=fe;var jt=vt(Lt,ce,0);for(In(_,J,Le-257),In(_,J+5,Ut-1),In(_,J+10,he-4),J+=14,Pe=0;Pe<he;++Pe)In(_,J+3*Pe,Lt[gn[Pe]]);J+=3*he;for(var Sn=[Ce,qe],ie=0;ie<2;++ie){var we=Sn[ie];for(Pe=0;Pe<we.length;++Pe)In(_,J,jt[Re=31&we[Pe]]),J+=Lt[Re],Re>15&&(In(_,J,we[Pe]>>5&127),J+=we[Pe]>>12)}}else wt=gt,Pt=ut,nt=Wt,Vt=Fe;for(Pe=0;Pe<F;++Pe){var Ge=I[Pe];if(Ge>255){var Re;zn(_,J,wt[257+(Re=Ge>>18&31)]),J+=Pt[Re+257],Re>7&&(In(_,J,Ge>>23&31),J+=He[Re]);var Je=31&Ge;zn(_,J,nt[Je]),J+=Vt[Je],Je>3&&(zn(_,J,Ge>>5&8191),J+=ln[Je])}else zn(_,J,wt[Ge]),J+=Pt[Ge]}return zn(_,J,wt[256]),J+Pt[256]},Jc=new mn([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),uc=new sn(0),kv=function(){var w=1,_=0;return{p:function(b){for(var I=w,x=_,D=0|b.length,O=0;O!=D;){for(var F=Math.min(O+2655,D);O<F;++O)x+=I+=b[O];I=(65535&I)+15*(I>>16),x=(65535&x)+15*(x>>16)}w=I,_=x},d:function(){return(255&(w%=65521))<<24|(65280&w)<<8|(255&(_%=65521))<<8|_>>8}}},Vv=function(w,_,b,I,x){if(!x&&(x={l:1},_.dictionary)){var D=_.dictionary.subarray(-32768),O=new sn(D.length+w.length);O.set(D),O.set(w,D.length),w=O,x.w=D.length}return function(w,_,b,I,x,D){var O=D.z||w.length,F=new sn(I+O+5*(1+Math.ceil(O/7e3))+x),V=F.subarray(I,F.length-x),j=D.l,J=7&(D.r||0);if(_){J&&(V[0]=D.r>>3);for(var ee=Jc[_-1],se=ee>>13,z=8191&ee,ye=(1<<b)-1,fe=D.p||new En(32768),be=D.h||new En(ye+1),le=Math.ceil(b/3),Ce=2*le,Le=function(pi){return(w[pi]^w[pi+1]<<le^w[pi+2]<<Ce)&ye},Ee=new mn(25e3),qe=new En(288),Ut=new En(32),ot=0,Pe=0,lt=D.i||0,Lt=0,ce=D.w||0,he=0;lt+2<O;++lt){var Ve=Le(lt),_e=32767&lt,Tt=be[Ve];if(fe[_e]=Tt,be[Ve]=_e,ce<=lt){var wt=O-lt;if((ot>7e3||Lt>24576)&&(wt>423||!j)){J=fo(w,V,0,Ee,qe,Ut,Pe,Lt,he,lt-he,J),Lt=ot=Pe=0,he=lt;for(var Pt=0;Pt<286;++Pt)qe[Pt]=0;for(Pt=0;Pt<30;++Pt)Ut[Pt]=0}var nt=2,Vt=0,jt=z,Sn=_e-Tt&32767;if(wt>2&&Ve==Le(lt-Sn))for(var ie=Math.min(se,wt)-1,we=Math.min(32767,lt),Re=Math.min(258,wt);Sn<=we&&--jt&&_e!=Tt;){if(w[lt+nt]==w[lt+nt-Sn]){for(var Ge=0;Ge<Re&&w[lt+Ge]==w[lt+Ge-Sn];++Ge);if(Ge>nt){if(nt=Ge,Vt=Sn,Ge>ie)break;var Je=Math.min(Sn,Ge-2),$e=0;for(Pt=0;Pt<Je;++Pt){var Et=lt-Sn+Pt&32767,dn=Et-fe[Et]&32767;dn>$e&&($e=dn,Tt=Et)}}}Sn+=(_e=Tt)-(Tt=fe[_e])&32767}if(Vt){Ee[Lt++]=268435456|it[nt]<<18|xt[Vt];var pn=31&it[nt],An=31&xt[Vt];Pe+=He[pn]+ln[An],++qe[257+pn],++Ut[An],ce=lt+nt,++ot}else Ee[Lt++]=w[lt],++qe[w[lt]]}}for(lt=Math.max(lt,ce);lt<O;++lt)Ee[Lt++]=w[lt],++qe[w[lt]];J=fo(w,V,j,Ee,qe,Ut,Pe,Lt,he,lt-he,J),j||(D.r=7&J|V[J/8|0]<<3,J-=7,D.h=be,D.p=fe,D.i=lt,D.w=ce)}else{for(lt=D.w||0;lt<O+j;lt+=65535){var hn=lt+65535;hn>=O&&(V[J/8|0]=j,hn=O),J=bs(V,J+1,w.subarray(lt,hn))}D.i=O}return St(F,0,I+Wn(J)+x)}(w,null==_.level?6:_.level,null==_.mem?x.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(w.length)))):20:12+_.mem,b,I,x)},cs=function(w,_,b){for(;b;++_)w[_]=b,b>>>=8};function Lf(w,_){_||(_={});var b=kv();b.p(w);var I=Vv(w,_,_.dictionary?6:2,4);return function(w,_){var b=_.level,I=0==b?0:b<6?1:9==b?3:2;if(w[0]=120,w[1]=I<<6|(_.dictionary&&32),w[1]|=31-(w[0]<<8|w[1])%31,_.dictionary){var x=kv();x.p(_.dictionary),cs(w,2,x.d())}}(I,_),cs(I,I.length-4,b.d()),I}function wr(w,_){return function(w,_,b,I){var x=w.length,D=I?I.length:0;if(!x||_.f&&!_.l)return b||new sn(0);var O=!b,F=O||2!=_.i,V=_.i;O&&(b=new sn(3*x));var j=function(pn){var An=b.length;if(pn>An){var hn=new sn(Math.max(2*An,pn));hn.set(b),b=hn}},J=_.f||0,ee=_.p||0,se=_.b||0,z=_.l,ye=_.d,fe=_.m,be=_.n,le=8*x;do{if(!z){J=We(w,ee,1);var Ce=We(w,ee+1,3);if(ee+=3,!Ce){var Ee=w[(Le=Wn(ee)+4)-4]|w[Le-3]<<8,qe=Le+Ee;if(qe>x){V&&mt(0);break}F&&j(se+Ee),b.set(w.subarray(Le,qe),se),_.b=se+=Ee,_.p=ee=8*qe,_.f=J;continue}if(1==Ce)z=Gt,ye=Dt,fe=9,be=5;else if(2==Ce){var Ut=We(w,ee,31)+257,ot=We(w,ee+10,15)+4,Pe=Ut+We(w,ee+5,31)+1;ee+=14;for(var lt=new sn(Pe),Lt=new sn(19),ce=0;ce<ot;++ce)Lt[gn[ce]]=We(w,ee+3*ce,7);ee+=3*ot;var he=xe(Lt),Ve=(1<<he)-1,_e=vt(Lt,he,1);for(ce=0;ce<Pe;){var Le,Tt=_e[We(w,ee,Ve)];if(ee+=15&Tt,(Le=Tt>>4)<16)lt[ce++]=Le;else{var wt=0,Pt=0;for(16==Le?(Pt=3+We(w,ee,3),ee+=2,wt=lt[ce-1]):17==Le?(Pt=3+We(w,ee,7),ee+=3):18==Le&&(Pt=11+We(w,ee,127),ee+=7);Pt--;)lt[ce++]=wt}}var nt=lt.subarray(0,Ut),Vt=lt.subarray(Ut);fe=xe(nt),be=xe(Vt),z=vt(nt,fe,1),ye=vt(Vt,be,1)}else mt(1);if(ee>le){V&&mt(0);break}}F&&j(se+131072);for(var jt=(1<<fe)-1,Sn=(1<<be)-1,ie=ee;;ie=ee){var we=(wt=z[qt(w,ee)&jt])>>4;if((ee+=15&wt)>le){V&&mt(0);break}if(wt||mt(2),we<256)b[se++]=we;else{if(256==we){ie=ee,z=null;break}var Re=we-254;we>264&&(Re=We(w,ee,(1<<(Ge=He[ce=we-257]))-1)+Ct[ce],ee+=Ge);var Je=ye[qt(w,ee)&Sn],$e=Je>>4;if(Je||mt(3),ee+=15&Je,Vt=Mt[$e],$e>3){var Ge=ln[$e];Vt+=qt(w,ee)&(1<<Ge)-1,ee+=Ge}if(ee>le){V&&mt(0);break}F&&j(se+131072);var Et=se+Re;if(se<Vt){var bt=D-Vt,dn=Math.min(Vt,Et);for(bt+se<0&&mt(3);se<dn;++se)b[se]=I[bt+se]}for(;se<Et;++se)b[se]=b[se-Vt]}}_.l=z,_.p=ie,_.b=se,_.f=J,z&&(J=1,_.m=fe,_.d=ye,_.n=be)}while(!J);return se!=b.length&&O?St(b,0,se):b.subarray(0,se)}(w.subarray(function(w,_){return(8!=(15&w[0])||w[0]>>4>7||(w[0]<<8|w[1])%31)&&mt(6,"invalid zlib data"),(w[1]>>5&1)==+!_&&mt(6,"invalid zlib data: "+(32&w[1]?"need":"unexpected")+" dictionary"),2+(w[1]>>3&4)}(w,_&&_.dictionary),-4),{i:2},_&&_.out,_&&_.dictionary)}var Vf=typeof TextDecoder<"u"&&new TextDecoder;try{Vf.decode(uc,{stream:!0})}catch{}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var Zn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function vC(){Zn.console&&"function"==typeof Zn.console.log&&Zn.console.log.apply(Zn.console,arguments)}var Xr={log:vC,warn:function(w){Zn.console&&("function"==typeof Zn.console.warn?Zn.console.warn.apply(Zn.console,arguments):vC.call(null,arguments))},error:function(w){Zn.console&&("function"==typeof Zn.console.error?Zn.console.error.apply(Zn.console,arguments):vC(w))}};function _C(w,_,b){var I=new XMLHttpRequest;I.open("GET",w),I.responseType="blob",I.onload=function(){js(I.response,_,b)},I.onerror=function(){Xr.error("could not download file")},I.send()}function Wv(w){var _=new XMLHttpRequest;_.open("HEAD",w,!1);try{_.send()}catch{}return _.status>=200&&_.status<=299}function Wi(w){try{w.dispatchEvent(new MouseEvent("click"))}catch{var _=document.createEvent("MouseEvents");_.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),w.dispatchEvent(_)}}var Eh,zv,js=Zn.saveAs||("object"!==(typeof window>"u"?"undefined":(0,h.A)(window))||window!==Zn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(w,_,b){var I=Zn.URL||Zn.webkitURL,x=document.createElement("a");x.download=_=_||w.name||"download",x.rel="noopener","string"==typeof w?(x.href=w,x.origin!==location.origin?Wv(x.href)?_C(w,_,b):Wi(x,x.target="_blank"):Wi(x)):(x.href=I.createObjectURL(w),setTimeout(function(){I.revokeObjectURL(x.href)},4e4),setTimeout(function(){Wi(x)},0))}:"msSaveOrOpenBlob"in navigator?function(w,_,b){if(_=_||w.name||"download","string"==typeof w)if(Wv(w))_C(w,_,b);else{var I=document.createElement("a");I.href=w,I.target="_blank",setTimeout(function(){Wi(I)})}else navigator.msSaveOrOpenBlob((x=w,void 0===(D=b)?D={autoBom:!1}:"object"!==(0,h.A)(D)&&(Xr.warn("Deprecated: Expected third argument to be a object"),D={autoBom:!D}),D.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(x.type)?new Blob(["\ufeff",x],{type:x.type}):x),_);var x,D}:function(w,_,b,I){if((I=I||open("","_blank"))&&(I.document.title=I.document.body.innerText="downloading..."),"string"==typeof w)return _C(w,_,b);var x="application/octet-stream"===w.type,D=/constructor/i.test(Zn.HTMLElement)||Zn.safari,O=/CriOS\/[\d]+/.test(navigator.userAgent);if((O||x&&D)&&"object"===(typeof FileReader>"u"?"undefined":(0,h.A)(FileReader))){var F=new FileReader;F.onloadend=function(){var J=F.result;J=O?J:J.replace(/^data:[^;]*;/,"data:attachment/file;"),I?I.location.href=J:location=J,I=null},F.readAsDataURL(w)}else{var V=Zn.URL||Zn.webkitURL,j=V.createObjectURL(w);I?I.location=j:location.href=j,I=null,setTimeout(function(){V.revokeObjectURL(j)},4e4)}});function yC(w){var _;w=w||"",this.ok=!1,"#"==w.charAt(0)&&(w=w.substr(1,6)),w={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[w=(w=w.replace(/ /g,"")).toLowerCase()]||w;for(var b=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(F){return[parseInt(F[1]),parseInt(F[2]),parseInt(F[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(F){return[parseInt(F[1],16),parseInt(F[2],16),parseInt(F[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(F){return[parseInt(F[1]+F[1],16),parseInt(F[2]+F[2],16),parseInt(F[3]+F[3],16)]}}],I=0;I<b.length;I++){var D=b[I].process,O=b[I].re.exec(w);O&&(_=D(O),this.r=_[0],this.g=_[1],this.b=_[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var F=this.r.toString(16),V=this.g.toString(16),j=this.b.toString(16);return 1==F.length&&(F="0"+F),1==V.length&&(V="0"+V),1==j.length&&(j="0"+j),"#"+F+V+j}}function oS(w,_){var b=w[0],I=w[1],x=w[2],D=w[3];b=$s(b,I,x,D,_[0],7,-680876936),D=$s(D,b,I,x,_[1],12,-389564586),x=$s(x,D,b,I,_[2],17,606105819),I=$s(I,x,D,b,_[3],22,-1044525330),b=$s(b,I,x,D,_[4],7,-176418897),D=$s(D,b,I,x,_[5],12,1200080426),x=$s(x,D,b,I,_[6],17,-1473231341),I=$s(I,x,D,b,_[7],22,-45705983),b=$s(b,I,x,D,_[8],7,1770035416),D=$s(D,b,I,x,_[9],12,-1958414417),x=$s(x,D,b,I,_[10],17,-42063),I=$s(I,x,D,b,_[11],22,-1990404162),b=$s(b,I,x,D,_[12],7,1804603682),D=$s(D,b,I,x,_[13],12,-40341101),x=$s(x,D,b,I,_[14],17,-1502002290),b=ws(b,I=$s(I,x,D,b,_[15],22,1236535329),x,D,_[1],5,-165796510),D=ws(D,b,I,x,_[6],9,-1069501632),x=ws(x,D,b,I,_[11],14,643717713),I=ws(I,x,D,b,_[0],20,-373897302),b=ws(b,I,x,D,_[5],5,-701558691),D=ws(D,b,I,x,_[10],9,38016083),x=ws(x,D,b,I,_[15],14,-660478335),I=ws(I,x,D,b,_[4],20,-405537848),b=ws(b,I,x,D,_[9],5,568446438),D=ws(D,b,I,x,_[14],9,-1019803690),x=ws(x,D,b,I,_[3],14,-187363961),I=ws(I,x,D,b,_[8],20,1163531501),b=ws(b,I,x,D,_[13],5,-1444681467),D=ws(D,b,I,x,_[2],9,-51403784),x=ws(x,D,b,I,_[7],14,1735328473),b=po(b,I=ws(I,x,D,b,_[12],20,-1926607734),x,D,_[5],4,-378558),D=po(D,b,I,x,_[8],11,-2022574463),x=po(x,D,b,I,_[11],16,1839030562),I=po(I,x,D,b,_[14],23,-35309556),b=po(b,I,x,D,_[1],4,-1530992060),D=po(D,b,I,x,_[4],11,1272893353),x=po(x,D,b,I,_[7],16,-155497632),I=po(I,x,D,b,_[10],23,-1094730640),b=po(b,I,x,D,_[13],4,681279174),D=po(D,b,I,x,_[0],11,-358537222),x=po(x,D,b,I,_[3],16,-722521979),I=po(I,x,D,b,_[6],23,76029189),b=po(b,I,x,D,_[9],4,-640364487),D=po(D,b,I,x,_[12],11,-421815835),x=po(x,D,b,I,_[15],16,530742520),b=la(b,I=po(I,x,D,b,_[2],23,-995338651),x,D,_[0],6,-198630844),D=la(D,b,I,x,_[7],10,1126891415),x=la(x,D,b,I,_[14],15,-1416354905),I=la(I,x,D,b,_[5],21,-57434055),b=la(b,I,x,D,_[12],6,1700485571),D=la(D,b,I,x,_[3],10,-1894986606),x=la(x,D,b,I,_[10],15,-1051523),I=la(I,x,D,b,_[1],21,-2054922799),b=la(b,I,x,D,_[8],6,1873313359),D=la(D,b,I,x,_[15],10,-30611744),x=la(x,D,b,I,_[6],15,-1560198380),I=la(I,x,D,b,_[13],21,1309151649),b=la(b,I,x,D,_[4],6,-145523070),D=la(D,b,I,x,_[11],10,-1120210379),x=la(x,D,b,I,_[2],15,718787259),I=la(I,x,D,b,_[9],21,-343485551),w[0]=us(b,w[0]),w[1]=us(I,w[1]),w[2]=us(x,w[2]),w[3]=us(D,w[3])}function CC(w,_,b,I,x,D){return _=us(us(_,w),us(I,D)),us(_<<x|_>>>32-x,b)}function $s(w,_,b,I,x,D,O){return CC(_&b|~_&I,w,_,x,D,O)}function ws(w,_,b,I,x,D,O){return CC(_&I|b&~I,w,_,x,D,O)}function po(w,_,b,I,x,D,O){return CC(_^b^I,w,_,x,D,O)}function la(w,_,b,I,x,D,O){return CC(b^(_|~I),w,_,x,D,O)}function aS(w){var _,b=w.length,I=[1732584193,-271733879,-1732584194,271733878];for(_=64;_<=w.length;_+=64)oS(I,FA(w.substring(_-64,_)));w=w.substring(_-64);var x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(_=0;_<w.length;_++)x[_>>2]|=w.charCodeAt(_)<<(_%4<<3);if(x[_>>2]|=128<<(_%4<<3),_>55)for(oS(I,x),_=0;_<16;_++)x[_]=0;return x[14]=8*b,oS(I,x),I}function FA(w){var _,b=[];for(_=0;_<64;_+=4)b[_>>2]=w.charCodeAt(_)+(w.charCodeAt(_+1)<<8)+(w.charCodeAt(_+2)<<16)+(w.charCodeAt(_+3)<<24);return b}Eh=Zn.atob.bind(Zn),zv=Zn.btoa.bind(Zn);var bC="0123456789abcdef".split("");function Hf(w){for(var _="",b=0;b<4;b++)_+=bC[w>>8*b+4&15]+bC[w>>8*b&15];return _}function lS(w){return String.fromCharCode(255&w,(65280&w)>>8,(16711680&w)>>16,(4278190080&w)>>24)}function eu(w){return aS(w).map(lS).join("")}var LA="5d41402abc4b2a76b9719d911017c592"!=function(w){for(var _=0;_<w.length;_++)w[_]=Hf(w[_]);return w.join("")}(aS("hello"));function us(w,_){if(LA){var b=(65535&w)+(65535&_);return(w>>16)+(_>>16)+(b>>16)<<16|65535&b}return w+_&4294967295}function Uf(w,_){var b,I,x;if(w!==b){for(var O=(x=w,new Array(1+(256/w.length|0)+1).join(x)),F=[],V=0;V<256;V++)F[V]=V;var j=0;for(V=0;V<256;V++){var J=F[V];j=(j+J+O.charCodeAt(V))%256,F[V]=F[j],F[j]=J}b=w,I=F}else F=I;var ee=_.length,se=0,z=0,ye="";for(V=0;V<ee;V++)z=(z+(J=F[se=(se+1)%256]))%256,F[se]=F[z],F[z]=J,O=F[(F[se]+F[z])%256],ye+=String.fromCharCode(_.charCodeAt(V)^O);return ye}var wi={print:4,modify:8,copy:16,"annot-forms":32};function Ed(w,_,b,I){this.v=1,this.r=2;var x=192;w.forEach(function(F){if(void 0!==wi.perm)throw new Error("Invalid permission: "+F);x+=wi[F]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var D=(_+this.padding).substr(0,32),O=(b+this.padding).substr(0,32);this.O=this.processOwnerPassword(D,O),this.P=-(1+(255^x)),this.encryptionKey=eu(D+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(I)).substr(0,5),this.U=Uf(this.encryptionKey,this.padding)}function Sh(w){if(/[^\u0000-\u00ff]/.test(w))throw new Error("Invalid PDF Name Object: "+w+", Only accept ASCII characters.");for(var _="",b=w.length,I=0;I<b;I++){var x=w.charCodeAt(I);_+=x<33||35===x||37===x||40===x||41===x||47===x||60===x||62===x||91===x||93===x||123===x||125===x||x>126?"#"+("0"+x.toString(16)).slice(-2):w[I]}return _}function tl(w){if("object"!==(0,h.A)(w))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var _={};this.subscribe=function(b,I,x){if(x=x||!1,"string"!=typeof b||"function"!=typeof I||"boolean"!=typeof x)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");_.hasOwnProperty(b)||(_[b]={});var D=Math.random().toString(35);return _[b][D]=[I,!!x],D},this.unsubscribe=function(b){for(var I in _)if(_[I][b])return delete _[I][b],0===Object.keys(_[I]).length&&delete _[I],!0;return!1},this.publish=function(b){if(_.hasOwnProperty(b)){var I=Array.prototype.slice.call(arguments,1),x=[];for(var D in _[b]){var O=_[b][D];try{O[0].apply(w,I)}catch(F){Zn.console&&Xr.error("jsPDF PubSub Error",F.message,F)}O[1]&&x.push(D)}x.length&&x.forEach(this.unsubscribe)}},this.getTopics=function(){return _}}function Wf(w){if(!(this instanceof Wf))return new Wf(w);var _="opacity,stroke-opacity".split(",");for(var b in w)w.hasOwnProperty(b)&&_.indexOf(b)>=0&&(this[b]=w[b]);this.id="",this.objectNumber=-1}function cS(w,_){this.gState=w,this.matrix=_,this.id="",this.objectNumber=-1}function Sd(w,_,b,I,x){if(!(this instanceof Sd))return new Sd(w,_,b,I,x);this.type="axial"===w?2:3,this.coords=_,this.colors=b,cS.call(this,I,x)}function Ih(w,_,b,I,x){if(!(this instanceof Ih))return new Ih(w,_,b,I,x);this.boundingBox=w,this.xStep=_,this.yStep=b,this.stream="",this.cloneIndex=0,cS.call(this,I,x)}function ni(w){var _,b="string"==typeof arguments[0]?arguments[0]:"p",I=arguments[1],x=arguments[2],D=arguments[3],O=[],F=1,V=16,j="S",J=null;"object"===(0,h.A)(w=w||{})&&(b=w.orientation,I=w.unit||I,x=w.format||x,D=w.compress||w.compressPdf||D,null!==(J=w.encryption||null)&&(J.userPassword=J.userPassword||"",J.ownerPassword=J.ownerPassword||"",J.userPermissions=J.userPermissions||[]),F="number"==typeof w.userUnit?Math.abs(w.userUnit):1,void 0!==w.precision&&(_=w.precision),void 0!==w.floatPrecision&&(V=w.floatPrecision),j=w.defaultPathOperation||"S"),O=w.filters||(!0===D?["FlateEncode"]:O),I=I||"mm",b=(""+(b||"P")).toLowerCase();var ee=w.putOnlyUsedFonts||!1,se={},z={internal:{},__private__:{}};z.__private__.PubSub=tl;var ye="1.3",fe=z.__private__.getPdfVersion=function(){return ye};z.__private__.setPdfVersion=function(M){ye=M};var be={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};z.__private__.getPageFormats=function(){return be};var le=z.__private__.getPageFormat=function(M){return be[M]};x=x||"a4";var Le="compat";function Ee(){this.saveGraphicsState(),Te(new ii(Un,0,0,-Un,0,rs()*Un).toString()+" cm"),this.setFontSize(this.getFontSize()/Un),j="n",Le="advanced"}function qe(){this.restoreGraphicsState(),j="S",Le="compat"}var Ut=z.__private__.combineFontStyleAndFontWeight=function(M,K){if("bold"==M&&"normal"==K||"bold"==M&&400==K||"normal"==M&&"italic"==K||"bold"==M&&"italic"==K)throw new Error("Invalid Combination of fontweight and fontstyle");return K&&(M=400==K||"normal"===K?"italic"===M?"italic":"normal":700!=K&&"bold"!==K||"normal"!==M?(700==K?"bold":K)+""+M:"bold"),M};z.advancedAPI=function(M){var K="compat"===Le;return K&&Ee.call(this),"function"!=typeof M||(M(this),K&&qe.call(this)),this},z.compatAPI=function(M){var K="advanced"===Le;return K&&qe.call(this),"function"!=typeof M||(M(this),K&&Ee.call(this)),this},z.isAdvancedAPI=function(){return"advanced"===Le};var ot,Pe=function(M){if("advanced"!==Le)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},lt=z.roundToPrecision=z.__private__.roundToPrecision=function(M,K){var ve=_||K;if(isNaN(M)||isNaN(ve))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(ve).replace(/0+$/,"")};ot=z.hpf=z.__private__.hpf="number"==typeof V?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return lt(M,V)}:"smart"===V?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return lt(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return lt(M,16)};var Lt=z.f2=z.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return lt(M,2)},ce=z.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return lt(M,3)},he=z.scale=z.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return"compat"===Le?M*Un:"advanced"===Le?M:void 0},_e=function(M){return he(function(M){return"compat"===Le?rs()-M:"advanced"===Le?M:void 0}(M))};z.__private__.setPrecision=z.setPrecision=function(M){"number"==typeof parseInt(M,10)&&(_=parseInt(M,10))};var Tt,wt="00000000000000000000000000000000",Pt=z.__private__.getFileId=function(){return wt},nt=z.__private__.setFileId=function(M){return wt=void 0!==M&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():wt.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==J&&(Oi=new Ed(J.userPermissions,J.userPassword,J.ownerPassword,wt)),wt};z.setFileId=function(M){return nt(M),this},z.getFileId=function(){return Pt()};var Vt=z.__private__.convertDateToPDFDate=function(M){var K=M.getTimezoneOffset(),ve=K<0?"+":"-",Me=Math.floor(Math.abs(K/60)),rt=Math.abs(K%60),It=[ve,Re(Me),"'",Re(rt),"'"].join("");return["D:",M.getFullYear(),Re(M.getMonth()+1),Re(M.getDate()),Re(M.getHours()),Re(M.getMinutes()),Re(M.getSeconds()),It].join("")},jt=z.__private__.convertPDFDateToDate=function(M){var K=parseInt(M.substr(2,4),10),ve=parseInt(M.substr(6,2),10)-1,Me=parseInt(M.substr(8,2),10),rt=parseInt(M.substr(10,2),10),It=parseInt(M.substr(12,2),10),rn=parseInt(M.substr(14,2),10);return new Date(K,ve,Me,rt,It,rn,0)},Sn=z.__private__.setCreationDate=function(M){var K;if(void 0===M&&(M=new Date),M instanceof Date)K=Vt(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");K=M}return Tt=K},ie=z.__private__.getCreationDate=function(M){var K=Tt;return"jsDate"===M&&(K=jt(Tt)),K};z.setCreationDate=function(M){return Sn(M),this},z.getCreationDate=function(M){return ie(M)};var we,Re=z.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},Ge=z.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},Je=0,$e=[],Et=[],bt=0,dn=[],pn=[],An=!1,hn=Et;z.__private__.setCustomOutputDestination=function(M){An=!0,hn=M};var Rt=function(M){An||(hn=M)};z.__private__.resetCustomOutputDestination=function(){An=!1,hn=Et};var Te=z.__private__.out=function(M){return M=M.toString(),bt+=M.length+1,hn.push(M),hn},xi=z.__private__.write=function(M){return Te(1===arguments.length?M.toString():Array.prototype.join.call(arguments," "))},jn=z.__private__.getArrayBuffer=function(M){for(var K=M.length,ve=new ArrayBuffer(K),Me=new Uint8Array(ve);K--;)Me[K]=M.charCodeAt(K);return ve},un=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];z.__private__.getStandardFonts=function(){return un};var vn=w.fontSize||16;z.__private__.setFontSize=z.setFontSize=function(M){return vn="advanced"===Le?M/Un:M,this};var On,Pn=z.__private__.getFontSize=z.getFontSize=function(){return"compat"===Le?vn:vn*Un},ai=w.R2L||!1;z.__private__.setR2L=z.setR2L=function(M){return ai=M,this},z.__private__.getR2L=z.getR2L=function(){return ai};var Ai,Gi=z.__private__.setZoomMode=function(M){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))On=M;else if(isNaN(M)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(M))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');On=M}else On=parseInt(M,10)};z.__private__.getZoomMode=function(){return On};var Yi,or=z.__private__.setPageMode=function(M){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');Ai=M};z.__private__.getPageMode=function(){return Ai};var Qr=z.__private__.setLayoutMode=function(M){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');Yi=M};z.__private__.getLayoutMode=function(){return Yi},z.__private__.setDisplayMode=z.setDisplayMode=function(M,K,ve){return Gi(M),Qr(K),or(ve),this};var Ri={title:"",subject:"",author:"",keywords:"",creator:""};z.__private__.getDocumentProperty=function(M){if(-1===Object.keys(Ri).indexOf(M))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ri[M]},z.__private__.getDocumentProperties=function(){return Ri},z.__private__.setDocumentProperties=z.setProperties=z.setDocumentProperties=function(M){for(var K in Ri)Ri.hasOwnProperty(K)&&M[K]&&(Ri[K]=M[K]);return this},z.__private__.setDocumentProperty=function(M,K){if(-1===Object.keys(Ri).indexOf(M))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ri[M]=K};var er,Un,Oa,fr,ru,Ar={},os={},xd=[],Fr={},Mg={},Ss={},pc={},Ph=null,Xs=0,Bn=[],_i=new tl(z),Fa=w.hotfixes||[],Qs={},xl={},sl=[],ii=function M(K,ve,Me,rt,It,rn){if(!(this instanceof M))return new M(K,ve,Me,rt,It,rn);isNaN(K)&&(K=1),isNaN(ve)&&(ve=0),isNaN(Me)&&(Me=0),isNaN(rt)&&(rt=1),isNaN(It)&&(It=0),isNaN(rn)&&(rn=0),this._matrix=[K,ve,Me,rt,It,rn]};Object.defineProperty(ii.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(ii.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(ii.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(ii.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(ii.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(ii.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(ii.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(ii.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(ii.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(ii.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(ii.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(ii.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(ii.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ii.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ii.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ii.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),ii.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ot).join(M)},ii.prototype.multiply=function(M){return new ii(M.sx*this.sx+M.shy*this.shx,M.sx*this.shy+M.shy*this.sy,M.shx*this.sx+M.sy*this.shx,M.shx*this.shy+M.sy*this.sy,M.tx*this.sx+M.ty*this.shx+this.tx,M.tx*this.shy+M.ty*this.sy+this.ty)},ii.prototype.decompose=function(){var M=this.sx,K=this.shy,ve=this.shx,Me=this.sy,rt=this.tx,It=this.ty,rn=Math.sqrt(M*M+K*K),Mn=(M/=rn)*ve+(K/=rn)*Me;ve-=M*Mn,Me-=K*Mn;var si=Math.sqrt(ve*ve+Me*Me);return Mn/=si,M*(Me/=si)<K*(ve/=si)&&(M=-M,K=-K,Mn=-Mn,rn=-rn),{scale:new ii(rn,0,0,si,0,0),translate:new ii(1,0,0,1,rt,It),rotate:new ii(M,K,-K,M,0,0),skew:new ii(1,0,Mn,1,0,0)}},ii.prototype.toString=function(M){return this.join(" ")},ii.prototype.inversed=function(){var M=this.sx,K=this.shy,ve=this.shx,Me=this.sy,rt=this.tx,It=this.ty,rn=1/(M*Me-K*ve),Mn=Me*rn,si=-K*rn,ui=-ve*rn,gi=M*rn;return new ii(Mn,si,ui,gi,-Mn*rt-ui*It,-si*rt-gi*It)},ii.prototype.applyToPoint=function(M){return new ju(M.x*this.sx+M.y*this.shx+this.tx,M.x*this.shy+M.y*this.sy+this.ty)},ii.prototype.applyToRectangle=function(M){var K=this.applyToPoint(M),ve=this.applyToPoint(new ju(M.x+M.w,M.y+M.h));return new cl(K.x,K.y,ve.x-K.x,ve.y-K.y)},ii.prototype.clone=function(){return new ii(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},z.Matrix=ii;var gc=z.matrixMult=function(M,K){return K.multiply(M)},mc=new ii(1,0,0,1,0,0);z.unitMatrix=z.identityMatrix=mc;var _a=function(M,K){if(!Mg[M]){var ve=(K instanceof Sd?"Sh":"P")+(Object.keys(Fr).length+1).toString(10);K.id=ve,Mg[M]=ve,Fr[ve]=K,_i.publish("addPattern",K)}};z.ShadingPattern=Sd,z.TilingPattern=Ih,z.addShadingPattern=function(M,K){return Pe("addShadingPattern()"),_a(M,K),this},z.beginTilingPattern=function(M){Pe("beginTilingPattern()"),rp(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},z.endTilingPattern=function(M,K){Pe("endTilingPattern()"),K.stream=pn[we].join("\n"),_a(M,K),_i.publish("endTilingPattern",K),sl.pop().restore()};var M,mo=z.__private__.newObject=function(){var M=Is();return ol(M,!0),M},Is=z.__private__.newObjectDeferred=function(){return Je++,$e[Je]=function(){return bt},Je},ol=function(M,K){return K="boolean"==typeof K&&K,$e[M]=bt,K&&Te(M+" 0 obj"),M},ya=z.__private__.newAdditionalObject=function(){var M={objId:Is(),content:""};return dn.push(M),M},vc=Is(),Pl=Is(),La=z.__private__.decodeColorString=function(M){var K=M.split(" ");if(2!==K.length||"g"!==K[1]&&"G"!==K[1])5===K.length&&("k"===K[4]||"K"===K[4])&&(K=[(1-K[0])*(1-K[3]),(1-K[1])*(1-K[3]),(1-K[2])*(1-K[3]),"r"]);else{var ve=parseFloat(K[0]);K=[ve,ve,ve,"r"]}for(var Me="#",rt=0;rt<3;rt++)Me+=("0"+Math.floor(255*parseFloat(K[rt])).toString(16)).slice(-2);return Me},_c=z.__private__.encodeColorString=function(M){var K;"string"==typeof M&&(M={ch1:M});var ve=M.ch1,Me=M.ch2,rt=M.ch3,It=M.ch4,rn="draw"===M.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof ve&&"#"!==ve.charAt(0)){var Mn=new yC(ve);if(Mn.ok)ve=Mn.toHex();else if(!/^\d*\.?\d*$/.test(ve))throw new Error('Invalid color "'+ve+'" passed to jsPDF.encodeColorString.')}if("string"==typeof ve&&/^#[0-9A-Fa-f]{3}$/.test(ve)&&(ve="#"+ve[1]+ve[1]+ve[2]+ve[2]+ve[3]+ve[3]),"string"==typeof ve&&/^#[0-9A-Fa-f]{6}$/.test(ve)){var si=parseInt(ve.substr(1),16);ve=si>>16&255,Me=si>>8&255,rt=255&si}if(void 0===Me||void 0===It&&ve===Me&&Me===rt)K="string"==typeof ve?ve+" "+rn[0]:2===M.precision?Lt(ve/255)+" "+rn[0]:ce(ve/255)+" "+rn[0];else if(void 0===It||"object"===(0,h.A)(It)){if(It&&!isNaN(It.a)&&0===It.a)return["1.","1.","1.",rn[1]].join(" ");K="string"==typeof ve?[ve,Me,rt,rn[1]].join(" "):2===M.precision?[Lt(ve/255),Lt(Me/255),Lt(rt/255),rn[1]].join(" "):[ce(ve/255),ce(Me/255),ce(rt/255),rn[1]].join(" ")}else K="string"==typeof ve?[ve,Me,rt,It,rn[2]].join(" "):2===M.precision?[Lt(ve),Lt(Me),Lt(rt),Lt(It),rn[2]].join(" "):[ce(ve),ce(Me),ce(rt),ce(It),rn[2]].join(" ");return K},yc=z.__private__.getFilters=function(){return O},Hi=z.__private__.putStream=function(M){var K=(M=M||{}).data||"",ve=M.filters||yc(),Me=M.alreadyAppliedFilters||[],rt=M.addLength1||!1,It=K.length,rn=M.objectId,Mn=function(Po){return Po};if(null!==J&&void 0===rn)throw new Error("ObjectId must be passed to putStream for file encryption");null!==J&&(Mn=Oi.encryptor(rn,0));var si={};!0===ve&&(ve=["FlateEncode"]);var ui=M.additionalKeyValues||[],gi=(si=void 0!==ni.API.processDataByFilters?ni.API.processDataByFilters(K,ve):{data:K,reverseChain:[]}).reverseChain+(Array.isArray(Me)?Me.join(" "):Me.toString());if(0!==si.data.length&&(ui.push({key:"Length",value:si.data.length}),!0===rt&&ui.push({key:"Length1",value:It})),0!=gi.length)if(gi.split("/").length-1==1)ui.push({key:"Filter",value:gi});else{ui.push({key:"Filter",value:"["+gi+"]"});for(var ri=0;ri<ui.length;ri+=1)if("DecodeParms"===ui[ri].key){for(var Lr=[],ps=0;ps<si.reverseChain.split("/").length-1;ps+=1)Lr.push("null");Lr.push(ui[ri].value),ui[ri].value="["+Lr.join(" ")+"]"}}Te("<<");for(var Ms=0;Ms<ui.length;Ms++)Te("/"+ui[Ms].key+" "+ui[Ms].value);Te(">>"),0!==si.data.length&&(Te("stream"),Te(Mn(si.data)),Te("endstream"))},Ml=z.__private__.putPage=function(M){var K=M.number,ve=M.data,Me=M.objId,rt=M.contentsObjId;ol(Me,!0),Te("<</Type /Page"),Te("/Parent "+M.rootDictionaryObjId+" 0 R"),Te("/Resources "+M.resourceDictionaryObjId+" 0 R"),Te("/MediaBox ["+parseFloat(ot(M.mediaBox.bottomLeftX))+" "+parseFloat(ot(M.mediaBox.bottomLeftY))+" "+ot(M.mediaBox.topRightX)+" "+ot(M.mediaBox.topRightY)+"]"),null!==M.cropBox&&Te("/CropBox ["+ot(M.cropBox.bottomLeftX)+" "+ot(M.cropBox.bottomLeftY)+" "+ot(M.cropBox.topRightX)+" "+ot(M.cropBox.topRightY)+"]"),null!==M.bleedBox&&Te("/BleedBox ["+ot(M.bleedBox.bottomLeftX)+" "+ot(M.bleedBox.bottomLeftY)+" "+ot(M.bleedBox.topRightX)+" "+ot(M.bleedBox.topRightY)+"]"),null!==M.trimBox&&Te("/TrimBox ["+ot(M.trimBox.bottomLeftX)+" "+ot(M.trimBox.bottomLeftY)+" "+ot(M.trimBox.topRightX)+" "+ot(M.trimBox.topRightY)+"]"),null!==M.artBox&&Te("/ArtBox ["+ot(M.artBox.bottomLeftX)+" "+ot(M.artBox.bottomLeftY)+" "+ot(M.artBox.topRightX)+" "+ot(M.artBox.topRightY)+"]"),"number"==typeof M.userUnit&&1!==M.userUnit&&Te("/UserUnit "+M.userUnit),_i.publish("putPage",{objId:Me,pageContext:Bn[K],pageNumber:K,page:ve}),Te("/Contents "+rt+" 0 R"),Te(">>"),Te("endobj");var It=ve.join("\n");return"advanced"===Le&&(It+="\nQ"),ol(rt,!0),Hi({data:It,filters:yc(),objectId:rt}),Te("endobj"),Me},Cc=z.__private__.putPages=function(){var M,K,ve=[];for(M=1;M<=Xs;M++)Bn[M].objId=Is(),Bn[M].contentsObjId=Is();for(M=1;M<=Xs;M++)ve.push(Ml({number:M,data:pn[M],objId:Bn[M].objId,contentsObjId:Bn[M].contentsObjId,mediaBox:Bn[M].mediaBox,cropBox:Bn[M].cropBox,bleedBox:Bn[M].bleedBox,trimBox:Bn[M].trimBox,artBox:Bn[M].artBox,userUnit:Bn[M].userUnit,rootDictionaryObjId:vc,resourceDictionaryObjId:Pl}));ol(vc,!0),Te("<</Type /Pages");var Me="/Kids [";for(K=0;K<Xs;K++)Me+=ve[K]+" 0 R ";Te(Me+"]"),Te("/Count "+Xs),Te(">>"),Te("endobj"),_i.publish("postPutPages")},Js=function(M){_i.publish("putFont",{font:M,out:Te,newObject:mo,putStream:Hi}),!0!==M.isAlreadyPutted&&(M.objectNumber=mo(),Te("<<"),Te("/Type /Font"),Te("/BaseFont /"+Sh(M.postScriptName)),Te("/Subtype /Type1"),"string"==typeof M.encoding&&Te("/Encoding /"+M.encoding),Te("/FirstChar 32"),Te("/LastChar 255"),Te(">>"),Te("endobj"))},bc=function(M){M.objectNumber=mo();var K=[];K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Form"}),K.push({key:"BBox",value:"["+[ot(M.x),ot(M.y),ot(M.x+M.width),ot(M.y+M.height)].join(" ")+"]"}),K.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var ve=M.pages[1].join("\n");Hi({data:ve,additionalKeyValues:K,objectId:M.objectNumber}),Te("endobj")},xC=function(M,K){K||(K=21);var ve=mo(),Me=function(M,K){var ve,Me=[],rt=1/(K-1);for(ve=0;ve<1;ve+=rt)Me.push(ve);Me.push(1),0!=M[0].offset&&M.unshift({offset:0,color:M[0].color}),1!=M[M.length-1].offset&&M.push({offset:1,color:M[M.length-1].color});for(var Mn="",si=0,ui=0;ui<Me.length;ui++){for(ve=Me[ui];ve>M[si+1].offset;)si++;var gi=M[si].offset,ri=(ve-gi)/(M[si+1].offset-gi),Lr=M[si].color,ps=M[si+1].color;Mn+=Ge(Math.round((1-ri)*Lr[0]+ri*ps[0]).toString(16))+Ge(Math.round((1-ri)*Lr[1]+ri*ps[1]).toString(16))+Ge(Math.round((1-ri)*Lr[2]+ri*ps[2]).toString(16))}return Mn.trim()}(M.colors,K),rt=[];rt.push({key:"FunctionType",value:"0"}),rt.push({key:"Domain",value:"[0.0 1.0]"}),rt.push({key:"Size",value:"["+K+"]"}),rt.push({key:"BitsPerSample",value:"8"}),rt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),rt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Hi({data:Me,additionalKeyValues:rt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ve}),Te("endobj"),M.objectNumber=mo(),Te("<< /ShadingType "+M.type),Te("/ColorSpace /DeviceRGB");var It="/Coords ["+ot(parseFloat(M.coords[0]))+" "+ot(parseFloat(M.coords[1]))+" ";It+=2===M.type?ot(parseFloat(M.coords[2]))+" "+ot(parseFloat(M.coords[3])):ot(parseFloat(M.coords[2]))+" "+ot(parseFloat(M.coords[3]))+" "+ot(parseFloat(M.coords[4]))+" "+ot(parseFloat(M.coords[5])),Te(It+="]"),M.matrix&&Te("/Matrix ["+M.matrix.toString()+"]"),Te("/Function "+ve+" 0 R"),Te("/Extend [true true]"),Te(">>"),Te("endobj")},Ng=function(M,K){var ve=Is(),Me=mo();K.push({resourcesOid:ve,objectOid:Me}),M.objectNumber=Me;var rt=[];rt.push({key:"Type",value:"/Pattern"}),rt.push({key:"PatternType",value:"1"}),rt.push({key:"PaintType",value:"1"}),rt.push({key:"TilingType",value:"1"}),rt.push({key:"BBox",value:"["+M.boundingBox.map(ot).join(" ")+"]"}),rt.push({key:"XStep",value:ot(M.xStep)}),rt.push({key:"YStep",value:ot(M.yStep)}),rt.push({key:"Resources",value:ve+" 0 R"}),M.matrix&&rt.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),Hi({data:M.stream,additionalKeyValues:rt,objectId:M.objectNumber}),Te("endobj")},ll=function(M){for(var K in M.objectNumber=mo(),Te("<<"),M)switch(K){case"opacity":Te("/ca "+Lt(M[K]));break;case"stroke-opacity":Te("/CA "+Lt(M[K]))}Te(">>"),Te("endobj")},hs=function(M){ol(M.resourcesOid,!0),Te("<<"),Te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var M in Te("/Font <<"),Ar)Ar.hasOwnProperty(M)&&(!1===ee||!0===ee&&se.hasOwnProperty(M))&&Te("/"+M+" "+Ar[M].objectNumber+" 0 R");Te(">>")}(),function(){if(Object.keys(Fr).length>0){for(var M in Te("/Shading <<"),Fr)Fr.hasOwnProperty(M)&&Fr[M]instanceof Sd&&Fr[M].objectNumber>=0&&Te("/"+M+" "+Fr[M].objectNumber+" 0 R");_i.publish("putShadingPatternDict"),Te(">>")}}(),function(M){if(Object.keys(Fr).length>0){for(var K in Te("/Pattern <<"),Fr)Fr.hasOwnProperty(K)&&Fr[K]instanceof z.TilingPattern&&Fr[K].objectNumber>=0&&Fr[K].objectNumber<M&&Te("/"+K+" "+Fr[K].objectNumber+" 0 R");_i.publish("putTilingPatternDict"),Te(">>")}}(M.objectOid),function(){if(Object.keys(Ss).length>0){var M;for(M in Te("/ExtGState <<"),Ss)Ss.hasOwnProperty(M)&&Ss[M].objectNumber>=0&&Te("/"+M+" "+Ss[M].objectNumber+" 0 R");_i.publish("putGStateDict"),Te(">>")}}(),function(){for(var M in Te("/XObject <<"),Qs)Qs.hasOwnProperty(M)&&Qs[M].objectNumber>=0&&Te("/"+M+" "+Qs[M].objectNumber+" 0 R");_i.publish("putXobjectDict"),Te(">>")}(),Te(">>"),Te("endobj")},Zf=function(M){os[M.fontName]=os[M.fontName]||{},os[M.fontName][M.fontStyle]=M.id},Lg=function(M,K,ve,Me,rt){var It={id:"F"+(Object.keys(Ar).length+1).toString(10),postScriptName:M,fontName:K,fontStyle:ve,encoding:Me,isStandardFont:rt||!1,metadata:{}};return _i.publish("addFont",{font:It,instance:this}),Ar[It.id]=It,Zf(It),It.id},Ca=z.__private__.pdfEscape=z.pdfEscape=function(M,K){return function(M,K){var ve,Me,rt,It,rn,Mn,si,ui,gi;if(rt=(K=K||{}).sourceEncoding||"Unicode",rn=K.outputEncoding,(K.autoencode||rn)&&Ar[er].metadata&&Ar[er].metadata[rt]&&Ar[er].metadata[rt].encoding&&(It=Ar[er].metadata[rt].encoding,!rn&&Ar[er].encoding&&(rn=Ar[er].encoding),!rn&&It.codePages&&(rn=It.codePages[0]),"string"==typeof rn&&(rn=It[rn]),rn)){for(si=!1,Mn=[],ve=0,Me=M.length;ve<Me;ve++)(ui=rn[M.charCodeAt(ve)])?Mn.push(String.fromCharCode(ui)):Mn.push(M[ve]),Mn[ve].charCodeAt(0)>>8&&(si=!0);M=Mn.join("")}for(ve=M.length;void 0===si&&0!==ve;)M.charCodeAt(ve-1)>>8&&(si=!0),ve--;if(!si)return M;for(Mn=K.noBOM?[]:[254,255],ve=0,Me=M.length;ve<Me;ve++){if((gi=(ui=M.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+M+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Mn.push(gi),Mn.push(ui-(gi<<8))}return String.fromCharCode.apply(void 0,Mn)}(M,K).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ec=z.__private__.beginPage=function(M){pn[++Xs]=[],Bn[Xs]={objId:0,contentsObjId:0,userUnit:Number(F),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},Vg(Xs),Rt(pn[we])},kg=function(M,K){var ve,Me,rt;switch(b=K||b,"string"==typeof M&&(ve=le(M.toLowerCase()),Array.isArray(ve)&&(Me=ve[0],rt=ve[1])),Array.isArray(M)&&(Me=M[0]*Un,rt=M[1]*Un),isNaN(Me)&&(Me=x[0],rt=x[1]),(Me>14400||rt>14400)&&(Xr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Me=Math.min(14400,Me),rt=Math.min(14400,rt)),x=[Me,rt],b.substr(0,1)){case"l":rt>Me&&(x=[rt,Me]);break;case"p":Me>rt&&(x=[rt,Me])}Ec(x),Bg(lu),Te(Fl),0!==zu&&Te(zu+" J"),0!==Dr&&Te(Dr+" j"),_i.publish("addPage",{pageNumber:Xs})},t_=function(M){M>0&&M<=Xs&&(pn.splice(M,1),Bn.splice(M,1),Xs--,we>Xs&&(we=Xs),this.setPage(we))},Vg=function(M){M>0&&M<=Xs&&(we=M)},PC=z.__private__.getNumberOfPages=z.getNumberOfPages=function(){return pn.length-1},vo=function(M,K,ve){var Me,rt=void 0;return ve=ve||{},K=void 0!==K?K:Ar[er].fontStyle,Me=(M=void 0!==M?M:Ar[er].fontName).toLowerCase(),void 0!==os[Me]&&void 0!==os[Me][K]?rt=os[Me][K]:void 0!==os[M]&&void 0!==os[M][K]?rt=os[M][K]:!1===ve.disableWarning&&Xr.warn("Unable to look up font label for font '"+M+"', '"+K+"'. Refer to getFontList() for available fonts."),rt||ve.noFallback||null==(rt=os.times[K])&&(rt=os.times.normal),rt},Bt=z.__private__.putInfo=function(){var M=mo(),K=function(Me){return Me};for(var ve in null!==J&&(K=Oi.encryptor(M,0)),Te("<<"),Te("/Producer ("+Ca(K("jsPDF "+ni.version))+")"),Ri)Ri.hasOwnProperty(ve)&&Ri[ve]&&Te("/"+ve.substr(0,1).toUpperCase()+ve.substr(1)+" ("+Ca(K(Ri[ve]))+")");Te("/CreationDate ("+Ca(K(Tt))+")"),Te(">>"),Te("endobj")},Bi=z.__private__.putCatalog=function(M){var K=(M=M||{}).rootDictionaryObjId||vc;switch(mo(),Te("<<"),Te("/Type /Catalog"),Te("/Pages "+K+" 0 R"),On||(On="fullwidth"),On){case"fullwidth":Te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Te("/OpenAction [3 0 R /Fit]");break;case"original":Te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ve=""+On;"%"===ve.substr(ve.length-1)&&(On=parseInt(On)/100),"number"==typeof On&&Te("/OpenAction [3 0 R /XYZ null null "+Lt(On)+"]")}switch(Yi||(Yi="continuous"),Yi){case"continuous":Te("/PageLayout /OneColumn");break;case"single":Te("/PageLayout /SinglePage");break;case"two":case"twoleft":Te("/PageLayout /TwoColumnLeft");break;case"tworight":Te("/PageLayout /TwoColumnRight")}Ai&&Te("/PageMode /"+Ai),_i.publish("putCatalog"),Te(">>"),Te("endobj")},n_=z.__private__.putTrailer=function(){Te("trailer"),Te("<<"),Te("/Size "+(Je+1)),Te("/Root "+Je+" 0 R"),Te("/Info "+(Je-1)+" 0 R"),null!==J&&Te("/Encrypt "+Oi.oid+" 0 R"),Te("/ID [ <"+wt+"> <"+wt+"> ]"),Te(">>")},i_=z.__private__.putHeader=function(){Te("%PDF-"+ye),Te("%\xba\xdf\xac\xe0")},vr=z.__private__.putXRef=function(){var M="0000000000";Te("xref"),Te("0 "+(Je+1)),Te("0000000000 65535 f ");for(var K=1;K<=Je;K++)Te("function"==typeof $e[K]?(M+$e[K]()).slice(-10)+" 00000 n ":void 0!==$e[K]?(M+$e[K]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},ou=z.__private__.buildDocument=function(){Je=0,bt=0,Et=[],$e=[],dn=[],vc=Is(),Pl=Is(),Rt(Et),_i.publish("buildDocument"),i_(),Cc(),function(){_i.publish("putAdditionalObjects");for(var M=0;M<dn.length;M++){var K=dn[M];ol(K.objId,!0),Te(K.content),Te("endobj")}_i.publish("postPutAdditionalObjects")}(),function(){var M=[];(function(){for(var M in Ar)Ar.hasOwnProperty(M)&&(!1===ee||!0===ee&&se.hasOwnProperty(M))&&Js(Ar[M])})(),function(){var M;for(M in Ss)Ss.hasOwnProperty(M)&&ll(Ss[M])}(),function(){for(var M in Qs)Qs.hasOwnProperty(M)&&bc(Qs[M])}(),function(M){var K;for(K in Fr)Fr.hasOwnProperty(K)&&(Fr[K]instanceof Sd?xC(Fr[K]):Fr[K]instanceof Ih&&Ng(Fr[K],M))}(M),_i.publish("putResources"),M.forEach(hs),hs({resourcesOid:Pl,objectOid:Number.MAX_SAFE_INTEGER}),_i.publish("postPutResources")}(),null!==J&&(Oi.oid=mo(),Te("<<"),Te("/Filter /Standard"),Te("/V "+Oi.v),Te("/R "+Oi.r),Te("/U <"+Oi.toHexString(Oi.U)+">"),Te("/O <"+Oi.toHexString(Oi.O)+">"),Te("/P "+Oi.P),Te(">>"),Te("endobj")),Bt(),Bi();var M=bt;return vr(),n_(),Te("startxref"),Te(""+M),Te("%%EOF"),Rt(pn[we]),Et.join("\n")},au=z.__private__.getBlob=function(M){return new Blob([jn(M)],{type:"application/pdf"})},fs=z.output=z.__private__.output=((M=function(M,K){switch("string"==typeof(K=K||{})?K={filename:K}:K.filename=K.filename||"generated.pdf",M){case void 0:return ou();case"save":z.save(K.filename);break;case"arraybuffer":return jn(ou());case"blob":return au(ou());case"bloburi":case"bloburl":if(void 0!==Zn.URL&&"function"==typeof Zn.URL.createObjectURL)return Zn.URL&&Zn.URL.createObjectURL(au(ou()))||void 0;Xr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ve="",Me=ou();try{ve=zv(Me)}catch{ve=zv(unescape(encodeURIComponent(Me)))}return"data:application/pdf;filename="+K.filename+";base64,"+ve;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Zn)){var rt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",It=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';K.pdfObjectUrl&&(rt=K.pdfObjectUrl,It="");var rn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+rt+'"'+It+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(K)+");<\/script></body></html>",Mn=Zn.open();return null!==Mn&&Mn.document.write(rn),Mn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Zn)){var si='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(K.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+K.filename+'" width="500px" height="400px" /></body></html>',ui=Zn.open();if(null!==ui){ui.document.write(si);var gi=this;ui.document.documentElement.querySelector("#pdfViewer").onload=function(){ui.document.title=K.filename,ui.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(gi.output("bloburl"))}}return ui}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Zn))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ri='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",K)+'"></iframe></body></html>',Lr=Zn.open();if(null!==Lr&&(Lr.document.write(ri),Lr.document.title=K.filename),Lr||typeof safari>"u")return Lr;break;case"datauri":case"dataurl":return Zn.document.location.href=this.output("datauristring",K);default:return null}}).foo=function(){try{return M.apply(this,arguments)}catch(Me){var K=Me.stack||"";~K.indexOf(" at ")&&(K=K.split(" at ")[1]);var ve="Error in function "+K.split("\n")[0].split("<")[0]+": "+Me.message;if(!Zn.console)throw new Error(ve);Zn.console.error(ve,Me),Zn.alert&&alert(ve)}},M.foo.bar=M,M.foo),Pr=function(M){return!0===Array.isArray(Fa)&&Fa.indexOf(M)>-1};switch(I){case"pt":Un=1;break;case"mm":Un=72/25.4;break;case"cm":Un=72/2.54;break;case"in":Un=72;break;case"px":Un=1==Pr("px_scaling")?.75:96/72;break;case"pc":case"em":Un=12;break;case"ex":Un=6;break;default:if("number"!=typeof I)throw new Error("Invalid unit: "+I);Un=I}var Oi=null;Sn(),nt();var tp=z.__private__.getPageInfo=z.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Bn[M].objId,pageNumber:M,pageContext:Bn[M]}},Si=z.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var K in Bn)if(Bn[K].objId===M)break;return tp(K)},qo=z.__private__.getCurrentPageInfo=z.getCurrentPageInfo=function(){return{objId:Bn[we].objId,pageNumber:we,pageContext:Bn[we]}};z.addPage=function(){return kg.apply(this,arguments),this},z.setPage=function(){return Vg.apply(this,arguments),Rt.call(this,pn[we]),this},z.insertPage=function(M){return this.addPage(),this.movePage(we,M),this},z.movePage=function(M,K){var ve,Me;if(M>K){ve=pn[M],Me=Bn[M];for(var rt=M;rt>K;rt--)pn[rt]=pn[rt-1],Bn[rt]=Bn[rt-1];pn[K]=ve,Bn[K]=Me,this.setPage(K)}else if(M<K){ve=pn[M],Me=Bn[M];for(var It=M;It<K;It++)pn[It]=pn[It+1],Bn[It]=Bn[It+1];pn[K]=ve,Bn[K]=Me,this.setPage(K)}return this},z.deletePage=function(){return t_.apply(this,arguments),this},z.__private__.text=z.text=function(M,K,ve,Me,rt){var It,rn,Mn,si,ui,gi,ri,Lr,ps,Ms=(Me=Me||{}).scope||this;if("number"==typeof M&&"number"==typeof K&&("string"==typeof ve||Array.isArray(ve))){var Po=ve;ve=K,K=M,M=Po}if(arguments[3]instanceof ii?(Pe("The transform parameter of text() with a Matrix value"),ps=rt):(Mn=arguments[4],si=arguments[5],"object"===(0,h.A)(ri=arguments[3])&&null!==ri||("string"==typeof Mn&&(si=Mn,Mn=null),"string"==typeof ri&&(si=ri,ri=null),"number"==typeof ri&&(Mn=ri,ri=null),Me={flags:ri,angle:Mn,align:si})),isNaN(K)||isNaN(ve)||null==M)throw new Error("Invalid arguments passed to jsPDF.text");if(0===M.length)return Ms;var Ac,jr="",Zs="number"==typeof Me.lineHeightFactor?Me.lineHeightFactor:Md,kl=Ms.internal.scaleFactor;function _r(yr){return yr=yr.split("\t").join(Array(Me.TabLen||9).join(" ")),Ca(yr,ri)}function bi(yr){for(var Zr,Os=yr.concat(),no=[],Qu=Os.length;Qu--;)"string"==typeof(Zr=Os.shift())?no.push(Zr):Array.isArray(yr)&&(1===Zr.length||void 0===Zr[1]&&void 0===Zr[2])?no.push(Zr[0]):no.push([Zr[0],Zr[1],Zr[2]]);return no}function Rc(yr,Zr){var Os;if("string"==typeof yr)Os=Zr(yr)[0];else if(Array.isArray(yr)){for(var no,Qu,$g=yr.concat(),qg=[],Gd=$g.length;Gd--;)"string"==typeof(no=$g.shift())?qg.push(Zr(no)[0]):Array.isArray(no)&&"string"==typeof no[0]&&(Qu=Zr(no[0],no[1],no[2]),qg.push([Qu[0],Qu[1],Qu[2]]));Os=qg}return Os}var op=!1,Dc=!0;if("string"==typeof M)op=!0;else if(Array.isArray(M)){var ap=M.concat();rn=[];for(var Gh,$r=ap.length;$r--;)("string"!=typeof(Gh=ap.shift())||Array.isArray(Gh)&&"string"!=typeof Gh[0])&&(Dc=!1);op=Dc}if(!1===op)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');"string"==typeof M&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var Ld=vn/Ms.internal.scaleFactor,du=Ld*(Zs-1);switch(Me.baseline){case"bottom":ve-=du;break;case"top":ve+=Ld-du;break;case"hanging":ve+=Ld-2*du;break;case"middle":ve+=Ld/2-du}if((gi=Me.maxWidth||0)>0&&("string"==typeof M?M=Ms.splitTextToSize(M,gi):"[object Array]"===Object.prototype.toString.call(M)&&(M=M.reduce(function(yr,Zr){return yr.concat(Ms.splitTextToSize(Zr,gi))},[]))),_i.publish("preProcessText",It={text:M,x:K,y:ve,options:Me,mutex:{pdfEscape:Ca,activeFontKey:er,fonts:Ar,activeFontSize:vn}}),M=It.text,Mn=(Me=It.options).angle,ps instanceof ii||!Mn||"number"!=typeof Mn)Mn&&Mn instanceof ii&&(ps=Mn);else{Mn*=Math.PI/180,0===Me.rotationDirection&&(Mn=-Mn),"advanced"===Le&&(Mn=-Mn);var ul=Math.cos(Mn),Vl=Math.sin(Mn);ps=new ii(ul,Vl,-Vl,ul,0,0)}"advanced"!==Le||ps||(ps=mc),void 0!==(ui=Me.charSpace||Lh)&&(jr+=ot(he(ui))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(Lr=Me.horizontalScale)&&(jr+=ot(100*Lr)+" Tz\n");var wa=-1,zg=void 0!==Me.renderingMode?Me.renderingMode:Me.stroke,xc=Ms.internal.getCurrentPageInfo().pageContext;switch(zg){case 0:case!1:case"fill":wa=0;break;case 1:case!0:case"stroke":wa=1;break;case 2:case"fillThenStroke":wa=2;break;case 3:case"invisible":wa=3;break;case 4:case"fillAndAddForClipping":wa=4;break;case 5:case"strokeAndAddPathForClipping":wa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":wa=6;break;case 7:case"addToPathForClipping":wa=7}-1!==wa?jr+=wa+" Tr\n":-1!==(void 0!==xc.usedRenderingMode?xc.usedRenderingMode:-1)&&(jr+="0 Tr\n"),-1!==wa&&(xc.usedRenderingMode=wa),si=Me.align||"left";var Sr,lp=vn*Zs,cp=Ms.internal.pageSize.getWidth(),Bh=Ar[er];ui=Me.charSpace||Lh,gi=Me.maxWidth||0,ri=Object.assign({autoencode:!0,noBOM:!0},Me.flags);var Pc=[],dl=function(yr){return Ms.getStringUnitWidth(yr,{font:Bh,charSpace:ui,fontSize:vn,doKerning:!1})*vn/kl};if("[object Array]"===Object.prototype.toString.call(M)){var Pi;rn=bi(M),"left"!==si&&(Sr=rn.map(dl));var _o,qu=0;if("right"===si){K-=Sr[0],M=[],$r=rn.length;for(var Ko=0;Ko<$r;Ko++)0===Ko?(_o=cu(K),Pi=Rr(ve)):(_o=he(qu-Sr[Ko]),Pi=-lp),M.push([rn[Ko],_o,Pi]),qu=Sr[Ko]}else if("center"===si){K-=Sr[0]/2,M=[],$r=rn.length;for(var Gl=0;Gl<$r;Gl++)0===Gl?(_o=cu(K),Pi=Rr(ve)):(_o=he((qu-Sr[Gl])/2),Pi=-lp),M.push([rn[Gl],_o,Pi]),qu=Sr[Gl]}else if("left"===si){M=[],$r=rn.length;for(var Bl=0;Bl<$r;Bl++)M.push(rn[Bl])}else if("justify"===si&&"Identity-H"===Bh.encoding){M=[],$r=rn.length,gi=0!==gi?gi:cp;for(var Mc=0,Ns=0;Ns<$r;Ns++)if(Pi=0===Ns?Rr(ve):-lp,_o=0===Ns?cu(K):Mc,Ns<$r-1){var kd=he((gi-Sr[Ns])/(rn[Ns].split(" ").length-1)),eo=rn[Ns].split(" ");M.push([eo[0]+" ",_o,Pi]),Mc=0;for(var hl=1;hl<eo.length;hl++){var hu=(dl(eo[hl-1]+" "+eo[hl])-dl(eo[hl]))*kl+kd;M.push(hl==eo.length-1?[eo[hl],hu,0]:[eo[hl]+" ",hu,0]),Mc-=hu}}else M.push([rn[Ns],_o,Pi]);M.push(["",Mc,0])}else{if("justify"!==si)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(M=[],$r=rn.length,gi=0!==gi?gi:cp,Ns=0;Ns<$r;Ns++)Pi=0===Ns?Rr(ve):-lp,_o=0===Ns?cu(K):0,Pc.push(Ns<$r-1?ot(he((gi-Sr[Ns])/(rn[Ns].split(" ").length-1))):0),M.push([rn[Ns],_o,Pi])}}!0===("boolean"==typeof Me.R2L?Me.R2L:ai)&&(M=Rc(M,function(yr,Zr,Os){return[yr.split("").reverse().join(""),Zr,Os]})),_i.publish("postProcessText",It={text:M,x:K,y:ve,options:Me,mutex:{pdfEscape:Ca,activeFontKey:er,fonts:Ar,activeFontSize:vn}}),M=It.text,Ac=It.mutex.isHex||!1;var Hh=Ar[er].encoding;"WinAnsiEncoding"!==Hh&&"StandardEncoding"!==Hh||(M=Rc(M,function(yr,Zr,Os){return[_r(yr),Zr,Os]})),rn=bi(M),M=[];for(var Ku,Yu,fu,Vd=Array.isArray(rn[0])?1:0,Xu="",Uh=function(yr,Zr,Os){var no="";return Os instanceof ii?(Os="number"==typeof Me.angle?gc(Os,new ii(1,0,0,1,yr,Zr)):gc(new ii(1,0,0,1,yr,Zr),Os),"advanced"===Le&&(Os=gc(new ii(1,0,0,-1,0,0),Os)),no=Os.join(" ")+" Tm\n"):no=ot(yr)+" "+ot(Zr)+" Td\n",no},to=0;to<rn.length;to++){switch(Xu="",Vd){case 1:fu=(Ac?"<":"(")+rn[to][0]+(Ac?">":")"),Ku=parseFloat(rn[to][1]),Yu=parseFloat(rn[to][2]);break;case 0:fu=(Ac?"<":"(")+rn[to]+(Ac?">":")"),Ku=cu(K),Yu=Rr(ve)}void 0!==Pc&&void 0!==Pc[to]&&(Xu=Pc[to]+" Tw\n"),0===to?M.push(Xu+Uh(Ku,Yu,ps)+fu):0===Vd?M.push(Xu+fu):1===Vd&&M.push(Xu+Uh(Ku,Yu,ps)+fu)}M=M.join(0===Vd?" Tj\nT* ":" Tj\n"),M+=" Tj\n";var fl="BT\n/";return fl+=er+" "+vn+" Tf\n",fl+=ot(vn*Zs)+" TL\n",fl+=Nd+"\n",fl+=jr,fl+=M,Te(fl+="ET"),se[er]=!0,Ms};var Sc=z.__private__.clip=z.clip=function(M){return Te("evenodd"===M?"W*":"W"),this};z.clipEvenOdd=function(){return Sc("evenodd")},z.__private__.discardPath=z.discardPath=function(){return Te("n"),this};var Ic=z.__private__.isValidStyle=function(M){var K=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)&&(K=!0),K};z.__private__.setDefaultPathOperation=z.setDefaultPathOperation=function(M){return Ic(M)&&(j=M),this};var ba=z.__private__.getStyle=z.getStyle=function(M){var K=j;switch(M){case"D":case"S":K="S";break;case"F":K="f";break;case"FD":case"DF":K="B";break;case"f":case"f*":case"B":case"B*":K=M}return K},Ol=z.close=function(){return Te("h"),this};z.stroke=function(){return Te("S"),this},z.fill=function(M){return np("f",M),this},z.fillEvenOdd=function(M){return np("f*",M),this},z.fillStroke=function(M){return np("B",M),this},z.fillStrokeEvenOdd=function(M){return np("B*",M),this};var np=function(M,K){"object"===(0,h.A)(K)?Gg(K,M):Te(M)},Jr=function(M){null===M||"advanced"===Le&&void 0===M||(M=ba(M),Te(M))};function r_(M,K,ve,Me,rt){var It=new Ih(K||this.boundingBox,ve||this.xStep,Me||this.yStep,this.gState,rt||this.matrix);It.stream=this.stream;var rn=M+"$$"+this.cloneIndex+++"$$";return _a(rn,It),It}var Gg=function(M,K){var ve=Mg[M.key],Me=Fr[ve];if(Me instanceof Sd)Te("q"),Te(ip(K)),Me.gState&&z.setGState(Me.gState),Te(M.matrix.toString()+" cm"),Te("/"+ve+" sh"),Te("Q");else if(Me instanceof Ih){var rt=new ii(1,0,0,-1,0,rs());M.matrix&&(rt=rt.multiply(M.matrix||mc),ve=r_.call(Me,M.key,M.boundingBox,M.xStep,M.yStep,rt).id),Te("q"),Te("/Pattern cs"),Te("/"+ve+" scn"),Me.gState&&z.setGState(Me.gState),Te(K),Te("Q")}},ip=function(M){switch(M){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Tc=z.moveTo=function(M,K){return Te(ot(he(M))+" "+ot(_e(K))+" m"),this},Wu=z.lineTo=function(M,K){return Te(ot(he(M))+" "+ot(_e(K))+" l"),this},Fn=z.curveTo=function(M,K,ve,Me,rt,It){return Te([ot(he(M)),ot(_e(K)),ot(he(ve)),ot(_e(Me)),ot(he(rt)),ot(_e(It)),"c"].join(" ")),this};z.__private__.line=z.line=function(M,K,ve,Me,rt){if(isNaN(M)||isNaN(K)||isNaN(ve)||isNaN(Me)||!Ic(rt))throw new Error("Invalid arguments passed to jsPDF.line");return"compat"===Le?this.lines([[ve-M,Me-K]],M,K,[1,1],rt||"S"):this.lines([[ve-M,Me-K]],M,K,[1,1]).stroke()},z.__private__.lines=z.lines=function(M,K,ve,Me,rt,It){var rn,Mn,si,ui,gi,Po,jr,Ac;if("number"==typeof M&&(Ac=ve,ve=K,K=M,M=Ac),Me=Me||[1,1],It=It||!1,isNaN(K)||isNaN(ve)||!Array.isArray(M)||!Array.isArray(Me)||!Ic(rt)||"boolean"!=typeof It)throw new Error("Invalid arguments passed to jsPDF.lines");for(Tc(K,ve),rn=Me[0],Mn=Me[1],ui=M.length,Po=K,jr=ve,si=0;si<ui;si++)2===(gi=M[si]).length?Wu(Po=gi[0]*rn+Po,jr=gi[1]*Mn+jr):Fn(gi[0]*rn+Po,gi[1]*Mn+jr,gi[2]*rn+Po,gi[3]*Mn+jr,Po=gi[4]*rn+Po,jr=gi[5]*Mn+jr);return It&&Ol(),Jr(rt),this},z.path=function(M){for(var K=0;K<M.length;K++){var ve=M[K],Me=ve.c;switch(ve.op){case"m":Tc(Me[0],Me[1]);break;case"l":Wu(Me[0],Me[1]);break;case"c":Fn.apply(this,Me);break;case"h":Ol()}}return this},z.__private__.rect=z.rect=function(M,K,ve,Me,rt){if(isNaN(M)||isNaN(K)||isNaN(ve)||isNaN(Me)||!Ic(rt))throw new Error("Invalid arguments passed to jsPDF.rect");return"compat"===Le&&(Me=-Me),Te([ot(he(M)),ot(_e(K)),ot(he(ve)),ot(he(Me)),"re"].join(" ")),Jr(rt),this},z.__private__.triangle=z.triangle=function(M,K,ve,Me,rt,It,rn){if(isNaN(M)||isNaN(K)||isNaN(ve)||isNaN(Me)||isNaN(rt)||isNaN(It)||!Ic(rn))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ve-M,Me-K],[rt-ve,It-Me],[M-rt,K-It]],M,K,[1,1],rn,!0),this},z.__private__.roundedRect=z.roundedRect=function(M,K,ve,Me,rt,It,rn){if(isNaN(M)||isNaN(K)||isNaN(ve)||isNaN(Me)||isNaN(rt)||isNaN(It)||!Ic(rn))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Mn=4/3*(Math.SQRT2-1);return rt=Math.min(rt,.5*ve),It=Math.min(It,.5*Me),this.lines([[ve-2*rt,0],[rt*Mn,0,rt,It-It*Mn,rt,It],[0,Me-2*It],[0,It*Mn,-rt*Mn,It,-rt,It],[2*rt-ve,0],[-rt*Mn,0,-rt,-It*Mn,-rt,-It],[0,2*It-Me],[0,-It*Mn,rt*Mn,-It,rt,-It]],M+rt,K,[1,1],rn,!0),this},z.__private__.ellipse=z.ellipse=function(M,K,ve,Me,rt){if(isNaN(M)||isNaN(K)||isNaN(ve)||isNaN(Me)||!Ic(rt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var It=4/3*(Math.SQRT2-1)*ve,rn=4/3*(Math.SQRT2-1)*Me;return Tc(M+ve,K),Fn(M+ve,K-rn,M+It,K-Me,M,K-Me),Fn(M-It,K-Me,M-ve,K-rn,M-ve,K),Fn(M-ve,K+rn,M-It,K+Me,M,K+Me),Fn(M+It,K+Me,M+ve,K+rn,M+ve,K),Jr(rt),this},z.__private__.circle=z.circle=function(M,K,ve,Me){if(isNaN(M)||isNaN(K)||isNaN(ve)||!Ic(Me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,K,ve,ve,Me)},z.setFont=function(M,K,ve){return ve&&(K=Ut(K,ve)),er=vo(M,K,{disableWarning:!1}),this};var Do=z.__private__.getFont=z.getFont=function(){return Ar[vo.apply(z,arguments)]};z.__private__.getFontList=z.getFontList=function(){var M,K,ve={};for(M in os)if(os.hasOwnProperty(M))for(K in ve[M]=[],os[M])os[M].hasOwnProperty(K)&&ve[M].push(K);return ve},z.addFont=function(M,K,ve,Me,rt){var It=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==It.indexOf(arguments[3])?rt=arguments[3]:arguments[3]&&-1==It.indexOf(arguments[3])&&(ve=Ut(ve,Me)),Lg.call(this,M,K,ve,rt=rt||"Identity-H")};var Md,lu=w.lineWidth||.200025,Nh=z.__private__.getLineWidth=z.getLineWidth=function(){return lu},Bg=z.__private__.setLineWidth=z.setLineWidth=function(M){return lu=M,Te(ot(he(M))+" w"),this};z.__private__.setLineDash=ni.API.setLineDash=ni.API.setLineDashPattern=function(M,K){if(M=M||[],K=K||0,isNaN(K)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map(function(ve){return ot(he(ve))}).join(" "),K=ot(he(K)),Te("["+M+"] "+K+" d"),this};var Hg=z.__private__.getLineHeight=z.getLineHeight=function(){return vn*Md};z.__private__.getLineHeight=z.getLineHeight=function(){return vn*Md};var Ug=z.__private__.setLineHeightFactor=z.setLineHeightFactor=function(M){return"number"==typeof(M=M||1.15)&&(Md=M),this},Oh=z.__private__.getLineHeightFactor=z.getLineHeightFactor=function(){return Md};Ug(w.lineHeight);var cu=z.__private__.getHorizontalCoordinate=function(M){return he(M)},Rr=z.__private__.getVerticalCoordinate=function(M){return"advanced"===Le?M:Bn[we].mediaBox.topRightY-Bn[we].mediaBox.bottomLeftY-he(M)},ti=z.__private__.getHorizontalCoordinateString=z.getHorizontalCoordinateString=function(M){return ot(cu(M))},pr=z.__private__.getVerticalCoordinateString=z.getVerticalCoordinateString=function(M){return ot(Rr(M))},Fl=w.strokeColor||"0 G";z.__private__.getStrokeColor=z.getDrawColor=function(){return La(Fl)},z.__private__.setStrokeColor=z.setDrawColor=function(M,K,ve,Me){return Fl=_c({ch1:M,ch2:K,ch3:ve,ch4:Me,pdfColorType:"draw",precision:2}),Te(Fl),this};var Fh=w.fillColor||"0 g";z.__private__.getFillColor=z.getFillColor=function(){return La(Fh)},z.__private__.setFillColor=z.setFillColor=function(M,K,ve,Me){return Fh=_c({ch1:M,ch2:K,ch3:ve,ch4:Me,pdfColorType:"fill",precision:2}),Te(Fh),this};var Nd=w.textColor||"0 g",Od=z.__private__.getTextColor=z.getTextColor=function(){return La(Nd)};z.__private__.setTextColor=z.setTextColor=function(M,K,ve,Me){return Nd=_c({ch1:M,ch2:K,ch3:ve,ch4:Me,pdfColorType:"text",precision:3}),this};var Lh=w.charSpace,Wg=z.__private__.getCharSpace=z.getCharSpace=function(){return parseFloat(Lh||0)};z.__private__.setCharSpace=z.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Lh=M,this};var zu=0;z.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},z.__private__.setLineCap=z.setLineCap=function(M){var K=z.CapJoinStyles[M];if(void 0===K)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return zu=K,Te(K+" J"),this};var Dr=0;z.__private__.setLineJoin=z.setLineJoin=function(M){var K=z.CapJoinStyles[M];if(void 0===K)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dr=K,Te(K+" j"),this},z.__private__.setLineMiterLimit=z.__private__.setMiterLimit=z.setLineMiterLimit=z.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Te(ot(he(M))+" M"),this},z.GState=Wf,z.setGState=function(M){(M="string"==typeof M?Ss[pc[M]]:kh(null,M)).equals(Ph)||(Te("/"+M.id+" gs"),Ph=M)};var kh=function(M,K){if(!M||!pc[M]){var ve=!1;for(var Me in Ss)if(Ss.hasOwnProperty(Me)&&Ss[Me].equals(K)){ve=!0;break}if(ve)K=Ss[Me];else{var rt="GS"+(Object.keys(Ss).length+1).toString(10);Ss[rt]=K,K.id=rt}return M&&(pc[M]=K.id),_i.publish("addGState",K),K}};z.addGState=function(M,K){return kh(M,K),this},z.saveGraphicsState=function(){return Te("q"),xd.push({key:er,size:vn,color:Nd}),this},z.restoreGraphicsState=function(){Te("Q");var M=xd.pop();return er=M.key,vn=M.size,Nd=M.color,Ph=null,this},z.setCurrentTransformationMatrix=function(M){return Te(M.toString()+" cm"),this},z.comment=function(M){return Te("#"+M),this};var ju=function(M,K){var ve=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ve},set:function(It){isNaN(It)||(ve=parseFloat(It))}});var Me=K||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Me},set:function(It){isNaN(It)||(Me=parseFloat(It))}});var rt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return rt},set:function(It){rt=It.toString()}}),this},cl=function(M,K,ve,Me){ju.call(this,M,K),this.type="rect";var rt=ve||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return rt},set:function(rn){isNaN(rn)||(rt=parseFloat(rn))}});var It=Me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return It},set:function(rn){isNaN(rn)||(It=parseFloat(rn))}}),this},Ll=function(){this.page=Xs,this.currentPage=we,this.pages=pn.slice(0),this.pagesContext=Bn.slice(0),this.x=Oa,this.y=fr,this.matrix=ru,this.width=sp(we),this.height=rs(we),this.outputDestination=hn,this.id="",this.objectNumber=-1};Ll.prototype.restore=function(){Xs=this.page,Bn=this.pagesContext,pn=this.pages,Oa=this.x,fr=this.y,ru=this.matrix,uu(we=this.currentPage,this.width),Vh(we,this.height),hn=this.outputDestination};var rp=function(M,K,ve,Me,rt){sl.push(new Ll),Xs=we=0,pn=[],Oa=M,fr=K,ru=rt,Ec([ve,Me])};for(var xo in z.beginFormObject=function(M,K,ve,Me,rt){return rp(M,K,ve,Me,rt),this},z.endFormObject=function(M){return function(M){if(xl[M])sl.pop().restore();else{var K=new Ll,ve="Xo"+(Object.keys(Qs).length+1).toString(10);K.id=ve,xl[M]=ve,Qs[ve]=K,_i.publish("addFormObject",K),sl.pop().restore()}}(M),this},z.doFormObject=function(M,K){var ve=Qs[xl[M]];return Te("q"),Te(K.toString()+" cm"),Te("/"+ve.id+" Do"),Te("Q"),this},z.getFormObject=function(M){var K=Qs[xl[M]];return{x:K.x,y:K.y,width:K.width,height:K.height,matrix:K.matrix}},z.save=function(M,K){return M=M||"generated.pdf",(K=K||{}).returnPromise=K.returnPromise||!1,!1===K.returnPromise?(js(au(ou()),M),"function"==typeof js.unload&&Zn.setTimeout&&setTimeout(js.unload,911),this):new Promise(function(ve,Me){try{var rt=js(au(ou()),M);"function"==typeof js.unload&&Zn.setTimeout&&setTimeout(js.unload,911),ve(rt)}catch(It){Me(It.message)}})},ni.API)ni.API.hasOwnProperty(xo)&&("events"===xo&&ni.API.events.length?function(M,K){var Me,rt;for(rt=K.length-1;-1!==rt;rt--)M.subscribe.apply(M,[K[rt][0]].concat("function"==typeof(Me=K[rt][1])?[Me]:Me))}(_i,ni.API.events):z[xo]=ni.API[xo]);var sp=z.getPageWidth=function(M){return(Bn[M=M||we].mediaBox.topRightX-Bn[M].mediaBox.bottomLeftX)/Un},uu=z.setPageWidth=function(M,K){Bn[M].mediaBox.topRightX=K*Un+Bn[M].mediaBox.bottomLeftX},rs=z.getPageHeight=function(M){return(Bn[M=M||we].mediaBox.topRightY-Bn[M].mediaBox.bottomLeftY)/Un},Vh=z.setPageHeight=function(M,K){Bn[M].mediaBox.topRightY=K*Un+Bn[M].mediaBox.bottomLeftY};return z.internal={pdfEscape:Ca,getStyle:ba,getFont:Do,getFontSize:Pn,getCharSpace:Wg,getTextColor:Od,getLineHeight:Hg,getLineHeightFactor:Oh,getLineWidth:Nh,write:xi,getHorizontalCoordinate:cu,getVerticalCoordinate:Rr,getCoordinateString:ti,getVerticalCoordinateString:pr,collections:{},newObject:mo,newAdditionalObject:ya,newObjectDeferred:Is,newObjectDeferredBegin:ol,getFilters:yc,putStream:Hi,events:_i,scaleFactor:Un,pageSize:{getWidth:function(){return sp(we)},setWidth:function(M){uu(we,M)},getHeight:function(){return rs(we)},setHeight:function(M){Vh(we,M)}},encryptionOptions:J,encryption:Oi,getEncryptor:function(M){return null!==J?Oi.encryptor(M,0):function(K){return K}},output:fs,getNumberOfPages:PC,pages:pn,out:Te,f2:Lt,f3:ce,getPageInfo:tp,getPageInfoByObjId:Si,getCurrentPageInfo:qo,getPDFVersion:fe,Point:ju,Rectangle:cl,Matrix:ii,hasHotfix:Pr},Object.defineProperty(z.internal.pageSize,"width",{get:function(){return sp(we)},set:function(M){uu(we,M)},enumerable:!0,configurable:!0}),Object.defineProperty(z.internal.pageSize,"height",{get:function(){return rs(we)},set:function(M){Vh(we,M)},enumerable:!0,configurable:!0}),function(M){for(var K=0,ve=un.length;K<ve;K++){var Me=Lg.call(this,M[K][0],M[K][1],M[K][2],un[K][3],!0);!1===ee&&(se[Me]=!0);var rt=M[K][0].split("-");Zf({id:Me,fontName:rt[0],fontStyle:rt[1]||""})}_i.publish("addFonts",{fonts:Ar,dictionary:os})}.call(z,un),er="F1",kg(x,b),_i.publish("initialized"),z}Ed.prototype.lsbFirstWord=function(w){return String.fromCharCode(255&w,w>>8&255,w>>16&255,w>>24&255)},Ed.prototype.toHexString=function(w){return w.split("").map(function(_){return("0"+(255&_.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ed.prototype.hexToBytes=function(w){for(var _=[],b=0;b<w.length;b+=2)_.push(String.fromCharCode(parseInt(w.substr(b,2),16)));return _.join("")},Ed.prototype.processOwnerPassword=function(w,_){return Uf(eu(_).substr(0,5),w)},Ed.prototype.encryptor=function(w,_){var b=eu(this.encryptionKey+String.fromCharCode(255&w,w>>8&255,w>>16&255,255&_,_>>8&255)).substr(0,10);return function(I){return Uf(b,I)}},Wf.prototype.equals=function(w){var _,b="id,objectNumber,equals";if(!w||(0,h.A)(w)!==(0,h.A)(this))return!1;var I=0;for(_ in this)if(!(b.indexOf(_)>=0)){if(this.hasOwnProperty(_)&&!w.hasOwnProperty(_)||this[_]!==w[_])return!1;I++}for(_ in w)w.hasOwnProperty(_)&&b.indexOf(_)<0&&I--;return 0===I},ni.API={events:[]},ni.version="2.5.2";var ds=ni.API,Ag=1,zf=function(w){return w.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},dc=function(w){return w.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ni=function(w){return w.toFixed(2)},qs=function(w){return w.toFixed(5)};ds.__acroform__={};var go=function(w,_){w.prototype=Object.create(_.prototype),w.prototype.constructor=w},uS=function(w){return w*Ag},Na=function(w){var _=new Id,b=$n.internal.getHeight(w)||0,I=$n.internal.getWidth(w)||0;return _.BBox=[0,0,Number(Ni(I)),Number(Ni(b))],_},Th=ds.__acroform__.setBit=function(w,_){if(w=w||0,_=_||0,isNaN(w)||isNaN(_))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return w|1<<_},dS=ds.__acroform__.clearBit=function(w,_){if(w=w||0,_=_||0,isNaN(w)||isNaN(_))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return w&~(1<<_)},wC=ds.__acroform__.getBit=function(w,_){if(isNaN(w)||isNaN(_))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return w&1<<_?1:0},xs=ds.__acroform__.getBitForPdf=function(w,_){if(isNaN(w)||isNaN(_))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return wC(w,_-1)},Ps=ds.__acroform__.setBitForPdf=function(w,_){if(isNaN(w)||isNaN(_))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Th(w,_-1)},dr=ds.__acroform__.clearBitForPdf=function(w,_){if(isNaN(w)||isNaN(_))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return dS(w,_-1)},EC=ds.__acroform__.calculateCoordinates=function(w,_){var b=_.internal.getHorizontalCoordinate,I=_.internal.getVerticalCoordinate,x=w[0],D=w[1],O=w[2],F=w[3],V={};return V.lowerLeft_X=b(x)||0,V.lowerLeft_Y=I(D+F)||0,V.upperRight_X=b(x+O)||0,V.upperRight_Y=I(D)||0,[Number(Ni(V.lowerLeft_X)),Number(Ni(V.lowerLeft_Y)),Number(Ni(V.upperRight_X)),Number(Ni(V.upperRight_Y))]},tu=function(w){if(w.appearanceStreamContent)return w.appearanceStreamContent;if(w.V||w.DV){var _=[],I=SC(w,w._V||w.DV),x=w.scope.internal.getFont(w.fontName,w.fontStyle).id;_.push("/Tx BMC"),_.push("q"),_.push("BT"),_.push(w.scope.__private__.encodeColorString(w.color)),_.push("/"+x+" "+Ni(I.fontSize)+" Tf"),_.push("1 0 0 1 0 0 Tm"),_.push(I.text),_.push("ET"),_.push("Q"),_.push("EMC");var D=Na(w);return D.scope=w.scope,D.stream=_.join("\n"),D}},SC=function(w,_){var b=0===w.fontSize?w.maxFontSize:w.fontSize,I={text:"",fontSize:""},x=(_=")"==(_="("==_.substr(0,1)?_.substr(1):_).substr(_.length-1)?_.substr(0,_.length-1):_).split(" ");x=x.map(w.multiline?function(ce){return ce.split("\n")}:function(ce){return[ce]});var D=b,O=$n.internal.getHeight(w)||0;O=O<0?-O:O;var ce,F=$n.internal.getWidth(w)||0;F=F<0?-F:F,D++;e:for(;D>0;){_="",D--;var j,J,ee=jv("3",w,D).height,se=w.multiline?O-D:(O-ee)/2,z=se+=2,ye=0,fe=0,be=0;if(D<=0){_="(...) Tj\n",_+="% Width of Text: "+jv(_,w,D=12).width+", FieldWidth:"+F+"\n";break}for(var le="",Ce=0,Le=0;Le<x.length;Le++)if(x.hasOwnProperty(Le)){var Ee=!1;if(1!==x[Le].length&&be!==x[Le].length-1){if((ee+2)*(Ce+2)+2>O)continue e;le+=x[Le][be],Ee=!0,fe=Le,Le--}else{le=" "==(le+=x[Le][be]+" ").substr(le.length-1)?le.substr(0,le.length-1):le;var qe=parseInt(Le),Ut=(ce=qe)+1<x.length&&jv(le+" "+x[ce+1][0],w,D).width<=F-4,ot=Le>=x.length-1;if(Ut&&!ot){le+=" ",be=0;continue}if(Ut||ot){if(ot)fe=qe;else if(w.multiline&&(ee+2)*(Ce+2)+2>O)continue e}else{if(!w.multiline||(ee+2)*(Ce+2)+2>O)continue e;fe=qe}}for(var Pe="",lt=ye;lt<=fe;lt++){var Lt=x[lt];if(w.multiline){if(lt===fe){Pe+=Lt[be]+" ",be=(be+1)%Lt.length;continue}if(lt===ye){Pe+=Lt[Lt.length-1]+" ";continue}}Pe+=Lt[0]+" "}switch(Pe=" "==Pe.substr(Pe.length-1)?Pe.substr(0,Pe.length-1):Pe,J=jv(Pe,w,D).width,w.textAlign){case"right":j=F-J-2;break;case"center":j=(F-J)/2;break;default:j=2}_+=Ni(j)+" "+Ni(z)+" Td\n",_+="("+zf(Pe)+") Tj\n",_+=-Ni(j)+" 0 Td\n",z=-(D+2),J=0,ye=Ee?fe:fe+1,Ce++,le=""}break}return I.text=_,I.fontSize=D,I},jv=function(w,_,b){var I=_.scope.internal.getFont(_.fontName,_.fontStyle),x=_.scope.getStringUnitWidth(w,{font:I,fontSize:parseFloat(b),charSpace:0})*parseFloat(b);return{height:_.scope.getStringUnitWidth("3",{font:I,fontSize:parseFloat(b),charSpace:0})*parseFloat(b)*1.5,width:x}},nu={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},hr=function(w,_){var b={type:"reference",object:w};void 0===_.internal.getPageInfo(w.page).pageContext.annotations.find(function(I){return I.type===b.type&&I.object===b.object})&&_.internal.getPageInfo(w.page).pageContext.annotations.push(b)},$v=ds.__acroform__.arrayToPdfArray=function(w,_,b){var I=function(O){return O};if(Array.isArray(w)){for(var x="[",D=0;D<w.length;D++)switch(0!==D&&(x+=" "),(0,h.A)(w[D])){case"boolean":case"number":case"object":x+=w[D].toString();break;case"string":"/"!==w[D].substr(0,1)?(void 0!==_&&b&&(I=b.internal.getEncryptor(_)),x+="("+zf(I(w[D].toString()))+")"):x+=w[D].toString()}return x+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$f=function(w,_,b){var I=function(x){return x};return void 0!==_&&b&&(I=b.internal.getEncryptor(_)),(w=w||"").toString(),"("+zf(I(w))+")"},nl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(w){this._objId=w}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};nl.prototype.toString=function(){return this.objId+" 0 R"},nl.prototype.putStream=function(){var w=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:w,objectId:this.objId}),this.scope.internal.out("endobj")},nl.prototype.getKeyValueListForStream=function(){var w=[],_=Object.getOwnPropertyNames(this).filter(function(D){return"content"!=D&&"appearanceStreamContent"!=D&&"scope"!=D&&"objId"!=D&&"_"!=D.substring(0,1)});for(var b in _)if(!1===Object.getOwnPropertyDescriptor(this,_[b]).configurable){var I=_[b],x=this[I];x&&(Array.isArray(x)?w.push({key:I,value:$v(x,this.objId,this.scope)}):x instanceof nl?(x.scope=this.scope,w.push({key:I,value:x.objId+" 0 R"})):"function"!=typeof x&&w.push({key:I,value:x}))}return w};var Id=function(){nl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var w,_=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return _},set:function(b){_=b}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(b){w=b.trim()},get:function(){return w||null}})};go(Id,nl);var Td=function(){nl.call(this);var w,_=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return _.length>0?_:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return _}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(w){var b=function(I){return I};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+zf(b(w))+")"}},set:function(b){w=b}})};go(Td,nl);var hc=function w(){nl.call(this);var _=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return _},set:function(le){if(isNaN(le))throw new Error('Invalid value "'+le+'" for attribute F supplied.');_=le}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!xs(_,3)},set:function(le){this.F=le?Ps(_,3):dr(_,3)}});var b=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return b},set:function(le){if(isNaN(le))throw new Error('Invalid value "'+le+'" for attribute Ff supplied.');b=le}});var I=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==I.length)return I},set:function(le){I=void 0!==le?le:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!I||isNaN(I[0])?0:I[0]},set:function(le){I[0]=le}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!I||isNaN(I[1])?0:I[1]},set:function(le){I[1]=le}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!I||isNaN(I[2])?0:I[2]},set:function(le){I[2]=le}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!I||isNaN(I[3])?0:I[3]},set:function(le){I[3]=le}});var x="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return x},set:function(le){switch(le){case"/Btn":case"/Tx":case"/Ch":case"/Sig":x=le;break;default:throw new Error('Invalid value "'+le+'" for attribute FT supplied.')}}});var D=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!D||D.length<1){if(this instanceof Rg)return;D="FieldObject"+w.FieldNum++}var le=function(Ce){return Ce};return this.scope&&(le=this.scope.internal.getEncryptor(this.objId)),"("+zf(le(D))+")"},set:function(le){D=le.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return D},set:function(le){D=le}});var O="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return O},set:function(le){O=le}});var F="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return F},set:function(le){F=le}});var V=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return V},set:function(le){V=le}});var j=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===j?50/Ag:j},set:function(le){j=le}});var J="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return J},set:function(le){J=le}});var ee="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!ee||this instanceof Rg||this instanceof Dd))return $f(ee,this.objId,this.scope)},set:function(le){le=le.toString(),ee=le}});var se=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(se)return this instanceof Ks?se:$f(se,this.objId,this.scope)},set:function(le){le=le.toString(),se=this instanceof Ks?le:"("===le.substr(0,1)?dc(le.substr(1,le.length-2)):dc(le)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ks?dc(se.substr(1,se.length-1)):se},set:function(le){le=le.toString(),se=this instanceof Ks?"/"+le:le}});var z=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(z)return z},set:function(le){this.V=le}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(z)return this instanceof Ks?z:$f(z,this.objId,this.scope)},set:function(le){le=le.toString(),z=this instanceof Ks?le:"("===le.substr(0,1)?dc(le.substr(1,le.length-2)):dc(le)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ks?dc(z.substr(1,z.length-1)):z},set:function(le){le=le.toString(),z=this instanceof Ks?"/"+le:le}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var ye,fe=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return fe},set:function(le){fe=le=!!le}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(ye)return ye},set:function(le){ye=le}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,1)},set:function(le){this.Ff=le?Ps(this.Ff,1):dr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,2)},set:function(le){this.Ff=le?Ps(this.Ff,2):dr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,3)},set:function(le){this.Ff=le?Ps(this.Ff,3):dr(this.Ff,3)}});var be=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==be)return be},set:function(le){if(-1===[0,1,2].indexOf(le))throw new Error('Invalid value "'+le+'" for attribute Q supplied.');be=le}}),Object.defineProperty(this,"textAlign",{get:function(){var le;switch(be){case 0:default:le="left";break;case 1:le="center";break;case 2:le="right"}return le},configurable:!0,enumerable:!0,set:function(le){switch(le){case"right":case 2:be=2;break;case"center":case 1:be=1;break;default:be=0}}})};go(hc,nl);var Hu=function(){hc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var w=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return w},set:function(b){w=b}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return w},set:function(b){w=b}});var _=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return $v(_,this.objId,this.scope)},set:function(b){var I,x;x=[],"string"==typeof(I=b)&&(x=function(D,O,F){F||(F=1);for(var V,j=[];V=O.exec(D);)j.push(V[F]);return j}(I,/\((.*?)\)/g)),_=x}}),this.getOptions=function(){return _},this.setOptions=function(b){_=b,this.sort&&_.sort()},this.addOption=function(b){b=(b=b||"").toString(),_.push(b),this.sort&&_.sort()},this.removeOption=function(b,I){for(I=I||!1,b=(b=b||"").toString();-1!==_.indexOf(b)&&(_.splice(_.indexOf(b),1),!1!==I););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,18)},set:function(b){this.Ff=b?Ps(this.Ff,18):dr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,19)},set:function(b){!0===this.combo&&(this.Ff=b?Ps(this.Ff,19):dr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,20)},set:function(b){b?(this.Ff=Ps(this.Ff,20),_.sort()):this.Ff=dr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,22)},set:function(b){this.Ff=b?Ps(this.Ff,22):dr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,23)},set:function(b){this.Ff=b?Ps(this.Ff,23):dr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,27)},set:function(b){this.Ff=b?Ps(this.Ff,27):dr(this.Ff,27)}}),this.hasAppearanceStream=!1};go(Hu,hc);var Ad=function(){Hu.call(this),this.fontName="helvetica",this.combo=!1};go(Ad,Hu);var Ah=function(){Ad.call(this),this.combo=!0};go(Ah,Ad);var Rd=function(){Ah.call(this),this.edit=!0};go(Rd,Ah);var Ks=function(){hc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,15)},set:function(b){this.Ff=b?Ps(this.Ff,15):dr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,16)},set:function(b){this.Ff=b?Ps(this.Ff,16):dr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,17)},set:function(b){this.Ff=b?Ps(this.Ff,17):dr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,26)},set:function(b){this.Ff=b?Ps(this.Ff,26):dr(this.Ff,26)}});var w,_={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var b=function(D){return D};if(this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(_).length){var I,x=[];for(I in x.push("<<"),_)x.push("/"+I+" ("+zf(b(_[I]))+")");return x.push(">>"),x.join("\n")}},set:function(b){"object"===(0,h.A)(b)&&(_=b)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return _.CA||""},set:function(b){"string"==typeof b&&(_.CA=b)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return w},set:function(b){w=b}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return w.substr(1,w.length-1)},set:function(b){w="/"+b}})};go(Ks,hc);var qf=function(){Ks.call(this),this.pushButton=!0};go(qf,Ks);var Rh=function(){Ks.call(this),this.radio=!0,this.pushButton=!1;var w=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return w},set:function(_){w=void 0!==_?_:[]}})};go(Rh,Ks);var Rg=function(){var w,_;hc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return w},set:function(x){w=x}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return _},set:function(x){_=x}});var b,I={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var x=function(F){return F};this.scope&&(x=this.scope.internal.getEncryptor(this.objId));var D,O=[];for(D in O.push("<<"),I)O.push("/"+D+" ("+zf(x(I[D]))+")");return O.push(">>"),O.join("\n")},set:function(x){"object"===(0,h.A)(x)&&(I=x)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return I.CA||""},set:function(x){"string"==typeof x&&(I.CA=x)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return b},set:function(x){b=x}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return b.substr(1,b.length-1)},set:function(x){b="/"+x}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$n.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};go(Rg,hc),Rh.prototype.setAppearance=function(w){if(!("createAppearanceStream"in w)||!("getCA"in w))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var _ in this.Kids)if(this.Kids.hasOwnProperty(_)){var b=this.Kids[_];b.appearanceStreamContent=w.createAppearanceStream(b.optionName),b.caption=w.getCA()}},Rh.prototype.createOption=function(w){var _=new Rg;return _.Parent=this,_.optionName=w,this.Kids.push(_),VA.call(this.scope,_),_};var qv=function(){Ks.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$n.CheckBox.createAppearanceStream()};go(qv,Ks);var Dd=function(){hc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,13)},set:function(_){this.Ff=_?Ps(this.Ff,13):dr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,21)},set:function(_){this.Ff=_?Ps(this.Ff,21):dr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,23)},set:function(_){this.Ff=_?Ps(this.Ff,23):dr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,24)},set:function(_){this.Ff=_?Ps(this.Ff,24):dr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,25)},set:function(_){this.Ff=_?Ps(this.Ff,25):dr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,26)},set:function(_){this.Ff=_?Ps(this.Ff,26):dr(this.Ff,26)}});var w=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return w},set:function(_){w=_}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return w},set:function(_){Number.isInteger(_)&&(w=_)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};go(Dd,hc);var va=function(){Dd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,14)},set:function(w){this.Ff=w?Ps(this.Ff,14):dr(this.Ff,14)}}),this.password=!0};go(va,Dd);var $n={CheckBox:{createAppearanceStream:function(){return{N:{On:$n.CheckBox.YesNormal},D:{On:$n.CheckBox.YesPushDown,Off:$n.CheckBox.OffPushDown}}},YesPushDown:function(w){var _=Na(w);_.scope=w.scope;var b=[],I=w.scope.internal.getFont(w.fontName,w.fontStyle).id,x=w.scope.__private__.encodeColorString(w.color),D=SC(w,w.caption);return b.push("0.749023 g"),b.push("0 0 "+Ni($n.internal.getWidth(w))+" "+Ni($n.internal.getHeight(w))+" re"),b.push("f"),b.push("BMC"),b.push("q"),b.push("0 0 1 rg"),b.push("/"+I+" "+Ni(D.fontSize)+" Tf "+x),b.push("BT"),b.push(D.text),b.push("ET"),b.push("Q"),b.push("EMC"),_.stream=b.join("\n"),_},YesNormal:function(w){var _=Na(w);_.scope=w.scope;var b=w.scope.internal.getFont(w.fontName,w.fontStyle).id,I=w.scope.__private__.encodeColorString(w.color),x=[],D=$n.internal.getHeight(w),O=$n.internal.getWidth(w),F=SC(w,w.caption);return x.push("1 g"),x.push("0 0 "+Ni(O)+" "+Ni(D)+" re"),x.push("f"),x.push("q"),x.push("0 0 1 rg"),x.push("0 0 "+Ni(O-1)+" "+Ni(D-1)+" re"),x.push("W"),x.push("n"),x.push("0 g"),x.push("BT"),x.push("/"+b+" "+Ni(F.fontSize)+" Tf "+I),x.push(F.text),x.push("ET"),x.push("Q"),_.stream=x.join("\n"),_},OffPushDown:function(w){var _=Na(w);_.scope=w.scope;var b=[];return b.push("0.749023 g"),b.push("0 0 "+Ni($n.internal.getWidth(w))+" "+Ni($n.internal.getHeight(w))+" re"),b.push("f"),_.stream=b.join("\n"),_}},RadioButton:{Circle:{createAppearanceStream:function(w){var _={D:{Off:$n.RadioButton.Circle.OffPushDown},N:{}};return _.N[w]=$n.RadioButton.Circle.YesNormal,_.D[w]=$n.RadioButton.Circle.YesPushDown,_},getCA:function(){return"l"},YesNormal:function(w){var _=Na(w);_.scope=w.scope;var b=[],I=$n.internal.getWidth(w)<=$n.internal.getHeight(w)?$n.internal.getWidth(w)/4:$n.internal.getHeight(w)/4;I=Number((.9*I).toFixed(5));var D=Number((I*$n.internal.Bezier_C).toFixed(5));return b.push("q"),b.push("1 0 0 1 "+qs($n.internal.getWidth(w)/2)+" "+qs($n.internal.getHeight(w)/2)+" cm"),b.push(I+" 0 m"),b.push(I+" "+D+" "+D+" "+I+" 0 "+I+" c"),b.push("-"+D+" "+I+" -"+I+" "+D+" -"+I+" 0 c"),b.push("-"+I+" -"+D+" -"+D+" -"+I+" 0 -"+I+" c"),b.push(D+" -"+I+" "+I+" -"+D+" "+I+" 0 c"),b.push("f"),b.push("Q"),_.stream=b.join("\n"),_},YesPushDown:function(w){var _=Na(w);_.scope=w.scope;var b=[],I=$n.internal.getWidth(w)<=$n.internal.getHeight(w)?$n.internal.getWidth(w)/4:$n.internal.getHeight(w)/4;I=Number((.9*I).toFixed(5));var x=Number((2*I).toFixed(5)),D=Number((x*$n.internal.Bezier_C).toFixed(5)),O=Number((I*$n.internal.Bezier_C).toFixed(5));return b.push("0.749023 g"),b.push("q"),b.push("1 0 0 1 "+qs($n.internal.getWidth(w)/2)+" "+qs($n.internal.getHeight(w)/2)+" cm"),b.push(x+" 0 m"),b.push(x+" "+D+" "+D+" "+x+" 0 "+x+" c"),b.push("-"+D+" "+x+" -"+x+" "+D+" -"+x+" 0 c"),b.push("-"+x+" -"+D+" -"+D+" -"+x+" 0 -"+x+" c"),b.push(D+" -"+x+" "+x+" -"+D+" "+x+" 0 c"),b.push("f"),b.push("Q"),b.push("0 g"),b.push("q"),b.push("1 0 0 1 "+qs($n.internal.getWidth(w)/2)+" "+qs($n.internal.getHeight(w)/2)+" cm"),b.push(I+" 0 m"),b.push(I+" "+O+" "+O+" "+I+" 0 "+I+" c"),b.push("-"+O+" "+I+" -"+I+" "+O+" -"+I+" 0 c"),b.push("-"+I+" -"+O+" -"+O+" -"+I+" 0 -"+I+" c"),b.push(O+" -"+I+" "+I+" -"+O+" "+I+" 0 c"),b.push("f"),b.push("Q"),_.stream=b.join("\n"),_},OffPushDown:function(w){var _=Na(w);_.scope=w.scope;var b=[],I=$n.internal.getWidth(w)<=$n.internal.getHeight(w)?$n.internal.getWidth(w)/4:$n.internal.getHeight(w)/4;I=Number((.9*I).toFixed(5));var x=Number((2*I).toFixed(5)),D=Number((x*$n.internal.Bezier_C).toFixed(5));return b.push("0.749023 g"),b.push("q"),b.push("1 0 0 1 "+qs($n.internal.getWidth(w)/2)+" "+qs($n.internal.getHeight(w)/2)+" cm"),b.push(x+" 0 m"),b.push(x+" "+D+" "+D+" "+x+" 0 "+x+" c"),b.push("-"+D+" "+x+" -"+x+" "+D+" -"+x+" 0 c"),b.push("-"+x+" -"+D+" -"+D+" -"+x+" 0 -"+x+" c"),b.push(D+" -"+x+" "+x+" -"+D+" "+x+" 0 c"),b.push("f"),b.push("Q"),_.stream=b.join("\n"),_}},Cross:{createAppearanceStream:function(w){var _={D:{Off:$n.RadioButton.Cross.OffPushDown},N:{}};return _.N[w]=$n.RadioButton.Cross.YesNormal,_.D[w]=$n.RadioButton.Cross.YesPushDown,_},getCA:function(){return"8"},YesNormal:function(w){var _=Na(w);_.scope=w.scope;var b=[],I=$n.internal.calculateCross(w);return b.push("q"),b.push("1 1 "+Ni($n.internal.getWidth(w)-2)+" "+Ni($n.internal.getHeight(w)-2)+" re"),b.push("W"),b.push("n"),b.push(Ni(I.x1.x)+" "+Ni(I.x1.y)+" m"),b.push(Ni(I.x2.x)+" "+Ni(I.x2.y)+" l"),b.push(Ni(I.x4.x)+" "+Ni(I.x4.y)+" m"),b.push(Ni(I.x3.x)+" "+Ni(I.x3.y)+" l"),b.push("s"),b.push("Q"),_.stream=b.join("\n"),_},YesPushDown:function(w){var _=Na(w);_.scope=w.scope;var b=$n.internal.calculateCross(w),I=[];return I.push("0.749023 g"),I.push("0 0 "+Ni($n.internal.getWidth(w))+" "+Ni($n.internal.getHeight(w))+" re"),I.push("f"),I.push("q"),I.push("1 1 "+Ni($n.internal.getWidth(w)-2)+" "+Ni($n.internal.getHeight(w)-2)+" re"),I.push("W"),I.push("n"),I.push(Ni(b.x1.x)+" "+Ni(b.x1.y)+" m"),I.push(Ni(b.x2.x)+" "+Ni(b.x2.y)+" l"),I.push(Ni(b.x4.x)+" "+Ni(b.x4.y)+" m"),I.push(Ni(b.x3.x)+" "+Ni(b.x3.y)+" l"),I.push("s"),I.push("Q"),_.stream=I.join("\n"),_},OffPushDown:function(w){var _=Na(w);_.scope=w.scope;var b=[];return b.push("0.749023 g"),b.push("0 0 "+Ni($n.internal.getWidth(w))+" "+Ni($n.internal.getHeight(w))+" re"),b.push("f"),_.stream=b.join("\n"),_}}},createDefaultAppearanceStream:function(w){var _=w.scope.internal.getFont(w.fontName,w.fontStyle).id,b=w.scope.__private__.encodeColorString(w.color);return"/"+_+" "+w.fontSize+" Tf "+b}};$n.internal={Bezier_C:.551915024494,calculateCross:function(w){var _=$n.internal.getWidth(w),b=$n.internal.getHeight(w),I=Math.min(_,b);return{x1:{x:(_-I)/2,y:(b-I)/2+I},x2:{x:(_-I)/2+I,y:(b-I)/2},x3:{x:(_-I)/2,y:(b-I)/2},x4:{x:(_-I)/2+I,y:(b-I)/2+I}}}},$n.internal.getWidth=function(w){var _=0;return"object"===(0,h.A)(w)&&(_=uS(w.Rect[2])),_},$n.internal.getHeight=function(w){var _=0;return"object"===(0,h.A)(w)&&(_=uS(w.Rect[3])),_};var VA=ds.addField=function(w){if(function(w,_){if(_.scope=w,void 0!==w.internal&&(void 0===w.internal.acroformPlugin||!1===w.internal.acroformPlugin.isInitialized)){if(hc.FieldNum=0,w.internal.acroformPlugin=JSON.parse(JSON.stringify(nu)),w.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ag=w.internal.scaleFactor,w.internal.acroformPlugin.acroFormDictionaryRoot=new Td,w.internal.acroformPlugin.acroFormDictionaryRoot.scope=w,w.internal.acroformPlugin.acroFormDictionaryRoot._eventID=w.internal.events.subscribe("postPutResources",function(){var b;(b=w).internal.events.unsubscribe(b.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete b.internal.acroformPlugin.acroFormDictionaryRoot._eventID,b.internal.acroformPlugin.printedOut=!0}),w.internal.events.subscribe("buildDocument",function(){!function(b){b.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var I=b.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var x in I)if(I.hasOwnProperty(x)){var D=I[x];D.objId=void 0,D.hasAnnotation&&hr(D,b)}}(w)}),w.internal.events.subscribe("putCatalog",function(){!function(b){if(void 0===b.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");b.internal.write("/AcroForm "+b.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(w)}),w.internal.events.subscribe("postPutPages",function(b){!function(I,x){var D=!I;for(var O in I||(x.internal.newObjectDeferredBegin(x.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),x.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),I=I||x.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(I.hasOwnProperty(O)){var F=I[O],V=[],j=F.Rect;if(F.Rect&&(F.Rect=EC(F.Rect,x)),x.internal.newObjectDeferredBegin(F.objId,!0),F.DA=$n.createDefaultAppearanceStream(F),"object"===(0,h.A)(F)&&"function"==typeof F.getKeyValueListForStream&&(V=F.getKeyValueListForStream()),F.Rect=j,F.hasAppearanceStream&&!F.appearanceStreamContent){var J=tu(F);V.push({key:"AP",value:"<</N "+J+">>"}),x.internal.acroformPlugin.xForms.push(J)}if(F.appearanceStreamContent){var ee="";for(var se in F.appearanceStreamContent)if(F.appearanceStreamContent.hasOwnProperty(se)){var z=F.appearanceStreamContent[se];if(ee+="/"+se+" ",ee+="<<",Object.keys(z).length>=1||Array.isArray(z)){for(var O in z)if(z.hasOwnProperty(O)){var ye=z[O];"function"==typeof ye&&(ye=ye.call(x,F)),ee+="/"+O+" "+ye+" ",x.internal.acroformPlugin.xForms.indexOf(ye)>=0||x.internal.acroformPlugin.xForms.push(ye)}}else"function"==typeof(ye=z)&&(ye=ye.call(x,F)),ee+="/"+O+" "+ye,x.internal.acroformPlugin.xForms.indexOf(ye)>=0||x.internal.acroformPlugin.xForms.push(ye);ee+=">>"}V.push({key:"AP",value:"<<\n"+ee+">>"})}x.internal.putStream({additionalKeyValues:V,objectId:F.objId}),x.internal.out("endobj")}D&&function(w,_){for(var b in w)if(w.hasOwnProperty(b)){var I=b,x=w[b];_.internal.newObjectDeferredBegin(x.objId,!0),"object"===(0,h.A)(x)&&"function"==typeof x.putStream&&x.putStream(),delete w[I]}}(x.internal.acroformPlugin.xForms,x)}(b,w)}),w.internal.acroformPlugin.isInitialized=!0}}(this,w),!(w instanceof hc))throw new Error("Invalid argument passed to jsPDF.addField.");var _;return(_=w).scope.internal.acroformPlugin.printedOut&&(_.scope.internal.acroformPlugin.printedOut=!1,_.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),_.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(_),w.page=w.scope.internal.getCurrentPageInfo().pageNumber,this};ds.AcroFormChoiceField=Hu,ds.AcroFormListBox=Ad,ds.AcroFormComboBox=Ah,ds.AcroFormEditBox=Rd,ds.AcroFormButton=Ks,ds.AcroFormPushButton=qf,ds.AcroFormRadioButton=Rh,ds.AcroFormCheckBox=qv,ds.AcroFormTextField=Dd,ds.AcroFormPasswordField=va,ds.AcroFormAppearance=$n,ds.AcroForm={ChoiceField:Hu,ListBox:Ad,ComboBox:Ah,EditBox:Rd,Button:Ks,PushButton:qf,RadioButton:Rh,CheckBox:qv,TextField:Dd,PasswordField:va,Appearance:$n};var w,_,hS=ni.AcroForm={ChoiceField:Hu,ListBox:Ad,ComboBox:Ah,EditBox:Rd,Button:Ks,PushButton:qf,RadioButton:Rh,CheckBox:qv,TextField:Dd,PasswordField:va,Appearance:$n};function fS(w){return w.reduce(function(_,b,I){return _[b]=I,_},{})}(function(w){w.__addimage__={};var _="UNKNOWN",b={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},I=w.__addimage__.getImageFileTypeByImageData=function(ce,he){var Ve,_e,Tt,wt,Pt,nt=_;if("RGBA"===(he=he||_)||void 0!==ce.data&&ce.data instanceof Uint8ClampedArray&&"height"in ce&&"width"in ce)return"RGBA";if(Ut(ce))for(Pt in b)for(Tt=b[Pt],Ve=0;Ve<Tt.length;Ve+=1){for(wt=!0,_e=0;_e<Tt[Ve].length;_e+=1)if(void 0!==Tt[Ve][_e]&&Tt[Ve][_e]!==ce[_e]){wt=!1;break}if(!0===wt){nt=Pt;break}}else for(Pt in b)for(Tt=b[Pt],Ve=0;Ve<Tt.length;Ve+=1){for(wt=!0,_e=0;_e<Tt[Ve].length;_e+=1)if(void 0!==Tt[Ve][_e]&&Tt[Ve][_e]!==ce.charCodeAt(_e)){wt=!1;break}if(!0===wt){nt=Pt;break}}return nt===_&&he!==_&&(nt=he),nt},x=function ce(he){for(var Ve=this.internal.write,_e=this.internal.putStream,Tt=(0,this.internal.getFilters)();-1!==Tt.indexOf("FlateEncode");)Tt.splice(Tt.indexOf("FlateEncode"),1);he.objectId=this.internal.newObject();var wt=[];if(wt.push({key:"Type",value:"/XObject"}),wt.push({key:"Subtype",value:"/Image"}),wt.push({key:"Width",value:he.width}),wt.push({key:"Height",value:he.height}),he.colorSpace===be.INDEXED?wt.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(he.palette.length/3-1)+" "+("sMask"in he&&void 0!==he.sMask?he.objectId+2:he.objectId+1)+" 0 R]"}):(wt.push({key:"ColorSpace",value:"/"+he.colorSpace}),he.colorSpace===be.DEVICE_CMYK&&wt.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),wt.push({key:"BitsPerComponent",value:he.bitsPerComponent}),"decodeParameters"in he&&void 0!==he.decodeParameters&&wt.push({key:"DecodeParms",value:"<<"+he.decodeParameters+">>"}),"transparency"in he&&Array.isArray(he.transparency)){for(var Pt="",nt=0,Vt=he.transparency.length;nt<Vt;nt++)Pt+=he.transparency[nt]+" "+he.transparency[nt]+" ";wt.push({key:"Mask",value:"["+Pt+"]"})}if(void 0!==he.sMask&&wt.push({key:"SMask",value:he.objectId+1+" 0 R"}),_e({data:he.data,additionalKeyValues:wt,alreadyAppliedFilters:void 0!==he.filter?["/"+he.filter]:void 0,objectId:he.objectId}),Ve("endobj"),"sMask"in he&&void 0!==he.sMask){var ie={width:he.width,height:he.height,colorSpace:"DeviceGray",bitsPerComponent:he.bitsPerComponent,decodeParameters:"/Predictor "+he.predictor+" /Colors 1 /BitsPerComponent "+he.bitsPerComponent+" /Columns "+he.width,data:he.sMask};"filter"in he&&(ie.filter=he.filter),ce.call(this,ie)}if(he.colorSpace===be.INDEXED){var we=this.internal.newObject();_e({data:Pe(new Uint8Array(he.palette)),objectId:we}),Ve("endobj")}},D=function(){var ce=this.internal.collections.addImage_images;for(var he in ce)x.call(this,ce[he])},O=function(){var ce,he=this.internal.collections.addImage_images,Ve=this.internal.write;for(var _e in he)Ve("/I"+(ce=he[_e]).index,ce.objectId,"0","R")},F=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",D),this.internal.events.subscribe("putXobjectDict",O))},V=function(){var ce=this.internal.collections.addImage_images;return F.call(this),ce},j=function(){return Object.keys(this.internal.collections.addImage_images).length},J=function(ce){return"function"==typeof w["process"+ce.toUpperCase()]},ee=function(ce){return"object"===(0,h.A)(ce)&&1===ce.nodeType},se=function(ce,he){if("IMG"===ce.nodeName&&ce.hasAttribute("src")){var Ve=""+ce.getAttribute("src");if(0===Ve.indexOf("data:image/"))return Eh(unescape(Ve).split("base64,").pop());var _e=w.loadFile(Ve,!0);if(void 0!==_e)return _e}if("CANVAS"===ce.nodeName){if(0===ce.width||0===ce.height)throw new Error("Given canvas must have data. Canvas width: "+ce.width+", height: "+ce.height);var Tt;switch(he){case"PNG":Tt="image/png";break;case"WEBP":Tt="image/webp";break;default:Tt="image/jpeg"}return Eh(ce.toDataURL(Tt,1).split("base64,").pop())}},z=function(ce){var he=this.internal.collections.addImage_images;if(he)for(var Ve in he)if(ce===he[Ve].alias)return he[Ve]},ye=function(ce,he,Ve){return ce||he||(ce=-96,he=-96),ce<0&&(ce=-1*Ve.width*72/ce/this.internal.scaleFactor),he<0&&(he=-1*Ve.height*72/he/this.internal.scaleFactor),0===ce&&(ce=he*Ve.width/Ve.height),0===he&&(he=ce*Ve.height/Ve.width),[ce,he]},fe=function(ce,he,Ve,_e,Tt,wt){var Pt=ye.call(this,Ve,_e,Tt),nt=this.internal.getCoordinateString,Vt=this.internal.getVerticalCoordinateString,jt=V.call(this);if(Ve=Pt[0],_e=Pt[1],jt[Tt.index]=Tt,wt){wt*=Math.PI/180;var Sn=Math.cos(wt),ie=Math.sin(wt),we=function(Ge){return Ge.toFixed(4)},Re=[we(Sn),we(ie),we(-1*ie),we(Sn),0,0,"cm"]}this.internal.write("q"),wt?(this.internal.write([1,"0","0",1,nt(ce),Vt(he+_e),"cm"].join(" ")),this.internal.write(Re.join(" ")),this.internal.write([nt(Ve),"0","0",nt(_e),"0","0","cm"].join(" "))):this.internal.write([nt(Ve),"0","0",nt(_e),nt(ce),Vt(he+_e),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Tt.index+" Do"),this.internal.write("Q")},be=w.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};w.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var le=w.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Ce=w.__addimage__.sHashCode=function(ce){var he,Ve,_e=0;if("string"==typeof ce)for(Ve=ce.length,he=0;he<Ve;he++)_e=(_e<<5)-_e+ce.charCodeAt(he),_e|=0;else if(Ut(ce))for(Ve=ce.byteLength/2,he=0;he<Ve;he++)_e=(_e<<5)-_e+ce[he],_e|=0;return _e},Le=w.__addimage__.validateStringAsBase64=function(ce){(ce=ce||"").toString().trim();var he=!0;return 0===ce.length&&(he=!1),ce.length%4!=0&&(he=!1),!1===/^[A-Za-z0-9+/]+$/.test(ce.substr(0,ce.length-2))&&(he=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(ce.substr(-2))&&(he=!1),he},Ee=w.__addimage__.extractImageFromDataUrl=function(ce){var he=(ce=ce||"").split("base64,"),Ve=null;if(2===he.length){var _e=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(he[0]);Array.isArray(_e)&&(Ve={mimeType:_e[1],charset:_e[2],data:he[1]})}return Ve},qe=w.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};w.__addimage__.isArrayBuffer=function(ce){return qe()&&ce instanceof ArrayBuffer};var Ut=w.__addimage__.isArrayBufferView=function(ce){return qe()&&typeof Uint32Array<"u"&&(ce instanceof Int8Array||ce instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&ce instanceof Uint8ClampedArray||ce instanceof Int16Array||ce instanceof Uint16Array||ce instanceof Int32Array||ce instanceof Uint32Array||ce instanceof Float32Array||ce instanceof Float64Array)},ot=w.__addimage__.binaryStringToUint8Array=function(ce){for(var he=ce.length,Ve=new Uint8Array(he),_e=0;_e<he;_e++)Ve[_e]=ce.charCodeAt(_e);return Ve},Pe=w.__addimage__.arrayBufferToBinaryString=function(ce){for(var he="",Ve=Ut(ce)?ce:new Uint8Array(ce),_e=0;_e<Ve.length;_e+=8192)he+=String.fromCharCode.apply(null,Ve.subarray(_e,_e+8192));return he};w.addImage=function(){var ce,he,Ve,_e,Tt,wt,Pt,nt,Vt;if("number"==typeof arguments[1]?(he=_,Ve=arguments[1],_e=arguments[2],Tt=arguments[3],wt=arguments[4],Pt=arguments[5],nt=arguments[6],Vt=arguments[7]):(he=arguments[1],Ve=arguments[2],_e=arguments[3],Tt=arguments[4],wt=arguments[5],Pt=arguments[6],nt=arguments[7],Vt=arguments[8]),"object"===(0,h.A)(ce=arguments[0])&&!ee(ce)&&"imageData"in ce){var jt=ce;ce=jt.imageData,he=jt.format||he||_,Ve=jt.x||Ve||0,_e=jt.y||_e||0,Tt=jt.w||jt.width||Tt,wt=jt.h||jt.height||wt,Pt=jt.alias||Pt,nt=jt.compression||nt,Vt=jt.rotation||jt.angle||Vt}var Sn=this.internal.getFilters();if(void 0===nt&&-1!==Sn.indexOf("FlateEncode")&&(nt="SLOW"),isNaN(Ve)||isNaN(_e))throw new Error("Invalid coordinates passed to jsPDF.addImage");F.call(this);var ie=lt.call(this,ce,he,Pt,nt);return fe.call(this,Ve,_e,Tt,wt,ie,Vt),this};var lt=function(ce,he,Ve,_e){var Tt,wt,Pt,Vt;if("string"==typeof ce&&I(ce)===_){ce=unescape(ce);var nt=Lt(ce,!1);(""!==nt||void 0!==(nt=w.loadFile(ce,!0)))&&(ce=nt)}if(ee(ce)&&(ce=se(ce,he)),he=I(ce,he),!J(he))throw new Error("addImage does not support files of type '"+he+"', please ensure that a plugin for '"+he+"' support is added.");if((null==(Pt=Ve)||0===Pt.length)&&(Ve="string"==typeof(Vt=ce)||Ut(Vt)?Ce(Vt):Ut(Vt.data)?Ce(Vt.data):null),(Tt=z.call(this,Ve))||(qe()&&(ce instanceof Uint8Array||"RGBA"===he||(wt=ce,ce=ot(ce))),Tt=this["process"+he.toUpperCase()](ce,j.call(this),Ve,function(Vt){return Vt&&"string"==typeof Vt&&(Vt=Vt.toUpperCase()),Vt in w.image_compression?Vt:le.NONE}(_e),wt)),!Tt)throw new Error("An unknown error occurred whilst processing the image.");return Tt},Lt=w.__addimage__.convertBase64ToBinaryString=function(ce,he){var Ve;he="boolean"!=typeof he||he;var _e,Tt="";if("string"==typeof ce){_e=null!==(Ve=Ee(ce))?Ve.data:ce;try{Tt=Eh(_e)}catch(wt){if(he)throw Le(_e)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+wt.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Tt};w.getImageProperties=function(ce){var he,Ve,_e="";if(ee(ce)&&(ce=se(ce)),"string"==typeof ce&&I(ce)===_&&(""===(_e=Lt(ce,!1))&&(_e=w.loadFile(ce)||""),ce=_e),Ve=I(ce),!J(Ve))throw new Error("addImage does not support files of type '"+Ve+"', please ensure that a plugin for '"+Ve+"' support is added.");if(!qe()||ce instanceof Uint8Array||(ce=ot(ce)),!(he=this["process"+Ve.toUpperCase()](ce)))throw new Error("An unknown error occurred whilst processing the image");return he.fileType=Ve,he}})(ni.API),
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
w=ni.API,_=function(b){if(void 0!==b&&""!=b)return!0},ni.API.events.push(["addPage",function(b){this.internal.getPageInfo(b.pageNumber).pageContext.annotations=[]}]),w.events.push(["putPage",function(b){for(var I,x,D,O=this.internal.getCoordinateString,F=this.internal.getVerticalCoordinateString,V=this.internal.getPageInfoByObjId(b.objId),j=b.pageContext.annotations,J=!1,ee=0;ee<j.length&&!J;ee++)switch((I=j[ee]).type){case"link":(_(I.options.url)||_(I.options.pageNumber))&&(J=!0);break;case"reference":case"text":case"freetext":J=!0}if(0!=J){this.internal.write("/Annots [");for(var se=0;se<j.length;se++){I=j[se];var z=this.internal.pdfEscape,ye=this.internal.getEncryptor(b.objId);switch(I.type){case"reference":this.internal.write(" "+I.object.objId+" 0 R ");break;case"text":var fe=this.internal.newAdditionalObject(),be=this.internal.newAdditionalObject(),le=this.internal.getEncryptor(fe.objId),Ce=I.title||"Note";D="<</Type /Annot /Subtype /Text "+(x="/Rect ["+O(I.bounds.x)+" "+F(I.bounds.y+I.bounds.h)+" "+O(I.bounds.x+I.bounds.w)+" "+F(I.bounds.y)+"] ")+"/Contents ("+z(le(I.contents))+")",D+=" /Popup "+be.objId+" 0 R",D+=" /P "+V.objId+" 0 R",D+=" /T ("+z(le(Ce))+") >>",fe.content=D;var Le=fe.objId+" 0 R";D="<</Type /Annot /Subtype /Popup "+(x="/Rect ["+O(I.bounds.x+30)+" "+F(I.bounds.y+I.bounds.h)+" "+O(I.bounds.x+I.bounds.w+30)+" "+F(I.bounds.y)+"] ")+" /Parent "+Le,I.open&&(D+=" /Open true"),be.content=D+=" >>",this.internal.write(fe.objId,"0 R",be.objId,"0 R");break;case"freetext":x="/Rect ["+O(I.bounds.x)+" "+F(I.bounds.y)+" "+O(I.bounds.x+I.bounds.w)+" "+F(I.bounds.y+I.bounds.h)+"] ";var Ee=I.color||"#000000";D="<</Type /Annot /Subtype /FreeText "+x+"/Contents ("+z(ye(I.contents))+")",D+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Ee+")",D+=" /Border [0 0 0]",this.internal.write(D+=" >>");break;case"link":if(I.options.name){var qe=this.annotations._nameMap[I.options.name];I.options.pageNumber=qe.page,I.options.top=qe.y}else I.options.top||(I.options.top=0);if(x="/Rect ["+I.finalBounds.x+" "+I.finalBounds.y+" "+I.finalBounds.w+" "+I.finalBounds.h+"] ",D="",I.options.url)D="<</Type /Annot /Subtype /Link "+x+"/Border [0 0 0] /A <</S /URI /URI ("+z(ye(I.options.url))+") >>";else if(I.options.pageNumber)switch(D="<</Type /Annot /Subtype /Link "+x+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(I.options.pageNumber).objId+" 0 R",I.options.magFactor=I.options.magFactor||"XYZ",I.options.magFactor){case"Fit":D+=" /Fit]";break;case"FitH":D+=" /FitH "+I.options.top+"]";break;case"FitV":I.options.left=I.options.left||0,D+=" /FitV "+I.options.left+"]";break;default:var Ut=F(I.options.top);I.options.left=I.options.left||0,void 0===I.options.zoom&&(I.options.zoom=0),D+=" /XYZ "+I.options.left+" "+Ut+" "+I.options.zoom+"]"}""!=D&&this.internal.write(D+=" >>")}}this.internal.write("]")}}]),w.createAnnotation=function(b){var I=this.internal.getCurrentPageInfo();switch(b.type){case"link":this.link(b.bounds.x,b.bounds.y,b.bounds.w,b.bounds.h,b);break;case"text":case"freetext":I.pageContext.annotations.push(b)}},w.link=function(b,I,x,D,O){var F=this.internal.getCurrentPageInfo(),V=this.internal.getCoordinateString,j=this.internal.getVerticalCoordinateString;F.pageContext.annotations.push({finalBounds:{x:V(b),y:j(I),w:V(b+x),h:j(I+D)},options:O,type:"link"})},w.textWithLink=function(b,I,x,D){var O,F,V=this.getTextWidth(b),j=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==D.maxWidth){var J=this.splitTextToSize(b,F=D.maxWidth).length;O=Math.ceil(j*J)}else F=V,O=j;return this.text(b,I,x,D),"center"===D.align&&(I-=V/2),"right"===D.align&&(I-=V),this.link(I,(x+=.2*j)-j,F,O,D),V},w.getTextWidth=function(b){var I=this.internal.getFontSize();return this.getStringUnitWidth(b)*I/this.internal.scaleFactor},
/**
         * @license
         * Copyright (c) 2017 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(w){var _={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},b={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},I={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},x=[1570,1571,1573,1575];w.__arabicParser__={};var D=w.__arabicParser__.isInArabicSubstitutionA=function(fe){return void 0!==_[fe.charCodeAt(0)]},O=w.__arabicParser__.isArabicLetter=function(fe){return"string"==typeof fe&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(fe)},F=w.__arabicParser__.isArabicEndLetter=function(fe){return O(fe)&&D(fe)&&_[fe.charCodeAt(0)].length<=2},V=w.__arabicParser__.isArabicAlfLetter=function(fe){return O(fe)&&x.indexOf(fe.charCodeAt(0))>=0};w.__arabicParser__.arabicLetterHasIsolatedForm=function(fe){return O(fe)&&D(fe)&&_[fe.charCodeAt(0)].length>=1};var j=w.__arabicParser__.arabicLetterHasFinalForm=function(fe){return O(fe)&&D(fe)&&_[fe.charCodeAt(0)].length>=2};w.__arabicParser__.arabicLetterHasInitialForm=function(fe){return O(fe)&&D(fe)&&_[fe.charCodeAt(0)].length>=3};var J=w.__arabicParser__.arabicLetterHasMedialForm=function(fe){return O(fe)&&D(fe)&&4==_[fe.charCodeAt(0)].length},ee=w.__arabicParser__.resolveLigatures=function(fe){var be=0,le=b,Ce="",Le=0;for(be=0;be<fe.length;be+=1)void 0!==le[fe.charCodeAt(be)]?(Le++,"number"==typeof(le=le[fe.charCodeAt(be)])&&(Ce+=String.fromCharCode(le),le=b,Le=0),be===fe.length-1&&(le=b,Ce+=fe.charAt(be-(Le-1)),be-=Le-1,Le=0)):(le=b,Ce+=fe.charAt(be-Le),be-=Le,Le=0);return Ce};w.__arabicParser__.isArabicDiacritic=function(fe){return void 0!==fe&&void 0!==I[fe.charCodeAt(0)]};var se=w.__arabicParser__.getCorrectForm=function(fe,be,le){return O(fe)?!1===D(fe)?-1:!j(fe)||!O(be)&&!O(le)||!O(le)&&F(be)||F(fe)&&!O(be)||F(fe)&&V(be)||F(fe)&&F(be)?0:J(fe)&&O(be)&&!F(be)&&O(le)&&j(le)?3:F(fe)||!O(le)?1:2:-1},z=function(fe){var be=0,le=0,Ce=0,Le="",Ee="",qe="",Ut=(fe=fe||"").split("\\s+"),ot=[];for(be=0;be<Ut.length;be+=1){for(ot.push(""),le=0;le<Ut[be].length;le+=1)Ee=Ut[be][le-1],qe=Ut[be][le+1],O(Le=Ut[be][le])?(Ce=se(Le,Ee,qe),ot[be]+=-1!==Ce?String.fromCharCode(_[Le.charCodeAt(0)][Ce]):Le):ot[be]+=Le;ot[be]=ee(ot[be])}return ot.join(" ")},ye=w.__arabicParser__.processArabic=w.processArabic=function(){var fe,be="string"==typeof arguments[0]?arguments[0]:arguments[0].text,le=[];if(Array.isArray(be)){var Ce=0;for(le=[],Ce=0;Ce<be.length;Ce+=1)Array.isArray(be[Ce])?le.push([z(be[Ce][0]),be[Ce][1],be[Ce][2]]):le.push([z(be[Ce])]);fe=le}else fe=z(be);return"string"==typeof arguments[0]?fe:(arguments[0].text=fe,arguments[0])};w.events.push(["preProcessText",ye])}(ni.API),ni.API.autoPrint=function(w){var _;return"javascript"===((w=w||{}).variant=w.variant||"non-conform",w.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+_+" 0 R")})),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(w){var _=function(){var b=void 0;Object.defineProperty(this,"pdf",{get:function(){return b},set:function(F){b=F}});var I=150;Object.defineProperty(this,"width",{get:function(){return I},set:function(F){I=isNaN(F)||!1===Number.isInteger(F)||F<0?150:F,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=I+1)}});var x=300;Object.defineProperty(this,"height",{get:function(){return x},set:function(F){x=isNaN(F)||!1===Number.isInteger(F)||F<0?300:F,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=x+1)}});var D=[];Object.defineProperty(this,"childNodes",{get:function(){return D},set:function(F){D=F}});var O={};Object.defineProperty(this,"style",{get:function(){return O},set:function(F){O=F}}),Object.defineProperty(this,"parentNode",{})};_.prototype.getContext=function(b,I){var x;if("2d"!==(b=b||"2d"))return null;for(x in I)this.pdf.context2d.hasOwnProperty(x)&&(this.pdf.context2d[x]=I[x]);return this.pdf.context2d._canvas=this,this.pdf.context2d},_.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},w.events.push(["initialized",function(){this.canvas=new _,this.canvas.pdf=this}])}(ni.API),function(w){var _={left:0,top:0,bottom:0,right:0},b=!1,I=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},_),this.internal.__cell__.margins.width=this.getPageWidth(),x.call(this))},x=function(){this.internal.__cell__.lastCell=new D,this.internal.__cell__.pages=1},D=function(){var V=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return V},set:function(fe){V=fe}});var j=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return j},set:function(fe){j=fe}});var J=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return J},set:function(fe){J=fe}});var ee=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return ee},set:function(fe){ee=fe}});var se=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return se},set:function(fe){se=fe}});var z=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return z},set:function(fe){z=fe}});var ye=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return ye},set:function(fe){ye=fe}}),this};D.prototype.clone=function(){return new D(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},D.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},w.setHeaderFunction=function(V){return I.call(this),this.internal.__cell__.headerFunction="function"==typeof V?V:void 0,this},w.getTextDimensions=function(V,j){I.call(this);var J=(j=j||{}).fontSize||this.getFontSize(),ee=j.font||this.getFont(),se=j.scaleFactor||this.internal.scaleFactor,z=0,ye=0,fe=0,be=this;if(!Array.isArray(V)&&"string"!=typeof V){if("number"!=typeof V)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");V=String(V)}var le=j.maxWidth;le>0?"string"==typeof V?V=this.splitTextToSize(V,le):"[object Array]"===Object.prototype.toString.call(V)&&(V=V.reduce(function(Le,Ee){return Le.concat(be.splitTextToSize(Ee,le))},[])):V=Array.isArray(V)?V:[V];for(var Ce=0;Ce<V.length;Ce++)z<(fe=this.getStringUnitWidth(V[Ce],{font:ee})*J)&&(z=fe);return 0!==z&&(ye=V.length),{w:z/=se,h:Math.max((ye*J*this.getLineHeightFactor()-J*(this.getLineHeightFactor()-1))/se,0)}},w.cellAddPage=function(){I.call(this),this.addPage();var V=this.internal.__cell__.margins||_;return this.internal.__cell__.lastCell=new D(V.left,V.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var O=w.cell=function(){var V;V=arguments[0]instanceof D?arguments[0]:new D(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),I.call(this);var j=this.internal.__cell__.lastCell,J=this.internal.__cell__.padding,ee=this.internal.__cell__.margins||_,se=this.internal.__cell__.tableHeaderRow,z=this.internal.__cell__.printHeaders;return void 0!==j.lineNumber&&(j.lineNumber===V.lineNumber?(V.x=(j.x||0)+(j.width||0),V.y=j.y||0):j.y+j.height+V.height+ee.bottom>this.getPageHeight()?(this.cellAddPage(),V.y=ee.top,z&&se&&(this.printHeaderRow(V.lineNumber,!0),V.y+=se[0].height)):V.y=j.y+j.height||V.y),void 0!==V.text[0]&&(this.rect(V.x,V.y,V.width,V.height,!0===b?"FD":void 0),"right"===V.align?this.text(V.text,V.x+V.width-J,V.y+J,{align:"right",baseline:"top"}):"center"===V.align?this.text(V.text,V.x+V.width/2,V.y+J,{align:"center",baseline:"top",maxWidth:V.width-J-J}):this.text(V.text,V.x+J,V.y+J,{align:"left",baseline:"top",maxWidth:V.width-J-J})),this.internal.__cell__.lastCell=V,this};w.table=function(V,j,J,ee,se){if(I.call(this),!J)throw new Error("No data for PDF table.");var z,ye,fe,be,le=[],Ce=[],Le=[],Ee={},qe={},Ut=[],ot=[],Pe=(se=se||{}).autoSize||!1,lt=!1!==se.printHeaders,Lt=se.css&&void 0!==se.css["font-size"]?16*se.css["font-size"]:se.fontSize||12,ce=se.margins||Object.assign({width:this.getPageWidth()},_),he="number"==typeof se.padding?se.padding:3,Ve=se.headerBackgroundColor||"#c8c8c8",_e=se.headerTextColor||"#000";if(x.call(this),this.internal.__cell__.printHeaders=lt,this.internal.__cell__.margins=ce,this.internal.__cell__.table_font_size=Lt,this.internal.__cell__.padding=he,this.internal.__cell__.headerBackgroundColor=Ve,this.internal.__cell__.headerTextColor=_e,this.setFontSize(Lt),null==ee)Ce=le=Object.keys(J[0]),Le=le.map(function(){return"left"});else if(Array.isArray(ee)&&"object"===(0,h.A)(ee[0]))for(le=ee.map(function(jt){return jt.name}),Ce=ee.map(function(jt){return jt.prompt||jt.name||""}),Le=ee.map(function(jt){return jt.align||"left"}),z=0;z<ee.length;z+=1)qe[ee[z].name]=ee[z].width*(19.049976/25.4);else Array.isArray(ee)&&"string"==typeof ee[0]&&(Ce=le=ee,Le=le.map(function(){return"left"}));if(Pe||Array.isArray(ee)&&"string"==typeof ee[0])for(z=0;z<le.length;z+=1){for(Ee[be=le[z]]=J.map(function(jt){return jt[be]}),this.setFont(void 0,"bold"),Ut.push(this.getTextDimensions(Ce[z],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),ye=Ee[be],this.setFont(void 0,"normal"),fe=0;fe<ye.length;fe+=1)Ut.push(this.getTextDimensions(ye[fe],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);qe[be]=Math.max.apply(null,Ut)+he+he,Ut=[]}if(lt){var Tt={};for(z=0;z<le.length;z+=1)Tt[le[z]]={},Tt[le[z]].text=Ce[z],Tt[le[z]].align=Le[z];var wt=F.call(this,Tt,qe);ot=le.map(function(jt){return new D(V,j,qe[jt],wt,Tt[jt].text,void 0,Tt[jt].align)}),this.setTableHeaderRow(ot),this.printHeaderRow(1,!1)}var Pt=ee.reduce(function(jt,Sn){return jt[Sn.name]=Sn.align,jt},{});for(z=0;z<J.length;z+=1){"rowStart"in se&&se.rowStart instanceof Function&&se.rowStart({row:z,data:J[z]},this);var nt=F.call(this,J[z],qe);for(fe=0;fe<le.length;fe+=1){var Vt=J[z][le[fe]];"cellStart"in se&&se.cellStart instanceof Function&&se.cellStart({row:z,col:fe,data:Vt},this),O.call(this,new D(V,j,qe[le[fe]],nt,Vt,z+2,Pt[le[fe]]))}}return this.internal.__cell__.table_x=V,this.internal.__cell__.table_y=j,this};var F=function(V,j){var J=this.internal.__cell__.padding,ee=this.internal.__cell__.table_font_size,se=this.internal.scaleFactor;return Object.keys(V).map(function(z){var ye=V[z];return this.splitTextToSize(ye.hasOwnProperty("text")?ye.text:ye,j[z]-J-J)},this).map(function(z){return this.getLineHeightFactor()*z.length*ee/se+J+J},this).reduce(function(z,ye){return Math.max(z,ye)},0)};w.setTableHeaderRow=function(V){I.call(this),this.internal.__cell__.tableHeaderRow=V},w.printHeaderRow=function(V,j){if(I.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var J;if(b=!0,"function"==typeof this.internal.__cell__.headerFunction){var ee=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new D(ee[0],ee[1],ee[2],ee[3],void 0,-1)}this.setFont(void 0,"bold");for(var se=[],z=0;z<this.internal.__cell__.tableHeaderRow.length;z+=1){J=this.internal.__cell__.tableHeaderRow[z].clone(),j&&(J.y=this.internal.__cell__.margins.top||0,se.push(J)),J.lineNumber=V;var ye=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),O.call(this,J),this.setTextColor(ye)}se.length>0&&this.setTableHeaderRow(se),this.setFont(void 0,"normal"),b=!1}}(ni.API);var zr={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},GA=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],IC=fS(GA),BA=[100,200,300,400,500,600,700,800,900],bN=fS(BA);function pS(w){var D,_=w.family.replace(/"|'/g,"").toLowerCase(),b=zr[D=(D=w.style)||"normal"]?D:"normal",I=function(D){return D?"number"==typeof D?D>=100&&D<=900&&D%100==0?D:400:/^\d00$/.test(D)?parseInt(D):"bold"===D?700:400:400}(w.weight),x=function(D){return"number"==typeof IC[D=D||"normal"]?D:"normal"}(w.stretch);return{family:_,style:b,weight:I,stretch:x,src:w.src||[],ref:w.ref||{name:_,style:[x,b,I].join(" ")}}}function gS(w,_,b,I){var x;for(x=b;x>=0&&x<_.length;x+=I)if(w[_[x]])return w[_[x]];for(x=b;x>=0&&x<_.length;x-=I)if(w[_[x]])return w[_[x]]}var wN={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},mS={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function TC(w){return[w.stretch,w.style,w.weight,w.family].join(" ")}function vS(w){return w.trimLeft()}function AC(w,_){for(var b=0;b<w.length;){if(w.charAt(b)===_)return[w.substring(0,b),w.substring(b+1)];b+=1}return null}function zi(w){var _=w.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===_?null:[_[0],w.substring(_[0].length)]}var Es,Ys,il,jo=["times"];(function(w){var _,b,I,x,D,O,F,V,j,J=function(ie){return this.isStrokeTransparent=(ie=ie||{}).isStrokeTransparent||!1,this.strokeOpacity=ie.strokeOpacity||1,this.strokeStyle=ie.strokeStyle||"#000000",this.fillStyle=ie.fillStyle||"#000000",this.isFillTransparent=ie.isFillTransparent||!1,this.fillOpacity=ie.fillOpacity||1,this.font=ie.font||"10px sans-serif",this.textBaseline=ie.textBaseline||"alphabetic",this.textAlign=ie.textAlign||"left",this.lineWidth=ie.lineWidth||1,this.lineJoin=ie.lineJoin||"miter",this.lineCap=ie.lineCap||"butt",this.path=ie.path||[],this.transform=void 0!==ie.transform?ie.transform.clone():new V,this.globalCompositeOperation=ie.globalCompositeOperation||"normal",this.globalAlpha=ie.globalAlpha||1,this.clip_path=ie.clip_path||[],this.currentPoint=ie.currentPoint||new O,this.miterLimit=ie.miterLimit||10,this.lastPoint=ie.lastPoint||new O,this.lineDashOffset=ie.lineDashOffset||0,this.lineDash=ie.lineDash||[],this.margin=ie.margin||[0,0,0,0],this.prevPageLastElemOffset=ie.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof ie.ignoreClearRect||ie.ignoreClearRect,this};w.events.push(["initialized",function(){this.context2d=new ee(this),_=this.internal.f2,b=this.internal.getCoordinateString,I=this.internal.getVerticalCoordinateString,x=this.internal.getHorizontalCoordinate,D=this.internal.getVerticalCoordinate,O=this.internal.Point,F=this.internal.Rectangle,V=this.internal.Matrix,j=new J}]);var ee=function(ie){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var we=ie;Object.defineProperty(this,"pdf",{get:function(){return we}});var Re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Re},set:function(Rt){Re=!!Rt}});var Ge=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ge},set:function(Rt){Ge=!!Rt}});var Je=0;Object.defineProperty(this,"posX",{get:function(){return Je},set:function(Rt){isNaN(Rt)||(Je=Rt)}});var $e=0;Object.defineProperty(this,"posY",{get:function(){return $e},set:function(Rt){isNaN(Rt)||($e=Rt)}}),Object.defineProperty(this,"margin",{get:function(){return j.margin},set:function(Rt){var Te;"number"==typeof Rt?Te=[Rt,Rt,Rt,Rt]:((Te=new Array(4))[0]=Rt[0],Te[1]=Rt.length>=2?Rt[1]:Te[0],Te[2]=Rt.length>=3?Rt[2]:Te[0],Te[3]=Rt.length>=4?Rt[3]:Te[1]),j.margin=Te}});var Et=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Et},set:function(Rt){Et=Rt}});var bt=0;Object.defineProperty(this,"lastBreak",{get:function(){return bt},set:function(Rt){bt=Rt}});var dn=[];Object.defineProperty(this,"pageBreaks",{get:function(){return dn},set:function(Rt){dn=Rt}}),Object.defineProperty(this,"ctx",{get:function(){return j},set:function(Rt){Rt instanceof J&&(j=Rt)}}),Object.defineProperty(this,"path",{get:function(){return j.path},set:function(Rt){j.path=Rt}});var pn=[];Object.defineProperty(this,"ctxStack",{get:function(){return pn},set:function(Rt){pn=Rt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Rt){var Te;Te=se(Rt),this.ctx.fillStyle=Te.style,this.ctx.isFillTransparent=0===Te.a,this.ctx.fillOpacity=Te.a,this.pdf.setFillColor(Te.r,Te.g,Te.b,{a:Te.a}),this.pdf.setTextColor(Te.r,Te.g,Te.b,{a:Te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Rt){var Te=se(Rt);this.ctx.strokeStyle=Te.style,this.ctx.isStrokeTransparent=0===Te.a,this.ctx.strokeOpacity=Te.a,0===Te.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(Te.r,Te.g,Te.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Rt){-1!==["butt","round","square"].indexOf(Rt)&&(this.ctx.lineCap=Rt,this.pdf.setLineCap(Rt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Rt){isNaN(Rt)||(this.ctx.lineWidth=Rt,this.pdf.setLineWidth(Rt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Rt){-1!==["bevel","round","miter"].indexOf(Rt)&&(this.ctx.lineJoin=Rt,this.pdf.setLineJoin(Rt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Rt){isNaN(Rt)||(this.ctx.miterLimit=Rt,this.pdf.setMiterLimit(Rt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Rt){this.ctx.textBaseline=Rt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Rt){-1!==["right","end","center","left","start"].indexOf(Rt)&&(this.ctx.textAlign=Rt)}});var An=null,pi=null;Object.defineProperty(this,"fontFaces",{get:function(){return pi},set:function(Rt){An=null,pi=Rt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Rt){var Te;if(this.ctx.font=Rt,null!==(Te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Rt))){var xi=Te[1],jn=Te[3],un=Te[4],vn=Te[6],On=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(un)[2];un=Math.floor("px"===On?parseFloat(un)*this.pdf.internal.scaleFactor:"em"===On?parseFloat(un)*this.pdf.getFontSize():parseFloat(un)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(un);var Pn=function(Ri){var er,Un,Oa=[],fr=Ri.trim();if(""===fr)return jo;if(fr in mS)return[mS[fr]];for(;""!==fr;){switch(Un=null,er=(fr=vS(fr)).charAt(0)){case'"':case"'":Un=AC(fr.substring(1),er);break;default:Un=zi(fr)}if(null===Un||(Oa.push(Un[0]),""!==(fr=vS(Un[1]))&&","!==fr.charAt(0)))return jo;fr=fr.replace(/^,/,"")}return Oa}(vn);if(this.fontFaces){var ai=function HA(w,_,b){for(var I=(b=b||{}).defaultFontFamily||"times",x=Object.assign({},wN,b.genericFontFamilies||{}),D=null,O=null,F=0;F<_.length;++F)if(x[(D=pS(_[F])).family]&&(D.family=x[D.family]),w.hasOwnProperty(D.family)){O=w[D.family];break}if(!(O=O||w[I]))throw new Error("Could not find a font-family for the rule '"+TC(D)+"' and default family '"+I+"'.");if(O=function(V,j){if(j[V])return j[V];var J=IC[V],se=gS(j,GA,J,J<=IC.normal?-1:1);if(!se)throw new Error("Could not find a matching font-stretch value for "+V);return se}(D.stretch,O),O=function(V,j){if(j[V])return j[V];for(var J=zr[V],ee=0;ee<J.length;++ee)if(j[J[ee]])return j[J[ee]];throw new Error("Could not find a matching font-style for "+V)}(D.style,O),!(O=function(V,j){if(j[V])return j[V];if(400===V&&j[500])return j[500];if(500===V&&j[400])return j[400];var ee=gS(j,BA,bN[V],V<400?-1:1);if(!ee)throw new Error("Could not find a matching font-weight for value "+V);return ee}(D.weight,O)))throw new Error("Failed to resolve a font for the rule '"+TC(D)+"'.");return O}(function hn(Rt,Te){if(null===An){var xi=(jn=Rt.getFontList(),un=[],Object.keys(jn).forEach(function(vn){jn[vn].forEach(function(On){var Pn=null;switch(On){case"bold":Pn={family:vn,weight:"bold"};break;case"italic":Pn={family:vn,style:"italic"};break;case"bolditalic":Pn={family:vn,weight:"bold",style:"italic"};break;case"":case"normal":Pn={family:vn}}null!==Pn&&(Pn.ref={name:vn,style:On},un.push(Pn))})}),un);An=function(jn){for(var un={},vn=0;vn<jn.length;++vn){var On=pS(jn[vn]),Pn=On.family,ai=On.stretch,Ai=On.style,Gi=On.weight;un[Pn]=un[Pn]||{},un[Pn][ai]=un[Pn][ai]||{},un[Pn][ai][Ai]=un[Pn][ai][Ai]||{},un[Pn][ai][Ai][Gi]=On}return un}(xi.concat(Te))}var jn,un;return An}(this.pdf,this.fontFaces),Pn.map(function(Ri){return{family:Ri,stretch:"normal",weight:jn,style:xi}}));this.pdf.setFont(ai.ref.name,ai.ref.style)}else{var Ai="";("bold"===jn||parseInt(jn,10)>=700||"bold"===xi)&&(Ai="bold"),"italic"===xi&&(Ai+="italic"),0===Ai.length&&(Ai="normal");for(var Gi="",Yi={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},or=0;or<Pn.length;or++){if(void 0!==this.pdf.internal.getFont(Pn[or],Ai,{noFallback:!0,disableWarning:!0})){Gi=Pn[or];break}if("bolditalic"===Ai&&void 0!==this.pdf.internal.getFont(Pn[or],"bold",{noFallback:!0,disableWarning:!0}))Gi=Pn[or],Ai="bold";else if(void 0!==this.pdf.internal.getFont(Pn[or],"normal",{noFallback:!0,disableWarning:!0})){Gi=Pn[or],Ai="normal";break}}if(""===Gi)for(var Qr=0;Qr<Pn.length;Qr++)if(Yi[Pn[Qr]]){Gi=Yi[Pn[Qr]];break}this.pdf.setFont(Gi=""===Gi?"Times":Gi,Ai)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Rt){this.ctx.globalCompositeOperation=Rt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Rt){this.ctx.globalAlpha=Rt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Rt){this.ctx.lineDashOffset=Rt,Sn.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Rt){this.ctx.lineDash=Rt,Sn.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Rt){this.ctx.ignoreClearRect=!!Rt}})};ee.prototype.setLineDash=function(ie){this.lineDash=ie},ee.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},ee.prototype.fill=function(){Ee.call(this,"fill",!1)},ee.prototype.stroke=function(){Ee.call(this,"stroke",!1)},ee.prototype.beginPath=function(){this.path=[{type:"begin"}]},ee.prototype.moveTo=function(ie,we){if(isNaN(ie)||isNaN(we))throw Xr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Re=this.ctx.transform.applyToPoint(new O(ie,we));this.path.push({type:"mt",x:Re.x,y:Re.y}),this.ctx.lastPoint=new O(ie,we)},ee.prototype.closePath=function(){var ie=new O(0,0),we=0;for(we=this.path.length-1;-1!==we;we--)if("begin"===this.path[we].type&&"object"===(0,h.A)(this.path[we+1])&&"number"==typeof this.path[we+1].x){ie=new O(this.path[we+1].x,this.path[we+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new O(ie.x,ie.y)},ee.prototype.lineTo=function(ie,we){if(isNaN(ie)||isNaN(we))throw Xr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Re=this.ctx.transform.applyToPoint(new O(ie,we));this.path.push({type:"lt",x:Re.x,y:Re.y}),this.ctx.lastPoint=new O(Re.x,Re.y)},ee.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Ee.call(this,null,!0)},ee.prototype.quadraticCurveTo=function(ie,we,Re,Ge){if(isNaN(Re)||isNaN(Ge)||isNaN(ie)||isNaN(we))throw Xr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Je=this.ctx.transform.applyToPoint(new O(Re,Ge)),$e=this.ctx.transform.applyToPoint(new O(ie,we));this.path.push({type:"qct",x1:$e.x,y1:$e.y,x:Je.x,y:Je.y}),this.ctx.lastPoint=new O(Je.x,Je.y)},ee.prototype.bezierCurveTo=function(ie,we,Re,Ge,Je,$e){if(isNaN(Je)||isNaN($e)||isNaN(ie)||isNaN(we)||isNaN(Re)||isNaN(Ge))throw Xr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Et=this.ctx.transform.applyToPoint(new O(Je,$e)),bt=this.ctx.transform.applyToPoint(new O(ie,we)),dn=this.ctx.transform.applyToPoint(new O(Re,Ge));this.path.push({type:"bct",x1:bt.x,y1:bt.y,x2:dn.x,y2:dn.y,x:Et.x,y:Et.y}),this.ctx.lastPoint=new O(Et.x,Et.y)},ee.prototype.arc=function(ie,we,Re,Ge,Je,$e){if(isNaN(ie)||isNaN(we)||isNaN(Re)||isNaN(Ge)||isNaN(Je))throw Xr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if($e=!!$e,!this.ctx.transform.isIdentity){var Et=this.ctx.transform.applyToPoint(new O(ie,we));ie=Et.x,we=Et.y;var bt=this.ctx.transform.applyToPoint(new O(0,Re)),dn=this.ctx.transform.applyToPoint(new O(0,0));Re=Math.sqrt(Math.pow(bt.x-dn.x,2)+Math.pow(bt.y-dn.y,2))}Math.abs(Je-Ge)>=2*Math.PI&&(Ge=0,Je=2*Math.PI),this.path.push({type:"arc",x:ie,y:we,radius:Re,startAngle:Ge,endAngle:Je,counterclockwise:$e})},ee.prototype.arcTo=function(ie,we,Re,Ge,Je){throw new Error("arcTo not implemented.")},ee.prototype.rect=function(ie,we,Re,Ge){if(isNaN(ie)||isNaN(we)||isNaN(Re)||isNaN(Ge))throw Xr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(ie,we),this.lineTo(ie+Re,we),this.lineTo(ie+Re,we+Ge),this.lineTo(ie,we+Ge),this.lineTo(ie,we),this.lineTo(ie+Re,we),this.lineTo(ie,we)},ee.prototype.fillRect=function(ie,we,Re,Ge){if(isNaN(ie)||isNaN(we)||isNaN(Re)||isNaN(Ge))throw Xr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!z.call(this)){var Je={};"butt"!==this.lineCap&&(Je.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(Je.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(ie,we,Re,Ge),this.fill(),Je.hasOwnProperty("lineCap")&&(this.lineCap=Je.lineCap),Je.hasOwnProperty("lineJoin")&&(this.lineJoin=Je.lineJoin)}},ee.prototype.strokeRect=function(ie,we,Re,Ge){if(isNaN(ie)||isNaN(we)||isNaN(Re)||isNaN(Ge))throw Xr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");ye.call(this)||(this.beginPath(),this.rect(ie,we,Re,Ge),this.stroke())},ee.prototype.clearRect=function(ie,we,Re,Ge){if(isNaN(ie)||isNaN(we)||isNaN(Re)||isNaN(Ge))throw Xr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(ie,we,Re,Ge))},ee.prototype.save=function(ie){ie="boolean"!=typeof ie||ie;for(var we=this.pdf.internal.getCurrentPageInfo().pageNumber,Re=0;Re<this.pdf.internal.getNumberOfPages();Re++)this.pdf.setPage(Re+1),this.pdf.internal.out("q");if(this.pdf.setPage(we),ie){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ge=new J(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ge}},ee.prototype.restore=function(ie){ie="boolean"!=typeof ie||ie;for(var we=this.pdf.internal.getCurrentPageInfo().pageNumber,Re=0;Re<this.pdf.internal.getNumberOfPages();Re++)this.pdf.setPage(Re+1),this.pdf.internal.out("Q");this.pdf.setPage(we),ie&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},ee.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var se=function(ie){var we,Re,Ge,Je;if(!0===ie.isCanvasGradient&&(ie=ie.getColor()),!ie)return{r:0,g:0,b:0,a:0,style:ie};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(ie))we=0,Re=0,Ge=0,Je=0;else{var $e=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(ie);if(null!==$e)we=parseInt($e[1]),Re=parseInt($e[2]),Ge=parseInt($e[3]),Je=1;else if(null!==($e=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(ie)))we=parseInt($e[1]),Re=parseInt($e[2]),Ge=parseInt($e[3]),Je=parseFloat($e[4]);else{if(Je=1,"string"==typeof ie&&"#"!==ie.charAt(0)){var Et=new yC(ie);ie=Et.ok?Et.toHex():"#000000"}4===ie.length?(we=ie.substring(1,2),we+=we,Re=ie.substring(2,3),Re+=Re,Ge=ie.substring(3,4),Ge+=Ge):(we=ie.substring(1,3),Re=ie.substring(3,5),Ge=ie.substring(5,7)),we=parseInt(we,16),Re=parseInt(Re,16),Ge=parseInt(Ge,16)}}return{r:we,g:Re,b:Ge,a:Je,style:ie}},z=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},ye=function(){return!(!this.ctx.isStrokeTransparent&&0!=this.globalAlpha)};ee.prototype.fillText=function(ie,we,Re,Ge){if(isNaN(we)||isNaN(Re)||"string"!=typeof ie)throw Xr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ge=isNaN(Ge)?void 0:Ge,!z.call(this)){var Je=nt(this.ctx.transform.rotation);he.call(this,{text:ie,x:we,y:Re,scale:this.ctx.transform.scaleX,angle:Je,align:this.textAlign,maxWidth:Ge})}},ee.prototype.strokeText=function(ie,we,Re,Ge){if(isNaN(we)||isNaN(Re)||"string"!=typeof ie)throw Xr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!ye.call(this)){Ge=isNaN(Ge)?void 0:Ge;var Je=nt(this.ctx.transform.rotation);he.call(this,{text:ie,x:we,y:Re,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:Je,align:this.textAlign,maxWidth:Ge})}},ee.prototype.measureText=function(ie){if("string"!=typeof ie)throw Xr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var we=this.pdf,Re=this.pdf.internal.scaleFactor,Ge=we.internal.getFontSize(),Je=we.getStringUnitWidth(ie)*Ge/we.internal.scaleFactor;return new function(Et){var bt=(Et=Et||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return bt}}),this}({width:Je*=Math.round(96*Re/72*1e4)/1e4})},ee.prototype.scale=function(ie,we){if(isNaN(ie)||isNaN(we))throw Xr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Re=new V(ie,0,0,we,0,0);this.ctx.transform=this.ctx.transform.multiply(Re)},ee.prototype.rotate=function(ie){if(isNaN(ie))throw Xr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var we=new V(Math.cos(ie),Math.sin(ie),-Math.sin(ie),Math.cos(ie),0,0);this.ctx.transform=this.ctx.transform.multiply(we)},ee.prototype.translate=function(ie,we){if(isNaN(ie)||isNaN(we))throw Xr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Re=new V(1,0,0,1,ie,we);this.ctx.transform=this.ctx.transform.multiply(Re)},ee.prototype.transform=function(ie,we,Re,Ge,Je,$e){if(isNaN(ie)||isNaN(we)||isNaN(Re)||isNaN(Ge)||isNaN(Je)||isNaN($e))throw Xr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Et=new V(ie,we,Re,Ge,Je,$e);this.ctx.transform=this.ctx.transform.multiply(Et)},ee.prototype.setTransform=function(ie,we,Re,Ge,Je,$e){ie=isNaN(ie)?1:ie,we=isNaN(we)?0:we,Re=isNaN(Re)?0:Re,Ge=isNaN(Ge)?1:Ge,Je=isNaN(Je)?0:Je,$e=isNaN($e)?0:$e,this.ctx.transform=new V(ie,we,Re,Ge,Je,$e)};var fe=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};ee.prototype.drawImage=function(ie,we,Re,Ge,Je,$e,Et,bt,dn){var pn=this.pdf.getImageProperties(ie),An=1,hn=1,pi=1,Rt=1;void 0!==Ge&&void 0!==bt&&(pi=bt/Ge,Rt=dn/Je,An=pn.width/Ge*bt/Ge,hn=pn.height/Je*dn/Je),void 0===$e&&($e=we,Et=Re,we=0,Re=0),void 0!==Ge&&void 0===bt&&(bt=Ge,dn=Je),void 0===Ge&&void 0===bt&&(bt=pn.width,dn=pn.height);for(var Te,xi=this.ctx.transform.decompose(),jn=nt(xi.rotate.shx),un=new V,vn=(un=(un=(un=un.multiply(xi.translate)).multiply(xi.skew)).multiply(xi.scale)).applyToRectangle(new F($e-we*pi,Et-Re*Rt,Ge*An,Je*hn)),On=be.call(this,vn),Pn=[],ai=0;ai<On.length;ai+=1)-1===Pn.indexOf(On[ai])&&Pn.push(On[ai]);if(Le(Pn),this.autoPaging)for(var Ai=Pn[0],Gi=Pn[Pn.length-1],Yi=Ai;Yi<Gi+1;Yi++){this.pdf.setPage(Yi);var or=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qr=1===Yi?this.posY+this.margin[0]:this.margin[0],er=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Un=1===Yi?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Yi-2)*er;if(0!==this.ctx.clip_path.length){var Oa=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ce(Te,this.posX+this.margin[3],-Un+Qr+this.ctx.prevPageLastElemOffset),qe.call(this,"fill",!0),this.path=Oa}var fr=JSON.parse(JSON.stringify(vn));fr=Ce([fr],this.posX+this.margin[3],-Un+Qr+this.ctx.prevPageLastElemOffset)[0];var ru=(Yi>Ai||Yi<Gi)&&fe.call(this);ru&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],or,er,null).clip().discardPath()),this.pdf.addImage(ie,"JPEG",fr.x,fr.y,fr.w,fr.h,null,null,jn),ru&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(ie,"JPEG",vn.x,vn.y,vn.w,vn.h,null,null,jn)};var be=function(ie,we,Re){var Ge=[];we=we||this.pdf.internal.pageSize.width,Re=Re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Je=this.posY+this.ctx.prevPageLastElemOffset;switch(ie.type){default:case"mt":case"lt":Ge.push(Math.floor((ie.y+Je)/Re)+1);break;case"arc":Ge.push(Math.floor((ie.y+Je-ie.radius)/Re)+1),Ge.push(Math.floor((ie.y+Je+ie.radius)/Re)+1);break;case"qct":var $e=Vt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ie.x1,ie.y1,ie.x,ie.y);Ge.push(Math.floor(($e.y+Je)/Re)+1),Ge.push(Math.floor(($e.y+$e.h+Je)/Re)+1);break;case"bct":var Et=jt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ie.x1,ie.y1,ie.x2,ie.y2,ie.x,ie.y);Ge.push(Math.floor((Et.y+Je)/Re)+1),Ge.push(Math.floor((Et.y+Et.h+Je)/Re)+1);break;case"rect":Ge.push(Math.floor((ie.y+Je)/Re)+1),Ge.push(Math.floor((ie.y+ie.h+Je)/Re)+1)}for(var bt=0;bt<Ge.length;bt+=1)for(;this.pdf.internal.getNumberOfPages()<Ge[bt];)le.call(this);return Ge},le=function(){var ie=this.fillStyle,we=this.strokeStyle,Re=this.font,Ge=this.lineCap,Je=this.lineWidth,$e=this.lineJoin;this.pdf.addPage(),this.fillStyle=ie,this.strokeStyle=we,this.font=Re,this.lineCap=Ge,this.lineWidth=Je,this.lineJoin=$e},Ce=function(ie,we,Re){for(var Ge=0;Ge<ie.length;Ge++)switch(ie[Ge].type){case"bct":ie[Ge].x2+=we,ie[Ge].y2+=Re;case"qct":ie[Ge].x1+=we,ie[Ge].y1+=Re;default:ie[Ge].x+=we,ie[Ge].y+=Re}return ie},Le=function(ie){return ie.sort(function(we,Re){return we-Re})},Ee=function(ie,we){for(var Re,Ge,Je=this.fillStyle,$e=this.strokeStyle,Et=this.lineCap,bt=this.lineWidth,dn=Math.abs(bt*this.ctx.transform.scaleX),pn=this.lineJoin,An=JSON.parse(JSON.stringify(this.path)),hn=JSON.parse(JSON.stringify(this.path)),pi=[],Rt=0;Rt<hn.length;Rt++)if(void 0!==hn[Rt].x)for(var Te=be.call(this,hn[Rt]),xi=0;xi<Te.length;xi+=1)-1===pi.indexOf(Te[xi])&&pi.push(Te[xi]);for(var jn=0;jn<pi.length;jn++)for(;this.pdf.internal.getNumberOfPages()<pi[jn];)le.call(this);if(Le(pi),this.autoPaging)for(var un=pi[0],vn=pi[pi.length-1],On=un;On<vn+1;On++){this.pdf.setPage(On),this.fillStyle=Je,this.strokeStyle=$e,this.lineCap=Et,this.lineWidth=dn,this.lineJoin=pn;var Pn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ai=1===On?this.posY+this.margin[0]:this.margin[0],Gi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Yi=1===On?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(On-2)*Gi;if(0!==this.ctx.clip_path.length){var or=this.path;Re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ce(Re,this.posX+this.margin[3],-Yi+ai+this.ctx.prevPageLastElemOffset),qe.call(this,ie,!0),this.path=or}if(Ge=JSON.parse(JSON.stringify(An)),this.path=Ce(Ge,this.posX+this.margin[3],-Yi+ai+this.ctx.prevPageLastElemOffset),!1===we||0===On){var Qr=(On>un||On<vn)&&fe.call(this);Qr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pn,Gi,null).clip().discardPath()),qe.call(this,ie,we),Qr&&this.pdf.restoreGraphicsState()}this.lineWidth=bt}else this.lineWidth=dn,qe.call(this,ie,we),this.lineWidth=bt;this.path=An},qe=function(ie,we){if(("stroke"!==ie||we||!ye.call(this))&&("stroke"===ie||we||!z.call(this))){for(var Re,Ge,Je=[],$e=this.path,Et=0;Et<$e.length;Et++){var bt=$e[Et];switch(bt.type){case"begin":Je.push({begin:!0});break;case"close":Je.push({close:!0});break;case"mt":Je.push({start:bt,deltas:[],abs:[]});break;case"lt":var dn=Je.length;if($e[Et-1]&&!isNaN($e[Et-1].x)&&(Re=[bt.x-$e[Et-1].x,bt.y-$e[Et-1].y],dn>0))for(;dn>=0;dn--)if(!0!==Je[dn-1].close&&!0!==Je[dn-1].begin){Je[dn-1].deltas.push(Re),Je[dn-1].abs.push(bt);break}break;case"bct":Je[Je.length-1].deltas.push(Re=[bt.x1-$e[Et-1].x,bt.y1-$e[Et-1].y,bt.x2-$e[Et-1].x,bt.y2-$e[Et-1].y,bt.x-$e[Et-1].x,bt.y-$e[Et-1].y]);break;case"qct":Je[Je.length-1].deltas.push(Re=[$e[Et-1].x+2/3*(bt.x1-$e[Et-1].x)-$e[Et-1].x,$e[Et-1].y+2/3*(bt.y1-$e[Et-1].y)-$e[Et-1].y,bt.x+2/3*(bt.x1-bt.x)-$e[Et-1].x,bt.y+2/3*(bt.y1-bt.y)-$e[Et-1].y,bt.x-$e[Et-1].x,bt.y-$e[Et-1].y]);break;case"arc":Je.push({deltas:[],abs:[],arc:!0}),Array.isArray(Je[Je.length-1].abs)&&Je[Je.length-1].abs.push(bt)}}Ge=we?null:"stroke"===ie?"stroke":"fill";for(var xi=!1,jn=0;jn<Je.length;jn++)if(Je[jn].arc)for(var un=Je[jn].abs,vn=0;vn<un.length;vn++){var On=un[vn];"arc"===On.type?Pe.call(this,On.x,On.y,On.radius,On.startAngle,On.endAngle,On.counterclockwise,void 0,we,!xi):Ve.call(this,On.x,On.y),xi=!0}else!0===Je[jn].close?(this.pdf.internal.out("h"),xi=!1):!0!==Je[jn].begin&&(_e.call(this,Je[jn].deltas,Je[jn].start.x,Je[jn].start.y),xi=!0);Ge&&lt.call(this,Ge),we&&Lt.call(this)}},Ut=function(ie){var we=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Re=we*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return ie-Re;case"top":return ie+we-Re;case"hanging":return ie+we-2*Re;case"middle":return ie+we/2-Re;default:return ie}},ot=function(ie){return ie+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};ee.prototype.createLinearGradient=function(){var ie=function(){};return ie.colorStops=[],ie.addColorStop=function(we,Re){this.colorStops.push([we,Re])},ie.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},ie.isCanvasGradient=!0,ie},ee.prototype.createPattern=function(){return this.createLinearGradient()},ee.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Pe=function(ie,we,Re,Ge,Je,$e,Et,bt,dn){for(var pn=wt.call(this,Re,Ge,Je,$e),An=0;An<pn.length;An++){var hn=pn[An];0===An&&(dn?ce.call(this,hn.x1+ie,hn.y1+we):Ve.call(this,hn.x1+ie,hn.y1+we)),Tt.call(this,ie,we,hn.x2,hn.y2,hn.x3,hn.y3,hn.x4,hn.y4)}bt?Lt.call(this):lt.call(this,Et)},lt=function(ie){switch(ie){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Lt=function(){this.pdf.clip(),this.pdf.discardPath()},ce=function(ie,we){this.pdf.internal.out(b(ie)+" "+I(we)+" m")},he=function(ie){var we;switch(ie.align){case"right":case"end":we="right";break;case"center":we="center";break;default:we="left"}var Re=this.pdf.getTextDimensions(ie.text),Ge=Ut.call(this,ie.y),Je=ot.call(this,Ge)-Re.h,$e=this.ctx.transform.applyToPoint(new O(ie.x,Ge)),Et=this.ctx.transform.decompose(),bt=new V;bt=(bt=(bt=bt.multiply(Et.translate)).multiply(Et.skew)).multiply(Et.scale);for(var dn,pn,An,hn=this.ctx.transform.applyToRectangle(new F(ie.x,Ge,Re.w,Re.h)),pi=bt.applyToRectangle(new F(ie.x,Je,Re.w,Re.h)),Rt=be.call(this,pi),Te=[],xi=0;xi<Rt.length;xi+=1)-1===Te.indexOf(Rt[xi])&&Te.push(Rt[xi]);if(Le(Te),this.autoPaging)for(var jn=Te[0],un=Te[Te.length-1],vn=jn;vn<un+1;vn++){this.pdf.setPage(vn);var On=1===vn?this.posY+this.margin[0]:this.margin[0],ai=this.pdf.internal.pageSize.height-this.margin[2],Ai=ai-this.margin[0],Gi=this.pdf.internal.pageSize.width-this.margin[1],Yi=Gi-this.margin[3],or=1===vn?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(vn-2)*Ai;if(0!==this.ctx.clip_path.length){var Qr=this.path;dn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ce(dn,this.posX+this.margin[3],-1*or+On),qe.call(this,"fill",!0),this.path=Qr}var Ri=Ce([JSON.parse(JSON.stringify(pi))],this.posX+this.margin[3],-or+On+this.ctx.prevPageLastElemOffset)[0];ie.scale>=.01&&(pn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pn*ie.scale),this.lineWidth=(An=this.lineWidth)*ie.scale);var er="text"!==this.autoPaging;if(er||Ri.y+Ri.h<=ai){if(er||Ri.y>=On&&Ri.x<=Gi){var Un=er?ie.text:this.pdf.splitTextToSize(ie.text,ie.maxWidth||Gi-Ri.x)[0],Oa=Ce([JSON.parse(JSON.stringify(hn))],this.posX+this.margin[3],-or+On+this.ctx.prevPageLastElemOffset)[0],fr=er&&(vn>jn||vn<un)&&fe.call(this);fr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yi,Ai,null).clip().discardPath()),this.pdf.text(Un,Oa.x,Oa.y,{angle:ie.angle,align:we,renderingMode:ie.renderingMode}),fr&&this.pdf.restoreGraphicsState()}}else Ri.y<ai&&(this.ctx.prevPageLastElemOffset+=ai-Ri.y);ie.scale>=.01&&(this.pdf.setFontSize(pn),this.lineWidth=An)}else ie.scale>=.01&&(pn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pn*ie.scale),this.lineWidth=(An=this.lineWidth)*ie.scale),this.pdf.text(ie.text,$e.x+this.posX,$e.y+this.posY,{angle:ie.angle,align:we,renderingMode:ie.renderingMode,maxWidth:ie.maxWidth}),ie.scale>=.01&&(this.pdf.setFontSize(pn),this.lineWidth=An)},Ve=function(ie,we,Re,Ge){Ge=Ge||0,this.pdf.internal.out(b(ie+(Re=Re||0))+" "+I(we+Ge)+" l")},_e=function(ie,we,Re){return this.pdf.lines(ie,we,Re,null,null)},Tt=function(ie,we,Re,Ge,Je,$e,Et,bt){this.pdf.internal.out([_(x(Re+ie)),_(D(Ge+we)),_(x(Je+ie)),_(D($e+we)),_(x(Et+ie)),_(D(bt+we)),"c"].join(" "))},wt=function(ie,we,Re,Ge){for(var Je=2*Math.PI,$e=Math.PI/2;we>Re;)we-=Je;var Et=Math.abs(Re-we);Et<Je&&Ge&&(Et=Je-Et);for(var bt=[],dn=Ge?-1:1,pn=we;Et>1e-5;){var An=pn+dn*Math.min(Et,$e);bt.push(Pt.call(this,ie,pn,An)),Et-=Math.abs(An-pn),pn=An}return bt},Pt=function(ie,we,Re){var Ge=(Re-we)/2,Je=ie*Math.cos(Ge),$e=ie*Math.sin(Ge),Et=Je,bt=-$e,dn=Et*Et+bt*bt,pn=dn+Et*Je+bt*$e,An=4/3*(Math.sqrt(2*dn*pn)-pn)/(Et*$e-bt*Je),hn=Et-An*bt,pi=bt+An*Et,Rt=hn,Te=-pi,xi=Ge+we,jn=Math.cos(xi),un=Math.sin(xi);return{x1:ie*Math.cos(we),y1:ie*Math.sin(we),x2:hn*jn-pi*un,y2:hn*un+pi*jn,x3:Rt*jn-Te*un,y3:Rt*un+Te*jn,x4:ie*Math.cos(Re),y4:ie*Math.sin(Re)}},nt=function(ie){return 180*ie/Math.PI},Vt=function(ie,we,Re,Ge,Je,$e){var Et=ie+.5*(Re-ie),bt=we+.5*(Ge-we),dn=Je+.5*(Re-Je),pn=$e+.5*(Ge-$e),An=Math.min(ie,Je,Et,dn),hn=Math.max(ie,Je,Et,dn),pi=Math.min(we,$e,bt,pn),Rt=Math.max(we,$e,bt,pn);return new F(An,pi,hn-An,Rt-pi)},jt=function(ie,we,Re,Ge,Je,$e,Et,bt){var dn,pn,An,hn,pi,Rt,Te,xi,jn,un,vn,On,Pn,ai,Ai=Re-ie,Gi=Ge-we,Yi=Je-Re,or=$e-Ge,Qr=Et-Je,Ri=bt-$e;for(pn=0;pn<41;pn++)jn=(Te=(An=ie+(dn=pn/40)*Ai)+dn*((pi=Re+dn*Yi)-An))+dn*(pi+dn*(Je+dn*Qr-pi)-Te),un=(xi=(hn=we+dn*Gi)+dn*((Rt=Ge+dn*or)-hn))+dn*(Rt+dn*($e+dn*Ri-Rt)-xi),0==pn?(vn=jn,On=un,Pn=jn,ai=un):(vn=Math.min(vn,jn),On=Math.min(On,un),Pn=Math.max(Pn,jn),ai=Math.max(ai,un));return new F(Math.round(vn),Math.round(On),Math.round(Pn-vn),Math.round(ai-On))},Sn=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Re=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==Re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Re)}}})(ni.API),
/**
         * @license
         * jsPDF filters PlugIn
         * Copyright (c) 2014 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(w){var _=function(D){var O,F,V,j,J,ee,se,z,ye,fe;for(/[^\x00-\xFF]/.test(D),F=[],V=0,j=(D+=O="\0\0\0\0".slice(D.length%4||4)).length;j>V;V+=4)0!==(J=(D.charCodeAt(V)<<24)+(D.charCodeAt(V+1)<<16)+(D.charCodeAt(V+2)<<8)+D.charCodeAt(V+3))?(ee=(J=((J=((J=((J=(J-(fe=J%85))/85)-(ye=J%85))/85)-(z=J%85))/85)-(se=J%85))/85)%85,F.push(ee+33,se+33,z+33,ye+33,fe+33)):F.push(122);return function(be,le){for(var Ce=le;Ce>0;Ce--)be.pop()}(F,O.length),String.fromCharCode.apply(String,F)+"~>"},b=function(D){var O,F,V,j,J,ee=String,se="length",z=255,ye="charCodeAt",fe="slice",be="replace";for(D[fe](-2),D=D[fe](0,-2)[be](/\s/g,"")[be]("z","!!!!!"),V=[],j=0,J=(D+=O="uuuuu"[fe](D[se]%5||5))[se];J>j;j+=5)F=52200625*(D[ye](j)-33)+614125*(D[ye](j+1)-33)+7225*(D[ye](j+2)-33)+85*(D[ye](j+3)-33)+(D[ye](j+4)-33),V.push(z&F>>24,z&F>>16,z&F>>8,z&F);return function(le,Ce){for(var Le=Ce;Le>0;Le--)le.pop()}(V,O[se]),ee.fromCharCode.apply(ee,V)},I=function(D){var O=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(D=D.replace(/\s/g,"")).indexOf(">")&&(D=D.substr(0,D.indexOf(">"))),D.length%2&&(D+="0"),!1===O.test(D))return"";for(var F="",V=0;V<D.length;V+=2)F+=String.fromCharCode("0x"+(D[V]+D[V+1]));return F},x=function(D){for(var O=new Uint8Array(D.length),F=D.length;F--;)O[F]=D.charCodeAt(F);return(O=Lf(O)).reduce(function(V,j){return V+String.fromCharCode(j)},"")};w.processDataByFilters=function(D,O){var F=0,V=D||"",j=[];for("string"==typeof(O=O||[])&&(O=[O]),F=0;F<O.length;F+=1)switch(O[F]){case"ASCII85Decode":case"/ASCII85Decode":V=b(V),j.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":V=_(V),j.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":V=I(V),j.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":V=V.split("").map(function(J){return("0"+J.charCodeAt().toString(16)).slice(-2)}).join("")+">",j.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":V=x(V),j.push("/FlateDecode");break;default:throw new Error('The filter: "'+O[F]+'" is not implemented')}return{data:V,reverseChain:j.reverse().join(" ")}}}(ni.API),
/**
         * @license
         * jsPDF fileloading PlugIn
         * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(w){w.loadFile=function(_,b,I){return function(x,D,O){D=!1!==D,O="function"==typeof O?O:function(){};var F=void 0;try{F=function(V,j,J){var ee=new XMLHttpRequest,se=0,z=function(ye){var fe=ye.length,be=[],le=String.fromCharCode;for(se=0;se<fe;se+=1)be.push(le(255&ye.charCodeAt(se)));return be.join("")};if(ee.open("GET",V,!j),ee.overrideMimeType("text/plain; charset=x-user-defined"),!1===j&&(ee.onload=function(){J(200===ee.status?z(this.responseText):void 0)}),ee.send(null),j&&200===ee.status)return z(ee.responseText)}(x,D,O)}catch{}return F}(_,b,I)},w.loadImageFile=w.loadFile}(ni.API),function(w){function _(){return(Zn.html2canvas?Promise.resolve(Zn.html2canvas):Kt.e(239).then(Kt.t.bind(Kt,7239,23))).catch(function(O){return Promise.reject(new Error("Could not load html2canvas: "+O))}).then(function(O){return O.default?O.default:O})}function b(){return(Zn.DOMPurify?Promise.resolve(Zn.DOMPurify):Kt.e(973).then(Kt.t.bind(Kt,1973,23))).catch(function(O){return Promise.reject(new Error("Could not load dompurify: "+O))}).then(function(O){return O.default?O.default:O})}var I=function(O){var F=(0,h.A)(O);return"undefined"===F?"undefined":"string"===F||O instanceof String?"string":"number"===F||O instanceof Number?"number":"function"===F||O instanceof Function?"function":O&&O.constructor===Array?"array":O&&1===O.nodeType?"element":"object"===F?"object":"unknown"},x=function(O,F){var V=document.createElement(O);for(var j in F.className&&(V.className=F.className),F.innerHTML&&F.dompurify&&(V.innerHTML=F.dompurify.sanitize(F.innerHTML)),F.style)V.style[j]=F.style[j];return V},D=function O(F){var V=Object.assign(O.convert(Promise.resolve()),JSON.parse(JSON.stringify(O.template))),j=O.convert(Promise.resolve(),V);return(j=j.setProgress(1,O,1,[O])).set(F)};(D.prototype=Object.create(Promise.prototype)).constructor=D,D.convert=function(O,F){return O.__proto__=F||D.prototype,O},D.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},D.prototype.from=function(O,F){return this.then(function(){switch(F=F||function(V){switch(I(V)){case"string":return"string";case"element":return"canvas"===V.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(O)){case"string":return this.then(b).then(function(V){return this.set({src:x("div",{innerHTML:O,dompurify:V})})});case"element":return this.set({src:O});case"canvas":return this.set({canvas:O});case"img":return this.set({img:O});default:return this.error("Unknown source type.")}})},D.prototype.to=function(O){switch(O){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},D.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var O={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},F=function V(j,J){for(var ee=3===j.nodeType?document.createTextNode(j.nodeValue):j.cloneNode(!1),se=j.firstChild;se;se=se.nextSibling)!0!==J&&1===se.nodeType&&"SCRIPT"===se.nodeName||ee.appendChild(V(se,J));return 1===j.nodeType&&("CANVAS"===j.nodeName?(ee.width=j.width,ee.height=j.height,ee.getContext("2d").drawImage(j,0,0)):"TEXTAREA"!==j.nodeName&&"SELECT"!==j.nodeName||(ee.value=j.value),ee.addEventListener("load",function(){ee.scrollTop=j.scrollTop,ee.scrollLeft=j.scrollLeft},!0)),ee}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===F.tagName&&(O.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=x("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=x("div",{className:"html2pdf__container",style:O}),this.prop.container.appendChild(F),this.prop.container.firstChild.appendChild(x("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},D.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(_).then(function(F){var V=Object.assign({},this.opt.html2canvas);return delete V.onrendered,F(this.prop.container,V)}).then(function(F){(this.opt.html2canvas.onrendered||function(){})(F),this.prop.canvas=F,document.body.removeChild(this.prop.overlay)})},D.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(_).then(function(F){var V=this.opt.jsPDF,j=this.opt.fontFaces,J="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,ee=Object.assign({async:!0,allowTaint:!0,scale:J,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete ee.onrendered,V.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,V.context2d.posX=this.opt.x,V.context2d.posY=this.opt.y,V.context2d.margin=this.opt.margin,V.context2d.fontFaces=j,j)for(var se=0;se<j.length;++se){var z=j[se],ye=z.src.find(function(fe){return"truetype"===fe.format});ye&&V.addFont(ye.url,z.ref.name,z.ref.style)}return ee.windowHeight=ee.windowHeight||0,ee.windowHeight=0==ee.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):ee.windowHeight,V.context2d.save(!0),F(this.prop.container,ee)}).then(function(F){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(F),this.prop.canvas=F,document.body.removeChild(this.prop.overlay)})},D.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var O=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=O})},D.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},D.prototype.output=function(O,F,V){return"img"===(V=V||"pdf").toLowerCase()||"image"===V.toLowerCase()?this.outputImg(O,F):this.outputPdf(O,F)},D.prototype.outputPdf=function(O,F){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(O,F)})},D.prototype.outputImg=function(O){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(O){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+O+'" is not supported.'}})},D.prototype.save=function(O){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(O?{filename:O}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},D.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},D.prototype.set=function(O){if("object"!==I(O))return this;var F=Object.keys(O||{}).map(function(V){if(V in D.template.prop)return function(){this.prop[V]=O[V]};switch(V){case"margin":return this.setMargin.bind(this,O.margin);case"jsPDF":return function(){return this.opt.jsPDF=O.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,O.pageSize);default:return function(){this.opt[V]=O[V]}}},this);return this.then(function(){return this.thenList(F)})},D.prototype.get=function(O,F){return this.then(function(){var V=O in D.template.prop?this.prop[O]:this.opt[O];return F?F(V):V})},D.prototype.setMargin=function(O){return this.then(function(){switch(I(O)){case"number":O=[O,O,O,O];case"array":if(2===O.length&&(O=[O[0],O[1],O[0],O[1]]),4===O.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=O}).then(this.setPageSize)},D.prototype.setPageSize=function(O){function F(V,j){return Math.floor(V*j/72*96)}return this.then(function(){(O=O||ni.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(O.inner={width:O.width-this.opt.margin[1]-this.opt.margin[3],height:O.height-this.opt.margin[0]-this.opt.margin[2]},O.inner.px={width:F(O.inner.width,O.k),height:F(O.inner.height,O.k)},O.inner.ratio=O.inner.height/O.inner.width),this.prop.pageSize=O})},D.prototype.setProgress=function(O,F,V,j){return null!=O&&(this.progress.val=O),null!=F&&(this.progress.state=F),null!=V&&(this.progress.n=V),null!=j&&(this.progress.stack=j),this.progress.ratio=this.progress.val/this.progress.state,this},D.prototype.updateProgress=function(O,F,V,j){return this.setProgress(O?this.progress.val+O:null,F||null,V?this.progress.n+V:null,j?this.progress.stack.concat(j):null)},D.prototype.then=function(O,F){var V=this;return this.thenCore(O,F,function(j,J){return V.updateProgress(null,null,1,[j]),Promise.prototype.then.call(this,function(ee){return V.updateProgress(null,j),ee}).then(j,J).then(function(ee){return V.updateProgress(1),ee})})},D.prototype.thenCore=function(O,F,V){V=V||Promise.prototype.then,O&&(O=O.bind(this)),F&&(F=F.bind(this));var j=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:D.convert(Object.assign({},this),Promise.prototype),J=V.call(j,O,F);return D.convert(J,this.__proto__)},D.prototype.thenExternal=function(O,F){return Promise.prototype.then.call(this,O,F)},D.prototype.thenList=function(O){var F=this;return O.forEach(function(V){F=F.thenCore(V)}),F},D.prototype.catch=function(O){O&&(O=O.bind(this));var F=Promise.prototype.catch.call(this,O);return D.convert(F,this)},D.prototype.catchExternal=function(O){return Promise.prototype.catch.call(this,O)},D.prototype.error=function(O){return this.then(function(){throw new Error(O)})},D.prototype.using=D.prototype.set,D.prototype.saveAs=D.prototype.save,D.prototype.export=D.prototype.output,D.prototype.run=D.prototype.then,ni.getPageSize=function(O,F,V){if("object"===(0,h.A)(O)){var j=O;O=j.orientation,F=j.unit||F,V=j.format||V}F=F||"mm",V=V||"a4",O=(""+(O||"P")).toLowerCase();var J,ee=(""+V).toLowerCase(),se={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(F){case"pt":J=1;break;case"mm":J=72/25.4;break;case"cm":J=72/2.54;break;case"in":J=72;break;case"px":J=.75;break;case"pc":case"em":J=12;break;case"ex":J=6;break;default:throw"Invalid unit: "+F}var z,ye=0,fe=0;if(se.hasOwnProperty(ee))ye=se[ee][1]/J,fe=se[ee][0]/J;else try{ye=V[1],fe=V[0]}catch{throw new Error("Invalid format: "+V)}if("p"===O||"portrait"===O)O="p",fe>ye&&(z=fe,fe=ye,ye=z);else{if("l"!==O&&"landscape"!==O)throw"Invalid orientation: "+O;O="l",ye>fe&&(z=fe,fe=ye,ye=z)}return{width:fe,height:ye,unit:F,k:J,orientation:O}},w.html=function(O,F){(F=F||{}).callback=F.callback||function(){},F.html2canvas=F.html2canvas||{},F.html2canvas.canvas=F.html2canvas.canvas||this.canvas,F.jsPDF=F.jsPDF||this,F.fontFaces=F.fontFaces?F.fontFaces.map(pS):null;var V=new D(F);return F.worker?V:V.from(O).doCallback()}}(ni.API),ni.API.addJS=function(w){return il=w,this.internal.events.subscribe("postPutResources",function(){Es=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Es+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Ys=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+il+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==Es&&void 0!==Ys&&this.internal.out("/Names <</JavaScript "+Es+" 0 R>>")}),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(w){var _;w.events.push(["postPutResources",function(){var b=this,I=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var x=b.outline.render().split(/\r\n/),D=0;D<x.length;D++){var O=x[D],F=I.exec(O);null!=F&&b.internal.newObjectDeferredBegin(F[1],!1),b.internal.write(O)}if(this.outline.createNamedDestinations){var j=this.internal.pages.length,J=[];for(D=0;D<j;D++){var ee=b.internal.newObject();J.push(ee);var se=b.internal.getPageInfo(D+1);b.internal.write("<< /D["+se.objId+" 0 R /XYZ null null null]>> endobj")}var z=b.internal.newObject();for(b.internal.write("<< /Names [ "),D=0;D<J.length;D++)b.internal.write("(page_"+(D+1)+")"+J[D]+" 0 R");b.internal.write(" ] >>","endobj"),_=b.internal.newObject(),b.internal.write("<< /Dests "+z+" 0 R"),b.internal.write(">>","endobj")}}]),w.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+_+" 0 R"))}]),w.events.push(["initialized",function(){var b=this;b.outline={createNamedDestinations:!1,root:{children:[]}},b.outline.add=function(I,x,D){var O={title:x,options:D,children:[]};return null==I&&(I=this.root),I.children.push(O),O},b.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=b,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},b.outline.genIds_r=function(I){I.id=b.internal.newObjectDeferred();for(var x=0;x<I.children.length;x++)this.genIds_r(I.children[x])},b.outline.renderRoot=function(I){this.objStart(I),this.line("/Type /Outlines"),I.children.length>0&&(this.line("/First "+this.makeRef(I.children[0])),this.line("/Last "+this.makeRef(I.children[I.children.length-1]))),this.line("/Count "+this.count_r({count:0},I)),this.objEnd()},b.outline.renderItems=function(I){for(var x=this.ctx.pdf.internal.getVerticalCoordinateString,D=0;D<I.children.length;D++){var O=I.children[D];this.objStart(O),this.line("/Title "+this.makeString(O.title)),this.line("/Parent "+this.makeRef(I)),D>0&&this.line("/Prev "+this.makeRef(I.children[D-1])),D<I.children.length-1&&this.line("/Next "+this.makeRef(I.children[D+1])),O.children.length>0&&(this.line("/First "+this.makeRef(O.children[0])),this.line("/Last "+this.makeRef(O.children[O.children.length-1])));var F=this.count=this.count_r({count:0},O);if(F>0&&this.line("/Count "+F),O.options&&O.options.pageNumber){var V=b.internal.getPageInfo(O.options.pageNumber);this.line("/Dest ["+V.objId+" 0 R /XYZ 0 "+x(0)+" 0]")}this.objEnd()}for(var j=0;j<I.children.length;j++)this.renderItems(I.children[j])},b.outline.line=function(I){this.ctx.val+=I+"\r\n"},b.outline.makeRef=function(I){return I.id+" 0 R"},b.outline.makeString=function(I){return"("+b.internal.pdfEscape(I)+")"},b.outline.objStart=function(I){this.ctx.val+="\r\n"+I.id+" 0 obj\r\n<<\r\n"},b.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},b.outline.count_r=function(I,x){for(var D=0;D<x.children.length;D++)I.count++,this.count_r(I,x.children[D]);return I.count}}])}(ni.API),
/**
         * @license
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(w){var _=[192,193,194,195,196,197,198,199];w.processJPEG=function(b,I,x,D,O,F){var V,j=this.decode.DCT_DECODE,J=null;if("string"==typeof b||this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b)){switch(b=this.__addimage__.isArrayBuffer(b=O||b)?new Uint8Array(b):b,(V=function(ee){for(var se,z=256*ee.charCodeAt(4)+ee.charCodeAt(5),ye=ee.length,fe={width:0,height:0,numcomponents:1},be=4;be<ye;be+=2){if(-1!==_.indexOf(ee.charCodeAt((be+=z)+1))){se=256*ee.charCodeAt(be+5)+ee.charCodeAt(be+6),fe={width:256*ee.charCodeAt(be+7)+ee.charCodeAt(be+8),height:se,numcomponents:ee.charCodeAt(be+9)};break}z=256*ee.charCodeAt(be+2)+ee.charCodeAt(be+3)}return fe}(b=this.__addimage__.isArrayBufferView(b)?this.__addimage__.arrayBufferToBinaryString(b):b)).numcomponents){case 1:F=this.color_spaces.DEVICE_GRAY;break;case 4:F=this.color_spaces.DEVICE_CMYK;break;case 3:F=this.color_spaces.DEVICE_RGB}J={data:b,width:V.width,height:V.height,colorSpace:F,bitsPerComponent:8,filter:j,index:I,alias:x}}return J}}(ni.API);var Kf,Yf,Xf,UA,WA,Kv=function(){var w,_,b;function I(D){var O,V,j,J,ee,se,z,ye,fe,be,le,Ce,Le;for(this.data=D,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},ee=null;;){switch(O=this.readUInt32(),ye=function(){var Ee,qe;for(qe=[],Ee=0;Ee<4;++Ee)qe.push(String.fromCharCode(this.data[this.pos++]));return qe}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(O);break;case"fcTL":ee&&this.animation.frames.push(ee),this.pos+=4,ee={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},J=this.readUInt16(),j=this.readUInt16()||100,ee.delay=1e3*J/j,ee.disposeOp=this.data[this.pos++],ee.blendOp=this.data[this.pos++],ee.data=[];break;case"IDAT":case"fdAT":for("fdAT"===ye&&(this.pos+=4,O-=4),D=ee?.data||this.imgData,le=0;0<=O?le<O:le>O;0<=O?++le:--le)D.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(V=this.palette.length/3,this.transparency.indexed=this.read(O),this.transparency.indexed.length>V)throw new Error("More transparent colors than palette size");if((fe=V-this.transparency.indexed.length)>0)for(Ce=0;0<=fe?Ce<fe:Ce>fe;0<=fe?++Ce:--Ce)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(O)[0];break;case 2:this.transparency.rgb=this.read(O)}break;case"tEXt":se=(be=this.read(O)).indexOf(0),z=String.fromCharCode.apply(String,be.slice(0,se)),this.text[z]=String.fromCharCode.apply(String,be.slice(se+1));break;case"IEND":return ee&&this.animation.frames.push(ee),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(Le=this.colorType)||6===Le,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=O}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}I.prototype.read=function(D){var O,F;for(F=[],O=0;0<=D?O<D:O>D;0<=D?++O:--O)F.push(this.data[this.pos++]);return F},I.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},I.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},I.prototype.decodePixels=function(D){var O=this.pixelBitlength/8,F=new Uint8Array(this.width*this.height*O),V=0,j=this;if(null==D&&(D=this.imgData),0===D.length)return new Uint8Array(0);function J(ee,se,z,ye){var fe,be,le,Ce,Le,Ee,qe,Ut,Pe,lt,Lt,ce,he,Ve,_e,Tt,wt,Pt,nt,Vt,jt=Math.ceil((j.width-ee)/z),Sn=Math.ceil((j.height-se)/ye),ie=j.width==jt&&j.height==Sn;for(he=O*jt,Lt=ie?F:new Uint8Array(he*Sn),Ee=D.length,ce=0,be=0;ce<Sn&&V<Ee;){switch(D[V++]){case 0:for(Ce=Tt=0;Tt<he;Ce=Tt+=1)Lt[be++]=D[V++];break;case 1:for(Ce=wt=0;wt<he;Ce=wt+=1)fe=D[V++],Le=Ce<O?0:Lt[be-O],Lt[be++]=(fe+Le)%256;break;case 2:for(Ce=Pt=0;Pt<he;Ce=Pt+=1)fe=D[V++],le=(Ce-Ce%O)/O,Lt[be++]=((Ve=ce&&Lt[(ce-1)*he+le*O+Ce%O])+fe)%256;break;case 3:for(Ce=nt=0;nt<he;Ce=nt+=1)fe=D[V++],le=(Ce-Ce%O)/O,Le=Ce<O?0:Lt[be-O],Ve=ce&&Lt[(ce-1)*he+le*O+Ce%O],Lt[be++]=(fe+Math.floor((Le+Ve)/2))%256;break;case 4:for(Ce=Vt=0;Vt<he;Ce=Vt+=1)fe=D[V++],le=(Ce-Ce%O)/O,0===ce?Ve=_e=0:(Ve=Lt[(ce-1)*he+le*O+Ce%O],_e=le&&Lt[(ce-1)*he+(le-1)*O+Ce%O]),qe=(Le=Ce<O?0:Lt[be-O])+Ve-_e,Ut=Math.abs(qe-Le),Pe=Math.abs(qe-Ve),lt=Math.abs(qe-_e),Lt[be++]=(fe+(Ut<=Pe&&Ut<=lt?Le:Pe<=lt?Ve:_e))%256;break;default:throw new Error("Invalid filter algorithm: "+D[V-1])}if(!ie){var we=((se+ce*ye)*j.width+ee)*O,Re=ce*he;for(Ce=0;Ce<jt;Ce+=1){for(var Ge=0;Ge<O;Ge+=1)F[we++]=Lt[Re++];we+=(z-1)*O}}ce++}}return D=wr(D),1==j.interlaceMethod?(J(0,0,8,8),J(4,0,8,8),J(0,4,4,8),J(2,0,4,4),J(0,2,2,4),J(1,0,2,2),J(0,1,1,2)):J(0,0,1,1),F},I.prototype.decodePalette=function(){var D,O,F,V,j,J,ee,se,z;for(F=this.palette,J=this.transparency.indexed||[],j=new Uint8Array((J.length||0)+F.length),V=0,D=0,O=ee=0,se=F.length;ee<se;O=ee+=3)j[V++]=F[O],j[V++]=F[O+1],j[V++]=F[O+2],j[V++]=null!=(z=J[D++])?z:255;return j},I.prototype.copyToImageData=function(D,O){var F,V,j,J,ee,se,z,ye,fe,be,le;if(V=this.colors,fe=null,F=this.hasAlphaChannel,this.palette.length&&(fe=null!=(le=this._decodedPalette)?le:this._decodedPalette=this.decodePalette(),V=4,F=!0),ye=(j=D.data||D).length,ee=fe||O,J=se=0,1===V)for(;J<ye;)z=fe?4*O[J/4]:se,be=ee[z++],j[J++]=be,j[J++]=be,j[J++]=be,j[J++]=F?ee[z++]:255,se=z;else for(;J<ye;)z=fe?4*O[J/4]:se,j[J++]=ee[z++],j[J++]=ee[z++],j[J++]=ee[z++],j[J++]=F?ee[z++]:255,se=z},I.prototype.decode=function(){var D;return D=new Uint8Array(this.width*this.height*4),this.copyToImageData(D,this.decodePixels()),D};var x=function(){if("[object Window]"===Object.prototype.toString.call(Zn)){try{_=Zn.document.createElement("canvas"),b=_.getContext("2d")}catch{return!1}return!0}return!1};return x(),w=function(D){var O;if(!0===x())return b.width=D.width,b.height=D.height,b.clearRect(0,0,D.width,D.height),b.putImageData(D,0,0),(O=new Image).src=_.toDataURL(),O;throw new Error("This method requires a Browser with Canvas-capability.")},I.prototype.decodeFrames=function(D){var O,F,V,j,J,ee,se,z;if(this.animation){for(z=[],F=J=0,ee=(se=this.animation.frames).length;J<ee;F=++J)V=D.createImageData((O=se[F]).width,O.height),j=this.decodePixels(new Uint8Array(O.data)),this.copyToImageData(V,j),O.imageData=V,z.push(O.image=w(V));return z}},I.prototype.renderFrame=function(D,O){var F,V,j;return F=(V=this.animation.frames)[O],j=V[O-1],0===O&&D.clearRect(0,0,this.width,this.height),1===j?.disposeOp?D.clearRect(j.xOffset,j.yOffset,j.width,j.height):2===j?.disposeOp&&D.putImageData(j.imageData,j.xOffset,j.yOffset),0===F.blendOp&&D.clearRect(F.xOffset,F.yOffset,F.width,F.height),D.drawImage(F.image,F.xOffset,F.yOffset)},I.prototype.animate=function(D){var O,F,V,j,J,ee,se=this;return F=0,j=(ee=this.animation).numFrames,V=ee.frames,J=ee.numPlays,(O=function(){var z,ye;if(z=F++%j,ye=V[z],se.renderFrame(D,z),j>1&&F/j<J)return se.animation._timeout=setTimeout(O,ye.delay)})()},I.prototype.stopAnimation=function(){var D;return clearTimeout(null!=(D=this.animation)?D._timeout:void 0)},I.prototype.render=function(D){var O,F;return D._png&&D._png.stopAnimation(),D._png=this,D.width=this.width,D.height=this.height,O=D.getContext("2d"),this.animation?(this.decodeFrames(O),this.animate(O)):(F=O.createImageData(this.width,this.height),this.copyToImageData(F,this.decodePixels()),O.putImageData(F,0,0))},I}();function RC(w){var _=0;if(71!==w[_++]||73!==w[_++]||70!==w[_++]||56!==w[_++]||56!=(w[_++]+1&253)||97!==w[_++])throw new Error("Invalid GIF 87a/89a header.");var b=w[_++]|w[_++]<<8,I=w[_++]|w[_++]<<8,x=w[_++],O=1<<1+(7&x);_++,_++;var F=null,V=null;x>>7&&(F=_,V=O,_+=3*O);var j=!0,J=[],ee=0,se=null,z=0,ye=null;for(this.width=b,this.height=I;j&&_<w.length;)switch(w[_++]){case 33:switch(w[_++]){case 255:if(11!==w[_]||78==w[_+1]&&69==w[_+2]&&84==w[_+3]&&83==w[_+4]&&67==w[_+5]&&65==w[_+6]&&80==w[_+7]&&69==w[_+8]&&50==w[_+9]&&46==w[_+10]&&48==w[_+11]&&3==w[_+12]&&1==w[_+13]&&0==w[_+16])_+=14,ye=w[_++]|w[_++]<<8,_++;else for(_+=12;;){if(!((ce=w[_++])>=0))throw Error("Invalid block size");if(0===ce)break;_+=ce}break;case 249:if(4!==w[_++]||0!==w[_+4])throw new Error("Invalid graphics extension block.");var fe=w[_++];ee=w[_++]|w[_++]<<8,se=w[_++],!(1&fe)&&(se=null),z=fe>>2&7,_++;break;case 254:for(;;){if(!((ce=w[_++])>=0))throw Error("Invalid block size");if(0===ce)break;_+=ce}break;default:throw new Error("Unknown graphic control label: 0x"+w[_-1].toString(16))}break;case 44:var be=w[_++]|w[_++]<<8,le=w[_++]|w[_++]<<8,Ce=w[_++]|w[_++]<<8,Le=w[_++]|w[_++]<<8,Ee=w[_++],qe=Ee>>6&1,Ut=1<<1+(7&Ee),ot=F,Pe=V,lt=!1;Ee>>7&&(lt=!0,ot=_,Pe=Ut,_+=3*Ut);var Lt=_;for(_++;;){var ce;if(!((ce=w[_++])>=0))throw Error("Invalid block size");if(0===ce)break;_+=ce}J.push({x:be,y:le,width:Ce,height:Le,has_local_palette:lt,palette_offset:ot,palette_size:Pe,data_offset:Lt,data_length:_-Lt,transparent_index:se,interlaced:!!qe,delay:ee,disposal:z});break;case 59:j=!1;break;default:throw new Error("Unknown gif block: 0x"+w[_-1].toString(16))}this.numFrames=function(){return J.length},this.loopCount=function(){return ye},this.frameInfo=function(he){if(he<0||he>=J.length)throw new Error("Frame index out of range.");return J[he]},this.decodeAndBlitFrameBGRA=function(he,Ve){var _e=this.frameInfo(he),Tt=_e.width*_e.height,wt=new Uint8Array(Tt);Dg(w,_e.data_offset,wt,Tt);var Pt=_e.palette_offset,nt=_e.transparent_index;null===nt&&(nt=256);var Vt=_e.width,jt=b-Vt,Sn=Vt,ie=4*(_e.y*b+_e.x),we=4*((_e.y+_e.height)*b+_e.x),Re=ie,Ge=4*jt;!0===_e.interlaced&&(Ge+=4*b*7);for(var Je=8,$e=0,Et=wt.length;$e<Et;++$e){var bt=wt[$e];if(0===Sn&&(Sn=Vt,(Re+=Ge)>=we&&(Ge=4*jt+4*b*(Je-1),Re=ie+(Vt+jt)*(Je<<1),Je>>=1)),bt===nt)Re+=4;else{var dn=w[Pt+3*bt],pn=w[Pt+3*bt+1];Ve[Re++]=w[Pt+3*bt+2],Ve[Re++]=pn,Ve[Re++]=dn,Ve[Re++]=255}--Sn}},this.decodeAndBlitFrameRGBA=function(he,Ve){var _e=this.frameInfo(he),Tt=_e.width*_e.height,wt=new Uint8Array(Tt);Dg(w,_e.data_offset,wt,Tt);var Pt=_e.palette_offset,nt=_e.transparent_index;null===nt&&(nt=256);var Vt=_e.width,jt=b-Vt,Sn=Vt,ie=4*(_e.y*b+_e.x),we=4*((_e.y+_e.height)*b+_e.x),Re=ie,Ge=4*jt;!0===_e.interlaced&&(Ge+=4*b*7);for(var Je=8,$e=0,Et=wt.length;$e<Et;++$e){var bt=wt[$e];if(0===Sn&&(Sn=Vt,(Re+=Ge)>=we&&(Ge=4*jt+4*b*(Je-1),Re=ie+(Vt+jt)*(Je<<1),Je>>=1)),bt===nt)Re+=4;else{var pn=w[Pt+3*bt+1],An=w[Pt+3*bt+2];Ve[Re++]=w[Pt+3*bt],Ve[Re++]=pn,Ve[Re++]=An,Ve[Re++]=255}--Sn}}}function Dg(w,_,b,I){for(var x=w[_++],D=1<<x,O=D+1,F=O+1,V=x+1,j=(1<<V)-1,J=0,ee=0,se=0,z=w[_++],ye=new Int32Array(4096),fe=null;;){for(;J<16&&0!==z;)ee|=w[_++]<<J,J+=8,1===z?z=w[_++]:--z;if(J<V)break;var be=ee&j;if(ee>>=V,J-=V,be!==D){if(be===O)break;for(var le=be<F?be:fe,Ce=0,Le=le;Le>D;)Le=ye[Le]>>8,++Ce;var Ee=Le;if(se+Ce+(le!==be?1:0)>I)return void Xr.log("Warning, gif stream longer than expected.");b[se++]=Ee;var qe=se+=Ce;for(le!==be&&(b[se++]=Ee),Le=le;Ce--;)b[--qe]=255&(Le=ye[Le]),Le>>=8;null!==fe&&F<4096&&(ye[F++]=fe<<8|Ee,F>=j+1&&V<12&&(++V,j=j<<1|1)),fe=be}else F=O+1,j=(1<<(V=x+1))-1,fe=null}return se!==I&&Xr.log("Warning, gif stream shorter than expected."),b}function Yv(w){var _,b,I,x,D,O=Math.floor,F=new Array(64),V=new Array(64),j=new Array(64),J=new Array(64),ee=new Array(65535),se=new Array(65535),z=new Array(64),ye=new Array(64),fe=[],be=0,le=7,Ce=new Array(64),Le=new Array(64),Ee=new Array(64),qe=new Array(256),Ut=new Array(2048),ot=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Pe=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],lt=[0,1,2,3,4,5,6,7,8,9,10,11],Lt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],ce=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],he=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Ve=[0,1,2,3,4,5,6,7,8,9,10,11],_e=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Tt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function wt(ie,we){for(var Re=0,Ge=0,Je=new Array,$e=1;$e<=16;$e++){for(var Et=1;Et<=ie[$e];Et++)Je[we[Ge]]=[],Je[we[Ge]][0]=Re,Je[we[Ge]][1]=$e,Ge++,Re++;Re*=2}return Je}function Pt(ie){for(var we=ie[0],Re=ie[1]-1;Re>=0;)we&1<<Re&&(be|=1<<le),Re--,--le<0&&(255==be?(nt(255),nt(0)):nt(be),le=7,be=0)}function nt(ie){fe.push(ie)}function Vt(ie){nt(ie>>8&255),nt(255&ie)}function jt(ie,we,Re,Ge,Je){for(var $e,Et=Je[0],bt=Je[240],dn=function(un,vn){var On,Pn,ai,Ai,Gi,Yi,or,Qr,Ri,er,Un=0;for(Ri=0;Ri<8;++Ri){var Oa=(On=un[Un])+(Qr=un[Un+7]),fr=On-Qr,ru=(Pn=un[Un+1])+(or=un[Un+6]),Ar=Pn-or,os=(ai=un[Un+2])+(Yi=un[Un+5]),xd=ai-Yi,Fr=(Ai=un[Un+3])+(Gi=un[Un+4]),Mg=Ai-Gi,Ss=Oa+Fr,pc=Oa-Fr,Ph=ru+os,Xs=ru-os;un[Un]=Ss+Ph,un[Un+4]=Ss-Ph;var Bn=.707106781*(Xs+pc);un[Un+2]=pc+Bn,un[Un+6]=pc-Bn;var _i=.382683433*((Ss=Mg+xd)-(Xs=Ar+fr)),Fa=.5411961*Ss+_i,Qs=1.306562965*Xs+_i,xl=.707106781*(Ph=xd+Ar),sl=fr+xl,ii=fr-xl;un[Un+5]=ii+Fa,un[Un+3]=ii-Fa,un[Un+1]=sl+Qs,un[Un+7]=sl-Qs,Un+=8}for(Un=0,Ri=0;Ri<8;++Ri){var gc=(On=un[Un])+(Qr=un[Un+56]),mc=On-Qr,_a=(Pn=un[Un+8])+(or=un[Un+48]),mo=Pn-or,Is=(ai=un[Un+16])+(Yi=un[Un+40]),ol=ai-Yi,ya=(Ai=un[Un+24])+(Gi=un[Un+32]),vc=Ai-Gi,Pl=gc+ya,La=gc-ya,_c=_a+Is,yc=_a-Is;un[Un]=Pl+_c,un[Un+32]=Pl-_c;var Hi=.707106781*(yc+La);un[Un+16]=La+Hi,un[Un+48]=La-Hi;var Ml=.382683433*((Pl=vc+ol)-(yc=mo+mc)),Cc=.5411961*Pl+Ml,Js=1.306562965*yc+Ml,al=.707106781*(_c=ol+mo),bc=mc+al,wc=mc-al;un[Un+40]=wc+Cc,un[Un+24]=wc-Cc,un[Un+8]=bc+Js,un[Un+56]=bc-Js,Un++}for(Ri=0;Ri<64;++Ri)z[Ri]=(er=un[Ri]*vn[Ri])>0?er+.5|0:er-.5|0;return z}(ie,we),pn=0;pn<64;++pn)ye[ot[pn]]=dn[pn];var An=ye[0]-Re;Re=ye[0],0==An?Pt(Ge[0]):(Pt(Ge[se[$e=32767+An]]),Pt(ee[$e]));for(var hn=63;hn>0&&0==ye[hn];)hn--;if(0==hn)return Pt(Et),Re;for(var pi,Rt=1;Rt<=hn;){for(var Te=Rt;0==ye[Rt]&&Rt<=hn;)++Rt;var xi=Rt-Te;if(xi>=16){pi=xi>>4;for(var jn=1;jn<=pi;++jn)Pt(bt);xi&=15}Pt(Je[(xi<<4)+se[$e=32767+ye[Rt]]]),Pt(ee[$e]),Rt++}return 63!=hn&&Pt(Et),Re}function Sn(ie){ie=Math.min(Math.max(ie,1),100),D!=ie&&(function(we){for(var Re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ge=0;Ge<64;Ge++){var Je=O((Re[Ge]*we+50)/100);Je=Math.min(Math.max(Je,1),255),F[ot[Ge]]=Je}for(var $e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Et=0;Et<64;Et++){var bt=O(($e[Et]*we+50)/100);bt=Math.min(Math.max(bt,1),255),V[ot[Et]]=bt}for(var dn=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],pn=0,An=0;An<8;An++)for(var hn=0;hn<8;hn++)j[pn]=1/(F[ot[pn]]*dn[An]*dn[hn]*8),J[pn]=1/(V[ot[pn]]*dn[An]*dn[hn]*8),pn++}(ie<50?Math.floor(5e3/ie):Math.floor(200-2*ie)),D=ie)}this.encode=function(ie,we){var Pn,ai;we&&Sn(we),fe=new Array,be=0,le=7,Vt(65496),Vt(65504),Vt(16),nt(74),nt(70),nt(73),nt(70),nt(0),nt(1),nt(1),nt(0),Vt(1),Vt(1),nt(0),nt(0),function(){Vt(65499),Vt(132),nt(0);for(var Pn=0;Pn<64;Pn++)nt(F[Pn]);nt(1);for(var ai=0;ai<64;ai++)nt(V[ai])}(),Pn=ie.width,ai=ie.height,Vt(65472),Vt(17),nt(8),Vt(ai),Vt(Pn),nt(3),nt(1),nt(17),nt(0),nt(2),nt(17),nt(1),nt(3),nt(17),nt(1),function(){Vt(65476),Vt(418),nt(0);for(var Pn=0;Pn<16;Pn++)nt(Pe[Pn+1]);for(var ai=0;ai<=11;ai++)nt(lt[ai]);nt(16);for(var Ai=0;Ai<16;Ai++)nt(Lt[Ai+1]);for(var Gi=0;Gi<=161;Gi++)nt(ce[Gi]);nt(1);for(var Yi=0;Yi<16;Yi++)nt(he[Yi+1]);for(var or=0;or<=11;or++)nt(Ve[or]);nt(17);for(var Qr=0;Qr<16;Qr++)nt(_e[Qr+1]);for(var Ri=0;Ri<=161;Ri++)nt(Tt[Ri])}(),Vt(65498),Vt(12),nt(3),nt(1),nt(0),nt(2),nt(17),nt(3),nt(17),nt(0),nt(63),nt(0);var Re=0,Ge=0,Je=0;be=0,le=7,this.encode.displayName="_encode_";for(var $e,Et,bt,dn,pn,An,hn,pi,Rt,Te=ie.data,jn=ie.height,un=4*ie.width,vn=0;vn<jn;){for($e=0;$e<un;){for(pn=un*vn+$e,hn=-1,pi=0,Rt=0;Rt<64;Rt++)An=pn+(pi=Rt>>3)*un+(hn=4*(7&Rt)),vn+pi>=jn&&(An-=un*(vn+1+pi-jn)),$e+hn>=un&&(An-=$e+hn-un+4),Et=Te[An++],bt=Te[An++],dn=Te[An++],Ce[Rt]=(Ut[Et]+Ut[bt+256|0]+Ut[dn+512|0]>>16)-128,Le[Rt]=(Ut[Et+768|0]+Ut[bt+1024|0]+Ut[dn+1280|0]>>16)-128,Ee[Rt]=(Ut[Et+1280|0]+Ut[bt+1536|0]+Ut[dn+1792|0]>>16)-128;Re=jt(Ce,j,Re,_,I),Ge=jt(Le,J,Ge,b,x),Je=jt(Ee,J,Je,b,x),$e+=32}vn+=8}if(le>=0){var On=[];On[1]=le+1,On[0]=(1<<le+1)-1,Pt(On)}return Vt(65497),new Uint8Array(fe)},w=w||50,function(){for(var ie=String.fromCharCode,we=0;we<256;we++)qe[we]=ie(we)}(),_=wt(Pe,lt),b=wt(he,Ve),I=wt(Lt,ce),x=wt(_e,Tt),function(){for(var ie=1,we=2,Re=1;Re<=15;Re++){for(var Ge=ie;Ge<we;Ge++)se[32767+Ge]=Re,ee[32767+Ge]=[],ee[32767+Ge][1]=Re,ee[32767+Ge][0]=Ge;for(var Je=-(we-1);Je<=-ie;Je++)se[32767+Je]=Re,ee[32767+Je]=[],ee[32767+Je][1]=Re,ee[32767+Je][0]=we-1+Je;ie<<=1,we<<=1}}(),function(){for(var ie=0;ie<256;ie++)Ut[ie]=19595*ie,Ut[ie+256|0]=38470*ie,Ut[ie+512|0]=7471*ie+32768,Ut[ie+768|0]=-11059*ie,Ut[ie+1024|0]=-21709*ie,Ut[ie+1280|0]=32768*ie+8421375,Ut[ie+1536|0]=-27439*ie,Ut[ie+1792|0]=-5329*ie}(),Sn(w)}function rl(w,_){if(this.pos=0,this.buffer=w,this.datav=new DataView(w.buffer),this.is_with_alpha=!!_,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function EN(w){function _(Pe){if(!Pe)throw Error("assert :P")}function b(Pe,lt,Lt){for(var ce=0;4>ce;ce++)if(Pe[lt+ce]!=Lt.charCodeAt(ce))return!0;return!1}function I(Pe,lt,Lt,ce,he){for(var Ve=0;Ve<he;Ve++)Pe[lt+Ve]=Lt[ce+Ve]}function x(Pe,lt,Lt,ce){for(var he=0;he<ce;he++)Pe[lt+he]=Lt}function D(Pe){return new Int32Array(Pe)}function O(Pe,lt){for(var Lt=[],ce=0;ce<Pe;ce++)Lt.push(new lt);return Lt}function F(Pe,lt){var Lt=[];return function ce(he,Ve,_e){for(var Tt=_e[Ve],wt=0;wt<Tt&&(he.push(_e.length>Ve+1?[]:new lt),!(_e.length<Ve+1));wt++)ce(he[wt],Ve+1,_e)}(Lt,0,Pe),Lt}var V=function(){var Pe=this;function lt(C,T){for(var L=1<<T-1>>>0;C&L;)L>>>=1;return L?(C&L-1)+L:C}function Lt(C,T,L,H,Z){_(!(H%L));do{C[T+(H-=L)]=Z}while(0<H)}function ce(C,T,L,H,Z){if(_(2328>=Z),512>=Z)var ne=D(512);else if(null==(ne=D(Z)))return 0;return function(re,oe,ue,ge,Ue,ft){var dt,Ze,Xt=oe,Nt=1<<ue,ze=D(16),Ye=D(16);for(_(0!=Ue),_(null!=ge),_(null!=re),_(0<ue),Ze=0;Ze<Ue;++Ze){if(15<ge[Ze])return 0;++ze[ge[Ze]]}if(ze[0]==Ue)return 0;for(Ye[1]=0,dt=1;15>dt;++dt){if(ze[dt]>1<<dt)return 0;Ye[dt+1]=Ye[dt]+ze[dt]}for(Ze=0;Ze<Ue;++Ze)dt=ge[Ze],0<ge[Ze]&&(ft[Ye[dt]++]=Ze);if(1==Ye[15])return(ge=new he).g=0,ge.value=ft[0],Lt(re,Xt,1,Nt,ge),Nt;var Yt,en=-1,Qt=Nt-1,Gn=0,yn=1,Xn=1,Rn=1<<ue;for(Ze=0,dt=1,Ue=2;dt<=ue;++dt,Ue<<=1){if(yn+=Xn<<=1,0>(Xn-=ze[dt]))return 0;for(;0<ze[dt];--ze[dt])(ge=new he).g=dt,ge.value=ft[Ze++],Lt(re,Xt+Gn,Ue,Rn,ge),Gn=lt(Gn,dt)}for(dt=ue+1,Ue=2;15>=dt;++dt,Ue<<=1){if(yn+=Xn<<=1,0>(Xn-=ze[dt]))return 0;for(;0<ze[dt];--ze[dt]){if(ge=new he,(Gn&Qt)!=en){for(Xt+=Rn,Yt=1<<(en=dt)-ue;15>en&&!(0>=(Yt-=ze[en]));)++en,Yt<<=1;Nt+=Rn=1<<(Yt=en-ue),re[oe+(en=Gn&Qt)].g=Yt+ue,re[oe+en].value=Xt-oe-en}ge.g=dt-ue,ge.value=ft[Ze++],Lt(re,Xt+(Gn>>ue),Ue,Rn,ge),Gn=lt(Gn,dt)}}return yn!=2*Ye[15]-1?0:Nt}(C,T,L,H,Z,ne)}function he(){this.value=this.g=0}function Ve(){this.value=this.g=0}function _e(){this.G=O(5,he),this.H=D(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=O($r,Ve)}function Tt(C,T,L,H){_(null!=C),_(null!=T),_(2147483648>H),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=T,C.pa=L,C.Jd=T,C.Yc=L+H,C.Zc=4<=H?L+H-4+1:L,$e(C)}function wt(C,T){for(var L=0;0<T--;)L|=bt(C,128)<<T;return L}function Pt(C,T){var L=wt(C,T);return Et(C)?-L:L}function nt(C,T,L,H){var Z,ne=0;for(_(null!=C),_(null!=T),_(4294967288>H),C.Sb=H,C.Ra=0,C.u=0,C.h=0,4<H&&(H=4),Z=0;Z<H;++Z)ne+=T[L+Z]<<8*Z;C.Ra=ne,C.bb=H,C.oa=T,C.pa=L}function Vt(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<ul-8>>>0,++C.bb,C.u-=8;Re(C)&&(C.h=1,C.u=0)}function jt(C,T){if(_(0<=T),!C.h&&T<=du){var L=we(C)&Ld[T];return C.u+=T,Vt(C),L}return C.h=1,C.u=0}function Sn(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ie(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function we(C){return C.Ra>>>(C.u&ul-1)>>>0}function Re(C){return _(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>ul}function Ge(C,T){C.u=T,C.h=Re(C)}function Je(C){C.u>=Vl&&(_(C.u>=Vl),Vt(C))}function $e(C){_(null!=C&&null!=C.oa),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(_(null!=C&&null!=C.oa),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function Et(C){return wt(C,1)}function bt(C,T){var L=C.Ca;0>C.b&&$e(C);var H=C.b,Z=L*T>>>8,ne=(C.I>>>H>Z)+0;for(ne?(L-=Z,C.I-=Z+1<<H>>>0):L=Z+1,H=L,Z=0;256<=H;)Z+=8,H>>=8;return C.b-=H=7^Z+wa[H],C.Ca=(L<<H)-1,ne}function dn(C,T,L){C[T+0]=L>>24&255,C[T+1]=L>>16&255,C[T+2]=L>>8&255,C[T+3]=255&L}function pn(C,T){return C[T+0]|C[T+1]<<8}function An(C,T){return pn(C,T)|C[T+2]<<16}function hn(C,T){return pn(C,T)|pn(C,T+2)<<16}function pi(C,T){var L=1<<T;return _(null!=C),_(0<T),C.X=D(L),null==C.X?0:(C.Mb=32-T,C.Xa=T,1)}function Rt(C,T){_(null!=C),_(null!=T),_(C.Xa==T.Xa),I(T.X,0,C.X,0,1<<T.Xa)}function Te(){this.X=[],this.Xa=this.Mb=0}function xi(C,T,L,H){_(null!=L),_(null!=H);var Z=L[0],ne=H[0];return 0==Z&&(Z=(C*ne+T/2)/T),0==ne&&(ne=(T*Z+C/2)/C),0>=Z||0>=ne?0:(L[0]=Z,H[0]=ne,1)}function jn(C,T){return C+(1<<T)-1>>>T}function un(C,T){return((4278255360&C)+(4278255360&T)>>>0&4278255360)+((16711935&C)+(16711935&T)>>>0&16711935)>>>0}function vn(C,T){Pe[T]=function(L,H,Z,ne,re,oe,ue){var ge;for(ge=0;ge<re;++ge){var Ue=Pe[C](oe[ue+ge-1],Z,ne+ge);oe[ue+ge]=un(L[H+ge],Ue)}}}function On(){this.ud=this.hd=this.jd=0}function Pn(C,T){return((4278124286&(C^T))>>>1)+(C&T)>>>0}function ai(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function Ai(C,T){return ai(C+(C-T+.5>>1))}function Gi(C,T,L){return Math.abs(T-L)-Math.abs(C-L)}function Yi(C,T,L,H,Z,ne,re){for(H=ne[re-1],L=0;L<Z;++L)ne[re+L]=H=un(C[T+L],H)}function or(C,T,L,H,Z){var ne;for(ne=0;ne<L;++ne){var re=C[T+ne],oe=re>>8&255,ue=16711935&(ue=(ue=16711935&re)+((oe<<16)+oe));H[Z+ne]=(4278255360&re)+ue>>>0}}function Qr(C,T){T.jd=255&C,T.hd=C>>8&255,T.ud=C>>16&255}function Ri(C,T,L,H,Z,ne){var re;for(re=0;re<H;++re){var oe=T[L+re],ue=oe>>>8,ge=oe,Ue=255&(Ue=(Ue=oe>>>16)+((C.jd<<24>>24)*(ue<<24>>24)>>>5));ge=255&(ge=(ge+=(C.hd<<24>>24)*(ue<<24>>24)>>>5)+((C.ud<<24>>24)*(Ue<<24>>24)>>>5)),Z[ne+re]=(4278255360&oe)+(Ue<<16)+ge}}function er(C,T,L,H,Z){Pe[T]=function(ne,re,oe,ue,ge,Ue,ft,dt,Ze){for(ue=ft;ue<dt;++ue)for(ft=0;ft<Ze;++ft)ge[Ue++]=Z(oe[H(ne[re++])])},Pe[C]=function(ne,re,oe,ue,ge,Ue,ft){var dt=8>>ne.b,Ze=ne.Ea,Xt=ne.K[0],Nt=ne.w;if(8>dt)for(ne=(1<<ne.b)-1,Nt=(1<<dt)-1;re<oe;++re){var ze,Ye=0;for(ze=0;ze<Ze;++ze)ze&ne||(Ye=H(ue[ge++])),Ue[ft++]=Z(Xt[Ye&Nt]),Ye>>=dt}else Pe["VP8LMapColor"+L](ue,ge,Xt,Nt,Ue,ft,re,oe,Ze)}}function Un(C,T,L,H,Z){for(L=T+L;T<L;){var ne=C[T++];H[Z++]=ne>>16&255,H[Z++]=ne>>8&255,H[Z++]=255&ne}}function Oa(C,T,L,H,Z){for(L=T+L;T<L;){var ne=C[T++];H[Z++]=ne>>16&255,H[Z++]=ne>>8&255,H[Z++]=255&ne,H[Z++]=ne>>24&255}}function fr(C,T,L,H,Z){for(L=T+L;T<L;){var ne=(re=C[T++])>>16&240|re>>12&15,re=240&re|re>>28&15;H[Z++]=ne,H[Z++]=re}}function ru(C,T,L,H,Z){for(L=T+L;T<L;){var ne=(re=C[T++])>>16&248|re>>13&7,re=re>>5&224|re>>3&31;H[Z++]=ne,H[Z++]=re}}function Ar(C,T,L,H,Z){for(L=T+L;T<L;){var ne=C[T++];H[Z++]=255&ne,H[Z++]=ne>>8&255,H[Z++]=ne>>16&255}}function os(C,T,L,H,Z,ne){if(0==ne)for(L=T+L;T<L;)dn(H,((ne=C[T++])[0]>>24|ne[1]>>8&65280|ne[2]<<8&16711680|ne[3]<<24)>>>0),Z+=32;else I(H,Z,C,T,L)}function xd(C,T){Pe[T][0]=Pe[C+"0"],Pe[T][1]=Pe[C+"1"],Pe[T][2]=Pe[C+"2"],Pe[T][3]=Pe[C+"3"],Pe[T][4]=Pe[C+"4"],Pe[T][5]=Pe[C+"5"],Pe[T][6]=Pe[C+"6"],Pe[T][7]=Pe[C+"7"],Pe[T][8]=Pe[C+"8"],Pe[T][9]=Pe[C+"9"],Pe[T][10]=Pe[C+"10"],Pe[T][11]=Pe[C+"11"],Pe[T][12]=Pe[C+"12"],Pe[T][13]=Pe[C+"13"],Pe[T][14]=Pe[C+"0"],Pe[T][15]=Pe[C+"0"]}function Fr(C){return C==MC||C==a_||C==hp||C==pu}function Mg(){this.eb=[],this.size=this.A=this.fb=0}function Ss(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function pc(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Mg,this.f.kb=new Ss,this.sd=null}function Ph(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Xs(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Bn(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function _i(C,T){var L=C.T,H=T.ba.f.RGBA,Z=H.eb,ne=H.fb+C.ka*H.A,re=Ul[T.ba.S],oe=C.y,ue=C.O,ge=C.f,Ue=C.N,ft=C.ea,dt=C.W,Ze=T.cc,Xt=T.dc,Nt=T.Mc,ze=T.Nc,Ye=C.ka,Yt=C.ka+C.T,en=C.U,Qt=en+1>>1;for(0==Ye?re(oe,ue,null,null,ge,Ue,ft,dt,ge,Ue,ft,dt,Z,ne,null,null,en):(re(T.ec,T.fc,oe,ue,Ze,Xt,Nt,ze,ge,Ue,ft,dt,Z,ne-H.A,Z,ne,en),++L);Ye+2<Yt;Ye+=2)re(oe,(ue+=2*C.fa)-C.fa,oe,ue,Ze=ge,Xt=Ue,Nt=ft,ze=dt,ge,Ue+=C.Rc,ft,dt+=C.Rc,Z,(ne+=2*H.A)-H.A,Z,ne,en);return ue+=C.fa,C.j+Yt<C.o?(I(T.ec,T.fc,oe,ue,en),I(T.cc,T.dc,ge,Ue,Qt),I(T.Mc,T.Nc,ft,dt,Qt),L--):1&Yt||re(oe,ue,null,null,ge,Ue,ft,dt,ge,Ue,ft,dt,Z,ne+H.A,null,null,en),L}function Fa(C,T,L){var H=C.F,Z=[C.J];if(null!=H){var ne=C.U,re=T.ba.S,oe=re==o_||re==hp;T=T.ba.f.RGBA;var ue=[0],ge=C.ka;ue[0]=C.T,C.Kb&&(0==ge?--ue[0]:(--ge,Z[0]-=C.width),C.j+C.ka+C.T==C.o&&(ue[0]=C.o-C.j-ge));var Ue=T.eb;C=Zr(H,Z[0],C.width,ne,ue,Ue,(ge=T.fb+ge*T.A)+(oe?0:3),T.A),_(L==ue),C&&Fr(re)&&fl(Ue,ge,oe,ne,ue,T.A)}return 0}function Qs(C){var T=C.ma,L=T.ba.S,H=11>L,Z=L==up||L==ka||L==o_||L==Zu||12==L||Fr(L);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!Dc(T.Oa,C,Z?11:12))return 0;if(Z&&Fr(L)&&rn(),C.da)alert("todo:use_scaling");else{if(H){if(T.Ib=Bn,C.Kb){if(T.memory=D(C.U+2*(L=C.U+1>>1)),null==T.memory)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+C.U,T.Mc=T.cc,T.Nc=T.dc+L,T.Ib=_i,rn()}}else alert("todo:EmitYUV");Z&&(T.Jb=Fa,H&&rt())}if(H&&!u_){for(C=0;256>C;++C)RN[C]=89858*(C-128)+Wh>>gp,LC[C]=-22014*(C-128)+Wh,FC[C]=-45773*(C-128),$h[C]=113618*(C-128)+Wh>>gp;for(C=zh;C<pl;++C)XA[C-zh]=Zs(T=76283*(C-16)+Wh>>gp,255),kC[C-zh]=Zs(T+8>>4,15);u_=1}return 1}function xl(C){var T=C.ma,L=C.U,H=C.T;return _(!(1&C.ka)),0>=L||0>=H?0:(L=T.Ib(C,T),null!=T.Jb&&T.Jb(C,T,L),T.Dc+=L,1)}function sl(C){C.ma.memory=null}function ii(C,T,L,H){return 47!=jt(C,8)?0:(T[0]=jt(C,14)+1,L[0]=jt(C,14)+1,H[0]=jt(C,1),0!=jt(C,3)?0:!C.h)}function gc(C,T){if(4>C)return C+1;var L=C-2>>1;return(2+(1&C)<<L)+jt(T,L)+1}function mc(C,T){return 120<T?T-120:1<=(L=((L=fp[T-1])>>4)*C+(8-(15&L)))?L:1;var L}function _a(C,T,L){var H=we(L),Z=C[T+=255&H].g-8;return 0<Z&&(Ge(L,L.u+8),H=we(L),T+=C[T].value,T+=H&(1<<Z)-1),Ge(L,L.u+C[T].g),C[T].value}function mo(C,T,L){return L.g+=C.g,L.value+=C.value<<T>>>0,_(8>=L.g),C.g}function Is(C,T,L){var H=C.xc;return _((T=0==H?0:C.vc[C.md*(L>>H)+(T>>H)])<C.Wb),C.Ya[T]}function ol(C,T,L,H){var Z=C.ab,ne=C.c*T,re=C.C;T=re+T;var oe=L,ue=H;for(H=C.Ta,L=C.Ua;0<Z--;){var ge=C.gc[Z],Ue=re,ft=T,dt=oe,Ze=ue,Xt=(ue=H,oe=L,ge.Ea);switch(_(Ue<ft),_(ft<=ge.nc),ge.hc){case 2:$u(dt,Ze,(ft-Ue)*Xt,ue,oe);break;case 0:var Nt=Ue,ze=ft,Ye=ue,Yt=oe,en=(Rn=ge).Ea;0==Nt&&(zg(dt,Ze,null,null,1,Ye,Yt),Yi(dt,Ze+1,0,0,en-1,Ye,Yt+1),Ze+=en,Yt+=en,++Nt);for(var Qt=1<<Rn.b,Gn=Qt-1,yn=jn(en,Rn.b),Xn=Rn.K,Rn=Rn.w+(Nt>>Rn.b)*yn;Nt<ze;){var ji=Xn,kr=Rn,ar=1;for(xc(dt,Ze,Ye,Yt-en,1,Ye,Yt);ar<en;){var Ji=(ar&~Gn)+Qt;Ji>en&&(Ji=en),(0,Pc[ji[kr++]>>8&15])(dt,Ze+ +ar,Ye,Yt+ar-en,Ji-ar,Ye,Yt+ar),ar=Ji}Ze+=en,Yt+=en,++Nt&Gn||(Rn+=yn)}ft!=ge.nc&&I(ue,oe-Xt,ue,oe+(ft-Ue-1)*Xt,Xt);break;case 1:for(Xt=dt,ze=Ze,en=(dt=ge.Ea)-(Yt=dt&~(Ye=(Ze=1<<ge.b)-1)),Nt=jn(dt,ge.b),Qt=ge.K,ge=ge.w+(Ue>>ge.b)*Nt;Ue<ft;){for(Gn=Qt,yn=ge,Xn=new On,Rn=ze+Yt,ji=ze+dt;ze<Rn;)Qr(Gn[yn++],Xn),dl(Xn,Xt,ze,Ze,ue,oe),ze+=Ze,oe+=Ze;ze<ji&&(Qr(Gn[yn++],Xn),dl(Xn,Xt,ze,en,ue,oe),ze+=en,oe+=en),++Ue&Ye||(ge+=Nt)}break;case 3:if(dt==ue&&Ze==oe&&0<ge.b){for(ze=ue,dt=Xt=oe+(ft-Ue)*Xt-(Yt=(ft-Ue)*jn(ge.Ea,ge.b)),Ze=ue,Ye=oe,Nt=[],Yt=(en=Yt)-1;0<=Yt;--Yt)Nt[Yt]=Ze[Ye+Yt];for(Yt=en-1;0<=Yt;--Yt)ze[dt+Yt]=Nt[Yt];Sr(ge,Ue,ft,ue,Xt,ue,oe)}else Sr(ge,Ue,ft,dt,Ze,ue,oe)}oe=H,ue=L}ue!=L&&I(H,L,oe,ue,ne)}function ya(C,T){var L=C.V,H=C.Ba+C.c*C.C,Z=T-C.C;if(_(T<=C.l.o),_(16>=Z),0<Z){var ne=C.l,re=C.Ta,oe=C.Ua,ue=ne.width;if(ol(C,Z,L,H),Z=oe=[oe],_((L=C.C)<(H=T)),_(ne.v<ne.va),H>ne.o&&(H=ne.o),L<ne.j){var ge=ne.j-L;L=ne.j,Z[0]+=ge*ue}if(L>=H?L=0:(Z[0]+=4*ne.v,ne.ka=L-ne.j,ne.U=ne.va-ne.v,ne.T=H-L,L=1),L){if(oe=oe[0],11>(L=C.ca).S){var Ue=L.f.RGBA,ft=(H=L.S,Z=ne.U,ne=ne.T,ge=Ue.eb,Ue.A),dt=ne;for(Ue=Ue.fb+C.Ma*Ue.A;0<dt--;){var Ze=re,Xt=oe,Nt=Z,ze=ge,Ye=Ue;switch(H){case Ju:Pi(Ze,Xt,Nt,ze,Ye);break;case up:_o(Ze,Xt,Nt,ze,Ye);break;case MC:_o(Ze,Xt,Nt,ze,Ye),fl(ze,Ye,0,Nt,1,0);break;case Yg:Gl(Ze,Xt,Nt,ze,Ye);break;case ka:os(Ze,Xt,Nt,ze,Ye,1);break;case a_:os(Ze,Xt,Nt,ze,Ye,1),fl(ze,Ye,0,Nt,1,0);break;case o_:os(Ze,Xt,Nt,ze,Ye,0);break;case hp:os(Ze,Xt,Nt,ze,Ye,0),fl(ze,Ye,1,Nt,1,0);break;case Zu:qu(Ze,Xt,Nt,ze,Ye);break;case pu:qu(Ze,Xt,Nt,ze,Ye),yr(ze,Ye,Nt,1,0);break;case dp:Ko(Ze,Xt,Nt,ze,Ye);break;default:_(0)}oe+=ue,Ue+=ft}C.Ma+=ne}else alert("todo:EmitRescaledRowsYUVA");_(C.Ma<=L.height)}}C.C=T,_(C.C<=C.i)}function vc(C){var T;if(0<C.ua)return 0;for(T=0;T<C.Wb;++T){var L=C.Ya[T].G,H=C.Ya[T].H;if(0<L[1][H[1]+0].g||0<L[2][H[2]+0].g||0<L[3][H[3]+0].g)return 0}return 1}function Pl(C,T,L,H,Z,ne){if(0!=C.Z){var re=C.qd,oe=C.rd;for(_(null!=Hd[C.Z]);T<L;++T)Hd[C.Z](re,oe,H,Z,H,Z,ne),re=H,oe=Z,Z+=ne;C.qd=re,C.rd=oe}}function La(C,T){var L=C.l.ma,H=0==L.Z||1==L.Z?C.l.j:C.C;if(H=C.C<H?H:C.C,_(T<=C.l.o),T>H){var Z=C.l.width,ne=L.ca,re=L.tb+Z*H,oe=C.V,ue=C.Ba+C.c*H,ge=C.gc;_(1==C.ab),_(3==ge[0].hc),cp(ge[0],H,T,oe,ue,ne,re),Pl(L,H,T,ne,re,Z)}C.C=C.Ma=T}function _c(C,T,L,H,Z,ne,re){var oe=C.$/H,ue=C.$%H,ge=C.m,Ue=C.s,ft=L+C.$,dt=ft;Z=L+H*Z;var Ze=L+H*ne,Xt=280+Ue.ua,Nt=C.Pb?oe:16777216,ze=0<Ue.ua?Ue.Wa:null,Ye=Ue.wc,Yt=ft<Ze?Is(Ue,ue,oe):null;_(C.C<ne),_(Ze<=Z);var en=!1;e:for(;;){for(;en||ft<Ze;){var Qt=0;if(oe>=Nt){var Gn=ft-L;_((Nt=C).Pb),Nt.wd=Nt.m,Nt.xd=Gn,0<Nt.s.ua&&Rt(Nt.s.Wa,Nt.s.vb),Nt=oe+gu}if(ue&Ye||(Yt=Is(Ue,ue,oe)),_(null!=Yt),Yt.Qb&&(T[ft]=Yt.qb,en=!0),!en)if(Je(ge),Yt.jc){Gn=T;var yn=ft,Xn=Yt.pd[we(Qt=ge)&$r-1];_(Yt.jc),256>Xn.g?(Ge(Qt,Qt.u+Xn.g),Gn[yn]=Xn.value,Qt=0):(Ge(Qt,Qt.u+Xn.g-256),_(256<=Xn.value),Qt=Xn.value),0==Qt&&(en=!0)}else Qt=_a(Yt.G[0],Yt.H[0],ge);if(ge.h)break;if(en||256>Qt){if(!en)if(Yt.nd)T[ft]=(Yt.qb|Qt<<8)>>>0;else{if(Je(ge),en=_a(Yt.G[1],Yt.H[1],ge),Je(ge),Gn=_a(Yt.G[2],Yt.H[2],ge),yn=_a(Yt.G[3],Yt.H[3],ge),ge.h)break;T[ft]=(yn<<24|en<<16|Qt<<8|Gn)>>>0}if(en=!1,++ft,++ue>=H&&(ue=0,++oe,null!=re&&oe<=ne&&!(oe%16)&&re(C,oe),null!=ze))for(;dt<ft;)Qt=T[dt++],ze.X[(506832829*Qt&4294967295)>>>ze.Mb]=Qt}else if(280>Qt){if(Qt=gc(Qt-256,ge),Gn=_a(Yt.G[4],Yt.H[4],ge),Je(ge),Gn=mc(H,Gn=gc(Gn,ge)),ge.h)break;if(ft-L<Gn||Z-ft<Qt)break e;for(yn=0;yn<Qt;++yn)T[ft+yn]=T[ft+yn-Gn];for(ft+=Qt,ue+=Qt;ue>=H;)ue-=H,++oe,null!=re&&oe<=ne&&!(oe%16)&&re(C,oe);if(_(ft<=Z),ue&Ye&&(Yt=Is(Ue,ue,oe)),null!=ze)for(;dt<ft;)Qt=T[dt++],ze.X[(506832829*Qt&4294967295)>>>ze.Mb]=Qt}else{if(!(Qt<Xt))break e;for(en=Qt-280,_(null!=ze);dt<ft;)Qt=T[dt++],ze.X[(506832829*Qt&4294967295)>>>ze.Mb]=Qt;Qt=ft,_(!(en>>>(Gn=ze).Xa)),T[Qt]=Gn.X[en],en=!0}en||_(ge.h==Re(ge))}if(C.Pb&&ge.h&&ft<Z)_(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&Rt(C.s.vb,C.s.Wa);else{if(ge.h)break e;re?.(C,oe>ne?ne:oe),C.a=0,C.$=ft-L}return 1}return C.a=3,0}function yc(C){_(null!=C),C.vc=null,C.yc=null,C.Ya=null;var T=C.Wa;null!=T&&(T.X=null),C.vb=null,_(null!=C)}function Hi(){var C=new Fd;return null==C?null:(C.a=0,C.xb=RS,xd("Predictor","VP8LPredictors"),xd("Predictor","VP8LPredictors_C"),xd("PredictorAdd","VP8LPredictorsAdd"),xd("PredictorAdd","VP8LPredictorsAdd_C"),$u=or,dl=Ri,Pi=Un,_o=Oa,qu=fr,Ko=ru,Gl=Ar,Pe.VP8LMapColor32b=lp,Pe.VP8LMapColor8b=Bh,C)}function Ml(C,T,L,H,Z){var ne=1,re=[C],oe=[T],ue=H.m,ge=H.s,Ue=null,ft=0;e:for(;;){if(L)for(;ne&&jt(ue,1);){var dt=re,Ze=oe,Xt=H,Nt=1,ze=Xt.m,Ye=Xt.gc[Xt.ab],Yt=jt(ze,2);if(Xt.Oc&1<<Yt)ne=0;else{switch(Xt.Oc|=1<<Yt,Ye.hc=Yt,Ye.Ea=dt[0],Ye.nc=Ze[0],Ye.K=[null],++Xt.ab,_(4>=Xt.ab),Yt){case 0:case 1:Ye.b=jt(ze,3)+2,Nt=Ml(jn(Ye.Ea,Ye.b),jn(Ye.nc,Ye.b),0,Xt,Ye.K),Ye.K=Ye.K[0];break;case 3:var en,Qt=jt(ze,8)+1,Gn=16<Qt?0:4<Qt?1:2<Qt?2:3;if(dt[0]=jn(Ye.Ea,Gn),Ye.b=Gn,en=Nt=Ml(Qt,1,0,Xt,Ye.K)){var yn,Xn=Qt,Rn=Ye,ji=1<<(8>>Rn.b),kr=D(ji);if(null==kr)en=0;else{var ar=Rn.K[0],Ji=Rn.w;for(kr[0]=Rn.K[0][0],yn=1;yn<1*Xn;++yn)kr[yn]=un(ar[Ji+yn],kr[yn-1]);for(;yn<4*ji;++yn)kr[yn]=0;Rn.K[0]=null,Rn.K[0]=kr,en=1}}Nt=en;break;case 2:break;default:_(0)}ne=Nt}}if(re=re[0],oe=oe[0],ne&&jt(ue,1)&&!(ne=1<=(ft=jt(ue,4))&&11>=ft)){H.a=3;break e}var Vr;if(Vr=ne)t:{var gr,Fi,io,wo=H,Gr=re,Ea=oe,Ir=ft,Yo=L,ca=wo.m,Xo=wo.s,Ls=[null],Sa=1,Ia=0,Wl=tr[Ir];n:for(;;){if(Yo&&jt(ca,1)){var Oo=jt(ca,3)+2,Oc=jn(Gr,Oo),zl=jn(Ea,Oo),Va=Oc*zl;if(!Ml(Oc,zl,0,wo,Ls))break n;for(Ls=Ls[0],Xo.xc=Oo,gr=0;gr<Va;++gr){var Fc=Ls[gr]>>8&65535;Ls[gr]=Fc,Fc>=Sa&&(Sa=Fc+1)}}if(ca.h)break n;for(Fi=0;5>Fi;++Fi){var gs=ES[Fi];!Fi&&0<Ir&&(gs+=1<<Ir),Ia<gs&&(Ia=gs)}var h_=O(Sa*Wl,he),GC=Sa,nm=O(GC,_e);if(null==nm)var mp=null;else _(65536>=GC),mp=nm;var vu=D(Ia);if(null==mp||null==vu||null==h_){wo.a=1;break n}var f_=h_;for(gr=io=0;gr<Sa;++gr){var Lc=mp[gr],vp=Lc.G,nd=Lc.H,_p=0,qh=1,Wd=0;for(Fi=0;5>Fi;++Fi){gs=ES[Fi],vp[Fi]=f_,nd[Fi]=io,!Fi&&0<Ir&&(gs+=1<<Ir);r:{var p_,id=gs,g_=wo,im=vu,BC=f_,QA=io,rm=0,ua=g_.m,Kh=jt(ua,1);if(x(im,0,0,id),Kh){var JA=jt(ua,1)+1,ZA=jt(ua,1),PS=jt(ua,0==ZA?1:8);im[PS]=1,2==JA&&(im[PS=jt(ua,8)]=1);var m_=1}else{var sm=D(19),MS=jt(ua,4)+4;if(19<MS){g_.a=3;var om=0;break r}for(p_=0;p_<MS;++p_)sm[IS[p_]]=jt(ua,3);var HC=void 0,am=void 0,NS=g_,eR=sm,Yh=id,_u=im,zd=0,jd=NS.m,UC=8,WC=O(128,he);i:for(;ce(WC,0,7,eR,19);){if(jt(jd,1)){var DN=2+2*jt(jd,3);if((HC=2+jt(jd,DN))>Yh)break i}else HC=Yh;for(am=0;am<Yh&&HC--;){Je(jd);var tR=WC[0+(127&we(jd))];Ge(jd,jd.u+tR.g);var yp=tR.value;if(16>yp)_u[am++]=yp,0!=yp&&(UC=yp);else{var zC=16==yp,v_=yp-16,xN=Xg[v_],jC=jt(jd,l_[v_])+xN;if(am+jC>Yh)break i;for(var $C=zC?UC:0;0<jC--;)_u[am++]=$C}}zd=1;break i}zd||(NS.a=3),m_=zd}(m_=m_&&!ua.h)&&(rm=ce(BC,QA,8,im,id)),m_&&0!=rm?om=rm:(g_.a=3,om=0)}if(0==om)break n;if(qh&&1==SS[Fi]&&(qh=0==f_[io].g),_p+=f_[io].g,io+=om,3>=Fi){var lm,Xh=vu[0];for(lm=1;lm<gs;++lm)vu[lm]>Xh&&(Xh=vu[lm]);Wd+=Xh}}if(Lc.nd=qh,Lc.Qb=0,qh&&(Lc.qb=(vp[3][nd[3]+0].value<<24|vp[1][nd[1]+0].value<<16|vp[2][nd[2]+0].value)>>>0,0==_p&&256>vp[0][nd[0]+0].value&&(Lc.Qb=1,Lc.qb+=vp[0][nd[0]+0].value<<8)),Lc.jc=!Lc.Qb&&6>Wd,Lc.jc){var Qh,yu=Lc;for(Qh=0;Qh<$r;++Qh){var $d=Qh,rd=yu.pd[$d],Cp=yu.G[0][yu.H[0]+$d];256<=Cp.value?(rd.g=Cp.g+256,rd.value=Cp.value):(rd.g=0,rd.value=0,$d>>=mo(Cp,8,rd),$d>>=mo(yu.G[1][yu.H[1]+$d],16,rd),$d>>=mo(yu.G[2][yu.H[2]+$d],0,rd),mo(yu.G[3][yu.H[3]+$d],24,rd))}}}Xo.vc=Ls,Xo.Wb=Sa,Xo.Ya=mp,Xo.yc=h_,Vr=1;break t}Vr=0}if(!(ne=Vr)){H.a=3;break e}if(0<ft){if(ge.ua=1<<ft,!pi(ge.Wa,ft)){H.a=1,ne=0;break e}}else ge.ua=0;var cm=H,OS=re,qC=oe,Jh=cm.s,__=Jh.xc;if(cm.c=OS,cm.i=qC,Jh.md=jn(OS,__),Jh.wc=0==__?-1:(1<<__)-1,L){H.xb=AS;break e}if(null==(Ue=D(re*oe))){H.a=1,ne=0;break e}ne=(ne=_c(H,Ue,0,re,oe,oe,null))&&!ue.h;break e}return ne?(null!=Z?Z[0]=Ue:(_(null==Ue),_(L)),H.$=0,L||yc(ge)):yc(ge),ne}function Cc(C,T){var L=C.c*C.i,H=L+T+16*T;return _(C.c<=T),C.V=D(H),null==C.V?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+L+T,1)}function Js(C,T){var L=C.C,H=T-L,Z=C.V,ne=C.Ba+C.c*L;for(_(T<=C.l.o);0<H;){var re=16<H?16:H,oe=C.l.ma,ue=C.l.width,ge=ue*re,Ue=oe.ca,ft=oe.tb+ue*L,dt=C.Ta,Ze=C.Ua;ol(C,re,Z,ne),Os(dt,Ze,Ue,ft,ge),Pl(oe,L,L+re,Ue,ft,ue),H-=re,Z+=re*C.c,L+=re}_(L==T),C.C=C.Ma=T}function al(){this.ub=this.yd=this.td=this.Rb=0}function bc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function wc(){this.Fb=this.Bb=this.Cb=0,this.Zb=D(4),this.Lb=D(4)}function $o(){var C;this.Yb=(function T(L,H,Z){for(var ne=Z[H],re=0;re<ne&&(L.push(Z.length>H+1?[]:0),!(Z.length<H+1));re++)T(L[re],H+1,Z)}(C=[],0,[3,11]),C)}function xC(){this.jb=D(3),this.Wc=F([4,8],$o),this.Xc=F([4,17],$o)}function Ng(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new D(4),this.od=new D(4)}function Pd(){this.ld=this.La=this.dd=this.tc=0}function ll(){this.Na=this.la=0}function Jv(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Og(){this.ad=D(384),this.Za=0,this.Ob=D(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Zv(){this.uc=this.M=this.Nb=0,this.wa=Array(new Pd),this.Y=0,this.ya=Array(new Og),this.aa=0,this.l=new su}function Qf(){this.y=D(16),this.f=D(8),this.ea=D(8)}function Fg(){this.cb=this.a=0,this.sc="",this.m=new Sn,this.Od=new al,this.Kc=new bc,this.ed=new Ng,this.Qa=new wc,this.Ic=this.$c=this.Aa=0,this.D=new Zv,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=O(8,Sn),this.ia=0,this.pb=O(4,Jv),this.Pa=new xC,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Qf),this.Hd=0,this.rb=Array(new ll),this.sb=0,this.wa=Array(new Pd),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Og),this.L=this.aa=0,this.gd=F([4,2],Pd),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function su(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Jf(){var C=new Fg;return null!=C&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,No||(No=Zf)),C}function hs(C,T,L){return 0==C.a&&(C.a=T,C.sc=L,C.cb=0),0}function Uu(C,T,L){return 3<=L&&157==C[T+0]&&1==C[T+1]&&42==C[T+2]}function ci(C,T){if(null==C)return 0;if(C.a=0,C.sc="OK",null==T)return hs(C,2,"null VP8Io passed to VP8GetHeaders()");var L=T.data,H=T.w,Z=T.ha;if(4>Z)return hs(C,7,"Truncated header.");var ne=L[H+0]|L[H+1]<<8|L[H+2]<<16,re=C.Od;if(re.Rb=!(1&ne),re.td=ne>>1&7,re.yd=ne>>4&1,re.ub=ne>>5,3<re.td)return hs(C,3,"Incorrect keyframe parameters.");if(!re.yd)return hs(C,4,"Frame not displayable.");H+=3,Z-=3;var oe=C.Kc;if(re.Rb){if(7>Z)return hs(C,7,"cannot parse picture header");if(!Uu(L,H,Z))return hs(C,3,"Bad code word");oe.c=16383&(L[H+4]<<8|L[H+3]),oe.Td=L[H+4]>>6,oe.i=16383&(L[H+6]<<8|L[H+5]),oe.Ud=L[H+6]>>6,H+=7,Z-=7,C.za=oe.c+15>>4,C.Ub=oe.i+15>>4,T.width=oe.c,T.height=oe.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,x((ne=C.Pa).jb,0,255,ne.jb.length),_(null!=(ne=C.Qa)),ne.Cb=0,ne.Bb=0,ne.Fb=1,x(ne.Zb,0,0,ne.Zb.length),x(ne.Lb,0,0,ne.Lb)}if(re.ub>Z)return hs(C,7,"bad partition length");Tt(ne=C.m,L,H,re.ub),H+=re.ub,Z-=re.ub,re.Rb&&(oe.Ld=Et(ne),oe.Kd=Et(ne)),oe=C.Qa;var ue,ge=C.Pa;if(_(null!=ne),_(null!=oe),oe.Cb=Et(ne),oe.Cb){if(oe.Bb=Et(ne),Et(ne)){for(oe.Fb=Et(ne),ue=0;4>ue;++ue)oe.Zb[ue]=Et(ne)?Pt(ne,7):0;for(ue=0;4>ue;++ue)oe.Lb[ue]=Et(ne)?Pt(ne,6):0}if(oe.Bb)for(ue=0;3>ue;++ue)ge.jb[ue]=Et(ne)?wt(ne,8):255}else oe.Bb=0;if(ne.Ka)return hs(C,3,"cannot parse segment header");if((oe=C.ed).zd=Et(ne),oe.Tb=wt(ne,6),oe.wb=wt(ne,3),oe.Pc=Et(ne),oe.Pc&&Et(ne)){for(ge=0;4>ge;++ge)Et(ne)&&(oe.vd[ge]=Pt(ne,6));for(ge=0;4>ge;++ge)Et(ne)&&(oe.od[ge]=Pt(ne,6))}if(C.L=0==oe.Tb?0:oe.zd?1:2,ne.Ka)return hs(C,3,"cannot parse filter header");var Ue=Z;if(Z=ue=H,H=ue+Ue,oe=Ue,C.Xb=(1<<wt(C.m,2))-1,Ue<3*(ge=C.Xb))L=7;else{for(ue+=3*ge,oe-=3*ge,Ue=0;Ue<ge;++Ue){var ft=L[Z+0]|L[Z+1]<<8|L[Z+2]<<16;ft>oe&&(ft=oe),Tt(C.Jc[+Ue],L,ue,ft),ue+=ft,oe-=ft,Z+=3}Tt(C.Jc[+ge],L,ue,oe),L=ue<H?0:5}if(0!=L)return hs(C,L,"cannot parse partitions");for(L=wt(ue=C.m,7),Z=Et(ue)?Pt(ue,4):0,H=Et(ue)?Pt(ue,4):0,oe=Et(ue)?Pt(ue,4):0,ge=Et(ue)?Pt(ue,4):0,ue=Et(ue)?Pt(ue,4):0,Ue=C.Qa,ft=0;4>ft;++ft){if(Ue.Cb){var dt=Ue.Zb[ft];Ue.Fb||(dt+=L)}else{if(0<ft){C.pb[ft]=C.pb[0];continue}dt=L}var Ze=C.pb[ft];Ze.Sc[0]=Mo[Zs(dt+Z,127)],Ze.Sc[1]=Nc[Zs(dt+0,127)],Ze.Eb[0]=2*Mo[Zs(dt+H,127)],Ze.Eb[1]=101581*Nc[Zs(dt+oe,127)]>>16,8>Ze.Eb[1]&&(Ze.Eb[1]=8),Ze.Qc[0]=Mo[Zs(dt+ge,117)],Ze.Qc[1]=Nc[Zs(dt+ue,127)],Ze.lc=dt+ue}if(!re.Rb)return hs(C,4,"Not a key frame.");for(Et(ne),re=C.Pa,L=0;4>L;++L){for(Z=0;8>Z;++Z)for(H=0;3>H;++H)for(oe=0;11>oe;++oe)ge=bt(ne,KA[L][Z][H][oe])?wt(ne,8):Jg[L][Z][H][oe],re.Wc[L][Z].Yb[H][oe]=ge;for(Z=0;17>Z;++Z)re.Xc[L][Z]=re.Wc[L][TS[Z]]}return C.kc=Et(ne),C.kc&&(C.Bd=wt(ne,8)),C.cb=1}function Zf(C,T,L,H,Z,ne,re){var oe=T[Z].Yb[L];for(L=0;16>Z;++Z){if(!bt(C,oe[L+0]))return Z;for(;!bt(C,oe[L+1]);)if(oe=T[++Z].Yb[0],L=0,16==Z)return 16;var ue=T[Z+1].Yb;if(bt(C,oe[L+2])){var ge=C,Ue=0;if(bt(ge,(dt=oe)[(ft=L)+3]))if(bt(ge,dt[ft+6])){for(oe=0,ft=2*(Ue=bt(ge,dt[ft+8]))+(dt=bt(ge,dt[ft+9+Ue])),Ue=0,dt=Qg[ft];dt[oe];++oe)Ue+=Ue+bt(ge,dt[oe]);Ue+=3+(8<<ft)}else bt(ge,dt[ft+7])?(Ue=7+2*bt(ge,165),Ue+=bt(ge,145)):Ue=5+bt(ge,159);else Ue=bt(ge,dt[ft+4])?3+bt(ge,dt[ft+5]):2;oe=ue[2]}else Ue=1,oe=ue[1];ue=re+Fs[Z],0>(ge=C).b&&$e(ge);var ft,dt=ge.b,Ze=(ft=ge.Ca>>1)-(ge.I>>dt)>>31;--ge.b,ge.Ca+=Ze,ge.Ca|=1,ge.I-=(ft+1&Ze)<<dt,ne[ue]=((Ue^Ze)-Ze)*H[(0<Z)+0]}return 16}function Lg(C){var T=C.rb[C.sb-1];T.la=0,T.Na=0,x(C.zc,0,0,C.zc.length),C.ja=0}function Nl(C,T,L,H,Z){C[T+L+32*H]=-256&(Z=C[T+L+32*H]+(Z>>3))?0>Z?0:255:Z}function Mh(C,T,L,H,Z,ne){Nl(C,T,0,L,H+Z),Nl(C,T,1,L,H+ne),Nl(C,T,2,L,H-ne),Nl(C,T,3,L,H-Z)}function Ca(C){return(20091*C>>16)+C}function Ec(C,T,L,H){var Z,ne=0,re=D(16);for(Z=0;4>Z;++Z){var oe=C[T+0]+C[T+8],ue=C[T+0]-C[T+8],ge=(35468*C[T+4]>>16)-Ca(C[T+12]),Ue=Ca(C[T+4])+(35468*C[T+12]>>16);re[ne+0]=oe+Ue,re[ne+1]=ue+ge,re[ne+2]=ue-ge,re[ne+3]=oe-Ue,ne+=4,T++}for(Z=ne=0;4>Z;++Z)oe=(C=re[ne+0]+4)+re[ne+8],ue=C-re[ne+8],ge=(35468*re[ne+4]>>16)-Ca(re[ne+12]),Nl(L,H,0,0,oe+(Ue=Ca(re[ne+4])+(35468*re[ne+12]>>16))),Nl(L,H,1,0,ue+ge),Nl(L,H,2,0,ue-ge),Nl(L,H,3,0,oe-Ue),ne++,H+=32}function kg(C,T,L,H){var Z=C[T+0]+4,ne=35468*C[T+4]>>16,re=Ca(C[T+4]),oe=35468*C[T+1]>>16;Mh(L,H,0,Z+re,C=Ca(C[T+1]),oe),Mh(L,H,1,Z+ne,C,oe),Mh(L,H,2,Z-ne,C,oe),Mh(L,H,3,Z-re,C,oe)}function t_(C,T,L,H,Z){Ec(C,T,L,H),Z&&Ec(C,T+16,L,H+4)}function Vg(C,T,L,H){Mc(C,T+0,L,H,1),Mc(C,T+32,L,H+128,1)}function PC(C,T,L,H){var Z;for(C=C[T+0]+4,Z=0;4>Z;++Z)for(T=0;4>T;++T)Nl(L,H,T,Z,C)}function vo(C,T,L,H){C[T+0]&&eo(C,T+0,L,H),C[T+16]&&eo(C,T+16,L,H+4),C[T+32]&&eo(C,T+32,L,H+128),C[T+48]&&eo(C,T+48,L,H+128+4)}function Bt(C,T,L,H){var Z,ne=D(16);for(Z=0;4>Z;++Z){var re=C[T+0+Z]+C[T+12+Z],oe=C[T+4+Z]+C[T+8+Z],ue=C[T+4+Z]-C[T+8+Z],ge=C[T+0+Z]-C[T+12+Z];ne[0+Z]=re+oe,ne[8+Z]=re-oe,ne[4+Z]=ge+ue,ne[12+Z]=ge-ue}for(Z=0;4>Z;++Z)re=(C=ne[0+4*Z]+3)+ne[3+4*Z],ue=ne[1+4*Z]-ne[2+4*Z],ge=C-ne[3+4*Z],L[H+0]=re+(oe=ne[1+4*Z]+ne[2+4*Z])>>3,L[H+16]=ge+ue>>3,L[H+32]=re-oe>>3,L[H+48]=ge-ue>>3,H+=64}function Bi(C,T,L){var H,Z=T-32,ne=Co,re=255-C[Z-1];for(H=0;H<L;++H){var oe,ue=ne,ge=re+C[T-1];for(oe=0;oe<L;++oe)C[T+oe]=ue[ge+C[Z+oe]];T+=32}}function n_(C,T){Bi(C,T,4)}function i_(C,T){Bi(C,T,8)}function vr(C,T){Bi(C,T,16)}function ou(C,T){var L;for(L=0;16>L;++L)I(C,T+32*L,C,T-32,16)}function au(C,T){var L;for(L=16;0<L;--L)x(C,T,C[T-1],16),T+=32}function fs(C,T,L){var H;for(H=0;16>H;++H)x(T,L+32*H,C,16)}function Pr(C,T){var L,H=16;for(L=0;16>L;++L)H+=C[T-1+32*L]+C[T+L-32];fs(H>>5,C,T)}function Oi(C,T){var L,H=8;for(L=0;16>L;++L)H+=C[T-1+32*L];fs(H>>4,C,T)}function ep(C,T){var L,H=8;for(L=0;16>L;++L)H+=C[T+L-32];fs(H>>4,C,T)}function tp(C,T){fs(128,C,T)}function Si(C,T,L){return C+2*T+L+2>>2}function qo(C,T){var L,H=T-32;for(H=new Uint8Array([Si(C[H-1],C[H+0],C[H+1]),Si(C[H+0],C[H+1],C[H+2]),Si(C[H+1],C[H+2],C[H+3]),Si(C[H+2],C[H+3],C[H+4])]),L=0;4>L;++L)I(C,T+32*L,H,0,H.length)}function Sc(C,T){var L=C[T-1],H=C[T-1+32],Z=C[T-1+64],ne=C[T-1+96];dn(C,T+0,16843009*Si(C[T-1-32],L,H)),dn(C,T+32,16843009*Si(L,H,Z)),dn(C,T+64,16843009*Si(H,Z,ne)),dn(C,T+96,16843009*Si(Z,ne,ne))}function Ic(C,T){var L,H=4;for(L=0;4>L;++L)H+=C[T+L-32]+C[T-1+32*L];for(H>>=3,L=0;4>L;++L)x(C,T+32*L,H,4)}function ba(C,T){var L=C[T-1+0],H=C[T-1+32],Z=C[T-1+64],ne=C[T-1-32],re=C[T+0-32],oe=C[T+1-32],ue=C[T+2-32],ge=C[T+3-32];C[T+0+96]=Si(H,Z,C[T-1+96]),C[T+1+96]=C[T+0+64]=Si(L,H,Z),C[T+2+96]=C[T+1+64]=C[T+0+32]=Si(ne,L,H),C[T+3+96]=C[T+2+64]=C[T+1+32]=C[T+0+0]=Si(re,ne,L),C[T+3+64]=C[T+2+32]=C[T+1+0]=Si(oe,re,ne),C[T+3+32]=C[T+2+0]=Si(ue,oe,re),C[T+3+0]=Si(ge,ue,oe)}function Ol(C,T){var L=C[T+1-32],H=C[T+2-32],Z=C[T+3-32],ne=C[T+4-32],re=C[T+5-32],oe=C[T+6-32],ue=C[T+7-32];C[T+0+0]=Si(C[T+0-32],L,H),C[T+1+0]=C[T+0+32]=Si(L,H,Z),C[T+2+0]=C[T+1+32]=C[T+0+64]=Si(H,Z,ne),C[T+3+0]=C[T+2+32]=C[T+1+64]=C[T+0+96]=Si(Z,ne,re),C[T+3+32]=C[T+2+64]=C[T+1+96]=Si(ne,re,oe),C[T+3+64]=C[T+2+96]=Si(re,oe,ue),C[T+3+96]=Si(oe,ue,ue)}function np(C,T){var L=C[T-1+0],H=C[T-1+32],Z=C[T-1+64],ne=C[T-1-32],re=C[T+0-32],oe=C[T+1-32],ue=C[T+2-32],ge=C[T+3-32];C[T+0+0]=C[T+1+64]=ne+re+1>>1,C[T+1+0]=C[T+2+64]=re+oe+1>>1,C[T+2+0]=C[T+3+64]=oe+ue+1>>1,C[T+3+0]=ue+ge+1>>1,C[T+0+96]=Si(Z,H,L),C[T+0+64]=Si(H,L,ne),C[T+0+32]=C[T+1+96]=Si(L,ne,re),C[T+1+32]=C[T+2+96]=Si(ne,re,oe),C[T+2+32]=C[T+3+96]=Si(re,oe,ue),C[T+3+32]=Si(oe,ue,ge)}function Jr(C,T){var L=C[T+0-32],H=C[T+1-32],Z=C[T+2-32],ne=C[T+3-32],re=C[T+4-32],oe=C[T+5-32],ue=C[T+6-32],ge=C[T+7-32];C[T+0+0]=L+H+1>>1,C[T+1+0]=C[T+0+64]=H+Z+1>>1,C[T+2+0]=C[T+1+64]=Z+ne+1>>1,C[T+3+0]=C[T+2+64]=ne+re+1>>1,C[T+0+32]=Si(L,H,Z),C[T+1+32]=C[T+0+96]=Si(H,Z,ne),C[T+2+32]=C[T+1+96]=Si(Z,ne,re),C[T+3+32]=C[T+2+96]=Si(ne,re,oe),C[T+3+64]=Si(re,oe,ue),C[T+3+96]=Si(oe,ue,ge)}function r_(C,T){var L=C[T-1+0],H=C[T-1+32],Z=C[T-1+64],ne=C[T-1+96];C[T+0+0]=L+H+1>>1,C[T+2+0]=C[T+0+32]=H+Z+1>>1,C[T+2+32]=C[T+0+64]=Z+ne+1>>1,C[T+1+0]=Si(L,H,Z),C[T+3+0]=C[T+1+32]=Si(H,Z,ne),C[T+3+32]=C[T+1+64]=Si(Z,ne,ne),C[T+3+64]=C[T+2+64]=C[T+0+96]=C[T+1+96]=C[T+2+96]=C[T+3+96]=ne}function Gg(C,T){var L=C[T-1+0],H=C[T-1+32],Z=C[T-1+64],ne=C[T-1+96],re=C[T-1-32],oe=C[T+0-32],ue=C[T+1-32],ge=C[T+2-32];C[T+0+0]=C[T+2+32]=L+re+1>>1,C[T+0+32]=C[T+2+64]=H+L+1>>1,C[T+0+64]=C[T+2+96]=Z+H+1>>1,C[T+0+96]=ne+Z+1>>1,C[T+3+0]=Si(oe,ue,ge),C[T+2+0]=Si(re,oe,ue),C[T+1+0]=C[T+3+32]=Si(L,re,oe),C[T+1+32]=C[T+3+64]=Si(H,L,re),C[T+1+64]=C[T+3+96]=Si(Z,H,L),C[T+1+96]=Si(ne,Z,H)}function ip(C,T){var L;for(L=0;8>L;++L)I(C,T+32*L,C,T-32,8)}function Tc(C,T){var L;for(L=0;8>L;++L)x(C,T,C[T-1],8),T+=32}function Wu(C,T,L){var H;for(H=0;8>H;++H)x(T,L+32*H,C,8)}function Fn(C,T){var L,H=8;for(L=0;8>L;++L)H+=C[T+L-32]+C[T-1+32*L];Wu(H>>4,C,T)}function Do(C,T){var L,H=4;for(L=0;8>L;++L)H+=C[T+L-32];Wu(H>>3,C,T)}function Md(C,T){var L,H=4;for(L=0;8>L;++L)H+=C[T-1+32*L];Wu(H>>3,C,T)}function lu(C,T){Wu(128,C,T)}function Nh(C,T,L){var H=C[T-L],Z=C[T+0],ne=3*(Z-H)+wS[1020+C[T-2*L]-C[T+L]],re=Kg[112+(ne+4>>3)];C[T-L]=Co[255+H+Kg[112+(ne+3>>3)]],C[T+0]=Co[255+Z-re]}function Bg(C,T,L,H){return bo[255+C[T-2*L]-C[T-L]]>H||bo[255+C[T+L]-C[T+0]]>H}function Hg(C,T,L,H){return 4*bo[255+C[T-L]-C[T+0]]+bo[255+C[T-2*L]-C[T+L]]<=H}function Ug(C,T,L,H,Z){var ne=C[T-3*L],re=C[T-2*L],oe=C[T-L],ue=C[T+0],ge=C[T+L],Ue=C[T+2*L];return 4*bo[255+oe-ue]+bo[255+re-ge]>H?0:bo[255+C[T-4*L]-ne]<=Z&&bo[255+ne-re]<=Z&&bo[255+re-oe]<=Z&&bo[255+C[T+3*L]-Ue]<=Z&&bo[255+Ue-ge]<=Z&&bo[255+ge-ue]<=Z}function Oh(C,T,L,H){var Z=2*H+1;for(H=0;16>H;++H)Hg(C,T+H,L,Z)&&Nh(C,T+H,L)}function cu(C,T,L,H){var Z=2*H+1;for(H=0;16>H;++H)Hg(C,T+H*L,1,Z)&&Nh(C,T+H*L,1)}function Rr(C,T,L,H){var Z;for(Z=3;0<Z;--Z)Oh(C,T+=4*L,L,H)}function ti(C,T,L,H){var Z;for(Z=3;0<Z;--Z)cu(C,T+=4,L,H)}function pr(C,T,L,H,Z,ne,re,oe){for(ne=2*ne+1;0<Z--;){if(Ug(C,T,L,ne,re))if(Bg(C,T,L,oe))Nh(C,T,L);else{var ue=C,ge=T,Ue=L,ft=ue[ge-2*Ue],dt=ue[ge-Ue],Ze=ue[ge+0],Xt=ue[ge+Ue],Nt=ue[ge+2*Ue],ze=27*(Yt=wS[1020+3*(Ze-dt)+wS[1020+ft-Xt]])+63>>7,Ye=18*Yt+63>>7,Yt=9*Yt+63>>7;ue[ge-3*Ue]=Co[255+ue[ge-3*Ue]+Yt],ue[ge-2*Ue]=Co[255+ft+Ye],ue[ge-Ue]=Co[255+dt+ze],ue[ge+0]=Co[255+Ze-ze],ue[ge+Ue]=Co[255+Xt-Ye],ue[ge+2*Ue]=Co[255+Nt-Yt]}T+=H}}function Fl(C,T,L,H,Z,ne,re,oe){for(ne=2*ne+1;0<Z--;){if(Ug(C,T,L,ne,re))if(Bg(C,T,L,oe))Nh(C,T,L);else{var ue=C,ge=T,Ue=L,ft=ue[ge-Ue],dt=ue[ge+0],Ze=ue[ge+Ue],Xt=Kg[112+(4+(Nt=3*(dt-ft))>>3)],Nt=Kg[112+(Nt+3>>3)],ze=Xt+1>>1;ue[ge-2*Ue]=Co[255+ue[ge-2*Ue]+ze],ue[ge-Ue]=Co[255+ft+Nt],ue[ge+0]=Co[255+dt-Xt],ue[ge+Ue]=Co[255+Ze-ze]}T+=H}}function Fh(C,T,L,H,Z,ne){pr(C,T,L,1,16,H,Z,ne)}function Nd(C,T,L,H,Z,ne){pr(C,T,1,L,16,H,Z,ne)}function Od(C,T,L,H,Z,ne){var re;for(re=3;0<re;--re)Fl(C,T+=4*L,L,1,16,H,Z,ne)}function Lh(C,T,L,H,Z,ne){var re;for(re=3;0<re;--re)Fl(C,T+=4,1,L,16,H,Z,ne)}function Wg(C,T,L,H,Z,ne,re,oe){pr(C,T,Z,1,8,ne,re,oe),pr(L,H,Z,1,8,ne,re,oe)}function zu(C,T,L,H,Z,ne,re,oe){pr(C,T,1,Z,8,ne,re,oe),pr(L,H,1,Z,8,ne,re,oe)}function Dr(C,T,L,H,Z,ne,re,oe){Fl(C,T+4*Z,Z,1,8,ne,re,oe),Fl(L,H+4*Z,Z,1,8,ne,re,oe)}function kh(C,T,L,H,Z,ne,re,oe){Fl(C,T+4,1,Z,8,ne,re,oe),Fl(L,H+4,1,Z,8,ne,re,oe)}function ju(){this.ba=new pc,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Xs,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function cl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ll(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function rp(){this.ua=0,this.Wa=new Te,this.vb=new Te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new _e,this.yc=new he}function Fd(){this.xb=this.a=0,this.l=new su,this.ca=new pc,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ie,this.Pb=0,this.wd=new ie,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new rp,this.ab=0,this.gc=O(4,Ll),this.Oc=0}function xo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new su,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function sp(C,T,L,H,Z,ne,re){for(C=null==C?0:C[T+0],T=0;T<re;++T)Z[ne+T]=C+L[H+T]&255,C=Z[ne+T]}function uu(C,T,L,H,Z,ne,re){var oe;if(null==C)sp(null,null,L,H,Z,ne,re);else for(oe=0;oe<re;++oe)Z[ne+oe]=C[T+oe]+L[H+oe]&255}function rs(C,T,L,H,Z,ne,re){if(null==C)sp(null,null,L,H,Z,ne,re);else{var oe,ue=C[T+0],ge=ue,Ue=ue;for(oe=0;oe<re;++oe)ge=Ue+(ue=C[T+oe])-ge,Ue=L[H+oe]+(-256&ge?0>ge?0:255:ge)&255,ge=ue,Z[ne+oe]=Ue}}function Vh(C,T,L,H){var Z=T.width,ne=T.o;if(_(null!=C&&null!=T),0>L||0>=H||L+H>ne)return null;if(!C.Cc){if(null==C.ga){var re;if(C.ga=new xo,(re=null==C.ga)||(re=T.width*T.o,_(0==C.Gb.length),C.Gb=D(re),C.Uc=0,null==C.Gb?re=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,re=1),re=!re),!re){var oe=C.Fa,ue=C.P,ge=C.qc,Ue=C.mb,ft=C.nb,dt=ue+1,Ze=ge-1,Xt=(re=C.ga).l;if(_(null!=oe&&null!=Ue&&null!=T),Hd[0]=null,Hd[1]=sp,Hd[2]=uu,Hd[3]=rs,re.ca=Ue,re.tb=ft,re.c=T.width,re.i=T.height,_(0<re.c&&0<re.i),1>=ge)T=0;else if(re.$a=3&oe[ue+0],re.Z=oe[ue+0]>>2&3,re.Lc=oe[ue+0]>>4&3,ue=oe[ue+0]>>6&3,0>re.$a||1<re.$a||4<=re.Z||1<re.Lc||ue)T=0;else if(Xt.put=xl,Xt.ac=Qs,Xt.bc=sl,Xt.ma=re,Xt.width=T.width,Xt.height=T.height,Xt.Da=T.Da,Xt.v=T.v,Xt.va=T.va,Xt.j=T.j,Xt.o=T.o,re.$a)e:{_(1==re.$a),T=Hi();t:for(;;){if(null==T){T=0;break e}if(_(null!=re),re.mc=T,T.c=re.c,T.i=re.i,T.l=re.l,T.l.ma=re,T.l.width=re.c,T.l.height=re.i,T.a=0,nt(T.m,oe,dt,Ze),!Ml(re.c,re.i,1,T,null)||(1==T.ab&&3==T.gc[0].hc&&vc(T.s)?(re.ic=1,oe=T.c*T.i,T.Ta=null,T.Ua=0,T.V=D(oe),T.Ba=0,null==T.V?(T.a=1,T=0):T=1):(re.ic=0,T=Cc(T,re.c)),!T))break t;T=1;break e}re.mc=null,T=0}else T=Ze>=re.c*re.i;re=!T}if(re)return null;1!=C.ga.Lc?C.Ga=0:H=ne-L}_(null!=C.ga),_(L+H<=ne);e:{if(T=(oe=C.ga).c,ne=oe.l.o,0==oe.$a){if(dt=C.rc,Ze=C.Vc,Xt=C.Fa,ge=C.mb,Ue=C.nb+L*T,_((ue=C.P+1+L*T)<=C.P+C.qc),0!=oe.Z)for(_(null!=Hd[oe.Z]),re=0;re<H;++re)Hd[oe.Z](dt,Ze,Xt,ue,ge,Ue,T),dt=ge,Ze=Ue,Ue+=T,ue+=T;else for(re=0;re<H;++re)I(ge,Ue,Xt,ue,T),dt=ge,Ze=Ue,Ue+=T,ue+=T;C.rc=dt,C.Vc=Ze}else{if(_(null!=oe.mc),T=L+H,_(null!=(re=oe.mc)),_(T<=re.i),re.C>=T)T=1;else if(oe.ic||rt(),oe.ic){oe=re.V,dt=re.Ba;var Nt=re.i,ze=(Xt=1,ue=re.$/(Ze=re.c),ge=re.$%Ze,Ue=re.m,ft=re.s,re.$),Ye=Ze*Nt,Yt=Ze*T,en=ft.wc,Qt=ze<Yt?Is(ft,ge,ue):null;_(ze<=Ye),_(T<=Nt),_(vc(ft));t:for(;;){for(;!Ue.h&&ze<Yt;){if(ge&en||(Qt=Is(ft,ge,ue)),_(null!=Qt),Je(Ue),256>(Nt=_a(Qt.G[0],Qt.H[0],Ue)))oe[dt+ze]=Nt,++ze,++ge>=Ze&&(ge=0,++ue<=T&&!(ue%16)&&La(re,ue));else{if(!(280>Nt)){Xt=0;break t}Nt=gc(Nt-256,Ue);var Gn,yn=_a(Qt.G[4],Qt.H[4],Ue);if(Je(Ue),!(ze>=(yn=mc(Ze,yn=gc(yn,Ue)))&&Ye-ze>=Nt)){Xt=0;break t}for(Gn=0;Gn<Nt;++Gn)oe[dt+ze+Gn]=oe[dt+ze+Gn-yn];for(ze+=Nt,ge+=Nt;ge>=Ze;)ge-=Ze,++ue<=T&&!(ue%16)&&La(re,ue);ze<Yt&&ge&en&&(Qt=Is(ft,ge,ue))}_(Ue.h==Re(Ue))}La(re,ue>T?T:ue);break t}!Xt||Ue.h&&ze<Ye?(Xt=0,re.a=Ue.h?5:3):re.$=ze,T=Xt}else T=_c(re,re.V,re.Ba,re.c,re.i,T,Js);if(!T){H=0;break e}}L+H>=ne&&(C.Cc=1),H=1}if(!H)return null;if(C.Cc&&(null!=(H=C.ga)&&(H.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+L*Z}function M(C,T,L,H,Z,ne){for(;0<Z--;){var re,oe=C,ue=T+(L?1:0),ge=C,Ue=T+(L?0:3);for(re=0;re<H;++re){var ft=ge[Ue+4*re];255!=ft&&(oe[ue+4*re+0]=oe[ue+4*re+0]*(ft*=32897)>>23,oe[ue+4*re+1]=oe[ue+4*re+1]*ft>>23,oe[ue+4*re+2]=oe[ue+4*re+2]*ft>>23)}T+=ne}}function K(C,T,L,H,Z){for(;0<H--;){var ne;for(ne=0;ne<L;++ne){var re=C[T+2*ne+0],oe=15&(ge=C[T+2*ne+1]),ue=4369*oe,ge=(240&ge|ge>>4)*ue>>16;C[T+2*ne+0]=(240&re|re>>4)*ue>>16&240|(15&re|re<<4)*ue>>16>>4&15,C[T+2*ne+1]=240&ge|oe}T+=Z}}function ve(C,T,L,H,Z,ne,re,oe){var ue,ge,Ue=255;for(ge=0;ge<Z;++ge){for(ue=0;ue<H;++ue){var ft=C[T+ue];ne[re+4*ue]=ft,Ue&=ft}T+=L,re+=oe}return 255!=Ue}function Me(C,T,L,H,Z){var ne;for(ne=0;ne<Z;++ne)L[H+ne]=C[T+ne]>>8}function rt(){fl=M,yr=K,Zr=ve,Os=Me}function It(C,T,L){Pe[C]=function(H,Z,ne,re,oe,ue,ge,Ue,ft,dt,Ze,Xt,Nt,ze,Ye,Yt,en){var Qt,Gn=en-1>>1,yn=oe[ue+0]|ge[Ue+0]<<16,Xn=ft[dt+0]|Ze[Xt+0]<<16;_(null!=H);var Rn=3*yn+Xn+131074>>2;for(T(H[Z+0],255&Rn,Rn>>16,Nt,ze),null!=ne&&T(ne[re+0],255&(Rn=3*Xn+yn+131074>>2),Rn>>16,Ye,Yt),Qt=1;Qt<=Gn;++Qt){var ji=oe[ue+Qt]|ge[Ue+Qt]<<16,kr=ft[dt+Qt]|Ze[Xt+Qt]<<16,ar=yn+ji+Xn+kr+524296,Ji=ar+2*(ji+Xn)>>3;Rn=Ji+yn>>1,yn=(ar=ar+2*(yn+kr)>>3)+ji>>1,T(H[Z+2*Qt-1],255&Rn,Rn>>16,Nt,ze+(2*Qt-1)*L),T(H[Z+2*Qt-0],255&yn,yn>>16,Nt,ze+(2*Qt-0)*L),null!=ne&&(yn=Ji+kr>>1,T(ne[re+2*Qt-1],255&(Rn=ar+Xn>>1),Rn>>16,Ye,Yt+(2*Qt-1)*L),T(ne[re+2*Qt+0],255&yn,yn>>16,Ye,Yt+(2*Qt+0)*L)),yn=ji,Xn=kr}1&en||(T(H[Z+en-1],255&(Rn=3*yn+Xn+131074>>2),Rn>>16,Nt,ze+(en-1)*L),null!=ne&&T(ne[re+en-1],255&(Rn=3*Xn+yn+131074>>2),Rn>>16,Ye,Yt+(en-1)*L))}}function rn(){Ul[Ju]=DS,Ul[up]=Zg,Ul[Yg]=YA,Ul[ka]=em,Ul[o_]=c_,Ul[Zu]=OC,Ul[dp]=pp,Ul[MC]=Zg,Ul[a_]=em,Ul[hp]=c_,Ul[pu]=OC}function Mn(C){return C&~xS?0>C?0:255:C>>jh}function si(C,T){return Mn((19077*C>>8)+(26149*T>>8)-14234)}function ui(C,T,L){return Mn((19077*C>>8)-(6419*T>>8)-(13320*L>>8)+8708)}function gi(C,T){return Mn((19077*C>>8)+(33050*T>>8)-17685)}function ri(C,T,L,H,Z){H[Z+0]=si(C,L),H[Z+1]=ui(C,T,L),H[Z+2]=gi(C,T)}function Lr(C,T,L,H,Z){H[Z+0]=gi(C,T),H[Z+1]=ui(C,T,L),H[Z+2]=si(C,L)}function ps(C,T,L,H,Z){var ne=ui(C,T,L);T=ne<<3&224|gi(C,T)>>3,H[Z+0]=248&si(C,L)|ne>>5,H[Z+1]=T}function Ms(C,T,L,H,Z){var ne=240&gi(C,T)|15;H[Z+0]=240&si(C,L)|ui(C,T,L)>>4,H[Z+1]=ne}function Po(C,T,L,H,Z){H[Z+0]=255,ri(C,T,L,H,Z+1)}function jr(C,T,L,H,Z){Lr(C,T,L,H,Z),H[Z+3]=255}function Ac(C,T,L,H,Z){ri(C,T,L,H,Z),H[Z+3]=255}function Zs(C,T){return 0>C?0:C>T?T:C}function kl(C,T,L){Pe[C]=function(H,Z,ne,re,oe,ue,ge,Ue,ft){for(var dt=Ue+(-2&ft)*L;Ue!=dt;)T(H[Z+0],ne[re+0],oe[ue+0],ge,Ue),T(H[Z+1],ne[re+0],oe[ue+0],ge,Ue+L),Z+=2,++re,++ue,Ue+=2*L;1&ft&&T(H[Z+0],ne[re+0],oe[ue+0],ge,Ue)}}function _r(C,T,L){return 0==L?0==C?0==T?6:5:0==T?4:0:L}function bi(C,T,L,H,Z){switch(C>>>30){case 3:Mc(T,L,H,Z,0);break;case 2:Ns(T,L,H,Z);break;case 1:eo(T,L,H,Z)}}function Rc(C,T){var L,H,Z=T.M,ne=T.Nb,re=C.oc,oe=C.pc+40,ue=C.oc,ge=C.pc+584,Ue=C.oc,ft=C.pc+600;for(L=0;16>L;++L)re[oe+32*L-1]=129;for(L=0;8>L;++L)ue[ge+32*L-1]=129,Ue[ft+32*L-1]=129;for(0<Z?re[oe-1-32]=ue[ge-1-32]=Ue[ft-1-32]=129:(x(re,oe-32-1,127,21),x(ue,ge-32-1,127,9),x(Ue,ft-32-1,127,9)),H=0;H<C.za;++H){var dt=T.ya[T.aa+H];if(0<H){for(L=-1;16>L;++L)I(re,oe+32*L-4,re,oe+32*L+12,4);for(L=-1;8>L;++L)I(ue,ge+32*L-4,ue,ge+32*L+4,4),I(Ue,ft+32*L-4,Ue,ft+32*L+4,4)}var Ze=C.Gd,Xt=C.Hd+H,Nt=dt.ad,ze=dt.Hc;if(0<Z&&(I(re,oe-32,Ze[Xt].y,0,16),I(ue,ge-32,Ze[Xt].f,0,8),I(Ue,ft-32,Ze[Xt].ea,0,8)),dt.Za){var Ye=re,Yt=oe-32+16;for(0<Z&&(H>=C.za-1?x(Ye,Yt,Ze[Xt].y[15],4):I(Ye,Yt,Ze[Xt+1].y,0,4)),L=0;4>L;L++)Ye[Yt+128+L]=Ye[Yt+256+L]=Ye[Yt+384+L]=Ye[Yt+0+L];for(L=0;16>L;++L,ze<<=2)Hl[dt.Ob[L]](Ye=re,Yt=oe+d_[L]),bi(ze,Nt,16*+L,Ye,Yt)}else if(Ye=_r(H,Z,dt.Ob[0]),Bd[Ye](re,oe),0!=ze)for(L=0;16>L;++L,ze<<=2)bi(ze,Nt,16*+L,re,oe+d_[L]);for(L=dt.Gc,Ye=_r(H,Z,dt.Dd),ed[Ye](ue,ge),ed[Ye](Ue,ft),ze=Nt,Ye=ue,Yt=ge,255&(dt=0|L)&&(170&dt?kd(ze,256,Ye,Yt):hl(ze,256,Ye,Yt)),dt=Ue,ze=ft,255&(L>>=8)&&(170&L?kd(Nt,320,dt,ze):hl(Nt,320,dt,ze)),Z<C.Ub-1&&(I(Ze[Xt].y,0,re,oe+480,16),I(Ze[Xt].f,0,ue,ge+224,8),I(Ze[Xt].ea,0,Ue,ft+224,8)),Ze=C.sa,Xt=C.ta+16*H+16*ne*C.R,Nt=C.qa,dt=C.ra+8*H+(L=8*ne*C.B),ze=C.Ha,Ye=C.Ia+8*H+L,L=0;16>L;++L)I(Ze,Xt+L*C.R,re,oe+32*L,16);for(L=0;8>L;++L)I(Nt,dt+L*C.B,ue,ge+32*L,8),I(ze,Ye+L*C.B,Ue,ft+32*L,8)}}function op(C,T,L,H,Z,ne,re,oe,ue){var ge=[0],Ue=[0],ft=0,dt=null!=ue?ue.kd:0,Ze=ue??new cl;if(null==C||12>L)return 7;Ze.data=C,Ze.w=T,Ze.ha=L,T=[T],L=[L],Ze.gb=[Ze.gb];e:{var Xt=T,Nt=L,ze=Ze.gb;if(_(null!=C),_(null!=Nt),_(null!=ze),ze[0]=0,12<=Nt[0]&&!b(C,Xt[0],"RIFF")){if(b(C,Xt[0]+8,"WEBP")){ze=3;break e}var Ye=hn(C,Xt[0]+4);if(12>Ye||4294967286<Ye){ze=3;break e}if(dt&&Ye>Nt[0]-8){ze=7;break e}ze[0]=Ye,Xt[0]+=12,Nt[0]-=12}ze=0}if(0!=ze)return ze;for(Ye=0<Ze.gb[0],L=L[0];;){e:{var Yt=C;Nt=T,ze=L;var en=ge,Qt=Ue,Gn=Xt=[0];if((Rn=ft=[ft])[0]=0,8>ze[0])ze=7;else{if(!b(Yt,Nt[0],"VP8X")){if(10!=hn(Yt,Nt[0]+4)){ze=3;break e}if(18>ze[0]){ze=7;break e}var yn=hn(Yt,Nt[0]+8),Xn=1+An(Yt,Nt[0]+12);if(2147483648<=Xn*(Yt=1+An(Yt,Nt[0]+15))){ze=3;break e}null!=Gn&&(Gn[0]=yn),null!=en&&(en[0]=Xn),null!=Qt&&(Qt[0]=Yt),Nt[0]+=18,ze[0]-=18,Rn[0]=1}ze=0}}if(ft=ft[0],0!=ze)return ze;if(Nt=!!(2&(Xt=Xt[0])),!Ye&&ft)return 3;if(null!=ne&&(ne[0]=!!(16&Xt)),null!=re&&(re[0]=Nt),null!=oe&&(oe[0]=0),re=ge[0],Xt=Ue[0],ft&&Nt&&null==ue){ze=0;break}if(4>L){ze=7;break}if(Ye&&ft||!Ye&&!ft&&!b(C,T[0],"ALPH")){L=[L],Ze.na=[Ze.na],Ze.P=[Ze.P],Ze.Sa=[Ze.Sa];e:{ze=T,Ye=L;var Rn=Ze.gb;en=Ze.na,Qt=Ze.P,Gn=Ze.Sa,Xn=22,_(null!=(yn=C)),_(null!=Ye),Yt=ze[0];var ji=Ye[0];for(_(null!=en),_(null!=Gn),en[0]=null,Qt[0]=null,Gn[0]=0;;){if(ze[0]=Yt,Ye[0]=ji,8>ji){ze=7;break e}var kr=hn(yn,Yt+4);if(4294967286<kr){ze=3;break e}var ar=8+kr+1&-2;if(Xn+=ar,0<Rn&&Xn>Rn){ze=3;break e}if(!b(yn,Yt,"VP8 ")||!b(yn,Yt,"VP8L")){ze=0;break e}if(ji[0]<ar){ze=7;break e}b(yn,Yt,"ALPH")||(en[0]=yn,Qt[0]=Yt+8,Gn[0]=kr),Yt+=ar,ji-=ar}}if(L=L[0],Ze.na=Ze.na[0],Ze.P=Ze.P[0],Ze.Sa=Ze.Sa[0],0!=ze)break}L=[L],Ze.Ja=[Ze.Ja],Ze.xa=[Ze.xa];e:if(Rn=C,ze=T,Ye=L,en=Ze.gb[0],Qt=Ze.Ja,Gn=Ze.xa,yn=ze[0],Yt=!b(Rn,yn,"VP8 "),Xn=!b(Rn,yn,"VP8L"),_(null!=Rn),_(null!=Ye),_(null!=Qt),_(null!=Gn),8>Ye[0])ze=7;else{if(Yt||Xn){if(Rn=hn(Rn,yn+4),12<=en&&Rn>en-12){ze=3;break e}if(dt&&Rn>Ye[0]-8){ze=7;break e}Qt[0]=Rn,ze[0]+=8,Ye[0]-=8,Gn[0]=Xn}else Gn[0]=5<=Ye[0]&&47==Rn[yn+0]&&!(Rn[yn+4]>>5),Qt[0]=Ye[0];ze=0}if(L=L[0],Ze.Ja=Ze.Ja[0],Ze.xa=Ze.xa[0],T=T[0],0!=ze)break;if(4294967286<Ze.Ja)return 3;if(null==oe||Nt||(oe[0]=Ze.xa?2:1),re=[re],Xt=[Xt],Ze.xa){if(5>L){ze=7;break}oe=re,dt=Xt,Nt=ne,null==C||5>L?C=0:5<=L&&47==C[T+0]&&!(C[T+4]>>5)?(Ye=[0],Rn=[0],en=[0],nt(Qt=new ie,C,T,L),ii(Qt,Ye,Rn,en)?(null!=oe&&(oe[0]=Ye[0]),null!=dt&&(dt[0]=Rn[0]),null!=Nt&&(Nt[0]=en[0]),C=1):C=0):C=0}else{if(10>L){ze=7;break}oe=Xt,null==C||10>L||!Uu(C,T+3,L-3)?C=0:(dt=C[T+0]|C[T+1]<<8|C[T+2]<<16,Nt=16383&(C[T+7]<<8|C[T+6]),C=16383&(C[T+9]<<8|C[T+8]),1&dt||3<(dt>>1&7)||!(dt>>4&1)||dt>>5>=Ze.Ja||!Nt||!C?C=0:(re&&(re[0]=Nt),oe&&(oe[0]=C),C=1))}if(!C||(re=re[0],Xt=Xt[0],ft&&(ge[0]!=re||Ue[0]!=Xt)))return 3;null!=ue&&(ue[0]=Ze,ue.offset=T-ue.w,_(4294967286>T-ue.w),_(ue.offset==ue.ha-L));break}return 0==ze||7==ze&&ft&&null==ue?(null!=ne&&(ne[0]|=null!=Ze.na&&0<Ze.na.length),null!=H&&(H[0]=re),null!=Z&&(Z[0]=Xt),0):ze}function Dc(C,T,L){var H=T.width,Z=T.height,ne=0,re=0,oe=H,ue=Z;if(T.Da=null!=C&&0<C.Da,T.Da&&(oe=C.cd,ue=C.bd,ne=C.v,re=C.j,11>L||(ne&=-2,re&=-2),0>ne||0>re||0>=oe||0>=ue||ne+oe>H||re+ue>Z))return 0;if(T.v=ne,T.j=re,T.va=ne+oe,T.o=re+ue,T.U=oe,T.T=ue,T.da=null!=C&&0<C.da,T.da){if(!xi(oe,ue,L=[C.ib],ne=[C.hb]))return 0;T.ib=L[0],T.hb=ne[0]}return T.ob=null!=C&&C.ob,T.Kb=null==C||!C.Sd,T.da&&(T.ob=T.ib<3*H/4&&T.hb<3*Z/4,T.Kb=0),1}function ap(C){if(null==C)return 2;if(11>C.S){var T=C.f.RGBA;T.fb+=(C.height-1)*T.A,T.A=-T.A}else(T=C.f.kb).O+=((C=C.height)-1)*T.fa,T.fa=-T.fa,T.N+=(C-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(C-1>>1)*T.Db,T.Db=-T.Db,null!=T.F&&(T.J+=(C-1)*T.lb,T.lb=-T.lb);return 0}function Gh(C,T,L,H){if(null==H||0>=C||0>=T)return 2;if(null!=L){if(L.Da){var Z=L.cd,ne=L.bd,re=-2&L.v,oe=-2&L.j;if(0>re||0>oe||0>=Z||0>=ne||re+Z>C||oe+ne>T)return 2;C=Z,T=ne}if(L.da){if(!xi(C,T,Z=[L.ib],ne=[L.hb]))return 2;C=Z[0],T=ne[0]}}H.width=C,H.height=T;e:{var ue=H.width,ge=H.height;if(C=H.S,0>=ue||0>=ge||!(C>=Ju&&13>C))C=2;else{if(0>=H.Rd&&null==H.sd){re=ne=Z=T=0;var Ue=(oe=ue*tm[C])*ge;if(11>C||(ne=(ge+1)/2*(T=(ue+1)/2),12==C&&(re=(Z=ue)*ge)),null==(ge=D(Ue+2*ne+re))){C=1;break e}H.sd=ge,11>C?((ue=H.f.RGBA).eb=ge,ue.fb=0,ue.A=oe,ue.size=Ue):((ue=H.f.kb).y=ge,ue.O=0,ue.fa=oe,ue.Fd=Ue,ue.f=ge,ue.N=0+Ue,ue.Ab=T,ue.Cd=ne,ue.ea=ge,ue.W=0+Ue+ne,ue.Db=T,ue.Ed=ne,12==C&&(ue.F=ge,ue.J=0+Ue+2*ne),ue.Tc=re,ue.lb=Z)}if(T=1,ne=H.width,re=H.height,(Z=H.S)>=Ju&&13>Z)if(11>Z)C=H.f.RGBA,T&=(oe=Math.abs(C.A))*(re-1)+ne<=C.size,T&=oe>=ne*tm[Z],T&=null!=C.eb;else{C=H.f.kb,oe=(ne+1)/2,Ue=(re+1)/2,ue=Math.abs(C.fa),ge=Math.abs(C.Ab);var ft=Math.abs(C.Db),dt=Math.abs(C.lb);T&=ue*(re-1)+ne<=C.Fd,T&=ge*(Ue-1)+oe<=C.Cd,T=(T&=ft*(Ue-1)+oe<=C.Ed)&ue>=ne&ge>=oe&ft>=oe,T&=null!=C.y,T&=null!=C.f,T&=null!=C.ea,12==Z&&(T&=dt>=ne,T&=dt*(re-1)+ne<=C.Tc,T&=null!=C.F)}else T=0;C=T?0:2}}return 0!=C||null!=L&&L.fd&&(C=ap(H)),C}var $r=64,Ld=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],du=24,ul=32,Vl=8,wa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];vn("Predictor0","PredictorAdd0"),Pe.Predictor0=function(){return 4278190080},Pe.Predictor1=function(C){return C},Pe.Predictor2=function(C,T,L){return T[L+0]},Pe.Predictor3=function(C,T,L){return T[L+1]},Pe.Predictor4=function(C,T,L){return T[L-1]},Pe.Predictor5=function(C,T,L){return Pn(Pn(C,T[L+1]),T[L+0])},Pe.Predictor6=function(C,T,L){return Pn(C,T[L-1])},Pe.Predictor7=function(C,T,L){return Pn(C,T[L+0])},Pe.Predictor8=function(C,T,L){return Pn(T[L-1],T[L+0])},Pe.Predictor9=function(C,T,L){return Pn(T[L+0],T[L+1])},Pe.Predictor10=function(C,T,L){return Pn(Pn(C,T[L-1]),Pn(T[L+0],T[L+1]))},Pe.Predictor11=function(C,T,L){var H=T[L+0];return 0>=Gi(H>>24&255,C>>24&255,(T=T[L-1])>>24&255)+Gi(H>>16&255,C>>16&255,T>>16&255)+Gi(H>>8&255,C>>8&255,T>>8&255)+Gi(255&H,255&C,255&T)?H:C},Pe.Predictor12=function(C,T,L){var H=T[L+0];return(ai((C>>24&255)+(H>>24&255)-((T=T[L-1])>>24&255))<<24|ai((C>>16&255)+(H>>16&255)-(T>>16&255))<<16|ai((C>>8&255)+(H>>8&255)-(T>>8&255))<<8|ai((255&C)+(255&H)-(255&T)))>>>0},Pe.Predictor13=function(C,T,L){var H=T[L-1];return(Ai((C=Pn(C,T[L+0]))>>24&255,H>>24&255)<<24|Ai(C>>16&255,H>>16&255)<<16|Ai(C>>8&255,H>>8&255)<<8|Ai(255&C,255&H))>>>0};var zg=Pe.PredictorAdd0;Pe.PredictorAdd1=Yi,vn("Predictor2","PredictorAdd2"),vn("Predictor3","PredictorAdd3"),vn("Predictor4","PredictorAdd4"),vn("Predictor5","PredictorAdd5"),vn("Predictor6","PredictorAdd6"),vn("Predictor7","PredictorAdd7"),vn("Predictor8","PredictorAdd8"),vn("Predictor9","PredictorAdd9"),vn("Predictor10","PredictorAdd10"),vn("Predictor11","PredictorAdd11"),vn("Predictor12","PredictorAdd12"),vn("Predictor13","PredictorAdd13");var xc=Pe.PredictorAdd2;er("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),er("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var $u,Sr=Pe.ColorIndexInverseTransform,lp=Pe.MapARGB,cp=Pe.VP8LColorIndexInverseTransformAlpha,Bh=Pe.MapAlpha,Pc=Pe.VP8LPredictorsAdd=[];Pc.length=16,(Pe.VP8LPredictors=[]).length=16,(Pe.VP8LPredictorsAdd_C=[]).length=16,(Pe.VP8LPredictors_C=[]).length=16;var dl,Pi,_o,qu,Ko,Gl,Bl,Mc,Ns,kd,eo,hl,hu,s_,Hh,Ku,Yu,fu,yo,jg,Vd,Xu,Uh,to,fl,yr,Zr,Os,no=D(511),Qu=D(2041),$g=D(225),qg=D(767),Gd=0,wS=Qu,Kg=$g,Co=qg,bo=no,Ju=0,up=1,Yg=2,ka=3,o_=4,Zu=5,dp=6,MC=7,a_=8,hp=9,pu=10,l_=[2,3,7],Xg=[3,3,11],ES=[280,256,256,256,40],SS=[0,1,1,1,0],IS=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],fp=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],tr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],gu=8,Mo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Nc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],No=null,Qg=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Fs=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],mu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Jg=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],NC=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],KA=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],TS=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Bd=[],Hl=[],ed=[],AS=1,RS=2,Hd=[],Ul=[];It("UpsampleRgbLinePair",ri,3),It("UpsampleBgrLinePair",Lr,3),It("UpsampleRgbaLinePair",Ac,4),It("UpsampleBgraLinePair",jr,4),It("UpsampleArgbLinePair",Po,4),It("UpsampleRgba4444LinePair",Ms,2),It("UpsampleRgb565LinePair",ps,2);var DS=Pe.UpsampleRgbLinePair,YA=Pe.UpsampleBgrLinePair,Zg=Pe.UpsampleRgbaLinePair,em=Pe.UpsampleBgraLinePair,c_=Pe.UpsampleArgbLinePair,OC=Pe.UpsampleRgba4444LinePair,pp=Pe.UpsampleRgb565LinePair,gp=16,Wh=1<<gp-1,zh=-227,pl=482,jh=6,xS=(256<<jh)-1,u_=0,RN=D(256),$h=D(256),FC=D(256),LC=D(256),XA=D(pl-zh),kC=D(pl-zh);kl("YuvToRgbRow",ri,3),kl("YuvToBgrRow",Lr,3),kl("YuvToRgbaRow",Ac,4),kl("YuvToBgraRow",jr,4),kl("YuvToArgbRow",Po,4),kl("YuvToRgba4444Row",Ms,2),kl("YuvToRgb565Row",ps,2);var d_=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ud=[0,2,8],VC=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(C,T,L,H,Z){var ne=up,re=new ju,oe=new pc;re.ba=oe,oe.S=ne,oe.width=[oe.width],oe.height=[oe.height];var ue=oe.width,ge=oe.height,Ue=new Ph;if(null==Ue||null==C)var ft=2;else _(null!=Ue),ft=op(C,T,L,Ue.width,Ue.height,Ue.Pd,Ue.Qd,Ue.format,null);if(0!=ft?ue=0:(null!=ue&&(ue[0]=Ue.width[0]),null!=ge&&(ge[0]=Ue.height[0]),ue=1),ue){oe.width=oe.width[0],oe.height=oe.height[0],null!=H&&(H[0]=oe.width),null!=Z&&(Z[0]=oe.height);e:{if(H=new su,(Z=new cl).data=C,Z.w=T,Z.ha=L,Z.kd=1,T=[0],_(null!=Z),(0==(C=op(Z.data,Z.w,Z.ha,null,null,null,T,null,Z))||7==C)&&T[0]&&(C=4),0==(T=C)){if(_(null!=re),H.data=Z.data,H.w=Z.w+Z.offset,H.ha=Z.ha-Z.offset,H.put=xl,H.ac=Qs,H.bc=sl,H.ma=re,Z.xa){if(null==(C=Hi())){re=1;break e}if(function(dt,Ze){var Xt=[0],Nt=[0],ze=[0];t:for(;;){if(null==dt)return 0;if(null==Ze)return dt.a=2,0;if(dt.l=Ze,dt.a=0,nt(dt.m,Ze.data,Ze.w,Ze.ha),!ii(dt.m,Xt,Nt,ze)){dt.a=3;break t}if(dt.xb=RS,Ze.width=Xt[0],Ze.height=Nt[0],!Ml(Xt[0],Nt[0],1,dt,null))break t;return 1}return _(0!=dt.a),0}(C,H)){if(H=0==(T=Gh(H.width,H.height,re.Oa,re.ba))){t:{H=C;n:for(;;){if(null==H){H=0;break t}if(_(null!=H.s.yc),_(null!=H.s.Ya),_(0<H.s.Wb),_(null!=(L=H.l)),_(null!=(Z=L.ma)),0!=H.xb){if(H.ca=Z.ba,H.tb=Z.tb,_(null!=H.ca),!Dc(Z.Oa,L,ka)){H.a=2;break n}if(!Cc(H,L.width)||L.da)break n;if((L.da||Fr(H.ca.S))&&rt(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=H.ca.f.kb.F&&rt()),H.Pb&&0<H.s.ua&&null==H.s.vb.X&&!pi(H.s.vb,H.s.Wa.Xa)){H.a=1;break n}H.xb=0}if(!_c(H,H.V,H.Ba,H.c,H.i,L.o,ya))break n;Z.Dc=H.Ma,H=1;break t}_(0!=H.a),H=0}H=!H}H&&(T=C.a)}else T=C.a}else{if(null==(C=new Jf)){re=1;break e}if(C.Fa=Z.na,C.P=Z.P,C.qc=Z.Sa,ci(C,H)){if(0==(T=Gh(H.width,H.height,re.Oa,re.ba))){if(C.Aa=0,L=re.Oa,_(null!=(Z=C)),null!=L){if(0<(ue=0>(ue=L.Md)?0:100<ue?255:255*ue/100)){for(ge=Ue=0;4>ge;++ge)12>(ft=Z.pb[ge]).lc&&(ft.ia=ue*VC[0>ft.lc?0:ft.lc]>>3),Ue|=ft.ia;Ue&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=L.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}(function e_(C,T){if(null==C)return 0;if(null==T)return hs(C,2,"NULL VP8Io parameter in VP8Decode().");if(!C.cb&&!ci(C,T))return 0;if(_(C.cb),null==T.ac||T.ac(T)){T.ob&&(C.L=0);var L=Ud[C.L];if(2==C.L?(C.yb=0,C.zb=0):(C.yb=T.v-L>>4,C.zb=T.j-L>>4,0>C.yb&&(C.yb=0),0>C.zb&&(C.zb=0)),C.Va=T.o+15+L>>4,C.Hb=T.va+15+L>>4,C.Hb>C.za&&(C.Hb=C.za),C.Va>C.Ub&&(C.Va=C.Ub),0<C.L){var H=C.ed;for(L=0;4>L;++L){var Z;if(C.Qa.Cb){var ne=C.Qa.Lb[L];C.Qa.Fb||(ne+=H.Tb)}else ne=H.Tb;for(Z=0;1>=Z;++Z){var re=C.gd[L][Z],oe=ne;if(H.Pc&&(oe+=H.vd[0],Z&&(oe+=H.od[0])),0<(oe=0>oe?0:63<oe?63:oe)){var ue=oe;0<H.wb&&(ue=4<H.wb?ue>>2:ue>>1)>9-H.wb&&(ue=9-H.wb),1>ue&&(ue=1),re.dd=ue,re.tc=2*oe+ue,re.ld=40<=oe?2:15<=oe?1:0}else re.tc=0;re.La=Z}}}L=0}else hs(C,6,"Frame setup failed"),L=C.a;if(L=0==L){if(L){C.$c=0,0<C.Aa||(C.Ic=1);e:{H=4*(ue=C.za);var ge=32*ue,Ue=ue+1,ft=0<C.L?ue*(0<C.Aa?2:1):0,dt=(2==C.Aa?2:1)*ue;if((re=H+832+(Z=3*(16*(L=C.Ic)+Ud[C.L])/2*ge)+(ne=null!=C.Fa&&0<C.Fa.length?C.Kc.c*C.Kc.i:0))!=re)L=0;else{if(re>C.Vb){if(C.Vb=0,C.Ec=D(re),C.Fc=0,null==C.Ec){L=hs(C,1,"no memory during frame initialization.");break e}C.Vb=re}oe=C.Fc,C.Ac=re=C.Ec,C.Bc=oe,oe+=H,C.Gd=O(ge,Qf),C.Hd=0,C.rb=O(Ue+1,ll),C.sb=1,C.wa=ft?O(ft,Pd):null,C.Y=0,C.D.Nb=0,C.D.wa=C.wa,C.D.Y=C.Y,0<C.Aa&&(C.D.Y+=ue),_(!0),C.oc=re,C.pc=oe,oe+=832,C.ya=O(dt,Og),C.aa=0,C.D.ya=C.ya,C.D.aa=C.aa,2==C.Aa&&(C.D.aa+=ue),C.R=16*ue,C.B=8*ue,ue=(ge=Ud[C.L])*C.R,ge=ge/2*C.B,C.sa=re,C.ta=oe+ue,C.qa=C.sa,C.ra=C.ta+16*L*C.R+ge,C.Ha=C.qa,C.Ia=C.ra+8*L*C.B+ge,C.$c=0,oe+=Z,C.mb=ne?re:null,C.nb=ne?oe:null,_(oe+ne<=C.Fc+C.Vb),Lg(C),x(C.Ac,C.Bc,0,H),L=1}}if(L){if(T.ka=0,T.y=C.sa,T.O=C.ta,T.f=C.qa,T.N=C.ra,T.ea=C.Ha,T.Vd=C.Ia,T.fa=C.R,T.Rc=C.B,T.F=null,T.J=0,!Gd){for(L=-255;255>=L;++L)no[255+L]=0>L?-L:L;for(L=-1020;1020>=L;++L)Qu[1020+L]=-128>L?-128:127<L?127:L;for(L=-112;112>=L;++L)$g[112+L]=-16>L?-16:15<L?15:L;for(L=-255;510>=L;++L)qg[255+L]=0>L?0:255<L?255:L;Gd=1}Bl=Bt,Mc=t_,kd=Vg,eo=PC,hl=vo,Ns=kg,hu=Fh,s_=Nd,Hh=Wg,Ku=zu,Yu=Od,fu=Lh,yo=Dr,jg=kh,Vd=Oh,Xu=cu,Uh=Rr,to=ti,Hl[0]=Ic,Hl[1]=n_,Hl[2]=qo,Hl[3]=Sc,Hl[4]=ba,Hl[5]=np,Hl[6]=Ol,Hl[7]=Jr,Hl[8]=Gg,Hl[9]=r_,Bd[0]=Pr,Bd[1]=vr,Bd[2]=ou,Bd[3]=au,Bd[4]=Oi,Bd[5]=ep,Bd[6]=tp,ed[0]=Fn,ed[1]=i_,ed[2]=ip,ed[3]=Tc,ed[4]=Md,ed[5]=Do,ed[6]=lu,L=1}else L=0}L&&(L=function(Ze,Xt){for(Ze.M=0;Ze.M<Ze.Va;++Ze.M){var Nt,ze=Ze.Jc[Ze.M&Ze.Xb],Ye=Ze.m,Yt=Ze;for(Nt=0;Nt<Yt.za;++Nt){var en=Ye,Qt=Yt,Gn=Qt.Ac,yn=Qt.Bc+4*Nt,Xn=Qt.zc,Rn=Qt.ya[Qt.aa+Nt];if(Rn.$b=Qt.Qa.Bb?bt(en,Qt.Pa.jb[0])?2+bt(en,Qt.Pa.jb[2]):bt(en,Qt.Pa.jb[1]):0,Qt.kc&&(Rn.Ad=bt(en,Qt.Bd)),Rn.Za=!bt(en,145)+0,Rn.Za){var ji=Rn.Ob,kr=0;for(Qt=0;4>Qt;++Qt){var ar,Ji=Xn[0+Qt];for(ar=0;4>ar;++ar){for(var Vr=mu[bt(en,(Ji=NC[Gn[yn+ar]][Ji])[0])];0<Vr;)Vr=mu[2*Vr+bt(en,Ji[Vr])];Gn[yn+ar]=Ji=-Vr}I(ji,kr,Gn,yn,4),kr+=4,Xn[0+Qt]=Ji}}else Ji=bt(en,156)?bt(en,128)?1:3:bt(en,163)?2:0,Rn.Ob[0]=Ji,x(Gn,yn,Ji,4),x(Xn,0,Ji,4);Rn.Dd=bt(en,142)?bt(en,114)?bt(en,183)?1:3:2:0}if(Yt.m.Ka)return hs(Ze,7,"Premature end-of-partition0 encountered.");for(;Ze.ja<Ze.za;++Ze.ja){if(Yt=ze,en=(Ye=Ze).rb[Ye.sb-1],Gn=Ye.rb[Ye.sb+Ye.ja],Nt=Ye.ya[Ye.aa+Ye.ja],yn=Ye.kc?Nt.Ad:0)en.la=Gn.la=0,Nt.Za||(en.Na=Gn.Na=0),Nt.Hc=0,Nt.Gc=0,Nt.ia=0;else{var gr,Fi;if(en=Gn,Gn=Yt,yn=Ye.Pa.Xc,Rn=Ye.pb[(Xn=Ye.ya[Ye.aa+Ye.ja]).$b],kr=Ye.rb[Ye.sb-1],Ji=ar=0,x(Qt=Xn.ad,ji=0,0,384),Xn.Za)var io=0,wo=yn[3];else{Vr=D(16);var Gr=en.Na+kr.Na;if(Gr=No(Gn,yn[1],Gr,Rn.Eb,0,Vr,0),en.Na=kr.Na=(0<Gr)+0,1<Gr)Bl(Vr,0,Qt,ji);else{var Ea=Vr[0]+3>>3;for(Vr=0;256>Vr;Vr+=16)Qt[ji+Vr]=Ea}io=1,wo=yn[0]}var Ir=15&en.la,Yo=15&kr.la;for(Vr=0;4>Vr;++Vr){var ca=1&Yo;for(Ea=Fi=0;4>Ea;++Ea)Ir=Ir>>1|(ca=(Gr=No(Gn,wo,Gr=ca+(1&Ir),Rn.Sc,io,Qt,ji))>io)<<7,Fi=Fi<<2|(3<Gr?3:1<Gr?2:0!=Qt[ji+0]),ji+=16;Ir>>=4,Yo=Yo>>1|ca<<7,ar=(ar<<8|Fi)>>>0}for(wo=Ir,io=Yo>>4,gr=0;4>gr;gr+=2){for(Fi=0,Ir=en.la>>4+gr,Yo=kr.la>>4+gr,Vr=0;2>Vr;++Vr){for(ca=1&Yo,Ea=0;2>Ea;++Ea)Ir=Ir>>1|(ca=0<(Gr=No(Gn,yn[2],Gr=ca+(1&Ir),Rn.Qc,0,Qt,ji)))<<3,Fi=Fi<<2|(3<Gr?3:1<Gr?2:0!=Qt[ji+0]),ji+=16;Ir>>=2,Yo=Yo>>1|ca<<5}Ji|=Fi<<4*gr,wo|=Ir<<4<<gr,io|=(240&Yo)<<gr}en.la=wo,kr.la=io,Xn.Hc=ar,Xn.Gc=Ji,Xn.ia=43690&Ji?0:Rn.ia,yn=!(ar|Ji)}if(0<Ye.L&&(Ye.wa[Ye.Y+Ye.ja]=Ye.gd[Nt.$b][Nt.Za],Ye.wa[Ye.Y+Ye.ja].La|=!yn),Yt.Ka)return hs(Ze,7,"Premature end-of-file encountered.")}if(Lg(Ze),Ye=Xt,Yt=1,Nt=(ze=Ze).D,en=0<ze.L&&ze.M>=ze.zb&&ze.M<=ze.Va,0==ze.Aa)e:{if(Nt.M=ze.M,Nt.uc=en,Rc(ze,Nt),Yt=1,Nt=(Fi=ze.D).Nb,en=(Ji=Ud[ze.L])*ze.R,yn=ze.sa,Xn=ze.ta-en+(Vr=16*Nt*ze.R),Rn=ze.qa,Qt=ze.ra-(Gn=Ji/2*ze.B)+(Ea=8*Nt*ze.B),ji=ze.Ha,kr=ze.Ia-Gn+Ea,Yo=0==(Ir=Fi.M),ar=Ir>=ze.Va-1,2==ze.Aa&&Rc(ze,Fi),Fi.uc)for(ca=(Gr=ze).D.M,_(Gr.D.uc),Fi=Gr.yb;Fi<Gr.Hb;++Fi){wo=ca;var Xo=(Ls=(gs=Gr).D).Nb,Ls=Ls.wa[Ls.Y+(io=Fi)],Sa=gs.sa,Ia=gs.ta+16*Xo*(gr=gs.R)+16*io,Wl=Ls.dd,Oo=Ls.tc;if(0!=Oo)if(_(3<=Oo),1==gs.L)0<io&&Xu(Sa,Ia,gr,Oo+4),Ls.La&&to(Sa,Ia,gr,Oo),0<wo&&Vd(Sa,Ia,gr,Oo+4),Ls.La&&Uh(Sa,Ia,gr,Oo);else{var Oc=gs.B,zl=gs.qa,Va=gs.ra+8*Xo*Oc+8*io,Fc=gs.Ha,gs=gs.Ia+8*Xo*Oc+8*io;Xo=Ls.ld,0<io&&(s_(Sa,Ia,gr,Oo+4,Wl,Xo),Ku(zl,Va,Fc,gs,Oc,Oo+4,Wl,Xo)),Ls.La&&(fu(Sa,Ia,gr,Oo,Wl,Xo),jg(zl,Va,Fc,gs,Oc,Oo,Wl,Xo)),0<wo&&(hu(Sa,Ia,gr,Oo+4,Wl,Xo),Hh(zl,Va,Fc,gs,Oc,Oo+4,Wl,Xo)),Ls.La&&(Yu(Sa,Ia,gr,Oo,Wl,Xo),yo(zl,Va,Fc,gs,Oc,Oo,Wl,Xo))}}if(ze.ia&&alert("todo:DitherRow"),null!=Ye.put){if(Fi=16*Ir,Ir=16*(Ir+1),Yo?(Ye.y=ze.sa,Ye.O=ze.ta+Vr,Ye.f=ze.qa,Ye.N=ze.ra+Ea,Ye.ea=ze.Ha,Ye.W=ze.Ia+Ea):(Fi-=Ji,Ye.y=yn,Ye.O=Xn,Ye.f=Rn,Ye.N=Qt,Ye.ea=ji,Ye.W=kr),ar||(Ir-=Ji),Ir>Ye.o&&(Ir=Ye.o),Ye.F=null,Ye.J=null,null!=ze.Fa&&0<ze.Fa.length&&Fi<Ir&&(Ye.J=Vh(ze,Ye,Fi,Ir-Fi),Ye.F=ze.mb,null==Ye.F&&0==Ye.F.length)){Yt=hs(ze,3,"Could not decode alpha data.");break e}Fi<Ye.j&&(Ji=Ye.j-Fi,Fi=Ye.j,_(!(1&Ji)),Ye.O+=ze.R*Ji,Ye.N+=ze.B*(Ji>>1),Ye.W+=ze.B*(Ji>>1),null!=Ye.F&&(Ye.J+=Ye.width*Ji)),Fi<Ir&&(Ye.O+=Ye.v,Ye.N+=Ye.v>>1,Ye.W+=Ye.v>>1,null!=Ye.F&&(Ye.J+=Ye.v),Ye.ka=Fi-Ye.j,Ye.U=Ye.va-Ye.v,Ye.T=Ir-Fi,Yt=Ye.put(Ye))}Nt+1!=ze.Ic||ar||(I(ze.sa,ze.ta-en,yn,Xn+16*ze.R,en),I(ze.qa,ze.ra-Gn,Rn,Qt+8*ze.B,Gn),I(ze.Ha,ze.Ia-Gn,ji,kr+8*ze.B,Gn))}if(!Yt)return hs(Ze,6,"Output aborted.")}return 1}(C,T)),null!=T.bc&&T.bc(T),L&=1}return L?(C.cb=0,L):0})(C,H)||(T=C.a)}}else T=C.a}0==T&&null!=re.Oa&&re.Oa.fd&&(T=ap(re.ba))}re=T}ne=0!=re?null:11>ne?oe.f.RGBA.eb:oe.f.kb.y}else ne=null;return ne};var tm=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function j(Pe,lt){for(var Lt="",ce=0;ce<4;ce++)Lt+=String.fromCharCode(Pe[lt++]);return Lt}function J(Pe,lt){return(Pe[lt+0]|Pe[lt+1]<<8|Pe[lt+2]<<16)>>>0}function ee(Pe,lt){return(Pe[lt+0]|Pe[lt+1]<<8|Pe[lt+2]<<16|Pe[lt+3]<<24)>>>0}new V;var se=[0],z=[0],ye=[],fe=new V,be=w,le=function(Pe,lt){var Lt={},ce=0,he=!1,Ve=0,_e=0;if(Lt.frames=[],!
/** @license
               * Copyright (c) 2017 Dominik Homberger
              Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
              The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
              THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
              https://webpjs.appspot.com
              WebPRiffParser dominikhlbg@gmail.com
              */
function(we,Re,Ge,Je){for(var $e=0;$e<4;$e++)if(we[Re+$e]!="RIFF".charCodeAt($e))return!0;return!1}(Pe,lt)){var Tt,wt;for(ee(Pe,lt+=4),lt+=8;lt<Pe.length;){var Pt=j(Pe,lt),nt=ee(Pe,lt+=4);lt+=4;var Vt=nt+(1&nt);switch(Pt){case"VP8 ":case"VP8L":void 0===Lt.frames[ce]&&(Lt.frames[ce]={}),(ie=Lt.frames[ce]).src_off=he?_e:lt-8,ie.src_size=Ve+nt+8,ce++,he&&(he=!1,Ve=0,_e=0);break;case"VP8X":(ie=Lt.header={}).feature_flags=Pe[lt];var jt=lt+4;ie.canvas_width=1+J(Pe,jt),ie.canvas_height=1+J(Pe,jt+=3),jt+=3;break;case"ALPH":he=!0,Ve=Vt+8,_e=lt-8;break;case"ANIM":(ie=Lt.header).bgcolor=ee(Pe,lt),ie.loop_count=(Tt=Pe)[(wt=jt=lt+4)+0]|Tt[wt+1]<<8,jt+=2;break;case"ANMF":var Sn,ie;(ie=Lt.frames[ce]={}).offset_x=2*J(Pe,lt),ie.offset_y=2*J(Pe,lt+=3),ie.width=1+J(Pe,lt+=3),ie.height=1+J(Pe,lt+=3),ie.duration=J(Pe,lt+=3),lt+=3,Sn=Pe[lt++],ie.dispose=1&Sn,ie.blend=Sn>>1&1}"ANMF"!=Pt&&(lt+=Vt)}return Lt}}(be,0);le.response=be,le.rgbaoutput=!0,le.dataurl=!1;var Ce=le.header?le.header:null,Le=le.frames?le.frames:null;if(Ce){Ce.loop_counter=Ce.loop_count,se=[Ce.canvas_height],z=[Ce.canvas_width];for(var Ee=0;Ee<Le.length&&0!=Le[Ee].blend;Ee++);}var qe=Le[0],Ut=fe.WebPDecodeRGBA(be,qe.src_off,qe.src_size,z,se);qe.rgba=Ut,qe.imgwidth=z[0],qe.imgheight=se[0];for(var ot=0;ot<z[0]*se[0]*4;ot++)ye[ot]=Ut[ot];return this.width=z,this.height=se,this.data=ye,this}(function(w){var b=function(se,z,ye,fe){var be=4,le=O;switch(fe){case w.image_compression.FAST:be=1,le=D;break;case w.image_compression.MEDIUM:be=6,le=F;break;case w.image_compression.SLOW:be=9,le=V}var Ce=Lf(se=I(se,z,ye,le),{level:be});return w.__addimage__.arrayBufferToBinaryString(Ce)},I=function(se,z,ye,fe){for(var be,le,Ce,Le=se.length/z,Ee=new Uint8Array(se.length+Le),qe=J(),Ut=0;Ut<Le;Ut+=1){if(be=se.subarray(Ce=Ut*z,Ce+z),fe)Ee.set(fe(be,ye,le),Ce+Ut);else{for(var ot,Pe=qe.length,lt=[];ot<Pe;ot+=1)lt[ot]=qe[ot](be,ye,le);var Lt=ee(lt.concat());Ee.set(lt[Lt],Ce+Ut)}le=be}return Ee},x=function(se){var z=Array.apply([],se);return z.unshift(0),z},D=function(se,z){var fe=[],be=se.length;fe[0]=1;for(var le=0;le<be;le+=1)fe[le+1]=se[le]-(se[le-z]||0)+256&255;return fe},O=function(se,z,ye){var be=[],le=se.length;be[0]=2;for(var Ce=0;Ce<le;Ce+=1)be[Ce+1]=se[Ce]-(ye&&ye[Ce]||0)+256&255;return be},F=function(se,z,ye){var le=[],Ce=se.length;le[0]=3;for(var Le=0;Le<Ce;Le+=1)le[Le+1]=se[Le]+256-((se[Le-z]||0)+(ye&&ye[Le]||0)>>>1)&255;return le},V=function(se,z,ye){var Ce,Le=[],Ee=se.length;Le[0]=4;for(var qe=0;qe<Ee;qe+=1)Ce=j(se[qe-z]||0,ye&&ye[qe]||0,ye&&ye[qe-z]||0),Le[qe+1]=se[qe]-Ce+256&255;return Le},j=function(se,z,ye){if(se===z&&z===ye)return se;var fe=Math.abs(z-ye),be=Math.abs(se-ye),le=Math.abs(se+z-ye-ye);return fe<=be&&fe<=le?se:be<=le?z:ye},J=function(){return[x,D,O,F,V]},ee=function(se){var z=se.map(function(ye){return ye.reduce(function(fe,be){return fe+Math.abs(be)},0)});return z.indexOf(Math.min.apply(null,z))};w.processPNG=function(se,z,ye,fe){var be,le,Ce,Le,Ee,qe,Ut,ot,Pe,lt,Lt,ce,he,Ve,_e,Tt=this.decode.FLATE_DECODE,wt="";if(this.__addimage__.isArrayBuffer(se)&&(se=new Uint8Array(se)),this.__addimage__.isArrayBufferView(se)){if(se=(Ce=new Kv(se)).imgData,le=Ce.bits,be=Ce.colorSpace,Ee=Ce.colors,-1!==[4,6].indexOf(Ce.colorType)){if(8===Ce.bits){Pe=(ot=32==Ce.pixelBitlength?new Uint32Array(Ce.decodePixels().buffer):16==Ce.pixelBitlength?new Uint16Array(Ce.decodePixels().buffer):new Uint8Array(Ce.decodePixels().buffer)).length,Lt=new Uint8Array(Pe*Ce.colors),lt=new Uint8Array(Pe);var Pt,nt=Ce.pixelBitlength-Ce.bits;for(Ve=0,_e=0;Ve<Pe;Ve++){for(he=ot[Ve],Pt=0;Pt<nt;)Lt[_e++]=he>>>Pt&255,Pt+=Ce.bits;lt[Ve]=he>>>Pt&255}}if(16===Ce.bits){Pe=(ot=new Uint32Array(Ce.decodePixels().buffer)).length,Lt=new Uint8Array(Pe*(32/Ce.pixelBitlength)*Ce.colors),lt=new Uint8Array(Pe*(32/Ce.pixelBitlength)),ce=Ce.colors>1,Ve=0,_e=0;for(var Vt=0;Ve<Pe;)he=ot[Ve++],Lt[_e++]=he>>>0&255,ce&&(Lt[_e++]=he>>>16&255,he=ot[Ve++],Lt[_e++]=he>>>0&255),lt[Vt++]=he>>>16&255;le=8}fe!==w.image_compression.NONE?(se=b(Lt,Ce.width*Ce.colors,Ce.colors,fe),Ut=b(lt,Ce.width,1,fe)):(se=Lt,Ut=lt,Tt=void 0)}if(3===Ce.colorType&&(be=this.color_spaces.INDEXED,qe=Ce.palette,Ce.transparency.indexed)){var jt=Ce.transparency.indexed,Sn=0;for(Ve=0,Pe=jt.length;Ve<Pe;++Ve)Sn+=jt[Ve];if((Sn/=255)==Pe-1&&-1!==jt.indexOf(0))Le=[jt.indexOf(0)];else if(Sn!==Pe){for(ot=Ce.decodePixels(),lt=new Uint8Array(ot.length),Ve=0,Pe=ot.length;Ve<Pe;Ve++)lt[Ve]=jt[ot[Ve]];Ut=b(lt,Ce.width,1)}}var ie=function(we){var Re;switch(we){case w.image_compression.FAST:Re=11;break;case w.image_compression.MEDIUM:Re=13;break;case w.image_compression.SLOW:Re=14;break;default:Re=12}return Re}(fe);return Tt===this.decode.FLATE_DECODE&&(wt="/Predictor "+ie+" "),wt+="/Colors "+Ee+" /BitsPerComponent "+le+" /Columns "+Ce.width,(this.__addimage__.isArrayBuffer(se)||this.__addimage__.isArrayBufferView(se))&&(se=this.__addimage__.arrayBufferToBinaryString(se)),(Ut&&this.__addimage__.isArrayBuffer(Ut)||this.__addimage__.isArrayBufferView(Ut))&&(Ut=this.__addimage__.arrayBufferToBinaryString(Ut)),{alias:ye,data:se,index:z,filter:Tt,decodeParameters:wt,transparency:Le,palette:qe,sMask:Ut,predictor:ie,width:Ce.width,height:Ce.height,bitsPerComponent:le,colorSpace:be}}}})(ni.API),function(w){w.processGIF89A=function(_,b,I,x){var D=new RC(_),O=D.width,F=D.height,V=[];D.decodeAndBlitFrameRGBA(0,V);var j={data:V,width:O,height:F},J=new Yv(100).encode(j,100);return w.processJPEG.call(this,J,b,I,x)},w.processGIF87A=w.processGIF89A}(ni.API),rl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var w=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(w);for(var _=0;_<w;_++){var b=this.datav.getUint8(this.pos++,!0),I=this.datav.getUint8(this.pos++,!0),x=this.datav.getUint8(this.pos++,!0),D=this.datav.getUint8(this.pos++,!0);this.palette[_]={red:x,green:I,blue:b,quad:D}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},rl.prototype.parseBGR=function(){this.pos=this.offset;try{var w="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[w]()}catch(b){Xr.log("bit decode error:"+b)}},rl.prototype.bit1=function(){var w,_=Math.ceil(this.width/8),b=_%4;for(w=this.height-1;w>=0;w--){for(var I=this.bottom_up?w:this.height-1-w,x=0;x<_;x++)for(var D=this.datav.getUint8(this.pos++,!0),O=I*this.width*4+8*x*4,F=0;F<8&&8*x+F<this.width;F++){var V=this.palette[D>>7-F&1];this.data[O+4*F]=V.blue,this.data[O+4*F+1]=V.green,this.data[O+4*F+2]=V.red,this.data[O+4*F+3]=255}0!==b&&(this.pos+=4-b)}},rl.prototype.bit4=function(){for(var w=Math.ceil(this.width/2),_=w%4,b=this.height-1;b>=0;b--){for(var I=this.bottom_up?b:this.height-1-b,x=0;x<w;x++){var D=this.datav.getUint8(this.pos++,!0),O=I*this.width*4+2*x*4,V=15&D,j=this.palette[D>>4];if(this.data[O]=j.blue,this.data[O+1]=j.green,this.data[O+2]=j.red,this.data[O+3]=255,2*x+1>=this.width)break;this.data[O+4]=(j=this.palette[V]).blue,this.data[O+4+1]=j.green,this.data[O+4+2]=j.red,this.data[O+4+3]=255}0!==_&&(this.pos+=4-_)}},rl.prototype.bit8=function(){for(var w=this.width%4,_=this.height-1;_>=0;_--){for(var b=this.bottom_up?_:this.height-1-_,I=0;I<this.width;I++){var x=this.datav.getUint8(this.pos++,!0),D=b*this.width*4+4*I;if(x<this.palette.length){var O=this.palette[x];this.data[D]=O.red,this.data[D+1]=O.green,this.data[D+2]=O.blue,this.data[D+3]=255}else this.data[D]=255,this.data[D+1]=255,this.data[D+2]=255,this.data[D+3]=255}0!==w&&(this.pos+=4-w)}},rl.prototype.bit15=function(){for(var w=this.width%3,_=parseInt("11111",2),b=this.height-1;b>=0;b--){for(var I=this.bottom_up?b:this.height-1-b,x=0;x<this.width;x++){var D=this.datav.getUint16(this.pos,!0);this.pos+=2;var O=(D&_)/_*255|0,F=(D>>5&_)/_*255|0,j=D>>15?255:0,J=I*this.width*4+4*x;this.data[J]=(D>>10&_)/_*255|0,this.data[J+1]=F,this.data[J+2]=O,this.data[J+3]=j}this.pos+=w}},rl.prototype.bit16=function(){for(var w=this.width%3,_=parseInt("11111",2),b=parseInt("111111",2),I=this.height-1;I>=0;I--){for(var x=this.bottom_up?I:this.height-1-I,D=0;D<this.width;D++){var O=this.datav.getUint16(this.pos,!0);this.pos+=2;var F=(O&_)/_*255|0,V=(O>>5&b)/b*255|0,J=x*this.width*4+4*D;this.data[J]=(O>>11)/_*255|0,this.data[J+1]=V,this.data[J+2]=F,this.data[J+3]=255}this.pos+=w}},rl.prototype.bit24=function(){for(var w=this.height-1;w>=0;w--){for(var _=this.bottom_up?w:this.height-1-w,b=0;b<this.width;b++){var I=this.datav.getUint8(this.pos++,!0),x=this.datav.getUint8(this.pos++,!0),D=this.datav.getUint8(this.pos++,!0),O=_*this.width*4+4*b;this.data[O]=D,this.data[O+1]=x,this.data[O+2]=I,this.data[O+3]=255}this.pos+=this.width%4}},rl.prototype.bit32=function(){for(var w=this.height-1;w>=0;w--)for(var _=this.bottom_up?w:this.height-1-w,b=0;b<this.width;b++){var I=this.datav.getUint8(this.pos++,!0),x=this.datav.getUint8(this.pos++,!0),D=this.datav.getUint8(this.pos++,!0),O=this.datav.getUint8(this.pos++,!0),F=_*this.width*4+4*b;this.data[F]=D,this.data[F+1]=x,this.data[F+2]=I,this.data[F+3]=O}},rl.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2018 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(w){w.processBMP=function(_,b,I,x){var D=new rl(_,!1),O=D.width,F=D.height,V={data:D.getData(),width:O,height:F},j=new Yv(100).encode(V,100);return w.processJPEG.call(this,j,b,I,x)}}(ni.API),EN.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2019 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(w){w.processWEBP=function(_,b,I,x){var D=new EN(_,!1),O=D.width,F=D.height,V={data:D.getData(),width:O,height:F},j=new Yv(100).encode(V,100);return w.processJPEG.call(this,j,b,I,x)}}(ni.API),ni.API.processRGBA=function(w,_,b){for(var I=w.data,x=I.length,D=new Uint8Array(x/4*3),O=new Uint8Array(x/4),F=0,V=0,j=0;j<x;j+=4){var ee=I[j+1],se=I[j+2],z=I[j+3];D[F++]=I[j],D[F++]=ee,D[F++]=se,O[V++]=z}var ye=this.__addimage__.arrayBufferToBinaryString(D);return{alpha:this.__addimage__.arrayBufferToBinaryString(O),data:ye,index:_,alias:b,colorSpace:"DeviceRGB",bitsPerComponent:8,width:w.width,height:w.height}},ni.API.setLanguage=function(w){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[w]&&(this.internal.languageSettings.languageCode=w,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Yf=(Kf=ni.API).getCharWidthsArray=function(w,_){var b,I,x=(_=_||{}).font||this.internal.getFont(),D=_.fontSize||this.internal.getFontSize(),O=_.charSpace||this.internal.getCharSpace(),F=_.widths?_.widths:x.metadata.Unicode.widths,V=F.fof?F.fof:1,j=_.kerning?_.kerning:x.metadata.Unicode.kerning,J=j.fof?j.fof:1,ee=!1!==_.doKerning,se=0,z=w.length,ye=0,fe=F[0]||V,be=[];for(b=0;b<z;b++)I=w.charCodeAt(b),"function"==typeof x.metadata.widthOfString?be.push((x.metadata.widthOfGlyph(x.metadata.characterToGlyph(I))+O*(1e3/D)||0)/1e3):(se=ee&&"object"===(0,h.A)(j[I])&&!isNaN(parseInt(j[I][ye],10))?j[I][ye]/J:0,be.push((F[I]||fe)/V+se)),ye=I;return be},Xf=Kf.getStringUnitWidth=function(w,_){var b=(_=_||{}).fontSize||this.internal.getFontSize(),I=_.font||this.internal.getFont(),x=_.charSpace||this.internal.getCharSpace();return Kf.processArabic&&(w=Kf.processArabic(w)),"function"==typeof I.metadata.widthOfString?I.metadata.widthOfString(w,b,x)/b:Yf.apply(this,arguments).reduce(function(D,O){return D+O},0)},UA=function(w,_,b,I){for(var x=[],D=0,O=w.length,F=0;D!==O&&F+_[D]<b;)F+=_[D],D++;x.push(w.slice(0,D));var V=D;for(F=0;D!==O;)F+_[D]>I&&(x.push(w.slice(V,D)),F=0,V=D),F+=_[D],D++;return V!==D&&x.push(w.slice(V,D)),x},WA=function(w,_,b){b||(b={});var I,x,D,O,F,V,J=[],ee=[J],se=b.textIndent||0,z=0,ye=0,fe=w.split(" "),be=Yf.apply(this,[" ",b])[0];if(V=-1===b.lineIndent?fe[0].length+2:b.lineIndent||0){var le=Array(V).join(" "),Ce=[];fe.map(function(Ee){(Ee=Ee.split(/\s*\n/)).length>1?Ce=Ce.concat(Ee.map(function(qe,Ut){return(Ut&&qe.length?"\n":"")+qe})):Ce.push(Ee[0])}),fe=Ce,V=Xf.apply(this,[le,b])}for(D=0,O=fe.length;D<O;D++){var Le=0;if(I=fe[D],V&&"\n"==I[0]&&(I=I.substr(1),Le=1),se+z+(ye=(x=Yf.apply(this,[I,b])).reduce(function(Ee,qe){return Ee+qe},0))>_||Le){if(ye>_){for(F=UA.apply(this,[I,x,_-(se+z),_]),J.push(F.shift()),J=[F.pop()];F.length;)ee.push([F.shift()]);ye=x.slice(I.length-(J[0]?J[0].length:0)).reduce(function(Ee,qe){return Ee+qe},0)}else J=[I];ee.push(J),se=ye+V,z=be}else J.push(I),se+=z+ye,z=be}return ee.map(V?function(Ee,qe){return(qe?le:"")+Ee.join(" ")}:function(Ee){return Ee.join(" ")})},Kf.splitTextToSize=function(w,_,b){var I,x=(b=b||{}).fontSize||this.internal.getFontSize(),D=function(J){if(J.widths&&J.kerning)return{widths:J.widths,kerning:J.kerning};var ee=this.internal.getFont(J.fontName,J.fontStyle);return ee.metadata.Unicode?{widths:ee.metadata.Unicode.widths||{0:1},kerning:ee.metadata.Unicode.kerning||{}}:{font:ee.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,b);I=Array.isArray(w)?w:String(w).split(/\r?\n/);var O=1*this.internal.scaleFactor*_/x;D.textIndent=b.textIndent?1*b.textIndent*this.internal.scaleFactor/x:0,D.lineIndent=b.lineIndent;var F,V,j=[];for(F=0,V=I.length;F<V;F++)j=j.concat(WA.apply(this,[I[F],O,D]));return j},function(w){w.__fontmetrics__=w.__fontmetrics__||{};for(var _="klmnopqrstuvwxyz",b={},I={},x=0;x<16;x++)b[_[x]]="0123456789abcdef"[x],I["0123456789abcdef"[x]]=_[x];var D=function(ee){return"0x"+parseInt(ee,10).toString(16)},O=w.__fontmetrics__.compress=function(ee){var se,z,ye,fe,be=["{"];for(var le in ee){if(se=ee[le],isNaN(parseInt(le,10))?z="'"+le+"'":(le=parseInt(le,10),z=(z=D(le).slice(2)).slice(0,-1)+I[z.slice(-1)]),"number"==typeof se)se<0?(ye=D(se).slice(3),fe="-"):(ye=D(se).slice(2),fe=""),ye=fe+ye.slice(0,-1)+I[ye.slice(-1)];else{if("object"!==(0,h.A)(se))throw new Error("Don't know what to do with value type "+(0,h.A)(se)+".");ye=O(se)}be.push(z+ye)}return be.push("}"),be.join("")},F=w.__fontmetrics__.uncompress=function(ee){if("string"!=typeof ee)throw new Error("Invalid argument passed to uncompress.");for(var se,z,ye,fe,be={},le=1,Ce=be,Le=[],Ee="",qe="",Ut=ee.length-1,ot=1;ot<Ut;ot+=1)"'"==(fe=ee[ot])?se?(ye=se.join(""),se=void 0):se=[]:se?se.push(fe):"{"==fe?(Le.push([Ce,ye]),Ce={},ye=void 0):"}"==fe?((z=Le.pop())[0][z[1]]=Ce,ye=void 0,Ce=z[0]):"-"==fe?le=-1:void 0===ye?b.hasOwnProperty(fe)?(Ee+=b[fe],ye=parseInt(Ee,16)*le,le=1,Ee=""):Ee+=fe:b.hasOwnProperty(fe)?(qe+=b[fe],Ce[ye]=parseInt(qe,16)*le,le=1,ye=void 0,qe=""):qe+=fe;return be},V={codePages:["WinAnsiEncoding"],WinAnsiEncoding:F("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},j={Unicode:{Courier:V,"Courier-Bold":V,"Courier-BoldOblique":V,"Courier-Oblique":V,Helvetica:V,"Helvetica-Bold":V,"Helvetica-BoldOblique":V,"Helvetica-Oblique":V,"Times-Roman":V,"Times-Bold":V,"Times-BoldItalic":V,"Times-Italic":V}},J={Unicode:{"Courier-Oblique":F("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":F("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":F("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:F("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":F("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":F("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:F("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:F("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":F("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:F("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":F("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":F("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":F("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":F("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};w.events.push(["addFont",function(ee){var se=ee.font,z=J.Unicode[se.postScriptName];z&&(se.metadata.Unicode={},se.metadata.Unicode.widths=z.widths,se.metadata.Unicode.kerning=z.kerning);var ye=j.Unicode[se.postScriptName];ye&&(se.metadata.Unicode.encoding=ye,se.encoding=ye.codePages[0])}])}(ni.API),
/**
         * @license
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(w){var _=function(b){for(var I=b.length,x=new Uint8Array(I),D=0;D<I;D++)x[D]=b.charCodeAt(D);return x};w.API.events.push(["addFont",function(b){var O,F,I=void 0,x=b.font,D=b.instance;if(!x.isStandardFont){if(void 0===D)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+x.postScriptName+"').");if("string"!=typeof(I=!1===D.existsFileInVFS(x.postScriptName)?D.loadFile(x.postScriptName):D.getFileFromVFS(x.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+x.postScriptName+"').");O=x,F=/^\x00\x01\x00\x00/.test(F=I)?_(F):_(Eh(F)),O.metadata=w.API.TTFFont.open(F),O.metadata.Unicode=O.metadata.Unicode||{encoding:{},kerning:{},widths:[]},O.metadata.glyIdsUsed=[0]}}])}(ni),ni.API.addSvgAsImage=function(b,I,x,D,O,F,V,j){if(isNaN(I)||isNaN(x))throw Xr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(D)||isNaN(O))throw Xr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var J=document.createElement("canvas");J.width=D,J.height=O;var ee=J.getContext("2d");ee.fillStyle="#fff",ee.fillRect(0,0,J.width,J.height);var se={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},z=this;return function _(){return(Zn.canvg?Promise.resolve(Zn.canvg):Kt.e(147).then(Kt.bind(Kt,147))).catch(function(b){return Promise.reject(new Error("Could not load canvg: "+b))}).then(function(b){return b.default?b.default:b})}().then(function(ye){return ye.fromString(ee,b,se)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(ye){return ye.render(se)}).then(function(){z.addImage(J.toDataURL("image/jpeg",1),I,x,D,O,V,j)})},ni.API.putTotalPages=function(w){var _,b=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(_=new RegExp(w,"g"),b=this.internal.getNumberOfPages()):(_=new RegExp(this.pdfEscape16(w,this.internal.getFont()),"g"),b=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var I=1;I<=this.internal.getNumberOfPages();I++)for(var x=0;x<this.internal.pages[I].length;x++)this.internal.pages[I][x]=this.internal.pages[I][x].replace(_,b);return this},ni.API.viewerPreferences=function(w,_){var b;w=w||{},_=_||!1;var I,x,D,O={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},F=Object.keys(O),V=[],j=0,J=0,ee=0;function se(ye,fe){var be,le=!1;for(be=0;be<ye.length;be+=1)ye[be]===fe&&(le=!0);return le}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(O)),this.internal.viewerpreferences.isSubscribed=!1),b=this.internal.viewerpreferences.configuration,"reset"===w||!0===_){var z=F.length;for(ee=0;ee<z;ee+=1)b[F[ee]].value=b[F[ee]].defaultValue,b[F[ee]].explicitSet=!1}if("object"===(0,h.A)(w))for(x in w)if(D=w[x],se(F,x)&&void 0!==D){if("boolean"===b[x].type&&"boolean"==typeof D)b[x].value=D;else if("name"===b[x].type&&se(b[x].valueSet,D))b[x].value=D;else if("integer"===b[x].type&&Number.isInteger(D))b[x].value=D;else if("array"===b[x].type){for(j=0;j<D.length;j+=1)if(I=!0,1===D[j].length&&"number"==typeof D[j][0])V.push(String(D[j]-1));else if(D[j].length>1){for(J=0;J<D[j].length;J+=1)"number"!=typeof D[j][J]&&(I=!1);!0===I&&V.push([D[j][0]-1,D[j][1]-1].join(" "))}b[x].value="["+V.join(" ")+"]"}else b[x].value=b[x].defaultValue;b[x].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var ye,fe=[];for(ye in b)!0===b[ye].explicitSet&&fe.push("name"===b[ye].type?"/"+ye+" /"+b[ye].value:"/"+ye+" "+b[ye].value);0!==fe.length&&this.internal.write("/ViewerPreferences\n<<\n"+fe.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=b,this},
/** ====================================================================
         * @license
         * jsPDF XMP metadata plugin
         * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
         *
         * Permission is hereby granted, free of charge, to any person obtaining
         * a copy of this software and associated documentation files (the
         * "Software"), to deal in the Software without restriction, including
         * without limitation the rights to use, copy, modify, merge, publish,
         * distribute, sublicense, and/or sell copies of the Software, and to
         * permit persons to whom the Software is furnished to do so, subject to
         * the following conditions:
         *
         * The above copyright notice and this permission notice shall be
         * included in all copies or substantial portions of the Software.
         *
         * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
         * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
         * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
         * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
         * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
         * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
         * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
         * ====================================================================
         */
function(w){var _=function(){var I='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',x=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),D=unescape(encodeURIComponent(I)),O=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),F=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),V=unescape(encodeURIComponent("</x:xmpmeta>")),j=D.length+O.length+F.length+x.length+V.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+j+" >>"),this.internal.write("stream"),this.internal.write(x+D+O+F+V),this.internal.write("endstream"),this.internal.write("endobj")},b=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};w.addMetadata=function(I,x){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:I,namespaceuri:x||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",b),this.internal.events.subscribe("postPutResources",_)),this}}(ni.API),function(w){var _=w.API,b=_.pdfEscape16=function(D,O){for(var F,V=O.metadata.Unicode.widths,j=["","0","00","000","0000"],J=[""],ee=0,se=D.length;ee<se;++ee){if(F=O.metadata.characterToGlyph(D.charCodeAt(ee)),O.metadata.glyIdsUsed.push(F),O.metadata.toUnicode[F]=D.charCodeAt(ee),-1==V.indexOf(F)&&(V.push(F),V.push([parseInt(O.metadata.widthOfGlyph(F),10)])),"0"==F)return J.join("");F=F.toString(16),J.push(j[4-F.length],F)}return J.join("")},I=function(D){var O,F,V,j,J,ee,se;for(J="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",V=[],ee=0,se=(F=Object.keys(D).sort(function(z,ye){return z-ye})).length;ee<se;ee++)O=F[ee],V.length>=100&&(J+="\n"+V.length+" beginbfchar\n"+V.join("\n")+"\nendbfchar",V=[]),null!=D[O]&&"function"==typeof D[O].toString&&(j=("0000"+D[O].toString(16)).slice(-4),O=("0000"+(+O).toString(16)).slice(-4),V.push("<"+O+"><"+j+">"));return V.length&&(J+="\n"+V.length+" beginbfchar\n"+V.join("\n")+"\nendbfchar\n"),J+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};_.events.push(["putFont",function(D){!function(O){var F=O.font,V=O.out,j=O.newObject,J=O.putStream;if(F.metadata instanceof w.API.TTFFont&&"Identity-H"===F.encoding){for(var ee=F.metadata.Unicode.widths,se=F.metadata.subset.encode(F.metadata.glyIdsUsed,1),z="",ye=0;ye<se.length;ye++)z+=String.fromCharCode(se[ye]);var fe=j();J({data:z,addLength1:!0,objectId:fe}),V("endobj");var be=j();J({data:I(F.metadata.toUnicode),addLength1:!0,objectId:be}),V("endobj");var le=j();V("<<"),V("/Type /FontDescriptor"),V("/FontName /"+Sh(F.fontName)),V("/FontFile2 "+fe+" 0 R"),V("/FontBBox "+w.API.PDFObject.convert(F.metadata.bbox)),V("/Flags "+F.metadata.flags),V("/StemV "+F.metadata.stemV),V("/ItalicAngle "+F.metadata.italicAngle),V("/Ascent "+F.metadata.ascender),V("/Descent "+F.metadata.decender),V("/CapHeight "+F.metadata.capHeight),V(">>"),V("endobj");var Ce=j();V("<<"),V("/Type /Font"),V("/BaseFont /"+Sh(F.fontName)),V("/FontDescriptor "+le+" 0 R"),V("/W "+w.API.PDFObject.convert(ee)),V("/CIDToGIDMap /Identity"),V("/DW 1000"),V("/Subtype /CIDFontType2"),V("/CIDSystemInfo"),V("<<"),V("/Supplement 0"),V("/Registry (Adobe)"),V("/Ordering ("+F.encoding+")"),V(">>"),V(">>"),V("endobj"),F.objectNumber=j(),V("<<"),V("/Type /Font"),V("/Subtype /Type0"),V("/ToUnicode "+be+" 0 R"),V("/BaseFont /"+Sh(F.fontName)),V("/Encoding /"+F.encoding),V("/DescendantFonts ["+Ce+" 0 R]"),V(">>"),V("endobj"),F.isAlreadyPutted=!0}}(D)}]),_.events.push(["putFont",function(D){!function(O){var F=O.font,V=O.out,j=O.newObject,J=O.putStream;if(F.metadata instanceof w.API.TTFFont&&"WinAnsiEncoding"===F.encoding){for(var ee=F.metadata.rawData,se="",z=0;z<ee.length;z++)se+=String.fromCharCode(ee[z]);var ye=j();J({data:se,addLength1:!0,objectId:ye}),V("endobj");var fe=j();J({data:I(F.metadata.toUnicode),addLength1:!0,objectId:fe}),V("endobj");var be=j();V("<<"),V("/Descent "+F.metadata.decender),V("/CapHeight "+F.metadata.capHeight),V("/StemV "+F.metadata.stemV),V("/Type /FontDescriptor"),V("/FontFile2 "+ye+" 0 R"),V("/Flags 96"),V("/FontBBox "+w.API.PDFObject.convert(F.metadata.bbox)),V("/FontName /"+Sh(F.fontName)),V("/ItalicAngle "+F.metadata.italicAngle),V("/Ascent "+F.metadata.ascender),V(">>"),V("endobj"),F.objectNumber=j();for(var le=0;le<F.metadata.hmtx.widths.length;le++)F.metadata.hmtx.widths[le]=parseInt(F.metadata.hmtx.widths[le]*(1e3/F.metadata.head.unitsPerEm));V("<</Subtype/TrueType/Type/Font/ToUnicode "+fe+" 0 R/BaseFont/"+Sh(F.fontName)+"/FontDescriptor "+be+" 0 R/Encoding/"+F.encoding+" /FirstChar 29 /LastChar 255 /Widths "+w.API.PDFObject.convert(F.metadata.hmtx.widths)+">>"),V("endobj"),F.isAlreadyPutted=!0}}(D)}]);var x=function(D){var O,F=D.text||"",V=D.x,j=D.y,J=D.options||{},ee=D.mutex||{},se=ee.pdfEscape,z=ee.activeFontKey,ye=ee.fonts,fe=z,be="",le=0,Ce="",Le=ye[fe].encoding;if("Identity-H"!==ye[fe].encoding)return{text:F,x:V,y:j,options:J,mutex:ee};for(Ce=F,fe=z,Array.isArray(F)&&(Ce=F[0]),le=0;le<Ce.length;le+=1)ye[fe].metadata.hasOwnProperty("cmap")&&(O=ye[fe].metadata.cmap.unicode.codeMap[Ce[le].charCodeAt(0)]),O||Ce[le].charCodeAt(0)<256&&ye[fe].metadata.hasOwnProperty("Unicode")?be+=Ce[le]:be+="";var Ee="";return parseInt(fe.slice(1))<14||"WinAnsiEncoding"===Le?Ee=se(be,fe).split("").map(function(qe){return qe.charCodeAt(0).toString(16)}).join(""):"Identity-H"===Le&&(Ee=b(be,ye[fe])),ee.isHex=!0,{text:Ee,x:V,y:j,options:J,mutex:ee}};_.events.push(["postProcessText",function(D){var O=D.text||"",F=[],V={text:O,x:D.x,y:D.y,options:D.options,mutex:D.mutex};if(Array.isArray(O)){var j=0;for(j=0;j<O.length;j+=1)Array.isArray(O[j])&&3===O[j].length?F.push([x(Object.assign({},V,{text:O[j][0]})).text,O[j][1],O[j][2]]):F.push(x(Object.assign({},V,{text:O[j]})).text);D.text=F}else D.text=x(Object.assign({},V,{text:O})).text}])}(ni),
/**
         * @license
         * jsPDF virtual FileSystem functionality
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(w){var _=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};w.existsFileInVFS=function(b){return _.call(this),void 0!==this.internal.vFS[b]},w.addFileToVFS=function(b,I){return _.call(this),this.internal.vFS[b]=I,this},w.getFileFromVFS=function(b){return _.call(this),void 0!==this.internal.vFS[b]?this.internal.vFS[b]:null}}(ni.API),
/**
         * @license
         * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
         * MIT License
         */
function(w){w.__bidiEngine__=w.prototype.__bidiEngine__=function(I){var x,D,O,F,V,j,J,ee=_,se=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],z=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ye={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},fe={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},be=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],le=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Ce=!1,Le=0;this.__bidiEngine__={};var Ee=function(ce){var he=ce.charCodeAt(),Ve=he>>8,_e=fe[Ve];return void 0!==_e?ee[256*_e+(255&he)]:252===Ve||253===Ve?"AL":le.test(Ve)?"L":8===Ve?"R":"N"},qe=function(ce){for(var he,Ve=0;Ve<ce.length;Ve++){if("L"===(he=Ee(ce.charAt(Ve))))return!1;if("R"===he)return!0}return!1},Ut=function(ce,he,Ve,_e){var Tt,wt,Pt,nt,Vt=he[_e];switch(Vt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Ce=!1;break;case"N":case"AN":break;case"EN":Ce&&(Vt="AN");break;case"AL":Ce=!0,Vt="R";break;case"WS":case"BN":Vt="N";break;case"CS":_e<1||_e+1>=he.length||"EN"!==(Tt=Ve[_e-1])&&"AN"!==Tt||"EN"!==(wt=he[_e+1])&&"AN"!==wt?Vt="N":Ce&&(wt="AN"),Vt=wt===Tt?wt:"N";break;case"ES":Vt="EN"===(Tt=_e>0?Ve[_e-1]:"B")&&_e+1<he.length&&"EN"===he[_e+1]?"EN":"N";break;case"ET":if(_e>0&&"EN"===Ve[_e-1]){Vt="EN";break}if(Ce){Vt="N";break}for(Pt=_e+1,nt=he.length;Pt<nt&&"ET"===he[Pt];)Pt++;Vt=Pt<nt&&"EN"===he[Pt]?"EN":"N";break;case"NSM":if(O&&!F){for(nt=he.length,Pt=_e+1;Pt<nt&&"NSM"===he[Pt];)Pt++;if(Pt<nt){var jt=ce[_e];if(Tt=he[Pt],(jt>=1425&&jt<=2303||64286===jt)&&("R"===Tt||"AL"===Tt)){Vt="R";break}}}Vt=_e<1||"B"===(Tt=he[_e-1])?"N":Ve[_e-1];break;case"B":Ce=!1,x=!0,Vt=Le;break;case"S":D=!0,Vt="N"}return Vt},ot=function(ce,he,Ve){var _e=ce.split("");return Ve&&Pe(_e,Ve,{hiLevel:Le}),_e.reverse(),he&&he.reverse(),_e.join("")},Pe=function(ce,he,Ve){var _e,Tt,wt,Pt,nt,Vt=-1,jt=ce.length,Sn=0,ie=[],we=Le?z:se,Re=[];for(Ce=!1,x=!1,D=!1,Tt=0;Tt<jt;Tt++)Re[Tt]=Ee(ce[Tt]);for(wt=0;wt<jt;wt++){if(nt=Sn,ie[wt]=Ut(ce,Re,ie,wt),_e=240&(Sn=we[nt][ye[ie[wt]]]),he[wt]=Pt=we[Sn&=15][5],_e>0)if(16===_e){for(Tt=Vt;Tt<wt;Tt++)he[Tt]=1;Vt=-1}else Vt=-1;if(we[Sn][6])-1===Vt&&(Vt=wt);else if(Vt>-1){for(Tt=Vt;Tt<wt;Tt++)he[Tt]=Pt;Vt=-1}"B"===Re[wt]&&(he[wt]=0),Ve.hiLevel|=Pt}D&&function(Ge,Je,$e){for(var Et=0;Et<$e;Et++)if("S"===Ge[Et]){Je[Et]=Le;for(var bt=Et-1;bt>=0&&"WS"===Ge[bt];bt--)Je[bt]=Le}}(Re,he,jt)},lt=function(ce,he,Ve,_e,Tt){if(!(Tt.hiLevel<ce)){if(1===ce&&1===Le&&!x)return he.reverse(),void(Ve&&Ve.reverse());for(var wt,Pt,nt,Vt,jt=he.length,Sn=0;Sn<jt;){if(_e[Sn]>=ce){for(nt=Sn+1;nt<jt&&_e[nt]>=ce;)nt++;for(Vt=Sn,Pt=nt-1;Vt<Pt;Vt++,Pt--)wt=he[Vt],he[Vt]=he[Pt],he[Pt]=wt,Ve&&(wt=Ve[Vt],Ve[Vt]=Ve[Pt],Ve[Pt]=wt);Sn=nt}Sn++}}},Lt=function(ce,he,Ve){var _e=ce.split(""),Tt={hiLevel:Le};return Ve||(Ve=[]),Pe(_e,Ve,Tt),function(wt,Pt,nt){if(0!==nt.hiLevel&&J)for(var Vt,jt=0;jt<wt.length;jt++)1===Pt[jt]&&(Vt=be.indexOf(wt[jt]))>=0&&(wt[jt]=be[Vt+1])}(_e,Ve,Tt),lt(2,_e,he,Ve,Tt),lt(1,_e,he,Ve,Tt),_e.join("")};return this.__bidiEngine__.doBidiReorder=function(ce,he,Ve){if(function(Tt,wt){if(wt)for(var Pt=0;Pt<Tt.length;Pt++)wt[Pt]=Pt;void 0===F&&(F=qe(Tt)),void 0===j&&(j=qe(Tt))}(ce,he),O||!V||j)if(O&&V&&F^j)Le=F?1:0,ce=ot(ce,he,Ve);else if(!O&&V&&j)Le=F?1:0,ce=Lt(ce,he,Ve),ce=ot(ce,he);else if(!O||F||V||j){if(O&&!V&&F^j)ce=ot(ce,he),F?(Le=0,ce=Lt(ce,he,Ve)):(Le=1,ce=Lt(ce,he,Ve),ce=ot(ce,he));else if(O&&F&&!V&&j)Le=1,ce=Lt(ce,he,Ve),ce=ot(ce,he);else if(!O&&!V&&F^j){var _e=J;F?(Le=1,ce=Lt(ce,he,Ve),Le=0,J=!1,ce=Lt(ce,he,Ve),J=_e):(Le=0,ce=Lt(ce,he,Ve),ce=ot(ce,he),Le=1,J=!1,ce=Lt(ce,he,Ve),J=_e,ce=ot(ce,he))}}else Le=0,ce=Lt(ce,he,Ve);else Le=F?1:0,ce=Lt(ce,he,Ve);return ce},this.__bidiEngine__.setOptions=function(ce){ce&&(O=ce.isInputVisual,V=ce.isOutputVisual,F=ce.isInputRtl,j=ce.isOutputRtl,J=ce.isSymmetricSwapping)},this.__bidiEngine__.setOptions(I),this.__bidiEngine__};var _=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],b=new w.__bidiEngine__({isInputVisual:!0});w.API.events.push(["postProcessText",function(I){var x=I.text,D=I.options||{},O=[];if(D.isInputVisual="boolean"!=typeof D.isInputVisual||D.isInputVisual,b.setOptions(D),"[object Array]"===Object.prototype.toString.call(x)){var F=0;for(O=[],F=0;F<x.length;F+=1)"[object Array]"===Object.prototype.toString.call(x[F])?O.push([b.doBidiReorder(x[F][0]),x[F][1],x[F][2]]):O.push([b.doBidiReorder(x[F])]);I.text=O}else I.text=b.doBidiReorder(x);b.setOptions({isInputVisual:!0})}])}(ni),ni.API.TTFFont=function(){function w(_){var b;if(this.rawData=_,b=this.contents=new Dh(_),this.contents.pos=4,"ttcf"===b.readString(4))throw new Error("TTCF not supported.");b.pos=0,this.parse(),this.subset=new TN(this),this.registerTTF()}return w.open=function(_){return new w(_)},w.prototype.parse=function(){return this.directory=new _S(this.contents),this.head=new xh(this),this.name=new fc(this),this.cmap=new Xv(this),this.toUnicode={},this.hhea=new DC(this),this.maxp=new xg(this),this.hmtx=new bS(this),this.post=new CS(this),this.os2=new jA(this),this.loca=new IN(this),this.glyf=new SN(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},w.prototype.registerTTF=function(){var b,I,x,D;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var O,F,V,j;for(j=[],O=0,F=(V=this.bbox).length;O<F;O++)j.push(Math.round(V[O]*this.scaleFactor));return j}.call(this),this.stemV=0,this.post.exists?(I=255&(x=this.post.italic_angle),32768&(b=x>>16)&&(b=-(1+(65535^b))),this.italicAngle=+(b+"."+I)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(D=this.familyClass)||2===D||3===D||4===D||5===D||7===D,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},w.prototype.characterToGlyph=function(_){var b;return(null!=(b=this.cmap.unicode)?b.codeMap[_]:void 0)||0},w.prototype.widthOfGlyph=function(_){var b;return b=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(_).advance*b},w.prototype.widthOfString=function(_,b,I){var x,D,O,F;for(O=0,D=0,F=(_=""+_).length;0<=F?D<F:D>F;D=0<=F?++D:--D)x=_.charCodeAt(D),O+=this.widthOfGlyph(this.characterToGlyph(x))+I*(1e3/b)||0;return O*(b/1e3)},w.prototype.lineHeight=function(_,b){return null==b&&(b=!1),(this.ascender+(b?this.lineGap:0)-this.decender)/1e3*_},w}();var Dl,Dh=function(){function w(_){this.data=_??[],this.pos=0,this.length=this.data.length}return w.prototype.readByte=function(){return this.data[this.pos++]},w.prototype.writeByte=function(_){return this.data[this.pos++]=_},w.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},w.prototype.writeUInt32=function(_){return this.writeByte(_>>>24&255),this.writeByte(_>>16&255),this.writeByte(_>>8&255),this.writeByte(255&_)},w.prototype.readInt32=function(){var _;return(_=this.readUInt32())>=2147483648?_-4294967296:_},w.prototype.writeInt32=function(_){return _<0&&(_+=4294967296),this.writeUInt32(_)},w.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},w.prototype.writeUInt16=function(_){return this.writeByte(_>>8&255),this.writeByte(255&_)},w.prototype.readInt16=function(){var _;return(_=this.readUInt16())>=32768?_-65536:_},w.prototype.writeInt16=function(_){return _<0&&(_+=65536),this.writeUInt16(_)},w.prototype.readString=function(_){var b,I;for(I=[],b=0;0<=_?b<_:b>_;b=0<=_?++b:--b)I[b]=String.fromCharCode(this.readByte());return I.join("")},w.prototype.writeString=function(_){var b,I,x;for(x=[],b=0,I=_.length;0<=I?b<I:b>I;b=0<=I?++b:--b)x.push(this.writeByte(_.charCodeAt(b)));return x},w.prototype.readShort=function(){return this.readInt16()},w.prototype.writeShort=function(_){return this.writeInt16(_)},w.prototype.readLongLong=function(){var _,b,I,x,D,O,F,V;return _=this.readByte(),b=this.readByte(),I=this.readByte(),x=this.readByte(),D=this.readByte(),O=this.readByte(),F=this.readByte(),V=this.readByte(),128&_?-1*(72057594037927940*(255^_)+281474976710656*(255^b)+1099511627776*(255^I)+4294967296*(255^x)+16777216*(255^D)+65536*(255^O)+256*(255^F)+(255^V)+1):72057594037927940*_+281474976710656*b+1099511627776*I+4294967296*x+16777216*D+65536*O+256*F+V},w.prototype.writeLongLong=function(_){var b,I;return b=Math.floor(_/4294967296),I=4294967295&_,this.writeByte(b>>24&255),this.writeByte(b>>16&255),this.writeByte(b>>8&255),this.writeByte(255&b),this.writeByte(I>>24&255),this.writeByte(I>>16&255),this.writeByte(I>>8&255),this.writeByte(255&I)},w.prototype.readInt=function(){return this.readInt32()},w.prototype.writeInt=function(_){return this.writeInt32(_)},w.prototype.read=function(_){var b,I;for(b=[],I=0;0<=_?I<_:I>_;I=0<=_?++I:--I)b.push(this.readByte());return b},w.prototype.write=function(_){var I,x,D;for(D=[],I=0,x=_.length;I<x;I++)D.push(this.writeByte(_[I]));return D},w}(),_S=function(){var w;function _(b){var I,x,D;for(this.scalarType=b.readInt(),this.tableCount=b.readShort(),this.searchRange=b.readShort(),this.entrySelector=b.readShort(),this.rangeShift=b.readShort(),this.tables={},x=0,D=this.tableCount;0<=D?x<D:x>D;x=0<=D?++x:--x)I={tag:b.readString(4),checksum:b.readInt(),offset:b.readInt(),length:b.readInt()},this.tables[I.tag]=I}return _.prototype.encode=function(b){var I,x,O,F,V,j,J,ee,se,z,ye,fe;for(fe in z=Object.keys(b).length,V=Math.log(2),ee=16*Math.floor(Math.log(z)/V),O=Math.floor(ee/V),J=16*z-ee,(x=new Dh).writeInt(this.scalarType),x.writeShort(z),x.writeShort(ee),x.writeShort(O),x.writeShort(J),j=x.pos+16*z,F=null,ye=[],b)for(se=b[fe],x.writeString(fe),x.writeInt(w(se)),x.writeInt(j),x.writeInt(se.length),ye=ye.concat(se),"head"===fe&&(F=j),j+=se.length;j%4;)ye.push(0),j++;return x.write(ye),I=2981146554-w(x.data),x.pos=F+8,x.writeUInt32(I),x.data},w=function(b){var I,x,D,O;for(b=$A.call(b);b.length%4;)b.push(0);for(D=new Dh(b),x=0,I=0,O=b.length;I<O;I=I+=4)x+=D.readUInt32();return 4294967295&x},_}(),zA={}.hasOwnProperty,iu=function(w,_){for(var b in _)zA.call(_,b)&&(w[b]=_[b]);function I(){this.constructor=w}return I.prototype=_.prototype,w.prototype=new I,w.__super__=_.prototype,w};Dl=function(){function w(_){var b;this.file=_,this.exists=!!(b=this.file.directory.tables[this.tag]),b&&(this.offset=b.offset,this.length=b.length,this.parse(this.file.contents))}return w.prototype.parse=function(){},w.prototype.encode=function(){},w.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},w}();var xh=function(w){function _(){return _.__super__.constructor.apply(this,arguments)}return iu(_,Dl),_.prototype.tag="head",_.prototype.parse=function(b){return b.pos=this.offset,this.version=b.readInt(),this.revision=b.readInt(),this.checkSumAdjustment=b.readInt(),this.magicNumber=b.readInt(),this.flags=b.readShort(),this.unitsPerEm=b.readShort(),this.created=b.readLongLong(),this.modified=b.readLongLong(),this.xMin=b.readShort(),this.yMin=b.readShort(),this.xMax=b.readShort(),this.yMax=b.readShort(),this.macStyle=b.readShort(),this.lowestRecPPEM=b.readShort(),this.fontDirectionHint=b.readShort(),this.indexToLocFormat=b.readShort(),this.glyphDataFormat=b.readShort()},_.prototype.encode=function(b){var I;return(I=new Dh).writeInt(this.version),I.writeInt(this.revision),I.writeInt(this.checkSumAdjustment),I.writeInt(this.magicNumber),I.writeShort(this.flags),I.writeShort(this.unitsPerEm),I.writeLongLong(this.created),I.writeLongLong(this.modified),I.writeShort(this.xMin),I.writeShort(this.yMin),I.writeShort(this.xMax),I.writeShort(this.yMax),I.writeShort(this.macStyle),I.writeShort(this.lowestRecPPEM),I.writeShort(this.fontDirectionHint),I.writeShort(b),I.writeShort(this.glyphDataFormat),I.data},_}(),yS=function(){function w(_,b){var I,x,D,O,F,V,j,J,ee,se,z,ye,fe,be,le,Ce,Le;switch(this.platformID=_.readUInt16(),this.encodingID=_.readShort(),this.offset=b+_.readInt(),ee=_.pos,_.pos=this.offset,this.format=_.readUInt16(),this.length=_.readUInt16(),this.language=_.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(V=0;V<256;++V)this.codeMap[V]=_.readByte();break;case 4:for(z=_.readUInt16(),se=z/2,_.pos+=6,D=function(){var Ee,qe;for(qe=[],V=Ee=0;0<=se?Ee<se:Ee>se;V=0<=se?++Ee:--Ee)qe.push(_.readUInt16());return qe}(),_.pos+=2,fe=function(){var Ee,qe;for(qe=[],V=Ee=0;0<=se?Ee<se:Ee>se;V=0<=se?++Ee:--Ee)qe.push(_.readUInt16());return qe}(),j=function(){var Ee,qe;for(qe=[],V=Ee=0;0<=se?Ee<se:Ee>se;V=0<=se?++Ee:--Ee)qe.push(_.readUInt16());return qe}(),J=function(){var Ee,qe;for(qe=[],V=Ee=0;0<=se?Ee<se:Ee>se;V=0<=se?++Ee:--Ee)qe.push(_.readUInt16());return qe}(),x=(this.length-_.pos+this.offset)/2,F=function(){var Ee,qe;for(qe=[],V=Ee=0;0<=x?Ee<x:Ee>x;V=0<=x?++Ee:--Ee)qe.push(_.readUInt16());return qe}(),V=le=0,Le=D.length;le<Le;V=++le)for(be=D[V],I=Ce=ye=fe[V];ye<=be?Ce<=be:Ce>=be;I=ye<=be?++Ce:--Ce)0===J[V]?O=I+j[V]:0!==(O=F[J[V]/2+(I-ye)-(se-V)]||0)&&(O+=j[V]),this.codeMap[I]=65535&O}_.pos=ee}return w.encode=function(_,b){var I,x,D,O,F,V,j,J,ee,se,z,ye,fe,be,le,Ce,Le,qe,Ut,ot,Pe,lt,Lt,ce,he,Ve,_e,Tt,wt,Pt,nt,Vt,jt,Sn,ie,we,Re,Ge,Je,$e,Et,bt,dn,pn,An;switch(_e=new Dh,O=Object.keys(_).sort(function(hn,pi){return hn-pi}),b){case"macroman":for(fe=0,be=function(){var hn=[];for(ye=0;ye<256;++ye)hn.push(0);return hn}(),Ce={0:0},D={},Tt=0,Vt=O.length;Tt<Vt;Tt++)null==Ce[bt=_[x=O[Tt]]]&&(Ce[bt]=++fe),D[x]={old:_[x],new:Ce[_[x]]},be[x]=Ce[_[x]];return _e.writeUInt16(1),_e.writeUInt16(0),_e.writeUInt32(12),_e.writeUInt16(0),_e.writeUInt16(262),_e.writeUInt16(0),_e.write(be),{charMap:D,subtable:_e.data,maxGlyphID:fe+1};case"unicode":for(he=[],ee=[],Le=0,Ce={},I={},le=j=null,wt=0,jt=O.length;wt<jt;wt++)null==Ce[qe=_[x=O[wt]]]&&(Ce[qe]=++Le),I[x]={old:qe,new:Ce[qe]},F=Ce[qe]-x,null!=le&&F===j||(le&&ee.push(le),he.push(x),j=F),le=x;for(le&&ee.push(le),ee.push(65535),he.push(65535),Lt=2*(lt=he.length),Pe=2*Math.pow(Math.log(lt)/Math.LN2,2),se=Math.log(Pe/2)/Math.LN2,ot=2*lt-Pe,V=[],Ut=[],z=[],ye=Pt=0,Sn=he.length;Pt<Sn;ye=++Pt){if(J=ee[ye],65535===(ce=he[ye])){V.push(0),Ut.push(0);break}if(ce-(Ve=I[ce].new)>=32768)for(V.push(0),Ut.push(2*(z.length+lt-ye)),x=nt=ce;ce<=J?nt<=J:nt>=J;x=ce<=J?++nt:--nt)z.push(I[x].new);else V.push(Ve-ce),Ut.push(0)}for(_e.writeUInt16(3),_e.writeUInt16(1),_e.writeUInt32(12),_e.writeUInt16(4),_e.writeUInt16(16+8*lt+2*z.length),_e.writeUInt16(0),_e.writeUInt16(Lt),_e.writeUInt16(Pe),_e.writeUInt16(se),_e.writeUInt16(ot),$e=0,ie=ee.length;$e<ie;$e++)_e.writeUInt16(x=ee[$e]);for(_e.writeUInt16(0),Et=0,we=he.length;Et<we;Et++)_e.writeUInt16(x=he[Et]);for(dn=0,Re=V.length;dn<Re;dn++)_e.writeUInt16(F=V[dn]);for(pn=0,Ge=Ut.length;pn<Ge;pn++)_e.writeUInt16(Ut[pn]);for(An=0,Je=z.length;An<Je;An++)_e.writeUInt16(fe=z[An]);return{charMap:I,subtable:_e.data,maxGlyphID:Le+1}}},w}(),Xv=function(w){function _(){return _.__super__.constructor.apply(this,arguments)}return iu(_,Dl),_.prototype.tag="cmap",_.prototype.parse=function(b){var I,x,D;for(b.pos=this.offset,this.version=b.readUInt16(),D=b.readUInt16(),this.tables=[],this.unicode=null,x=0;0<=D?x<D:x>D;x=0<=D?++x:--x)I=new yS(b,this.offset),this.tables.push(I),I.isUnicode&&null==this.unicode&&(this.unicode=I);return!0},_.encode=function(b,I){var x,D;return null==I&&(I="macroman"),x=yS.encode(b,I),(D=new Dh).writeUInt16(0),D.writeUInt16(1),x.table=D.data.concat(x.subtable),x},_}(),DC=function(w){function _(){return _.__super__.constructor.apply(this,arguments)}return iu(_,Dl),_.prototype.tag="hhea",_.prototype.parse=function(b){return b.pos=this.offset,this.version=b.readInt(),this.ascender=b.readShort(),this.decender=b.readShort(),this.lineGap=b.readShort(),this.advanceWidthMax=b.readShort(),this.minLeftSideBearing=b.readShort(),this.minRightSideBearing=b.readShort(),this.xMaxExtent=b.readShort(),this.caretSlopeRise=b.readShort(),this.caretSlopeRun=b.readShort(),this.caretOffset=b.readShort(),b.pos+=8,this.metricDataFormat=b.readShort(),this.numberOfMetrics=b.readUInt16()},_}(),jA=function(w){function _(){return _.__super__.constructor.apply(this,arguments)}return iu(_,Dl),_.prototype.tag="OS/2",_.prototype.parse=function(b){if(b.pos=this.offset,this.version=b.readUInt16(),this.averageCharWidth=b.readShort(),this.weightClass=b.readUInt16(),this.widthClass=b.readUInt16(),this.type=b.readShort(),this.ySubscriptXSize=b.readShort(),this.ySubscriptYSize=b.readShort(),this.ySubscriptXOffset=b.readShort(),this.ySubscriptYOffset=b.readShort(),this.ySuperscriptXSize=b.readShort(),this.ySuperscriptYSize=b.readShort(),this.ySuperscriptXOffset=b.readShort(),this.ySuperscriptYOffset=b.readShort(),this.yStrikeoutSize=b.readShort(),this.yStrikeoutPosition=b.readShort(),this.familyClass=b.readShort(),this.panose=function(){var I,x;for(x=[],I=0;I<10;++I)x.push(b.readByte());return x}(),this.charRange=function(){var I,x;for(x=[],I=0;I<4;++I)x.push(b.readInt());return x}(),this.vendorID=b.readString(4),this.selection=b.readShort(),this.firstCharIndex=b.readShort(),this.lastCharIndex=b.readShort(),this.version>0&&(this.ascent=b.readShort(),this.descent=b.readShort(),this.lineGap=b.readShort(),this.winAscent=b.readShort(),this.winDescent=b.readShort(),this.codePageRange=function(){var I,x;for(x=[],I=0;I<2;I=++I)x.push(b.readInt());return x}(),this.version>1))return this.xHeight=b.readShort(),this.capHeight=b.readShort(),this.defaultChar=b.readShort(),this.breakChar=b.readShort(),this.maxContext=b.readShort()},_}(),CS=function(w){function _(){return _.__super__.constructor.apply(this,arguments)}return iu(_,Dl),_.prototype.tag="post",_.prototype.parse=function(b){var I,x,D;switch(b.pos=this.offset,this.format=b.readInt(),this.italicAngle=b.readInt(),this.underlinePosition=b.readShort(),this.underlineThickness=b.readShort(),this.isFixedPitch=b.readInt(),this.minMemType42=b.readInt(),this.maxMemType42=b.readInt(),this.minMemType1=b.readInt(),this.maxMemType1=b.readInt(),this.format){case 65536:case 196608:break;case 131072:var O;for(x=b.readUInt16(),this.glyphNameIndex=[],O=0;0<=x?O<x:O>x;O=0<=x?++O:--O)this.glyphNameIndex.push(b.readUInt16());for(this.names=[],D=[];b.pos<this.offset+this.length;)I=b.readByte(),D.push(this.names.push(b.readString(I)));return D;case 151552:return x=b.readUInt16(),this.offsets=b.read(x);case 262144:return this.map=function(){var F,V,j;for(j=[],O=F=0,V=this.file.maxp.numGlyphs;0<=V?F<V:F>V;O=0<=V?++F:--F)j.push(b.readUInt32());return j}.call(this)}},_}(),Qv=function(w,_){this.raw=w,this.length=w.length,this.platformID=_.platformID,this.encodingID=_.encodingID,this.languageID=_.languageID},fc=function(w){function _(){return _.__super__.constructor.apply(this,arguments)}return iu(_,Dl),_.prototype.tag="name",_.prototype.parse=function(b){var I,x,D,O,F,V,j,J,ee,se,z;for(b.pos=this.offset,b.readShort(),I=b.readShort(),V=b.readShort(),x=[],O=0;0<=I?O<I:O>I;O=0<=I?++O:--O)x.push({platformID:b.readShort(),encodingID:b.readShort(),languageID:b.readShort(),nameID:b.readShort(),length:b.readShort(),offset:this.offset+V+b.readShort()});for(j={},O=ee=0,se=x.length;ee<se;O=++ee)b.pos=(D=x[O]).offset,J=b.readString(D.length),F=new Qv(J,D),null==j[z=D.nameID]&&(j[z]=[]),j[D.nameID].push(F);this.strings=j,this.copyright=j[0],this.fontFamily=j[1],this.fontSubfamily=j[2],this.uniqueSubfamily=j[3],this.fontName=j[4],this.version=j[5];try{this.postscriptName=j[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=j[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=j[7],this.manufacturer=j[8],this.designer=j[9],this.description=j[10],this.vendorUrl=j[11],this.designerUrl=j[12],this.license=j[13],this.licenseUrl=j[14],this.preferredFamily=j[15],this.preferredSubfamily=j[17],this.compatibleFull=j[18],this.sampleText=j[19]},_}(),xg=function(w){function _(){return _.__super__.constructor.apply(this,arguments)}return iu(_,Dl),_.prototype.tag="maxp",_.prototype.parse=function(b){return b.pos=this.offset,this.version=b.readInt(),this.numGlyphs=b.readUInt16(),this.maxPoints=b.readUInt16(),this.maxContours=b.readUInt16(),this.maxCompositePoints=b.readUInt16(),this.maxComponentContours=b.readUInt16(),this.maxZones=b.readUInt16(),this.maxTwilightPoints=b.readUInt16(),this.maxStorage=b.readUInt16(),this.maxFunctionDefs=b.readUInt16(),this.maxInstructionDefs=b.readUInt16(),this.maxStackElements=b.readUInt16(),this.maxSizeOfInstructions=b.readUInt16(),this.maxComponentElements=b.readUInt16(),this.maxComponentDepth=b.readUInt16()},_}(),bS=function(w){function _(){return _.__super__.constructor.apply(this,arguments)}return iu(_,Dl),_.prototype.tag="hmtx",_.prototype.parse=function(b){var I,x,D,F,V,j;for(b.pos=this.offset,this.metrics=[],I=0,V=this.file.hhea.numberOfMetrics;0<=V?I<V:I>V;I=0<=V?++I:--I)this.metrics.push({advance:b.readUInt16(),lsb:b.readInt16()});for(D=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var J,ee;for(ee=[],I=J=0;0<=D?J<D:J>D;I=0<=D?++J:--J)ee.push(b.readInt16());return ee}(),this.widths=function(){var J,ee,se,z;for(z=[],J=0,ee=(se=this.metrics).length;J<ee;J++)z.push(se[J].advance);return z}.call(this),x=this.widths[this.widths.length-1],j=[],I=F=0;0<=D?F<D:F>D;I=0<=D?++F:--F)j.push(this.widths.push(x));return j},_.prototype.forGlyph=function(b){return b in this.metrics?this.metrics[b]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[b-this.metrics.length]}},_}(),$A=[].slice,SN=function(w){function _(){return _.__super__.constructor.apply(this,arguments)}return iu(_,Dl),_.prototype.tag="glyf",_.prototype.parse=function(){return this.cache={}},_.prototype.glyphFor=function(b){var I,x,D,O,F,V,j,J,ee,se;return b in this.cache?this.cache[b]:(I=this.file.contents,x=(O=this.file.loca).indexOf(b),0===(D=O.lengthOf(b))?this.cache[b]=null:(I.pos=this.offset+x,F=(V=new Dh(I.read(D))).readShort(),J=V.readShort(),se=V.readShort(),j=V.readShort(),ee=V.readShort(),this.cache[b]=-1===F?new Pg(V,J,se,j,ee):new qA(V,F,J,se,j,ee),this.cache[b]))},_.prototype.encode=function(b,I,x){var D,O,F,V,j;for(F=[],O=[],V=0,j=I.length;V<j;V++)D=b[I[V]],O.push(F.length),D&&(F=F.concat(D.encode(x)));return O.push(F.length),{table:F,offsets:O}},_}(),qA=function(){function w(_,b,I,x,D,O){this.raw=_,this.numberOfContours=b,this.xMin=I,this.yMin=x,this.xMax=D,this.yMax=O,this.compound=!1}return w.prototype.encode=function(){return this.raw.data},w}(),Pg=function(){function w(_,b,I,x,D){var O,F;for(this.raw=_,this.xMin=b,this.yMin=I,this.xMax=x,this.yMax=D,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],O=this.raw;F=O.readShort(),this.glyphOffsets.push(O.pos),this.glyphIDs.push(O.readUInt16()),32&F;)O.pos+=1&F?4:2,128&F?O.pos+=8:64&F?O.pos+=4:8&F&&(O.pos+=2)}return w.prototype.encode=function(){var _,b,I;for(b=new Dh($A.call(this.raw.data)),_=0,I=this.glyphIDs.length;_<I;++_)b.pos=this.glyphOffsets[_];return b.data},w}(),IN=function(w){function _(){return _.__super__.constructor.apply(this,arguments)}return iu(_,Dl),_.prototype.tag="loca",_.prototype.parse=function(b){var x;return b.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var D,O;for(O=[],x=0,D=this.length;x<D;x+=2)O.push(2*b.readUInt16());return O}.call(this):function(){var D,O;for(O=[],x=0,D=this.length;x<D;x+=4)O.push(b.readUInt32());return O}.call(this)},_.prototype.indexOf=function(b){return this.offsets[b]},_.prototype.lengthOf=function(b){return this.offsets[b+1]-this.offsets[b]},_.prototype.encode=function(b,I){for(var x=new Uint32Array(this.offsets.length),D=0,O=0,F=0;F<x.length;++F)if(x[F]=D,O<I.length&&I[O]==F){++O,x[F]=D;var j=this.offsets[F+1]-this.offsets[F];j>0&&(D+=j)}for(var J=new Array(4*x.length),ee=0;ee<x.length;++ee)J[4*ee+3]=255&x[ee],J[4*ee+2]=(65280&x[ee])>>8,J[4*ee+1]=(16711680&x[ee])>>16,J[4*ee]=(4278190080&x[ee])>>24;return J},_}(),TN=function(){function w(_){this.font=_,this.subset={},this.unicodes={},this.next=33}return w.prototype.generateCmap=function(){var _,b,x,D;for(b in x=this.font.cmap.tables[0].codeMap,_={},D=this.subset)_[b]=x[D[b]];return _},w.prototype.glyphsFor=function(_){var b,I,x,D,O,F,V;for(x={},O=0,F=_.length;O<F;O++)x[D=_[O]]=this.font.glyf.glyphFor(D);for(D in b=[],x)null!=(I=x[D])&&I.compound&&b.push.apply(b,I.glyphIDs);if(b.length>0)for(D in V=this.glyphsFor(b))x[D]=I=V[D];return x},w.prototype.encode=function(_,b){var I,x,D,O,V,j,J,ee,se,z,ye,fe,be,le;for(x in I=Xv.encode(this.generateCmap(),"unicode"),O=this.glyphsFor(_),z={0:0},le=I.charMap)z[(V=le[x]).old]=V.new;for(ye in se=I.maxGlyphID,O)ye in z||(z[ye]=se++);return J=function(Ce){var Le,Ee;for(Le in Ee={},Ce)Ee[Ce[Le]]=Le;return Ee}(z),ee=Object.keys(J).sort(function(Ce,Le){return Ce-Le}),fe=function(){var Ce,Le,Ee;for(Ee=[],Ce=0,Le=ee.length;Ce<Le;Ce++)Ee.push(J[ee[Ce]]);return Ee}(),D=this.font.glyf.encode(O,fe,z),j=this.font.loca.encode(D.offsets,fe),be={cmap:this.font.cmap.raw(),glyf:D.table,loca:j,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(b)},this.font.os2.exists&&(be["OS/2"]=this.font.os2.raw()),this.font.directory.encode(be)},w}();ni.API.PDFObject=function(){var w;function _(){}return w=function(b,I){return(Array(I+1).join("0")+b).slice(-I)},_.convert=function(b){var x,D;if(Array.isArray(b))return"["+function(){var F,V,j;for(j=[],F=0,V=b.length;F<V;F++)j.push(_.convert(b[F]));return j}().join(" ")+"]";if("string"==typeof b)return"/"+b;if(b?.isString)return"("+b+")";if(b instanceof Date)return"(D:"+w(b.getUTCFullYear(),4)+w(b.getUTCMonth(),2)+w(b.getUTCDate(),2)+w(b.getUTCHours(),2)+w(b.getUTCMinutes(),2)+w(b.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(b)){for(x in D=["<<"],b)D.push("/"+x+" "+_.convert(b[x]));return D.push(">>"),D.join("\n")}return""+b},_}();const AN=ni},4412:(is,yi,Kt)=>{"use strict";Kt.d(yi,{t:()=>Jn});var h=Kt(1413);class Jn extends h.B{constructor(sn){super(),this._value=sn}get value(){return this.getValue()}_subscribe(sn){const En=super._subscribe(sn);return!En.closed&&sn.next(this._value),En}getValue(){const{hasError:sn,thrownError:En,_value:mn}=this;if(sn)throw En;return this._throwIfClosed(),mn}next(sn){super.next(this._value=sn)}}},1985:(is,yi,Kt)=>{"use strict";Kt.d(yi,{c:()=>ln});var h=Kt(7707),Jn=Kt(8359),wn=Kt(3494),sn=Kt(1203),En=Kt(1026),mn=Kt(8071),He=Kt(9786);let ln=(()=>{class Ct{constructor(Ft){Ft&&(this._subscribe=Ft)}lift(Ft){const Mt=new Ct;return Mt.source=this,Mt.operator=Ft,Mt}subscribe(Ft,Mt,xt){const st=function Be(Ct){return Ct&&Ct instanceof h.vU||function _t(Ct){return Ct&&(0,mn.T)(Ct.next)&&(0,mn.T)(Ct.error)&&(0,mn.T)(Ct.complete)}(Ct)&&(0,Jn.Uv)(Ct)}(Ft)?Ft:new h.Ms(Ft,Mt,xt);return(0,He.Y)(()=>{const{operator:Ae,source:Xe}=this;st.add(Ae?Ae.call(st,Xe):Xe?this._subscribe(st):this._trySubscribe(st))}),st}_trySubscribe(Ft){try{return this._subscribe(Ft)}catch(Mt){Ft.error(Mt)}}forEach(Ft,Mt){return new(Mt=gn(Mt))((xt,st)=>{const Ae=new h.Ms({next:Xe=>{try{Ft(Xe)}catch(vt){st(vt),Ae.unsubscribe()}},error:st,complete:xt});this.subscribe(Ae)})}_subscribe(Ft){var Mt;return null===(Mt=this.source)||void 0===Mt?void 0:Mt.subscribe(Ft)}[wn.s](){return this}pipe(...Ft){return(0,sn.m)(Ft)(this)}toPromise(Ft){return new(Ft=gn(Ft))((Mt,xt)=>{let st;this.subscribe(Ae=>st=Ae,Ae=>xt(Ae),()=>Mt(st))})}}return Ct.create=it=>new Ct(it),Ct})();function gn(Ct){var it;return null!==(it=Ct??En.$.Promise)&&void 0!==it?it:Promise}},1413:(is,yi,Kt)=>{"use strict";Kt.d(yi,{B:()=>He});var h=Kt(1985),Jn=Kt(8359);const sn=(0,Kt(1853).L)(gn=>function(){gn(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var En=Kt(7908),mn=Kt(9786);let He=(()=>{class gn extends h.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Be){const Ct=new ln(this,this);return Ct.operator=Be,Ct}_throwIfClosed(){if(this.closed)throw new sn}next(Be){(0,mn.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ct of this.currentObservers)Ct.next(Be)}})}error(Be){(0,mn.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Be;const{observers:Ct}=this;for(;Ct.length;)Ct.shift().error(Be)}})}complete(){(0,mn.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Be}=this;for(;Be.length;)Be.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Be;return(null===(Be=this.observers)||void 0===Be?void 0:Be.length)>0}_trySubscribe(Be){return this._throwIfClosed(),super._trySubscribe(Be)}_subscribe(Be){return this._throwIfClosed(),this._checkFinalizedStatuses(Be),this._innerSubscribe(Be)}_innerSubscribe(Be){const{hasError:Ct,isStopped:it,observers:Ft}=this;return Ct||it?Jn.Kn:(this.currentObservers=null,Ft.push(Be),new Jn.yU(()=>{this.currentObservers=null,(0,En.o)(Ft,Be)}))}_checkFinalizedStatuses(Be){const{hasError:Ct,thrownError:it,isStopped:Ft}=this;Ct?Be.error(it):Ft&&Be.complete()}asObservable(){const Be=new h.c;return Be.source=this,Be}}return gn.create=(_t,Be)=>new ln(_t,Be),gn})();class ln extends He{constructor(_t,Be){super(),this.destination=_t,this.source=Be}next(_t){var Be,Ct;null===(Ct=null===(Be=this.destination)||void 0===Be?void 0:Be.next)||void 0===Ct||Ct.call(Be,_t)}error(_t){var Be,Ct;null===(Ct=null===(Be=this.destination)||void 0===Be?void 0:Be.error)||void 0===Ct||Ct.call(Be,_t)}complete(){var _t,Be;null===(Be=null===(_t=this.destination)||void 0===_t?void 0:_t.complete)||void 0===Be||Be.call(_t)}_subscribe(_t){var Be,Ct;return null!==(Ct=null===(Be=this.source)||void 0===Be?void 0:Be.subscribe(_t))&&void 0!==Ct?Ct:Jn.Kn}}},7707:(is,yi,Kt)=>{"use strict";Kt.d(yi,{Ms:()=>xt,vU:()=>Ct});var h=Kt(8071),Jn=Kt(8359),wn=Kt(1026),sn=Kt(5334),En=Kt(5343);const mn=gn("C",void 0,void 0);function gn(ut,Fe,gt){return{kind:ut,value:Fe,error:gt}}var _t=Kt(9270),Be=Kt(9786);class Ct extends Jn.yU{constructor(Fe){super(),this.isStopped=!1,Fe?(this.destination=Fe,(0,Jn.Uv)(Fe)&&Fe.add(this)):this.destination=vt}static create(Fe,gt,Gt){return new xt(Fe,gt,Gt)}next(Fe){this.isStopped?Xe(function ln(ut){return gn("N",ut,void 0)}(Fe),this):this._next(Fe)}error(Fe){this.isStopped?Xe(function He(ut){return gn("E",void 0,ut)}(Fe),this):(this.isStopped=!0,this._error(Fe))}complete(){this.isStopped?Xe(mn,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Fe){this.destination.next(Fe)}_error(Fe){try{this.destination.error(Fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const it=Function.prototype.bind;function Ft(ut,Fe){return it.call(ut,Fe)}class Mt{constructor(Fe){this.partialObserver=Fe}next(Fe){const{partialObserver:gt}=this;if(gt.next)try{gt.next(Fe)}catch(Gt){st(Gt)}}error(Fe){const{partialObserver:gt}=this;if(gt.error)try{gt.error(Fe)}catch(Gt){st(Gt)}else st(Fe)}complete(){const{partialObserver:Fe}=this;if(Fe.complete)try{Fe.complete()}catch(gt){st(gt)}}}class xt extends Ct{constructor(Fe,gt,Gt){let Wt;if(super(),(0,h.T)(Fe)||!Fe)Wt={next:Fe??void 0,error:gt??void 0,complete:Gt??void 0};else{let Dt;this&&wn.$.useDeprecatedNextContext?(Dt=Object.create(Fe),Dt.unsubscribe=()=>this.unsubscribe(),Wt={next:Fe.next&&Ft(Fe.next,Dt),error:Fe.error&&Ft(Fe.error,Dt),complete:Fe.complete&&Ft(Fe.complete,Dt)}):Wt=Fe}this.destination=new Mt(Wt)}}function st(ut){wn.$.useDeprecatedSynchronousErrorHandling?(0,Be.l)(ut):(0,sn.m)(ut)}function Xe(ut,Fe){const{onStoppedNotification:gt}=wn.$;gt&&_t.f.setTimeout(()=>gt(ut,Fe))}const vt={closed:!0,next:En.l,error:function Ae(ut){throw ut},complete:En.l}},8359:(is,yi,Kt)=>{"use strict";Kt.d(yi,{Kn:()=>mn,yU:()=>En,Uv:()=>He});var h=Kt(8071);const wn=(0,Kt(1853).L)(gn=>function(Be){gn(this),this.message=Be?`${Be.length} errors occurred during unsubscription:\n${Be.map((Ct,it)=>`${it+1}) ${Ct.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Be});var sn=Kt(7908);class En{constructor(_t){this.initialTeardown=_t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let _t;if(!this.closed){this.closed=!0;const{_parentage:Be}=this;if(Be)if(this._parentage=null,Array.isArray(Be))for(const Ft of Be)Ft.remove(this);else Be.remove(this);const{initialTeardown:Ct}=this;if((0,h.T)(Ct))try{Ct()}catch(Ft){_t=Ft instanceof wn?Ft.errors:[Ft]}const{_finalizers:it}=this;if(it){this._finalizers=null;for(const Ft of it)try{ln(Ft)}catch(Mt){_t=_t??[],Mt instanceof wn?_t=[..._t,...Mt.errors]:_t.push(Mt)}}if(_t)throw new wn(_t)}}add(_t){var Be;if(_t&&_t!==this)if(this.closed)ln(_t);else{if(_t instanceof En){if(_t.closed||_t._hasParent(this))return;_t._addParent(this)}(this._finalizers=null!==(Be=this._finalizers)&&void 0!==Be?Be:[]).push(_t)}}_hasParent(_t){const{_parentage:Be}=this;return Be===_t||Array.isArray(Be)&&Be.includes(_t)}_addParent(_t){const{_parentage:Be}=this;this._parentage=Array.isArray(Be)?(Be.push(_t),Be):Be?[Be,_t]:_t}_removeParent(_t){const{_parentage:Be}=this;Be===_t?this._parentage=null:Array.isArray(Be)&&(0,sn.o)(Be,_t)}remove(_t){const{_finalizers:Be}=this;Be&&(0,sn.o)(Be,_t),_t instanceof En&&_t._removeParent(this)}}En.EMPTY=(()=>{const gn=new En;return gn.closed=!0,gn})();const mn=En.EMPTY;function He(gn){return gn instanceof En||gn&&"closed"in gn&&(0,h.T)(gn.remove)&&(0,h.T)(gn.add)&&(0,h.T)(gn.unsubscribe)}function ln(gn){(0,h.T)(gn)?gn():gn.unsubscribe()}},1026:(is,yi,Kt)=>{"use strict";Kt.d(yi,{$:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4360:(is,yi,Kt)=>{"use strict";Kt.d(yi,{H:()=>wn,_:()=>Jn});var h=Kt(7707);function Jn(sn,En,mn,He,ln){return new wn(sn,En,mn,He,ln)}class wn extends h.vU{constructor(En,mn,He,ln,gn,_t){super(En),this.onFinalize=gn,this.shouldUnsubscribe=_t,this._next=mn?function(Be){try{mn(Be)}catch(Ct){En.error(Ct)}}:super._next,this._error=ln?function(Be){try{ln(Be)}catch(Ct){En.error(Ct)}finally{this.unsubscribe()}}:super._error,this._complete=He?function(){try{He()}catch(Be){En.error(Be)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var En;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:mn}=this;super.unsubscribe(),!mn&&(null===(En=this.onFinalize)||void 0===En||En.call(this))}}}},6354:(is,yi,Kt)=>{"use strict";Kt.d(yi,{T:()=>wn});var h=Kt(9974),Jn=Kt(4360);function wn(sn,En){return(0,h.N)((mn,He)=>{let ln=0;mn.subscribe((0,Jn._)(He,gn=>{He.next(sn.call(En,gn,ln++))}))})}},9270:(is,yi,Kt)=>{"use strict";Kt.d(yi,{f:()=>h});const h={setTimeout(Jn,wn,...sn){const{delegate:En}=h;return En?.setTimeout?En.setTimeout(Jn,wn,...sn):setTimeout(Jn,wn,...sn)},clearTimeout(Jn){const{delegate:wn}=h;return(wn?.clearTimeout||clearTimeout)(Jn)},delegate:void 0}},3494:(is,yi,Kt)=>{"use strict";Kt.d(yi,{s:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7908:(is,yi,Kt)=>{"use strict";function h(Jn,wn){if(Jn){const sn=Jn.indexOf(wn);0<=sn&&Jn.splice(sn,1)}}Kt.d(yi,{o:()=>h})},1853:(is,yi,Kt)=>{"use strict";function h(Jn){const sn=Jn(En=>{Error.call(En),En.stack=(new Error).stack});return sn.prototype=Object.create(Error.prototype),sn.prototype.constructor=sn,sn}Kt.d(yi,{L:()=>h})},9786:(is,yi,Kt)=>{"use strict";Kt.d(yi,{Y:()=>wn,l:()=>sn});var h=Kt(1026);let Jn=null;function wn(En){if(h.$.useDeprecatedSynchronousErrorHandling){const mn=!Jn;if(mn&&(Jn={errorThrown:!1,error:null}),En(),mn){const{errorThrown:He,error:ln}=Jn;if(Jn=null,He)throw ln}}else En()}function sn(En){h.$.useDeprecatedSynchronousErrorHandling&&Jn&&(Jn.errorThrown=!0,Jn.error=En)}},3669:(is,yi,Kt)=>{"use strict";function h(Jn){return Jn}Kt.d(yi,{D:()=>h})},8071:(is,yi,Kt)=>{"use strict";function h(Jn){return"function"==typeof Jn}Kt.d(yi,{T:()=>h})},9974:(is,yi,Kt)=>{"use strict";Kt.d(yi,{N:()=>wn,S:()=>Jn});var h=Kt(8071);function Jn(sn){return(0,h.T)(sn?.lift)}function wn(sn){return En=>{if(Jn(En))return En.lift(function(mn){try{return sn(mn,this)}catch(He){this.error(He)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(is,yi,Kt)=>{"use strict";function h(){}Kt.d(yi,{l:()=>h})},1203:(is,yi,Kt)=>{"use strict";Kt.d(yi,{F:()=>Jn,m:()=>wn});var h=Kt(3669);function Jn(...sn){return wn(sn)}function wn(sn){return 0===sn.length?h.D:1===sn.length?sn[0]:function(mn){return sn.reduce((He,ln)=>ln(He),mn)}}},5334:(is,yi,Kt)=>{"use strict";Kt.d(yi,{m:()=>wn});var h=Kt(1026),Jn=Kt(9270);function wn(sn){Jn.f.setTimeout(()=>{const{onUnhandledError:En}=h.$;if(!En)throw sn;En(sn)})}},9969:(is,yi,Kt)=>{"use strict";Kt.d(yi,{FX:()=>Dt,If:()=>h,K2:()=>mn,MA:()=>Ct,P:()=>Ft,hZ:()=>wn,i0:()=>sn,iF:()=>He,kY:()=>_t,kp:()=>Jn,sf:()=>Gt,ui:()=>Wt,wk:()=>ln});var h=function(xe){return xe[xe.State=0]="State",xe[xe.Transition=1]="Transition",xe[xe.Sequence=2]="Sequence",xe[xe.Group=3]="Group",xe[xe.Animate=4]="Animate",xe[xe.Keyframes=5]="Keyframes",xe[xe.Style=6]="Style",xe[xe.Trigger=7]="Trigger",xe[xe.Reference=8]="Reference",xe[xe.AnimateChild=9]="AnimateChild",xe[xe.AnimateRef=10]="AnimateRef",xe[xe.Query=11]="Query",xe[xe.Stagger=12]="Stagger",xe}(h||{});const Jn="*";function wn(xe,We){return{type:h.Trigger,name:xe,definitions:We,options:{}}}function sn(xe,We=null){return{type:h.Animate,styles:We,timings:xe}}function mn(xe,We=null){return{type:h.Sequence,steps:xe,options:We}}function He(xe){return{type:h.Style,styles:xe,offset:null}}function ln(xe,We,qt){return{type:h.State,name:xe,styles:We,options:qt}}function _t(xe,We,qt=null){return{type:h.Transition,expr:xe,animation:We,options:qt}}function Ct(xe=null){return{type:h.AnimateChild,options:xe}}function Ft(xe,We,qt=null){return{type:h.Query,selector:xe,animation:We,options:qt}}class Gt{constructor(We=0,qt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=We+qt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(We=>We()),this._onDoneFns=[])}onStart(We){this._originalOnStartFns.push(We),this._onStartFns.push(We)}onDone(We){this._originalOnDoneFns.push(We),this._onDoneFns.push(We)}onDestroy(We){this._onDestroyFns.push(We)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(We=>We()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(We=>We()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(We){this._position=this.totalTime?We*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(We){const qt="start"==We?this._onStartFns:this._onDoneFns;qt.forEach(Wn=>Wn()),qt.length=0}}class Wt{constructor(We){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=We;let qt=0,Wn=0,St=0;const yt=this.players.length;0==yt?queueMicrotask(()=>this._onFinish()):this.players.forEach(cn=>{cn.onDone(()=>{++qt==yt&&this._onFinish()}),cn.onDestroy(()=>{++Wn==yt&&this._onDestroy()}),cn.onStart(()=>{++St==yt&&this._onStart()})}),this.totalTime=this.players.reduce((cn,mt)=>Math.max(cn,mt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(We=>We()),this._onDoneFns=[])}init(){this.players.forEach(We=>We.init())}onStart(We){this._onStartFns.push(We)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(We=>We()),this._onStartFns=[])}onDone(We){this._onDoneFns.push(We)}onDestroy(We){this._onDestroyFns.push(We)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(We=>We.play())}pause(){this.players.forEach(We=>We.pause())}restart(){this.players.forEach(We=>We.restart())}finish(){this._onFinish(),this.players.forEach(We=>We.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(We=>We.destroy()),this._onDestroyFns.forEach(We=>We()),this._onDestroyFns=[])}reset(){this.players.forEach(We=>We.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(We){const qt=We*this.totalTime;this.players.forEach(Wn=>{const St=Wn.totalTime?Math.min(1,qt/Wn.totalTime):1;Wn.setPosition(St)})}getPosition(){const We=this.players.reduce((qt,Wn)=>null===qt||Wn.totalTime>qt.totalTime?Wn:qt,null);return null!=We?We.getPosition():0}beforeDestroy(){this.players.forEach(We=>{We.beforeDestroy&&We.beforeDestroy()})}triggerCallback(We){const qt="start"==We?this._onStartFns:this._onDoneFns;qt.forEach(Wn=>Wn()),qt.length=0}}const Dt="!"},4438:(is,yi,Kt)=>{"use strict";Kt.d(yi,{bc$:()=>Z,iLQ:()=>ty,sZ2:()=>tm,hnV:()=>ey,o8S:()=>Lp,BIS:()=>ne,gRc:()=>Ax,Ql9:()=>Wee,OM3:()=>Cm,Ocv:()=>e6,abz:()=>yr,Z63:()=>jf,aKT:()=>bo,uvJ:()=>fc,zcH:()=>to,bkB:()=>ka,$GK:()=>Wi,nKC:()=>Vi,zZn:()=>yo,_q3:()=>Hm,MKu:()=>pw,xe9:()=>wx,Co$:()=>Sb,Vns:()=>Ip,SKi:()=>Lo,Xx1:()=>ni,Agw:()=>L,PLl:()=>T,rOR:()=>Zu,sFG:()=>xJ,_9s:()=>Fo,czy:()=>QC,WPN:()=>um,kdw:()=>Ag,C4Q:()=>fb,NYb:()=>hx,giA:()=>fx,xvI:()=>FU,RxE:()=>H2,c1b:()=>UR,gXe:()=>Id,Af3:()=>I,L39:()=>vl,Ol2:()=>KR,w6W:()=>ko,QZP:()=>Up,Rfq:()=>Sg,oKB:()=>RC,WQX:()=>wi,Hps:()=>GO,QuC:()=>il,EmA:()=>Kv,Udg:()=>Bx,Jn2:()=>cw,N4e:()=>_,vPA:()=>s4,O8t:()=>bn,An2:()=>_b,H3F:()=>U2,H8p:()=>Xv,KH2:()=>Nm,TgB:()=>Tm,wOt:()=>Vn,WHO:()=>Z0,e01:()=>dx,lNU:()=>Cd,h9k:()=>__,$MX:()=>Yh,ZF7:()=>Kh,Kcf:()=>ZA,e5t:()=>MS,UyX:()=>m_,cWb:()=>PS,osQ:()=>sm,H5H:()=>Ub,Zy3:()=>bd,mq5:()=>MD,JZv:()=>Ti,TL3:()=>nh,LfX:()=>nS,plB:()=>Sp,jNT:()=>j2,zjR:()=>tI,ngT:()=>Ua,TL$:()=>VC,Tbb:()=>zs,rcV:()=>ua,Vt3:()=>V_,Mj6:()=>Td,GFd:()=>qR,OA$:()=>xl,Jv_:()=>pU,aNF:()=>y2,R7$:()=>Ba,BMQ:()=>lF,HbH:()=>yD,ZvI:()=>lH,AVh:()=>_D,vxM:()=>wF,wni:()=>JF,VBU:()=>gS,FsC:()=>vS,jDH:()=>wr,G2t:()=>cC,$C:()=>TC,EJ8:()=>AC,rXU:()=>hm,nrm:()=>AD,eu8:()=>L0,bVm:()=>RD,qex:()=>F0,k0s:()=>Gb,j41:()=>O0,RV6:()=>Bb,xGo:()=>cp,Mr5:()=>k0,KVO:()=>us,kS0:()=>Pi,QTQ:()=>hB,bIt:()=>WD,lsd:()=>YD,qSk:()=>Fl,XpG:()=>Qb,nI1:()=>yU,bMT:()=>nx,SdG:()=>$D,NAR:()=>X_,Y8G:()=>mD,mGM:()=>e2,sdS:()=>XD,Dyx:()=>IF,Z7z:()=>SF,fX1:()=>EF,Njj:()=>i_,eBV:()=>n_,n$t:()=>NN,xc7:()=>mF,DNE:()=>Ib,C5r:()=>SU,EFF:()=>Q_,JRh:()=>d2,SpI:()=>z0,Lme:()=>ew,GBs:()=>ZF}),Kt(467);let wn=null,sn=!1,En=1;const mn=Symbol("SIGNAL");function He(a){const l=wn;return wn=a,l}const Be={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ct(a){if(sn)throw new Error("");if(null===wn)return;wn.consumerOnSignalRead(a);const l=wn.nextProducerIndex++;Wt(wn),l<wn.producerNode.length&&wn.producerNode[l]!==a&&Gt(wn)&&gt(wn.producerNode[l],wn.producerIndexOfThis[l]),wn.producerNode[l]!==a&&(wn.producerNode[l]=a,wn.producerIndexOfThis[l]=Gt(wn)?Fe(a,wn,l):0),wn.producerLastReadVersion[l]=a.version}function Ft(a){if((!Gt(a)||a.dirty)&&(a.dirty||a.lastCleanEpoch!==En)){if(!a.producerMustRecompute(a)&&!vt(a))return a.dirty=!1,void(a.lastCleanEpoch=En);a.producerRecomputeValue(a),a.dirty=!1,a.lastCleanEpoch=En}}function Mt(a){if(void 0===a.liveConsumerNode)return;const l=sn;sn=!0;try{for(const u of a.liveConsumerNode)u.dirty||st(u)}finally{sn=l}}function xt(){return!1!==wn?.consumerAllowSignalWrites}function st(a){a.dirty=!0,Mt(a),a.consumerMarkedDirty?.(a)}function Ae(a){return a&&(a.nextProducerIndex=0),He(a)}function Xe(a,l){if(He(l),a&&void 0!==a.producerNode&&void 0!==a.producerIndexOfThis&&void 0!==a.producerLastReadVersion){if(Gt(a))for(let u=a.nextProducerIndex;u<a.producerNode.length;u++)gt(a.producerNode[u],a.producerIndexOfThis[u]);for(;a.producerNode.length>a.nextProducerIndex;)a.producerNode.pop(),a.producerLastReadVersion.pop(),a.producerIndexOfThis.pop()}}function vt(a){Wt(a);for(let l=0;l<a.producerNode.length;l++){const u=a.producerNode[l],f=a.producerLastReadVersion[l];if(f!==u.version||(Ft(u),f!==u.version))return!0}return!1}function ut(a){if(Wt(a),Gt(a))for(let l=0;l<a.producerNode.length;l++)gt(a.producerNode[l],a.producerIndexOfThis[l]);a.producerNode.length=a.producerLastReadVersion.length=a.producerIndexOfThis.length=0,a.liveConsumerNode&&(a.liveConsumerNode.length=a.liveConsumerIndexOfThis.length=0)}function Fe(a,l,u){if(Dt(a),Wt(a),0===a.liveConsumerNode.length)for(let f=0;f<a.producerNode.length;f++)a.producerIndexOfThis[f]=Fe(a.producerNode[f],a,f);return a.liveConsumerIndexOfThis.push(u),a.liveConsumerNode.push(l)-1}function gt(a,l){if(Dt(a),Wt(a),1===a.liveConsumerNode.length)for(let f=0;f<a.producerNode.length;f++)gt(a.producerNode[f],a.producerIndexOfThis[f]);const u=a.liveConsumerNode.length-1;if(a.liveConsumerNode[l]=a.liveConsumerNode[u],a.liveConsumerIndexOfThis[l]=a.liveConsumerIndexOfThis[u],a.liveConsumerNode.length--,a.liveConsumerIndexOfThis.length--,l<a.liveConsumerNode.length){const f=a.liveConsumerIndexOfThis[l],g=a.liveConsumerNode[l];Wt(g),g.producerIndexOfThis[f]=l}}function Gt(a){return a.consumerIsAlwaysLive||(a?.liveConsumerNode?.length??0)>0}function Wt(a){a.producerNode??=[],a.producerIndexOfThis??=[],a.producerLastReadVersion??=[]}function Dt(a){a.liveConsumerNode??=[],a.liveConsumerIndexOfThis??=[]}let cn=function yt(){throw new Error};function mt(){cn()}let In=null;function li(a,l){xt()||mt(),a.equal(a.value,l)||(a.value=l,function fo(a){a.version++,function it(){En++}(),Mt(a),In?.()}(a))}const bs={...Be,equal:function Jn(a,l){return Object.is(a,l)},value:void 0};const uc=()=>{},Nf={...Be,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:a=>{null!==a.schedule&&a.schedule(a.ref)},hasRun:!1,cleanupFn:uc};var Ch=Kt(1413),kv=Kt(8359),Vv=Kt(4412),sC=Kt(6354);const Cd="https://g.co/ng/security#xss";class Vn extends Error{constructor(l,u){super(bd(l,u)),this.code=l}}function bd(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}function Ui(a){return{toString:a}.toString()}const wd="__parameters__";function Kr(a,l,u){return Ui(()=>{const f=function wg(a){return function(...u){if(a){const f=a(...u);for(const g in f)this[g]=f[g]}}}(l);function g(...v){if(this instanceof g)return f.apply(this,v),this;const E=new g(...v);return R.annotation=E,R;function R(P,B,q){const ae=P.hasOwnProperty(wd)?P[wd]:Object.defineProperty(P,wd,{value:[]})[wd];for(;ae.length<=q;)ae.push(null);return(ae[q]=ae[q]||[]).push(E),P}}return u&&(g.prototype=Object.create(u.prototype)),g.prototype.ngMetadataName=a,g.annotationCls=g,g})}const Ti=globalThis;function Tr(a){for(let l in a)if(a[l]===Tr)return l;throw Error("Could not find renamed property on target object.")}function Eg(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function zs(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(zs).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function bh(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const DA=Tr({__forward_ref__:Tr});function Sg(a){return a.__forward_ref__=Sg,a.toString=function(){return zs(this())},a}function fi(a){return Ff(a)?a():a}function Ff(a){return"function"==typeof a&&a.hasOwnProperty(DA)&&a.__forward_ref__===Sg}function wr(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function cC(a){return{providers:a.providers||[],imports:a.imports||[]}}function uC(a){return kf(a,hC)||kf(a,fC)}function nS(a){return null!==uC(a)}function kf(a,l){return a.hasOwnProperty(l)?a[l]:null}function Vf(a){return a&&(a.hasOwnProperty(Bv)||a.hasOwnProperty(MA))?a[Bv]:null}const hC=Tr({\u0275prov:Tr}),Bv=Tr({\u0275inj:Tr}),fC=Tr({ngInjectableDef:Tr}),MA=Tr({ngInjectorDef:Tr});class Vi{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=wr({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Uv(a){return a&&!!a.\u0275providers}const Bf=Tr({\u0275cmp:Tr}),rS=Tr({\u0275dir:Tr}),sS=Tr({\u0275pipe:Tr}),CN=Tr({\u0275mod:Tr}),wh=Tr({\u0275fac:Tr}),Tg=Tr({__NG_ELEMENT_ID__:Tr}),OA=Tr({__NG_ENV_ID__:Tr});function Ci(a){return"string"==typeof a?a:null==a?"":String(a)}function Wv(a,l){throw new Vn(-201,!1)}var Wi=function(a){return a[a.Default=0]="Default",a[a.Host=1]="Host",a[a.Self=2]="Self",a[a.SkipSelf=4]="SkipSelf",a[a.Optional=8]="Optional",a}(Wi||{});let Eh;function zv(){return Eh}function js(a){const l=Eh;return Eh=a,l}function yC(a,l,u){const f=uC(a);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:u&Wi.Optional?null:void 0!==l?l:void Wv()}const $s={},ws="__NG_DI_FLAG__",po="ngTempTokenPath",aS=/\n/gm,bC="__source";let Hf;function eu(a){const l=Hf;return Hf=a,l}function LA(a,l=Wi.Default){if(void 0===Hf)throw new Vn(-203,!1);return null===Hf?yC(a,void 0,l):Hf.get(a,l&Wi.Optional?null:void 0,l)}function us(a,l=Wi.Default){return(zv()||LA)(fi(a),l)}function wi(a,l=Wi.Default){return us(a,Ed(l))}function Ed(a){return typeof a>"u"||"number"==typeof a?a:(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function Sh(a){const l=[];for(let u=0;u<a.length;u++){const f=fi(a[u]);if(Array.isArray(f)){if(0===f.length)throw new Vn(900,!1);let g,v=Wi.Default;for(let E=0;E<f.length;E++){const R=f[E],P=Wf(R);"number"==typeof P?-1===P?g=R.token:v|=P:g=R}l.push(us(g,v))}else l.push(us(f))}return l}function tl(a,l){return a[ws]=l,a.prototype[ws]=l,a}function Wf(a){return a[ws]}const ni=tl(Kr("Optional"),8),Ag=tl(Kr("SkipSelf"),4);function dc(a,l){return a.hasOwnProperty(wh)?a[wh]:null}function go(a,l){a.forEach(u=>Array.isArray(u)?go(u,l):l(u))}function uS(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function Na(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function dr(a,l,u){let f=tu(a,l);return f>=0?a[1|f]=u:(f=~f,function xs(a,l,u,f){let g=a.length;if(g==l)a.push(u,f);else if(1===g)a.push(f,a[0]),a[0]=u;else{for(g--,a.push(a[g-1],a[g]);g>l;)a[g]=a[g-2],g--;a[l]=u,a[l+1]=f}}(a,f,l,u)),f}function EC(a,l){const u=tu(a,l);if(u>=0)return a[1|u]}function tu(a,l){return function jv(a,l,u){let f=0,g=a.length>>u;for(;g!==f;){const v=f+(g-f>>1),E=a[v<<u];if(l===E)return v<<u;E>l?g=v:f=v+1}return~(g<<u)}(a,l,1)}const nu={},hr=[],jf=new Vi(""),kA=new Vi("",-1),$v=new Vi("");class $f{get(l,u=$s){if(u===$s){const f=new Error(`NullInjectorError: No provider for ${zs(l)}!`);throw f.name="NullInjectorError",f}return u}}var nl=function(a){return a[a.OnPush=0]="OnPush",a[a.Default=1]="Default",a}(nl||{}),Id=function(a){return a[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",a}(Id||{}),Td=function(a){return a[a.None=0]="None",a[a.SignalBased=1]="SignalBased",a[a.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",a}(Td||{});function hc(a,l,u){let f=a.length;for(;;){const g=a.indexOf(l,u);if(-1===g)return g;if(0===g||a.charCodeAt(g-1)<=32){const v=l.length;if(g+v===f||a.charCodeAt(g+v)<=32)return g}u=g+1}}function Hu(a,l,u){let f=0;for(;f<u.length;){const g=u[f];if("number"==typeof g){if(0!==g)break;f++;const v=u[f++],E=u[f++],R=u[f++];a.setAttribute(l,E,R,v)}else{const v=g,E=u[++f];Ah(v)?a.setProperty(l,v,E):a.setAttribute(l,v,E),f++}}return f}function Ad(a){return 3===a||4===a||6===a}function Ah(a){return 64===a.charCodeAt(0)}function Rd(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let f=0;f<l.length;f++){const g=l[f];"number"==typeof g?u=g:0===u||Ks(a,u,g,null,-1===u||2===u?l[++f]:null)}}return a}function Ks(a,l,u,f,g){let v=0,E=a.length;if(-1===l)E=-1;else for(;v<a.length;){const R=a[v++];if("number"==typeof R){if(R===l){E=-1;break}if(R>l){E=v-1;break}}}for(;v<a.length;){const R=a[v];if("number"==typeof R)break;if(R===u){if(null===f)return void(null!==g&&(a[v+1]=g));if(f===a[v+1])return void(a[v+2]=g)}v++,null!==f&&v++,null!==g&&v++}-1!==E&&(a.splice(E,0,l),v=E+1),a.splice(v++,0,u),null!==f&&a.splice(v++,0,f),null!==g&&a.splice(v++,0,g)}const qf="ng-template";function Rh(a,l,u,f){let g=0;if(f){for(;g<l.length&&"string"==typeof l[g];g+=2)if("class"===l[g]&&-1!==hc(l[g+1].toLowerCase(),u,0))return!0}else if(Rg(a))return!1;if(g=l.indexOf(1,g),g>-1){let v;for(;++g<l.length&&"string"==typeof(v=l[g]);)if(v.toLowerCase()===u)return!0}return!1}function Rg(a){return 4===a.type&&a.value!==qf}function qv(a,l,u){return l===(4!==a.type||u?a.value:qf)}function Dd(a,l,u){let f=4;const g=a.attrs,v=null!==g?function fS(a){for(let l=0;l<a.length;l++)if(Ad(a[l]))return l;return a.length}(g):0;let E=!1;for(let R=0;R<l.length;R++){const P=l[R];if("number"!=typeof P){if(!E)if(4&f){if(f=2|1&f,""!==P&&!qv(a,P,u)||""===P&&1===l.length){if(va(f))return!1;E=!0}}else if(8&f){if(null===g||!Rh(a,g,P,u)){if(va(f))return!1;E=!0}}else{const B=l[++R],q=$n(P,g,Rg(a),u);if(-1===q){if(va(f))return!1;E=!0;continue}if(""!==B){let ae;if(ae=q>v?"":g[q+1].toLowerCase(),2&f&&B!==ae){if(va(f))return!1;E=!0}}}}else{if(!E&&!va(f)&&!va(P))return!1;if(E&&va(P))continue;E=!1,f=P|1&f}}return va(f)||E}function va(a){return!(1&a)}function $n(a,l,u,f){if(null===l)return-1;let g=0;if(f||!u){let v=!1;for(;g<l.length;){const E=l[g];if(E===a)return g;if(3===E||6===E)v=!0;else{if(1===E||2===E){let R=l[++g];for(;"string"==typeof R;)R=l[++g];continue}if(4===E)break;if(0===E){g+=4;continue}}g+=v?1:2}return-1}return function zr(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const f=a[u];if("number"==typeof f)return-1;if(f===l)return u;u++}return-1}(l,a)}function VA(a,l,u=!1){for(let f=0;f<l.length;f++)if(Dd(a,l[f],u))return!0;return!1}function GA(a,l){e:for(let u=0;u<l.length;u++){const f=l[u];if(a.length===f.length){for(let g=0;g<a.length;g++)if(a[g]!==f[g])continue e;return!0}}return!1}function IC(a,l){return a?":not("+l.trim()+")":l}function BA(a){let l=a[0],u=1,f=2,g="",v=!1;for(;u<a.length;){let E=a[u];if("string"==typeof E)if(2&f){const R=a[++u];g+="["+E+(R.length>0?'="'+R+'"':"")+"]"}else 8&f?g+="."+E:4&f&&(g+=" "+E);else""!==g&&!va(E)&&(l+=IC(v,g),g=""),f=E,v=v||!va(f);u++}return""!==g&&(l+=IC(v,g)),l}function gS(a){return Ui(()=>{const l=Kf(a),u={...l,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===nl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:l.standalone&&a.dependencies||null,getStandaloneInjector:null,signals:a.signals??!1,data:a.data||{},encapsulation:a.encapsulation||Id.Emulated,styles:a.styles||hr,_:null,schemas:a.schemas||null,tView:null,id:""};Yf(u);const f=a.dependencies;return u.directiveDefs=Xf(f,!1),u.pipeDefs=Xf(f,!0),u.id=function WA(a){let l=0;const u=[a.selectors,a.ngContentSelectors,a.hostVars,a.hostAttrs,a.consts,a.vars,a.decls,a.encapsulation,a.standalone,a.signals,a.exportAs,JSON.stringify(a.inputs),JSON.stringify(a.outputs),Object.getOwnPropertyNames(a.type.prototype),!!a.contentQueries,!!a.viewQuery].join("|");for(const g of u)l=Math.imul(31,l)+g.charCodeAt(0)|0;return l+=2147483648,"c"+l}(u),u})}function wN(a){return zi(a)||Es(a)}function mS(a){return null!==a}function TC(a){return Ui(()=>({type:a.type,bootstrap:a.bootstrap||hr,declarations:a.declarations||hr,imports:a.imports||hr,exports:a.exports||hr,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function HA(a,l){if(null==a)return nu;const u={};for(const f in a)if(a.hasOwnProperty(f)){const g=a[f];let v,E,R=Td.None;Array.isArray(g)?(R=g[0],v=g[1],E=g[2]??v):(v=g,E=g),l?(u[v]=R!==Td.None?[f,R]:f,l[v]=E):u[v]=f}return u}function vS(a){return Ui(()=>{const l=Kf(a);return Yf(l),l})}function AC(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function zi(a){return a[Bf]||null}function Es(a){return a[rS]||null}function Ys(a){return a[sS]||null}function il(a){const l=zi(a)||Es(a)||Ys(a);return null!==l&&l.standalone}function jo(a,l){const u=a[CN]||null;if(!u&&!0===l)throw new Error(`Type ${zs(a)} does not have '\u0275mod' property.`);return u}function Kf(a){const l={};return{type:a.type,providersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:l,inputTransforms:null,inputConfig:a.inputs||nu,exportAs:a.exportAs||null,standalone:!0===a.standalone,signals:!0===a.signals,selectors:a.selectors||hr,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:HA(a.inputs,l),outputs:HA(a.outputs),debugInfo:null}}function Yf(a){a.features?.forEach(l=>l(a))}function Xf(a,l){if(!a)return null;const u=l?Ys:wN;return()=>("function"==typeof a?a():a).map(f=>u(f)).filter(mS)}function Kv(a){return{\u0275providers:a}}function RC(...a){return{\u0275providers:Dg(0,a),\u0275fromNgModule:!0}}function Dg(a,...l){const u=[],f=new Set;let g;const v=E=>{u.push(E)};return go(l,E=>{const R=E;rl(R,v,[],f)&&(g||=[],g.push(R))}),void 0!==g&&Yv(g,v),u}function Yv(a,l){for(let u=0;u<a.length;u++){const{ngModule:f,providers:g}=a[u];Dl(g,v=>{l(v,f)})}}function rl(a,l,u,f){if(!(a=fi(a)))return!1;let g=null,v=Vf(a);const E=!v&&zi(a);if(v||E){if(E&&!E.standalone)return!1;g=a}else{const P=a.ngModule;if(v=Vf(P),!v)return!1;g=P}const R=f.has(g);if(E){if(R)return!1;if(f.add(g),E.dependencies){const P="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const B of P)rl(B,l,u,f)}}else{if(!v)return!1;{if(null!=v.imports&&!R){let B;f.add(g);try{go(v.imports,q=>{rl(q,l,u,f)&&(B||=[],B.push(q))})}finally{}void 0!==B&&Yv(B,l)}if(!R){const B=dc(g)||(()=>new g);l({provide:g,useFactory:B,deps:hr},g),l({provide:$v,useValue:g,multi:!0},g),l({provide:jf,useValue:()=>us(g),multi:!0},g)}const P=v.providers;if(null!=P&&!R){const B=a;Dl(P,q=>{l(q,B)})}}}return g!==a&&void 0!==a.providers}function Dl(a,l){for(let u of a)Uv(u)&&(u=u.\u0275providers),Array.isArray(u)?Dl(u,l):l(u)}const Dh=Tr({provide:String,useValue:Tr});function _S(a){return null!==a&&"object"==typeof a&&Dh in a}function xh(a){return"function"==typeof a}const Xv=new Vi(""),DC={},jA={};let CS;function Qv(){return void 0===CS&&(CS=new $f),CS}class fc{}class xg extends fc{get destroyed(){return this._destroyed}constructor(l,u,f,g){super(),this.parent=u,this.source=f,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,w(l,E=>this.processProvider(E)),this.records.set(kA,Pg(void 0,this)),g.has("environment")&&this.records.set(fc,Pg(void 0,this));const v=this.records.get(Xv);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get($v,hr,Wi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const l=He(null);try{for(const f of this._ngOnDestroyHooks)f.ngOnDestroy();const u=this._onDestroyHooks;this._onDestroyHooks=[];for(const f of u)f()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),He(l)}}onDestroy(l){return this.assertNotDestroyed(),this._onDestroyHooks.push(l),()=>this.removeOnDestroy(l)}runInContext(l){this.assertNotDestroyed();const u=eu(this),f=js(void 0);try{return l()}finally{eu(u),js(f)}}get(l,u=$s,f=Wi.Default){if(this.assertNotDestroyed(),l.hasOwnProperty(OA))return l[OA](this);f=Ed(f);const v=eu(this),E=js(void 0);try{if(!(f&Wi.SkipSelf)){let P=this.records.get(l);if(void 0===P){const B=function AN(a){return"function"==typeof a||"object"==typeof a&&a instanceof Vi}(l)&&uC(l);P=B&&this.injectableDefInScope(B)?Pg(bS(l),DC):null,this.records.set(l,P)}if(null!=P)return this.hydrate(l,P)}return(f&Wi.Self?Qv():this.parent).get(l,u=f&Wi.Optional&&u===$s?null:u)}catch(R){if("NullInjectorError"===R.name){if((R[po]=R[po]||[]).unshift(zs(l)),v)throw R;return function cS(a,l,u,f){const g=a[po];throw l[bC]&&g.unshift(l[bC]),a.message=function Sd(a,l,u,f=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let g=zs(l);if(Array.isArray(l))g=l.map(zs).join(" -> ");else if("object"==typeof l){let v=[];for(let E in l)if(l.hasOwnProperty(E)){let R=l[E];v.push(E+":"+("string"==typeof R?JSON.stringify(R):zs(R)))}g=`{${v.join(", ")}}`}return`${u}${f?"("+f+")":""}[${g}]: ${a.replace(aS,"\n  ")}`}("\n"+a.message,g,u,f),a.ngTokenPath=g,a[po]=null,a}(R,l,"R3InjectorError",this.source)}throw R}finally{js(E),eu(v)}}resolveInjectorInitializers(){const l=He(null),u=eu(this),f=js(void 0);try{const v=this.get(jf,hr,Wi.Self);for(const E of v)E()}finally{eu(u),js(f),He(l)}}toString(){const l=[],u=this.records;for(const f of u.keys())l.push(zs(f));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Vn(205,!1)}processProvider(l){let u=xh(l=fi(l))?l:fi(l&&l.provide);const f=function SN(a){return _S(a)?Pg(void 0,a.useValue):Pg(qA(a),DC)}(l);if(!xh(l)&&!0===l.multi){let g=this.records.get(u);g||(g=Pg(void 0,DC,!0),g.factory=()=>Sh(g.multi),this.records.set(u,g)),u=l,g.multi.push(l)}this.records.set(u,f)}hydrate(l,u){const f=He(null);try{return u.value===DC&&(u.value=jA,u.value=u.factory()),"object"==typeof u.value&&u.value&&function TN(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}finally{He(f)}}injectableDefInScope(l){if(!l.providedIn)return!1;const u=fi(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(l){const u=this._onDestroyHooks.indexOf(l);-1!==u&&this._onDestroyHooks.splice(u,1)}}function bS(a){const l=uC(a),u=null!==l?l.factory:dc(a);if(null!==u)return u;if(a instanceof Vi)throw new Vn(204,!1);if(a instanceof Function)return function $A(a){if(a.length>0)throw new Vn(204,!1);const u=function dC(a){return a&&(a[hC]||a[fC])||null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Vn(204,!1)}function qA(a,l,u){let f;if(xh(a)){const g=fi(a);return dc(g)||bS(g)}if(_S(a))f=()=>fi(a.useValue);else if(function iu(a){return!(!a||!a.useFactory)}(a))f=()=>a.useFactory(...Sh(a.deps||[]));else if(function zA(a){return!(!a||!a.useExisting)}(a))f=()=>us(fi(a.useExisting));else{const g=fi(a&&(a.useClass||a.provide));if(!function IN(a){return!!a.deps}(a))return dc(g)||bS(g);f=()=>new g(...Sh(a.deps))}return f}function Pg(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function w(a,l){for(const u of a)Array.isArray(u)?w(u,l):u&&Uv(u)?w(u.\u0275providers,l):l(u)}function _(a,l){a instanceof xg&&a.assertNotDestroyed();const f=eu(a),g=js(void 0);try{return l()}finally{eu(f),js(g)}}function b(){return void 0!==zv()||null!=function lS(){return Hf}()}function I(a){if(!b())throw new Vn(-203,!1)}const Le=0,Ee=1,qe=2,Ut=3,ot=4,Pe=5,lt=6,Lt=7,ce=8,he=9,Ve=10,_e=11,Tt=12,wt=13,Pt=14,nt=15,Vt=16,jt=17,Sn=18,ie=19,we=20,Re=21,Ge=22,Je=23,$e=25,Et=1,dn=7,An=9,hn=10;var pi=function(a){return a[a.None=0]="None",a[a.HasTransplantedViews=2]="HasTransplantedViews",a}(pi||{});function Rt(a){return Array.isArray(a)&&"object"==typeof a[Et]}function Te(a){return Array.isArray(a)&&!0===a[Et]}function xi(a){return!!(4&a.flags)}function jn(a){return a.componentOffset>-1}function un(a){return!(1&~a.flags)}function vn(a){return!!a.template}function On(a){return!!(512&a[qe])}class Fa{constructor(l,u,f){this.previousValue=l,this.currentValue=u,this.firstChange=f}isFirstChange(){return this.firstChange}}function Qs(a,l,u,f){null!==l?l.applyValueToInputSignal(l,f):a[u]=f}function xl(){return sl}function sl(a){return a.type.prototype.ngOnChanges&&(a.setInput=gc),ii}function ii(){const a=_a(this),l=a?.current;if(l){const u=a.previous;if(u===nu)a.previous=l;else for(let f in l)u[f]=l[f];a.current=null,this.ngOnChanges(l)}}function gc(a,l,u,f,g){const v=this.declaredInputs[f],E=_a(a)||function mo(a,l){return a[mc]=l}(a,{previous:nu,current:null}),R=E.current||(E.current={}),P=E.previous,B=P[v];R[v]=new Fa(B&&B.currentValue,u,P===nu),Qs(a,l,g,u)}xl.ngInherit=!0;const mc="__ngSimpleChanges__";function _a(a){return a[mc]||null}const ya=function(a,l,u){},vc="svg";let La=!1;function Hi(a){for(;Array.isArray(a);)a=a[Le];return a}function Cc(a,l){return Hi(l[a])}function Js(a,l){return Hi(l[a.index])}function bc(a,l){return a.data[l]}function wc(a,l){return a[l]}function $o(a,l){const u=l[a];return Rt(u)?u:u[Le]}function Ng(a){return!(128&~a[qe])}function ll(a,l){return null==l?null:a[l]}function Jv(a){a[jt]=0}function Og(a){1024&a[qe]||(a[qe]|=1024,Ng(a)&&su(a))}function Qf(a){return!!(9216&a[qe]||a[Je]?.dirty)}function Fg(a){a[Ve].changeDetectionScheduler?.notify(1),Qf(a)?su(a):64&a[qe]&&(function _c(){return La}()?(a[qe]|=1024,su(a)):a[Ve].changeDetectionScheduler?.notify())}function su(a){a[Ve].changeDetectionScheduler?.notify();let l=Uu(a);for(;null!==l&&!(8192&l[qe])&&(l[qe]|=8192,Ng(l));)l=Uu(l)}function Jf(a,l){if(!(256&~a[qe]))throw new Vn(911,!1);null===a[Re]&&(a[Re]=[]),a[Re].push(l)}function Uu(a){const l=a[Ut];return Te(l)?l[Ut]:l}const ci={lFrame:Bg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ca(){return ci.bindingsEnabled}function Ec(){return null!==ci.skipHydrationRootTNode}function Bt(){return ci.lFrame.lView}function Bi(){return ci.lFrame.tView}function n_(a){return ci.lFrame.contextLView=a,a[ce]}function i_(a){return ci.lFrame.contextLView=null,a}function vr(){let a=ou();for(;null!==a&&64===a.type;)a=a.parent;return a}function ou(){return ci.lFrame.currentTNode}function fs(a,l){const u=ci.lFrame;u.currentTNode=a,u.isParent=l}function Pr(){return ci.lFrame.isParent}function Oi(){ci.lFrame.isParent=!1}function ba(){return ci.lFrame.bindingIndex++}function Ol(a){const l=ci.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function r_(a,l){const u=ci.lFrame;u.bindingIndex=u.bindingRootIndex=a,ip(l)}function ip(a){ci.lFrame.currentDirectiveIndex=a}function Wu(){return ci.lFrame.currentQueryIndex}function Fn(a){ci.lFrame.currentQueryIndex=a}function Do(a){const l=a[Ee];return 2===l.type?l.declTNode:1===l.type?a[Pe]:null}function Md(a,l,u){if(u&Wi.SkipSelf){let g=l,v=a;for(;!(g=g.parent,null!==g||u&Wi.Host||(g=Do(v),null===g||(v=v[Pt],10&g.type))););if(null===g)return!1;l=g,a=v}const f=ci.lFrame=Nh();return f.currentTNode=l,f.lView=a,!0}function lu(a){const l=Nh(),u=a[Ee];ci.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function Nh(){const a=ci.lFrame,l=null===a?null:a.child;return null===l?Bg(a):l}function Bg(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Hg(){const a=ci.lFrame;return ci.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Ug=Hg;function Oh(){const a=Hg();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Rr(){return ci.lFrame.selectedIndex}function ti(a){ci.lFrame.selectedIndex=a}function pr(){const a=ci.lFrame;return bc(a.tView,a.selectedIndex)}function Fl(){ci.lFrame.currentNamespace=vc}let Wg=!0;function zu(){return Wg}function Dr(a){Wg=a}function ju(a,l){for(let u=l.directiveStart,f=l.directiveEnd;u<f;u++){const v=a.data[u].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:R,ngAfterViewInit:P,ngAfterViewChecked:B,ngOnDestroy:q}=v;E&&(a.contentHooks??=[]).push(-u,E),R&&((a.contentHooks??=[]).push(u,R),(a.contentCheckHooks??=[]).push(u,R)),P&&(a.viewHooks??=[]).push(-u,P),B&&((a.viewHooks??=[]).push(u,B),(a.viewCheckHooks??=[]).push(u,B)),null!=q&&(a.destroyHooks??=[]).push(u,q)}}function cl(a,l,u){Fd(a,l,3,u)}function Ll(a,l,u,f){(3&a[qe])===u&&Fd(a,l,u,f)}function rp(a,l){let u=a[qe];(3&u)===l&&(u&=16383,u+=1,a[qe]=u)}function Fd(a,l,u,f){const v=f??-1,E=l.length-1;let R=0;for(let P=void 0!==f?65535&a[jt]:0;P<E;P++)if("number"==typeof l[P+1]){if(R=l[P],null!=f&&R>=f)break}else l[P]<0&&(a[jt]+=65536),(R<v||-1==v)&&(sp(a,u,l,P),a[jt]=(4294901760&a[jt])+P+2),P++}function xo(a,l){ya(4,a,l);const u=He(null);try{l.call(a)}finally{He(u),ya(5,a,l)}}function sp(a,l,u,f){const g=u[f]<0,v=u[f+1],R=a[g?-u[f]:u[f]];g?a[qe]>>14<a[jt]>>16&&(3&a[qe])===l&&(a[qe]+=16384,xo(R,v)):xo(R,v)}const uu=-1;class rs{constructor(l,u,f){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=f}}function rn(a){return a!==uu}function Mn(a){return 32767&a}function ui(a,l){let u=function si(a){return a>>16}(a),f=l;for(;u>0;)f=f[Pt],u--;return f}let gi=!0;function ri(a){const l=gi;return gi=a,l}const ps=255,Ms=5;let Po=0;const jr={};function Zs(a,l){const u=_r(a,l);if(-1!==u)return u;const f=l[Ee];f.firstCreatePass&&(a.injectorIndex=l.length,kl(f.data,a),kl(l,null),kl(f.blueprint,null));const g=bi(a,l),v=a.injectorIndex;if(rn(g)){const E=Mn(g),R=ui(g,l),P=R[Ee].data;for(let B=0;B<8;B++)l[v+B]=R[E+B]|P[E+B]}return l[v+8]=g,v}function kl(a,l){a.push(0,0,0,0,0,0,0,0,l)}function _r(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function bi(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,f=null,g=l;for(;null!==g;){if(f=dl(g),null===f)return uu;if(u++,g=g[Pt],-1!==f.injectorIndex)return f.injectorIndex|u<<16}return uu}function Rc(a,l,u){!function Ac(a,l,u){let f;"string"==typeof u?f=u.charCodeAt(0)||0:u.hasOwnProperty(Tg)&&(f=u[Tg]),null==f&&(f=u[Tg]=Po++);const g=f&ps;l.data[a+(g>>Ms)]|=1<<g}(a,l,u)}function Dc(a,l,u){if(u&Wi.Optional||void 0!==a)return a;Wv()}function ap(a,l,u,f){if(u&Wi.Optional&&void 0===f&&(f=null),!(u&(Wi.Self|Wi.Host))){const g=a[he],v=js(void 0);try{return g?g.get(l,f,u&Wi.Optional):yC(l,f,u&Wi.Optional)}finally{js(v)}}return Dc(f,0,u)}function Gh(a,l,u,f=Wi.Default,g){if(null!==a){if(2048&l[qe]&&!(f&Wi.Self)){const E=function Pc(a,l,u,f,g){let v=a,E=l;for(;null!==v&&null!==E&&2048&E[qe]&&!(512&E[qe]);){const R=$r(v,E,u,f|Wi.Self,jr);if(R!==jr)return R;let P=v.parent;if(!P){const B=E[we];if(B){const q=B.get(u,jr,f);if(q!==jr)return q}P=dl(E),E=E[Pt]}v=P}return g}(a,l,u,f,jr);if(E!==jr)return E}const v=$r(a,l,u,f,jr);if(v!==jr)return v}return ap(l,u,f,g)}function $r(a,l,u,f,g){const v=function Vl(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Tg)?a[Tg]:void 0;return"number"==typeof l?l>=0?l&ps:lp:l}(u);if("function"==typeof v){if(!Md(l,a,f))return f&Wi.Host?Dc(g,0,f):ap(l,u,f,g);try{let E;if(E=v(f),null!=E||f&Wi.Optional)return E;Wv()}finally{Ug()}}else if("number"==typeof v){let E=null,R=_r(a,l),P=uu,B=f&Wi.Host?l[nt][Pe]:null;for((-1===R||f&Wi.SkipSelf)&&(P=-1===R?bi(a,l):l[R+8],P!==uu&&zg(f,!1)?(E=l[Ee],R=Mn(P),l=ui(P,l)):R=-1);-1!==R;){const q=l[Ee];if(wa(v,R,q.data)){const ae=Ld(R,l,u,E,f,B);if(ae!==jr)return ae}P=l[R+8],P!==uu&&zg(f,l[Ee].data[R+8]===B)&&wa(v,R,l)?(E=q,R=Mn(P),l=ui(P,l)):R=-1}}return g}function Ld(a,l,u,f,g,v){const E=l[Ee],R=E.data[a+8],q=du(R,E,u,null==f?jn(R)&&gi:f!=E&&!!(3&R.type),g&Wi.Host&&v===R);return null!==q?ul(l,E,q,R):jr}function du(a,l,u,f,g){const v=a.providerIndexes,E=l.data,R=1048575&v,P=a.directiveStart,q=v>>20,Ne=g?R+q:a.directiveEnd;for(let je=f?R:R+q;je<Ne;je++){const at=E[je];if(je<P&&u===at||je>=P&&at.type===u)return je}if(g){const je=E[P];if(je&&vn(je)&&je.type===u)return P}return null}function ul(a,l,u,f){let g=a[u];const v=l.data;if(function Vh(a){return a instanceof rs}(g)){const E=g;E.resolving&&function vC(a,l){throw l&&l.join(" > "),new Vn(-200,a)}(function Er(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Ci(a)}(v[u]));const R=ri(E.canSeeViewProviders);E.resolving=!0;const B=E.injectImpl?js(E.injectImpl):null;Md(a,f,Wi.Default);try{g=a[u]=E.factory(void 0,v,a,f),l.firstCreatePass&&u>=f.directiveStart&&function kh(a,l,u){const{ngOnChanges:f,ngOnInit:g,ngDoCheck:v}=l.type.prototype;if(f){const E=sl(l);(u.preOrderHooks??=[]).push(a,E),(u.preOrderCheckHooks??=[]).push(a,E)}g&&(u.preOrderHooks??=[]).push(0-a,g),v&&((u.preOrderHooks??=[]).push(a,v),(u.preOrderCheckHooks??=[]).push(a,v))}(u,v[u],l)}finally{null!==B&&js(B),ri(R),E.resolving=!1,Ug()}}return g}function wa(a,l,u){return!!(u[l+(a>>Ms)]&1<<a)}function zg(a,l){return!(a&Wi.Self||a&Wi.Host&&l)}class Sr{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,f){return Gh(this._tNode,this._lView,l,Ed(f),u)}}function lp(){return new Sr(vr(),Bt())}function cp(a){return Ui(()=>{const l=a.prototype.constructor,u=l[wh]||Bh(l),f=Object.prototype;let g=Object.getPrototypeOf(a.prototype).constructor;for(;g&&g!==f;){const v=g[wh]||Bh(g);if(v&&v!==u)return v;g=Object.getPrototypeOf(g)}return v=>new v})}function Bh(a){return Ff(a)?()=>{const l=Bh(fi(a));return l&&l()}:dc(a)}function dl(a){const l=a[Ee],u=l.type;return 2===u?l.declTNode:1===u?a[Pe]:null}function Pi(a){return function op(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const f=u.length;let g=0;for(;g<f;){const v=u[g];if(Ad(v))break;if(0===v)g+=2;else if("number"==typeof v)for(g++;g<f&&"string"==typeof u[g];)g++;else{if(v===l)return u[g+1];g+=2}}}return null}(vr(),a)}function Yu(a,l=null,u=null,f){const g=fu(a,l,u,f);return g.resolveInjectorInitializers(),g}function fu(a,l=null,u=null,f,g=new Set){const v=[u||hr,RC(a)];return f=f||("object"==typeof a?void 0:zs(a)),new xg(v,l||Qv(),f||null,g)}let yo=(()=>{class a{static{this.THROW_IF_NOT_FOUND=$s}static{this.NULL=new $f}static create(u,f){if(Array.isArray(u))return Yu({name:""},f,u,"");{const g=u.name??"";return Yu({name:g},u.parent,u.providers,g)}}static{this.\u0275prov=wr({token:a,providedIn:"any",factory:()=>us(kA)})}static{this.__NG_ELEMENT_ID__=-1}}return a})();function Uh(a){return a.ngOriginalError}class to{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&Uh(l);for(;u&&Uh(u);)u=Uh(u);return u||null}}const fl=new Vi("",{providedIn:"root",factory:()=>wi(to).handleError.bind(void 0)});let yr=(()=>{class a{static{this.__NG_ELEMENT_ID__=Os}static{this.__NG_ENV_ID__=u=>u}}return a})();class Zr extends yr{constructor(l){super(),this._lView=l}onDestroy(l){return Jf(this._lView,l),()=>function hs(a,l){if(null===a[Re])return;const u=a[Re].indexOf(l);-1!==u&&a[Re].splice(u,1)}(this._lView,l)}}function Os(){return new Zr(Bt())}function Kg(){return Co(vr(),Bt())}function Co(a,l){return new bo(Js(a,l))}let bo=(()=>{class a{constructor(u){this.nativeElement=u}static{this.__NG_ELEMENT_ID__=Kg}}return a})();function Ju(a){return a instanceof bo?a.nativeElement:a}function Yg(a){return l=>{setTimeout(a,void 0,l)}}const ka=class up extends Ch.B{constructor(l=!1){super(),this.destroyRef=void 0,this.__isAsync=l,b()&&(this.destroyRef=wi(yr,{optional:!0})??void 0)}emit(l){const u=He(null);try{super.next(l)}finally{He(u)}}subscribe(l,u,f){let g=l,v=u||(()=>null),E=f;if(l&&"object"==typeof l){const P=l;g=P.next?.bind(P),v=P.error?.bind(P),E=P.complete?.bind(P)}this.__isAsync&&(v=Yg(v),g&&(g=Yg(g)),E&&(E=Yg(E)));const R=super.subscribe({next:g,error:v,complete:E});return l instanceof kv.yU&&l.add(R),R}};function o_(){return this._results[Symbol.iterator]()}class Zu{get changes(){return this._changes??=new ka}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const u=Zu.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=o_)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){this.dirty=!1;const f=function qs(a){return a.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function Ni(a,l,u){if(a.length!==l.length)return!1;for(let f=0;f<a.length;f++){let g=a[f],v=l[f];if(u&&(g=u(g),v=u(v)),v!==g)return!1}return!0}(this._results,f,u))&&(this._results=f,this.length=f.length,this.last=f[this.length-1],this.first=f[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(l){this._onDirty=l}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function pu(a){return!(128&~a.flags)}const Xg=new Map;let ES=0;const Qg="__ngContext__";function Fs(a,l){Rt(l)?(a[Qg]=l[ie],function IS(a){Xg.set(a[ie],a)}(l)):a[Qg]=l}function YA(a){return em(a[Tt])}function Zg(a){return em(a[ot])}function em(a){for(;null!==a&&!Te(a);)a=a[ot];return a}let Ud;function VC(a){Ud=a}const tm=new Vi("",{providedIn:"root",factory:()=>C}),C="ng",T=new Vi(""),L=new Vi("",{providedIn:"platform",factory:()=>"unknown"}),Z=new Vi(""),ne=new Vi("",{providedIn:"root",factory:()=>function td(){if(void 0!==Ud)return Ud;if(typeof document<"u")return document;throw new Vn(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ar=()=>null;function gr(a,l,u=!1){return ar(a,l,u)}const h_=new Vi("",{providedIn:"root",factory:()=>!1});let nm,nd;function vu(a){return function mp(){if(void 0===nm&&(nm=null,Ti.trustedTypes))try{nm=Ti.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return nm}()?.createHTML(a)||a}function p_(a){return function _p(){if(void 0===nd&&(nd=null,Ti.trustedTypes))try{nd=Ti.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return nd}()?.createScriptURL(a)||a}class id{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Cd})`}}class g_ extends id{getTypeName(){return"HTML"}}class im extends id{getTypeName(){return"Style"}}class BC extends id{getTypeName(){return"Script"}}class QA extends id{getTypeName(){return"URL"}}class rm extends id{getTypeName(){return"ResourceURL"}}function ua(a){return a instanceof id?a.changingThisBreaksApplicationSecurity:a}function Kh(a,l){const u=function JA(a){return a instanceof id&&a.getTypeName()||null}(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see ${Cd})`)}return u===l}function ZA(a){return new g_(a)}function PS(a){return new im(a)}function m_(a){return new BC(a)}function sm(a){return new QA(a)}function MS(a){return new rm(a)}class HC{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(vu(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch{return null}}}class am{constructor(l){this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(l){const u=this.inertDocument.createElement("template");return u.innerHTML=vu(l),u}}const eR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Yh(a){return(a=String(a)).match(eR)?a:"unsafe:"+a}function _u(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function zd(...a){const l={};for(const u of a)for(const f in u)u.hasOwnProperty(f)&&(l[f]=!0);return l}const jd=_u("area,br,col,hr,img,wbr"),UC=_u("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),WC=_u("rp,rt"),zC=zd(jd,zd(UC,_u("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zd(WC,_u("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zd(WC,UC)),v_=_u("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$C=zd(v_,_u("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_u("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lm=_u("script,style,template");class Xh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,f=!0,g=[];for(;u;)if(u.nodeType===Node.ELEMENT_NODE?f=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,f&&u.firstChild)g.push(u),u=$d(u);else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let v=yu(u);if(v){u=v;break}u=g.pop()}return this.buf.join("")}startElement(l){const u=rd(l).toLowerCase();if(!zC.hasOwnProperty(u))return this.sanitizedSomething=!0,!lm.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const f=l.attributes;for(let g=0;g<f.length;g++){const v=f.item(g),E=v.name,R=E.toLowerCase();if(!$C.hasOwnProperty(R)){this.sanitizedSomething=!0;continue}let P=v.value;v_[R]&&(P=Yh(P)),this.buf.push(" ",E,'="',qC(P),'"')}return this.buf.push(">"),!0}endElement(l){const u=rd(l).toLowerCase();zC.hasOwnProperty(u)&&!jd.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(qC(l))}}function yu(a){const l=a.nextSibling;if(l&&a!==l.previousSibling)throw Cp(l);return l}function $d(a){const l=a.firstChild;if(l&&function Qh(a,l){return(a.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(a,l))throw Cp(l);return l}function rd(a){const l=a.nodeName;return"string"==typeof l?l:"FORM"}function Cp(a){return new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`)}const cm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,OS=/([^\#-~ |!])/g;function qC(a){return a.replace(/&/g,"&amp;").replace(cm,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(OS,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Jh;function __(a,l){let u=null;try{Jh=Jh||function om(a){const l=new am(a);return function NS(){try{return!!(new window.DOMParser).parseFromString(vu(""),"text/html")}catch{return!1}}()?new HC(l):l}(a);let f=l?String(l):"";u=Jh.getInertBodyElement(f);let g=5,v=f;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,f=v,v=u.innerHTML,u=Jh.getInertBodyElement(f)}while(f!==v);return vu((new Xh).sanitizeChildren(nR(u)||u))}finally{if(u){const f=nR(u)||u;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function nR(a){return"content"in a&&function FS(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var um=function(a){return a[a.NONE=0]="NONE",a[a.HTML=1]="HTML",a[a.STYLE=2]="STYLE",a[a.SCRIPT=3]="SCRIPT",a[a.URL=4]="URL",a[a.RESOURCE_URL=5]="RESOURCE_URL",a}(um||{});function PN(a){const l=YC();return l?l.sanitize(um.URL,a)||"":Kh(a,"URL")?ua(a):Yh(Ci(a))}function iR(a){const l=YC();if(l)return p_(l.sanitize(um.RESOURCE_URL,a)||"");if(Kh(a,"ResourceURL"))return p_(ua(a));throw new Vn(904,!1)}function NN(a,l,u){return function YG(a,l){return"src"===l&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===l&&("base"===a||"link"===a)?iR:PN}(l,u)(a)}function YC(){const a=Bt();return a&&a[Ve].sanitizer}const XG=/^>|^->|<!--|-->|--!>|<!-$/g,rR=/(<|>)/g,QG="\u200b$1\u200b";function Cu(a){return a instanceof Function?a():a}var QC=function(a){return a[a.Important=1]="Important",a[a.DashCase=2]="DashCase",a}(QC||{});let kN;function VN(a,l){return kN(a,l)}function JC(a,l,u,f,g){if(null!=f){let v,E=!1;Te(f)?v=f:Rt(f)&&(E=!0,f=f[Le]);const R=Hi(f);0===a&&null!==u?null==g?uR(l,u,R):Ta(l,u,R,g||null,!0):1===a&&null!==u?Ta(l,u,R,g||null,!0):2===a?function b_(a,l,u){const f=eb(a,l);f&&function $N(a,l,u,f){a.removeChild(l,u,f)}(a,f,l,u)}(l,R,E):3===a&&l.destroyNode(R),null!=v&&function XN(a,l,u,f,g){const v=u[dn];v!==Hi(u)&&JC(l,a,f,v,g);for(let R=hn;R<u.length;R++){const P=u[R];w_(P[Ee],P,a,l,f,v)}}(l,a,v,u,g)}}function BN(a,l){return a.createComment(function ON(a){return a.replace(XG,l=>l.replace(rR,QG))}(l))}function y_(a,l,u){return a.createElement(l,u)}function sd(a,l){l[Ve].changeDetectionScheduler?.notify(1),w_(a,l,l[_e],2,null,null)}function WN(a,l){const u=a[An],f=u.indexOf(l);u.splice(f,1)}function ZC(a,l){if(a.length<=hn)return;const u=hn+l,f=a[u];if(f){const g=f[Vt];null!==g&&g!==a&&WN(g,f),l>0&&(a[u-1][ot]=f[ot]);const v=Na(a,hn+l);!function HN(a,l){sd(a,l),l[Le]=null,l[Pe]=null}(f[Ee],f);const E=v[Sn];null!==E&&E.detachView(v[Ee]),f[Ut]=null,f[ot]=null,f[qe]&=-129}return f}function bp(a,l){if(!(256&l[qe])){const u=l[_e];u.destroyNode&&w_(a,l,u,3,null,null),function cB(a){let l=a[Tt];if(!l)return Kd(a[Ee],a);for(;l;){let u=null;if(Rt(l))u=l[Tt];else{const f=l[hn];f&&(u=f)}if(!u){for(;l&&!l[ot]&&l!==a;)Rt(l)&&Kd(l[Ee],l),l=l[Ut];null===l&&(l=a),Rt(l)&&Kd(l[Ee],l),u=l&&l[ot]}l=u}}(l)}}function Kd(a,l){if(256&l[qe])return;const u=He(null);try{l[qe]&=-129,l[qe]|=256,l[Je]&&ut(l[Je]),function Ga(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let f=0;f<u.length;f+=2){const g=l[u[f]];if(!(g instanceof rs)){const v=u[f+1];if(Array.isArray(v))for(let E=0;E<v.length;E+=2){const R=g[v[E]],P=v[E+1];ya(4,R,P);try{P.call(R)}finally{ya(5,R,P)}}else{ya(4,g,v);try{v.call(g)}finally{ya(5,g,v)}}}}}(a,l),function zN(a,l){const u=a.cleanup,f=l[Lt];if(null!==u)for(let v=0;v<u.length-1;v+=2)if("string"==typeof u[v]){const E=u[v+3];E>=0?f[E]():f[-E].unsubscribe(),v+=2}else u[v].call(f[u[v+1]]);null!==f&&(l[Lt]=null);const g=l[Re];if(null!==g){l[Re]=null;for(let v=0;v<g.length;v++)(0,g[v])()}}(a,l),1===l[Ee].type&&l[_e].destroy();const f=l[Vt];if(null!==f&&Te(l[Ut])){f!==l[Ut]&&WN(f,l);const g=l[Sn];null!==g&&g.detachView(a)}!function tr(a){Xg.delete(a[ie])}(l)}finally{He(u)}}function Yd(a,l,u){return function jN(a,l,u){let f=l;for(;null!==f&&40&f.type;)f=(l=f).parent;if(null===f)return u[Le];{const{componentOffset:g}=f;if(g>-1){const{encapsulation:v}=a.data[f.directiveStart+g];if(v===Id.None||v===Id.Emulated)return null}return Js(f,u)}}(a,l.parent,u)}function Ta(a,l,u,f,g){a.insertBefore(l,u,f,g)}function uR(a,l,u){a.appendChild(l,u)}function dR(a,l,u,f,g){null!==f?Ta(a,l,u,f,g):uR(a,l,u)}function eb(a,l){return a.parentNode(l)}function hR(a,l,u){return tb(a,l,u)}let VS,tb=function fR(a,l,u){return 40&a.type?Js(a,u):null};function nb(a,l,u,f){const g=Yd(a,f,l),v=l[_e],R=hR(f.parent||l[Pe],f,l);if(null!=g)if(Array.isArray(u))for(let P=0;P<u.length;P++)dR(v,g,u[P],R,!1);else dR(v,g,u,R,!1);void 0!==VS&&VS(v,f,l,u,g)}function C_(a,l){if(null!==l){const u=l.type;if(3&u)return Js(l,a);if(4&u)return GS(-1,a[l.index]);if(8&u){const f=l.child;if(null!==f)return C_(a,f);{const g=a[l.index];return Te(g)?GS(-1,g):Hi(g)}}if(32&u)return VN(l,a)()||Hi(a[l.index]);{const f=KN(a,l);return null!==f?Array.isArray(f)?f[0]:C_(Uu(a[nt]),f):C_(a,l.next)}}return null}function KN(a,l){return null!==l?a[nt][Pe].projection[l.projection]:null}function GS(a,l){const u=hn+a+1;if(u<l.length){const f=l[u],g=f[Ee].firstChild;if(null!==g)return C_(f,g)}return l[dn]}function HS(a,l,u,f,g,v,E){for(;null!=u;){const R=f[u.index],P=u.type;if(E&&0===l&&(R&&Fs(Hi(R),f),u.flags|=2),32&~u.flags)if(8&P)HS(a,l,u.child,f,g,v,!1),JC(l,a,g,R,v);else if(32&P){const B=VN(u,f);let q;for(;q=B();)JC(l,a,g,q,v);JC(l,a,g,R,v)}else 16&P?gR(a,l,f,u,g,v):JC(l,a,g,R,v);u=E?u.projectionNext:u.next}}function w_(a,l,u,f,g,v){HS(u,f,a.firstChild,l,g,v,!1)}function gR(a,l,u,f,g,v){const E=u[nt],P=E[Pe].projection[f.projection];if(Array.isArray(P))for(let B=0;B<P.length;B++)JC(l,a,g,P[B],v);else{let B=P;const q=E[Ut];pu(f)&&(B.flags|=128),HS(a,l,B,q,g,v,!0)}}function vR(a,l,u){""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u)}function _R(a,l,u){const{mergedAttrs:f,classes:g,styles:v}=u;null!==f&&Hu(a,l,f),null!==g&&vR(a,l,g),null!==v&&function US(a,l,u){a.setAttribute(l,"style",u)}(a,l,v)}const Li={};function Ba(a=1){od(Bi(),Bt(),Rr()+a,!1)}function od(a,l,u,f){if(!f)if(3&~l[qe]){const v=a.preOrderHooks;null!==v&&Ll(l,v,0,u)}else{const v=a.preOrderCheckHooks;null!==v&&cl(l,v,u)}ti(u)}function hm(a,l=Wi.Default){const u=Bt();return null===u?us(a,l):Gh(vr(),u,fi(a),l)}function hB(){throw new Error("invalid")}function fB(a,l,u,f,g,v){const E=He(null);try{let R=null;g&Td.SignalBased&&(R=l[f][mn]),null!==R&&void 0!==R.transformFn&&(v=R.transformFn(v)),g&Td.HasDecoratorInputTransform&&(v=a.inputTransforms[f].call(l,v)),null!==a.setInput?a.setInput(l,R,v,u,f):Qs(l,R,f,v)}finally{He(E)}}function E_(a,l,u,f,g,v,E,R,P,B,q){const ae=l.blueprint.slice();return ae[Le]=g,ae[qe]=204|f,(null!==B||a&&2048&a[qe])&&(ae[qe]|=2048),Jv(ae),ae[Ut]=ae[Pt]=a,ae[ce]=u,ae[Ve]=E||a&&a[Ve],ae[_e]=R||a&&a[_e],ae[he]=P||a&&a[he]||null,ae[Pe]=v,ae[ie]=function SS(){return ES++}(),ae[lt]=q,ae[we]=B,ae[nt]=2==l.type?a[nt]:ae,ae}function wp(a,l,u,f,g){let v=a.data[l];if(null===v)v=function S_(a,l,u,f,g){const v=ou(),E=Pr(),P=a.data[l]=function fJ(a,l,u,f,g,v){let E=l?l.injectorIndex:-1,R=0;return Ec()&&(R|=128),{type:u,index:f,insertBeforeIndex:null,injectorIndex:E,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:R,providerIndexes:0,value:g,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?v:v&&v.parent,u,l,f,g);return null===a.firstChild&&(a.firstChild=P),null!==v&&(E?null==v.child&&null!==P.parent&&(v.child=P):null===v.next&&(v.next=P,P.prev=v)),P}(a,l,u,f,g),function np(){return ci.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=u,v.value=f,v.attrs=g;const E=function au(){const a=ci.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();v.injectorIndex=null===E?-1:E.injectorIndex}return fs(v,!0),v}function ib(a,l,u,f){if(0===u)return-1;const g=l.length;for(let v=0;v<u;v++)l.push(f),a.blueprint.push(f),a.data.push(null);return g}function WS(a,l,u,f,g){const v=Rr(),E=2&f;try{ti(-1),E&&l.length>$e&&od(a,l,$e,!1),ya(E?2:0,g),u(f,g)}finally{ti(v),ya(E?3:1,g)}}function CR(a,l,u){if(xi(l)){const f=He(null);try{const v=l.directiveEnd;for(let E=l.directiveStart;E<v;E++){const R=a.data[E];R.contentQueries&&R.contentQueries(1,u[E],E)}}finally{He(f)}}}function QN(a,l,u){Ca()&&(function fm(a,l,u,f){const g=u.directiveStart,v=u.directiveEnd;jn(u)&&function ab(a,l,u){const f=Js(l,a),g=pB(u);let E=16;u.signals?E=4096:u.onPush&&(E=64);const R=qS(a,E_(a,g,null,E,f,l,null,a[Ve].rendererFactory.createRenderer(f,u),null,null,null));a[l.index]=R}(l,u,a.data[g+u.componentOffset]),a.firstCreatePass||Zs(u,l),Fs(f,l);const E=u.initialInputs;for(let R=g;R<v;R++){const P=a.data[R],B=ul(l,a,R,u);Fs(B,l),null!==E&&vB(0,R-g,B,P,0,E),vn(P)&&($o(u.index,l)[ce]=ul(l,a,R,u))}}(a,l,u,Js(u,l)),!(64&~u.flags)&&mB(a,l,u))}function JN(a,l,u=Js){const f=l.localNames;if(null!==f){let g=l.index+1;for(let v=0;v<f.length;v+=2){const E=f[v+1],R=-1===E?u(l,a):a[E];a[g++]=R}}}function pB(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=ZN(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts,a.id):l}function ZN(a,l,u,f,g,v,E,R,P,B,q){const ae=$e+f,Ne=ae+g,je=function lJ(a,l){const u=[];for(let f=0;f<l;f++)u.push(f<a?null:Li);return u}(ae,Ne),at="function"==typeof B?B():B;return je[Ee]={type:a,blueprint:je,template:u,queries:null,viewQuery:R,declTNode:l,data:je.slice().fill(null,ae),bindingStartIndex:ae,expandoStartIndex:Ne,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:P,consts:at,incompleteFirstPass:!1,ssrId:q}}let eO=()=>null;function I_(a,l,u,f,g){for(let v in l){if(!l.hasOwnProperty(v))continue;const E=l[v];if(void 0===E)continue;f??={};let R,P=Td.None;Array.isArray(E)?(R=E[0],P=E[1]):R=E;let B=v;if(null!==g){if(!g.hasOwnProperty(v))continue;B=g[v]}0===a?rb(f,u,B,R,P):rb(f,u,B,R)}return f}function rb(a,l,u,f,g){let v;a.hasOwnProperty(u)?(v=a[u]).push(l,f):v=a[u]=[l,f],void 0!==g&&v.push(g)}function Ha(a,l,u,f,g,v,E,R){const P=Js(l,u);let q,B=l.inputs;!R&&null!=B&&(q=B[f])?(cb(a,u,q,f,g),jn(l)&&function gB(a,l){const u=$o(l,a);16&u[qe]||(u[qe]|=64)}(u,l.index)):3&l.type&&(f=function sb(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(f),g=null!=E?E(g,l.value||"",f):g,v.setProperty(P,f,g))}function A_(a,l,u,f){if(Ca()){const g=null===f?null:{"":-1},v=function mJ(a,l){const u=a.directiveRegistry;let f=null,g=null;if(u)for(let v=0;v<u.length;v++){const E=u[v];if(VA(l,E.selectors,!1))if(f||(f=[]),vn(E))if(null!==E.findHostDirectiveDefs){const R=[];g=g||new Map,E.findHostDirectiveDefs(E,R,g),f.unshift(...R,E),jS(a,l,R.length)}else f.unshift(E),jS(a,l,0);else g=g||new Map,E.findHostDirectiveDefs?.(E,f,g),f.push(E)}return null===f?null:[f,g]}(a,u);let E,R;null===v?E=R=null:[E,R]=v,null!==E&&wR(a,l,u,E,g,R),g&&function vJ(a,l,u){if(l){const f=a.localNames=[];for(let g=0;g<l.length;g+=2){const v=u[l[g+1]];if(null==v)throw new Vn(-301,!1);f.push(l[g],v)}}}(u,f,g)}u.mergedAttrs=Rd(u.mergedAttrs,u.attrs)}function wR(a,l,u,f,g,v){for(let B=0;B<f.length;B++)Rc(Zs(u,l),a,f[B].type);!function ob(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}(u,a.data.length,f.length);for(let B=0;B<f.length;B++){const q=f[B];q.providersResolver&&q.providersResolver(q)}let E=!1,R=!1,P=ib(a,l,f.length,null);for(let B=0;B<f.length;B++){const q=f[B];u.mergedAttrs=Rd(u.mergedAttrs,q.hostAttrs),$S(a,u,l,P,q),pm(P,q,g),null!==q.contentQueries&&(u.flags|=4),(null!==q.hostBindings||null!==q.hostAttrs||0!==q.hostVars)&&(u.flags|=64);const ae=q.type.prototype;!E&&(ae.ngOnChanges||ae.ngOnInit||ae.ngDoCheck)&&((a.preOrderHooks??=[]).push(u.index),E=!0),!R&&(ae.ngOnChanges||ae.ngDoCheck)&&((a.preOrderCheckHooks??=[]).push(u.index),R=!0),P++}!function T_(a,l,u){const g=l.directiveEnd,v=a.data,E=l.attrs,R=[];let P=null,B=null;for(let q=l.directiveStart;q<g;q++){const ae=v[q],Ne=u?u.get(ae):null,at=Ne?Ne.outputs:null;P=I_(0,ae.inputs,q,P,Ne?Ne.inputs:null),B=I_(1,ae.outputs,q,B,at);const Ht=null===P||null===E||Rg(l)?null:ER(P,q,E);R.push(Ht)}null!==P&&(P.hasOwnProperty("class")&&(l.flags|=8),P.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=R,l.inputs=P,l.outputs=B}(a,u,v)}function mB(a,l,u){const f=u.directiveStart,g=u.directiveEnd,v=u.index,E=function Gg(){return ci.lFrame.currentDirectiveIndex}();try{ti(v);for(let R=f;R<g;R++){const P=a.data[R],B=l[R];ip(R),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&gJ(P,B)}}finally{ti(-1),ip(E)}}function gJ(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function jS(a,l,u){l.componentOffset=u,(a.components??=[]).push(l.index)}function pm(a,l,u){if(u){if(l.exportAs)for(let f=0;f<l.exportAs.length;f++)u[l.exportAs[f]]=a;vn(l)&&(u[""]=a)}}function $S(a,l,u,f,g){a.data[f]=g;const v=g.factory||(g.factory=dc(g.type)),E=new rs(v,vn(g),hm);a.blueprint[f]=E,u[f]=E,function nO(a,l,u,f,g){const v=g.hostBindings;if(v){let E=a.hostBindingOpCodes;null===E&&(E=a.hostBindingOpCodes=[]);const R=~l.index;(function zS(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(E)!=R&&E.push(R),E.push(u,f,v)}}(a,l,f,ib(a,u,g.hostVars,Li),g)}function Vc(a,l,u,f,g,v){const E=Js(a,l);!function R_(a,l,u,f,g,v,E){if(null==v)a.removeAttribute(l,g,u);else{const R=null==E?Ci(v):E(v,f||"",g);a.setAttribute(l,g,R,u)}}(l[_e],E,v,a.value,u,f,g)}function vB(a,l,u,f,g,v){const E=v[l];if(null!==E)for(let R=0;R<E.length;)fB(f,u,E[R++],E[R++],E[R++],E[R++])}function ER(a,l,u){let f=null,g=0;for(;g<u.length;){const v=u[g];if(0!==v)if(5!==v){if("number"==typeof v)break;if(a.hasOwnProperty(v)){null===f&&(f=[]);const E=a[v];for(let R=0;R<E.length;R+=3)if(E[R]===l){f.push(v,E[R+1],E[R+2],u[g+1]);break}}g+=2}else g+=2;else g+=4}return f}function lb(a,l,u,f){return[a,!0,0,l,null,f,null,u,null,null]}function iO(a,l){const u=a.contentQueries;if(null!==u){const f=He(null);try{for(let g=0;g<u.length;g+=2){const E=u[g+1];if(-1!==E){const R=a.data[E];Fn(u[g]),R.contentQueries(2,l[E],E)}}}finally{He(f)}}}function qS(a,l){return a[Tt]?a[wt][ot]=l:a[Tt]=l,a[wt]=l,l}function KS(a,l,u){Fn(0);const f=He(null);try{l(a,u)}finally{He(f)}}function SR(a){return a[Lt]||(a[Lt]=[])}function rO(a){return a.cleanup||(a.cleanup=[])}function YS(a,l){const u=a[he],f=u?u.get(to,null):null;f&&f.handleError(l)}function cb(a,l,u,f,g){for(let v=0;v<u.length;){const E=u[v++],R=u[v++],P=u[v++];fB(a.data[E],l[E],f,R,P,g)}}function Ep(a,l,u){const f=Cc(l,a);!function lB(a,l,u){a.setValue(l,u)}(a[_e],f,u)}function yJ(a,l){const u=$o(l,a),f=u[Ee];!function IR(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])}(f,u);const g=u[Le];null!==g&&null===u[lt]&&(u[lt]=gr(g,u[he])),TR(f,u,u[ce])}function TR(a,l,u){lu(l);try{const f=a.viewQuery;null!==f&&KS(1,f,u);const g=a.template;null!==g&&WS(a,l,g,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),l[Sn]?.finishViewCreation(a),a.staticContentQueries&&iO(a,l),a.staticViewQueries&&KS(2,a.viewQuery,u);const v=a.components;null!==v&&function sO(a,l){for(let u=0;u<l.length;u++)yJ(a,l[u])}(l,v)}catch(f){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),f}finally{l[qe]&=-5,Oh()}}function gm(a,l,u,f){const g=He(null);try{const v=l.tView,P=E_(a,v,u,4096&a[qe]?4096:16,null,l,null,null,f?.injector??null,f?.embeddedViewInjector??null,f?.dehydratedView??null);P[Vt]=a[l.index];const q=a[Sn];return null!==q&&(P[Sn]=q.createEmbeddedView(v)),TR(v,P,u),P}finally{He(g)}}function oO(a,l){const u=hn+l;if(u<a.length)return a[u]}function ub(a,l){return!l||null===l.firstChild||pu(a)}function db(a,l,u,f=!0){const g=l[Ee];if(function UN(a,l,u,f){const g=hn+f,v=u.length;f>0&&(u[g-1][ot]=l),f<v-hn?(l[ot]=u[g],uS(u,hn+f,l)):(u.push(l),l[ot]=null),l[Ut]=u;const E=l[Vt];null!==E&&u!==E&&function uB(a,l){const u=a[An];l[nt]!==l[Ut][Ut][nt]&&(a[qe]|=pi.HasTransplantedViews),null===u?a[An]=[l]:u.push(l)}(E,l);const R=l[Sn];null!==R&&R.insertView(a),Fg(l),l[qe]|=128}(g,l,a,u),f){const E=GS(u,a),R=l[_e],P=eb(R,a[dn]);null!==P&&function dm(a,l,u,f,g,v){f[Le]=g,f[Pe]=l,w_(a,f,u,1,g,v)}(g,a[Pe],R,l,P,E)}const v=l[lt];null!==v&&null!==v.firstChild&&(v.firstChild=null)}function mm(a,l){const u=ZC(a,l);return void 0!==u&&bp(u[Ee],u),u}function ef(a,l,u,f,g=!1){for(;null!==u;){const v=l[u.index];null!==v&&f.push(Hi(v)),Te(v)&&AR(v,f);const E=u.type;if(8&E)ef(a,l,u.child,f);else if(32&E){const R=VN(u,l);let P;for(;P=R();)f.push(P)}else if(16&E){const R=KN(l,u);if(Array.isArray(R))f.push(...R);else{const P=Uu(l[nt]);ef(P[Ee],P,R,f,!0)}}u=g?u.projectionNext:u.next}return f}function AR(a,l){for(let u=hn;u<a.length;u++){const f=a[u],g=f[Ee].firstChild;null!==g&&ef(f[Ee],f,g,l)}a[dn]!==a[Le]&&l.push(a[dn])}let RR=[];const aO={...Be,consumerIsAlwaysLive:!0,consumerMarkedDirty:a=>{su(a.lView)},consumerOnSignalRead(){this.lView[Je]=this}},CB=100;function DR(a,l=!0,u=0){const f=a[Ve],g=f.rendererFactory;g.begin?.();try{!function bJ(a,l){xR(a,l);let u=0;for(;Qf(a);){if(u===CB)throw new Vn(103,!1);u++,xR(a,1)}}(a,u)}catch(E){throw l&&YS(a,E),E}finally{g.end?.(),f.inlineEffectRunner?.flush()}}function bB(a,l,u,f){const g=l[qe];if(!(256&~g))return;l[Ve].inlineEffectRunner?.flush(),lu(l);let E=null,R=null;(function lO(a){return 2!==a.type})(a)&&(R=function jl(a){return a[Je]??function CJ(a){const l=RR.pop()??Object.create(aO);return l.lView=a,l}(a)}(l),E=Ae(R));try{Jv(l),function Ic(a){return ci.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&WS(a,l,u,2,f);const P=!(3&~g);if(P){const ae=a.preOrderCheckHooks;null!==ae&&cl(l,ae,null)}else{const ae=a.preOrderHooks;null!==ae&&Ll(l,ae,0,null),rp(l,0)}if(function uO(a){for(let l=YA(a);null!==l;l=Zg(l)){if(!(l[qe]&pi.HasTransplantedViews))continue;const u=l[An];for(let f=0;f<u.length;f++){Og(u[f])}}}(l),cO(l,0),null!==a.contentQueries&&iO(a,l),P){const ae=a.contentCheckHooks;null!==ae&&cl(l,ae)}else{const ae=a.contentHooks;null!==ae&&Ll(l,ae,1),rp(l,1)}!function yR(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let f=0;f<u.length;f++){const g=u[f];if(g<0)ti(~g);else{const v=g,E=u[++f],R=u[++f];r_(E,v),R(2,l[v])}}}finally{ti(-1)}}(a,l);const B=a.components;null!==B&&QS(l,B,0);const q=a.viewQuery;if(null!==q&&KS(2,q,f),P){const ae=a.viewCheckHooks;null!==ae&&cl(l,ae)}else{const ae=a.viewHooks;null!==ae&&Ll(l,ae,2),rp(l,2)}if(!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[Ge]){for(const ae of l[Ge])ae();l[Ge]=null}l[qe]&=-73}catch(P){throw su(l),P}finally{null!==R&&(Xe(R,E),function yB(a){a.lView[Je]!==a&&(a.lView=null,RR.push(a))}(R)),Oh()}}function cO(a,l){for(let u=YA(a);null!==u;u=Zg(u))for(let f=hn;f<u.length;f++)XS(u[f],l)}function dO(a,l,u){XS($o(l,a),u)}function XS(a,l){Ng(a)&&xR(a,l)}function xR(a,l){const f=a[Ee],g=a[qe],v=a[Je];let E=!!(0===l&&16&g);if(E||=!!(64&g&&0===l),E||=!!(1024&g),E||=!(!v?.dirty||!vt(v)),v&&(v.dirty=!1),a[qe]&=-9217,E)bB(f,a,f.template,a[ce]);else if(8192&g){cO(a,1);const R=f.components;null!==R&&QS(a,R,1)}}function QS(a,l,u){for(let f=0;f<l.length;f++)dO(a,l[f],u)}function hb(a){for(a[Ve].changeDetectionScheduler?.notify();a;){a[qe]|=64;const l=Uu(a);if(On(a)&&!l)return a;a=l}return null}class JS{get rootNodes(){const l=this._lView,u=l[Ee];return ef(u,l,u.firstChild,[])}constructor(l,u,f=!0){this._lView=l,this._cdRefInjectingView=u,this.notifyErrorHandler=f,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ce]}set context(l){this._lView[ce]=l}get destroyed(){return!(256&~this._lView[qe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[Ut];if(Te(l)){const u=l[8],f=u?u.indexOf(this):-1;f>-1&&(ZC(l,f),Na(u,f))}this._attachedToViewContainer=!1}bp(this._lView[Ee],this._lView)}onDestroy(l){Jf(this._lView,l)}markForCheck(){hb(this._cdRefInjectingView||this._lView)}detach(){this._lView[qe]&=-129}reattach(){Fg(this._lView),this._lView[qe]|=128}detectChanges(){this._lView[qe]|=1024,DR(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Vn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,sd(this._lView[Ee],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Vn(902,!1);this._appRef=l,Fg(this._lView)}}let fb=(()=>{class a{static{this.__NG_ELEMENT_ID__=fO}}return a})();const hO=fb,wB=class extends hO{constructor(l,u,f){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=f}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(l,u){return this.createEmbeddedViewImpl(l,u)}createEmbeddedViewImpl(l,u,f){const g=gm(this._declarationLView,this._declarationTContainer,l,{embeddedViewInjector:u,dehydratedView:f});return new JS(g)}};function fO(){return D_(vr(),Bt())}function D_(a,l){return 4&a.type?new wB(l,a,Co(a,l)):null}let LR=()=>null;function vb(a,l){return LR(a,l)}class _b{}class OB{}class FB{}class wO{resolveComponentFactory(l){throw function RJ(a){const l=Error(`No component factory found for ${zs(a)}.`);return l.ngComponent=a,l}(l)}}let Cm=(()=>{class a{static{this.NULL=new wO}}return a})();class Fo{}let xJ=(()=>{class a{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function N_(){const a=Bt(),u=$o(vr().index,a);return(Rt(u)?u:a)[_e]}()}}return a})(),EO=(()=>{class a{static{this.\u0275prov=wr({token:a,providedIn:"root",factory:()=>null})}}return a})();const o0={},SO=new Set;function Ua(a){SO.has(a)||(SO.add(a),performance?.mark?.("mark_feature_usage",{detail:{feature:a}}))}function O_(...a){}class Lo{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ka(!1),this.onMicrotaskEmpty=new ka(!1),this.onStable=new ka(!1),this.onError=new ka(!1),typeof Zone>"u")throw new Vn(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!f&&u,g.shouldCoalesceRunChangeDetection=f,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function l0(){const a="function"==typeof Ti.requestAnimationFrame;let l=Ti[a?"requestAnimationFrame":"setTimeout"],u=Ti[a?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&l&&u){const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f);const g=u[Zone.__symbol__("OriginalDelegate")];g&&(u=g)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function VB(a){const l=()=>{!function kB(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Ti,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,IO(a),a.isCheckStableRunning=!0,yb(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),IO(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,f,g,v,E,R)=>{if(function MJ(a){return!(!Array.isArray(a)||1!==a.length)&&!0===a[0].data?.__ignore_ng_zone__}(R))return u.invokeTask(g,v,E,R);try{return Xd(a),u.invokeTask(g,v,E,R)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||a.shouldCoalesceRunChangeDetection)&&l(),c0(a)}},onInvoke:(u,f,g,v,E,R,P)=>{try{return Xd(a),u.invoke(g,v,E,R,P)}finally{a.shouldCoalesceRunChangeDetection&&l(),c0(a)}},onHasTask:(u,f,g,v)=>{u.hasTask(g,v),f===g&&("microTask"==v.change?(a._hasPendingMicrotasks=v.microTask,IO(a),yb(a)):"macroTask"==v.change&&(a.hasPendingMacrotasks=v.macroTask))},onHandleError:(u,f,g,v)=>(u.handleError(g,v),a.runOutsideAngular(()=>a.onError.emit(v)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lo.isInAngularZone())throw new Vn(909,!1)}static assertNotInAngularZone(){if(Lo.isInAngularZone())throw new Vn(909,!1)}run(l,u,f){return this._inner.run(l,u,f)}runTask(l,u,f,g){const v=this._inner,E=v.scheduleEventTask("NgZoneEvent: "+g,l,PJ,O_,O_);try{return v.runTask(E,u,f)}finally{v.cancelTask(E)}}runGuarded(l,u,f){return this._inner.runGuarded(l,u,f)}runOutsideAngular(l){return this._outer.run(l)}}const PJ={};function yb(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function IO(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Xd(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function c0(a){a._nesting--,yb(a)}let k_=(()=>{class a{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const u=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const f of u)f()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=wr({token:a,providedIn:"root",factory:()=>new a})}}return a})();function Sp(a){return!!jo(a)}function BR(a,l,u){let f=u?a.styles:null,g=u?a.classes:null,v=0;if(null!==l)for(let E=0;E<l.length;E++){const R=l[E];"number"==typeof R?v=R:1==v?g=bh(g,R):2==v&&(f=bh(f,R+": "+l[++E]+";"))}u?a.styles=f:a.stylesWithoutHost=f,u?a.classes=g:a.classesWithoutHost=g}class RO extends Cm{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=zi(l);return new g0(u,this.ngModule)}}function jB(a){const l=[];for(const u in a){if(!a.hasOwnProperty(u))continue;const f=a[u];void 0!==f&&l.push({propName:Array.isArray(f)?f[0]:f,templateName:u})}return l}class HR{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,f){f=Ed(f);const g=this.injector.get(l,o0,f);return g!==o0||u===o0?g:this.parentInjector.get(l,u,f)}}class g0 extends FB{get inputs(){const l=this.componentDef,u=l.inputTransforms,f=jB(l.inputs);if(null!==u)for(const g of f)u.hasOwnProperty(g.propName)&&(g.transform=u[g.propName]);return f}get outputs(){return jB(this.componentDef.outputs)}constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function bN(a){return a.map(BA).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}create(l,u,f,g){const v=He(null);try{let E=(g=g||this.ngModule)instanceof fc?g:g?.injector;E&&null!==this.componentDef.getStandaloneInjector&&(E=this.componentDef.getStandaloneInjector(E)||E);const R=E?new HR(l,E):l,P=R.get(Fo,null);if(null===P)throw new Vn(407,!1);const B=R.get(EO,null),Ne={rendererFactory:P,sanitizer:B,inlineEffectRunner:null,afterRenderEventManager:R.get(k_,null),changeDetectionScheduler:R.get(_b,null)},je=P.createRenderer(null,this.componentDef),at=this.componentDef.selectors[0][0]||"div",Ht=f?function cJ(a,l,u,f){const v=f.get(h_,!1)||u===Id.ShadowDom,E=a.selectRootElement(l,v);return function uJ(a){eO(a)}(E),E}(je,f,this.componentDef.encapsulation,R):y_(je,at,function NJ(a){const l=a.toLowerCase();return"svg"===l?vc:"math"===l?"math":null}(at));let tn=512;this.componentDef.signals?tn|=4096:this.componentDef.onPush||(tn|=16);let _n=null;null!==Ht&&(_n=gr(Ht,R,!0));const Zt=ZN(0,null,null,1,0,null,null,null,null,null,null),di=E_(null,Zt,null,tn,null,null,Ne,je,R,null,_n);let cr,Br;lu(di);try{const Nr=this.componentDef;let _l,Wp=null;Nr.findHostDirectiveDefs?(_l=[],Wp=new Map,Nr.findHostDirectiveDefs(Nr,_l,Wp),_l.push(Nr)):_l=[Nr];const AL=function FJ(a,l){const u=a[Ee],f=$e;return a[f]=l,wp(u,f,2,"#host",null)}(di,Ht),R6=function LJ(a,l,u,f,g,v,E){const R=g[Ee];!function kJ(a,l,u,f){for(const g of a)l.mergedAttrs=Rd(l.mergedAttrs,g.hostAttrs);null!==l.mergedAttrs&&(BR(l,l.mergedAttrs,!0),null!==u&&_R(f,u,l))}(f,a,l,E);let P=null;null!==l&&(P=gr(l,g[he]));const B=v.rendererFactory.createRenderer(l,u);let q=16;u.signals?q=4096:u.onPush&&(q=64);const ae=E_(g,pB(u),null,q,g[a.index],a,v,B,null,null,P);return R.firstCreatePass&&jS(R,a,f.length-1),qS(g,ae),g[a.index]=ae}(AL,Ht,Nr,_l,di,Ne,je);Br=bc(Zt,$e),Ht&&function VJ(a,l,u,f){if(f)Hu(a,u,["ng-version","17.3.12"]);else{const{attrs:g,classes:v}=function pS(a){const l=[],u=[];let f=1,g=2;for(;f<a.length;){let v=a[f];if("string"==typeof v)2===g?""!==v&&l.push(v,a[++f]):8===g&&u.push(v);else{if(!va(g))break;g=v}f++}return{attrs:l,classes:u}}(l.selectors[0]);g&&Hu(a,u,g),v&&v.length>0&&vR(a,u,v.join(" "))}}(je,Nr,Ht,f),void 0!==u&&function GJ(a,l,u){const f=a.projection=[];for(let g=0;g<l.length;g++){const v=u[g];f.push(null!=v?Array.from(v):null)}}(Br,this.ngContentSelectors,u),cr=function $B(a,l,u,f,g,v){const E=vr(),R=g[Ee],P=Js(E,g);wR(R,g,E,u,null,f);for(let q=0;q<u.length;q++)Fs(ul(g,R,E.directiveStart+q,E),g);mB(R,g,E),P&&Fs(P,g);const B=ul(g,R,E.directiveStart+E.componentOffset,E);if(a[ce]=g[ce]=B,null!==v)for(const q of v)q(B,l);return CR(R,E,g),B}(R6,Nr,_l,Wp,di,[BJ]),TR(Zt,di,null)}finally{Oh()}return new OJ(this.componentType,cr,Co(Br,di),di,Br)}finally{He(v)}}}class OJ extends OB{constructor(l,u,f,g,v){super(),this.location=f,this._rootLView=g,this._tNode=v,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new JS(g,void 0,!1),this.componentType=l}setInput(l,u){const f=this._tNode.inputs;let g;if(null!==f&&(g=f[l])){if(this.previousInputValues??=new Map,this.previousInputValues.has(l)&&Object.is(this.previousInputValues.get(l),u))return;const v=this._rootLView;cb(v[Ee],v,g,l,u),this.previousInputValues.set(l,u),hb($o(this._tNode.index,v))}}get injector(){return new Sr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function BJ(){const a=vr();ju(Bt()[Ee],a)}let UR=(()=>{class a{static{this.__NG_ELEMENT_ID__=DO}}return a})();function DO(){return YB(vr(),Bt())}const HJ=UR,qB=class extends HJ{constructor(l,u,f){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=f}get element(){return Co(this._hostTNode,this._hostLView)}get injector(){return new Sr(this._hostTNode,this._hostLView)}get parentInjector(){const l=bi(this._hostTNode,this._hostLView);if(rn(l)){const u=ui(l,this._hostLView),f=Mn(l);return new Sr(u[Ee].data[f+8],u)}return new Sr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=KB(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-hn}createEmbeddedView(l,u,f){let g,v;"number"==typeof f?g=f:null!=f&&(g=f.index,v=f.injector);const E=vb(this._lContainer,l.ssrId),R=l.createEmbeddedViewImpl(u||{},v,E);return this.insertImpl(R,g,ub(this._hostTNode,E)),R}createComponent(l,u,f,g,v){const E=l&&!function J(a){return"function"==typeof a}(l);let R;if(E)R=u;else{const at=u||{};R=at.index,f=at.injector,g=at.projectableNodes,v=at.environmentInjector||at.ngModuleRef}const P=E?l:new g0(zi(l)),B=f||this.parentInjector;if(!v&&null==P.ngModule){const Ht=(E?B:this.parentInjector).get(fc,null);Ht&&(v=Ht)}const q=zi(P.componentType??{}),ae=vb(this._lContainer,q?.id??null),je=P.create(B,g,ae?.firstChild??null,v);return this.insertImpl(je.hostView,R,ub(this._hostTNode,ae)),je}insert(l,u){return this.insertImpl(l,u,!0)}insertImpl(l,u,f){const g=l._lView;if(function Pd(a){return Te(a[Ut])}(g)){const R=this.indexOf(l);if(-1!==R)this.detach(R);else{const P=g[Ut],B=new qB(P,P[Pe],P[Ut]);B.detach(B.indexOf(l))}}const v=this._adjustIndex(u),E=this._lContainer;return db(E,g,v,f),l.attachToViewContainerRef(),uS(xO(E),v,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=KB(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),f=ZC(this._lContainer,u);f&&(Na(xO(this._lContainer),u),bp(f[Ee],f))}detach(l){const u=this._adjustIndex(l,-1),f=ZC(this._lContainer,u);return f&&null!=Na(xO(this._lContainer),u)?new JS(f):null}_adjustIndex(l,u=0){return l??this.length+u}};function KB(a){return a[8]}function xO(a){return a[8]||(a[8]=[])}function YB(a,l){let u;const f=l[a.index];return Te(f)?u=f:(u=lb(f,l,null,a),l[a.index]=u,qS(l,u)),XB(u,l,a,f),new qB(u,a,l)}let XB=function JB(a,l,u,f){if(a[dn])return;let g;g=8&u.type?Hi(f):function UJ(a,l){const u=a[_e],f=u.createComment(""),g=Js(l,a);return Ta(u,eb(u,g),f,function qN(a,l){return a.nextSibling(l)}(u,g),!1),f}(l,u),a[dn]=g},PO=()=>!1;class MO{constructor(l){this.queryList=l,this.matches=null}clone(){return new MO(this.queryList)}setDirty(){this.queryList.setDirty()}}class NO{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const f=null!==l.contentQueries?l.contentQueries[0]:u.length,g=[];for(let v=0;v<f;v++){const E=u.getByIndex(v);g.push(this.queries[E.indexInDeclarationView].clone())}return new NO(g)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}finishViewCreation(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==VO(l,u).matches&&this.queries[u].setDirty()}}class ZB{constructor(l,u,f=null){this.flags=u,this.read=f,this.predicate="string"==typeof l?function XJ(a){return a.split(",").map(l=>l.trim())}(l):l}}class OO{constructor(l=[]){this.queries=l}elementStart(l,u){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let f=0;f<this.length;f++){const g=null!==u?u.length:0,v=this.getByIndex(f).embeddedTView(l,g);v&&(v.indexInDeclarationView=f,null!==u?u.push(v):u=[v])}return null!==u?new OO(u):null}template(l,u){for(let f=0;f<this.queries.length;f++)this.queries[f].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class FO{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new FO(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1&~this.metadata.flags){const u=this._declarationNodeIndex;let f=l.parent;for(;null!==f&&8&f.type&&f.index!==u;)f=f.parent;return u===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const f=this.metadata.predicate;if(Array.isArray(f))for(let g=0;g<f.length;g++){const v=f[g];this.matchTNodeWithReadOption(l,u,$J(u,v)),this.matchTNodeWithReadOption(l,u,du(u,l,v,!1,!1))}else f===fb?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,du(u,l,f,!1,!1))}matchTNodeWithReadOption(l,u,f){if(null!==f){const g=this.metadata.read;if(null!==g)if(g===bo||g===UR||g===fb&&4&u.type)this.addMatch(u.index,-2);else{const v=du(u,l,g,!1,!1);null!==v&&this.addMatch(u.index,v)}else this.addMatch(u.index,f)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function $J(a,l){const u=a.localNames;if(null!==u)for(let f=0;f<u.length;f+=2)if(u[f]===l)return u[f+1];return null}function KJ(a,l,u,f){return-1===u?function qJ(a,l){return 11&a.type?Co(a,l):4&a.type?D_(a,l):null}(l,a):-2===u?function YJ(a,l,u){return u===bo?Co(l,a):u===fb?D_(l,a):u===UR?YB(l,a):void 0}(a,l,f):ul(a,a[Ee],u,l)}function e4(a,l,u,f){const g=l[Sn].queries[f];if(null===g.matches){const v=a.data,E=u.matches,R=[];for(let P=0;null!==E&&P<E.length;P+=2){const B=E[P];R.push(B<0?null:KJ(l,v[B],E[P+1],u.metadata.read))}g.matches=R}return g.matches}function LO(a,l,u,f){const g=a.queries.getByIndex(u),v=g.matches;if(null!==v){const E=e4(a,l,g,u);for(let R=0;R<v.length;R+=2){const P=v[R];if(P>0)f.push(E[R/2]);else{const B=v[R+1],q=l[-P];for(let ae=hn;ae<q.length;ae++){const Ne=q[ae];Ne[Vt]===Ne[Ut]&&LO(Ne[Ee],Ne,B,f)}if(null!==q[An]){const ae=q[An];for(let Ne=0;Ne<ae.length;Ne++){const je=ae[Ne];LO(je[Ee],je,B,f)}}}}}return f}function kO(a,l,u){const f=new Zu(!(4&~u));return function hJ(a,l,u,f){const g=SR(l);g.push(u),a.firstCreatePass&&rO(a).push(f,g.length-1)}(a,l,f,f.destroy),(l[Sn]??=new NO).queries.push(new MO(f))-1}function i4(a,l,u){null===a.queries&&(a.queries=new OO),a.queries.track(new FO(l,u))}function VO(a,l){return a.queries.getByIndex(l)}function r4(a,l){const u=a[Ee],f=VO(u,l);return f.crossesNgTemplate?LO(u,a,l,[]):e4(u,a,f,l)}function GO(a){return"function"==typeof a&&void 0!==a[mn]}function s4(a,l){Ua("NgSignals");const u=function zn(a){const l=Object.create(bs);l.value=a;const u=()=>(Ct(l),l.value);return u[mn]=l,u}(a),f=u[mn];return l?.equal&&(f.equal=l.equal),u.set=g=>li(f,g),u.update=g=>function Nn(a,l){xt()||mt(),li(a,l(a.value))}(f,g),u.asReadonly=o4.bind(u),u}function o4(){const a=this[mn];if(void 0===a.readonlyFn){const l=()=>this();l[mn]=a,a.readonlyFn=l}return a.readonlyFn}function V_(a){let l=function HO(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const f=[a];for(;l;){let g;if(vn(a))g=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Vn(903,!1);g=l.\u0275dir}if(g){if(u){f.push(g);const E=a;E.inputs=Em(a.inputs),E.inputTransforms=Em(a.inputTransforms),E.declaredInputs=Em(a.declaredInputs),E.outputs=Em(a.outputs);const R=g.hostBindings;R&&UO(a,R);const P=g.viewQuery,B=g.contentQueries;if(P&&_0(a,P),B&&v4(a,B),jR(a,g),Eg(a.outputs,g.outputs),vn(g)&&g.data.animation){const q=a.data;q.animation=(q.animation||[]).concat(g.data.animation)}}const v=g.features;if(v)for(let E=0;E<v.length;E++){const R=v[E];R&&R.ngInherit&&R(a),R===V_&&(u=!1)}}l=Object.getPrototypeOf(l)}!function Eb(a){let l=0,u=null;for(let f=a.length-1;f>=0;f--){const g=a[f];g.hostVars=l+=g.hostVars,g.hostAttrs=Rd(g.hostAttrs,u=Rd(u,g.hostAttrs))}}(f)}function jR(a,l){for(const u in l.inputs){if(!l.inputs.hasOwnProperty(u)||a.inputs.hasOwnProperty(u))continue;const f=l.inputs[u];if(void 0!==f&&(a.inputs[u]=f,a.declaredInputs[u]=l.declaredInputs[u],null!==l.inputTransforms)){const g=Array.isArray(f)?f[0]:f;if(!l.inputTransforms.hasOwnProperty(g))continue;a.inputTransforms??={},a.inputTransforms[g]=l.inputTransforms[g]}}}function Em(a){return a===nu?{}:a===hr?[]:a}function _0(a,l){const u=a.viewQuery;a.viewQuery=u?(f,g)=>{l(f,g),u(f,g)}:l}function v4(a,l){const u=a.contentQueries;a.contentQueries=u?(f,g,v)=>{l(f,g,v),u(f,g,v)}:l}function UO(a,l){const u=a.hostBindings;a.hostBindings=u?(f,g)=>{l(f,g),u(f,g)}:l}function qR(a){const l=a.inputConfig,u={};for(const f in l)if(l.hasOwnProperty(f)){const g=l[f];Array.isArray(g)&&g[3]&&(u[f]=g[3])}a.inputTransforms=u}class Ip{}class Sb{}function ko(a,l){return new jO(a,l??null,[])}class jO extends Ip{constructor(l,u,f){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new RO(this);const g=jo(l);this._bootstrapComponents=Cu(g.bootstrap),this._r3Injector=fu(l,u,[{provide:Ip,useValue:this},{provide:Cm,useValue:this.componentFactoryResolver},...f],zs(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class $O extends Sb{constructor(l){super(),this.moduleType=l}create(l){return new jO(this.moduleType,l,[])}}class Tp extends Ip{constructor(l){super(),this.componentFactoryResolver=new RO(this),this.instance=null;const u=new xg([...l.providers,{provide:Ip,useValue:this},{provide:Cm,useValue:this.componentFactoryResolver}],l.parent||Qv(),l.debugName,new Set(["environment"]));this.injector=u,l.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function KR(a,l,u=null){return new Tp({providers:a,parent:l,debugName:u,runEnvironmentInitializers:!0}).injector}let Tm=(()=>{class a{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Vv.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(f){return new(f||a)}}static{this.\u0275prov=wr({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function Am(a){return!!G_(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function G_(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function ro(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function Ib(a,l,u,f,g,v,E,R){const P=Bt(),B=Bi(),q=a+$e,ae=B.firstCreatePass?function fZ(a,l,u,f,g,v,E,R,P){const B=l.consts,q=wp(l,a,4,E||null,ll(B,R));A_(l,u,q,ll(B,P)),ju(l,q);const ae=q.tView=ZN(2,q,f,g,v,l.directiveRegistry,l.pipeRegistry,null,l.schemas,B,null);return null!==l.queries&&(l.queries.template(l,q),ae.queries=l.queries.embeddedTView(q)),q}(q,B,P,l,u,f,g,v,E):B.data[q];fs(ae,!1);const Ne=S4(B,P,ae,a);zu()&&nb(B,P,Ne,ae),Fs(Ne,P);const je=lb(Ne,P,Ne,ae);return P[q]=je,qS(P,je),function QB(a,l,u){return PO(a,l,u)}(je,ae,P),un(ae)&&QN(B,P,ae),null!=E&&JN(P,ae,R),Ib}let S4=function XO(a,l,u,f){return Dr(!0),l[_e].createComment("")};function lF(a,l,u,f){const g=Bt();return ro(g,ba(),l)&&(Bi(),Vc(pr(),g,a,l,u,f)),lF}function xm(a,l,u,f){return ro(a,ba(),u)?l+Ci(u)+f:Li}function Mb(a,l,u,f,g,v){const R=function Ap(a,l,u,f){const g=ro(a,l,u);return ro(a,l+1,f)||g}(a,function Sc(){return ci.lFrame.bindingIndex}(),u,g);return Ol(2),R?l+Ci(u)+f+Ci(g)+v:Li}function Lb(a,l){return a<<17|l<<2}function nf(a){return a>>17&32767}function R0(a){return 2|a}function $_(a){return(131068&a)>>2}function D0(a,l){return-131069&a|l<<2}function fD(a){return 1|a}function pD(a,l,u,f){const g=a[u+1],v=null===l;let E=f?nf(g):$_(g),R=!1;for(;0!==E&&(!1===R||v);){const B=a[E+1];hF(a[E],l)&&(R=!0,a[E+1]=f?fD(B):R0(B)),E=f?nf(B):$_(B)}R&&(a[u+1]=f?R0(g):fD(g))}function hF(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&tu(a,l)>=0}const Bo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function x0(a){return a.substring(Bo.key,Bo.keyEnd)}function kb(a,l){const u=Bo.textEnd;return u===l?-1:(l=Bo.keyEnd=function eH(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,Bo.key=l,u),q_(a,l,u))}function q_(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function mD(a,l,u){const f=Bt();return ro(f,ba(),l)&&Ha(Bi(),pr(),f,a,l,f[_e],u,!1),mD}function vD(a,l,u,f,g){const E=g?"class":"style";cb(a,u,l.inputs[E],E,f)}function mF(a,l,u){return Zd(a,l,u,!1),mF}function _D(a,l){return Zd(a,l,null,!0),_D}function yD(a){Bc(CD,sf,a,!0)}function sf(a,l){for(let u=function fF(a){return function pF(a){Bo.key=0,Bo.keyEnd=0,Bo.value=0,Bo.valueEnd=0,Bo.textEnd=a.length}(a),kb(a,q_(a,0,Bo.textEnd))}(l);u>=0;u=kb(l,u))dr(a,x0(l),!0)}function Zd(a,l,u,f){const g=Bt(),v=Bi(),E=Ol(2);v.firstUpdatePass&&rH(v,a,E,f),l!==Li&&ro(g,E,l)&&_F(v,v.data[Rr()],g,g[_e],a,g[E+1]=function wD(a,l){return null==a||""===a||("string"==typeof l?a+=l:"object"==typeof a&&(a=zs(ua(a)))),a}(l,u),f,E)}function Bc(a,l,u,f){const g=Bi(),v=Ol(2);g.firstUpdatePass&&rH(g,null,v,f);const E=Bt();if(u!==Li&&ro(E,v,u)){const R=g.data[Rr()];if(M0(R,f)&&!iH(g,v)){let P=f?R.classesWithoutHost:R.stylesWithoutHost;null!==P&&(u=bh(P,u||"")),vD(g,R,E,u,f)}else!function Dp(a,l,u,f,g,v,E,R){g===Li&&(g=hr);let P=0,B=0,q=0<g.length?g[0]:null,ae=0<v.length?v[0]:null;for(;null!==q||null!==ae;){const Ne=P<g.length?g[P+1]:void 0,je=B<v.length?v[B+1]:void 0;let Ht,at=null;q===ae?(P+=2,B+=2,Ne!==je&&(at=ae,Ht=je)):null===ae||null!==q&&q<ae?(P+=2,at=q):(B+=2,at=ae,Ht=je),null!==at&&_F(a,l,u,f,at,Ht,E,R),q=P<g.length?g[P]:null,ae=B<v.length?v[B]:null}}(g,R,E,E[_e],E[v+1],E[v+1]=function oH(a,l,u){if(null==u||""===u)return hr;const f=[],g=ua(u);if(Array.isArray(g))for(let v=0;v<g.length;v++)a(f,g[v],!0);else if("object"==typeof g)for(const v in g)g.hasOwnProperty(v)&&a(f,v,g[v]);else"string"==typeof g&&l(f,g);return f}(a,l,u),f,v)}}function iH(a,l){return l>=a.expandoStartIndex}function rH(a,l,u,f){const g=a.data;if(null===g[u+1]){const v=g[Rr()],E=iH(a,u);M0(v,f)&&null===l&&!E&&(l=!1),l=function sH(a,l,u,f){const g=function Tc(a){const l=ci.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let v=f?l.residualClasses:l.residualStyles;if(null===g)0===(f?l.classBindings:l.styleBindings)&&(u=P0(u=vF(null,a,l,u,f),l.attrs,f),v=null);else{const E=l.directiveStylingLast;if(-1===E||a[E]!==g)if(u=vF(g,a,l,u,f),null===v){let P=function OZ(a,l,u){const f=u?l.classBindings:l.styleBindings;if(0!==$_(f))return a[nf(f)]}(a,l,f);void 0!==P&&Array.isArray(P)&&(P=vF(null,a,l,P[1],f),P=P0(P,l.attrs,f),function FZ(a,l,u,f){a[nf(u?l.classBindings:l.styleBindings)]=f}(a,l,f,P))}else v=function LZ(a,l,u){let f;const g=l.directiveEnd;for(let v=1+l.directiveStylingLast;v<g;v++)f=P0(f,a[v].hostAttrs,u);return P0(f,l.attrs,u)}(a,l,f)}return void 0!==v&&(f?l.residualClasses=v:l.residualStyles=v),u}(g,v,l,f),function X4(a,l,u,f,g,v){let E=v?l.classBindings:l.styleBindings,R=nf(E),P=$_(E);a[f]=u;let q,B=!1;if(Array.isArray(u)?(q=u[1],(null===q||tu(u,q)>0)&&(B=!0)):q=u,g)if(0!==P){const Ne=nf(a[R+1]);a[f+1]=Lb(Ne,R),0!==Ne&&(a[Ne+1]=D0(a[Ne+1],f)),a[R+1]=function K4(a,l){return 131071&a|l<<17}(a[R+1],f)}else a[f+1]=Lb(R,0),0!==R&&(a[R+1]=D0(a[R+1],f)),R=f;else a[f+1]=Lb(P,0),0===R?R=f:a[P+1]=D0(a[P+1],f),P=f;B&&(a[f+1]=R0(a[f+1])),pD(a,q,f,!0),pD(a,q,f,!1),function Q4(a,l,u,f,g){const v=g?a.residualClasses:a.residualStyles;null!=v&&"string"==typeof l&&tu(v,l)>=0&&(u[f+1]=fD(u[f+1]))}(l,q,a,f,v),E=Lb(R,P),v?l.classBindings=E:l.styleBindings=E}(g,v,l,u,E,f)}}function vF(a,l,u,f,g){let v=null;const E=u.directiveEnd;let R=u.directiveStylingLast;for(-1===R?R=u.directiveStart:R++;R<E&&(v=l[R],f=P0(f,v.hostAttrs,g),v!==a);)R++;return null!==a&&(u.directiveStylingLast=R),f}function P0(a,l,u){const f=u?1:2;let g=-1;if(null!==l)for(let v=0;v<l.length;v++){const E=l[v];"number"==typeof E?g=E:g===f&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),dr(a,E,!!u||l[++v]))}return void 0===a?null:a}function CD(a,l,u){const f=String(l);""!==f&&!f.includes(" ")&&dr(a,f,u)}function _F(a,l,u,f,g,v,E,R){if(!(3&l.type))return;const P=a.data,B=P[R+1],q=function xZ(a){return!(1&~a)}(B)?bD(P,l,u,g,$_(B),E):void 0;Vb(q)||(Vb(v)||function q4(a){return!(2&~a)}(B)&&(v=bD(P,null,u,g,R,E)),function mR(a,l,u,f,g){if(l)g?a.addClass(u,f):a.removeClass(u,f);else{let v=-1===f.indexOf("-")?void 0:QC.DashCase;null==g?a.removeStyle(u,f,v):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),v|=QC.Important),a.setStyle(u,f,g,v))}}(f,E,Cc(Rr(),u),g,v))}function bD(a,l,u,f,g,v){const E=null===l;let R;for(;g>0;){const P=a[g],B=Array.isArray(P),q=B?P[1]:P,ae=null===q;let Ne=u[g+1];Ne===Li&&(Ne=ae?hr:void 0);let je=ae?EC(Ne,f):q===f?Ne:void 0;if(B&&!Vb(je)&&(je=EC(P,f)),Vb(je)&&(R=je,E))return R;const at=a[g+1];g=E?nf(at):$_(at)}if(null!==l){let P=v?l.residualClasses:l.residualStyles;null!=P&&(R=EC(P,f))}return R}function Vb(a){return void 0!==a}function M0(a,l){return!!(a.flags&(l?8:16))}function lH(a,l,u){Bc(dr,sf,xm(Bt(),a,l,u),!0)}class vH{destroy(l){}updateValue(l,u){}swap(l,u){const f=Math.min(l,u),g=Math.max(l,u),v=this.detach(g);if(g-f>1){const E=this.detach(f);this.attach(f,v),this.attach(g,E)}else this.attach(f,v)}move(l,u){this.attach(u,this.detach(l))}}function ED(a,l,u,f,g){return a===u&&Object.is(l,f)?1:Object.is(g(a,l),g(u,f))?-1:0}function SD(a,l,u,f){return!(void 0===l||!l.has(f)||(a.attach(u,l.get(f)),l.delete(f),0))}function yF(a,l,u,f,g){if(SD(a,l,f,u(f,g)))a.updateValue(f,g);else{const v=a.create(f,g);a.attach(f,v)}}function CF(a,l,u,f){const g=new Set;for(let v=l;v<=u;v++)g.add(f(v,a.at(v)));return g}class bF{constructor(){this.kvMap=new Map,this._vMap=void 0}has(l){return this.kvMap.has(l)}delete(l){if(!this.has(l))return!1;const u=this.kvMap.get(l);return void 0!==this._vMap&&this._vMap.has(u)?(this.kvMap.set(l,this._vMap.get(u)),this._vMap.delete(u)):this.kvMap.delete(l),!0}get(l){return this.kvMap.get(l)}set(l,u){if(this.kvMap.has(l)){let f=this.kvMap.get(l);void 0===this._vMap&&(this._vMap=new Map);const g=this._vMap;for(;g.has(f);)f=g.get(f);g.set(f,u)}else this.kvMap.set(l,u)}forEach(l){for(let[u,f]of this.kvMap)if(l(f,u),void 0!==this._vMap){const g=this._vMap;for(;g.has(f);)f=g.get(f),l(f,u)}}}function wF(a,l,u){Ua("NgControlFlow");const f=Bt(),g=ba(),v=ID(f,$e+a);if(ro(f,g,l)){const R=He(null);try{if(mm(v,0),-1!==l){const P=TD(f[Ee],$e+l),B=vb(v,P.tView.ssrId);db(v,gm(f,P,u,{dehydratedView:B}),0,ub(P,B))}}finally{He(R)}}else{const R=oO(v,0);void 0!==R&&(R[ce]=u)}}class yH{constructor(l,u,f){this.lContainer=l,this.$implicit=u,this.$index=f}get $count(){return this.lContainer.length-hn}}function EF(a,l){return l}class bH{constructor(l,u,f){this.hasEmptyBlock=l,this.trackByFn=u,this.liveCollection=f}}function SF(a,l,u,f,g,v,E,R,P,B,q,ae,Ne){Ua("NgControlFlow");const je=void 0!==P,at=Bt(),Ht=R?E.bind(at[nt][ce]):E,tn=new bH(je,Ht);at[$e+a]=tn,Ib(a+1,l,u,f,g,v),je&&Ib(a+2,P,B,q,ae,Ne)}class wH extends vH{constructor(l,u,f){super(),this.lContainer=l,this.hostLView=u,this.templateTNode=f,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-hn}at(l){return this.getLView(l)[ce].$implicit}attach(l,u){const f=u[lt];this.needsIndexUpdate||=l!==this.length,db(this.lContainer,u,l,ub(this.templateTNode,f))}detach(l){return this.needsIndexUpdate||=l!==this.length-1,function EH(a,l){return ZC(a,l)}(this.lContainer,l)}create(l,u){const f=vb(this.lContainer,this.templateTNode.tView.ssrId);return gm(this.hostLView,this.templateTNode,new yH(this.lContainer,u,l),{dehydratedView:f})}destroy(l){bp(l[Ee],l)}updateValue(l,u){this.getLView(l)[ce].$implicit=u}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let l=0;l<this.length;l++)this.getLView(l)[ce].$index=l}getLView(l){return function SH(a,l){return oO(a,l)}(this.lContainer,l)}}function IF(a){const l=He(null),u=Rr();try{const f=Bt(),g=f[Ee],v=f[u];if(void 0===v.liveCollection){const R=u+1,P=ID(f,R),B=TD(g,R);v.liveCollection=new wH(P,f,B)}else v.liveCollection.reset();const E=v.liveCollection;if(function _H(a,l,u){let f,g,v=0,E=a.length-1;if(Array.isArray(l)){let R=l.length-1;for(;v<=E&&v<=R;){const P=a.at(v),B=l[v],q=ED(v,P,v,B,u);if(0!==q){q<0&&a.updateValue(v,B),v++;continue}const ae=a.at(E),Ne=l[R],je=ED(E,ae,R,Ne,u);if(0!==je){je<0&&a.updateValue(E,Ne),E--,R--;continue}const at=u(v,P),Ht=u(E,ae),tn=u(v,B);if(Object.is(tn,Ht)){const _n=u(R,Ne);Object.is(_n,at)?(a.swap(v,E),a.updateValue(E,Ne),R--,E--):a.move(E,v),a.updateValue(v,B),v++}else if(f??=new bF,g??=CF(a,v,E,u),SD(a,f,v,tn))a.updateValue(v,B),v++,E++;else if(g.has(tn))f.set(at,a.detach(v)),E--;else{const _n=a.create(v,l[v]);a.attach(v,_n),v++,E++}}for(;v<=R;)yF(a,f,u,v,l[v]),v++}else if(null!=l){const R=l[Symbol.iterator]();let P=R.next();for(;!P.done&&v<=E;){const B=a.at(v),q=P.value,ae=ED(v,B,v,q,u);if(0!==ae)ae<0&&a.updateValue(v,q),v++,P=R.next();else{f??=new bF,g??=CF(a,v,E,u);const Ne=u(v,q);if(SD(a,f,v,Ne))a.updateValue(v,q),v++,E++,P=R.next();else if(g.has(Ne)){const je=u(v,B);f.set(je,a.detach(v)),E--}else a.attach(v,a.create(v,q)),v++,E++,P=R.next()}}for(;!P.done;)yF(a,f,u,a.length,P.value),P=R.next()}for(;v<=E;)a.destroy(a.detach(E--));f?.forEach(R=>{a.destroy(R)})}(E,a,v.trackByFn),E.updateIndexes(),v.hasEmptyBlock){const R=ba(),P=0===E.length;if(ro(f,R,P)){const B=u+2,q=ID(f,B);if(P){const ae=TD(g,B),Ne=vb(q,ae.tView.ssrId);db(q,gm(f,ae,void 0,{dehydratedView:Ne}),0,ub(ae,Ne))}else mm(q,0)}}}finally{He(l)}}function ID(a,l){return a[l]}function TD(a,l){return bc(a,l)}function O0(a,l,u,f){const g=Bt(),v=Bi(),E=$e+a,R=g[_e],P=v.firstCreatePass?function N0(a,l,u,f,g,v){const E=l.consts,P=wp(l,a,2,f,ll(E,g));return A_(l,u,P,ll(E,v)),null!==P.attrs&&BR(P,P.attrs,!1),null!==P.mergedAttrs&&BR(P,P.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,P),P}(E,v,g,l,u,f):v.data[E],B=TF(v,g,P,R,l,a);g[E]=B;const q=un(P);return fs(P,!0),_R(R,B,P),!function b0(a){return!(32&~a.flags)}(P)&&zu()&&nb(v,g,B,P),0===function e_(){return ci.lFrame.elementDepthCount}()&&Fs(B,g),function Nl(){ci.lFrame.elementDepthCount++}(),q&&(QN(v,g,P),CR(v,P,g)),null!==f&&JN(g,P),O0}function Gb(){let a=vr();Pr()?Oi():(a=a.parent,fs(a,!1));const l=a;(function kg(a){return ci.skipHydrationRootTNode===a})(l)&&function vo(){ci.skipHydrationRootTNode=null}(),function Mh(){ci.lFrame.elementDepthCount--}();const u=Bi();return u.firstCreatePass&&(ju(u,a),xi(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function ve(a){return!!(8&a.flags)}(l)&&vD(u,l,Bt(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Me(a){return!!(16&a.flags)}(l)&&vD(u,l,Bt(),l.stylesWithoutHost,!1),Gb}function AD(a,l,u,f){return O0(a,l,u,f),Gb(),AD}let TF=(a,l,u,f,g,v)=>(Dr(!0),y_(f,g,function Lh(){return ci.lFrame.currentNamespace}()));function F0(a,l,u){const f=Bt(),g=Bi(),v=a+$e,E=g.firstCreatePass?function kZ(a,l,u,f,g){const v=l.consts,E=ll(v,f),R=wp(l,a,8,"ng-container",E);return null!==E&&BR(R,E,!0),A_(l,u,R,ll(v,g)),null!==l.queries&&l.queries.elementStart(l,R),R}(v,g,f,l,u):g.data[v];fs(E,!0);const R=DD(g,f,E,a);return f[v]=R,zu()&&nb(g,f,R,E),Fs(R,f),un(E)&&(QN(g,f,E),CR(g,E,f)),null!=u&&JN(f,E),F0}function RD(){let a=vr();const l=Bi();return Pr()?Oi():(a=a.parent,fs(a,!1)),l.firstCreatePass&&(ju(l,a),xi(a)&&l.queries.elementEnd(a)),RD}function L0(a,l,u){return F0(a,l,u),RD(),L0}let DD=(a,l,u,f)=>(Dr(!0),BN(l[_e],""));function Bb(){return Bt()}function k0(a,l,u){const f=Bt();return ro(f,ba(),l)&&Ha(Bi(),pr(),f,a,l,f[_e],u,!0),k0}const Mm=void 0;var VZ=["en",[["a","p"],["AM","PM"],Mm],[["AM","PM"],Mm,Mm],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mm,"{1} 'at' {0}",Mm],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function PD(a){const u=Math.floor(Math.abs(a)),f=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===f?1:5}];let Hb={};function Ub(a){const l=function AH(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=ND(l);if(u)return u;const f=l.split("-")[0];if(u=ND(f),u)return u;if("en"===f)return VZ;throw new Vn(701,!1)}function MD(a){return Ub(a)[Nm.PluralCase]}function ND(a){return a in Hb||(Hb[a]=Ti.ng&&Ti.ng.common&&Ti.ng.common.locales&&Ti.ng.common.locales[a]),Hb[a]}var Nm=function(a){return a[a.LocaleId=0]="LocaleId",a[a.DayPeriodsFormat=1]="DayPeriodsFormat",a[a.DayPeriodsStandalone=2]="DayPeriodsStandalone",a[a.DaysFormat=3]="DaysFormat",a[a.DaysStandalone=4]="DaysStandalone",a[a.MonthsFormat=5]="MonthsFormat",a[a.MonthsStandalone=6]="MonthsStandalone",a[a.Eras=7]="Eras",a[a.FirstDayOfWeek=8]="FirstDayOfWeek",a[a.WeekendRange=9]="WeekendRange",a[a.DateFormat=10]="DateFormat",a[a.TimeFormat=11]="TimeFormat",a[a.DateTimeFormat=12]="DateTimeFormat",a[a.NumberSymbols=13]="NumberSymbols",a[a.NumberFormats=14]="NumberFormats",a[a.CurrencyCode=15]="CurrencyCode",a[a.CurrencySymbol=16]="CurrencySymbol",a[a.CurrencyName=17]="CurrencyName",a[a.Currencies=18]="Currencies",a[a.Directionality=19]="Directionality",a[a.PluralCase=20]="PluralCase",a[a.ExtraData=21]="ExtraData",a}(Nm||{});const te="en-US";let xF=te;function WD(a,l,u,f){const g=Bt(),v=Bi(),E=vr();return function jD(a,l,u,f,g,v,E){const R=un(f),B=a.firstCreatePass&&rO(a),q=l[ce],ae=SR(l);let Ne=!0;if(3&f.type||E){const Ht=Js(f,l),tn=E?E(Ht):Ht,_n=ae.length,Zt=E?cr=>E(Hi(cr[f.index])):f.index;let di=null;if(!E&&R&&(di=function QH(a,l,u,f){const g=a.cleanup;if(null!=g)for(let v=0;v<g.length-1;v+=2){const E=g[v];if(E===u&&g[v+1]===f){const R=l[Lt],P=g[v+2];return R.length>P?R[P]:null}"string"==typeof E&&(v+=2)}return null}(a,l,g,f.index)),null!==di)(di.__ngLastListenerFn__||di).__ngNextListenerFn__=v,di.__ngLastListenerFn__=v,Ne=!1;else{v=ZH(f,l,q,v,!1);const cr=u.listen(tn,g,v);ae.push(v,cr),B&&B.push(g,Zt,_n,_n+1)}}else v=ZH(f,l,q,v,!1);const je=f.outputs;let at;if(Ne&&null!==je&&(at=je[g])){const Ht=at.length;if(Ht)for(let tn=0;tn<Ht;tn+=2){const Br=l[at[tn]][at[tn+1]].subscribe(v),Nr=ae.length;ae.push(v,Br),B&&B.push(g,f.index,Nr,-(Nr+1))}}}(v,g,g[_e],E,a,l,f),WD}function JH(a,l,u,f){const g=He(null);try{return ya(6,l,u),!1!==u(f)}catch(v){return YS(a,v),!1}finally{ya(7,l,u),He(g)}}function ZH(a,l,u,f,g){return function v(E){if(E===Function)return f;hb(a.componentOffset>-1?$o(a.index,l):l);let P=JH(l,u,f,E),B=v.__ngNextListenerFn__;for(;B;)P=JH(l,u,B,E)&&P,B=B.__ngNextListenerFn__;return g&&!1===P&&E.preventDefault(),P}}function Qb(a=1){return function cu(a){return(ci.lFrame.contextLView=function Zv(a,l){for(;a>0;)l=l[Pt],a--;return l}(a,ci.lFrame.contextLView))[ce]}(a)}function eU(a,l){let u=null;const f=function hS(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(!(1&u))return l[u+1]}return null}(a);for(let g=0;g<l.length;g++){const v=l[g];if("*"!==v){if(null===f?VA(a,v,!0):GA(f,v))return g}else u=g}return u}function X_(a){const l=Bt()[nt][Pe];if(!l.projection){const f=l.projection=function Th(a,l){const u=[];for(let f=0;f<a;f++)u.push(l);return u}(a?a.length:1,null),g=f.slice();let v=l.child;for(;null!==v;){const E=a?eU(v,a):0;null!==E&&(g[E]?g[E].projectionNext=v:f[E]=v,g[E]=v),v=v.next}}}function $D(a,l=0,u){const f=Bt(),g=Bi(),v=wp(g,$e+a,16,null,u||null);null===v.projection&&(v.projection=l),Oi(),(!f[lt]||Ec())&&32&~v.flags&&function YN(a,l,u){gR(l[_e],0,l,u,Yd(a,u,l),hR(u.parent||l[Pe],u,l))}(g,f,v)}function JF(a,l,u,f){!function n4(a,l,u,f){const g=Bi();if(g.firstCreatePass){const v=vr();i4(g,new ZB(l,u,f),v.index),function QJ(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(g,a),!(2&~u)&&(g.staticContentQueries=!0)}return kO(g,Bt(),u)}(a,l,u,f)}function ZF(a,l,u){!function t4(a,l,u){const f=Bi();return f.firstCreatePass&&(i4(f,new ZB(a,l,u),-1),!(2&~l)&&(f.staticViewQueries=!0)),kO(f,Bt(),l)}(a,l,u)}function e2(a){const l=Bt(),u=Bi(),f=Wu();Fn(f+1);const g=VO(u,f);if(a.dirty&&function xC(a){return!(4&~a[qe])}(l)===!(2&~g.metadata.flags)){if(null===g.matches)a.reset([]);else{const v=r4(l,f);a.reset(v,Ju),a.notifyOnChanges()}return!0}return!1}function YD(){return function WR(a,l){return a[Sn].queries[l].queryList}(Bt(),Wu())}function XD(a){return wc(function ep(){return ci.lFrame.contextLView}(),$e+a)}function Q_(a,l=""){const u=Bt(),f=Bi(),g=a+$e,v=f.firstCreatePass?wp(f,g,1,l,null):f.data[g],E=u2(f,u,v,l,a);u[g]=E,zu()&&nb(f,u,E,v),fs(v,!1)}let u2=(a,l,u,f,g)=>(Dr(!0),function GN(a,l){return a.createText(l)}(l[_e],f));function d2(a){return z0("",a,""),d2}function z0(a,l,u){const f=Bt(),g=xm(f,a,l,u);return g!==Li&&Ep(f,Rr(),g),z0}function ew(a,l,u,f,g){const v=Bt(),E=Mb(v,a,l,u,f,g);return E!==Li&&Ep(v,Rr(),E),ew}function ex(a,l,u,f,g){if(a=fi(a),Array.isArray(a))for(let v=0;v<a.length;v++)ex(a[v],l,u,f,g);else{const v=Bi(),E=Bt(),R=vr();let P=xh(a)?a:fi(a.provide);const B=qA(a),q=1048575&R.providerIndexes,ae=R.directiveStart,Ne=R.providerIndexes>>20;if(xh(a)||!a.multi){const je=new rs(B,g,hm),at=j0(P,l,g?q:q+Ne,ae);-1===at?(Rc(Zs(R,E),v,P),tx(v,a,l.length),l.push(P),R.directiveStart++,R.directiveEnd++,g&&(R.providerIndexes+=1048576),u.push(je),E.push(je)):(u[at]=je,E[at]=je)}else{const je=j0(P,l,q+Ne,ae),at=j0(P,l,q,q+Ne),tn=at>=0&&u[at];if(g&&!tn||!g&&!(je>=0&&u[je])){Rc(Zs(R,E),v,P);const _n=function uee(a,l,u,f,g){const v=new rs(a,u,hm);return v.multi=[],v.index=l,v.componentProviders=0,v2(v,g,f&&!u),v}(g?cee:lee,u.length,g,f,B);!g&&tn&&(u[at].providerFactory=_n),tx(v,a,l.length,0),l.push(P),R.directiveStart++,R.directiveEnd++,g&&(R.providerIndexes+=1048576),u.push(_n),E.push(_n)}else tx(v,a,je>-1?je:at,v2(u[g?at:je],B,!g&&f));!g&&f&&tn&&u[at].componentProviders++}}}function tx(a,l,u,f){const g=xh(l),v=function yS(a){return!!a.useClass}(l);if(g||v){const P=(v?fi(l.useClass):l).prototype.ngOnDestroy;if(P){const B=a.destroyHooks||(a.destroyHooks=[]);if(!g&&l.multi){const q=B.indexOf(u);-1===q?B.push(u,[f,P]):B[q+1].push(f,P)}else B.push(u,P)}}}function v2(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function j0(a,l,u,f){for(let g=u;g<f;g++)if(l[g]===a)return g;return-1}function lee(a,l,u,f){return _2(this.multi,[])}function cee(a,l,u,f){const g=this.multi;let v;if(this.providerFactory){const E=this.providerFactory.componentProviders,R=ul(u,u[Ee],this.providerFactory.index,f);v=R.slice(0,E),_2(g,v);for(let P=E;P<R.length;P++)v.push(R[P])}else v=[],_2(g,v);return v}function _2(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function pU(a,l=[]){return u=>{u.providersResolver=(f,g)=>function aee(a,l,u){const f=Bi();if(f.firstCreatePass){const g=vn(a);ex(u,f.data,f.blueprint,g,!0),ex(l,f.data,f.blueprint,g,!1)}}(f,g?g(a):a,l)}}let dee=(()=>{class a{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u)){const f=Dg(0,u.type),g=f.length>0?KR([f],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u,g)}return this.cachedInjectors.get(u)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=wr({token:a,providedIn:"environment",factory:()=>new a(us(fc))})}}return a})();function y2(a){Ua("NgStandalone"),a.getStandaloneInjector=l=>l.get(dee).getOrCreateStandaloneInjector(a)}function b2(a,l,u,f,g,v){const E=l+u;return ro(a,E,g)?function Qd(a,l,u){return a[l]=u}(a,E+1,v?f.call(v,g):f(g)):function Lm(a,l){const u=a[l];return u===Li?void 0:u}(a,E+1)}function yU(a,l){const u=Bi();let f;const g=a+$e;u.firstCreatePass?(f=function wee(a,l){if(l)for(let u=l.length-1;u>=0;u--){const f=l[u];if(a===f.name)return f}}(l,u.pipeRegistry),u.data[g]=f,f.onDestroy&&(u.destroyHooks??=[]).push(g,f.onDestroy)):f=u.data[g];const v=f.factory||(f.factory=dc(f.type)),R=js(hm);try{const P=ri(!1),B=v();return ri(P),function t2(a,l,u,f){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=f}(u,Bt(),g,B),B}finally{js(R)}}function nx(a,l,u){const f=a+$e,g=Bt(),v=wc(g,f);return function K0(a,l){return a[Ee].data[l].pure}(g,f)?b2(g,function qo(){const a=ci.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}(),l,v.transform,u,v):v.transform(u)}function SU(a,l){return D_(a,l)}class H2{constructor(l){this.full=l;const u=l.split(".");this.major=u[0],this.minor=u[1],this.patch=u.slice(2).join(".")}}const FU=new H2("17.3.12");let U2=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}static{this.\u0275fac=function(f){return new(f||a)}}static{this.\u0275prov=wr({token:a,factory:a.\u0275fac,providedIn:"platform"})}}return a})();const Z0=new Vi(""),dx=new Vi("");let eI,hx=(()=>{class a{constructor(u,f,g){this._ngZone=u,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,eI||(function px(a){eI=a}(g),g.addToWindow(f)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb()}});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(u)||(clearTimeout(f.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,f,g){let v=-1;f&&f>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==v),u()},f)),this._callbacks.push({doneCb:u,timeoutId:v,updateCb:g})}whenStable(u,f,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,f,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,f,g){return[]}static{this.\u0275fac=function(f){return new(f||a)(us(Lo),us(fx),us(dx))}}static{this.\u0275prov=wr({token:a,factory:a.\u0275fac})}}return a})(),fx=(()=>{class a{constructor(){this._applications=new Map}registerApplication(u,f){this._applications.set(u,f)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,f=!0){return eI?.findTestabilityInTree(this,u,f)??null}static{this.\u0275fac=function(f){return new(f||a)}}static{this.\u0275prov=wr({token:a,factory:a.\u0275fac,providedIn:"platform"})}}return a})();function j2(a){return!!a&&"function"==typeof a.then}function tI(a){return!!a&&"function"==typeof a.subscribe}const ey=new Vi("");let Gm=(()=>{class a{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,f)=>{this.resolve=u,this.reject=f}),this.appInits=wi(ey,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const g of this.appInits){const v=g();if(j2(v))u.push(v);else if(tI(v)){const E=new Promise((R,P)=>{v.subscribe({complete:R,error:P})});u.push(E)}}const f=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{f()}).catch(g=>{this.reject(g)}),0===u.length&&f(),this.initialized=!0}static{this.\u0275fac=function(f){return new(f||a)}}static{this.\u0275prov=wr({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const ty=new Vi("");let Lp=(()=>{class a{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=wi(fl),this.afterRenderEffectManager=wi(k_),this.externalTestViews=new Set,this.beforeRender=new Ch.B,this.afterTick=new Ch.B,this.componentTypes=[],this.components=[],this.isStable=wi(Tm).hasPendingTasks.pipe((0,sC.T)(u=>!u)),this._injector=wi(fc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,f){const g=u instanceof FB;if(!this._injector.get(Gm).done)throw!g&&il(u),new Vn(405,!1);let E;E=g?u:this._injector.get(Cm).resolveComponentFactory(u),this.componentTypes.push(E.componentType);const R=function gx(a){return a.isBoundToModule}(E)?void 0:this._injector.get(Ip),B=E.create(yo.NULL,[],f||E.selector,R),q=B.location.nativeElement,ae=B.injector.get(Z0,null);return ae?.registerApplication(q),B.onDestroy(()=>{this.detachView(B.hostView),vx(this.components,B),ae?.unregisterApplication(q)}),this._loadComponent(B),B}tick(){this._tick(!0)}_tick(u){if(this._runningTick)throw new Vn(101,!1);const f=He(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(u)}catch(g){this.internalErrorHandler(g)}finally{this.afterTick.next(),this._runningTick=!1,He(f)}}detectChangesInAttachedViews(u){let f=0;const g=this.afterRenderEffectManager;for(;;){if(f===CB)throw new Vn(103,!1);if(u){const v=0===f;this.beforeRender.next(v);for(let{_lView:E,notifyErrorHandler:R}of this._views)Bee(E,v,R)}if(f++,g.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:v})=>q2(v))&&(g.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:v})=>q2(v))))break}}attachView(u){const f=u;this._views.push(f),f.attachToAppRef(this)}detachView(u){const f=u;vx(this._views,f),f.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const f=this._injector.get(ty,[]);[...this._bootstrapListeners,...f].forEach(g=>g(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>vx(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Vn(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(f){return new(f||a)}}static{this.\u0275prov=wr({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function vx(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}function Bee(a,l,u){!l&&!q2(a)||function Hee(a,l,u){let f;u?(f=0,a[qe]|=1024):f=64&a[qe]?0:1,DR(a,l,f)}(a,u,l)}function q2(a){return Qf(a)}class Uee{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let Wee=(()=>{class a{compileModuleSync(u){return new $O(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const f=this.compileModuleSync(u),v=Cu(jo(u).declarations).reduce((E,R)=>{const P=zi(R);return P&&E.push(new g0(P)),E},[]);return new Uee(f,v)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}static{this.\u0275fac=function(f){return new(f||a)}}static{this.\u0275prov=wr({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),bx=(()=>{class a{constructor(){this.zone=wi(Lo),this.applicationRef=wi(Lp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(f){return new(f||a)}}static{this.\u0275prov=wr({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function ZU(a){return[{provide:Lo,useFactory:a},{provide:jf,multi:!0,useFactory:()=>{const l=wi(bx,{optional:!0});return()=>l.initialize()}},{provide:jf,multi:!0,useFactory:()=>{const l=wi(Y2);return()=>{l.initialize()}}},{provide:fl,useFactory:jee}]}function jee(){const a=wi(Lo),l=wi(to);return u=>a.runOutsideAngular(()=>l.handleError(u))}function cw(a){return Kv([[],ZU(()=>new Lo(function uw(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:a?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:a?.runCoalescing??!1}}(a)))])}let Y2=(()=>{class a{constructor(){this.subscription=new kv.yU,this.initialized=!1,this.zone=wi(Lo),this.pendingTasks=wi(Tm)}initialize(){if(this.initialized)return;this.initialized=!0;let u=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(u=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Lo.assertNotInAngularZone(),queueMicrotask(()=>{null!==u&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(u),u=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Lo.assertInAngularZone(),u??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(f){return new(f||a)}}static{this.\u0275prov=wr({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const wx=new Vi("",{providedIn:"root",factory:()=>wi(wx,Wi.Optional|Wi.SkipSelf)||function X2(){return typeof $localize<"u"&&$localize.locale||te}()}),e6=new Vi("",{providedIn:"root",factory:()=>"USD"}),Ex=new Vi("");let kp=null;let Ax=(()=>{class a{static{this.__NG_ELEMENT_ID__=tL}}return a})();function tL(a){return function r6(a,l,u){if(jn(a)&&!u){const f=$o(a.index,l);return new JS(f,f)}return 47&a.type?new JS(l[nt],l):null}(vr(),Bt(),!(16&~a))}class oL{constructor(){}supports(l){return Am(l)}create(l){return new u6(l)}}const c6=(a,l)=>l;class u6{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||c6}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,f=this._removalsHead,g=0,v=null;for(;u||f;){const E=!f||u&&u.currentIndex<aI(f,g,v)?u:f,R=aI(E,g,v),P=E.currentIndex;if(E===f)g--,f=f._nextRemoved;else if(u=u._next,null==E.previousIndex)g++;else{v||(v=[]);const B=R-g,q=P-g;if(B!=q){for(let Ne=0;Ne<B;Ne++){const je=Ne<v.length?v[Ne]:v[Ne]=0,at=je+Ne;q<=at&&at<B&&(v[Ne]=je+1)}v[E.previousIndex]=q-B}}R!==P&&l(E,R,P)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!Am(l))throw new Vn(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let g,v,E,u=this._itHead,f=!1;if(Array.isArray(l)){this.length=l.length;for(let R=0;R<this.length;R++)v=l[R],E=this._trackByFn(R,v),null!==u&&Object.is(u.trackById,E)?(f&&(u=this._verifyReinsertion(u,v,E,R)),Object.is(u.item,v)||this._addIdentityChange(u,v)):(u=this._mismatch(u,v,E,R),f=!0),u=u._next}else g=0,function YO(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[Symbol.iterator]();let f;for(;!(f=u.next()).done;)l(f.value)}}(l,R=>{E=this._trackByFn(g,R),null!==u&&Object.is(u.trackById,E)?(f&&(u=this._verifyReinsertion(u,R,E,g)),Object.is(u.item,R)||this._addIdentityChange(u,R)):(u=this._mismatch(u,R,E,g),f=!0),u=u._next,g++}),this.length=g;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,f,g){let v;return null===l?v=this._itTail:(v=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,v,g)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(f,g))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,v,g)):l=this._addAfter(new ete(u,f),v,g),l}_verifyReinsertion(l,u,f,g){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==v?l=this._reinsertAfter(v,l._prev,g):l.currentIndex!=g&&(l.currentIndex=g,this._addToMoves(l,g)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const g=l._prevRemoved,v=l._nextRemoved;return null===g?this._removalsHead=v:g._nextRemoved=v,null===v?this._removalsTail=g:v._prevRemoved=g,this._insertAfter(l,u,f),this._addToMoves(l,f),l}_moveAfter(l,u,f){return this._unlink(l),this._insertAfter(l,u,f),this._addToMoves(l,f),l}_addAfter(l,u,f){return this._insertAfter(l,u,f),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,f){const g=null===u?this._itHead:u._next;return l._next=g,l._prev=u,null===g?this._itTail=l:g._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new Bm),this._linkedRecords.put(l),l.currentIndex=f,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,f=l._next;return null===u?this._itHead=f:u._next=f,null===f?this._itTail=u:f._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bm),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class ete{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aL{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===u||u<=f.currentIndex)&&Object.is(f.trackById,l))return f;return null}remove(l){const u=l._prevDup,f=l._nextDup;return null===u?this._head=f:u._nextDup=f,null===f?this._tail=u:f._prevDup=u,null===this._head}}class Bm{constructor(){this.map=new Map}put(l){const u=l.trackById;let f=this.map.get(u);f||(f=new aL,this.map.set(u,f)),f.add(l)}get(l,u){const g=this.map.get(l);return g?g.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function aI(a,l,u){const f=a.previousIndex;if(null===f)return f;let g=0;return u&&f<u.length&&(g=u[f]),f+l+g}class fw{constructor(){}supports(l){return l instanceof Map||G_(l)}create(){return new xx}}class xx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||G_(l)))throw new Vn(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(f,g)=>{if(u&&u.key===g)this._maybeAddToChanges(u,f),this._appendAfter=u,u=u._next;else{const v=this._getOrCreateRecordForKey(g,f);u=this._insertBeforeOrAppend(u,v)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let f=u;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const f=l._prev;return u._next=l,u._prev=f,l._prev=u,f&&(f._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const g=this._records.get(l);this._maybeAddToChanges(g,u);const v=g._prev,E=g._next;return v&&(v._next=E),E&&(E._prev=v),g._next=null,g._prev=null,g}const f=new lI(l);return this._records.set(l,f),f.currentValue=u,this._addToAdditions(f),f}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(f=>u(l[f],f))}}class lI{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ff(){return new Hm([new oL])}let Hm=(()=>{class a{static{this.\u0275prov=wr({token:a,providedIn:"root",factory:ff})}constructor(u){this.factories=u}static create(u,f){if(null!=f){const g=f.factories.slice();u=u.concat(g)}return new a(u)}static extend(u){return{provide:a,useFactory:f=>a.create(u,f||ff()),deps:[[a,new Ag,new ni]]}}find(u){const f=this.factories.find(g=>g.supports(u));if(null!=f)return f;throw new Vn(901,!1)}}return a})();function cI(){return new pw([new fw])}let pw=(()=>{class a{static{this.\u0275prov=wr({token:a,providedIn:"root",factory:cI})}constructor(u){this.factories=u}static create(u,f){if(f){const g=f.factories.slice();u=u.concat(g)}return new a(u)}static extend(u){return{provide:a,useFactory:f=>a.create(u,f||cI()),deps:[[a,new Ag,new ni]]}}find(u){const f=this.factories.find(g=>g.supports(u));if(f)return f;throw new Vn(901,!1)}}return a})();function nh(a){try{const{rootComponent:l,appProviders:u,platformProviders:f}=a,g=function Tx(a=[]){if(kp)return kp;const l=function Sx(a=[],l){return yo.create({name:l,providers:[{provide:Xv,useValue:"platform"},{provide:Ex,useValue:new Set([()=>kp=null])},...a]})}(a);return kp=l,function nI(){!function Hn(a){cn=a}(()=>{throw new Vn(600,!1)})}(),function rI(a){a.get(T,null)?.forEach(u=>u())}(l),l}(f),v=[cw(),...u||[]],R=new Tp({providers:v,parent:g,debugName:"",runEnvironmentInitializers:!1}).injector,P=R.get(Lo);return P.run(()=>{R.resolveInjectorInitializers();const B=R.get(to,null);let q;P.runOutsideAngular(()=>{q=P.onError.subscribe({next:je=>{B.handleError(je)}})});const ae=()=>R.destroy(),Ne=g.get(Ex);return Ne.add(ae),R.onDestroy(()=>{q.unsubscribe(),Ne.delete(ae)}),function lw(a,l,u){try{const f=u();return j2(f)?f.catch(g=>{throw l.runOutsideAngular(()=>a.handleError(g)),g}):f}catch(f){throw l.runOutsideAngular(()=>a.handleError(f)),f}}(B,P,()=>{const je=R.get(Gm);return je.runInitializers(),je.donePromise.then(()=>{!function PF(a){"string"==typeof a&&(xF=a.toLowerCase().replace(/_/g,"-"))}(R.get(wx,te)||te);const Ht=R.get(Lp);return void 0!==l&&Ht.bootstrap(l),Ht})})})}catch(l){return Promise.reject(l)}}function vl(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}function Bx(a,l=NaN){return isNaN(parseFloat(a))||isNaN(Number(a))?l:Number(a)}function bn(a){const l=He(null);try{return a()}finally{He(l)}}const Y=new Vi("",{providedIn:"root",factory:()=>wi(lr)});let lr=(()=>{class a{static{this.\u0275prov=wr({token:a,providedIn:"root",factory:()=>new IL})}}return a})();class IL{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=wi(Tm),this.taskId=null}scheduleEffect(l){if(this.enqueue(l),null===this.taskId){const u=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(u),this.taskId=null})}}enqueue(l){const u=l.creationZone;this.queues.has(u)||this.queues.set(u,new Set);const f=this.queues.get(u);f.has(l)||(this.queuedEffectCount++,f.add(l))}flush(){for(;this.queuedEffectCount>0;)for(const[l,u]of this.queues)null===l?this.flushQueue(u):l.run(()=>this.flushQueue(u))}flushQueue(l){for(const u of l)l.delete(u),this.queuedEffectCount--,u.run()}}class Eu{constructor(l,u,f,g,v,E){this.scheduler=l,this.effectFn=u,this.creationZone=f,this.injector=v,this.watcher=function Jc(a,l,u){const f=Object.create(Nf);u&&(f.consumerAllowSignalWrites=!0),f.fn=a,f.schedule=l;const g=P=>{f.cleanupFn=P};return f.ref={notify:()=>st(f),run:()=>{if(null===f.fn)return;if(function gn(){return sn}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(f.dirty=!1,f.hasRun&&!vt(f))return;f.hasRun=!0;const P=Ae(f);try{f.cleanupFn(),f.cleanupFn=uc,f.fn(g)}finally{Xe(f,P)}},cleanup:()=>f.cleanupFn(),destroy:()=>function E(P){(function v(P){return null===P.fn&&null===P.schedule})(P)||(ut(P),P.cleanupFn(),P.fn=null,P.schedule=null,P.cleanupFn=uc)}(f),[mn]:f},f.ref}(R=>this.runEffect(R),()=>this.schedule(),E),this.unregisterOnDestroy=g?.onDestroy(()=>this.destroy())}runEffect(l){try{this.effectFn(l)}catch(u){this.injector.get(to,null,{optional:!0})?.handleError(u)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function Up(a,l){Ua("NgSignals"),!l?.injector&&I();const u=l?.injector??wi(yo),f=!0!==l?.manualCleanup?u.get(yr):null,g=new Eu(u.get(Y),a,typeof Zone>"u"?null:Zone.current,f,u,l?.allowSignalWrites??!1),v=u.get(Ax,null,{optional:!0});return v&&8&v._lView[qe]?(v._lView[Ge]??=[]).push(g.watcher.notify):g.watcher.notify(),g}},467:(is,yi,Kt)=>{"use strict";function h(wn,sn,En,mn,He,ln,gn){try{var _t=wn[ln](gn),Be=_t.value}catch(Ct){return void En(Ct)}_t.done?sn(Be):Promise.resolve(Be).then(mn,He)}function Jn(wn){return function(){var sn=this,En=arguments;return new Promise(function(mn,He){var ln=wn.apply(sn,En);function gn(Be){h(ln,mn,He,gn,_t,"next",Be)}function _t(Be){h(ln,mn,He,gn,_t,"throw",Be)}gn(void 0)})}}Kt.d(yi,{A:()=>Jn})},2284:(is,yi,Kt)=>{"use strict";function h(Jn){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(wn){return typeof wn}:function(wn){return wn&&"function"==typeof Symbol&&wn.constructor===Symbol&&wn!==Symbol.prototype?"symbol":typeof wn})(Jn)}Kt.d(yi,{A:()=>h})}},is=>{is(is.s=3646)}]);